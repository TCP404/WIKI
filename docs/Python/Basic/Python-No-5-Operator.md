# 操作符
## 算术运算符
以下假设变量a为10，变量b为21：

| 运算符 |       | 描述                                   | 实例                  |
| :----- | :---- | :------------------------------------ | :-------------------- |
| +      | 加     | 两个对象相加                            | 	a + b 输出结果 31   |
| -      | 减     | 得到负数或是一个数减去另一个数            | 	a - b 输出结果 -11  |
| *      | 乘     | 两个数相乘或是返回一个被重复若干次的字符串 | 	a * b 输出结果 210 |
| /      | 除     | x 除以 y                               | 	b / a 输出结果 2.1 |
| %      | 取模   | 返回除法的余数                         | 	b % a 输出结果 1      |
| **     | 幂     | 返回x的y次幂                           | 	a**b 为10的21次方      |
| //     | 取整除 | 向下取接近商的整数                      | -9//2输出结果为-5      |

## 比较运算符
以下假设变量a为10，变量b为20：

| 运算符 |         | 描述                 | 实例                      |
| :----- | :------ | :------------------- | :----------------------- |
| ==     | 等于     | 比较对象是否相等      | 	(a == b) 返回 False。     |
| !=     | 不等于   | 比较两个对象是否不相等 | 	(a != b) 返回 True。      |
| >      | 大于     | 返回x是否大于y        | (a > b) 返回 False。      |
| <      | 小于     | 返回x是否小于y        | (a < b) 返回 True。       |
| >=     | 大于等于 | 返回x是否大于等于y。   | 	(a >= b) 返回 False。 |
| <=     | 小于等于 | 返回x是否小于等于y。   | 	(a <= b) 返回 True。  |

!!! note ""
    所有比较运算符返回1表示真，返回0表示假。

    这分别与特殊的变量True和False等价。注意，这些变量名的大写。

## 赋值运算符
以下假设变量a为10，变量b为20：

| 运算符 | 描述                                 | 实例                                    |
| :----- | :---------------------------------- | :------------------------------------- |
| =      | 简单的赋值运算符                      | 	c = a + b 将 a + b 的运算结果赋值为 c |
| +=     | 加法赋值运算符                       | 	c += a 等效于 c = c + a              |
| -=     | 减法赋值运算符                       | 	c -= a 等效于 c = c - a              |
| \*=    | 乘法赋值运算符                       | 	c \*= a 等效于 c = c \* a           |
| /=     | 除法赋值运算符                       | 	c /= a 等效于 c = c / a             |
| %=     | 取模赋值运算符                       | 	c %= a 等效于 c = c % a              |
| **=    | 幂赋值运算符                         | 	c \*\*= a 等效于 c = c \*\* a       |
| //=    | 取整除赋值运算符                      | 	c //= a 等效于 c = c // a            |
| :=     | 海象运算符，可在表达式内部为变量赋值。 |                                        |

## 海象运算符/成为运算符/命名表达式运算符

=== "例1"

    ```python3
    age = 20
    if age> 18:
        print('Adult')

    # 使用海象
    if (age := 20) > 18:
        print('Adult')
    ```

=== "例2"

    ```python
    L = [1, 2, 3]
    n = len(L)
    if n > 2:
        print('Length of L is', len(L))

    # 使用海象
    L = [1, 2, 3]
    if (n := len(L)) > 2:
        print('Length of L is', n)
    ```

可以理解为 `len(L)` 的返回值赋值给`n`，然后判断 `n>2`
这样做的好处可以提升运行效率

因为在需要多次调用函数这种会降低运行效率的时候
我们通常会减少相同的函数调用，将函数调用后的返回值保存在一个变量里
然后 频繁调用函数 换成 频繁使用这个变量

但是这样就需要多一行保存返回值的表达式
而 `海象运算符` 或者说 `成为运算符` 则兼顾了两者，即使用了变量保存返回值，又不用多一行代码。

```python3
n = 0
while n < 3:
   print(n) # 0,1,2
   n += 1
   
# 当转换为海象运算符时

w = 0
while (w := w + 1) < 3:
   print(w) # 1,2
```

```python3
while True:
   p = input("Enter the password: ")
   if p == "the password":
      break 

# 当转换为海象运算符时
while (p := input("Enter the password: ")) != "the password":
   continue
```

## 位运算符
按位运算符是把数字看作二进制来进行计算的。Python中的按位运算法则如下：
下表中变量 a 为 60，b 为 13二进制格式如下：

```python
a = 0011 1100    # 60

b = 0000 1101    # 13

-----------------

a&b = 0000 1100    # 12

a|b = 0011 1101    # 61

a^b = 0011 0001    # 49

~a  = 1100 0011    # 195
```

| 运算符 | 描述                                                                | 实例                                                                     |
| :----- | :----------------------------------------------------------------- | :----------------------------------------------------------------------- |
| &      | 按位与运算符：参与运算的两个值,如果两个相应位都为1,则该位的结果为1,否则为0 | (a & b) 输出结果 12 ，二进制解释： 0000 1100                               |
| \|     | 按位或运算符：只要对应的二个二进位有一个为1时，结果位就为1。              | (a\| b) 输出结果 61 ，二进制解释： 0011 1101                               |
| ^      | 按位异或运算符：当两对应的二进位相异时，结果为1                          | (a ^ b) 输出结果 49 ，二进制解释： 0011 0001                               |
| ~      | 按位取反运算符：对数据的每个二进制位取反,即把1变为0,把0变为1              | (~a ) 输出结果 -61 ，二进制解释： 1100 0011， 在一个有符号二进制数的补码形式。 |
| <<     | 左移动运算符：运算数的各二进位全部左移N位.高位丢弃，低位补0。             | a << 2 输出结果 240 ，二进制解释： 1111 0000                               |
| >>     | 右移动运算符：运算数的各二进位全部右移N位，                              | a >> 2 输出结果 15 ，二进制解释： 0000 1111                                |


- `a << 1` 等价于 `a * 2`
- `a << 2` 等价于 `a * 2 * 2`
- `a >> 1` 等价于 `a / 2`
- `a >> 2` 等价于 `a / 2 / 2`
- `a ^= a` 等价于 `a = a ^ a` 等价于 置零 `a = 0`
- `a = a ^ (~a) + 1` 等价于置零 `a = 0`
- `~a` 为 a 的反码
- `~a + 1` 为 a 的补码
## 逻辑运算符
Python语言支持逻辑运算符，以下假设变量 a 为 10, b为 20:

| 运算符 | 表达式   | 描述                                                                | 实例                        |
| :---- | :------ | :------------------------------------------------------------------ | :------------------------- |
| and   | x and y | 布尔"与" - 如果 x 为 False，x and y 返回 False，否则它返回 y 的计算值。 | 	(a and b) 返回 20。     |
| or    | x or y  | 布尔"或" - 如果 x 是 True，它返回 x 的值，否则它返回 y 的计算值。        | 	(a or b) 返回 10。       |
| not   | not x   | 布尔"非" - 如果 x 为 True，返回 False 。如果 x 为 False，它返回 True。  | 	not(a and b) 返回 False |

## 成员运算符
除了以上的一些运算符之外，Python还支持成员运算符，测试实例中包含了一系列的成员，包括字符串，列表或元组。

| 运算符 | 描述                                                | 实例                                              |
| :----- | :------------------------------------------------- | :----------------------------------------------- |
| in     | 如果在指定的序列中找到值返回 True，否则返回 False。     | x 在 y 序列中 , 如果 x 在 y 序列中返回 True。       |
| not in | 如果在指定的序列中没有找到值返回 True，否则返回 False。 | 	x 不在 y 序列中 , 如果 x 不在 y 序列中返回 True。 |

## 身份运算符
身份运算符用于比较两个对象的存储单元

| 运算符 | 描述                                    | 实例                                                                                        |
| :----- | :-------------------------------------- | :------------------------------------------------------------------------------------------ |
| is     | is 是判断两个标识符是不是引用自一个对象     | x is y, 类似 id(x) == id(y) , 如果引用的**是同一个对象**则返回 True，否则返回 False             |
| is not | is not 是判断两个标识符是不是引用自不同对象 | x is not y ， 类似 id(a) != id(b)。如果引用的**不是同一个对象**则返回结果 True，否则返回 False。 |
| id()   | id() 函数用于获取对象内存地址              |                                                                                             |

```python
#id()

>>>a = 'runoob'
>>> id(a)
4531887632
>>> b = 1
>>> id(b)
140588731085608
```
## 三目运算符

!!! Abstract
    `#!py true if expression else flase`

    满足表达式时 if 表达式 else 不满足表达式时

```python
>>> a = 1
>>> b = 2
>>> h = a + b if a < b else a - b
>>> h
3
>>> q = (a + b) if (a < b) else (a - b)
>>> q
3
```

## 运算符优先级
以下表格列出了从最高到最低优先级的所有运算符：

| 运算符                            | 描述                 |
| :------------------------------- | :------------------- |
| **                               | 指数 (最高优先级)     |
| ~、+、-                           | 按位取反、正、负      |
| \*、/、%、//                      | 乘，除，求余数和取整除 |
| +、-                              | 加、减               |
| <<、>>                            | 左移、右移            |
| &                                | 按位与               |
| ^、\|                             | 按位异或、按位或      |
| <=、<、>、>=                      | 比较运算符            |
| ==、!=                            | 等于运算符            |
| =、%=、/=、//=、-=、+=、\*=、\*\*= | 赋值运算符            |
| is、is not                        | 身份运算符            |
| in、not in                        | 成员运算符            |
| and、or、not                      | 逻辑运算符            |