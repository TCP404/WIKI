# Linux

Linux 是一个多用户、多任务的操作系统，由发明者 Linus Torvalds 亲自维护。

- 版本号：A.B.C
    - A 为主版本号
    - B 为次版本号
    - C 为当前版本修订次数
    - 次版本号也就是 B 为 ==奇数== 时表示该版加入新内容，但不一定稳定，相当于 Beta 版
    - 次版本号也就是 B 为 ==偶数== 时表示该版本已经稳定，可以放心使用。
    - 使用 `uname -r` 可以查看版本号。

## 文件

Linux 中一切皆文件，即使是目录，那也是个文件。

Linux 中的文件由两部分组成： `inode` 和 `数据`。

- inode 又称 I 结点、索引节点，包含相关文件的信息的一个记录。这些信息包括文件全新啊、文件属主、文件大小、存放位置、建立日期等。Linux 的文件系统通过 inode 实现对文件的控制和管理。
- 数据，即文件的实际内容，可以是空的，也可以非常大，且有自己的结构。

文件名最长可达 255 个字符，没有扩展名。Linux 中文件的扩展名都是人为加上去以方便识别文件类型。

### 文件权限

文件权限分为：`读 (r)`、`写 (w)`、`执行 (x)`，对应着3种权值 4、2、1。

| 权限类型 | 缩写 | 权值 |
|---------|------|------|
| 读       | r    | 4    |
| 写       | w    | 2    |
| 执行     | x    | 1    |

同时，Linux 将用户分成3类：`文件的拥有者 (u)`、`拥有者所在组的其他用户 (g)`、`其他人 (o)`。

通过 `ls -l` 可以查看文件的权限信息：

```shell
$ ls -l
-rwxr-xr-x  1   boii  boii    50   6月 17 16:16   file
# 文件权限	链接数 文件主 文件组 文件大小 创建/更新时间	文件名
```

其中 `-rwxr-xr-x` 就是表示文件权限，不过最前面的 `-` 那一位的含义是文件类型；`rwxr-xr-x` 就表示文件权限。

将这个权限分成3段来看。

![](https://cdn.jsdelivr.net/gh/TCP404/Picgo/blog/illustration-pic/Linux/%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90-20210618213522.png)



上面表示的是 file 文件的拥有者可读可写可执行，拥有者所在的组的其他成员可读可执行不可写，其他所有不是同组的用户可读可执行不可写。



## 链接

Linux 系统中分为 `硬链接` 和 `软链接` 两种，使用 `ln` 命令

硬链接：

- 只能在同一文件系统中的文件之间进行

- 不能对目录进行创建

- 如果删除硬链接对应的源文件，则硬链接文件仍然存在，且保存了原有内容，可以起到防误删的作用

- 硬链接是有着相同 inode 仅文件名不同的另一个文件，删除一个硬链接文件不会影响其他相同 inode 的文件。

- ```shell
    link old new
    ln old new
    ```

    

软链接：

- 软链接是一个普通文件，可以在不同文件系统的文件之间进行

- 软链接有一个主次关系，源文件为主，软链接文件为次。删除软链接不会影响源文件，删除源文件则软链接成了死链接。

- 可以对目录进行创建

- 软链接有自己的 inode

- ```shell
    ln -s old_file soft_link
    ln -s old_dir  soft_link_dir
    ```




![](https://cdn.jsdelivr.net/gh/TCP404/Picgo/blog/illustration-pic/Linux/20210621234547.png)
