{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"#_1","title":"Home","text":"\\[ \\Large{e^{i\\pi} +1 = 0} \\]"},{"location":"example/","title":"Mkdocs Material\u4f7f\u7528\u8bb0\u5f55","text":"<p>Quote</p> <p>From: shafish-Mkdocs Material\u4f7f\u7528\u8bb0\u5f55</p>"},{"location":"example/#mkdocs-material","title":"Mkdocs Material\u4f7f\u7528\u8bb0\u5f55","text":"<p>Back</p>"},{"location":"example/#markdown","title":"\u4e00\u3001markdown\u4f7f\u7528","text":""},{"location":"example/#0","title":"0. \u7248\u672c\u4e0e\u5347\u7ea7","text":"<p>Tip</p> <p>\u7248\u672c\u5347\u7ea7\u987b\u77e5\uff1ahttps://squidfunk.github.io/mkdocs-material/upgrade/#upgrading-from-7x-to-8x</p> <pre><code># \u67e5\u770b\u5f53\u524d\u5b89\u88c5\u7684\u7248\u672c\u53f7\npip show mkdocs-material\n# \u5347\u7ea7\u5230\u6700\u65b0\u7248\u672c\npip install --upgrade mkdocs-material\n</code></pre>"},{"location":"example/#1","title":"1. \u663e\u793a\u672f\u8bed\u63d0\u793a","text":"<pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nmarkdown_extensions:\n  - abbr\n  - pymdownx.snippets\n</code></pre> ShowCode <p>The HTML specification is maintained by the W3C.</p> <pre><code>The HTML specification is maintained by the W3C.\n\n*[HTML]: Hyper Text Markup Language\n*[W3C]: World Wide Web Consortium\n</code></pre>"},{"location":"example/#2","title":"2. \u5f15\u5165\u72ec\u7acb\u7684\u672f\u8bed\u8868\uff08\u5ffd\u7565\uff09","text":"<p>Note</p> <p>\u663e\u793a\u6548\u679c\u8ddf\u4e0a\u9762\u793a\u4f8b1\u662f\u4e00\u6837\u7684\uff0c\u533a\u522b\u662f\u4f7f\u7528<code>--8&lt;--</code>\u53ef\u4ee5\u628a\u672f\u8bed\u7684\u8bf4\u660e \u72ec\u7acb\u5728\u53e6\u5916\u7684\u6587\u4ef6\uff0c\u4e0d\u5fc5\u8ddf\u672f\u8bed\u5728\u540c\u4e00\u6587\u4ef6\u4e2d\u3002</p> <pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nmarkdown_extensions:\n  - abbr\n  - pymdownx.snippets\n</code></pre> CodeCode <p>\u672f\u8bed\u6587\u4ef6\u4e2d\u5f15\u5165\u672f\u8bed\u8868\uff1a <code>--8&lt;-- \"includes/abbreviations.md\"</code> </p><pre><code>The HTML specification is maintained by the W3C.\n</code></pre><p></p> <p>\u672f\u8bed\u8868:<code>includes/abbreviations.md</code> </p><pre><code>*[HTML]: Hyper Text Markup Language\n*[W3C]: World Wide Web Consortium\n</code></pre><p></p>"},{"location":"example/#3","title":"3. \u63d0\u793a\u3001\u8b66\u544a\u680f","text":"<pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nmarkdown_extensions:\n  - admonition\n  - pymdownx.details\n  - pymdownx.superfences\n</code></pre> noteabstractinfotipsuccessquestionwarningfailuredangerbugexamplequote <p>Note</p> <p>\u9ed8\u8ba4note\u6807\u7b7e\u3002Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <p>Phasellus posuere in sem ut cursus</p> <p>\u81ea\u5b9a\u4e49\u6807\u9898\u7684note\u6807\u7b7e\u3002Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <p>\u6728\u6709\u6807\u9898\u7684note\u6807\u7b7e\u3002Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>!!! note\n\n    \u9ed8\u8ba4note\u6807\u7b7e\u3002Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod\n    nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor\n    massa, nec semper lorem quam in massa.\n\n!!! note \"Phasellus posuere in sem ut cursus\"\n\n    \u81ea\u5b9a\u4e49\u6807\u9898\u7684note\u6807\u7b7e\u3002Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod\n    nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor\n    massa, nec semper lorem quam in massa.\n\n!!! note \"\"\n\n    \u6728\u6709\u6807\u9898\u7684note\u6807\u7b7e\u3002Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod\n    nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor\n    massa, nec semper lorem quam in massa.\n</code></pre> <p>Abstract</p> <p>abstract, summary, tldr.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>!!! abstract\n\n    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.\n</code></pre> <p>Info</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>!!! info\n\n    info, todo.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.\n</code></pre> <p>Tip</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>!!! tip\n\n    tip, hint, important.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.\n</code></pre> <p>Success</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>!!! success\n\n    success, check, done.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.\n</code></pre> <p>Question</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>!!! question\n\n    question, help, faq.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.\n</code></pre> <p>Warning</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>!!! warning\n\n    warning, caution, attention.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.\n</code></pre> <p>Failure</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>!!! failure\n\n    failure, fail, missing.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.\n</code></pre> <p>Danger</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>!!! danger\n\n    danger, error.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.\n</code></pre> <p>Bug</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>!!! bug\n\n    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.\n</code></pre> <p>Example</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>!!! example\n\n    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.\n</code></pre> <p>Quote</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>!!! quote\n\n    quote, cite.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.\n</code></pre>"},{"location":"example/#4","title":"4. \u6309\u94ae","text":"<pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nmarkdown_extensions:\n  - attr_list\n</code></pre> \u666e\u901a\u6309\u94aeprimary \u6309\u94ae <p>Subscribe to our newsletter</p> <pre><code>[Subscribe to our newsletter](#){ .md-button }\n</code></pre> <p>Subscribe to our newsletter</p> <pre><code>[Subscribe to our newsletter](#){ .md-button .md-button--primary }\n</code></pre>"},{"location":"example/#5","title":"5. \u4ee3\u7801\u5757","text":"<pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nmarkdown_extensions:\n  - pymdownx.highlight:\n      anchor_linenums: true\n  - pymdownx.inlinehilite\n  - pymdownx.snippets\n  - pymdownx.superfences\ntheme:\n  features:\n    - content.code.copy\n    - content.code.annotate  \n</code></pre> \u6307\u5b9a\u6587\u4ef6\u540d\u663e\u793a\u884c\u6570\u6307\u5b9a\u67d0\u4e24\u884c\u9ad8\u4eae\u6307\u5b9a\u8fde\u7eed\u884c\u9ad8\u4eae\u53bb\u6389\u4ee3\u7801\u590d\u5236\u6309\u94ae\u70b9\u51fb\u663e\u793a\u4ee3\u7801\u6ce8\u89e3 bubble_sort.py<pre><code>def bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre> <pre><code>    ``` py title=\"bubble_sort.py\"\n    def bubble_sort(items):\n        for i in range(len(items)):\n            for j in range(len(items) - 1 - i):\n                if items[j] &gt; items[j + 1]:\n                    items[j], items[j + 1] = items[j + 1], items[j]\n    ```\n</code></pre> <pre><code>def bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre> <pre><code>    ``` py linenums=\"1\"\n    def bubble_sort(items):\n        for i in range(len(items)):\n            for j in range(len(items) - 1 - i):\n                if items[j] &gt; items[j + 1]:\n                    items[j], items[j + 1] = items[j + 1], items[j]\n    ```\n</code></pre> <pre><code>def bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre> <pre><code>    ``` py linenums=\"1\" hl_lines=\"2 4\"\n    def bubble_sort(items):\n        for i in range(len(items)):\n            for j in range(len(items) - 1 - i):\n                if items[j] &gt; items[j + 1]:\n                    items[j], items[j + 1] = items[j + 1], items[j]\n    ```\n</code></pre> <pre><code>def bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre> <pre><code>    ``` py linenums=\"1\" hl_lines=\"2-5\"\n    def bubble_sort(items):\n        for i in range(len(items)):\n            for j in range(len(items) - 1 - i):\n                if items[j] &gt; items[j + 1]:\n                    items[j], items[j + 1] = items[j + 1], items[j]\n    ```\n</code></pre> <pre><code>def bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre> <pre><code>    ``` { .python .no-copy }\n    def bubble_sort(items):\n        for i in range(len(items)):\n            for j in range(len(items) - 1 - i):\n                if items[j] &gt; items[j + 1]:\n                    items[j], items[j + 1] = items[j + 1], items[j]\n    ```\n</code></pre> <p>\u6ce8\u610f\u8981\u4f7f\u7528\u5bf9\u5e94\u8bed\u8a00\u7684\u6ce8\u89e3\u7b26\u53f7\u5bf9 <code>(num)</code>\u8fdb\u884c\u6ce8\u89e3\uff0c\u6bd4\u5982java\u7684//\u3001python\u7684#</p> <pre><code>Optional&lt;String&gt; message = Optional.ofNullable(record.value()); // (1)\nif (message.isPresent()) {\n    System.out.println(message.get());\n}\n</code></pre> <ol> <li> optional\u5224\u7a7a\u5904\u7406.</li> </ol> <pre><code>    ``` { .java .no-copy }\n    Optional&lt;String&gt; message = Optional.ofNullable(record.value()); // (1)\n    if (message.isPresent()) {\n        System.out.println(message.get());\n    }\n    ```\n\n    1.  :man_raising_hand: optional\u5224\u7a7a\u5904\u7406.\n</code></pre>"},{"location":"example/#6","title":"6. \u5185\u5bb9\u6807\u7b7e\u680f","text":"<pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nmarkdown_extensions:\n  - pymdownx.superfences\n  - pymdownx.tabbed:\n      alternate_style: true \n</code></pre> ShowCode CC++ <pre><code>#include &lt;stdio.h&gt;\n\nint main(void) {\nprintf(\"Hello world!\\n\");\nreturn 0;\n}\n</code></pre> <pre><code>#include &lt;iostream&gt;\n\nint main(void) {\nstd::cout &lt;&lt; \"Hello world!\" &lt;&lt; std::endl;\nreturn 0;\n}\n</code></pre> <pre><code>=== \"C\"\n\n    ``` c\n    #include &lt;stdio.h&gt;\n\n    int main(void) {\n    printf(\"Hello world!\\n\");\n    return 0;\n    }\n    ```\n\n=== \"C++\"\n\n    ``` c++\n    #include &lt;iostream&gt;\n\n    int main(void) {\n    std::cout &lt;&lt; \"Hello world!\" &lt;&lt; std::endl;\n    return 0;\n    }\n    ```\n</code></pre>"},{"location":"example/#7","title":"7. \u8868\u683c","text":"<pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nmarkdown_extensions:\n  - tables\n</code></pre> ShowCode Method Description <code>GET</code> Fetch resource <code>PUT</code> Update resource <code>DELETE</code> Delete resource <pre><code>|  Method  |   Description   |\n|:--------:|:---------------:|\n|  `GET`   | Fetch resource  |\n|  `PUT`   | Update resource |\n| `DELETE` | Delete resource |\n</code></pre>"},{"location":"example/#8","title":"8. \u6ce8\u811a","text":"<p>\u5728\u672c\u9875\u7684\u5e95\u90e8\u663e\u793a\u6ce8\u811a\u5185\u5bb9</p> <pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nmarkdown_extensions:\n  - footnotes\n</code></pre> ShowCode <p>Lorem ipsum<sup>1</sup> dolor sit amet, consectetur adipiscing elit.<sup>2</sup></p> <pre><code>Lorem ipsum[^1] dolor sit amet, consectetur adipiscing elit.[^2]\n\n[^1]: Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n[^2]: Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n</code></pre>"},{"location":"example/#9","title":"9. \u683c\u5f0f\u5316\u5904\u7406","text":"<pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nmarkdown_extensions:\n  - pymdownx.critic\n  - pymdownx.caret\n  - pymdownx.keys\n  - pymdownx.mark\n  - pymdownx.tilde\n</code></pre> \u5220\u9664\u7ebf\u3001\u4e0b\u5212\u7ebf\u3001\u6ce8\u91ca\u3001\u9ad8\u4eaeCode <p>Text can be deleted and replacement text added. This can also be combined into onea single operation. Highlighting is also possible and comments can be added inline.</p> <p>Formatting can also be applied to blocks by putting the opening and closing tags on separate lines and adding new lines between the tags and the content.</p> <ul> <li>H<sub>2</sub>0</li> <li>A<sup>T</sup>A</li> </ul> <p> </p><pre><code>- H~2~0\n- A^T^A\n</code></pre><p></p>"},{"location":"example/#10","title":"10. \u56fe\u6807","text":"<pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nmarkdown_extensions:\n  - pymdownx.emoji:\n      emoji_index: !!python/name:materialx.emoji.twemoji\n      emoji_generator: !!python/name:materialx.emoji.to_svg\n</code></pre> ShowCode <pre><code>:smile:  :dart:\n</code></pre> <p>\u652f\u6301\u4ee5\u4e0b\u56fe\u6807\uff1a</p> <ul> <li> \u2013 Material Design</li> <li> \u2013 FontAwesome</li> <li> \u2013 Octicons</li> <li>github markdown\uff1ahttps://github.com/zhangjw-THU/Emoji</li> <li>github commit\uff1ahttps://github.com/shafishcn/git-commit-emoji-cn</li> </ul>"},{"location":"example/#11","title":"11. \u56fe\u7247","text":"<pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nmarkdown_extensions:\n  - attr_list\n  - md_in_html\n</code></pre> markdown\u683c\u5f0f\u5c55\u793a\u56fe\u7247\u6dfb\u52a0\u56fe\u7247\u8bf4\u660e\u61d2\u52a0\u8f7d\u56fe\u7247 <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>![Image title](https://dummyimage.com/300x200/eee/aaa){ align=left }\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod\nnulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor\nmassa, nec semper lorem quam in massa.\n</code></pre> <p></p> Image \u8bf4\u660e <p></p> <pre><code>&lt;figure markdown&gt; \n    ![Image title](https://dummyimage.com/600x400/){ width=\"300\" }\n    &lt;figcaption&gt;Image \u8bf4\u660e&lt;/figcaption&gt;\n&lt;/figure&gt;\n</code></pre> <p></p> <pre><code>![Image title](https://dummyimage.com/600x400/){ loading=lazy }\n</code></pre>"},{"location":"example/#12","title":"12. \u5217\u8868","text":"<pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nmarkdown_extensions:\n  - def_list\n  - pymdownx.tasklist:\n      custom_checkbox: true\n</code></pre> \u65e0\u5e8f\u5217\u8868\u6709\u5e8f\u5217\u8868\u4f7f\u7528\u5b9a\u4e49\u5217\u8868\u4efb\u52a1\u5217\u8868 <ul> <li> <p>Nulla et rhoncus turpis. Mauris ultricies elementum leo. Duis efficitur accumsan nibh eu mattis. Vivamus tempus velit eros, porttitor placerat nibh lacinia sed. Aenean in finibus diam.</p> <ul> <li>Duis mollis est eget nibh volutpat, fermentum aliquet dui mollis.</li> <li>Nam vulputate tincidunt fringilla.</li> <li>Nullam dignissim ultrices urna non auctor.</li> </ul> </li> </ul> <pre><code>- Nulla et rhoncus turpis. Mauris ultricies elementum leo. Duis efficitur\naccumsan nibh eu mattis. Vivamus tempus velit eros, porttitor placerat nibh\nlacinia sed. Aenean in finibus diam.\n\n    * Duis mollis est eget nibh volutpat, fermentum aliquet dui mollis.\n    * Nam vulputate tincidunt fringilla.\n    * Nullam dignissim ultrices urna non auctor.\n</code></pre> <ol> <li> <p>Vivamus id mi enim. Integer id turpis sapien. Ut condimentum lobortis     sagittis. Aliquam purus tellus, faucibus eget urna at, iaculis venenatis     nulla. Vivamus a pharetra leo.</p> <ol> <li> <p>Vivamus venenatis porttitor tortor sit amet rutrum. Pellentesque aliquet     quam enim, eu volutpat urna rutrum a. Nam vehicula nunc mauris, a     ultricies libero efficitur sed.</p> </li> <li> <p>Morbi eget dapibus felis. Vivamus venenatis porttitor tortor sit amet     rutrum. Pellentesque aliquet quam enim, eu volutpat urna rutrum a.</p> <ol> <li>Mauris dictum mi lacus</li> <li>Ut sit amet placerat ante</li> <li>Suspendisse ac eros arcu</li> </ol> </li> </ol> </li> </ol> <pre><code>1.  Vivamus id mi enim. Integer id turpis sapien. Ut condimentum lobortis\n    sagittis. Aliquam purus tellus, faucibus eget urna at, iaculis venenatis\n    nulla. Vivamus a pharetra leo.\n\n    1.  Vivamus venenatis porttitor tortor sit amet rutrum. Pellentesque aliquet\n        quam enim, eu volutpat urna rutrum a. Nam vehicula nunc mauris, a\n        ultricies libero efficitur sed.\n\n    2.  Morbi eget dapibus felis. Vivamus venenatis porttitor tortor sit amet\n        rutrum. Pellentesque aliquet quam enim, eu volutpat urna rutrum a.\n\n        1.  Mauris dictum mi lacus\n        2.  Ut sit amet placerat ante\n        3.  Suspendisse ac eros arcu \n</code></pre> <code>Lorem ipsum dolor sit amet</code> <p>Sed sagittis eleifend rutrum. Donec vitae suscipit est. Nullam tempus tellus non sem sollicitudin, quis rutrum leo facilisis.</p> <code>Cras arcu libero</code> <p>Aliquam metus eros, pretium sed nulla venenatis, faucibus auctor ex. Proin ut eros sed sapien ullamcorper consequat. Nunc ligula ante.</p> <p>Duis mollis est eget nibh volutpat, fermentum aliquet dui mollis. Nam vulputate tincidunt fringilla. Nullam dignissim ultrices urna non auctor.</p> <pre><code>`Lorem ipsum dolor sit amet`\n\n:   Sed sagittis eleifend rutrum. Donec vitae suscipit est. Nullam tempus\n    tellus non sem sollicitudin, quis rutrum leo facilisis.\n\n`Cras arcu libero`\n\n:   Aliquam metus eros, pretium sed nulla venenatis, faucibus auctor ex. Proin\n    ut eros sed sapien ullamcorper consequat. Nunc ligula ante.\n\n    Duis mollis est eget nibh volutpat, fermentum aliquet dui mollis.\n    Nam vulputate tincidunt fringilla.\n    Nullam dignissim ultrices urna non auctor.\n</code></pre> <ul> <li> Lorem ipsum dolor sit amet, consectetur adipiscing elit</li> <li> Vestibulum convallis sit amet nisi a tincidunt<ul> <li> In hac habitasse platea dictumst</li> <li> In scelerisque nibh non dolor mollis congue sed et metus</li> <li> Praesent sed risus massa</li> </ul> </li> <li> Aenean pretium efficitur erat, donec pharetra, ligula non scelerisque</li> </ul> <pre><code>- [x] Lorem ipsum dolor sit amet, consectetur adipiscing elit\n- [ ] Vestibulum convallis sit amet nisi a tincidunt\n    * [x] In hac habitasse platea dictumst\n    * [x] In scelerisque nibh non dolor mollis congue sed et metus\n    * [ ] Praesent sed risus massa\n- [ ] Aenean pretium efficitur erat, donec pharetra, ligula non scelerisque\n</code></pre>"},{"location":"example/#13-mathjax","title":"13. MathJax","text":"<p>\u7565</p>"},{"location":"example/#14-blog","title":"14. blog","text":"<p>\u535a\u5ba2\u63d2\u4ef6\uff0c\u4f7f\u7ad9\u70b9blog\u5316\uff08\u6587\u7ae0\u6458\u8981\u3001\u5b58\u6863\u3001\u5206\u7c7b\u3001\u5206\u9875\u7b49\u529f\u80fd\uff09</p> \u4e00\u3001blog\u63d2\u4ef6\u5f15\u5165\uff1amkdocs.yml <p>\u5728 <code>mkdocs.yml</code> \u914d\u7f6e\u6587\u4ef6\u4e2d\u5f15\u5165 <code>blog</code> \u63d2\u4ef6\uff0c\u8be5\u63d2\u4ef6\u5df2\u5185\u7f6e\u4e8e <code>Material for MkDocs 9.2.0 +</code>\uff0c\u76f4\u63a5\u7528\u5c31\u884c\u3002 </p> <pre><code>plugins:\n    ...\n    - blog\n</code></pre> \u4e8c\u3001blog\u76ee\u5f55\u8bf4\u660e <p>\u5f15\u5165\u4e86blog\u63d2\u4ef6\u540e\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\u535a\u5ba2\u76ee\u5f55\uff0cmk\u4f1a\u81ea\u52a8\u521b\u5efa\u76ee\u5f55\uff1a </p><pre><code>\u251c\u2500 docs/\n\u2502  \u2514\u2500 blog/\n\u2502     \u251c\u2500 posts/\n\u2502     \u2514\u2500 index.md\n\u2514\u2500 mkdocs.yml\n</code></pre> \u4f46\u662f\u4f60\u4e5f\u53ef\u4ee5\u624b\u52a8\u6307\u5b9a\u535a\u5ba2\u76ee\u5f55\uff0c\u6bd4\u5982\uff1anewBlog\uff0c\u8be5\u76ee\u5f55\u4e0b\u5fc5\u987b\u5305\u542b <code>posts</code> \u76ee\u5f55\u4e0e <code>index.md</code>\u3002mk\u4f1a\u81ea\u52a8\u626b\u63cfposts\u76ee\u5f55\u4e0b\u7684.md\u6587\u4ef6\u4f5c\u4e3a\u535a\u5ba2\u89c6\u56fe\u5185\u5bb9\uff1bindex.md\u6587\u4ef6\u5219\u4f5c\u4e3a\u535a\u5ba2\u7684\u5165\u53e3\uff0c\u5217\u51fa\u6240\u6709\u7684\u535a\u6587\u3002<p></p> <p>\u6240\u4ee5\uff0c\u5982\u679c\u6307\u5b9a\u7279\u5b9a\u76ee\u5f55\u4f5c\u4e3a\u535a\u5ba2\u76ee\u5f55\uff0c\u8be5\u76ee\u5f55\u53ef\u5982\u4e0b\uff1a\uff08\u5982\u679c\u4f60\u4e5f\u8ddf\u6211\u4e00\u6837\uff0cdocs\u76ee\u5f55\u4e0b\u5df2\u7ecf\u5360\u7528\u4e86blog\u76ee\u5f55\uff0c\u8981\u5f04\u5b8c\u7b2c\u56db\u70b9\u7684 <code>blog_dir</code> \u914d\u7f6e\u624d\u80fd\u751f\u6548yo\uff09 </p><pre><code>\u251c\u2500 docs/\n\u2502  \u2514\u2500 ababababa/\n\u2502     \u2514\u2500 newBlog/\n\u2502         \u251c\u2500 posts/\n\u2502         \u2514\u2500 index.md\n\u2514\u2500 mkdocs.yml\n</code></pre><p></p> \u4e09\u3001blog\u5165\u53e3\u914d\u7f6e\uff1amkdocs.yml <p>\u914d\u7f6e\u8bbf\u95ee\u5165\u53e3\uff0c\u4e5f\u5c31\u662f\u5bfc\u822a\u680f <code>nav</code>\u3002 </p><pre><code>nav:\n    - Blog:\n        - ababababa/newBlog/index.md\n</code></pre> Blog\u53ef\u4ee5\u968f\u610f\u540d\u79f0\uff0c\u53e6\u5916\u6ce8\u610f <code>ababababa/newBlog/index.md</code> \u662f\u4ee5docs\u76f8\u5bf9\u5b9a\u4f4dder<p></p> \u56db\u3001blog\u914d\u7f6e\u5217\u8868\uff1amkdocs.yml <p>\u8fd9\u91cc\u6307\u5b9a <code>blog</code> \u63d2\u4ef6\u7684\u5404\u9879\u914d\u7f6e\uff0c\u6bd4\u5982\u8bf4\u535a\u6587\u7684 \u663e\u793a\u65f6\u95f4\u683c\u5f0f\u3001\u5206\u9875\u6570\u91cf\u3001\u5b58\u6863\u8def\u5f84\u7b49\u7b49\u3002</p> \u6307\u5b9a\u535a\u5ba2\u76ee\u5f55\u535a\u6587\u7684\u65e5\u671f\u683c\u5f0f\u8bbe\u7f6e\u535a\u6587\u7684\u8bbf\u95ee\u8def\u5f84\u8bbe\u7f6e\u662f\u5426\u5fc5\u987b\u8bbe\u7f6e\u6458\u8981\u6587\u7ae0\u6458\u8981\uff1a\u9ed8\u8ba4\u663e\u793a\u5173\u8054\u7684\u6807\u7b7e\u6570\u91cf\uff1a\u9ed8\u8ba45\u4e2a\u663e\u793a\u5173\u8054\u7684\u4f5c\u8005\u6570\u91cf\uff1a\u9ed8\u8ba41\u4e2a\u6587\u7ae0\u5f52\u6863\u540d\u79f0\u6587\u7ae0\u5f52\u6863\u65e5\u671f\u683c\u5f0f\uff1a\u9ed8\u8ba4yyyy\u8bbe\u7f6e\u5f52\u6863\u7684\u8bbf\u95ee\u8def\u5f84\u6587\u7ae0\u6807\u7b7e\u540d\u79f0\u8bbe\u7f6e\u6807\u7b7e\u7ba1\u7406\u9875\u7684\u8bbf\u95ee\u8def\u5f84\u89c4\u5b9a\u535a\u5ba2\u4f7f\u7528\u7684\u6807\u7b7e\u6587\u7ae0\u4f5c\u8005\u5217\u8868\u8bbe\u7f6e\u535a\u6587\u6bcf\u9875\u663e\u793a\u7684\u6587\u7ae0\u6570\uff1a\u9ed8\u8ba410\u6761\u9875\u7801\u663e\u793a\u683c\u5f0f\u662f\u5426\u5f00\u542f\u8349\u7a3f\u662f\u5426\u663e\u793a\u8349\u7a3f\uff1a\u9ed8\u8ba4\u663e\u793a\u5c06\u8349\u7a3f\u8f6c\u4e3a\u6b63\u5f0f\u6587\u7ae0 <p></p><pre><code>plugins:\n    - blog:\n        blog_dir: ababababa/newBlog\n</code></pre> \u4e0a\u9762\u662f\u6307\u5b9a\u535a\u5ba2\u76ee\u5f55\u7684\uff0c\u5982\u679c\u4f7f\u7528\u9ed8\u8ba4\u7684\u76ee\u5f55\uff08\u4e5f\u5c31\u662fdocs/blog\uff09\uff0c\u5c31\u662f\u4e0b\u9762\u8fd9\u6837\uff1a<p></p> <p></p><pre><code>plugins:\n    - blog:\n        blog_dir: blog\n</code></pre> \u5982\u679c\u53ea\u6253\u7b97\u7528blog\uff0c\u6ca1\u6709\u535a\u5ba2\u76ee\u5f55\u4e4b\u5916\u7684\u6587\u4ef6\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u8fd9\u6837\uff1a\uff08\u5efa\u65b0\u7684mkdocs\u5c31\u53ef\u4ee5\u7528\u8fd9\u4e2a\uff0c\u53ef\u60dcblog\u63d2\u4ef6\u51fa\u73b0\u665a\u4e86\uff09<p></p> <p></p><pre><code>plugins:\n    - blog:\n        blog_dir: .\n</code></pre> \u4e0d\u51fa\u610f\u5916\uff0c\u5f53\u4f60\u914d\u7f6e\u5b8c <code>blog_dir</code>\uff0c\u7b49serve\u81ea\u52a8\u5237\u65b0\u540e\uff0c\u518d\u8bbf\u95ee <code>http://127.0.0.1:8000/Blog/</code> \u5c31\u80fd\u770b\u5230\u535a\u5ba2\u5185\u5bb9\u4e86\u3002\uff08/Blog\u8def\u5f84\u6309\u7167 <code>mkdocs.yml</code> \u914d\u7f6e\u7684nav \u81ea\u884c\u8def\u7531\uff0c\u770b\u770b\u4f60\u81ea\u5df1nav\u914d\u4e86\u5565\u5c31\u7528\u5565\uff09<p></p> <p>\u8fd9\u65f6\u7684 <code>http://127.0.0.1:8000/Blog/</code> \u662f\u6ca1\u5565\u5185\u5bb9\u7684\uff0c\u56e0\u4e3a\u4f60\u8fd8\u6ca1\u5728 <code>ababababa/newBlog/posts</code> \u76ee\u5f55\u4e0b\u5199 <code>.md</code> \u535a\u6587\u5462\u3002\u4f60\u53ef\u4ee5\u770b\u4e0b\u4e0b\u9762\u7b2c\u4e94\u70b9\uff0c\u6216\u8005\u76f4\u63a5\u590d\u5236\u4e0b\u9762\u5185\u5bb9\u4f5c\u4e3a <code>ababababa/newBlog/posts/hello-world.md</code> \u5c1d\u5c1d\u9c9c\uff1a</p> ababababa/newBlog/posts/hello-world.md<pre><code>---\ndraft: true \ndate: 2024-01-31 \nhide:\n- navigation\n- toc\ncategories:\n- Hello\n- World\n---\n\n# Hello world!\n...    \n</code></pre> <p></p><pre><code># 2024\u5e741\u670831\u65e5\u661f\u671f\u4e09\nplugins:\n    - blog:\n        post_date_format: full\n</code></pre> <pre><code># 2024\u5e741\u670831\u65e5\nplugins:\n    - blog:\n        post_date_format: long\n</code></pre> <pre><code># 2024\u5e741\u670831\u65e5\nplugins:\n    - blog:\n        post_date_format: medium\n</code></pre> <pre><code># 2024/1/31\nplugins:\n    - blog:\n        post_date_format: short\n</code></pre> \u5982\u679c\u6ca1\u6709\u663e\u793a\u4e3a\u4e2d\u6587\u7684\u8bdd\uff0c\u770b\u770b\u4f60\u914d\u7f6e <code>language: zh</code> \u4e86\u6ca1\u3002<p></p> <p>slug \u662f\u6807\u9898\uff1bdate\u662f\u65e5\u671f\uff1bcategories\u662f\u6807\u7b7e\uff1bfile\u76f4\u63a5\u662f\u6587\u4ef6\u540d\u3002\u5982\u679c\u52a0\u4e0a\u65e5\u671f\u7684\u8bdd\uff0c\u6587\u7ae0\u7684\u8bbf\u95ee\u8def\u5f84\u5c31\u4f1a\u662f\u8fd9\u6837\uff1a<code>http://127.0.0.1:8000/xxxx/2024/01/31/\u6587\u7ae0\u6807\u9898/</code>\u3002\u5efa\u8bae\u76f4\u63a5 <code>slug</code> \u5c31\u884c\u3002</p> <pre><code>plugins:\n    - blog:\n        # post_url_format: \"{date}/{slug}\" # http://127.0.0.1:8000/xxxx/2024/01/31/hello-world/\n        # post_url_format: \"{categories}/{slug}\" # http://127.0.0.1:8000/xxxx/Hello/world/hello-world/\n        post_url_format: \"{slug}\"\n</code></pre> <p>slug\u4e5f\u5c31\u662f\u6587\u7ae0\u7684\u6807\u9898\uff0c\u9ed8\u8ba4\u662f\u4f7f\u7528 <code>-</code> \u62fc\u63a5\u591a\u4e2a\u8bcd\u7684\u3002\u6bd4\u5982\uff1a\u535a\u6587\u7684\u6807\u9898\u662f <code># hello world</code>\uff0c\u90a3\u4e48\u5b83\u7684{slug}\u5c31\u662f <code>hello-world</code>\uff0c\u5982\u679c\u4e0d\u60f3\u4f7f\u7528\u9ed8\u8ba4\uff0c\u4e5f\u53ef\u4ee5\u6307\u5b9a <code>post_slugify_separator: xxx</code> \u4fee\u6539\u3002</p> <p>categories\u4e5f\u5c31\u662f\u6587\u7ae0\u7684\u6807\u7b7e\uff0c\u9ed8\u8ba4\u662f\u4f7f\u7528\u7b2c\u4e00\u4e2a\u6807\u7b7e\u4f5c\u4e3a\u8def\u5f84\u7684\u3002\u6bd4\u5982\uff1a\u535a\u6587\u7684\u6807\u7b7e\u662f <code>Hello</code> \u548c <code>world</code> \u4e24\u4e2a\u6807\u7b7e\uff0c\u5982\u679c\u6b64\u65f6\u7684url\u683c\u5f0f\u662f\uff1a<code>post_url_format: \"{categories}/{slug}\"</code>\uff0c\u90a3\u4e48\u6b64\u65f6\u7684{categories}\u5c31\u662fHello\uff0c\u5982\u679c\u8981\u663e\u793a\u591a\u4e2a\u6807\u7b7e\u7684\u8bdd\uff0c\u53ef\u4ee5\u6307\u5b9a <code>post_url_max_categories: num</code>\u3002</p> <p>date\u4e5f\u5c31\u662f\u6587\u7ae0\u7684\u521b\u5efa\u65e5\u671f\uff0c\u9ed8\u8ba4\u662f <code>yyyy/MM/dd</code> \u7684\u683c\u5f0f\uff0c\u53ef\u4ee5\u6307\u5b9a <code>post_url_date_format: yyyy/MM</code> \u6216\u8005 <code>post_url_date_format: yyyy</code></p> <p>\u4e0d\u8bbe\u7f6e\u7684\u8bdd\uff0c\u4f1a\u9ed8\u8ba4\u5728\u535a\u5ba2\u9996\u9875\u663e\u793a\u6587\u7ae0\u6240\u6709\u5185\u5bb9\u54df</p> <pre><code>plugins:\n    - blog:\n        post_excerpt: required\n</code></pre> <p>\u622a\u53d6\u6587\u7ae0\u524d\u90e8\u5206\u5185\u5bb9\u4f5c\u4e3a\u663e\u793a\u6458\u8981\uff0c\u5728\u9002\u5408\u7684\u5730\u65b9\u6807\u4e0a\u6458\u8981\u7b26\u53f7\uff1a <code>&lt;!-- more --&gt;</code> \u5c31\u80fd\u628a\u4ece\u5f00\u5934\u5230\u6458\u8981\u7b26\u53f7\u7684\u8fd9\u90e8\u5206\u5185\u5bb9\u4f5c\u4e3a\u672c\u7bc7\u535a\u6587\u7684\u6458\u8981\u5185\u5bb9\u3002</p> <pre><code>plugins:\n    - blog:\n        post_excerpt_separator: &lt;!-- more --&gt;\n</code></pre> <p>\u8bbe\u7f6e\u6700\u591a\u53ea\u663e\u793a\u4e24\u4e2a\u6807\u7b7e</p> <pre><code>plugins:\n    - blog:\n        post_excerpt_max_categories: 2\n</code></pre> <p>\u8bbe\u7f6e\u6700\u591a\u53ea\u663e\u793a\u4e24\u4e2a\u4f5c\u8005</p> <pre><code>plugins:\n    - blog:\n        post_excerpt_max_authors: 2\n</code></pre> <pre><code>plugins:\n    - blog:\n        archive_name: shafish \u7684\u5f52\u6863\n</code></pre> <p>\u6309\u6708\u5f52\u6863\uff0c\u8fd8\u662f\u6309\u5e74\u5f52\u6863</p> <pre><code>plugins:\n    - blog:\n        archive_date_format: MMMM yyyy\n</code></pre> <p></p><pre><code>plugins:\n    - blog:\n        # archive_url_format: \"{date}\"\n        archive_url_format: \"archive/{date}\"\n</code></pre> \u5176\u4e2d\u7684 {date} \u53ef\u4ee5\u6307\u5b9a\u5e74\u6216\u8005\u6708 <code>archive_url_date_format: yyyy/MM</code><p></p> <pre><code>plugins:\n    - blog:\n        categories_name: shafish \u7684\u6807\u7b7e\n</code></pre> <p></p><pre><code>plugins:\n    - blog:\n        categories_url_format: \"category/{slug}\"\n</code></pre> \u5176\u4e2d\u7684 {slug} \u5c31\u662f\u6587\u7ae0\u7684\u6807\u7b7e\uff0c\u8ddf\u6587\u7ae0\u6807\u9898\u4e00\u6837\uff0c\u9ed8\u8ba4\u4f7f\u7528 <code>-</code> \u5206\u8bcd\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>categories_slugify_separator: xxx</code> \u7279\u522b\u6307\u5b9a\u3002<p></p> <p>\u4e0d\u5339\u914d\u5c31\u4e0d\u4f1a\u663e\u793a\u751f\u6548\uff0c\u6bd4\u5982\u89c4\u5b9a\u4e86\u53ea\u6709\u4e24\u4e2a <code>hello</code> <code>world</code> \u8fd9\u4e24\u4e2a\u6807\u7b7e\uff0c\u6240\u6709\u6587\u7ae0\u5c31\u53ea\u80fd\u7528\u8fd9\u4e24\u4e2a\u6807\u7b7e\u3002</p> <pre><code>plugins:\n    - blog:\n        categories_allowed:\n            - hello\n            - world\n</code></pre> <p>\u53ef\u4ee5\u9009\u62e9\u8be5\u5217\u8868\u4e2d\u914d\u7f6e\u597d\u7684\u4f5c\u8005\uff08\u4f5c\u8005\u540d\u79f0\u3001\u5934\u50cf\u3001url\u7b49\u7b49\u90fd\u53ef\u4ee5\u5728\u8fd9\u4e2a\u6587\u4ef6\u914d\u7f6e\uff09</p> <p></p><pre><code>plugins:\n    - blog:\n        authors_file: \"{blog}/.authors.yml\"\n</code></pre> \u8fd9\u91cc\u7684 <code>{blog}</code> \u6307\u7684\u662f\u4e4b\u524d\u914d\u7f6e\u7684\u535a\u5ba2\u76ee\u5f55\u3002\uff08\u4e5f\u5c31\u662f\u8ddf <code>posts</code> \u76ee\u5f55\u540c\u7ea7\uff0c\u5728\u8be5\u540c\u7ea7\u76ee\u5f55\u4e2d\u521b\u5efa <code>.authors.yml</code> \u6587\u4ef6\u5c31\u884c\uff09 <pre><code>\u251c\u2500 docs/\n\u2502  \u2514\u2500 ababababa/\n\u2502     \u2514\u2500 newBlog/\n\u2502         \u251c\u2500 posts/\n\u2502         \u251c\u2500 .authors.yml   \n\u2502         \u2514\u2500 index.md\n\u2514\u2500 mkdocs.yml\n</code></pre> .authors.yml<pre><code>authors:\n    shafish:\n        name: shafish        # Author name\n        description: a man # Author description\n        avatar: http://xxx         # Author avatar\n        # slug: url           # Author profile slug\n        url: https://github.com/shafishcn   # Author website URL\n</code></pre><p></p> <pre><code>plugins:\n    - blog:\n        pagination_per_page: 15\n</code></pre> <p>\u4e0b\u9762\u7684\u914d\u7f6e\u4f1a\u663e\u793a\u6210\u8fd9\u6837\uff1a<code>1 2 3 .. n &gt; &gt;&gt;</code> \u80fd\u70b9\u51fb\u5230\u6700\u540e\u4e00\u9875\uff0cemmmm</p> <pre><code>plugins:\n    - blog:\n        pagination_format: \"$link_first $link_previous ~2~ $link_next $link_last\"\n</code></pre> <p>\u8349\u7a3f\uff0c\u4e5f\u5c31\u662f\u975e\u6b63\u5f0f\u7684\u535a\u6587</p> <pre><code>plugins:\n    - blog:\n        draft: true\n</code></pre> <pre><code>plugins:\n    - blog:\n        draft: flase\n</code></pre> <p>\u6807\u8bb0\u6587\u7ae0\u4e3a\u8349\u7a3f\uff0c\u5e76\u8bbe\u7f6e\u6587\u7ae0\u7684\u65e5\u671f\u4e3a\u660e\u5929\uff0c\u5f53\u4eca\u5929\u90e8\u7f72\u66f4\u65b0\u597d\u535a\u5ba2\u540e\uff0c\u8fd9\u7bc7\u6587\u7ae0\u5c31\u4e0d\u4f1a\u663e\u793a\uff0c\u5f53\u7b26\u5408\u8bbe\u7f6e\u7684\u65e5\u671f\u624d\u663e\u793a\u3002\uff08\u8fd9\u4e2a\u53ef\u4ee5\uff09</p> <pre><code>plugins:\n    - blog:\n        draft_if_future_date: true\n</code></pre> \u4e94\u3001blog\u7f16\u5199\u683c\u5f0f\uff1aposts\u76ee\u5f55 <p>\u4e5f\u5c31\u662f<code>posts</code> \u76ee\u5f55\u4e0b\u7684md\u6587\u4ef6\u7684\u7f16\u5199\u89c4\u8303\u3002</p> \u8bbe\u7f6e\u535a\u6587\u4f5c\u8005\u8bbe\u7f6e\u535a\u6587\u6807\u7b7e\u8bbe\u7f6e\u535a\u6587\u65e5\u671f\uff1a\u5fc5\u586b\u8bbe\u7f6e\u535a\u6587\u4e3a\u8349\u7a3f\u5176\u4ed6 <p></p><pre><code>---\nauthors:\n    - shafish\n---\n\n# Post title\n...\n</code></pre> \u4f5c\u8005\u5217\u8868\u5f97\u8bb0\u5f97\u5148\u5728 <code>.authors.yml</code> \u5b9a\u4e49\u597d<p></p> <pre><code>---\ncategories:\n    - Search\n    - Performance\n---\n\n# Post title\n...\n</code></pre> <pre><code>---\ndate:\n    created: 2024-01-31\n    updated: 2024-02-01\n---\n\n# Post title\n...\n</code></pre> <pre><code>---\ndraft: true\n---\n\n# Post title\n...\n</code></pre> <p>\u7565\u8fc7</p>"},{"location":"example/#mkdocsyml","title":"\u4e8c\u3001mkdocs.yml\u8bb0\u5f55","text":""},{"location":"example/#1_1","title":"1. \u8c03\u6574\u989c\u8272","text":"\u8c03\u6574\u4e3b\u9898\u989c\u8272\u8c03\u6574\u4e3b\u8272\u8c03\u8c03\u6574hovered\u3001buttons\u3001scrollbars\u989c\u8272\u81ea\u5b9a\u4e49\u4e3b\u9898\u989c\u8272 <pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\ntheme:\n    palette:\n        scheme: default\n</code></pre> <p>\u9ed8\u8ba4\u53ea\u6709\u4e24\u4e2a\u9009\u9879\u53ef\u9009\uff1adefault\uff08\u4eae\u4e3b\u9898\uff09\u3001slate\uff08\u6697\u4e3b\u9898\uff09</p> <p></p> <code>default</code> <code>slate</code> <p></p> <p></p> <pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\ntheme:\n    palette:\n        primary: indigo\n</code></pre> <p></p> <code>red</code> <code>pink</code> <code>purple</code> <code>deep purple</code> <code>indigo</code> <code>blue</code> <code>light blue</code> <code>cyan</code> <code>teal</code> <code>green</code> <code>light green</code> <code>lime</code> <code>yellow</code> <code>amber</code> <code>orange</code> <code>deep orange</code> <code>brown</code> <code>grey</code> <code>blue grey</code> <code>black</code> <code>white</code> <p></p> <p></p> <pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\ntheme:\n    palette:\n        accent: indigo\n</code></pre> <p></p> <code>red</code> <code>pink</code> <code>purple</code> <code>deep purple</code> <code>indigo</code> <code>blue</code> <code>light blue</code> <code>cyan</code> <code>teal</code> <code>green</code> <code>light green</code> <code>lime</code> <code>yellow</code> <code>amber</code> <code>orange</code> <code>deep orange</code> <p></p> <p></p> <p>\u5b9a\u4e49\u4e00\u4e2a\u53ebshafish\u7684\u4e3b\u9898\u8272\u8c03 </p><pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\ntheme:\n    palette:\n        scheme: shafish\n    extra_css:\n        - stylesheets/extra.css # docs/stylesheets/extra.css\n</code></pre><p></p> <pre><code>[data-md-color-scheme=\"shafish\"] {\n    --md-primary-fg-color:        #252632;\n    --md-primary-fg-color--light: #ECB7B7;\n    --md-primary-fg-color--dark:  #90030C;\n}\n</code></pre>"},{"location":"example/#2_1","title":"2. \u8c03\u6574\u5b57\u4f53","text":"<p>\u652f\u6301\uff1aGoogle Font </p> <pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\ntheme:\n    font:\n        text: Roboto  # \u5e38\u89c4\u5b57\u4f53\n        code: Roboto Mono  #\u4ee3\u7801\u5757\u5b57\u4f53\n</code></pre>"},{"location":"example/#3-logofavicon","title":"3. logo\u3001favicon","text":"<pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\ntheme:\n    logo: assets/logo.png # logo\n    favicon: images/favicon.png  # favicon\n</code></pre>"},{"location":"example/#4_1","title":"4. \u5bfc\u822a\u680f","text":"<pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\ntheme:\n  features:\n    #- navigation.instant # \u70b9\u51fb\u5185\u90e8\u94fe\u63a5\u65f6\uff0c\u4e0d\u7528\u5168\u90e8\u5237\u65b0\u9875\u9762\n    - navigation.tracking # \u5728url\u4e2d\u4f7f\u7528\u6807\u9898\u5b9a\u4f4d\u951a\u70b9\n    - navigation.tabs # \u9876\u90e8\u663e\u793a\u5bfc\u822a\u9876\u5c42nav\uff08\u4e5f\u5c31\u662f\u7b2c\u4e00\u4e2a\u8282\u70b9\uff09\n    - navigation.tabs.sticky # \u6eda\u52a8\u662f\u9690\u85cf\u9876\u90e8nav\uff0c\u9700\u8981\u914d\u5408navigation.tabs\u4f7f\u7528\n    - navigation.sections # nav\u8282\u70b9\u7f29\u8fdb\n    - navigation.expand # \u4e0d\u6298\u53e0\u5de6\u4fa7nav\u8282\u70b9\n    - navigation.indexes # \u6307\u5b9a\u8282\u70b9index pages \uff0c\u8ddfinstant\u4e0d\u517c\u5bb9\n    - toc.integrate # \u53f3\u4fa7\u751f\u4ea7\u76ee\u5f55\n    - navigation.top # \u4e00\u952e\u56de\u9876\u90e8\n</code></pre>"},{"location":"example/#5_1","title":"5. \u641c\u7d22","text":"<p>ref\uff1ahttps://squidfunk.github.io/mkdocs-material/setup/setting-up-site-search/</p>"},{"location":"example/#6_1","title":"6. \u7f51\u7ad9\u8bbf\u95ee\u7edf\u8ba1","text":"<p>\u8c37\u6b4c\u793a\u4f8b</p> <ul> <li>Google Analytics</li> </ul> <pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nextra:\n  analytics:\n    provider: google\n    property: G-XXXXXXXXXX\n</code></pre>"},{"location":"example/#7-metadata","title":"7. metadata\u8bbe\u7f6e","text":"<p>\u53ef\u4ee5\u8bbe\u7f6e\u7279\u5b9a\u7684key-value\u5230markdown\u6587\u6863\u4e2d\uff0cmkdocs\u518d\u8fdb\u884c\u5bf9\u5e94\u89e3\u6790 </p><pre><code>markdown_extensions:\n  - meta\n</code></pre><p></p> \u9875\u9762\u6807\u9898\u9875\u9762\u63cf\u8ff0\u9690\u85cfnav\u3001toc\u9690\u85cf\u8bc4\u8bba <pre><code>---\ntitle: Lorem ipsum dolor sit amet \n\n---\n\n# Document title\n...\n</code></pre> <pre><code>---\ndescription: Nullam urna elit, malesuada eget finibus ut, ac tortor. \n\n---\n\n# Document title\n...\n</code></pre> <pre><code>---\nhide:\n    - navigation\n    - toc\n---\n\n# Document title\n</code></pre> <p>\u8bf7\u5148\u770b\u7b2c10\u70b9\u8be6\u7ec6\u8bf4\u660e\u3002 </p><pre><code>---\nvssue: \"\"\n---\n\n# Document title\n...\n</code></pre><p></p>"},{"location":"example/#8_1","title":"8. \u9876\u90e8\u9690\u85cf\u3001\u53d1\u5e03\u901a\u77e5","text":"<pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\ntheme:\n  features:\n    - header.autohide\n  custom_dir: overrides  # \u81ea\u5b9a\u4e49\u4e3b\u9898\u8bbe\u7f6e\u3002overrides\u76ee\u5f55\u4e0edocs\u76ee\u5f55\u540c\u7ea7\n</code></pre> <pre><code>&lt;!-- overrides/main.html\u6587\u4ef6\u5185\u5bb9 --&gt;\n{% extends \"base.html\" %}\n\n{% block announce %}\n  &lt;!-- Add announcement here, including arbitrary HTML --&gt;\n  \u901a\u77e5\uff1a\u5566\u5566\u5566\uff0cshafish\u7528\u65b0\u535a\u5ba2\u5566\uff01\uff01\n{% endblock %}\n</code></pre>"},{"location":"example/#9_1","title":"9. \u7f51\u7ad9\u5e95\u90e8\u8bbe\u7f6e","text":"\u58f0\u660e\u4fdd\u7559\u7248\u6743\u53f3\u4e0b\u89d2\u52a0\u4e2a\u8054\u7cfb\u65b9\u5f0f <pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\ncopyright: Copyright &amp;copy; 2017 - 2020 shafish.cn\n</code></pre> \u6216\u8005 \u5728main.html\u4e2d\u81ea\u5b9a\u4e49\uff1a <pre><code>{% extends \"base.html\" %}\n\n{% block copyright %}\n&lt;!-- Add copyright here, including arbitrary HTML --&gt;\n{% endblock %}\n</code></pre> <pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nextra:\n    social:\n        -   icon: fontawesome/solid/paper-plane\n            link: mailto:&lt;shafish_cn@163.com&gt;\n            name: \u90ae\u7bb1\u5730\u5740\n</code></pre>"},{"location":"example/#10-vssue","title":"10. \u8bc4\u8bba\u7cfb\u7edf-Vssue","text":"<p>ref:Vssue</p> <p>mkdocs-material 8.x\u5c06\u8bc4\u8bba\u6539\u4e3a\u4e86\u81ea\u5b9a\u4e49\uff0c\u9700\u8981\u5728 <code>mkdocs.yml</code> \u4e2d\u8bbe\u7f6ecustom_dir\u76ee\u5f55\uff0c\u91cd\u5199partials/content.html\u4e2d\u7684\u5185\u5bb9\u3002</p> overrides/partials/content.htmlmkdocs.yml <pre><code>&lt;!--\nCopyright (c) 2016-2021 Martin Donath &lt;martin.donath@squidfunk.com&gt;\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to\ndeal in the Software without restriction, including without limitation the\nrights to use, copy, modify, merge, publish, distribute, sublicense, and/or\nsell copies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\nFROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\nIN THE SOFTWARE.\n--&gt;\n\n&lt;!-- Edit button --&gt;\n{% if page.edit_url %}\n&lt;a\nhref=\"{{ page.edit_url }}\"\ntitle=\"{{ lang.t('edit.link.title') }}\"\nclass=\"md-content__button md-icon\"\n&gt;\n{% include \".icons/material/pencil.svg\" %}\n&lt;/a&gt;\n{% endif %}\n\n&lt;!--\nHack: check whether the content contains a h1 headline. If it\ndoesn't, the page title (or respectively site name) is used\nas the main headline.\n--&gt;\n{% if not \"\\x3ch1\" in page.content %}\n&lt;h1&gt;{{ page.title | d(config.site_name, true)}}&lt;/h1&gt;\n{% endif %}\n\n&lt;!-- Markdown content --&gt;\n{{ page.content }}\n\n&lt;!-- Source file information --&gt;\n{% if page and page.meta and (\npage.meta.git_revision_date_localized or\npage.meta.revision_date\n) %}\n{% include \"partials/source-file.html\" %}\n{% endif %}\n\n&lt;!-- Get setting from mkdocs.yml, but allow page-level overrides --&gt;\n&lt;!-- \u5728\u4e0d\u9700\u8981\u8bc4\u8bba\u7684\u9875\u9762\u8bbe\u7f6e `vssue: \"\" ` \u8fd9\u4e2ameta\u4fe1\u606f\uff08\u9700\u5728mkdocs.yml\u4e2d\u6dfb\u52a0meta \u8fd9\u4e2apythonmarkdown \u63d2\u4ef6\uff09\u5373\u53ef\u5173\u95ed\u8be5\u9875\u9762\u7684\u8bc4\u8bba\u529f\u80fd\uff0c\u6bd4\u5982\u5728about\u9875\u9762\u5173\u95ed\u8bc4\u8bba:\n\n---\nvssue: \"\"\n---\n\n# about\n\n--&gt;\n{% set vssue = config.extra.vssue %}\n{% if page and page.meta and page.meta.vssue is string %}\n{% set vssue = page.meta.vssue %}\n{% endif %}\n\n&lt;!-- Inject Disqus into current page --&gt;\n{% if not page.is_homepage and vssue %}\n    &lt;div id=\"vssue\"&gt;&lt;/div&gt;\n\n    &lt;!--&lt;link rel=\"stylesheet\" href=\"https://unpkg.com/vssue/dist/vssue.min.css\"&gt;\nOR: vue full build (runtime + compiler)  --&gt;\n&lt;script src=\"https://unpkg.com/vue/dist/vue.min.js\"&gt;&lt;/script&gt;\n&lt;!-- Vssue Github build --&gt;\n&lt;script src=\"https://unpkg.com/vssue/dist/vssue.github.min.js\"&gt;&lt;/script&gt;\n\n&lt;script&gt;\n    new Vue({\n    el: '#vssue',\n\n    data: {\n        title: options =&gt; `${options.prefix}${document.title}`,\n\n        options: {\n        owner: 'shafishcn',\n        repo: 'shafish_blog',\n        clientId: 'xxx',\n        clientSecret: 'xxx', // only required for some of the platforms\n        prefix: '[BlogComment]',\n        labels: [':sunny:'],\n        issueContent: ({ url }) =&gt;`\u8fd9\u4e2a Issue \u7531 Vssue \u81ea\u52a8\u521b\u5efa\uff0c\u7528\u6765\u5b58\u50a8\u8be5\u9875\u9762\u7684\u8bc4\u8bba\uff1a${url}`\n        },\n    },\n\n    template: `&lt;vssue :title=\"title\" :options=\"options\"&gt;&lt;/vssue&gt;`,\n    })\n&lt;/script&gt;\n{% endif %}\n</code></pre> <pre><code>theme:\n    custom_dir: overrides\nextra:\n    vssue: shafish  # \u968f\u4fbf\u586b\u503c\uff0c\u4e3b\u8981\u662f\u8bbe\u7f6e{% set vssue = config.extra.vssue %}\u65f6\uff0cvssue\u521d\u59cb\u503c\u53ef\u7528\n</code></pre>"},{"location":"example/#11-giscus","title":"11. \u8bc4\u8bba\u7cfb\u7edf-Giscus","text":""},{"location":"example/#12-blocks","title":"12. blocks","text":"<p>ref: https://squidfunk.github.io/mkdocs-material/customization/</p> \u4f7f\u7528\u65b9\u6cd5mkdocs.yml\u8bbe\u7f6e\u6807\u9898-htmltitle\u901a\u77e5\u680f-announce <pre><code>&lt;!-- overrides/main.html \uff0c \u5f04\u4e4b\u524d\u5148\u914d\u7f6e\u597dmkdocs.yml\u7684custom_dir--&gt;\n{% extends \"base.html\" %}\n\n{% block blockName %}\n    xxx\n{% endblock %}\n</code></pre> <pre><code>theme:\n    custom_dir: overrides\n</code></pre> <pre><code>{% extends \"base.html\" %}\n\n{% block htmltitle %}\n    xxx\n{% endblock %}\n</code></pre> <pre><code>{% extends \"base.html\" %}\n\n{% block announce %}\n    xxx\n{% endblock %}\n</code></pre>"},{"location":"example/#_1","title":"\u4e09\u3001\u63d2\u4ef6","text":"<p>https://facelessuser.github.io/pymdown-extensions/extensions</p>"},{"location":"example/#1_2","title":"1. \u663e\u793a\u6587\u4ef6\u6700\u540e\u4fee\u6539\u65f6\u95f4","text":"<p>ref: https://timvink.github.io/mkdocs-git-revision-date-localized-plugin/options/</p> \u5b89\u88c5\u65f6\u95f4\u63d2\u4ef6mkdocs.yml\u8bbe\u7f6e\u6ce8\u610f\u4e8b\u9879 <pre><code>$ pip install mkdocs-git-revision-date-localized-plugin\n</code></pre> <pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nplugins:\n- git-revision-date-localized:\n    type: datetime\n    #fallback_to_build_date: true\n    enable_creation_date: true\n</code></pre> <pre><code># github action ci\u65f6\u9700\u8981\u6ce8\u610f\u4e8b\u9879\n# \u6307\u5b9a\u5bb9\u5668\u5f53\u524d\u65f6\u533a\nenv:\nTZ: Asia/Shanghai\n\n# checkout\u65f6\u9700\u8981\u6307\u5b9afetch\u5168\u90e8commit\u4fe1\u606f\n- name: Checkout master\nuses: actions/checkout@v2\nwith:\n    fetch-depth: 0 # \u9ed8\u8ba4\u4e3a1,\u8868\u793a\u53ea\u62c9\u53bb\u6700\u65b0commit\u4fe1\u606f\uff0c\u4f1a\u5bfc\u81f4\u5f53\u524d\u6587\u4ef6\u663e\u793a\u7684\u521b\u5efa\u65f6\u95f4\u3001\u66f4\u65b0\u65f6\u95f4\u90fd\u4e3acommit\u7684\u65f6\u95f4\n</code></pre>"},{"location":"example/#2_2","title":"2. \u56fe\u7247\u70b9\u51fb\u653e\u5927","text":"mkdocs.yml\u8bbe\u7f6estylesheets/extra.cssjavascripts/extra.js\u4f7f\u7528 <pre><code>extra_css:\n    - stylesheets/extra.css\nextra_javascript:\n    - javascripts/extra.js\n</code></pre> <pre><code>/* \u56fe\u7247\u653e\u5927start */\n.shadow {\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n}\n\n.zoom {\n    transition: transform ease-in-out 0.5s;\n    cursor: zoom-in;\n}\n\n.image-zoom-large {\n    transform: scale(1.9);\n    cursor: zoom-out;\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n    z-index: 100;\n    position: relative;\n}\n/* \u56fe\u7247\u653e\u5927end*/\n</code></pre> <pre><code>document.querySelectorAll('.zoom').forEach(item =&gt; {\n    item.addEventListener('click', function () {\n        this.classList.toggle('image-zoom-large');\n    })\n});\n</code></pre> <pre><code>![](png src){: .zoom}\n</code></pre> <ol> <li> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.\u00a0\u21a9</p> </li> <li> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.\u00a0\u21a9</p> </li> </ol>"},{"location":"todo/","title":"Todo","text":"RedisMySQLRust\u8bbe\u8ba1\u6a21\u5f0f <ul> <li>\u6570\u636e\u7c7b\u578b<ul> <li> string</li> <li> list</li> <li> set</li> <li> zset</li> <li> hash</li> </ul> </li> <li>\u6301\u4e45\u5316\u539f\u7406<ul> <li> RDB\u5feb\u7167 (Snapshot)</li> <li> AOF (Append Only File)</li> </ul> </li> <li>\u4e8b\u52a1<ul> <li> \u4e8b\u52a1 (multi, exec)</li> <li> \u9501 (watch, unwatch)</li> </ul> </li> <li>\u9ad8\u7ea7\u6570\u636e\u7c7b\u578b<ul> <li> bitmaps</li> <li> HyperLogLog</li> <li> GEO</li> </ul> </li> <li>\u7f13\u5b58\u5e38\u89c1\u95ee\u9898<ul> <li> \u7f13\u5b58\u51fb\u7a7f Hotspot Invalid</li> <li> \u7f13\u5b58\u7a7f\u900f Cache Penetration</li> <li> \u7f13\u5b58\u96ea\u5d29 Cache Avalanche</li> <li> \u7f13\u5b58\u9884\u70ed Cache Warm-Up</li> <li> \u6027\u80fd\u76d1\u63a7</li> </ul> </li> <li>\u5e95\u5c42\u901a\u4fe1\u539f\u7406<ul> <li> \u4e3b\u4ece\u590d\u5236\u67b6\u6784</li> <li> \u54e8\u5175\u673a\u5236</li> </ul> </li> <li>\u96c6\u7fa4<ul> <li> \u7406\u8bba</li> <li> \u8bbe\u8ba1</li> <li> \u5b9e\u8df5</li> </ul> </li> </ul> <ul> <li>\u6280\u672f<ul> <li> SQL</li> <li> \u7d22\u5f15</li> <li> \u89c6\u56fe</li> <li> \u89e6\u53d1\u5668\u548c\u5b58\u50a8\u8fc7\u7a0b</li> <li> \u4e8b\u52a1</li> <li> \u9501</li> <li> SQL\u4f18\u5316</li> </ul> </li> <li>\u8fd0\u7ef4<ul> <li> \u65e5\u5fd7</li> <li> \u4e3b\u4ece\u590d\u5236</li> <li> \u8bfb\u5199\u5206\u79bb</li> <li> \u5206\u5e93\u5206\u8868</li> </ul> </li> </ul> <ul> <li>Basic<ul> <li> Hello</li> <li> \u53d8\u91cf</li> <li> \u6570\u636e\u7c7b\u578b</li> <li> \u51fd\u6570</li> <li> \u6d41\u7a0b\u63a7\u5236</li> <li> \u6240\u6709\u6743</li> <li> \u7ed3\u6784\u4f53</li> <li> \u679a\u4e3e</li> <li> Trait</li> <li> \u6cdb\u578b</li> <li> \u9879\u76ee\u7ec4\u7ec7</li> <li> \u9519\u8bef\u5904\u7406</li> </ul> </li> <li>Advanced<ul> <li> \u95ed\u5305\u548c\u8fed\u4ee3\u5668</li> <li> \u667a\u80fd\u6307\u9488</li> <li> \u5e76\u53d1</li> </ul> </li> </ul> <ul> <li>\u521b\u5efa\u578b<ul> <li> \u5de5\u5382\u65b9\u6cd5 Factory Method</li> <li> \u62bd\u8c61\u5de5\u5382 Abstract Factory</li> <li> \u751f\u6210\u5668 Builder</li> <li> \u539f\u578b Prototype</li> <li> \u5355\u4f8b Singleton</li> </ul> </li> <li>\u7ed3\u6784\u578b<ul> <li> \u9002\u914d\u5668 Adapter</li> <li> \u6865\u63a5 Bridge</li> <li> \u7ec4\u5408 Composite</li> <li> \u88c5\u9970 Decorator</li> <li> \u5916\u89c2 Facade</li> <li> \u4eab\u5143 Flyweight</li> <li> \u4ee3\u7406 Proxy</li> </ul> </li> <li>\u884c\u4e3a\u578b<ul> <li> \u8d23\u4efb\u94fe Chain of respponsibility</li> <li> \u547d\u4ee4 Command</li> <li> \u8fed\u4ee3\u5668 Iterator</li> <li> \u5907\u5fd8\u5f55 Memento</li> <li> \u4e2d\u4ecb\u8005 Mediator</li> <li> \u89c2\u5bdf\u8005 Observer</li> <li> \u8bbf\u95ee\u8005 Visitor</li> <li> \u72b6\u6001 State</li> <li> \u7b56\u7565 Strategy</li> <li> \u6a21\u677f\u65b9\u6cd5 Template Method</li> </ul> </li> </ul>"},{"location":"408/DataStructure/0-%E7%BB%AA%E8%AE%BA/","title":"0-\u7eea\u8bba","text":"<p>Warning</p> <p>\u672c\u7cfb\u5217\u6587\u7ae0\u7cfb\u4e2a\u4eba\u603b\u7ed3\u6240\u5199\uff0c\u6267\u7b14\u4e0a\u504f\u4e8e\u65b0\u624b\u5411\uff0c\u4f1a\u6709\u8bf8\u591a\u7528\u8bcd\u4e0d\u4e25\u8c28\u4e4b\u5904\uff0c\u53ea\u4e3a\u4e86\u65b9\u4fbf\u7406\u89e3\u3002\u6b22\u8fce\u6307\u6b63\uff0c\u62d2\u7edd\u6307\u8d23\u3002</p>"},{"location":"408/DataStructure/0-%E7%BB%AA%E8%AE%BA/#_1","title":"\u7eea\u8bba","text":"<p>\u7a0b\u5e8f \u662f\u4e00\u7cfb\u5217\u6307\u4ee4\u7684\u96c6\u5408\u3002\u7a0b\u5e8f\u8bbe\u8ba1 = \u6570\u636e\u7ed3\u6784 + \u7b97\u6cd5</p> <p>\u6570\u636e\uff0c\u7531 N \u4e2a 0 \u548c 1 \u7ec4\u6210\uff0c\u672c\u8d28\u4e0a\u662f\u4e00\u4e32\u4e8c\u8fdb\u5236\u4ee3\u7801\uff0c\u5229\u4e8e\u8ba1\u7b97\u673a\u8ba1\u7b97\uff0c\u4f46\u4e0d\u5229\u4e8e\u4eba\u7c7b\u9605\u8bfb\u601d\u8003\u3002 \u6240\u4ee5\u5728\u6b64\u4e4b\u4e0a\u7ecf\u8fc7\u5c42\u5c42\u62bd\u8c61\uff0c\u5c06\u8ba1\u7b97\u673a\u4e2d\u7684\u6570\u636e\u62bd\u8c61\u51fa\u8bf8\u5982 <code>\u5bf9\u8c61\u3001\u5b9e\u4f8b\u3001\u7ed3\u70b9\u3001\u6570\u636e\u5bf9\u8c61</code> \u7b49\u6982\u5ff5\u3002</p> <p>Note</p> <p>\u6570\u636e\u7ed3\u6784\uff0c\u5c31\u662f\u4ee5 <code>\u5bf9\u8c61\u3001\u5b9e\u4f8b\u3001\u7ed3\u70b9\u3001\u6570\u636e\u5bf9\u8c61</code> \u4e3a \u5355\u4f4d\uff0c\u7814\u7a76\u5404\u4e2a\u5355\u4f4d\u4e4b\u95f4\u7684 \u5173\u7cfb\u3002  </p> <p>\u7531\u6b64\u660e\u786e\uff0c\u5728\u6570\u636e\u7ed3\u6784\u4e2d\u9700\u8981\u7814\u7a76\u4e24\u4e2a\u4e1c\u897f\uff1a \u5355\u4f4d\u3001\u5173\u7cfb</p>"},{"location":"408/DataStructure/0-%E7%BB%AA%E8%AE%BA/#_2","title":"\u5355\u4f4d","text":"<p>\u6570\u636e\u7684\u5355\u4f4d\u5728\u6570\u636e\u7ed3\u6784\u4e2d\u901a\u5e38\u79f0\u4e3a \u6570\u636e\u5bf9\u8c61\uff0c\u6570\u636e\u5bf9\u8c61\u53ef\u4ee5\u662f\u4e00\u4e2a\u4eba\u3001\u4e00\u8f86\u8f66\u3001\u4e00\u4e2a\u6570\u5b57\u3001\u4e00\u4e2a\u5b57\u7b26\u3001\u6216\u8005\u591a\u79cd\u6570\u636e\u7684\u7ec4\u5408\uff0c\u5728\u4ee3\u7801\u4e2d\u8868\u73b0\u4e3a\u7ed3\u6784\u4f53\u53d8\u91cf\u6216\u5bf9\u8c61\u3002</p> <p>\u800c\u4e00\u4e2a\u4eba\uff0c\u4f1a\u6709\u591a\u79cd\u6570\u636e\uff1a\u540d\u5b57\uff08name\uff09\u3001\u5e74\u9f84\uff08age\uff09\u3001\u5b66\u53f7\uff08ID\uff09\uff0c\u5728\u4ee3\u7801\u4e2d\u8868\u73b0\u4e3a\u7ed3\u6784\u4f53\u6210\u5458\u53d8\u91cf\u6216\u5bf9\u8c61\u6210\u5458\u53d8\u91cf\u3002</p> <p>\u800c\u540d\u5b57\u3001\u5e74\u9f84\u3001\u5b66\u53f7\u8fd9\u4e9b\uff0c\u6211\u4eec\u79f0\u4e3a \u6570\u636e\u9879\u3002</p> <p>Note</p> <p>\u5373 N \u4e2a\u6570\u636e\u9879\u6784\u6210\u4e86\u6570\u636e\u5bf9\u8c61</p> <p></p> <p>\u6bcf\u4e2a\u4eba\u90fd\u6709\u5b66\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84\uff0c\u4f8b\u5982\u5f20\u4e09\u674e\u56db\u738b\u4e94\uff0c\u4f46\u5f20\u4e09\u4e0d\u662f\u674e\u56db\u3001\u738b\u4e94\u4e0d\u662f\u8d75\u516d\uff0c\u4ed6\u4eec\u90fd\u662f\u5404\u81ea\u72ec\u7acb\u7684\u3002</p> <p>\u4f46\u4ed6\u4eec\u90fd\u662f\u4eba\u7c7b\uff0c\u6240\u4ee5\u6211\u4eec\u628a\u4eba\u7c7b\u79f0\u4e3a \u6570\u636e\u5143\u7d20\uff0c\u5728\u4ee3\u7801\u4e2d\u8868\u73b0\u4e3a \u7ed3\u6784\u4f53\u5b9a\u4e49\u6216\u7c7b\u5b9a\u4e49\u3002</p> <p></p> <pre><code>// \u7ed3\u6784\u4f53\u5b9a\u4e49 &lt;--&gt; \u6570\u636e\u5143\u7d20\ntypedef struct {\n    // \u7ed3\u6784\u4f53\u6210\u5458\u53d8\u91cf &lt;--&gt; \u6570\u636e\u9879\n    long ID;\n    int age;\n    char* name;\n} Person;\n\n// \u6570\u636e\u5bf9\u8c61 &lt;--&gt; \u7ed3\u6784\u4f53\u53d8\u91cf\nPerson Zhangsan = {\n    1213, \n    18, \n    \"Boii\"\n};\n</code></pre>"},{"location":"408/DataStructure/0-%E7%BB%AA%E8%AE%BA/#_3","title":"\u5173\u7cfb","text":"<p>\u8bf4\u5b8c\u5355\u4f4d\uff0c\u5269\u4e0b\u5c31\u662f\u5173\u7cfb\u4e86\u3002</p> <p>\u8fd9\u4e9b\u5355\u4f4d\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u7406\u8bba\u4e0a\u6709\u5f88\u591a\u79cd\uff1a\u7ebf\u6027\u8868\u3001\u5e7f\u4e49\u8868\u3001\u94fe\u8868\u3001\u6808\u3001\u961f\u3001\u6811\u3001\u56fe\uff1b\u8fd9\u79cd\u6211\u4eec\u79f0\u4e3a \u903b\u8f91\u7ed3\u6784\u3002</p> <p>\u800c\u5728\u4ee3\u7801\u3001\u6216\u8005\u8bf4\u7269\u7406\u4e0a\u7684\u5b9e\u73b0\uff0c\u53ea\u6709\u4e24\u79cd\uff1a\u987a\u5e8f\u5b58\u50a8\u7ed3\u6784\u3001\u94fe\u5f0f\u5b58\u50a8\u7ed3\u6784\uff1b\u8fd9\u4e9b\u6211\u4eec\u79f0\u4e3a \u7269\u7406\u7ed3\u6784\u3002</p>"},{"location":"408/DataStructure/0-%E7%BB%AA%E8%AE%BA/#_4","title":"\u903b\u8f91\u7ed3\u6784","text":"<p>\u903b\u8f91\u4e0a\u7684\u5404\u79cd\u5173\u7cfb\u53ef\u4ee5\u5206\u4e3a 4 \u5927\u7c7b\uff1a</p> <ol> <li>\u96c6\u5408\u7ed3\u6784\uff1a\u5404\u4e2a\u5355\u4f4d\u4e4b\u95f4\uff0c\u9664\u4e86\u540c\u5c5e\u4e00\u4e2a\u96c6\u5408\uff0c\u6ca1\u6709\u522b\u7684\u5173\u7cfb\uff1b\u5404\u4e2a\u5355\u4f4d\u662f\u201c\u5e73\u7b49\u201d\u7684\u3002</li> <li>\u7ebf\u6027\u7ed3\u6784\uff1a\u5404\u4e2a\u5355\u4f4d\u4e4b\u95f4\u662f \u4e00\u5bf9\u4e00 \u7684\u5173\u7cfb</li> <li>\u6811\u5f62\u7ed3\u6784\uff1a\u5404\u4e2a\u5355\u4f4d\u4e4b\u95f4\u662f \u4e00\u5bf9\u591a \u7684\u5173\u7cfb</li> <li>\u56fe\u5f62\u7ed3\u6784\uff1a\u5404\u4e2a\u5355\u4f4d\u4e4b\u95f4\u662f \u591a\u5bf9\u591a \u7684\u5173\u7cfb</li> </ol> <p></p> <p>\u96c6\u5408\u7ed3\u6784\u6bd4\u8f83\u5c11\u89c1\uff0c\u8fd9\u91cc\u6682\u65f6\u4e0d\u505a\u8ba8\u8bba\u3002 \u6211\u4eec\u4e3b\u8981\u8ba8\u8bba\u5e38\u89c1\u7684\u7ebf\u6027\u3001\u6811\u5f62\u3001\u56fe\u5f62\u7ed3\u6784\u3002</p>"},{"location":"408/DataStructure/0-%E7%BB%AA%E8%AE%BA/#_5","title":"\u7269\u7406\u7ed3\u6784","text":"<p>\u7a0b\u5e8f\u662f\u8fd0\u884c\u5728\u5185\u5b58\u4e2d\u7684\uff0c\u800c\u5185\u5b58\u662f\u987a\u5e8f\u6392\u5217\u7684\uff0c\u6ca1\u90a3\u4e48\u591a\u82b1\u91cc\u80e1\u54e8\u7684\uff0c\u800c\u4e14\u53d7\u8ba1\u7b97\u673a\u7269\u7406\u5b9e\u73b0\u6240\u675f\u7f1a\uff0c\u7269\u7406\u7ed3\u6784\u4e2d\uff1a</p> <p>\u8981\u4e48\u662f\u4e00\u4e2a\u6328\u7740\u4e00\u4e2a\u7684 \u987a\u5e8f\u5b58\u50a8\u7ed3\u6784\uff0c\u8981\u4e48\u662f\u5355\u4f4d\uff08\u6570\u636e\u5bf9\u8c61\uff09\u4e4b\u95f4\u5e76\u4e0d\u4e00\u5b9a\u6328\u7740\u7684 \u94fe\u5f0f\u5b58\u50a8\u7ed3\u6784\u3002</p> <p>\u4e24\u79cd\u7ed3\u6784\u90fd\u6709\u5404\u81ea\u7684\u7279\u70b9\u3002</p> <p></p> <p>\u987a\u5e8f\u5b58\u50a8\u7ed3\u6784  - \u7279\u70b9\uff1a\u6570\u636e\u5bf9\u8c61\u4e4b\u95f4\u5728\u7269\u7406\u4e0a\u4e00\u4e2a\u6328\u7740\u4e00\u4e2a\u3001\u6709\u5e8f\uff0c\u53ea\u8981\u77e5\u9053\u4e86\u7b2c\u4e00\u4e2a\u6570\u636e\u5bf9\u8c61\u7684\u5730\u5740\uff0c\u53ef\u4ee5\u5f88\u5feb\u627e\u5230\u540e\u9762\u5176\u4ed6\u7684\u6570\u636e\u5bf9\u8c61\u3002\u4e0e\u6b64\u540c\u65f6\uff0c\u4e3a\u4e86\u4fdd\u6301\u8fd9\u79cd\u4e00\u4e2a\u6328\u7740\u4e00\u4e2a\u548c\u6709\u5e8f\u7684\u7279\u70b9\uff0c\u5f53\u63d2\u5165\u6216\u8005\u5220\u9664\u67d0\u4e00\u4e2a\u6570\u636e\u5bf9\u8c61\u65f6\uff0c\u540e\u9762\u7684\u6570\u636e\u5bf9\u8c61\u8981\u4e00\u4e2a\u4e00\u4e2a\u5f80\u540e\u632a\u817e\u51fa\u4e2d\u95f4\u7684\u4f4d\u7f6e\uff0c\u6216\u8005\u4e00\u4e2a\u4e00\u4e2a\u5f80\u524d\u632a\u586b\u8865\u4e2d\u95f4\u7684\u7a7a\u7f3a\uff0c\u5bfc\u81f4\u63d2\u5165\u548c\u5220\u9664\u5f88\u6162\u3002  - \u4f18\u70b9\uff1a\u67e5\u627e\u901f\u5ea6\u5feb\u3002  - \u7f3a\u70b9\uff1a\u63d2\u5165\u548c\u5220\u9664\u6162\u3002</p> <p>\u94fe\u5f0f\u5b58\u50a8\u7ed3\u6784 - \u7279\u70b9\uff1a\u6570\u636e\u5bf9\u8c61\u4e4b\u95f4\u5728\u7269\u7406\u4e0a\u5e76\u4e0d\u4e00\u5b9a\u76f8\u4e92\u6328\u7740\u3001\u65e0\u5e8f\uff0c\u8981\u67e5\u627e\u67d0\u4e00\u4e2a\u6570\u636e\u5bf9\u8c61\u65f6\u9700\u8981\u4ece\u7b2c\u4e00\u4e2a\u6570\u636e\u5bf9\u8c61\u5f00\u59cb\uff0c\u4e00\u4e2a\u63a5\u7740\u4e00\u4e2a\u5f80\u540e\u4e00\u8def\u67e5\u4e0b\u53bb\u624d\u80fd\u627e\u5230\u3002\u4e0e\u6b64\u540c\u65f6\uff0c\u56e0\u4e3a\u7269\u7406\u4e0a\u4e0d\u4e00\u5b9a\u76f8\u4e92\u6328\u7740\uff0c\u6240\u4ee5\u63d2\u5165\u548c\u5220\u9664\u65f6\u53ea\u9700\u8981\u4fee\u6539\u524d\u540e\u7684\u94fe\u6761\u5373\u53ef\u3002 - \u4f18\u70b9\uff1a\u63d2\u5165\u548c\u5220\u9664\u5feb\u3002 - \u7f3a\u70b9\uff1a\u67e5\u627e\u901f\u5ea6\u6162\u3002</p> <p>\u8fd9\u91cc\u7684\u5feb\u6162\uff0c\u6307\u7684\u662f\u8ba1\u7b97\u673a\u9700\u8981\u6267\u884c\u591a\u6b21\u8ba1\u7b97\u79f0\u4e3a\u6162\uff0c\u8ba1\u7b97\u673a\u9700\u8981\u6267\u884c\u5c11\u91cf\u8ba1\u7b97\u79f0\u4e3a\u5feb\u3002</p>"},{"location":"408/DataStructure/0-%E7%BB%AA%E8%AE%BA/#adt","title":"ADT \u62bd\u8c61\u6570\u636e\u7c7b\u578b","text":"<p>\u62bd\u8c61\u6570\u636e\u7c7b\u578b\u662f\u7528\u6765 \u8868\u793a\u67d0\u4e00\u79cd\u903b\u8f91\u7ed3\u6784\uff08\u6808\u3001\u961f\u3001\u6811\u3001...\uff09\u7684\u5177\u4f53\u4fe1\u606f\uff0c\u5177\u6709\u4ec0\u4e48\u6837\u7684\u64cd\u4f5c \u7b49\u7b49\u3002</p> <p>\u63cf\u8ff0 ADT \u7684\u6807\u51c6\u683c\u5f0f\uff1a </p><pre><code>ADT \u62bd\u8c61\u6570\u636e\u7c7b\u578b\u540d\nData\n    \u6570\u636e\u5143\u7d20\u4e4b\u95f4\u903b\u8f91\u5173\u7cfb\u7684\u5b9a\u4e49\nOperation\n    \u64cd\u4f5c1\n        \u521d\u59cb\u6761\u4ef6\n        \u64cd\u4f5c\u7ed3\u679c\u63cf\u8ff0\n    \u64cd\u4f5c2\n        ...\n        ...\n    \u64cd\u4f5cn\n        ...\n        ...\nendAD\n</code></pre><p></p> <p>ADT \u5c31\u50cf\u4e00\u5f20\u84dd\u56fe\u3002</p> <p>\u5728\u5efa\u623f\u5b50\u4e4b\u524d\u6211\u4eec\u9700\u8981\u5148\u8bbe\u8ba1\u597d\u623f\u5b50\u7684\u529f\u80fd\u3001\u7ed3\u6784\u7b49\uff0c\u4e4b\u540e\u518d\u4f9d\u7167\u56fe\u7eb8\u5f00\u5de5\u3002</p> <p>ADT \u5c31\u662f\u6570\u636e\u7ed3\u6784\u7684\u56fe\u7eb8\uff0c\u4e8b\u5148\u5b9a\u4e49\u597d\u5404\u79cd\u5173\u7cfb\u548c\u64cd\u4f5c\uff0c\u5199\u8d77\u4ee3\u7801\u6765\u624d\u80fd\u6709\u6761\u4e0d\u7d0a\u3002</p>"},{"location":"408/DataStructure/0-%E7%BB%AA%E8%AE%BA/#_6","title":"\u603b\u7ed3","text":""},{"location":"408/DataStructure/1-%E7%AE%97%E6%B3%95/","title":"1-\u7b97\u6cd5","text":""},{"location":"408/DataStructure/1-%E7%AE%97%E6%B3%95/#1-","title":"1-\u7b97\u6cd5","text":"<p>\u7b97\u6cd5\uff1a\u662f\u89e3\u51b3\u7279\u5b9a\u95ee\u9898\u6c42\u89e3\u6b65\u9aa4\u7684\u63cf\u8ff0\uff1b\u5728\u8ba1\u7b97\u673a\u4e2d\u8868\u73b0\u4e3a\u6307\u4ee4\u7684\u6709\u9650\u5e8f\u5217\uff0c\u5e76\u4e14\u6bcf\u6761\u6307\u4ee4\u8868\u793a\u4e00\u4e2a\u6216\u591a\u4e2a\u64cd\u4f5c\u3002</p> <p>\u7b97\u6cd5\u7279\u6027\uff1a</p> <ol> <li>\u8f93\u5165\uff1a\u7b97\u6cd5\u5177\u67090\u6216n\u4e2a\u8f93\u5165\uff1b</li> <li>\u8f93\u51fa\uff1a\u7b97\u6cd5\u81f3\u5c11\u67091\u6216n\u4e2a\u8f93\u51fa\uff1b</li> <li>\u6709\u7a77\u6027\uff1a\u7b97\u6cd5\u5728\u6267\u884c\u6709\u9650\u7684\u6b65\u9aa4\u4e4b\u540e\uff0c\u81ea\u52a8\u7ed3\u675f\u800c\u4e0d\u4f1a\u51fa\u73b0\u65e0\u9650\u5faa\u73af\uff0c\u5e76\u4e14\u6bcf\u4e00\u6b65\u9aa4\u5728\u53ef\u63a5\u53d7\u7684\u65f6\u95f4\u5185\u5b8c\u6210\uff1b</li> <li>\u786e\u5b9a\u6027\uff1a\u7b97\u6cd5\u7684\u6bcf\u4e00\u6b65\u9aa4\u90fd\u5177\u6709\u786e\u5b9a\u7684\u542b\u4e49\uff0c\u4e0d\u4f1a\u51fa\u73b0\u4e8c\u4e49\u6027\uff1b</li> <li>\u53ef\u884c\u6027\uff1a\u7b97\u6cd5\u7684\u6bcf\u4e00\u6b65\u9aa4\u90fd\u80fd\u591f\u901a\u8fc7\u6267\u884c\u6709\u9650\u6b21\u6570\u5b8c\u6210\u3002</li> </ol> <p>\u7b97\u6cd5\u8bbe\u8ba1\u7684\u8981\u6c42\uff1a</p> <ol> <li>\u6b63\u786e\u6027\uff1a\u6307\u7b97\u6cd5\u81f3\u5c11\u5e94\u8be5\u5177\u6709\u8f93\u5165\u3001\u8f93\u51fa\u548c\u52a0\u5de5\u5904\u7406\u65e0\u6b67\u4e49\u6027\u3001\u80fd\u6b63\u786e\u53cd\u6620\u95ee\u9898\u7684\u9700\u6c42\u3001\u80fd\u5f97\u5230\u95ee\u9898\u7684\u6b63\u786e\u7b54\u6848\uff1b</li> <li>\u53ef\u8bfb\u6027\uff1a\u7b97\u6cd5\u8bbe\u8ba1\u7684\u53e6\u4e00\u76ee\u7684\u662f\u4e3a\u4e86\u4fbf\u4e8e\u9605\u8bfb\u3001\u7406\u89e3\u548c\u4ea4\u6d41\uff1b</li> <li>\u5065\u58ee\u6027\uff1a\u5f53\u8f93\u5165\u4e0d\u5408\u6cd5\u6570\u636e\u65f6\uff0c\u7b97\u6cd5\u4e5f\u80fd\u505a\u51fa\u76f8\u5173\u5904\u7406\uff0c\u800c\u4e0d\u662f\u4ea7\u751f\u5f02\u5e38\uff1b</li> <li>\u9ad8\u6548\u6027\uff1a\u7b97\u6cd5\u8bbe\u8ba1\u5e94\u8be5\u5c3d\u91cf\u6ee1\u8db3\u65f6\u95f4\u6548\u7387\u9ad8\u548c\u5b58\u50a8\u91cf\u4f4e\u7684\u9700\u6c42\u3002</li> </ol>"},{"location":"408/DataStructure/1-%E7%AE%97%E6%B3%95/#_1","title":"\u7b97\u6cd5\u6548\u7387\u7684\u5ea6\u91cf\u65b9\u6cd5","text":"<p>\u4e00\u4e2a\u7a0b\u5e8f\u7684\u8fd0\u884c\u65f6\u95f4\uff0c\u4f9d\u8d56\u4e8e\u7b97\u6cd5\u7684\u597d\u574f\u548c\u95ee\u9898\u7684\u8f93\u5165\u89c4\u6a21\uff08\u8f93\u5165\u89c4\u6a21\uff1a\u8f93\u5165\u91cf\u7684\u591a\u5c11\uff09\u3002</p> <p>\u6d4b\u5b9a\u8fd0\u7b97\u65f6\u95f4\u6700\u53ef\u9760\u7684\u65b9\u6cd5\u5c31\u662f\u8ba1\u7b97**\u5bf9\u8fd0\u884c\u65f6\u95f4\u6709\u6d88\u8017\u7684\u57fa\u672c\u64cd\u4f5c**\u7684\u6267\u884c\u6b21\u6570\u3002</p> <p>\u5728\u5206\u6790\u7a0b\u5e8f\u8fd0\u884c\u65f6\u95f4\u65f6\uff0c\u6700\u91cd\u8981\u7684\u662f\u628a\u7a0b\u5e8f\u770b\u6210\u662f\u72ec\u7acb\u4e8e\u7a0b\u5e8f\u8bbe\u8ba1\u8bed\u8a00\u7684\u7b97\u6cd5\u6216\u4e00\u7cfb\u5217\u6b65\u9aa4\u3002</p> <p>\u5f53\u8f93\u5165\u89c4\u6a21\u53d8\u5927\u4ee5\u540e\uff0c**\u5e38\u6570\u9879\u3001\u975e\u6700\u9ad8\u9636\u9879**\u7684\u5f71\u54cd\u5fae\u4e4e\u5176\u5fae\uff0c\u6240\u4ee5\u5224\u65ad\u4e00\u4e2a\u7b97\u6cd5\u7684\u6548\u7387\u65f6\uff0c\u51fd\u6570\u4e2d\u7684\u53c2\u6570\u548c\u5176\u4ed6\u6b21\u8981\u9879\u5e38\u5e38\u53ef\u4ee5\u5ffd\u7565\uff0c\u5e94\u8be5\u66f4\u5173\u6ce8\u4e3b\u9879\uff08\u6700\u9ad8\u9636\u9879\uff09\u7684\u9636\u6570\u3002</p>"},{"location":"408/DataStructure/1-%E7%AE%97%E6%B3%95/#_2","title":"\u7b97\u6cd5\u65f6\u95f4\u590d\u6742\u5ea6","text":"<p>\u5728\u8fdb\u884c\u7b97\u6cd5\u5206\u6790\u65f6\uff0c\u8bed\u53e5\u603b\u7684\u6267\u884c\u6b21\u6570 \\(T(n)\\) \u662f\u5173\u4e8e\u95ee\u9898\u89c4\u6a21 \\(n\\)\u7684\u51fd\u6570\uff0c\u8fdb\u800c\u5206\u6790 \\(T(n)\\) \u968f \\(n\\) \u7684\u53d8\u5316\u60c5\u51b5\u5e76\u786e\u5b9a \\(T(n)\\) \u7684\u6570\u91cf\u7ea7\u3002</p> <p>\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\uff0c\u8bb0\u4f5c\uff1a\\(T(n) = O(f(n))\\)\u3002\u8868\u793a\u968f\u7740\u95ee\u9898\u89c4\u6a21 \\(n\\) \u7684\u589e\u5927\uff0c\u7b97\u6cd5\u6267\u884c\u65f6\u95f4\u7684\u589e\u957f\u7387\u548c \\(f(n)\\) \u7684\u589e\u957f\u7387\u76f8\u540c\u3002</p> <p>\u7b97\u6cd5\u65f6\u95f4\u590d\u6742\u5ea6\u5e38\u7528\u5927O\u8868\u793a\u6cd5</p> <p>\\(O(1)\\)\u5e38\u6570\u9636\u3001\\(O(n)\\)\u7ebf\u6027\u9636\u3001\\(O(n^2)\\)\u5e73\u65b9\u9636</p> <p>\u5927O\u9636\u7684\u63a8\u5bfc\u6b65\u9aa4\u4e3a\uff1a</p> <ol> <li>\u7528\u5e38\u65701\u53d6\u4ee3\u8fd0\u884c\u65f6\u95f4\u4e2d\u6240\u6709\u7684\u5e38\u6570</li> <li>\u53ea\u4fdd\u7559\u6700\u9ad8\u9636</li> <li>\u9664\u4e86\\(O(1)\\)\uff0c\u53bb\u9664\u6700\u9ad8\u9636\u7684\u7cfb\u6570</li> </ol> <p>\u65f6\u95f4\u590d\u6742\u5ea6\u6392\u5e8f\uff1a</p> <p>\\(O(1) &lt; O(logn) &lt; O(n) &lt; O(nlogn) &lt; O(n^2) &lt; O(n^3) &lt; O(2^n) &lt; O(n!) &lt; O(n^n)\\)</p>"},{"location":"408/DataStructure/2-%E7%BA%BF%E6%80%A7%E8%A1%A8/","title":"2-\u7ebf\u6027\u8868","text":""},{"location":"408/DataStructure/2-%E7%BA%BF%E6%80%A7%E8%A1%A8/#2-","title":"2-\u7ebf\u6027\u8868","text":"<p>\u7ebf\u6027\u8868\u6307 0 \u6216 n \u4e2a\u6570\u636e\u5143\u7d20\u7684\u6709\u9650\u5e8f\u5217</p> <p>\u7279\u70b9\uff1a</p> <ol> <li>\u5143\u7d20\u4e4b\u95f4\u6709\u5e8f</li> <li>\u5143\u7d20\u4e2a\u6570\u6709\u9650</li> <li>\u7b2c\u4e00\u4e2a\u65e0\u76f4\u63a5\u524d\u9a71\u5143\u7d20</li> <li>\u6700\u540e\u4e00\u4e2a\u65e0\u76f4\u63a5\u540e\u7ee7\u5143\u7d20</li> <li>\u5176\u4f59\u5143\u7d20\u90fd\u6709\u552f\u4e00\u4e00\u4e2a\u76f4\u63a5\u524d\u9a71\u5143\u7d20\u548c\u552f\u4e00\u4e00\u4e2a\u76f4\u63a5\u540e\u7ee7\u5143\u7d20</li> </ol> <p></p> <p>\u7ebf\u6027\u8868\u5143\u7d20\u7684\u4e2a\u6570 \\(n(n&gt;=0)\\) \u5373\u4e3a \u7ebf\u6027\u8868\u7684\u957f\u5ea6\uff1b\u5f53 n=0 \u65f6\uff0c\u79f0\u4e3a \u7a7a\u8868\u3002</p> <p>\u975e\u7a7a\u8868\u4e2d\u6bcf\u4e2a\u6570\u636e\u5143\u7d20\u90fd\u6709\u4e00\u4e2a\u786e\u5b9a\u7684\u4f4d\u7f6e\uff0c\u5982\\(a_1\\)\u662f\u9996\u4e2a\u5143\u7d20\uff0c\\(a_n\\)\u662f\u6700\u540e\u5143\u7d20\uff0c\\(a_i\\)\u662f\u7b2c\\(i\\)\u4e2a\u5143\u7d20\uff08\u79f0 \\(i\\) \u4e3a\u6570\u636e\u5143\u7d20 \\(a_i\\) \u5728\u7ebf\u6027\u8868\u4e2d\u7684\u4f4d\u5e8f\uff09</p> <p>Note</p> <p>\u8bf4\u53e5\u4eba\u8bdd\u5c31\u662f\uff0c\u50cf\u6570\u7ec4\u4e00\u6837\u7684\u6570\u636e\u7ed3\u6784\u5c31\u662f\u7ebf\u6027\u8868\u3002</p> <p>\u6bd4\u5982\u62ff 5 \u4e2a\u82f9\u679c\u6392\u6210\u4e00\u884c\uff0c\u4ece\u5de6\u5230\u53f3\u4f9d\u6b21\u7f16\u53f7 12345\uff0c</p> <p>\u7b2c\u4e00\u4e2a\u82f9\u679c\u524d\u9762\u6ca1\u6709\u82f9\u679c\uff0c</p> <p>\u6700\u540e\u4e00\u4e2a\u82f9\u679c\u540e\u9762\u6ca1\u6709\u5176\u4ed6\u82f9\u679c\uff0c</p> <p>\u4e2d\u95f4\u7b2c 2\u30013\u30014 \u4e2a\u82f9\u679c\u90fd\u6709\u524d\u4e00\u4e2a\u82f9\u679c\u548c\u540e\u4e00\u4e2a\u82f9\u679c\uff0c</p> <p>\u4f8b\u5982\u7b2c 2 \u4e2a\u82f9\u679c\u7684\u524d\u4e00\u4e2a\u82f9\u679c\u662f 1 \u53f7\u82f9\u679c\uff0c\u540e\u4e00\u4e2a\u662f 3 \u53f7\u82f9\u679c\u3002</p>"},{"location":"408/DataStructure/2-%E7%BA%BF%E6%80%A7%E8%A1%A8/#adt","title":"ADT","text":"<pre><code>ADT \u7ebf\u6027\u8868(List)\nData\n    \u7ebf\u6027\u8868\u662f\u6570\u636e\u5bf9\u8c61\u96c6\u5408\u4e3a{a1, a2, ..., an}\uff0c\u6bcf\u4e2a\u5143\u7d20\u7684\u7c7b\u578b\u5747\u4e3aDataType\u3002\nOperation\n    InitList(*L):          \u521d\u59cb\u5316\u64cd\u4f5c\uff0c\u5efa\u7acb\u4e00\u4e2a\u7a7a\u7684\u7ebf\u6027\u8868L\u3002\n    ListEmpty(L):          \u7ebf\u6027\u8868\u4e3a\u7a7a\u8fd4\u56deTrue\uff0c \u5426\u5219\u8fd4\u56deFalse\n    ClearList(*L):         \u5c06\u7ebf\u6027\u8868\u6e05\u7a7a\u3002\n    GetElem(L, i, *e):     \u5c06\u7ebf\u6027\u8868L\u4e2d\u7b2ci\u4e2a\u4f4d\u7f6e\u5143\u7d20\u7684\u503c\u8fd4\u56de\u7ed9e\u3002\n    LocateElem(L, e):      \u5728\u7ebf\u6027\u8868L\u4e2d\u67e5\u627e\u4e0e\u7ed9\u5b9a\u503ce\u76f8\u7b49\u7684\u5143\u7d20\uff0c\u67e5\u627e\u6210\u529f\u8fd4\u56de\u5143\u7d20\u5728\u8868\u4e2d\u7684\u5e8f\u53f7\uff0c\u5931\u8d25\u8fd4\u56deO\u3002\n    ListInsert(*L, i, e):  \u5728\u7ebf\u6027\u8868L\u4e2d\u7b2ci\u4e2a\u4f4d\u7f6e\u63d2\u5165\u65b0\u5143\u7d20e\u3002\n    ListDelete(*L, i, *e): \u5220\u9664\u7ebf\u6027\u8868L\u4e2d\u7b2ci\u4e2a\u4f4d\u7f6e\u5143\u7d20\uff0c\u5e76\u7528e\u8fd4\u56de\u5176\u503c\u3002\n    ListLength(L):         \u8fd4\u56de\u7ebf\u6027\u8868L\u7684\u5143\u7d20\u4e2a\u6570\u3002\nendADT\n</code></pre>"},{"location":"408/DataStructure/2-%E7%BA%BF%E6%80%A7%E8%A1%A8/#_1","title":"\u987a\u5e8f\u7ed3\u6784\u7684\u7ebf\u6027\u8868","text":"<p>\u7ebf\u6027\u8868\u7684\u987a\u5e8f\u5b58\u50a8\u7ed3\u6784\uff0c\u6307\u7684\u662f\u7528\u4e00\u6bb5\u8fde\u7eed\u7684\u5b58\u50a8\u5355\u5143\u4e00\u6b21\u5b58\u50a8\u7ebf\u6027\u8868\u7684\u6570\u636e\u5143\u7d20\u3002</p> <p>\u4f8b\u5982\u6570\u7ec4\uff0c\u77e5\u9053\u4e86\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684\u5730\u5740\uff0c\u540e\u9762\u7684\u5143\u7d20\u90fd\u53ef\u4ee5\u5feb\u901f\u7684\u8ba1\u7b97\u51fa\u6765\u3002</p> <p>\u5047\u8bbe\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684 \u5730\u5740\u4e3a A\uff0c\u6bcf\u4e2a\u5143\u7d20 \u5360 k \u4e2a\u5b57\u8282\uff0c\u5219\u53ef\u77e5 \u7b2c i \u4e2a\u5143\u7d20 \u7684\u5730\u5740\u4e3a A + i * k\u3002</p> <p>\u987a\u5e8f\u7ed3\u6784\u5728\u67e5\u627e\u65f6\uff0c\u4e0d\u8bba\u8981\u67e5\u627e\u7684\u5143\u7d20\u5728\u4efb\u4f55\u4f4d\u7f6e\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u90fd\u4e3a \\(O(1)\\)\uff0c\u4f46\u5728\u63d2\u5165\u548c\u5220\u9664\u65f6\uff0c\u5e73\u5747\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(n)\\)\u3002</p>"},{"location":"408/DataStructure/2-%E7%BA%BF%E6%80%A7%E8%A1%A8/#_2","title":"\u987a\u5e8f\u7ed3\u6784\u4ee3\u7801\u5b9e\u73b0","text":"<p>\u5148\u653e\u4e0a\u5404\u4e13\u4e1a\u672f\u8bed\u7684\u5173\u7cfb\u56fe\uff0c\u4ee5\u505a\u5bf9\u7167\u3002</p>"},{"location":"408/DataStructure/2-%E7%BA%BF%E6%80%A7%E8%A1%A8/#_3","title":"\u6570\u636e\u5143\u7d20","text":"<p>\u5404\u79cd\u64cd\u4f5c\u7684\u57fa\u672c\u5355\u4f4d\u662f \u6570\u636e\u5143\u7d20\uff0c\u6570\u636e\u5143\u7d20\u53c8\u7531\u5404 \u6570\u636e\u9879 \u6784\u6210\u3002</p> <p>\u5728\u4ee3\u7801\u4e2d\uff0c\u7528 \u7ed3\u6784\u4f53\u7c7b\u578b(C\u8bed\u8a00\u4e2d\u662f\u7ed3\u6784\u4f53\uff0cJava\u7b49\u8bed\u8a00\u662f\u7c7b) \u6765\u5b9e\u73b0\u6570\u636e\u5143\u7d20\uff0c</p> <p>\u7528\u5404\u79cd \u57fa\u672c\u7c7b\u578b(int\u3001char\u3001float\u3001\u5176\u4ed6\u7ed3\u6784\u4f53\u7b49) \u6765\u5b9e\u73b0\u6570\u636e\u9879\u3002\uff08\u6ce8\u610f\u6570\u636e\u9879\u4e5f\u53ef\u4ee5\u662f\u7ed3\u6784\u4f53\uff09</p> <pre><code>// \u5b9a\u4e49\u7ed3\u6784\u4f53\nstruct Student{\n    char name[10];\n    int age;\n};\n\ntypedef struct Student Stu;    // \u4e3a\u7ed3\u6784\u4f53\u8d77\u522b\u540d\uff0c\u540e\u7eed\u5199\u4ee3\u7801\u7684\u65f6\u5019\u6bd4\u8f83\u65b9\u4fbf\n</code></pre> <p>\u6216\u8005\u5199\u6210\u8fd9\u79cd\uff1a </p><pre><code>typedef struct{\n    char name[10];\n    int age;\n}Stu;\n</code></pre><p></p> <p>\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\u6570\u636e\u5143\u7d20\uff08\u7ed3\u6784\u4f53\uff09\u540d\u5b57\u4ee5\u5b9e\u9645\u4e1a\u52a1\u4e3a\u51c6</p> <p>\u5728\u4ee5\u4e0b\u4f8b\u5b50\u4e2d\uff0c\u5219\u7528 Element \u6307\u4ee3 \u6570\u636e\u5143\u7d20\u7ed3\u6784\u4f53\u3002 </p><pre><code>typedef struct{\n    char name[10];\n    int age;\n}Element;\n</code></pre><p></p>"},{"location":"408/DataStructure/2-%E7%BA%BF%E6%80%A7%E8%A1%A8/#_4","title":"\u6570\u636e\u5bf9\u8c61","text":"<p>\u8fd9\u91cc\u6570\u636e\u5bf9\u8c61\u6307\u7684\u5c31\u662f\u7ebf\u6027\u8868\u4e86\u3002</p> <p>\u7ebf\u6027\u8868\u4e2d\u9700\u8981\u5305\u542b N \u4e2a\u6570\u636e\u5143\u7d20\uff0cN \u4e2a\u6570\u636e\u5143\u7d20\u8981\u4f7f\u7528\u6570\u7ec4\u5b58\u653e\uff1b\u518d\u52a0\u4e0a\u4e00\u4e2a<code>count</code>\u6765\u7edf\u8ba1\u6570\u636e\u5143\u7d20\u4e2a\u6570\u3002</p> <p>\u6ce8\u610f\u662f\u5143\u7d20\u4e2a\u6570 (count of data elemment) \u4e0d\u662f\u6570\u7ec4\u957f\u5ea6(length of array)\u3002</p> <p>\u6570\u7ec4\u957f\u5ea6\u4e00\u5f00\u59cb\u8981\u9884\u7559\u597d\uff0c\u662f\u56fa\u5b9a\u4e0d\u53d8\u7684\uff1b</p> <p>\u5143\u7d20\u4e2a\u6570\u662f\u53d8\u5316\u7684\uff0c\u589e\u5220\u63d2\u5165\u4e4b\u540e\u90fd\u4f1a\u53d8\u5316\uff0c\u800c\u6570\u7ec4\u957f\u5ea6\u4e0d\u4f1a\u3002</p> <pre><code>// DataElement.h\n\n#define len(X) sizeof X / sizeof X[0]\n#define MAX_SIZE 5\n\ntypedef struct{\n    Element elemArr[MAX_SIZE];  // \u7528\u6570\u7ec4\u5b58\u653e\u6570\u636e\u5143\u7d20\n    int count;                  // Count of data element.\n}SqList;\n</code></pre>"},{"location":"408/DataStructure/2-%E7%BA%BF%E6%80%A7%E8%A1%A8/#_5","title":"\u521d\u59cb\u5316","text":"<pre><code>Status Init(SqList *L, Stu *studArr){\n    int length = len(studArr);          // \u83b7\u53d6\u6570\u7ec4\u957f\u5ea6\n    if(length &gt; MAX_SIZE) return ERROR; // \u68c0\u67e5\u6570\u7ec4\u957f\u5ea6\u662f\u5426\u8d85\u51fa\u9884\u8bbe\u957f\u5ea6\n\n    L-&gt;count = 0;   // count \u521d\u59cb\u5316\u4e3a 0\n    for(int i = 0; i &lt; length; i++) \n        Insert(L, i, studArr[i]);   // \u8c03\u7528\u63d2\u5165\u65b9\u6cd5\u5c06\u5143\u7d20\u63d2\u5165\u5230\u6570\u7ec4\u4e2d\uff08\u63d2\u5165\u65b9\u6cd5\u7a0d\u540e\u5b9e\u73b0\uff09\n    return OK;\n}\n</code></pre> <pre><code>// main.c\n\n#include \"DataElement.h\"\n\nint main(){\n    // \u5b9a\u4e49\u4e00\u4e2a\u7ebf\u6027\u8868\n    SqList L;\n    SqList *pL = &amp;L;\n    // \u5b9a\u4e49\u4e00\u4efd\u6570\u636e\u96c6\n    Stu studArr = {\n        {\"Boii\", 18},\n        {\"Eva\", 20},\n    };\n    // \u521d\u59cb\u5316\u7ebf\u6027\u8868\n    Init(pL, studArr);\n    return 0;\n}\n</code></pre>"},{"location":"408/DataStructure/2-%E7%BA%BF%E6%80%A7%E8%A1%A8/#_6","title":"\u83b7\u5f97\u5143\u7d20","text":"\u5b9a\u4e49<pre><code>#define OK 1\n#define ERROR 0\ntypedef uint Status;\n\n/**\n * \u7528pe\u8fd4\u56de \u5728\u7ebf\u6027\u8868L\u4e2d\u7b2cposition\u4e2a\u5143\u7d20\n * @param *L        \u8981\u64cd\u4f5c\u662f\u987a\u5e8f\u8868\n * @param position  \u8981\u67e5\u627e\u7684\u5143\u7d20\u4f4d\u7f6e\n * @param e         \u8d1f\u8d23\u5e26\u56de\u5143\u7d20\u7684\u5143\u7d20\u6307\u9488\n * @return \u83b7\u5f97\u6210\u529f\u8fd4\u56deOK\uff0c\u5931\u8d25\u8fd4\u56deERROR\n */\nStatus GetElem(SqList *L, int position, Element *e){\n    if(L-&gt;count == 0 || position &lt; 1 || position &gt; L-&gt;count || e == NULL)\n        return ERROR;\n\n    *e = L-&gt;data[position-1];\n    return OK;\n}\n</code></pre> \u8c03\u7528\u65f6<pre><code>SqList L;\nSqList *pL = &amp;L;\nElement e;\nElement *pe = &amp;e;\n\nif(GetElem(pL, 3, pe))\n    printf(\"%s %d\", pe-&gt;name, pe-&gt;age);\n</code></pre> <p>\u51fd\u6570\u4e2d\u5148\u662f\u5224\u65ad\u987a\u5e8f\u8868\u662f\u5426\u4e3a\u7a7a\u8868\uff08\u7a7a\u8868\u65f6 count \u4e3a 0\uff09\uff0c\u63a5\u7740\u5bf9\u4f4d\u7f6e\u8fdb\u884c\u5224\u65ad\uff0c\u770b\u770b\u662f\u5426\u5728\u5408\u6cd5\u8303\u56f4\u5185\uff0c\u8fd8\u6709\u6307\u9488\u662f\u5426\u4e3a\u7a7a\uff1b</p> <p>\u5982\u679c\u6ee1\u8db3\u5176\u4e2d\u4e00\u4e2a\u6761\u4ef6\u5219\u8fd4\u56de ERROR\u3002</p> <p>\u6700\u540e\u5bf9\u5c06\u76ee\u6807\u5143\u7d20\u8d4b\u503c\u7ed9 pe\u3002</p> <p>\u53c2\u6570\u4e2d\u4f7f\u7528\u7684\u662f *L\uff0c\u5373\u76f4\u63a5\u64cd\u4f5c\u76ee\u6807\u987a\u5e8f\u8868</p> <p><code>position</code> \u4ee3\u8868\u7684\u662f\u4f4d\u7f6e\uff0c\u4ece1\u5f00\u59cb\u7684\uff08\u6ce8\u610f\u4e0d\u662f\u4e0b\u6807\uff0c\u4e0b\u6807\u662f\u4ece0\u5f00\u59cb\u7684\uff09\uff0c\u6240\u4ee5\u662f\u5c06 <code>data[position-1]</code> \u8fd4\u56de\u53bb\u3002</p> <p>\u4f8b\u5982\u67e5\u627e\u7b2c5\u4e2a\u5143\u7d20\uff0c\u5e94\u8be51211\u3002</p> <p>\u8fd4\u56de data[4]</p>"},{"location":"408/DataStructure/2-%E7%BA%BF%E6%80%A7%E8%A1%A8/#_7","title":"\u63d2\u5165","text":"<pre><code>/**\n * \u5c06 e \u63d2\u5165\u5230\u5728\u7ebf\u6027\u8868L\u4e2d\u7684\u7b2c idx \u4e2a\u5143\u7d20\n * @param *L   \u8981\u64cd\u4f5c\u662f\u987a\u5e8f\u8868\n * @param idx  \u8981\u63d2\u5165\u7684\u5143\u7d20\u4e0b\u6807\n * @param e    \u8981\u63d2\u5165\u7684\u5143\u7d20\u7684\u6307\u9488\n * @return \u63d2\u5165\u6210\u529f\u8fd4\u56deOK\uff0c\u5931\u8d25\u8fd4\u56deERROR\n */\nStatus Insert(SqList *L, int idx, Element *e){\n    // \u5982\u679c\u987a\u5e8f\u8868\u5df2\u6ee1\u3001\u6216\u4e0b\u6807\u8d8a\u754c\uff0c\u8fd4\u56deERROR\n    if(L-&gt;count == MAX_SIZE || idx &lt; 0 || idx &gt; L-&gt;count)\n        return ERROR;\n    // \u5982\u679c\u8981\u63d2\u5165\u7684\u4f4d\u7f6e\u4e0d\u5728\u672b\u5c3e\uff0c\u5219\u4ece\u6700\u540e\u4e00\u4e2a\u5f00\u59cb\uff0c\u4e00\u4e2a\u4e00\u4e2a\u5f80\u540e\u632a\n    if(idx &lt; L-&gt;count)\n        for(int i = L-&gt;count - 1; i &gt;= idx; i--)\n            L-&gt;data[i + 1] = L-&gt;data[i];\n    // \u5c06\u5143\u7d20\u63d2\u5165\u6307\u5b9a\u7684 idx \n    L-&gt;data[idx] = *e;\n    L-count++;\n\n    return OK;\n}\n</code></pre> <p>\u601d\u8def\uff1a</p> <ul> <li>\u8868\u6ee1\u65f6\uff0c\u63d2\u5165\u5931\u8d25</li> <li>\u4e0b\u6807\u5c0f\u4e8e 0 \u6216\u5927\u4e8e count - 1 \u65f6\uff0c\u63d2\u5165\u5931\u8d25</li> <li>\u63d2\u5165\u4f4d\u7f6e\u5728\u8868\u5c3e\uff0c\u5373 idx = count\uff0c\u76f4\u63a5\u63d2\u5165</li> <li>\u63d2\u5165\u4f4d\u7f6e\u4e0d\u5728\u8868\u5c3e\uff0c\u5373 idx &lt; count\uff0c\u4ece\u672b\u5c3e\u5f00\u59cb\u540e\u4e00\u4f4d\u7ed9\u524d\u4e00\u4f4d\uff0c\u76f4\u5230\u628a data[idx] \u7a7a\u51fa\u6765</li> </ul>"},{"location":"408/DataStructure/2-%E7%BA%BF%E6%80%A7%E8%A1%A8/#_8","title":"\u5220\u9664","text":"<pre><code>/**\n * \u5c06\u7ebf\u6027\u8868L\u4e2d\u7684\u7b2c position \u4e2a\u5143\u7d20\u5220\u9664\uff0c\u88ab\u5220\u5143\u7d20\u4fdd\u5b58\u5728 e \u4e2d\n * @param *L        \u8981\u64cd\u4f5c\u662f\u987a\u5e8f\u8868\n * @param position  \u8981\u67e5\u627e\u7684\u5143\u7d20\u4f4d\u7f6e\n * @param e         \u8981\u5220\u9664\u7684\u5143\u7d20\u7684\u6307\u9488\n * @return \u5220\u9664\u6210\u529f\u8fd4\u56deOK\uff0c\u5931\u8d25\u8fd4\u56deERROR\n */\nStatus Delete(SqList *L, int position, Element *e){\n    // \u5982\u679c\u7a7a\u8868\u6216\u8005\u4f4d\u7f6e\u8d85\u51fa\u8303\u56f4\uff0c\u8fd4\u56deERROR\n    if(L-&gt;count == 0 || position &lt; 1 || position &gt; L-&gt;count) return ERROR;\n\n    // \u5c06\u8981\u5220\u9664\u7684\u5143\u7d20\u4fdd\u5b58\u8d77\u6765\n    if (e != NULL) *e = L-&gt;data[position - 1];\n\n    // \u5982\u679c\u5220\u9664\u7684\u4e0d\u662f\u672b\u5c3e\u5143\u7d20\n    if (position &lt; L-&gt;count)\n        for(int i = position; i &lt; L-&gt;count; i++)\n            L-&gt;data[i - 1] = L-&gt;data[i];\n\n    // \u5143\u7d20\u4e2a\u6570-1\n    L-&gt;count--;\n    return OK;\n}\n</code></pre> \u601d\u8def\uff1a <ul> <li>\u5982\u679c\u7a7a\u8868\uff0c\u6216\u8005\u4f4d\u7f6e\u8d85\u51fa\u8303\u56f4[1, count]\uff0c\u5220\u9664\u5931\u8d25</li> <li>\u5148\u5c06\u8981\u5220\u9664\u7684\u5143\u7d20\u4fdd\u5b58\u8d77\u6765</li> <li>\u5982\u679c\u5220\u9664\u7684\u4e0d\u662f\u672b\u5c3e\u5143\u7d20\uff0c\u4ece\u5220\u9664\u4f4d\u7f6e\u5f00\u59cb\u5230\u987a\u5e8f\u8868\u672b\u5c3e\uff0c\u540e\u4e00\u4e2a\u8d4b\u503c\u7ed9\u524d\u4e00\u4e2a\uff0c\u6700\u540e\u5143\u7d20\u4e2a\u6570-1</li> <li>\u5982\u679c\u5220\u9664\u7684\u662f\u672b\u5c3e\u5143\u7d20\uff0c\u76f4\u63a5\u5143\u7d20\u4e2a\u6570-1</li> </ul>"},{"location":"408/DataStructure/2-%E7%BA%BF%E6%80%A7%E8%A1%A8/#_9","title":"\u603b\u7ed3","text":"<p>\u6570\u7ec4\u5728\u67e5\u8be2\u65f6\uff0c\u4e0d\u7ba1\u5143\u7d20\u5728\u54ea\u4e2a\u4f4d\u7f6e\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u90fd\u4e3a O(1)\uff0c \u5728\u5220\u9664\u548c\u63d2\u5165\u65f6\uff0c\u5982\u679c\u4f4d\u7f6e\u9760\u540e\u5219\u632a\u52a8\u7684\u5c11\uff0c\u5982\u679c\u4f4d\u7f6e\u5728\u6700\u524d\uff0c\u5219\u6574\u4e2a\u6570\u7ec4\u90fd\u8981\u632a\u52a8\u3002 \u6362\u8a00\u4e4b\uff0c\u63d2\u5165\u6216\u5220\u9664\u7b2c i \u4e2a\u5143\u7d20\uff0c\u9700\u8981\u79fb\u52a8 i - 1\u4e2a\u5143\u7d20\u3002\u5e73\u5747\u79fb\u52a8\u6b21\u6570\u4e3a (n - 1)/2\u3002\u6240\u4ee5\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(n)\u3002</p> <p>\u987a\u5e8f\u7ed3\u6784\u6bd4\u8f83\u9002\u5408\u5143\u7d20\u4e2a\u6570\u4e0d\u592a\u53d8\u5316\uff0c\u800c\u662f\u66f4\u591a\u5b58\u53d6\u6570\u636e\u7684\u5e94\u7528\u3002</p>"},{"location":"408/DataStructure/2-%E7%BA%BF%E6%80%A7%E8%A1%A8/#_10","title":"\u94fe\u5f0f\u7ed3\u6784\u7684\u7ebf\u6027\u8868","text":"<p>\u7ebf\u6027\u8868\u7684\u94fe\u5f0f\u7ed3\u6784\u662f\u6307\uff0c\u6307\u7684\u662f\u7528\u4e0d\u8fde\u7eed\u7684\u5b58\u50a8\u5355\u5143\u5b58\u50a8\u7ebf\u6027\u8868\u7684\u6570\u636e\u5143\u7d20\u3002</p> <p>\u5728\u94fe\u5f0f\u7ed3\u6784\u4e2d\uff0c\u9664\u4e86\u5b58\u50a8\u6570\u636e\u5143\u7d20\u4e4b\u5916\uff0c\u8fd8\u8981\u5b58\u50a8\u5176\u540e\u7ee7\u5143\u7d20\u7684\u5730\u5740\u3002</p> <p>\u5b58\u50a8\u6570\u636e\u5143\u7d20\u4fe1\u606f\u7684\u57df\u79f0\u4e3a \u6570\u636e\u57df\uff0c\u5b58\u50a8\u540e\u7ee7\u5143\u7d20\u5730\u5740\u7684\u57df\u79f0\u4e3a \u6307\u9488\u57df\uff1b</p> <p>\u8fd9\u4e24\u90e8\u5206\u5171\u540c\u7ec4\u6210\u4e00\u4e2a\u7ed3\u70b9\uff0cn\u4e2a\u7ed3\u70b9\u94fe\u7ed3\u6210\u4e00\u4e2a\u94fe\u8868\uff0c\u5373\u4e3a\u7ebf\u6027\u8868\u7684\u94fe\u5f0f\u5b58\u50a8\u7ed3\u6784\u3002</p> <p></p> <p>\u94fe\u8868\u7684\u8d77\u59cb\u7ed3\u70b9\u79f0\u4e3a \u5934\u7ed3\u70b9\uff0c\u5934\u7ed3\u70b9\u4e2d\u7684\u6307\u9488\u57df\u79f0\u4e3a \u5934\u6307\u9488\u3002</p> <p>\u5934\u7ed3\u70b9\u7684\u6570\u636e\u57df\u53ef\u4ee5\u4e0d\u5b58\u50a8\u4efb\u4f55\u4fe1\u606f\uff0c\u4e5f\u53ef\u4ee5\u5b58\u50a8\u7ebf\u6027\u8868\u957f\u5ea6\u7b49\u9644\u52a0\u4fe1\u606f\uff1b</p> <p>\u5934\u7ed3\u70b9\u7684\u6307\u9488\u57df\u6307\u5411\u7b2c\u4e00\u4e2a\u7ed3\u70b9\uff08\u7b2c\u4e00\u4e2a\u7ed3\u70b9\u53ef\u4ee5\u79f0\u4e3a \u9996\u5143\u7ed3\u70b9\uff09\uff1b</p> <p>\u5934\u7ed3\u70b9\u7684\u6307\u9488\u57df\u4e3a\u7a7a\u65f6\uff08\u5373\u5934\u6307\u9488\u4e3a\u7a7a\u65f6\uff09\uff0c\u4e3a\u7a7a\u94fe\u8868\u3002</p> <p></p> <p>\u56e0\u6b64\uff0c</p> <p>\u6bcf\u4e2a\u7ed3\u70b9\u53ea\u5305\u542b\u4e00\u4e2a \u540e\u7ee7\u6307\u9488\u57df\uff08\u6307\u5411\u540e\u7ee7\u5143\u7d20\u7684\u6307\u9488\u57df\uff09\uff0c\u79f0\u4e3a \u5355\u5411\u94fe\u8868\uff1b</p> <p>\u6bcf\u4e2a\u7ed3\u70b9\u5305\u542b\u4e00\u4e2a \u540e\u7ee7\u6307\u9488\u57df\uff08\u6307\u5411\u540e\u7ee7\u5143\u7d20\u7684\u6307\u9488\u57df\uff09\u548c\u4e00\u4e2a \u524d\u9a71\u6307\u9488\u57df\uff08\u6307\u5411\u524d\u9a71\u5143\u7d20\u7684\u6307\u9488\u57df\uff09\uff0c\u79f0\u4e3a\u53cc\u5411\u94fe\u8868\uff1b</p> <p>\u94fe\u8868\u7684\u6700\u540e\u4e00\u4e2a\u7ed3\u70b9\u79f0\u4e3a \u5c3e\u7ed3\u70b9\uff0c\u5c3e\u7ed3\u70b9\u7684\u6307\u9488\u57df\u53ef\u4ee5\u4e3a\u7a7a\uff08\u901a\u5e38\u7528 <code>NULL</code> \u6216 <code>^</code> \u8868\u793a\uff09</p> <p>\u5c3e\u7ed3\u70b9\u7684 \u540e\u7ee7\u6307\u9488\u57df \u4e3a\u7a7a\u65f6\uff0c\u79f0\u4e3a \u5355\u94fe\u8868\uff1b</p> <p>\u5c3e\u7ed3\u70b9\u7684 \u540e\u7ee7\u6307\u9488\u57df \u6307\u5411\u9996\u5143\u7ed3\u70b9\u7684\u5730\u5740\u65f6\uff08\u6307\u5411\u9996\u5143\u7ed3\u70b9\u4e0d\u662f\u5934\u7ed3\u70b9\uff09\uff0c\u79f0\u4e3a \u5faa\u73af\u94fe\u8868\u3002</p> <p>\u540c\u7406\uff0c \u5c3e\u7ed3\u70b9\u7684 \u540e\u7ee7\u6307\u9488\u57df \u6307 \\(\\to\\) \u5411 \u9996\u5143\u7ed3\u70b9 \u7684\u5730\u5740\uff0c\u9996\u5143\u7ed3\u70b9\u7684 \u524d\u9a71\u6307\u9488\u57df \u6307 \\(\\to\\) \u5411**\u5c3e\u7ed3\u70b9**\u65f6\uff0c\u79f0\u4e3a \u53cc\u5411\u5faa\u73af\u94fe\u8868\u3002</p>"},{"location":"408/DataStructure/2-%E7%BA%BF%E6%80%A7%E8%A1%A8/#_11","title":"\u5355\u94fe\u8868\u7684\u4ee3\u7801\u5b9e\u73b0","text":""},{"location":"408/DataStructure/2-%E7%BA%BF%E6%80%A7%E8%A1%A8/#_12","title":"\u5b9a\u4e49\u7ed3\u70b9","text":"<pre><code>// \u5b9a\u4e49\u6570\u636e\u5143\u7d20\ntypedef struct Element {\n    char *name;\n    int age;\n} Element;\n\n// \u5b9a\u4e49\u7ed3\u70b9\ntypedef struct Node {\n    Element data;           // \u6570\u636e\u57df\n    struct Node* next;      // \u6307\u9488\u57df\uff0c\u6307\u5411\u672c\u8eab\u7c7b\u578b\u5b9a\uff0c\u79f0\u4e3a\u81ea\u5f15\u7528\n} Node;\n\n// \u4e3a\u7ed3\u70b9\u6307\u9488\u5b9a\u4e49\u522b\u540d\ntypedef Node* PNode;\n\n// \u5b9a\u4e49\u5934\u7ed3\u70b9\ntypedef struct HeadNode {\n    int length;\n    struct Node* next;\n} HeadNode;\n</code></pre> <p>\u4ee3\u7801\u4e2d\uff0c\u5148\u662f\u5b9a\u4e49\u4e86\u6570\u636e\u5143\u7d20\u7684\u7ed3\u6784\uff0c\u7136\u540e\u5b9a\u4e49\u7ed3\u70b9\u3002</p> <p>\u5b9a\u4e49\u7ed3\u70b9\u7684\u65f6\u5019\uff0c\u5206\u522b\u5b9a\u4e49\u4e86\u6570\u636e\u57df\u548c\u6307\u9488\u57df\u3002\u53ef\u4ee5\u770b\u5230\u6307\u9488\u57df\u5176\u5b9e\u662f\u81ea\u8eab\u7684\u6307\u9488\uff0c\u8fd9\u6837\u7684\u5b9e\u73b0\u79f0\u4e3a \u81ea\u5f15\u7528\u3002</p> <p>\u5047\u8bbe p \u662f\u6307\u5411\u7b2c i \u4e2a\u7ed3\u70b9\u7684\u79fb\u52a8\u6307\u9488\uff0c\u5219 p-&gt;data \u7684\u503c\u7b2c i \u4e2a\u7ed3\u70b9\u7684\u6570\u636e\uff0c\u800c p-&gt;next \u7684\u503c\u4e3a\u4e0b\u4e00\u4e2a\u7ed3\u70b9\uff08\u5373\u7b2c i + 1\u4e2a\u7ed3\u70b9\uff09\u7684\u5730\u5740\u3002</p> <p>\u7528 <code>p = p-&gt;next;</code> \u53ef\u4ee5\u8ba9\u79fb\u52a8\u6307\u9488\u79fb\u52a8\u5230\u7b2c i + 1 \u4e2a\u7ed3\u70b9\uff0c\u8fd9\u65f6\u518d\u4f7f\u7528 <code>p-&gt;data</code> \u7684\u503c\u5c31\u4e3a\u7b2c i + 1 \u4e2a\u7ed3\u70b9\u7684\u6570\u636e\u3002</p> <p>\u6700\u540e\u4e3a\u4e86\u65b9\u4fbf\u8868\u793a\uff0c\u4e3a\u8fd9\u4e2a\u7ed3\u70b9\u7c7b\u578b\u7684\u6307\u9488\u5b9a\u4e49\u4e86\u4e00\u4e2a\u7c7b\u578b\u522b\u540d <code>PNode</code>\u3002</p> <pre><code>PNode p;\n</code></pre>"},{"location":"408/DataStructure/2-%E7%BA%BF%E6%80%A7%E8%A1%A8/#_13","title":"\u521b\u5efa\u94fe\u8868","text":"<p>\u521b\u5efa\u94fe\u8868\u5176\u5b9e\u5c31\u662f\u521b\u5efa\u4e00\u4e2a\u5934\u7ed3\u70b9\uff0c\u8fd9\u4e2a\u5934\u7ed3\u70b9\u5f88\u91cd\u8981\uff0c\u5bf9\u94fe\u8868\u7684\u64cd\u4f5c\u90fd\u662f\u4ece\u5934\u7ed3\u70b9\u5f00\u59cb\u7684\u3002</p> <p>\u8fd9\u91cc\u5f62\u53c2\u7528\u7684\u662f\u6307\u9488\u5f62\u5f0f\uff0c\u5373\u76f4\u63a5\u64cd\u4f5c\u8be5\u6307\u9488\u3002\u6240\u4ee5\u5728\u8c03\u7528 <code>Create()</code> \u65f6\u53d6\u4e86 link \u7684\u5730\u5740\u3002</p> <pre><code>Status Create(HeadNode *head) {\n    head-&gt;length = 0;\n    head-&gt;next = null;\n    return OK;\n}\n\n// \u8c03\u7528\u65f6\nHeadNode link;\nCreate(&amp;link);\n</code></pre>"},{"location":"408/DataStructure/2-%E7%BA%BF%E6%80%A7%E8%A1%A8/#_14","title":"\u63d2\u5165\u7ed3\u70b9","text":"<p>\u63d2\u5165\u8282\u70b9\u7684\u601d\u8def\u4e3a\uff1a</p> <ol> <li>\u521b\u5efa\u65b0\u7ed3\u70b9\u5e76\u7ed9\u7ed3\u70b9\u7684\u6570\u636e\u57df\u8d4b\u503c</li> <li>\u5982\u679c\u8981\u63d2\u5165\u7684\u4f4d\u7f6e\u4e3a 1\uff08\u5373\u9996\u5143\u8282\u70b9\uff09\uff0c\u5219\u5c06\u5934\u7ed3\u70b9\u7684 next \u7ed9\u65b0\u8282\u70b9\uff0c\u7136\u540e\u5934\u7ed3\u70b9\u7684 next \u6307\u5411\u65b0\u8282\u70b9\uff0c\u957f\u5ea6 +1\uff1b</li> <li>\u5982\u679c\u8981\u63d2\u5165\u7684\u4f4d\u7f6e\u4e0d\u4e3a 1\uff0c\u5219\u5229\u7528\u4e00\u4e2a node \u6307\u9488\u904d\u5386\u94fe\u8868\u627e\u5230\u8981\u63d2\u5165\u4f4d\u7f6e\u7684\u524d\u4e00\u4e2a\u7ed3\u70b9\uff0c\u5c06\u524d\u4e00\u4e2a\u7ed3\u70b9\u7684 next \u7ed9\u65b0\u8282\u70b9\uff0c\u7136\u540e\u524d\u4e00\u4e2a\u7ed3\u70b9\u7684 next \u6307\u5411 \u65b0\u8282\u70b9\uff0c\u957f\u5ea6 +1\uff1b</li> </ol> <pre><code>Status Insert(HeadNode *head, Element e, int pos) {\n    // \u5982\u679c\u63d2\u5165\u4f4d\u7f6e\u8d85\u8fc7\u6570\u7ec4\u957f\u5ea6\uff0c\u5219\u8fd4\u56deERROR\n    if(pos &gt; head-&gt;length) return ERROR;\n\n    // 1. \u521b\u5efa\u65b0\u8282\u70b9\u5e76\u7ed9\u65b0\u7ed3\u70b9\u7684\u6570\u636e\u57df\u8d4b\u503c\n    Node* newNode = (Node*)malloc(sizeof Node);\n    newNode-&gt;data = e;\n    newNode-&gt;next = NULL;\n\n    // 2. \u5982\u679c\u63d2\u5165\u7684\u4f4d\u7f6e\u4e3a\u9996\u5143\u8282\u70b9\n    if(pos == 1){\n        newNode-&gt;next = head-&gt;next;\n        head-&gt;next = newNode;\n        head-&gt;length++;\n        return OK;\n    }\n\n    // 3. \u5982\u679c\u63d2\u5165\u7684\u4f4d\u7f6e\u4e0d\u662f\u9996\u5143\u8282\u70b9\n    //    \u58f0\u660e\u4e00\u4e2a\u79fb\u52a8\u6307\u9488\u904d\u5386\u904d\u5386\u76f4\u5230\u8fbe\u5230\u8981\u63d2\u5165\u7684\u4f4d\u7f6e\u7684\u524d\u4e00\u4e2a\u7ed3\u70b9\n    //    \u56e0\u4e3a\u8981\u5230\u8fbe\u524d\u4e00\u4e2a\u7ed3\u70b9\uff0c\u6240\u4ee5\u8fd9\u91cc\u8d70\u5230 pos - 1 \u5373\u53ef\n    Node* p = head-&gt;next;\n    for(int i = 1; p &amp;&amp; i &lt; pos - 1; i++){\n        p = p-&gt;next;\n    }\n    newNode-&gt;next = p-&gt;next;\n    p-&gt;next = newNode;\n    head-&gt;length++;\n    return OK;\n}\n\n// \u8c03\u7528\u65f6\nElement e = {\"Boii\", 18};\nInsert(&amp;head, e, 4);\n</code></pre> <p>Note</p> <p>\u94fe\u8868\u63d2\u5165\u7684\u91cd\u70b9\u5728\u4e8e\u8981\u5148\u5c06 \u524d\u4e00\u4e2a\u7ed3\u70b9\u7684\u6307\u9488\u57df \u65b0\u8282\u70b9\u7684\u6307\u9488\u57df newNode-&gt;next = p-&gt;next \uff0c\u7136\u540e\u518d\u628a \u65b0\u8282\u70b9\u7684\u5730\u5740\u7ed9\u524d\u4e00\u4e2a\u7ed3\u70b9\u7684\u6307\u9488\u57df p-&gt;next = newNode \uff0c\u8fd9\u4e24\u8005\u987a\u5e8f\u4e0d\u80fd\u98a0\u5012\uff0c\u5426\u5219\u4f1a\u63d2\u5165\u5931\u8d25\u3002</p> <p></p>"},{"location":"408/DataStructure/2-%E7%BA%BF%E6%80%A7%E8%A1%A8/#_15","title":"\u521d\u59cb\u5316\u94fe\u8868","text":"<p>\u521d\u59cb\u5316\u94fe\u8868\u65f6\u9700\u8981\u5c06 \u5934\u7ed3\u70b9 \u548c \u5143\u7d20\u6570\u7ec4 \u4f20\u7ed9\u51fd\u6570</p> <p>\u4e0a\u9762\u6211\u4eec\u5df2\u7ecf\u5b9a\u4e49\u597d\u4e86 \u521b\u5efa\u94fe\u8868\u51fd\u6570\uff0c\u63d2\u5165\u7ed3\u70b9\u51fd\u6570\uff0c\u6240\u4ee5\u5728\u521d\u59cb\u5316\u65f6\u975e\u5e38\u65b9\u4fbf\uff0c\u53ea\u9700\u8981\u8c03\u7528<code>Create()</code>\u521b\u5efa\u94fe\u8868\uff0c\u7136\u540e\u904d\u5386\u5143\u7d20\u6570\u7ec4\uff0c\u8c03\u7528<code>Insert()</code>\u5373\u53ef\u3002</p> <pre><code>Status Init(HeadNode *head, Element *datas){\n    // \u521b\u5efa\u94fe\u8868\n    if(Create(head)){\n        // \u904d\u5386\u5143\u7d20\u6570\u7ec4\n        for(int i = 0; i &lt; (sizeof datas / sizeof datas[0]); i++)\n            Insert(head, datas[i], i + 1);\n        return OK;\n    }\n    return ERROR;\n}\n\n// \u8c03\u7528\u65f6\nElement datas = {\n    {\"Alice\", 18},\n    {\"Boii\", 20},\n    {\"Candy\", 22}\n};\n\nHeadNode head;\nInit(&amp;head, datas);\n</code></pre>"},{"location":"408/DataStructure/2-%E7%BA%BF%E6%80%A7%E8%A1%A8/#_16","title":"\u8bfb\u53d6\u7ed3\u70b9","text":"<p>\u5047\u8bbe\u73b0\u5728\u8981\u8bfb\u53d6\u7b2c i \u4e2a\u7ed3\u70b9\uff0c\u5728\u8bfb\u53d6\u7ed3\u70b9\u4e4b\u524d\uff0c\u8981\u5148\u627e\u5230\u7ed3\u70b9\uff0c\u7136\u540e\u628a\u6570\u636e\u4fdd\u5b58\u8d77\u6765\u3002</p> <p>\u83b7\u5f97\u94fe\u8868\u7b2c i \u4e2a\u6570\u636e\u7684\u601d\u8def\uff1a</p> <ol> <li>\u58f0\u660e\u4e00\u4e2a\u79fb\u52a8\u6307\u9488 p\uff0c\u8ba9 p \u6307\u5411\u7b2c\u4e00\u4e2a\u7ed3\u70b9\uff1b</li> <li>\u58f0\u660e\u4e00\u4e2a\u8ba1\u6570\u5668 j\uff0c \u521d\u59cb\u5316 j \u4ece 1 \u5f00\u59cb\uff08\u56e0\u4e3a j \u662f\u7528\u6765\u548c i \u505a\u6bd4\u8f83\u7684\uff0ci \u662f\u4ece1\u5f00\u59cb\u7b97\u7684\uff09\uff1b</li> <li>\u5f53 j &lt; i \u65f6\uff0c\u5c31\u904d\u5386\u94fe\u8868\uff0c\u4e00\u76f4\u8ba9\u79fb\u52a8\u6307\u9488 p \u5411\u540e\u79fb\u52a8\u5e76\u4e14 j++\uff0c\u76f4\u5230 j == i\uff1b</li> <li>\u82e5\u5230\u94fe\u8868\u672b\u5c3e p \u4e3a\u7a7a\uff0c\u5219\u8bf4\u660e\u6ca1\u627e\u5230\u7b2c i \u4e2a\u6570\u636e\uff1b</li> <li>\u5426\u5219\u67e5\u627e\u6210\u529f\uff0c\u8fd4\u56de p \u6307\u5411\u7684\u7ed3\u70b9\u7684\u6570\u636e\u3002</li> </ol> <pre><code>Status GetElem(PNode List, int i, Element *e) {\n    PNode p = List-&gt;next;   // \u6307\u5411\u5934\u7ed3\u70b9\uff1b\n    int j = 1;              // \u521d\u59cb\u5316\u8ba1\u6570\u5668\n\n    while(j &lt; i || p ) {\n        p = p-&gt;next;    // \u8ba9\u79fb\u52a8\u6307\u9488\u6307\u5411\u4e0b\u4e00\u4e2a\u7ed3\u70b9\n        j++;\n    }\n\n    // \u5982\u679c p \u4e3a\u7a7a \u6216\u8005 j &gt; i, \u8bf4\u660e\u6ca1\u627e\u5230\uff0c\u8fd4\u56de error\n    if(!p || j &gt; i) return ERROR;\n\n    *e = p-&gt;data;\n    return OK;\n}\n</code></pre>"},{"location":"408/DataStructure/2-%E7%BA%BF%E6%80%A7%E8%A1%A8/#_17","title":"\u5220\u9664\u7ed3\u70b9","text":"<p>\u5220\u9664\u601d\u8def\uff1a</p> <ol> <li>\u521b\u5efa\u4e00\u4e2a\u7ed3\u70b9\u6307\u9488 <code>Node*</code>\u6765\u6682\u5b58\u8981\u88ab\u5220\u9664\u7684\u7ed3\u70b9\u7684\u5730\u5740</li> <li>\u627e\u5230\u8981\u88ab\u5220\u9664\u7684\u7ed3\u70b9\u7684\u524d\u4e00\u4e2a\u7ed3\u70b9</li> <li>\u8ba9\u524d\u4e00\u4e2a\u7ed3\u70b9\u7684 next \u6307\u5411\u88ab\u5220\u7ed3\u70b9\u7684 \u4e0b\u4e00\u4e2a\u7ed3\u70b9</li> <li>free \u91ca\u653e\u88ab\u5220\u7ed3\u70b9\u7684\u5185\u5b58</li> </ol> <pre><code>Status Delete(HeadNode *head, int pos){\n    if(pos &gt; head-&gt;length)\n        return ERROR;\n\n    Node* p = head-&gt;next;\n    /* 1. \u5982\u679c\u5220\u9664\u7684\u662f\u9996\u5143\u8282\u70b9 */\n    if(pos == 1){\n        head-&gt;next = p-&gt;next;\n        head-&gt;length--;\n        free(p);\n        return OK;\n    }\n    /* 2. \u5982\u679c\u5220\u9664\u7684\u4e0d\u662f\u9996\u5143\u7ed3\u70b9 */\n    /* \u5148\u627e\u5230\u8981\u5220\u9664\u7ed3\u70b9\u7684\u524d\u4e00\u4e2a\u7ed3\u70b9 */\n    for(int i = 1; p &amp;&amp; i &lt; pos - 1; i++){\n        p = p-&gt;next;\n    }\n    /* \u7136\u540e\u5220\u9664\u76ee\u6807\u7ed3\u70b9 */\n    Node *q = p-&gt;next;          // \u521b\u5efa\u4e00\u4e2aNode\u578b\u6307\u9488\u6682\u5b58\u88ab\u5220\u7ed3\u70b9\n    p-&gt;next = q-&gt;next;          // \u8ba9\u88ab\u5220\u7ed3\u70b9\u7684\u524d\u9a71\u5143\u7d20\u7684 next \u6307\u5411\u88ab\u5220\u7ed3\u70b9\u7684\u540e\u9a71\u5143\u7d20\n    head-&gt;length--;             // \u957f\u5ea6-1\n\n    free(q);                    // \u91ca\u653e\u88ab\u5220\u7ed3\u70b9\u7684\u7a7a\u95f4\n    q = p = NULL;               // \u6307\u9488\u7f6e\u7a7a\n    return OK;\n}\n</code></pre> <p>Note</p> <p>C\u8bed\u8a00\u9700\u8981\u81ea\u5df1\u7ba1\u7406\u5185\u5b58\uff0c\u81ea\u5df1\u7ba1\u7406\u6307\u9488\u91ca\u653e\u6307\u9488\uff0c\u6240\u4ee5\u5728\u5220\u9664\u4e4b\u524d\u8981\u5148\u5c06\u88ab\u5220\u9664\u7ed3\u70b9\u4fdd\u5b58\u8d77\u6765\uff0c\u6539\u94fe\uff08p-&gt;next = q-&gt;next\uff09\u4e4b\u540e\u5c06\u88ab\u5220\u9664\u7ed3\u70b9\u7684\u5185\u5b58\u91ca\u653e\uff0c\u6700\u540e\u628a\u51fd\u6570\u91cc\u521b\u5efa\u7684\u6307\u9488\u7f6e\u7a7a\u3002</p> <p>\u5220\u9664 i \u7ed3\u70b9\u5176\u5b9e\u5c31\u662f\u8ba9 i - 1 \u7ed3\u70b9\u6307\u5411 i + 1.</p> <p></p>"},{"location":"408/DataStructure/2-%E7%BA%BF%E6%80%A7%E8%A1%A8/#_18","title":"\u5faa\u73af\u94fe\u8868","text":"<p>\u5faa\u73af\u94fe\u8868\u4e0e\u5355\u94fe\u8868\u76f8\u6bd4\u591a\u4e86\u4e00\u4e2a \u5c3e\u5143\u7ed3\u70b9\u6307\u5411\u9996\u5143\u8282\u70b9\u3002\u53ef\u4ee5\u628a\u5c3e\u5143\u7ed3\u70b9\u7684\u6307\u9488\u79f0\u4e3a \u5c3e\u6307\u9488\u3002</p> <p>\u5f53\u904d\u5386\u5faa\u73af\u94fe\u8868\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u5224\u65ad <code>\u5c3e\u5143\u7ed3\u70b9-&gt;next == \u5934\u7ed3\u70b9-&gt;next</code>\u5f97\u77e5\u662f\u5426\u904d\u5386\u4e86\u4e00\u5708\u4e86\u3002</p> <p>\u5176\u5b9e\u5faa\u73af\u94fe\u8868\u53ef\u4ee5\u67092\u79cd\u5b9e\u73b0\u5f62\u5f0f\uff1a</p> <ol> <li>\u5c3e\u6307\u9488\u6307\u5411\u5934\u7ed3\u70b9</li> <li>\u5c3e\u6307\u9488\u6307\u5411\u9996\u5143\u7ed3\u70b9</li> </ol> <p>\u53ef\u6839\u636e\u9700\u8981\u9009\u62e9\u76f8\u5e94\u7684\u8bbe\u8ba1\u3002</p> <p>\u5728\u64cd\u4f5c\u4e0a\uff0c\u5faa\u73af\u94fe\u8868\u548c\u5355\u94fe\u8868\u7684\u533a\u522b\u4e3b\u8981\u5728 \u63d2\u5165 \u548c \u5220\u9664 \u4e0a\u3002</p>"},{"location":"408/DataStructure/2-%E7%BA%BF%E6%80%A7%E8%A1%A8/#_19","title":"\u63d2\u5165\u64cd\u4f5c","text":"<p>\u5faa\u73af\u94fe\u8868\u7684\u63d2\u5165\u64cd\u4f5c\u8981\u8003\u86514\u79cd\u60c5\u51b5</p> <ol> <li>\u94fe\u8868\u662f\u5426\u4e3a\u7a7a</li> <li>\u63d2\u5165\u4f4d\u7f6e\u4e3a\u9996\u5143\u8282\u70b9</li> <li>\u63d2\u5165\u4f4d\u7f6e\u4e3a\u5c3e\u5143\u7ed3\u70b9</li> <li>\u63d2\u5165\u4f4d\u7f6e\u4e3a\u4e2d\u95f4\u7ed3\u70b9</li> </ol> <pre><code>Status Insert(HeadNode *head, Element e, int pos){\n\n    if(pos &gt; head-&gt;length) return ERROR;\n\n    // \u521b\u5efa\u65b0\u7ed3\u70b9\n    Node *newNode = (Node*)malloc(sizeof Node);\n    newNode-&gt;data = e;\n    newNode-&gt;next = NULL;\n\n    /** 1. \u94fe\u8868\u4e3a\u7a7a */\n    if(!head-&gt;length){\n        newNode-&gt;next = newNode;    // \u8ba9\u65b0\u7ed3\u70b9\u7684\u540e\u7ee7\u6307\u9488\u6307\u5411\u81ea\u5df1\n        head-&gt;next = newNode;       // \u8ba9\u5934\u7ed3\u70b9\u6307\u5411\u65b0\u7ed3\u70b9\n        head-&gt;length++;\n        return OK;\n    }\n\n    /** \u94fe\u8868\u4e0d\u4e3a\u7a7a */\n    /** 2. \u63d2\u5165\u4f4d\u7f6e\u4e3a\u9996\u5143\u7ed3\u70b9 */\n    if(pos == 1){\n        // \u5148\u628a\u65b0\u7ed3\u70b9\u505a\u63d2\u5165\u64cd\u4f5c\n        newNode-&gt;next = head-&gt;next;\n        head-&gt;next = newNode;\n        head-&gt;length++;\n        // \u627e\u5230\u5c3e\u7ed3\u70b9\n        Node *last = head-&gt;next;\n        for(int i = 0; i &lt; head-&gt;length; i++) last = last-&gt;next;\n        // \u8ba9\u5c3e\u6307\u9488\u6307\u5411\u65b0\u7ed3\u70b9\n        last-&gt;next = newNode;\n        return OK;\n    }\n\n    /** 3. \u63d2\u5165\u4f4d\u7f6e\u4e3a\u5c3e\u5143\u7ed3\u70b9 */\n    if(pos == head-&gt;length){\n        // \u627e\u5230\u5c3e\u7ed3\u70b9\n        Node *last = head-&gt;next;\n        for(int i = 0; i &lt; head-&gt;length; i++) last = last-&gt;next;\n        // \u8ba9\u65b0\u7ed3\u70b9\u6307\u5411\u5934\u7ed3\u70b9\uff0c\u8ba9\u5c3e\u7ed3\u70b9\u6307\u5411\u65b0\u7ed3\u70b9\n        newNode-&gt;next = head-&gt;next;\n        last-&gt;next = newNode;\n        head-&gt;length++;\n\n        return OK;\n    }\n\n    /** 4. \u63d2\u5165\u4f4d\u7f6e\u4e3a\u4e2d\u95f4\u7ed3\u70b9*/\n    if(pos != head-&gt;length){\n        // \u627e\u5230\u76ee\u6807\u4f4d\u7f6e\u7684\u524d\u4e00\u4e2a\n        Node *p = head-&gt;next;\n        for(int i = 1; p &amp;&amp; i &lt; pos - 1; i++) p = p-&gt;next;\n        // \u505a\u666e\u901a\u63d2\u5165\u64cd\u4f5c\n        newNode-&gt;next = p-&gt;next;\n        p-&gt;next = newNode;\n        head-&gt;length++;\n\n        return OK;\n    }    \n}\n</code></pre> <ul> <li> <p>\u5f53\u94fe\u8868\u4e3a\u7a7a\u65f6\uff0c\u63d2\u5165\u65b0\u7ed3\u70b9\u53ea\u9700\u8981\u8ba9\u65b0\u7ed3\u70b9\u6307\u5411\u81ea\u5df1\uff0c\u7136\u540e\u8ba9\u5934\u7ed3\u70b9\u6307\u5411\u65b0\u7ed3\u70b9\u5373\u53ef     </p> </li> <li> <p>\u5f53\u94fe\u8868\u4e0d\u4e3a\u7a7a</p> <ul> <li>\u63d2\u5165\u4f4d\u7f6e\u4e3a\u9996\u5143\u7ed3\u70b9\u65f6\uff0c\u5148\u505a\u4e00\u4e2a\u666e\u901a\u7684\u63d2\u5165\u64cd\u4f5c\uff0c\u7136\u540e\u627e\u5230\u5c3e\u7ed3\u70b9\u8ba9\u5c3e\u6307\u9488\u6307\u5411\u65b0\u7ed3\u70b9\u5373\u53ef   </li> <li>\u63d2\u5165\u4f4d\u7f6e\u4e3a\u5c3e\u5143\u7ed3\u70b9\u65f6\uff0c\u627e\u5230\u5c3e\u5143\u7ed3\u70b9\uff0c\u8ba9\u65b0\u7ed3\u70b9\u6307\u5411\u5934\u7ed3\u70b9\uff0c\u8ba9\u5c3e\u6307\u9488\u6307\u5411\u65b0\u7ed3\u70b9\u5373\u53ef   </li> <li>\u63d2\u5165\u4f4d\u7f6e\u4e3a\u4e2d\u95f4\u7ed3\u70b9\u65f6\uff0c\u627e\u5230\u76ee\u6807\u4f4d\u7f6e\u524d\u4e00\u4e2a\u7ed3\u70b9\uff0c\u505a\u4e00\u4e2a\u666e\u901a\u63d2\u5165\u64cd\u4f5c\u5373\u53ef</li> </ul> </li> </ul>"},{"location":"408/DataStructure/2-%E7%BA%BF%E6%80%A7%E8%A1%A8/#_20","title":"\u5faa\u73af\u94fe\u8868\u5220\u9664\u64cd\u4f5c","text":"<pre><code>Status DeteleCLinkList(HeadNode* head, int pos)\n{\n    // \u5224\u65ad\u4f4d\u7f6e\u662f\u5426\u6b63\u786e\uff0c\u6216\u662f\u5426\u4e3a\u7a7a\u94fe\u8868\n    if (isEmptyC(head) || pos &gt; head-&gt;length)\n        return ERROR;\n\n    // \u5982\u679c\u662f\u5220\u9664\u9996\u5143\u7ed3\u70b9\n    if (pos == 1) {\n        Node* first = head-&gt;next;\n        head-&gt;next = first-&gt;next;\n\n        Node* last = GetLast(head);\n        last-&gt;next-&gt;next = head-&gt;next;\n\n        head-&gt;length--;\n        free(first);\n        return OK;\n    }\n\n    // \u5982\u679c\u662f\u5220\u9664\u5c3e\u5143\u7ed3\u70b9\n    if (pos == head-&gt;length) {\n        Node* last = GetLast(head);\n        last-&gt;next = head-&gt;next;\n\n        head-&gt;length--;\n        free(last);\n        return OK;\n    }\n    // 1\u3001\u627e\u5230\u76ee\u6807\u7ed3\u70b9\n    Node* current = head-&gt;next;\n    for (int i = 1; i &lt; pos - 1; i++) {\n        current = current-&gt;next;\n    }\n    // 2\u3001\u8fdb\u884c\u5220\u9664\u64cd\u4f5c\n    Node* q = current-&gt;next;\n    current-&gt;next = q-&gt;next;\n    head-&gt;length--;\n    free(q);\n    return OK;\n}\n\n\n/** \u8fd4\u56de\u5c3e\u7ed3\u70b9\u7684\u524d\u9a71\u7ed3\u70b9 */\nNode* GetLast(HeadNode* head)\n{\n    if (!head-&gt;length) {\n        printf(\"\u94fe\u8868\u4e3a\u7a7a\uff01\");\n    }\n    if (head-&gt;length == 1) {\n        return head-&gt;next;\n    }\n\n    Node* last = head-&gt;next;\n    for (int i = 0; i &lt; head-&gt;length - 1; i++) {\n        last = last-&gt;next;\n    }\n    return last;\n}\n</code></pre>"},{"location":"408/DataStructure/3-%E6%A0%88/","title":"3-\u6808","text":""},{"location":"408/DataStructure/3-%E6%A0%88/#3-","title":"3-\u6808","text":"<p>\u6808\u662f\u4e00\u79cd\u53ea\u5141\u8bb8\u5728\u4e00\u7aef\u8fdb\u884c\u63d2\u5165\u548c\u5220\u9664\u64cd\u4f5c\u7684\u64cd\u4f5c\u53d7\u9650\u7684\u7ebf\u6027\u8868\u3002</p> <p>\u6808\u7684\u4e3b\u8981\u7279\u70b9\u662f \u5148\u8fdb\u540e\u51fa (FILO)\uff0c\u5c31\u50cf\u5b50\u5f39\u5939\u4e00\u6837\uff0c\u6700\u5148\u538b\u8fdb\u53bb\u7684\u5b50\u5f39\u6700\u540e\u6253\u51fa\u6765\u3002</p> <p>\u6808\u6709\u4e00\u4e2a\u6307\u9488\uff0c\u6c38\u8fdc\u6307\u5411\u6808\u7684\u6700\u9876\u90e8\uff0c\u79f0\u4f5c \u6808\u9876\u6307\u9488\u3002</p> <p>\u6808\u7684\u53e6\u5916\u4e00\u4e2a\u6982\u5ff5\u662f \u6808\u5e95\u6307\u9488\uff0c\u5728\u987a\u5e8f\u6808\u4e2d\u53ef\u4e0d\u5b9e\u73b0\uff0c\u5728\u94fe\u6808\u4e2d\u5fc5\u987b\u5b9e\u73b0\u3002</p> <p>\u5bf9\u4e8e\u6808\u7684\u64cd\u4f5c\u6709\u63d2\u5165\u548c\u5220\u9664\uff0c\u4e5f\u79f0\u4f5c \u5165\u6808 \u548c \u51fa\u6808\uff0c\u4e0d\u80fd\u4ece\u4e2d\u95f4\u53d6\u51fa\uff0c\u56e0\u4e3a\u53ea\u6709\u4e00\u4e2a\u53e3\u3002</p> <ul> <li> <p>\u987a\u5e8f\u6808\uff1a\u6808\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u5b58\u50a8\u5728\u4e00\u6bb5\u8fde\u7eed\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u7528\u6570\u7ec4\u5b9e\u73b0\u3002</p> </li> <li> <p>\u94fe\u6808\uff1a\u6808\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u4e0d\u4e00\u5b9a\u7d27\u6328\u7740\uff0c\u7528\u94fe\u8868\u5b9e\u73b0\u3002</p> </li> </ul> <p>\u6808\u7684\u4e3b\u8981\u64cd\u4f5c\u5305\u62ec\uff1a\u521b\u5efa\u3001\u521d\u59cb\u5316\u3001\u5165\u6808\u3001\u51fa\u6808\u3001\u5224\u7a7a\u3001\u5224\u6ee1\u3001\u83b7\u53d6\u6808\u9876\u5143\u7d20\u3001\u6e05\u7a7a\u6808\u3002</p> <p>\u6808\u7684\u5e94\u7528\u975e\u5e38\u5e7f\uff0c\u4f8b\u5982\u51fd\u6570\u8c03\u7528\u5c31\u662f\u7528\u6808\u5b9e\u73b0\u7684\u3002\u6808\u8fd9\u79cd\u524d\u8fdb\u540e\u51fa\u7684\u7279\u70b9\u975e\u5e38\u9002\u5408\u89e3\u51b3\u5339\u914d\u95ee\u9898\u3002</p>"},{"location":"408/DataStructure/3-%E6%A0%88/#_1","title":"\u987a\u5e8f\u6808","text":""},{"location":"408/DataStructure/3-%E6%A0%88/#_2","title":"\u5b9a\u4e49","text":"<pre><code>#ifndef DATAELEMENT_H_INCLUDED\n#define DATAELEMENT_H_INCLUDED\n#define MAX_SIZE 10\n#define OK 1\n#define ERROR 0\n#define TRUE 1\n#define FALSE 0\n\ntypedef int Bool;\ntypedef int Status;\n\n/** \u6570\u636e\u5143\u7d20 */\ntypedef struct {\n    int id;\n    char* name;\n} Element;\n\n\n/** \u6808 */\ntypedef struct {\n    Element datas[MAX_SIZE];\n    int top;    // \u6808\u9876\u6307\u9488\n} Stack;\n\n\n#endif // DATAELEMENT_H_INCLUDED\n</code></pre>"},{"location":"408/DataStructure/3-%E6%A0%88/#_3","title":"\u521b\u5efa","text":"<pre><code>Status Create(Stack *s) {\n    s-&gt;top = -1;\n    return OK;\n}\n</code></pre> <p>\u6808\u7a7a\u6761\u4ef6\u6709\u4e24\u79cd\uff1a<code>s-&gt;top == -1</code>\u3001<code>s-&gt;top == 0</code></p> <p>\u8fd9\u91cc\u91c7\u7528 -1 \u8fd9\u79cd\uff0c\u539f\u56e0\u662f\u4e0d\u9700\u8981\u6d6a\u8d39\u4e00\u4e2a\u5143\u7d20\u5927\u5c0f\u7684\u7a7a\u95f4\uff0c\u53e6\u5916\u64cd\u4f5c\u8d77\u6765\u4e5f\u65b9\u4fbf\uff0c\u56e0\u4e3a\u6570\u7ec4\u4e0b\u6807\u662f\u4ece0\u5f00\u59cb\u7684\u3002</p> s-&gt;top == -1s-&gt;top == 0 <p></p> <p></p> <p></p> <p></p>"},{"location":"408/DataStructure/3-%E6%A0%88/#_4","title":"\u521d\u59cb\u5316","text":"<pre><code>Status Init(Stack* s, Element* datas, int length) {\n    if (length &gt; MAX_SIZE)\n        return ERROR;\n    if (s-&gt;top != -1)\n        Create(s);\n\n    for (int i = 0; i &lt; length; i++)\n        push(s, datas[i]);\n\n    return OK;\n}\n</code></pre>"},{"location":"408/DataStructure/3-%E6%A0%88/#_5","title":"\u5165\u6808","text":"<pre><code>Status push(Stack* s, Element e) {\n    if (s-&gt;top &gt;= MAX_SIZE - 1)\n        return ERROR;\n\n    s-&gt;datas[++s-&gt;top] = e;\n    return OK;\n}\n</code></pre> <p>\u6211\u4eec\u91c7\u7528\u7684\u662f\u7b2c\u4e00\u79cd\u6808\u7a7a\u8868\u793a\u65b9\u5f0f\uff0c\u6808\u9876\u6307\u9488\u6c38\u8fdc\u6307\u5411\u6808\u9876\u5143\u7d20\uff0c\u6240\u4ee5\u5728\u5c06\u5143\u7d20\u8d4b\u503c\u538b\u5165\u6808\u4e4b\u524d\uff0c\u8981\u5148\u628a\u6808\u9876\u6307\u9488\u62ac\u8d77\u6765 1 \u683c\uff0c\u7136\u540e\u518d\u628a\u5143\u7d20\u653e\u8fdb\u53bb\u3002</p> <p><code>s-&gt;datas[++s-&gt;top] = e</code> \u7b49\u4ef7\u4e8e </p> <pre><code>s-&gt;top++;\ns-&gt;datas[s-&gt;top] = e\n</code></pre>"},{"location":"408/DataStructure/3-%E6%A0%88/#_6","title":"\u51fa\u6808","text":"<pre><code>Element pop(Stack* s) {\n    return s-&gt;datas[s-&gt;top--];\n}\n</code></pre> <p>\u51fa\u6808\u7684\u9053\u7406\u76f8\u540c\uff0c\u5148\u628a\u5143\u7d20\u53d6\u51fa\u6765\uff0c\u7136\u540e\u6808\u9876\u6307\u9488\u964d\u4e0b\u53bb1\u683c\u3002</p> <p><code>s-&gt;datas[s-&gt;top--]</code> \u7b49\u4ef7\u4e8e  </p><pre><code>s-&gt;datas[s-&gt;top]; \ns-&gt;top--;\n</code></pre><p></p>"},{"location":"408/DataStructure/3-%E6%A0%88/#_7","title":"\u83b7\u53d6\u6808\u9876\u5143\u7d20","text":"<p>\u83b7\u53d6\u6808\u9876\u5143\u7d20\u4e0d\u4f1a\u51fa\u6808\uff0c\u5c31\u50cf\u628a\u5f39\u5939\u53d6\u4e0b\u6765\u770b\u4e00\u773c\uff0c\u5e76\u4e0d\u662f\u6253\u51fa\u53bb\u3002</p> <pre><code>Element get(Stack* s) {\n    return s-&gt;datas[s-&gt;top];\n}\n</code></pre>"},{"location":"408/DataStructure/3-%E6%A0%88/#_8","title":"\u5224\u7a7a","text":"<p>\u6211\u4eec\u91c7\u7528\u7684\u662f\u7b2c\u4e00\u79cd\u6808\u7a7a\u8868\u793a\u65b9\u5f0f\uff0c\u6240\u4ee5\u53ea\u8981\u5224\u65ad\u6808\u9876\u6307\u9488\u662f\u4e0d\u662f <code>s-&gt;top == -1</code> 21\u5373\u53ef\u3002</p> <pre><code>Bool isEmpty(Stack* s) {\n    return s-&gt;top == -1;\n}\n</code></pre>"},{"location":"408/DataStructure/3-%E6%A0%88/#_9","title":"\u5224\u6ee1","text":"<pre><code>Bool isFull(Stack* s) {\n    return s-&gt;top == MAX_SIZE - 1 ? TRUE : FALSE;\n}\n</code></pre>"},{"location":"408/DataStructure/3-%E6%A0%88/#_10","title":"\u6e05\u7a7a\u6808","text":"<pre><code>Status Clean(Stack* s) {\n    s-&gt;top = -1;\n    return OK;\n}\n</code></pre> <p>\u987a\u5e8f\u6808\u7684\u6e05\u7a7a\u5f88\u7b80\u5355\uff0c\u53ea\u9700\u8981\u628a\u6808\u9876\u6307\u9488\u6307\u5411\u6808\u5e95\u5373\u53ef\uff0c\u867d\u7136\u539f\u672c\u7684\u6570\u636e\u6ca1\u6709\u88ab\u9500\u6bc1\uff0c\u4f46\u662f\u540e\u7eedpush\u7684\u6570\u636e\u4f1a\u5c06\u5176\u8986\u76d6\u3002\u5373\u4f7f\u6ca1\u6709\u8986\u76d6\uff0c\u5728\u6808\u4e2d\u6211\u4eec\u53ea\u9700\u8981\u5173\u6ce8\u6808\u9876\u6307\u9488 top \u7684\u6307\u5411\u5373\u53ef\uff0ctop \u6240\u6307\u5373\u4e3a\u6808\u9876\uff0c\u4e0d\u8bba top \u4e4b\u4e0a\u6709\u6ca1\u6709\u6570\u636e\u3002</p> <p>\u81f3\u4e8e\u9500\u6bc1\u6808\uff0c\u9700\u8981\u5728\u5b9a\u4e49 <code>Stack s</code> \u7684\u5730\u65b9 <code>free(s)</code> \u3002</p>"},{"location":"408/DataStructure/3-%E6%A0%88/#_11","title":"\u6253\u5370\u6808","text":"<pre><code>void Show(Stack* s) {\n    for (int i = 0; i &lt;= s-&gt;top; i++)\n        printf(\"%d \\t %s \\n\", s-&gt;datas[i].id, s-&gt;datas[i].name);\n}\n</code></pre>"},{"location":"408/DataStructure/3-%E6%A0%88/#_12","title":"\u6d4b\u8bd5\u6570\u636e","text":"<pre><code>#include \"SqStack.c\"\n\nElement datas[] = {\n    { 1, \"Iron Man\" },\n    { 2, \"Green Man\" },\n    { 3, \"Thor\" },\n    { 4, \"Doctor\" }\n};\n\nint main()\n{\n    Stack s;\n    Create(&amp;s);\n    Init(&amp;s, datas, sizeof datas / sizeof datas[0]);\n    Show(&amp;s);\n\n    printf(\"\\n----------------------------------\\n\");\n\n    Element e = { 5, \"Big Man\" };\n    push(&amp;s, e);\n    Show(&amp;s);\n\n    printf(\"\\n----------------------------------\\n\");\n\n    Element pe = pop(&amp;s);\n    pop(&amp;s);\n    Show(&amp;s);\n\n    return 0;\n}\n\n// ---------------------------------------------------\n// Output:\n1    Iron Man \n2    Green Man \n3    Thor \n4    Doctor \n\n----------------------------------\n1    Iron Man \n2    Green Man \n3    Thor \n4    Doctor \n5    Big Man \n\n----------------------------------\n1    Iron Man \n2    Green Man \n3    Thor \n</code></pre>"},{"location":"408/DataStructure/3-%E6%A0%88/#_13","title":"\u94fe\u6808","text":""},{"location":"408/DataStructure/3-%E6%A0%88/#_14","title":"\u5b9a\u4e49","text":"<pre><code>#ifndef DATAELEMENT_H_INCLUDED\n#define DATAELEMENT_H_INCLUDED\n#define MAX_SIZE 10\n#define OK 1\n#define ERROR 0\n#define TRUE 1\n#define FALSE 0\ntypedef int Status;\ntypedef int Bool;\n\n/** \u6570\u636e\u5143\u7d20 */\ntypedef struct {\n    int id;\n    char* name;\n} Element;\n\n\n/** \u94fe\u6808\u7ed3\u70b9 */\ntypedef struct Node {\n    Element data;\n    struct Node* next;\n} Node;\n\n\n/** \u94fe\u6808 */\ntypedef struct {\n    Node* next;\n    int top;\n} LStack;\n\n#endif // DATAELEMENT_H_INCLUDED\n</code></pre> <p>\u94fe\u6808\u7a0d\u5fae\u6bd4\u987a\u5e8f\u6808\u590d\u6742\u4e00\u70b9\u70b9\uff0c\u4f46\u662f\u6362\u6765\u4e0d\u9650\u6808\u5927\u5c0f\u7684\u597d\u5904\uff0c\u6240\u4ee5\u5728\u94fe\u6808\u4e2d\u6ca1\u6709\u6808\u6ee1\u7684\u6982\u5ff5\u3002</p> <p>\u540c\u65f6\uff0c\u94fe\u6808\u5728\u5165\u6808\u7684\u65f6\u5019\u9700\u8981\u624b\u52a8\u5206\u914d\u7a7a\u95f4\uff0c\u5728\u51fa\u6808\u7684\u65f6\u5019\u9700\u8981\u628a\u7ed3\u70b9\u4e2d\u7684\u6570\u636e\u4fdd\u5b58\u8d77\u6765\uff0c\u9500\u6bc1\u7ed3\u70b9\uff0c\u518d\u628a\u6570\u636e\u8fd4\u56de\u3002</p>"},{"location":"408/DataStructure/3-%E6%A0%88/#_15","title":"\u521b\u5efa","text":"<pre><code>Status Create(LStack* s) {\n    s-&gt;next = NULL;\n    s-&gt;top = -1;\n    return OK;\n}\n</code></pre>"},{"location":"408/DataStructure/3-%E6%A0%88/#_16","title":"\u521d\u59cb\u5316","text":"<pre><code>Status Init(LStack* s, Element* datas, int length) {\n    if (s-&gt;top != -1)\n        Create(s);\n\n    for (int i = 0; i &lt; length; i++) \n        push(s, datas[i]);\n\n    return OK;\n}\n</code></pre>"},{"location":"408/DataStructure/3-%E6%A0%88/#_17","title":"\u5165\u6808","text":"<pre><code>Status push(LStack* s, Element e) {\n    // \u5efa\u7acb\u65b0\u7ed3\u70b9\uff0c\u5206\u914d\u7a7a\u95f4\n    Node* new = (Node*)malloc(sizeof(Node));\n    // \u5224\u65ad\u5206\u914d\u7a7a\u95f4\u662f\u5426\u6210\u529f\n    if (!new)\n        return ERROR;\n    new-&gt;data = e;\n\n    // \u63d2\u5165\u5230\u94fe\u8868\u7684\u9996\u5143\u7ed3\u70b9\uff0c\u6210\u4e3a\u6808\u9876\u5143\u7d20\n    new-&gt;next = s-&gt;next;\n    s-&gt;next = new;\n    s-&gt;top++;\n}\n</code></pre> <p>\u8fd9\u91cc\u7684\u5165\u6808\u4f7f\u7528\u7684\u662f\u5934\u63d2\u6cd5\uff0c\u5373\u6bcf\u4e2a\u65b0\u63d2\u5165\u7684\u5143\u7d20\u90fd\u4f1a\u63d2\u5728\u94fe\u8868\u7684\u9996\u5143\u7ed3\u70b9\u7684\u4f4d\u7f6e\u3002</p>"},{"location":"408/DataStructure/3-%E6%A0%88/#_18","title":"\u51fa\u6808","text":"<pre><code>Element pop(LStack* s) {\n    Element res;\n    if (isEmpty(s)) {\n        return res;\n    }\n    Element res = s-&gt;next-&gt;data;    // \u5c06\u6808\u9876\u5143\u7d20\u7684\u6570\u636e\u590d\u5236\u4e00\u4efd\n    // \u6539\u94fe\uff0c\u539f\u672c\u6307\u5411\u6808\u9876\u5143\u7d20\uff0c\u73b0\u5728\u6307\u5411\u6808\u9876\u7684\u4e0b\u4e00\u4e2a\u5143\u7d20\uff0c\u4f7f\u5176\u6210\u4e3a\u65b0\u7684\u6808\u9876\n    Node* p = s-&gt;next;\n    s-&gt;next = p-&gt;next;\n    // \u5c06\u65e7\u7684\u6808\u9876\u5143\u7d20\u91ca\u653e\u7a7a\u95f4\n    free(p);\n    s-&gt;top--;\n\n    return res;\n}\n</code></pre> <p>\u94fe\u6808\u7684\u51fa\u6808\u64cd\u4f5c\u8981\u8bb0\u5f97\u628a\u88ab\u5f39\u51fa\u6808\u7684\u65e7\u6808\u9876\u5143\u7d20\u91ca\u653e\u3002</p>"},{"location":"408/DataStructure/3-%E6%A0%88/#_19","title":"\u83b7\u53d6\u6808\u9876\u5143\u7d20","text":"<pre><code>Element get(LStack* s) {\n    return s-&gt;next-&gt;data;\n}\n</code></pre>"},{"location":"408/DataStructure/3-%E6%A0%88/#_20","title":"\u5224\u7a7a","text":"<pre><code>Bool isEmpty(LStack* s) {\n    return s-&gt;top == -1;\n}\n</code></pre>"},{"location":"408/DataStructure/3-%E6%A0%88/#_21","title":"\u6e05\u7a7a\u6808","text":"<pre><code>Status Clean(LStack* s)\n{\n    if (s-&gt;top == -1) {\n        return OK;\n    }\n\n    Node* deleted = s-&gt;next;\n    Node* p;\n    while (deleted) {\n        p = deleted-&gt;next;\n        free(deleted);\n        deleted = p;\n    }\n\n    // s-&gt;next = NULL;\n    // s-&gt;top = -1;\n    Create(s);\n    return OK;\n}\n</code></pre> <p>\u6e05\u7a7a\u94fe\u6808\u548c\u9500\u6bc1\u94fe\u8868\u7684\u64cd\u4f5c\u662f\u76f8\u540c\u7684\uff0c\u9700\u8981\u5b9a\u4e49\u4e24\u4e2a\u7ed3\u70b9\u6307\u9488\uff0c\u76f8\u4e92\u914d\u5408\u5b9e\u73b0\u6574\u8868\u9500\u6bc1\u3002</p> <p>\u6700\u540e\u5c06\u6808\u7f6e\u7a7a\uff0c\u6808\u9876\u6307\u9488\u6062\u590d\u5230\u521d\u8bd5\u72b6\u6001\uff0c\u6240\u4ee5\u8fd9\u91cc\u8c03\u7528\u4e86 <code>Create()</code>\uff0c\u7b49\u4ef7\u4e8e\u5176\u4e0a\u9762\u4e24\u53e5\u8868\u8fbe\u5f0f\u3002</p>"},{"location":"408/DataStructure/3-%E6%A0%88/#_22","title":"\u6253\u5370\u94fe\u6808","text":"<pre><code>void Show(LStack* s) {\n    if (s-&gt;top == -1) {\n        printf(\"Stack is EMPTY!\");\n        return;\n    }\n\n    Node* p = s-&gt;next;\n    for (int i = s-&gt;top; i &gt; -1; i--) {\n        printf(\"%d \\t %s \\n\", p-&gt;data.id, p-&gt;data.name);\n        p = p-&gt;next;\n    }\n}\n</code></pre>"},{"location":"408/DataStructure/3-%E6%A0%88/#_23","title":"\u6d4b\u8bd5\u6570\u636e","text":"<pre><code>#include \"LinkStack.c\"\n\nElement datas[] = {\n    { 1, \"Iron Man\" },\n    { 2, \"Green Man\" },\n    { 3, \"Thor\" },\n    { 4, \"Doctor\" }\n};\n\nint main()\n{\n    LStack s;\n    Init(&amp;s, datas, 4);\n    Show(&amp;s);\n\n    printf(\"\\n----------------------------------\\n\");\n\n    Element e = { 5, \"Big Man\" };\n    push(&amp;s, e);\n    Show(&amp;s);\n\n    printf(\"\\n----------------------------------\\n\");\n\n    Element pe = pop(&amp;s);\n    pop(&amp;s);\n    Show(&amp;s);\n\n    printf(\"\\n----------------------------------\\n\");\n\n    Clean(&amp;s);\n    Show(&amp;s);\n\n\n    return 0;\n}\n\n// ---------------------------------------------------\n// Output:\n4    Doctor \n3    Thor \n2    Green Man \n1    Iron Man \n\n----------------------------------\n5    Big Man \n4    Doctor \n3    Thor \n2    Green Man \n1    Iron Man \n\n----------------------------------\n3    Thor \n2    Green Man \n1    Iron Man \n\n----------------------------------\nStack is EMPTY!\n</code></pre>"},{"location":"408/DataStructure/3-%E6%A0%88/#_24","title":"\u5171\u4eab\u6808","text":"<p>\u5171\u4eab\u6808\uff1a\u6307\u7684\u662f\u4e24\u4e2a\u6808\u5171\u7528\u4e00\u4e2a\u5185\u5b58\u7a7a\u95f4\u7684\u4e00\u79cd\u6808\u7ed3\u6784\u3002</p> <p>\u5171\u4eab\u6808\u4e0d\u9700\u8981\u7528\u94fe\u5f0f\u7ed3\u6784\uff0c\u56e0\u4e3a\u5171\u4eab\u6808\u4e3a\u7684\u662f \u8282\u7701\u7a7a\u95f4\uff0c\u7528\u94fe\u5f0f\u6ca1\u6709\u610f\u4e49\u3002</p> <p>\u4e24\u4e2a\u6808\u7684\u6808\u5e95\u56fa\u5b9a\u4e0d\u53d8\uff0c\u8bb2\u4e24\u4e2a\u6808\u9876\u8bbe\u7f6e\u5728\u6570\u7ec4\u7684\u4e24\u7aef\uff0c\u5373 \u5de6\u8fb9\u7684\u6808 s0 \u7684\u6808\u5e95\u8bbe\u5728 <code>0</code> \u5904\uff0c\u53f3\u8fb9\u7684\u6808 s1 \u7684\u6808\u5e95\u8bbe\u5728 <code>MAX_SIZE - 1</code> \u5904\u3002</p> <p>\u521b\u5efa\u5171\u4eab\u6808\u65f6\uff0c\u5de6\u6808\u7684\u6808\u9876\u6307\u9488 <code>topL = -1</code>\uff0c\u53f3\u6808\u7684\u6808\u9876\u6307\u9488 <code>topR = MAX_SIZE</code>\uff0c\u5f53\u4e24\u4e2a\u6808\u9876\u76f8\u9047\u65f6\u6808\u6ee1\uff0c\u8fd9\u6837\u53ef\u4ee5\u5c3d\u53ef\u80fd\u5730\u5229\u7528\u7a7a\u95f4\u3002</p> \u6808\u7a7a\u6808\u6ee1\u666e\u901a\u72b6\u6001 <p></p> \u6808\u7a7a (topL == -1 &amp;&amp; topR == MAX_SIZE) <p></p> <p></p> \u6808\u6ee1 (topL == topR - 1) <p></p> <p></p> \u666e\u901a\u72b6\u6001 <p></p>"},{"location":"408/DataStructure/3-%E6%A0%88/#_25","title":"\u5b9a\u4e49","text":"<p>\u5171\u4eab\u6808\u7684\u5b9a\u4e49\u7a0d\u7a0d\u4e0d\u540c\u3002</p> <pre><code>#ifndef DATAELEMENT_H_INCLUDED\n#define DATAELEMENT_H_INCLUDED\n#define MAX_SIZE 10\n#define OK 1\n#define ERROR 0\n#define TRUE 1\n#define FALSE 0\n\n#define LEFT 1    // \u548c\u987a\u5e8f\u6808\u7684\u5b9a\u4e49\u76f8\u6bd4\u591a\u4e00\u4e2a LEFT \u548c RIGHT \u6765\u6807\u8bb0\u65b9\u5411\n#define RIGHT 999\n\ntypedef int Bool;\ntypedef int Status;\n\ntypedef struct {\n    int id;\n    char* name;\n} Element;\n\ntypedef struct {\n    Element datas[MAX_SIZE];    // \u6808\u7684\u5b58\u50a8\u7a7a\u95f4\uff0c\u7528\u6570\u7ec4\u6765\u5b58\u50a8\n    int topL;    // \u5de6\u6808\u7684\u6808\u9876\u6307\u9488\n    int topR;    // \u53f3\u6808\u7684\u6808\u9876\u6307\u9488\n} ShareStack;\n\n#endif // DATAELEMENT_H_INCLUDED\n</code></pre>"},{"location":"408/DataStructure/3-%E6%A0%88/#_26","title":"\u521b\u5efa","text":"<pre><code>Status Create(ShareStack* s)\n{\n    s-&gt;topL = -1;\n    s-&gt;topR = MAX_SIZE;\n    return OK;\n}\n</code></pre> \u521b\u5efa\u65f6\uff0c\u5c06\u4e24\u4e2a\u6307\u9488\u521d\u59cb\u5316"},{"location":"408/DataStructure/3-%E6%A0%88/#_27","title":"\u521d\u59cb\u5316","text":"<pre><code>Status Init(ShareStack* s, Element* datas, int length, int direction)\n{\n    if (length &gt; MAX_SIZE) {\n        return ERROR;\n    }\n\n    if (direction == LEFT &amp;&amp; !isEmptyL(s)) {\n        s-&gt;topL == -1;\n    }\n    if (direction == RIGHT &amp;&amp; !isEmptyR(s)) {\n        s-&gt;topR = MAX_SIZE;\n    }\n\n    for (int i = 0; i &lt; length; i++) {\n        push(s, datas[i], direction);\n    }\n    return OK;\n}\n</code></pre> <p>\u5171\u4eab\u6808\u9700\u8981\u591a\u4e00\u4e2a\u53c2\u6570 direction\uff0c\u6765\u6307\u5b9a\u5c06\u5143\u7d20\u653e\u5165\u5de6\u6808\u8fd8\u662f\u53f3\u6808\u3002</p>"},{"location":"408/DataStructure/3-%E6%A0%88/#_28","title":"\u5165\u6808","text":"<pre><code>Status push(ShareStack* s, Element e, int direction)\n{\n    if (isFull(s)) {\n        return ERROR;\n    }\n\n    switch (direction) {\n    case LEFT:\n        s-&gt;datas[++s-&gt;topL] = e;\n        return OK;\n\n    case RIGHT:\n        s-&gt;datas[--s-&gt;topR] = e;\n        return OK;\n\n    default:\n        printf(\"Direction is ILLEGAL PARAMETER!\");\n        return ERROR;\n    }\n}\n</code></pre>"},{"location":"408/DataStructure/3-%E6%A0%88/#_29","title":"\u51fa\u6808","text":"<pre><code>Element pop(ShareStack* s, int direction)\n{\n    Element e;\n    switch (direction) {\n    case LEFT:\n        if (isEmptyL(s)) {\n            return e;\n        }\n        e = s-&gt;datas[s-&gt;topL--];\n        return e;\n\n    case RIGHT:\n        if (isEmptyR(s)) {\n            return e;\n        }\n        e = s-&gt;datas[s-&gt;topR--];\n        return e;\n\n    default:\n        printf(\"Direction is ILLEGAL PARAMETER!\");\n        break;\n    }\n}\n</code></pre>"},{"location":"408/DataStructure/3-%E6%A0%88/#_30","title":"\u83b7\u53d6\u6808\u9876\u5143\u7d20","text":"<pre><code>Element get(ShareStack* s, int direction)\n{\n    return s-&gt;datas[direction == LEFT ? s-&gt;topL : s-&gt;topR];\n}\n</code></pre>"},{"location":"408/DataStructure/3-%E6%A0%88/#_31","title":"\u5224\u7a7a","text":"<pre><code>Bool isEmpty(ShareStack* s)\n{\n    return s-&gt;topL == -1 &amp;&amp; s-&gt;topR == MAX_SIZE;\n}\n\nBool isEmptyL(ShareStack* s)\n{\n    return s-&gt;topL == -1;\n}\n\nBool isEmptyR(ShareStack* s)\n{\n    return s-&gt;topR == MAX_SIZE;\n}\n</code></pre>"},{"location":"408/DataStructure/3-%E6%A0%88/#_32","title":"\u5224\u6ee1","text":"<pre><code>Bool isFull(ShareStack* s)\n{\n    return s-&gt;topL == s-&gt;topR - 1;\n}\n</code></pre>"},{"location":"408/DataStructure/3-%E6%A0%88/#_33","title":"\u6e05\u7a7a\u6808","text":"<pre><code>Status Clean(ShareStack* s, int direction)\n{\n    if (isEmpty(s)) {\n        return OK;\n    }\n\n    switch (direction) {\n    case LEFT:\n        s-&gt;topL = -1;\n        break;\n\n    case RIGHT:\n        s-&gt;topR = MAX_SIZE;\n        break;\n\n    default:\n        return ERROR;\n    }\n    return OK;\n}\n</code></pre>"},{"location":"408/DataStructure/3-%E6%A0%88/#_34","title":"\u6253\u5370\u6808","text":"<pre><code>void Show(ShareStack* s, int direction)\n{\n    if (isEmpty(s)) {\n        printf(\"The Whole Share stack is EMPTY!\\n\");\n    }\n\n    switch (direction) {\n    // \u6253\u5370\u5de6\u6808\n    case LEFT:\n        if (isEmptyL(s)) {\n            printf(\"The Left Share stack is EMPTY!\\n\");\n            return;\n        }\n\n        for (int i = 0, j = 1; i &lt;= s-&gt;topL; i++, j++) {\n            printf(\"No. %d is: %d \\t %s \\n\", j, s-&gt;datas[i].id, s-&gt;datas[i].name);\n        }\n        break;\n    // \u6253\u5370\u53f3\u6808\n    case RIGHT:\n        if (isEmptyR(s)) {\n            printf(\"The Right Share stack is EMPTY!\\n\");\n            return;\n        }\n        for (int i = s-&gt;topR, j = 1; i &lt; MAX_SIZE; i++, j++) {\n            printf(\"No. %d is: %d \\t %s \\n\", j, s-&gt;datas[i].id, s-&gt;datas[i].name);\n        }\n        break;\n    // \u5982\u679c\u4f20\u8fdb\u6765\u7684\u4e0d\u662f LEFT \u4e5f\u4e0d\u662f RIGHT\uff0c\u5219\u6253\u5370\u6574\u4e2a\u6808\n    default:\n        for (int i = 0; i &lt; MAX_SIZE; i++) {\n            if (i &gt; s-&gt;topL &amp;&amp; i &lt; s-&gt;topR) {    // \u8d85\u8fc7\u5de6\u6808\u6ca1\u5230\u53f3\u6808\u7684\u8fd9\u6bb5\u7a7a\u767d\n                printf(\"No. %d is EMPTY.\\n\", i + 1);\n            } else {\n                printf(\"No. %d is: %d \\t %s \\n\", i + 1, s-&gt;datas[i].id, s-&gt;datas[i].name);\n            }\n        }\n        break;\n    }\n}\n</code></pre>"},{"location":"408/DataStructure/3-%E6%A0%88/#_35","title":"\u6d4b\u8bd5\u6570\u636e","text":"<pre><code>#include \"ShareStack.c\"\n#define len(X) sizeof(X) / sizeof(X[0])\n\nElement datas1[] = {\n    { 1, \"Iron Man\" },\n    { 2, \"Green Man\" },\n    { 3, \"Thor\" },\n    { 4, \"Doctor\" }\n};\n\nElement datas2[] = {\n    { 12, \"Spider Man\" },\n    { 24, \"Wonder Woman\" },\n    { 35, \"Bat Man\" },\n    { 40, \"Super Man\" }\n};\n\nint main()\n{\n    ShareStack ss;\n    Create(&amp;ss);\n    Init(&amp;ss, datas2, len(datas2), RIGHT);\n    Show(&amp;ss, RIGHT);\n\n    printf(\"\\n----------------------------------\\n\");\n\n    Init(&amp;ss, datas1, len(datas1), LEFT);\n    Show(&amp;ss, LEFT);\n\n    printf(\"\\n----------------------------------\\n\");\n\n    Show(&amp;ss, 10);\n    return 0;\n}\n\n// ---------------------------------------------------\n// Output:\nNo. 1 is: 40     Super Man \nNo. 2 is: 35     Bat Man \nNo. 3 is: 24     Wonder Woman \nNo. 4 is: 12     Spider Man \n\n----------------------------------\nNo. 1 is: 1      Iron Man \nNo. 2 is: 2      Green Man \nNo. 3 is: 3      Thor \nNo. 4 is: 4      Doctor \n\n----------------------------------\nNo. 1 is: 1      Iron Man \nNo. 2 is: 2      Green Man \nNo. 3 is: 3      Thor \nNo. 4 is: 4      Doctor \nNo. 5 is EMPTY.\nNo. 6 is EMPTY.\nNo. 7 is: 40     Super Man \nNo. 8 is: 35     Bat Man \nNo. 9 is: 24     Wonder Woman \nNo. 10 is: 12    Spider Man \n</code></pre>"},{"location":"408/DataStructure/4-%E9%98%9F%E5%88%97/","title":"4-\u961f\u5217","text":""},{"location":"408/DataStructure/4-%E9%98%9F%E5%88%97/#4-","title":"4-\u961f\u5217","text":"<p>\u961f\u5217\u662f\u53ea\u5141\u8bb8\u5728\u4e00\u7aef\u8fdb\u884c\u63d2\u5165\u64cd\u4f5c\uff0c\u5728\u53e6\u4e00\u7aef\u8fdb\u884c\u5220\u9664\u64cd\u4f5c\u7684\u53d7\u9650\u7684\u7ebf\u6027\u8868\u3002</p> <p>\u961f\u5217\u662f\u4e00\u79cd \u5148\u8fdb\u5148\u51fa(FIFO) \u7684\u7ebf\u6027\u8868\uff0c\u5c31\u50cf\u6c34\u7ba1\u4e00\u6837\uff0c\u4ece\u4e00\u5934\u8fdb\u53bb\uff0c\u4ece\u53e6\u4e00\u5934\u51fa\u6765</p> <p>\u961f\u5217\u6709\u4e24\u4e2a\u6307\u9488\uff0c\u4e00\u4e2a\u6307\u5411 \u961f\u5934\uff0c\u53ea\u5141\u8bb8\u5220\u9664\uff1b\u4e00\u4e2a\u6307\u5411 \u961f\u5c3e\uff0c\u53ea\u5141\u8bb8\u63d2\u5165\u3002</p> <p>\u5bf9\u4e8e\u961f\u5217\u7684\u64cd\u4f5c\u6709\u63d2\u5165\u548c\u5220\u9664\uff0c\u4e5f\u79f0\u4f5c \u5165\u961f \u548c \u51fa\u961f\uff0c\u4e0d\u80fd\u4ece\u4e2d\u95f4\u53d6\u3002</p> <ul> <li>\u987a\u5e8f\u961f\uff1a\u961f\u5217\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u5728\u4e00\u6bb5\u8fde\u7eed\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u7528\u6570\u7ec4\u5b9e\u73b0\u3002</li> <li>\u94fe\u961f\uff1a\u961f\u5217\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u4e0d\u4e00\u5b9a\u7d27\u6328\u7740\uff0c\u7528\u94fe\u8868\u5b9e\u73b0\u3002</li> <li>\u5faa\u73af\u961f\uff1a\u961f\u5934\u8fde\u63a5\u7740\u961f\u5c3e\u3002</li> </ul> <p>\u961f\u7684\u4e3b\u8981\u64cd\u4f5c\u5305\u62ec\uff1a\u521b\u5efa\u3001\u521d\u59cb\u5316\u3001\u5165\u961f\u3001\u51fa\u961f\u3001\u5224\u7a7a\u3001\u5224\u6ee1\u3001\u6e05\u7a7a\u961f\u5217\u3002</p>"},{"location":"408/DataStructure/4-%E9%98%9F%E5%88%97/#_1","title":"\u5faa\u73af\u961f","text":"<p>\u987a\u5e8f\u961f\u662f\u57fa\u4e8e\u6570\u7ec4\u5b9e\u73b0\u7684\uff0c\u5f53\u5165\u961f\u4e00\u4e2a\u5143\u7d20\u7684\u65f6\u5019\uff0c\u961f\u5c3e\u6307\u9488+1\uff0c\u5f53<code>\u961f\u5c3e\u6307\u9488=MAX_SIZE</code>\u65f6\u961f\u6ee1\uff1b\u5f53\u51fa\u961f\u4e00\u4e2a\u5143\u7d20\u7684\u65f6\u5019\uff0c\u961f\u5934\u6307\u9488+1\uff0c\u5f53<code>\u961f\u5934\u6307\u9488=MAX_SIZE</code>\u65f6\uff0c\u8bf4\u660e\u961f\u7a7a\u3002</p> <p>\u4f46\u662f\uff01\uff01</p> <p>\u5f53<code>\u961f\u5934\u548c\u961f\u5c3e\u90fd = MAX_SIZE</code> \u65f6\uff0c\u5b9e\u9645\u4e0a\u961f\u7a7a\uff0c\u4f46\u662f\u5374\u65e0\u6cd5\u5165\u961f\u65b0\u5143\u7d20\uff0c\u8fd9\u79cd\u73b0\u8c61\u79f0\u4e4b\u4e3a \u5047\u6ea2\u51fa\u3002</p> <p>\u6240\u4ee5\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u7528 \u5faa\u73af\u961f\u5217\u3002</p> <p> </p> <p> </p> <p>\u8981\u5b9e\u73b0\u5faa\u73af\u961f\u5217\uff0c\u6700\u91cd\u8981\u7684\u662f\u600e\u4e48\u505a\u624d\u80fd\u8ba9\u961f\u5934\u961f\u5c3e\u6307\u9488\u5728\u4e00\u4e2a\u5468\u671f\u4e2d\u5faa\u73af\u3002</p> <p>\u7b54\u6848\u662f front = (front + 1) % MAX_SIZE\u3001rear = (rear + 1) % MAX_SIZE\u3002</p> <p>\u5047\u8bbe <code>MAX_SIZE == 8, front == 1</code>\uff0c<code>(front + 1) % MAX_SIZE</code> \u7b49\u4ef7\u4e8e <code>2 % 8 == 2</code></p> <p>\u6240\u4ee5\u8fd9\u6761\u8868\u8fbe\u5f0f\uff0c\u53ef\u4ee5\u8ba9\u961f\u5934\u961f\u5c3e\u6307\u9488\u5728 <code>0~MAX_SIZE-1</code> \u8fd9\u4e2a\u5468\u671f\u4e2d\u5faa\u73af\uff0c\u4e5f\u5c31\u662f\u5728 <code>0, 1, 2, ... MAX_SIZE-1</code> \u4e2d\u5faa\u73af\u3002</p>"},{"location":"408/DataStructure/4-%E9%98%9F%E5%88%97/#_2","title":"\u8981\u7d20","text":"<p>\u5faa\u73af\u961f\u5217\u7684\u4e24\u4e2a\u72b6\u6001</p> <p>\u961f\u7a7a\uff1a q-&gt;rear == q-&gt;front</p> <p>\u961f\u6ee1\uff1a (q-&gt;rear + 1) % MAX_SIZE == q-&gt;front</p> \u5165\u961f\u51fa\u961f <pre><code>q-&gt;rear = (q-&gt;rear + 1) % MAX_SIZE; \nq-&gt;data[q-&gt;rear] = x;\n</code></pre> <pre><code>q-&gt;front = (q-&gt;front + 1) % MAX_SIZE;\nX = q-&gt;data[q-&gt;front];\n</code></pre>"},{"location":"408/DataStructure/4-%E9%98%9F%E5%88%97/#_3","title":"\u5b9a\u4e49","text":"<pre><code>// DataElement.h\n\n#ifndef DATAELEMENT_H_INCLUDED\n#define DATAELEMENT_H_INCLUDED\n#define MAX_SIZE 10\n#define OK 1\n#define ERROR 0\n#define TRUE 1\n#define FALSE 0\ntypedef int Status;\ntypedef int Bool;\n\ntypedef struct {\n    int id;\n    char* name;\n} Element;\n\ntypedef struct {\n    Element datas[MAX_SIZE];\n    int front;\n    int rear;\n} SqQueue;\n\n#endif // DATAELEMENT_H_INCLUDED\n</code></pre>"},{"location":"408/DataStructure/4-%E9%98%9F%E5%88%97/#_4","title":"\u521b\u5efa","text":"<pre><code>Status Create(SqQueue* q)\n{\n    q-&gt;front = 0;\n    q-&gt;rear = 0;\n}\n</code></pre>"},{"location":"408/DataStructure/4-%E9%98%9F%E5%88%97/#_5","title":"\u521d\u59cb\u5316","text":"<pre><code>Status Init(SqQueue* q, Element* datas, int length)\n{\n    if (length &gt; MAX_SIZE) {\n        return ERROR;\n    }\n\n    if (!(q-&gt;front &amp;&amp; q-&gt;rear))\n        Create(q);\n\n    for (int i = 0; i &lt; length; i++) {\n        EnQueue(q, datas[i]);\n    }\n}\n</code></pre>"},{"location":"408/DataStructure/4-%E9%98%9F%E5%88%97/#_6","title":"\u5165\u961f &amp; \u51fa\u961f","text":"\u5165\u961f\u51fa\u961f <pre><code>Status EnQueue(SqQueue* q, Element e)\n{\n    // \u5982\u679c\u961f\u6ee1, \u65e0\u6cd5\u5165\u961f\n    if (isFull(q))\n        return ERROR;\n    q-&gt;rear = (q-&gt;rear + 1) % MAX_SIZE; // \u5148\u628a\u961f\u5c3e\u79fb\u52a8\u4e00\u683c\n    q-&gt;datas[q-&gt;rear] = e; // \u518d\u628a\u6570\u636e\u653e\u8fdb\u53bb\n\n    return OK;\n}\n</code></pre> <p>\u56e0\u4e3a\u961f\u5c3e\u6307\u9488 rear \u4e00\u76f4\u6307\u7740\u6700\u540e\u4e00\u4e2a\u5143\u7d20\uff0c\u5982\u679c\u76f4\u63a5\u653e\u6570\u636e\u4f1a\u8986\u76d6\u6389\u539f\u672c\u961f\u5c3e\u7684\u6570\u636e\uff0c\u6240\u4ee5\u9700\u8981\u5148\u628a\u961f\u5c3e\u6307\u9488\u5411\u540e\u632a\u4e00\u683c\uff0c\u518d\u653e\u6570\u636e\u3002</p> <p></p> <pre><code>Status DeQueue(SqQueue* q, Element* e)\n{\n    // \u5982\u679c\u961f\u7a7a\uff0c\u65e0\u6cd5\u51fa\u961f\n    if (isEmpty(q))\n        return ERROR;\n\n    q-&gt;front = (q-&gt;front + 1) % MAX_SIZE;\n    *e = q-&gt;datas[q-&gt;front];\n    return OK;\n}\n</code></pre> <p>\u56e0\u4e3a\u961f\u5934\u6307\u9488 front \u4e00\u76f4\u6307\u7740\u7b2c\u4e00\u4e2a\u5143\u7d20\u524d\u9762\u4e00\u683c\uff0c\u76f4\u63a5\u62ff\u6570\u636e\u5c31\u4e0d\u5bf9\u4e86\uff0c\u6240\u4ee5\u9700\u8981\u5148\u628a\u961f\u5934\u6307\u9488\u5148\u5411\u540e\u632a\u4e00\u4e2a\uff0c\u6307\u5411\u771f\u6b63\u7684\u961f\u5934\u5143\u7d20\uff0c\u518d\u53d6\u6570\u636e\u3002</p>"},{"location":"408/DataStructure/4-%E9%98%9F%E5%88%97/#_7","title":"\u5224\u7a7a","text":"<pre><code>Bool isEmpty(SqQueue* q)\n{\n    return q-&gt;front == q-&gt;rear;\n}\n</code></pre>"},{"location":"408/DataStructure/4-%E9%98%9F%E5%88%97/#_8","title":"\u5224\u6ee1","text":"<pre><code>Bool isFull(SqQueue* q)\n{\n    return q-&gt;front == (q-&gt;rear + 1) % MAX_SIZE;\n}\n</code></pre>"},{"location":"408/DataStructure/4-%E9%98%9F%E5%88%97/#_9","title":"\u6253\u5370\u961f\u5217","text":"<pre><code>void Print(SqQueue* q)\n{\n    if (isEmpty(q))\n        printf(\"\u961f\u5217\u4e3a\u7a7a\uff01\");\n\n    for (int i = q-&gt;front + 1; i &lt; q-&gt;rear + 1; i++) {\n        printf(\"%d \\t %s \\n\", q-&gt;datas[i].id, q-&gt;datas[i].name);\n    }\n}\n</code></pre>"},{"location":"408/DataStructure/4-%E9%98%9F%E5%88%97/#_10","title":"\u6d4b\u8bd5\u6570\u636e","text":"<pre><code>// main.c\n\n#include \"SqQueue.c\"\n#define len(X) sizeof(X) / sizeof(X[0])\n\nElement datas[] = {\n    { 1, \"Iron Man\" },\n    { 2, \"Thor\" },\n    { 3, \"Captain\" },\n    { 4, \"Green Man\" }\n};\n\nvoid main()\n{\n    SqQueue q;\n    Create(&amp;q);\n    Init(&amp;q, datas, len(datas));\n    printf(\"After Init(): \\n\");\n    Print(&amp;q);\n\n    printf(\"\\n-------------------------------------\\n\");\n\n    Element el = { 5, \"Big Man\" };\n    EnQueue(&amp;q, el);\n    printf(\"After EnQueue(): \\n\");\n    Print(&amp;q);\n\n    printf(\"\\n-------------------------------------\\n\");\n\n    DeQueue(&amp;q, &amp;el);\n    printf(\"After DeQueue(): \\n\");\n    printf(\"%d \\t %s\", el.id, el.name);\n}\n</code></pre>"},{"location":"408/DataStructure/4-%E9%98%9F%E5%88%97/#_11","title":"\u94fe\u961f","text":"<p>\u94fe\u961f\u76f8\u6bd4\u5faa\u73af\u961f\u5219\u7b80\u5355\u591a\u4e86\uff0c\u5165\u961f\u5c31\u662f\u94fe\u8868\u7684\u63d2\u5165\uff0c\u51fa\u961f\u5c31\u662f\u94fe\u8868\u7684\u5220\u9664\uff0c\u961f\u7a7a\u5c31\u662f\u961f\u5934\u6307\u9488\u548c\u961f\u5c3e\u6307\u9488\u90fd\u4e3a NULL \uff0c\u6ca1\u6709\u961f\u6ee1\u3002</p>"},{"location":"408/DataStructure/4-%E9%98%9F%E5%88%97/#_12","title":"\u5b9a\u4e49","text":"<pre><code>// DataElement.h\n\n#ifndef DATAELEMENT_H_INCLUDED\n#define DATAELEMENT_H_INCLUDED\n#define OK 1\n#define ERROR 0\n\ntypedef int Status;\n\ntypedef struct {\n    int id;\n    char* name;\n} Element;\n\ntypedef struct Node {\n    Element data;\n    struct Node* next;\n} Node;\n\n// \u5b9a\u4e49\u94fe\u961f\u7ed3\u6784\u4f53\ntypedef struct {\n    Node* front;\n    Node* rear;\n} LinkQueue;\n\n#endif // DATAELEMENT_H_INCLUDED\n</code></pre>"},{"location":"408/DataStructure/4-%E9%98%9F%E5%88%97/#_13","title":"\u521b\u5efa","text":"<pre><code>Status Create(LinkStack* q)\n{\n    q-&gt;front = NULL;\n    q-&gt;rear = NULL;\n    return OK;\n}\n</code></pre> \u5728\u521b\u5efa\u7684\u65f6\u5019\uff0c\u5c06\u4e24\u4e2a\u961f\u5934\u961f\u5c3e\u4e24\u4e2a\u6307\u9488\u7f6e\u7a7a"},{"location":"408/DataStructure/4-%E9%98%9F%E5%88%97/#_14","title":"\u521d\u59cb\u5316","text":"<pre><code>Status Init(LinkQueue* q, Element* datas, int length)\n{\n    if (!isEmpty(q)) Create(q);\n\n    for (int i = 0; i &lt; length; i++) {\n        EnQueue(q, datas[i]);\n    }\n    return OK;\n}\n</code></pre>"},{"location":"408/DataStructure/4-%E9%98%9F%E5%88%97/#_15","title":"\u5165\u961f","text":"<pre><code>Status EnQueue(LinkQueue* q, Element e)\n{\n    Node* new = (Node*)malloc(sizeof(Node));\n    new-&gt;data = e;\n    new-&gt;next = NULL;\n\n    if (isEmpty(q)) {   // \u5982\u679c\u961f\u5217\u4e3a\u7a7a\uff0c\u9664\u4e86\u8ba9\u961f\u5c3e\u6307\u5411\u65b0\u7ed3\u70b9\uff0c\u8ba9\u961f\u5934\u4e5f\u6307\u5411\u65b0\u7ed3\u70b9\n        q-&gt;front = q-&gt;rear = new;\n        return OK;\n    } else {    // \u5982\u679c\u961f\u5217\u4e0d\u4e3a\u7a7a\uff0c\u8ba9\u65e7\u7684\u961f\u5c3e\u5143\u7d20\u6307\u5411\u65b0\u7ed3\u70b9\uff0c\u961f\u5c3e\u6307\u9488\u6307\u5411\u65b0\u7ed3\u70b9\n        q-&gt;rear-&gt;next = new;\n        q-&gt;rear = new;\n        return OK;\n    }\n    return ERROR;\n}\n</code></pre> \u5165\u961f\u5c31\u662f\u8ba9\u539f\u672c\u7684\u961f\u5c3e\u6307\u5411\u65b0\u7684\u7ed3\u70b9\uff0c\u8fd9\u4e00\u6b65\u662f\u8ba9\u65b0\u7ed3\u70b9\u52a0\u5165\u94fe\u8868\uff1b <p>\u7136\u540e\u8ba9\u961f\u5c3e\u6307\u9488\u4e5f\u6307\u5411\u65b0\u7684\u7ed3\u70b9\uff0c\u8fd9\u4e00\u6b65\u662f\u5bf9\u961f\u5c3e\u6307\u9488\u7684\u66f4\u65b0\u3002</p> <p>\u5982\u679c\u961f\u5217\u4e3a\u7a7a\u65f6\uff0c\u961f\u5934\u6307\u9488\u548c\u961f\u5c3e\u6307\u9488\u4e00\u8d77\u6307\u5411\u65b0\u7ed3\u70b9\u3002</p>"},{"location":"408/DataStructure/4-%E9%98%9F%E5%88%97/#_16","title":"\u51fa\u961f","text":"<pre><code>Element DeQueue(LinkQueue* q, )\n{\n    Element e;\n    if (isEmpty(q)) return e;\n\n    if (q-&gt;front == q-&gt;rear) {  // \u94fe\u961f\u4e2d\u53ea\u6709\u4e00\u4e2a\u5143\u7d20\u65f6\uff0c\u51fa\u961f\u540e\u961f\u7a7a\uff0c\u6240\u4ee5\u9700\u8981\u6062\u590d\u961f\u5934\u548c\u961f\u5c3e\u6307\u9488\u4e3a\u7a7a\n        e = q-&gt;rear-&gt;data;\n        free(q-&gt;rear);\n        q-&gt;front = q-&gt;rear = NULL;\n        return e;\n    }\n\n    // \u94fe\u961f\u4e2d\u4e0d\u6b62\u4e00\u4e2a\u5143\u7d20\u65f6\n    // 1. \u53d6\u5143\u7d20\n    e = q-&gt;front-&gt;data;\n    // 2. \u6539\u94fe\n    Node* de = q-&gt;front;\n    q-&gt;front = de-&gt;next;\n    // 3. \u91ca\u653e\u7a7a\u95f4\n    free(de);\n    de = NULL;\n    return e;\n}\n</code></pre> \u51fa\u961f\u7684\u65f6\u5019\u8981\u8003\u8651\u4e09\u79cd\u60c5\u51b5\uff1a <ol> <li>\u961f\u7a7a\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u7a7a\u5143\u7d20;</li> <li>\u53ea\u6709\u4e00\u4e2a\u5143\u7d20\uff0c\u51fa\u961f\u540e\u961f\u5934\u6307\u9488\u548c\u961f\u5c3e\u6307\u9488\u90fd\u8981\u7f6e\u7a7a;</li> <li>\u4e0d\u6b62\u4e00\u4e2a\u5143\u7d20\uff0c\u5219\u53d6\u5143\u7d20\u3001\u6539\u94fe\u3001\u91ca\u653e\u7a7a\u95f4\uff0c\u6700\u540e\u8fd4\u56de\u5143\u7d20\u3002</li> </ol>"},{"location":"408/DataStructure/4-%E9%98%9F%E5%88%97/#_17","title":"\u5224\u7a7a","text":"<pre><code>bool isEmpty(LinkQueue* q)\n{\n    return q-&gt;front == NULL &amp;&amp; q-&gt;rear == NULL;\n}\n</code></pre>"},{"location":"408/DataStructure/4-%E9%98%9F%E5%88%97/#_18","title":"\u6e05\u7a7a\u94fe\u961f","text":"<pre><code>Status Clear(LinkQueue* q)\n{\n    if (isEmpty(q)) return OK;\n\n    while (q-&gt;front) {\n        DeQueue(q);\n    }\n    return OK;\n}\n</code></pre>"},{"location":"408/DataStructure/4-%E9%98%9F%E5%88%97/#_19","title":"\u9500\u6bc1\u94fe\u961f","text":"<pre><code>Status Destory(LinkQueue* q)\n{\n    Clear(q);\n    free(q);\n    return OK;\n}\n</code></pre>"},{"location":"408/DataStructure/4-%E9%98%9F%E5%88%97/#_20","title":"\u6253\u5370\u94fe\u961f","text":"<pre><code>void Print(LinkQueue* q)\n{\n    if (isEmpty(q)) {\n        printf(\"\u961f\u5217\u4e3a\u7a7a\uff01\");\n        return;\n    }\n\n    Node* curr = q-&gt;front;\n    while (curr) {\n        printf(\"%d \\t %s \\n\", curr-&gt;data.id, curr-&gt;data.name);\n        curr = curr-&gt;next;\n    }\n}\n</code></pre>"},{"location":"408/DataStructure/4-%E9%98%9F%E5%88%97/#_21","title":"\u5b8c\u6574\u4ee3\u7801","text":""},{"location":"408/DataStructure/4-%E9%98%9F%E5%88%97/#_22","title":"\u987a\u5e8f\u961f\u3001\u5faa\u73af\u961f","text":"DataElement.hSqQueue.hSqQueue.cmain.c <pre><code>// DataElement.h\n#ifndef DATAELEMENT_H_INCLUDED\n#define DATAELEMENT_H_INCLUDED\n#define MAX_SIZE 10\n#define OK 1\n#define ERROR 0\n#define TRUE 1\n#define FALSE 0\ntypedef int Status;\ntypedef int Bool;\n\ntypedef struct {\n    int id;\n    char* name;\n} Element;\n\ntypedef struct {\n    Element datas[MAX_SIZE];\n    int front;\n    int rear;\n} SqQueue;\n\n#endif // DATAELEMENT_H_INCLUDED\n</code></pre> <pre><code>// SqQueue.h\n#ifndef DQQUEUE_H_INCLUDED\n#define DQQUEUE_H_INCLUDED\n#include \"DataElement.h\"\n\nStatus Create(SqQueue* q);\n\nStatus Init(SqQueue* q, Element* datas, int length);\n\nStatus EnQueue(SqQueue* q, Element e);\n\nStatus DeQueue(SqQueue* q, Element* e);\n\nBool isEmpty(SqQueue* q);\n\nBool isFull(SqQueue* q);\n\nvoid Print(SqQueue* q);\n\n#endif // DQQUEUE_H_INCLUDED\n</code></pre> <pre><code>// SqQueue.c\n#include \"SqQueue.h\"\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\nStatus Create(SqQueue* q)\n{\n    q-&gt;front = 0;\n    q-&gt;rear = 0;\n}\n\nStatus Init(SqQueue* q, Element* datas, int length)\n{\n    if (length &gt; MAX_SIZE) {\n        return ERROR;\n    }\n\n    if (!(q-&gt;front &amp;&amp; q-&gt;rear))\n        Create(q);\n\n    for (int i = 0; i &lt; length; i++) {\n        EnQueue(q, datas[i]);\n    }\n}\n\nStatus EnQueue(SqQueue* q, Element e)\n{\n    // \u5982\u679c\u961f\u6ee1, \u65e0\u6cd5\u5165\u961f\n    if (isFull(q))\n        return ERROR;\n    q-&gt;rear = (q-&gt;rear + 1) % MAX_SIZE; // \u5148\u628a\u961f\u5c3e\u79fb\u52a8\u4e00\u683c\n    q-&gt;datas[q-&gt;rear] = e; // \u518d\u628a\u6570\u636e\u653e\u8fdb\u53bb\n\n    return OK;\n}\n\nStatus DeQueue(SqQueue* q, Element* e)\n{\n    // \u5982\u679c\u961f\u7a7a\uff0c\u65e0\u6cd5\u51fa\u961f\n    if (isEmpty(q))\n        return ERROR;\n\n    q-&gt;front = (q-&gt;front + 1) % MAX_SIZE;\n    *e = q-&gt;datas[q-&gt;front];\n    return OK;\n}\n\nBool isEmpty(SqQueue* q)\n{\n    return q-&gt;front == q-&gt;rear;\n}\n\nBool isFull(SqQueue* q)\n{\n    return q-&gt;front == (q-&gt;rear + 1) % MAX_SIZE;\n}\n\nvoid Print(SqQueue* q)\n{\n    if (isEmpty(q))\n        printf(\"\u961f\u5217\u4e3a\u7a7a\uff01\");\n\n    for (int i = q-&gt;front + 1; i &lt; q-&gt;rear + 1; i++) {\n        printf(\"%d \\t %s \\n\", q-&gt;datas[i].id, q-&gt;datas[i].name);\n    }\n}\n</code></pre> <pre><code>// main.c\n#include \"SqQueue.c\"\n#define len(X) sizeof(X) / sizeof(X[0])\n\nElement datas[] = {\n    { 1, \"Iron Man\" },\n    { 2, \"Thor\" },\n    { 3, \"Captain\" },\n    { 4, \"Green Man\" }\n};\n\nvoid main()\n{\n    SqQueue q;\n    Create(&amp;q);\n    Init(&amp;q, datas, len(datas));\n    printf(\"After Init(): \\n\");\n    Print(&amp;q);\n\n    printf(\"\\n-------------------------------------\\n\");\n\n    Element el = { 5, \"Big Man\" };\n    EnQueue(&amp;q, el);\n    printf(\"After EnQueue(): \\n\");\n    Print(&amp;q);\n\n    printf(\"\\n-------------------------------------\\n\");\n\n    DeQueue(&amp;q, &amp;el);\n    printf(\"After DeQueue(): \\n\");\n    printf(\"%d \\t %s\", el.id, el.name);\n}\n</code></pre>"},{"location":"408/DataStructure/4-%E9%98%9F%E5%88%97/#_23","title":"\u94fe\u961f","text":"DataElement.hLinkQueue.hLinkQueue.cmain.c <pre><code>// DataElement.h\n#ifndef DATAELEMENT_H_INCLUDED\n#define DATAELEMENT_H_INCLUDED\n#define OK 1\n#define ERROR 0\n\ntypedef int Status;\n\ntypedef struct {\n    int id;\n    char* name;\n} Element;\n\ntypedef struct Node {\n    Element data;\n    struct Node* next;\n} Node;\n\ntypedef struct {\n    Node* front;\n    Node* rear;\n} LinkQueue;\n\n#endif // DATAELEMENT_H_INCLUDED\n</code></pre> <pre><code>// LinkQueue.h\n#ifndef LINKQUEUE_H_INCLUDED\n#define LINKQUEUE_H_INCLUDED\n#include &lt;stdbool.h&gt;\n#include \"DataElement.h\"\n\nStatus Create(LinkQueue* q);\n\nStatus InitLinkQ(LinkQueue* q, Element* datas, int length);\n\nStatus EnQueue(LinkQueue* q, Element e);\n\nElement DeQueue(LinkQueue* q);\n\nStatus Clear(LinkQueue* q);\n\nStatus Destory(LinkQueue* q);\n\nbool isEmpty(LinkQueue* q);\n\nvoid Print(LinkQueue* q);\n\n#endif // LINKQUEUE_H_INCLUDED\n</code></pre> <pre><code>// LinkQueue.c\n\n#include \"LinkQueue.h\"\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\nStatus Create(LinkQueue* q)\n{\n    q-&gt;front = NULL;\n    q-&gt;rear = NULL;\n    return OK;\n}\n\nStatus InitLinkQ(LinkQueue* q, Element* datas, int length)\n{\n    if (!isEmpty(q)) {\n        Create(q);\n    }\n\n    for (int i = 0; i &lt; length; i++) {\n        EnQueue(q, datas[i]);\n    }\n    return OK;\n}\n\nStatus EnQueue(LinkQueue* q, Element e)\n{\n    Node* new = (Node*)malloc(sizeof(Node));\n    new-&gt;data = e;\n    new-&gt;next = NULL;\n\n    // \u5982\u679c\u961f\u7a7a\uff0c\u8ba9\u961f\u5934\u4e5f\u6307\u5411\u65b0\u7ed3\u70b9\n    if (isEmpty(q)) {\n        q-&gt;front = q-&gt;rear = new;\n        return OK;\n    } else {\n        // \u961f\u5c3e\u5143\u7d20 \u6307\u5411\u65b0\u7ed3\u70b9\n        q-&gt;rear-&gt;next = new;\n        // \u961f\u5c3e\u6307\u9488 \u6307\u5411\u65b0\u7ed3\u70b9\n        q-&gt;rear = new;\n        return OK;\n    }\n    return ERROR;\n}\n\nElement DeQueue(LinkQueue* q)\n{\n    Element e;\n    if (isEmpty(q))\n        return e;\n    // \u5982\u679c\u961f\u4e2d\u53ea\u6709\u4e00\u4e2a\u5143\u7d20\n    if (q-&gt;front == q-&gt;rear) {\n        e = q-&gt;front-&gt;data;\n        free(q-&gt;front);\n        q-&gt;front = q-&gt;rear = NULL;\n        return e;\n    }\n\n    // 1. \u6539\u94fe\n    Node* de = q-&gt;front;\n    q-&gt;front = de-&gt;next;\n    // 2. \u53d6\u5143\u7d20\n    e = de-&gt;data;\n    // 3. \u91ca\u653e\u7a7a\u95f4\n    free(de);\n    de = NULL;\n    return e;\n}\n\nbool isEmpty(LinkQueue* q)\n{\n    return q-&gt;front == NULL &amp;&amp; q-&gt;rear == NULL;\n}\n\nStatus Clear(LinkQueue* q)\n{\n    if (isEmpty(q)) {\n        return OK;\n    }\n    while (q-&gt;front) {\n        DeQueue(q);\n    }\n    return OK;\n}\n\nStatus Destory(LinkQueue* q)\n{\n    Clear(q);\n    free(q);\n    return OK;\n}\n\nvoid Print(LinkQueue* q)\n{\n    if (isEmpty(q)) {\n        printf(\"\u961f\u5217\u4e3a\u7a7a\uff01\");\n        return;\n    }\n\n    Node* curr = q-&gt;front;\n    while (curr) {\n        printf(\"%d \\t %s \\n\", curr-&gt;data.id, curr-&gt;data.name);\n        curr = curr-&gt;next;\n    }\n}\n</code></pre> <pre><code>// main.c\n\n#include \"LinkQueue.c\"\n#define len(X) sizeof(X) / sizeof(X[0])\n\nElement datas[] = {\n    { 1, \"Iron Man\" },\n    { 2, \"Thor\" },\n    { 3, \"Captain\" },\n    { 4, \"Green Man\" }\n};\n\nvoid main()\n{\n    LinkQueue q;\n    Create(&amp;q);\n    InitLinkQ(&amp;q, datas, len(datas));\n    Print(&amp;q);\n\n    printf(\"\\n-------------------------------------\\n\");\n\n    Element e = { 5, \"Spider Man\" };\n    EnQueue(&amp;q, e);\n    Print(&amp;q);\n\n    printf(\"\\n-------------------------------------\\n\");\n\n    Element de = DeQueue(&amp;q);\n    printf(\"Element deleted: %d \\t %s \\n\", de.id, de.name);\n    printf(\"\\n-------------------------------------\\n\");\n    Print(&amp;q);\n\n    printf(\"\\n-------------------------------------\\n\");\n    Clear(&amp;q);\n    Print(&amp;q);\n\n    printf(\"\\n-------------------------------------\\n\");\n    // Destory(&amp;q);\n    // Print(&amp;q);\n}\n</code></pre>"},{"location":"408/DataStructure/5-%E4%B8%B2/","title":"5-\u4e32","text":""},{"location":"408/DataStructure/5-%E4%B8%B2/#5-","title":"5-\u4e32","text":"<p>\u4e32\uff1a0\u6216N\u4e2a\u5b57\u7b26\u7ec4\u6210\u7684\u6709\u9650\u5e8f\u5217\uff0c\u4e00\u79cd\u9650\u5b9a\u4e86\u5143\u7d20\u4e3a\u5b57\u7b26\u7684\u7ebf\u6027\u8868\u3002</p> <ul> <li>\u957f\u5ea6\uff1a\u5b57\u7b26\u4e2a\u6570</li> <li>\u7a7a\u4e32\uff1a0\u4e2a\u5143\u7d20</li> <li>\u5b50\u4e32\uff1a\u4e32\u4e2d\u4efb\u610f\u8fde\u7eed\u5b57\u7b26\u7ec4\u6210\u7684\u5b50\u5e8f\u5217</li> <li>\u4e3b\u4e32\uff1a\u5305\u542b\u5b50\u4e32\u7684\u4e32</li> </ul> <p>\u5b58\u50a8\u7ed3\u6784\uff1a\u4e32\u7684\u5b9e\u73b0\u53ef\u4ee5\u7528\u5b9a\u957f\u6570\u7ec4\uff0c\u4e5f\u53ef\u4ee5\u7528\u53d8\u957f\u7684\u52a8\u6001\u6570\u7ec4\u5b9e\u73b0\u3002</p> <pre><code>// \u5b9a\u957f\u6570\u7ec4\n#define MAX_SIZE 100\n\ntypedef struct {\n    char str[MAX_SIZE + 1];\n    int length;\n}Str;\n</code></pre> <pre><code>// \u53d8\u957f\u52a8\u6001\u6570\u7ec4\n\ntypedef struct {\n    char *str;   // \u4e32\n    int length;  // \u4e32\u957f\u5ea6\n}Str;\n</code></pre> <p>\u57fa\u672c\u64cd\u4f5c\uff1a\u8d4b\u503c\u3001\u53d6\u957f\u5ea6\u3001\u6bd4\u8f83\u3001\u8fde\u63a5\u3001\u590d\u5236\u3001\u6c42\u5b50\u4e32\u3001\u6e05\u7a7a</p> <p>\u5f53\u7136\u4e32\u7684\u64cd\u4f5c\u8fd8\u6709\u975e\u5e38\u591a\uff0c\u6bd4\u5982\u8fd4\u56de\u5b57\u7b26\u5728\u5b57\u7b26\u4e32\u4e2d\u7684\u4f4d\u7f6e\uff0c\u8fd4\u56de\u5b50\u4e32\u5728\u5b57\u7b26\u4e32\u4e2d\u7684\u4f4d\u7f6e\u7b49\u7b49\u3002</p>"},{"location":"408/DataStructure/5-%E4%B8%B2/#_1","title":"\u4ee3\u7801\u5b9e\u73b0","text":""},{"location":"408/DataStructure/5-%E4%B8%B2/#_2","title":"\u5b9a\u4e49","text":"<pre><code>// DataElement.h\n\n#ifndef DATAELEMENT_H_INCLUDED\n#define DATAELEMENT_H_INCLUDED\n#define OK 1\n#define ERROR 0\n\ntypedef int Status;\n\n/** \u4e32\u7ed3\u6784 */\ntypedef struct {\n    char* str;\n    int length;\n} Str;\n\n#endif // DATAELEMENT_H_INCLUDED\n</code></pre>"},{"location":"408/DataStructure/5-%E4%B8%B2/#_3","title":"\u8d4b\u503c","text":"<pre><code>Status Assign(Str* s, char* ch)\n{\n    int ch_length = 0;\n    char* c = ch;\n    while (*c) { // \u8ba1\u7b97ch\u5b57\u7b26\u4e32\u957f\u5ea6\n        ++ch_length;\n        ++c;\n    }\n\n    if (ch_length == 0) { // \u5982\u679c\u662f\u7a7a\u4e32\n        s-&gt;str = NULL;\n        s-&gt;length = 0;\n        return OK;\n    } else {\n        // \u5f00\u8f9f\u4e00\u5757\u7a7a\u95f4\uff0c+1 \u662f\u4e3a\u4e86\u653e \\0 \u7ed3\u675f\u7b26\n        s-&gt;str = (char*)calloc(ch_length + 1, sizeof(char));\n        // \u5206\u914d\u5931\u8d25\u8fd4\u56deERROR\n        if (s-&gt;str == NULL)\n            return ERROR;\n\n        // \u9010\u4e2a\u5c06ch\u7684\u5b57\u7b26\u590d\u5236\u5230s-&gt;str\n        for (int i = 0; i &lt;= ch_length; i++)\n            s-&gt;str[i] = *(ch + i);\n\n        s-&gt;length = ch_length;\n        return OK;\n    }\n}\n</code></pre>"},{"location":"408/DataStructure/5-%E4%B8%B2/#_4","title":"\u53d6\u957f\u5ea6","text":"<pre><code>int Length(Str* s)\n{\n    return s-&gt;length;\n}\n</code></pre>"},{"location":"408/DataStructure/5-%E4%B8%B2/#_5","title":"\u6bd4\u8f83","text":"<pre><code>int compare(Str* s1, Str* s2)\n{\n    // \u904d\u5386\u65f6\u5c06\u4e24\u4e2a\u5b57\u7b26\u4e32\u9010\u4e2a\u6bd4\u8f83\n    for (int i = 0; i &lt; s1-&gt;length &amp;&amp; i &lt; s2-&gt;length; i++) {\n        if (s1-&gt;str[i] != s2-&gt;str[i]) {\n            return s1-&gt;str[i] - s2-&gt;str[i];\n        }\n    }\n    return 0;\n}\n</code></pre> <p>\u904d\u5386\u662f\u4e32\u4e2d\u8f83\u4e3a\u91cd\u8981\u7684\u64cd\u4f5c\u3002</p> <p>\u9010\u4e2a\u6bd4\u8f83\u5b57\u7b26\u7684ASCII\u7801\uff0c</p> <ul> <li>\u82e5s1 &lt; s2\uff0c\u8fd4\u56de\u8d1f\u6570\uff1b</li> <li>\u82e5s1 &gt; s2\uff0c\u8fd4\u56de\u6b63\u6570\uff1b</li> <li>\u82e5s1 = s2\uff0c\u8fd4\u56de0.</li> </ul>"},{"location":"408/DataStructure/5-%E4%B8%B2/#_6","title":"\u8fde\u63a5","text":"<p>\u8fde\u63a5\u5206\u4e24\u79cd\u60c5\u51b5\u8ba8\u8bba</p> <ol> <li> <p>\u4e00\u79cd\u662f\u5b9a\u957f\u6570\u7ec4\u5b9e\u73b0\u7684\u5b57\u7b26\u4e32\u7684\u8fde\u63a5</p> <ul> <li>\u5982\u679cA\u6709\u5269\u4f59\u7a7a\u95f4\u4e14\u5269\u4f59\u7a7a\u95f4\u5927\u4e8eB\u957f\u5ea6\uff0c\u5faa\u73afB\u957f\u5ea6\u9010\u4e2a\u590d\u5236\u5230A</li> <li>\u5982\u679cA\u65e0\u5269\u4f59\u7a7a\u95f4\u6216\u5269\u4f59\u7a7a\u95f4\u5c0f\u4e8eB\u957f\u5ea6\uff0c\u5c06A\u6269\u5bb9\uff0c\u518d\u5faa\u73afB\u957f\u5ea6\u9010\u4e2a\u590d\u5236\u5230A</li> </ul> </li> <li> <p>\u4e00\u79cd\u662f\u53d8\u957f\u6570\u7ec4\u5b9e\u73b0\u7684\u5b57\u7b26\u4e32\u7684\u8fde\u63a5</p> <p>\u53d8\u957f\u6570\u7ec4\u4e00\u822c\u6ca1\u6709\u5269\u4f59\u7a7a\u95f4\u7684\u60c5\u51b5\uff0c\u540e\u9762\u7684\u7a7a\u95f4\u662f\u5426\u662f\u7a7a\u95f2\u7a7a\u95f4\u4e5f\u65e0\u4ece\u5f97\u77e5\uff0c\u6240\u4ee5\u53d8\u957f\u6570\u7ec4\u7684\u5b57\u7b26\u4e32\u5728\u8fde\u63a5\u65f6\uff0c\u901a\u5e38\u662f\u5f00\u8f9f\u4e00\u5757\u65b0\u7684\u7a7a\u95f4\uff0c\u957f\u5ea6\u4e3a<code>A\u7684\u957f\u5ea6+B\u7684\u957f\u5ea6</code>\uff0c\u7136\u540e\u904d\u5386A\uff0c\u9010\u4e2a\u590d\u5236\u5230\u65b0\u5b57\u7b26\u4e32\uff0c\u904d\u5386B\uff0c\u9010\u4e2a\u590d\u5236\u5230\u65b0\u5b57\u7b26\u4e32A\u7684\u540e\u9762\uff0c\u6700\u540e\u8865<code>\\0</code>\u3002</p> </li> </ol> <pre><code>// \u5c06 s2 \u8fde\u63a5\u5230 s1 \u540e\u9762\nchar* contact(Str* s1, Str* s2)\n{\n    // \u521b\u5efa\u4e00\u5757\u65b0\u5b57\u7b26\u4e32\u7a7a\u95f4\uff0c\u957f\u5ea6\u4e3a s1 + s2\n    char* new = (char*)calloc(s1-&gt;length + s2-&gt;length, sizeof(char));\n\n    int i = 0;\n    while (i &lt; s1-&gt;length) { // \u628a s1 \u9010\u4e2a\u5b57\u7b26\u8d4b\u503c\u7ed9\u65b0\u5b57\u7b26\u4e32\n        new[i] = s1-&gt;str[i];\n        i++;\n    }\n    i = 0;\n    while (i &lt; s2-&gt;length) { // \u628a s2 \u9010\u4e2a\u5b57\u7b26\u8d4b\u503c\u7ed9\u65b0\u5b57\u7b26\u4e32\n        new[s1-&gt;length + i] = s2-&gt;str[i];\n        i++;\n    }\n    new[s1-&gt;length + s2-&gt;length] = '\\0';\n    s1-&gt;length += s2-&gt;length;\n    s1-&gt;str = new; // \u8ba9 s1 \u6307\u5411\u65b0\u5b57\u7b26\u4e32\n\n    return new;\n}\n</code></pre>"},{"location":"408/DataStructure/5-%E4%B8%B2/#_7","title":"\u590d\u5236","text":"<pre><code>char* copy(Str* dest, Str* src)\n{\n    int count = src-&gt;length &lt; dest-&gt;length ? src-&gt;length : dest-&gt;length;\n\n    for (int i = 0; i &lt; count; i++) {\n        dest-&gt;str[i] = src-&gt;str[i];\n    }\n    dest-&gt;str[count] = '\\0';\n    return dest-&gt;str;\n}\n</code></pre> <p>\u590d\u5236\u7684\u65f6\u5019\uff0c\u9010\u4e2a\u5c06 src \u5b57\u7b26\u4e32\u7684\u5b57\u7b26 \u590d\u5236\u5230 dest \u5b57\u7b26\u4e32\u3002</p> <p>\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5047\u8bbe dest \u7684\u957f\u5ea6\u4e3a10\uff0csrc \u7684\u957f\u5ea6\u4e3a5\uff0c\u5219\u5c06 src \u8986\u76d6\u5230 dest \u4e0a\uff0cdest \u4e0a\u540e\u9762\u7684\u51e0\u4e2a\u5b57\u7b26\u4f46\u662f\u4e0d\u4f1a\u88ab\u8bfb\u53d6\u5230</p> <p>\u53cd\u8fc7\u6765\u5219\u662f src \u5c06 dest \u6574\u4e2a\u8986\u76d6\uff0c\u4f46\u662f\u53ea\u80fd\u8986\u76d6 dest \u7684\u5b57\u7b26\u4e2a\u6570\uff0csrc \u8d85\u51fa dest \u957f\u5ea6\u7684\u5b57\u7b26\u4f1a\u88ab\u4e22\u5f03\u3002</p> <p>\u6240\u4ee5\u5728\u8c03\u7528\u65f6\u8981\u4fdd\u8bc1 dest \u7684\u957f\u5ea6\u6bd4 src \u7684\u957f\u3002</p> Case 1Case 2 <p></p> <p></p>"},{"location":"408/DataStructure/5-%E4%B8%B2/#_8","title":"\u53d6\u5b50\u4e32","text":"<pre><code>/**\n * @description \u4ece\u4e3b\u4e32 base \u7684\u7b2c idx+1 \u4e2a\u5f00\u59cb\u622a\u53d6 len \u4e2a\u5b57\u7b26\u7ec4\u6210\u65b0\u7684\u5b57\u7b26\u4e32\n * @param base \u4e3b\u4e32\n * @param idx \u622a\u53d6\u7684\u8d77\u59cb\u4e0b\u6807\n * @param len \u622a\u53d6\u5b57\u7b26\u6570\n */\nchar* sub(Str* base, int idx, int len)\n{\n    // \u8d8a\u754c\u6216\u4e3b\u4e32\u4e3a\u7a7a\n    if (idx + len &gt; base-&gt;length || base-&gt;length == 0) {\n        return NULL;\n    }\n\n    // \u5206\u914d\u7a7a\u95f4\uff0c\u7136\u540e\u9010\u5b57\u7b26\u590d\u5236\n    char* substring = (char*)calloc(len, sizeof(char));\n    for (int i = 0; i &lt; len; i++) {\n        substring[i] = base-&gt;str[idx + i];\n    }\n    return substring;\n}\n</code></pre>"},{"location":"408/DataStructure/5-%E4%B8%B2/#_9","title":"\u6e05\u7a7a","text":"<pre><code>Status clear(Str* s)\n{\n    if (s-&gt;length == 0) {\n        return OK;\n    }\n    for (int i = 0; i &lt; s-&gt;length; i++) {\n        s-&gt;str[i] = '\\0';\n    }\n    s-&gt;length = 0;\n    return OK;\n}\n</code></pre>"},{"location":"408/DataStructure/5-%E4%B8%B2/#_10","title":"\u4e32\u7684\u6a21\u5f0f\u5339\u914d","text":"<p>Note</p> <p>\u5bf9\u67d0\u5b50\u4e32\u7684\u5b9a\u4f4d\u64cd\u4f5c\u3002</p> <p>\u4e3b\u4e32\u4e5f\u79f0\u4f5c \u76ee\u6807\u4e32</p> <p>\u5b50\u4e32\u4e5f\u79f0\u4f5c \u6a21\u5f0f\u4e32</p> <p>\u601d\u60f3\uff1a\u4ece\u4e3b\u4e32\u9996\u4e2a\u4f4d\u7f6e\u8d77\u548c\u6a21\u5f0f\u4e32\u7684\u9996\u4e2a\u5b57\u7b26\u6bd4\u8f83\uff0c\u82e5\u76f8\u7b49\uff0c\u5219\u9010\u4e00\u6bd4\u8f83\u540e\u7eed\u5b57\u7b26\uff0c\u5426\u5219\u4ece\u4e3b\u4e32\u7b2c\u4e8c\u4e2a\u5b57\u7b26\u5f00\u59cb\uff0c\u9010\u4e00\u6bd4\u8f83\u540e\u7eed\u5b57\u7b26\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002\u5339\u914d\u6210\u529f\u5219\u8fd4\u56de\u6a21\u5f0f\u4e32\u5728\u4e3b\u4e32\u4e2d\u7684\u4f4d\u7f6e\uff0c\u5339\u914d\u5931\u8d25\u5219\u8fd4\u56de0.</p>"},{"location":"408/DataStructure/5-%E4%B8%B2/#kmp","title":"KMP \u7b97\u6cd5","text":"<p>\u6a21\u5f0f\u5339\u914d\u4e3b\u8981\u6709 <code>BF \u7b97\u6cd5</code> \u548c <code>KMP \u7b97\u6cd5</code>\u3002</p> <p>BF \u7b97\u6cd5\u4e3b\u8981\u662f\u4e00\u79cd\u66b4\u529b\u7a77\u4e3e\uff0c\u548c\u4e0a\u9762\u4ecb\u7ecd\u7684\u601d\u60f3\u4e00\u81f4\u3002</p> <p>KMP \u7b97\u6cd5\u5c31\u806a\u660e\u591a\u4e86\uff0c\u8be5\u7b97\u6cd5\u5145\u5206\u4f53\u73b0\u4e86\u201c\u5931\u8d25\u662f\u6210\u529f\u4ed6\u5988\u201d\u7684\u9053\u7406\uff0c\u79ef\u6781\u4ece\u4e0a\u4e00\u6b21\u5931\u8d25\u5339\u914d\u4e2d\u6c72\u53d6\u4fe1\u606f\uff0c\u5e76\u5e94\u7528\u5230\u4e0b\u4e00\u6b21\u5339\u914d\u4e2d\uff0c\u6bd4\u8d77 BF \u90a3\u79cd\u7a77\u4e3e\u6cd5\uff0cKMP \u4f1a\u5c06\u6a21\u5f0f\u4e32\u4e0e\u5931\u8d25\u4f4d\u7f6e\u5bf9\u5176\u518d\u91cd\u65b0\u5339\u914d\u3002</p>"},{"location":"408/DataStructure/6-%E6%A0%91/","title":"6-\u6811","text":""},{"location":"408/DataStructure/6-%E6%A0%91/#6-","title":"6-\u6811","text":"<p>\u524d\u9762\u7684\u7ebf\u6027\u8868\u3001\u5e7f\u4e49\u8868\u3001\u6808\u3001\u961f\u3001\u4e32\uff0c\u90fd\u662f\u4e00\u5bf9\u4e00\u7684\u6570\u636e\u7ed3\u6784\u3002</p> <p>\u73b0\u5728\u5f00\u59cb\u6211\u4eec\u8981\u8ba8\u8bba\u4e00\u79cd\u4e00\u5bf9\u591a\u7684\u6570\u636e\u7ed3\u6784: \u6811\u3002</p>"},{"location":"408/DataStructure/6-%E6%A0%91/#_1","title":"\u5b9a\u4e49","text":"<p>\u6811\u662f n \u4e2a\u7ed3\u70b9\u7684\u6709\u9650\u96c6\u3002</p> <p>n=0 \u65f6\u79f0\u4e3a \u7a7a\u6811\u3002</p> <p>n&gt;1 \u65f6\uff0c\u6709\u4e14\u4ec5\u6709\u4e00\u4e2a\u7279\u5b9a\u7684\u6839\u8282\u70b9 root\uff0c\u5176\u4f59\u7ed3\u70b9\u53ef\u5206\u4e3a m\uff08m&gt;0\uff09\u4e2a\u4e92\u4e0d\u76f8\u4ea4\u7684\u6709\u9650\u96c6 \\(T_1\u3001T_2\u3001...\u3001T_m\\)\uff0c\u5176\u4e2d\u6bcf\u4e2a\u96c6\u5408\u672c\u8eab\u53c8\u662f\u4e00\u68f5\u6811\uff0c\u79f0\u4e3a \u5b50\u6811\u3002</p> <p></p> \u6811"},{"location":"408/DataStructure/6-%E6%A0%91/#_2","title":"\u540d\u8bcd\u89e3\u91ca","text":"\u540d\u8bcd \u89e3\u91ca \u793a\u4f8b \u7ed3\u70b9 \u6811\u4e2d\u7684\u4e00\u4e2a\u72ec\u7acb\u5355\u5143\u3002\u5305\u542b\u4e00\u4e2a\u6570\u636e\u5143\u7d20\u53ca\u82e5\u5e72\u6307\u5411\u5176\u4ed6\u5b50\u6811\u7684\u5206\u652f\u3002 eg\uff1a\u56fe\u4e2d\u6bcf\u4e00\u4e2a\u5706\u5708\u90fd\u662f\u7ed3\u70b9\u3002 \u7ed3\u70b9\u7684\u5ea6 \u7ed3\u70b9\u62e5\u6709\u7684\u5b50\u6811\u7684\u6570\u91cf\u3002 eg\uff1aA\u7684\u5ea6\u4e3a3\uff0cB\u7684\u5ea6\u4e3a2\uff0cC\u7684\u5ea6\u4e3a1\u3002 \u6811\u7684\u5ea6 \u6811\u5185\u5404\u7ed3\u70b9\u7684\u5ea6\u7684\u6700\u5927\u503c\u3002 eg\uff1a\u4e0a\u9762\u7684\u6811\u7684\u5ea6\u4e3a3\u3002 \u6811\u7684\u9ad8\u5ea6\uff08\u6df1\u5ea6\uff09 \u6811\u4e2d\u7684\u6700\u5927\u5c42\u6570\u3002 eg\uff1a\u56fe\u4e2d\u6811\u7684\u6df1\u5ea6\uff08\u9ad8\u5ea6\uff09\u4e3a 4\u3002 \u53f6\u5b50\u7ed3\u70b9 \u5ea6\u4e3a0\u7684\u7ed3\u70b9\uff0c\u4e5f\u79f0\u7ec8\u7aef\u7ed3\u70b9\u3002 eg\uff1aK\u3001L\u3001F\u3001G\u3001M\u3001I\u3001J \u90fd\u662f\u53f6\u5b50\u7ed3\u70b9\u3002 \u5206\u652f\u7ed3\u70b9 \u5ea6\u4e0d\u4e3a0\u7684\u7ed3\u70b9\uff0c\u4e5f\u79f0\u975e\u7ec8\u7aef\u7ed3\u70b9\u3002 eg\uff1a A\u3001B\u3001C\u3001D\u3001E\u3001H \u90fd\u662f\u975e\u7ec8\u7aef\u7ed3\u70b9\u3002 \u53cc\u4eb2\u7ed3\u70b9 \u4e00\u4e2a\u7ed3\u70b9\u7684\u76f4\u63a5\u524d\u9a71\u7ed3\u70b9\u79f0\u4e3a\u5176\u53cc\u4eb2\u7ed3\u70b9\u3002 eg\uff1aE\u7684\u53cc\u4eb2\u4e3aB\uff0cG\u7684\u53cc\u4eb2\u4e3aC\u3002 \u5b69\u5b50\u7ed3\u70b9 \u4e00\u4e2a\u7ed3\u70b9\u7684\u6240\u6709\u76f4\u63a5\u540e\u7ee7\u7ed3\u70b9\u79f0\u4e3a\u5176\u5b69\u5b50\u7ed3\u70b9\u3002 eg\uff1aB\u7684\u5b50\u7ed3\u70b9\u4e3aE\u3001F\uff0cH\u7684\u5b50\u7ed3\u70b9\u4e3aM\u3002 \u5144\u5f1f\u7ed3\u70b9 \u540c\u4e00\u4e2a\u53cc\u4eb2\u7684\u5b50\u7ed3\u70b9\u4e4b\u95f4\u4e92\u79f0\u5144\u5f1f\u7ed3\u70b9\u3002 eg\uff1aH\u7684\u5144\u5f1f\u7ed3\u70b9\u4e3aI\u3001J\u3002 \u7956\u5148 \u4ece\u4e00\u4e2a\u7ed3\u70b9\u5230\u6839\u8282\u70b9\u6240\u7ecf\u5206\u652f\u4e0a\u7684\u6240\u6709\u7ed3\u70b9\u3002 eg\uff1aK\u7684\u7956\u5148\u4e3aE\u3001B\u3001A\u3002 \u5b50\u5b59 \u4e00\u4e2a\u7ed3\u70b9\u6240\u6709\u76f4\u63a5\u548c\u95f4\u63a5\u540e\u7ee7\u7ed3\u70b9\u3002 eg\uff1aD\u7684\u5b50\u5b59\u4e3aH\u3001I\u3001J\u3001M\u3002 \u5802\u5144\u5f1f \u53cc\u4eb2\u5728\u540c\u4e00\u5c42\u7684\u7ed3\u70b9\u4e92\u4e3a\u5802\u5144\u5f1f\u3002 eg\uff1aG\u4e0eE\u3001F\u3001H\u3001I\u3001J \u4e92\u4e3a\u5802\u5144\u5f1f\u3002 \u5c42 \u6839\u4e3a\u7b2c\u4e00\u5c42\uff0c\u6839\u7684\u5b69\u5b50\u4e3a\u7b2c\u4e8c\u5c42\uff0c\u4ee5\u6b64\u7c7b\u63a8 eg\uff1aA\u4e3a1\u5c42\uff0cB\u3001C\u3001D\u4e3a2\u5c42\uff0cK\u3001L\u3001M\u4e3a3\u5c42\u3002 <p>\u6709\u5e8f\u6811\u3001\u65e0\u5e8f\u6811\uff1a\u6811\u4e2d\u7684\u7ed3\u70b9\u4ece\u5de6\u81f3\u53f3\u4f9d\u6b21\u6709\u5e8f\u4e0d\u80fd\u4e92\u6362\uff0c\u79f0\u4e3a\u6709\u5e8f\uff0c\u5426\u5219\u79f0\u4e3a\u65e0\u5e8f\u3002\u6709\u5e8f\u6811\u4e2d\u6700\u5de6\u8fb9\u7684\u5b50\u6811\u79f0\u4e3a\u6839\u8282\u70b9\u7684\u7b2c\u4e00\u4e2a\u5b69\u5b50\uff0c\u6700\u53f3\u8fb9\u79f0\u4e3a\u6839\u8282\u70b9\u7684\u6700\u540e\u4e00\u4e2a\u5b69\u5b50\u3002</p> <p>\u68ee\u6797\uff1am \u68f5\u4e0d\u76f8\u4ea4\u7684\u6811\u7684\u96c6\u5408\u3002</p>"},{"location":"408/DataStructure/6-%E6%A0%91/#adt","title":"ADT","text":"<pre><code>ADT Tree\nData\n    \u6811\u662f\u7531\u4e00\u4e2a\u6839\u7ed3\u70b9\u548c\u82e5\u5e72\u5b50\u6811\u6784\u6210\u3002\u6811\u4e2d\u7ed3\u70b9\u5177\u6709\u76f8\u540c\u6570\u636e\u7c7b\u578b\u53ca\u5c42\u6b21\u5173\u7cfb\u3002\nOperation\n    InitTree(T*): \u6784\u9020\u7a7a\u6811T\n    DestoryTree(T*): \u9500\u6bc1\u6811T\n    CreateTree(T*, definition): \u6309definition\u4e2d\u7ed9\u51fa\u7684\u6811\u7684\u5b9a\u4e49\u6765\u6784\u9020\u6811\n    ClearTree(T*): \u82e5\u6811T\u5b58\u5728\uff0c\u5219\u5c06\u6811T\u6e05\u7a7a\u4e3a\u7a7a\u6811\n    TreeEmpty(T): \u82e5T\u4e3a\u63a7\u8bc9\uff0c\u8fd4\u56detrue\uff0c\u5426\u5219\u8fd4\u56defalse\n    TreeDepth(T): \u8fd4\u56de\u6811T\u7684\u6df1\u5ea6\n    Root(T): \u8fd4\u56deT\u7684\u6839\u8282\u70b9\n    Value(T, cur_e): cur_e \u662f\u6811T\u4e2d\u4e00\u4e2a\u7ed3\u70b9\uff0c\u8fd4\u56de\u6b64\u7ed3\u70b9\u7684\u503c\n    Assign(T, cur_e, value): \u7ed9\u6811T\u7684\u7ed3\u70b9cur_e\u8d4b\u503c\u4e3a value\n    Parent(T, cur_e): \u82e5 cur_e \u662f\u6811T\u7684\u975e\u6839\u7ed3\u70b9\uff0c\u5219\u8fd4\u56de\u5b83\u7684\u53cc\u4eb2\uff0c\u5426\u5219\u8fd4\u56de\u7a7a\n    LeftChild(T, cur_e): \u82e5 cur_e \u662f\u6811T\u7684\u975e\u53f6\u7ed3\u70b9\uff0c\u5219\u8fd4\u56de\u5b83\u7684\u6700\u5de6\u5b69\u5b50\uff0c\u5426\u5219\u8fd4\u56de\u7a7a\n    RightSibling(T, cur_e): \u82e5 cur_e \u6709\u53f3\u5144\u5f1f\uff0c\u5219\u8fd4\u56de\u5b83\u7684\u53f3\u5144\u5f1f\uff0c\u5426\u5219\u8fd4\u56de\u7a7a\n    InsertChild(T*, p*, i, c): \u5176\u4e2dp\u6307\u5411\u6811T\u7684\u67d0\u4e2a\u7ed3\u70b9\uff0ci\u4e3a\u6240\u6307\u7ed3\u70b9p\u7684\u5ea6+1\uff0c\u975e\u7a7a\u6811c\u4e0eT\u4e0d\u76f8\u4ea4\uff0c\u64cd\u4f5c\u7ed3\u679c\u4e3a\u63d2\u5165c\u4e3a\u6811T\u4e2dp\u6307\u7ed3\u70b9\u7684\u7b2ci\u68f5\u5b50\u6811\n    DeleteChild(T*, p*, i): \u5176\u4e2dp\u6307\u5411\u6811T\u7684\u67d0\u4e2a\u7ed3\u70b9\uff0ci\u4e3a\u6240\u6307\u7ed3\u70b9p\u7684\u5ea6\uff0c\u64cd\u4f5c\u7ed3\u679c\u4e3a\u5220\u9664T\u4e2dp\u6240\u6307\u7ed3\u70b9\u7684\u7b2ci\u68f5\u5b50\u6811\nendADT\n</code></pre>"},{"location":"408/DataStructure/6-%E6%A0%91/#_3","title":"\u5b58\u50a8\u7ed3\u6784","text":""},{"location":"408/DataStructure/6-%E6%A0%91/#_4","title":"\u987a\u5e8f\u7ed3\u6784","text":""},{"location":"408/DataStructure/6-%E6%A0%91/#_5","title":"\u53cc\u4eb2\u8868\u793a\u6cd5","text":"<p>\u9664\u4e86\u6839\u8282\u70b9\uff0c\u5176\u4ed6\u7ed3\u70b9\u4e00\u5b9a\u6709\u53cc\u4eb2\u7ed3\u70b9</p> <p>\u53cc\u4eb2\u8868\u793a\u6cd5\u6709\u4e24\u79cd\uff1a</p> <ol> <li>\u53ea\u80fd\u7b80\u5355\u7684\u8bb0\u5f55\u7ed3\u70b9\u5173\u7cfb\u7684\u4e00\u7ef4\u6570\u7ec4</li> <li>\u5e26\u6570\u636e\u57df\u548c\u6307\u793a\u57df\u7684\u591a\u7ef4\u6570\u7ec4</li> </ol> <p>\u6211\u4eec\u5229\u7528 \u4e00\u7ef4\u6570\u7ec4\uff0c\u4e0b\u6807\u8868\u793a\u6811\u4e2d\u7684\u7ed3\u70b9\uff0c\u6570\u7ec4\u5143\u7d20\u7684\u5185\u5bb9\u8868\u793a\u8be5\u7ed3\u70b9\u7684\u53cc\u4eb2\u7ed3\u70b9\u3002</p> <p></p> \u7b80\u5355\u53cc\u4eb2\u8868\u793a\u6cd5 <p>\u7528 \u7ed3\u6784\u6570\u7ec4\uff0c\u6bcf\u4e2a\u7ed3\u70b9\u9644\u8bbe\u4e00\u4e2a\u6307\u793a\u5668\u6307\u793a\u5176\u53cc\u4eb2\u7ed3\u70b9\u5728\u8868\u4e2d\u7684\u4f4d\u7f6e\u3002 \u4e0a\u56fe\u7684\u6811\u7528\u591a\u7ef4\u6570\u7ec4\u8868\u793a\u4e3a\uff1a</p> \u4e0b\u6807 \u6570\u636e \u53cc\u4eb2 0 A -1 1 B 0 2 C 0 3 D 1 4 E 1 5 F 2 6 G 2 7 H 3 <p>\u7528\u4ee3\u7801\u5b9e\u73b0\u5982\u4e0b\uff1a</p> <p></p><pre><code>#define MAX_TREE_SIZE 100\n\ntypedef char Element;    // \u6570\u636e\u5143\u7d20\u7c7b\u578b\uff0c\u6682\u5b9a\u4e3a\u5b57\u7b26\u578b\n\ntypedef struct {\n    Element data;    // \u6570\u636e\u57df\n    int parent;      // \u53cc\u4eb2\u4f4d\u7f6e\n} PTNode;\n\ntypedef struct {\n    PTNode nodes[MAX_TREE_SIZE];    // \u7ed3\u70b9\u6570\u7ec4\n    int root, node_count;    // \u6839\u7684\u4f4d\u7f6e\u548c\u7ed3\u70b9\u6570\n} PTree;\n\nStatus insert(PTree* pt, Element e, int p) {\n    pt-&gt;nodes[pt-&gt;node_count].data = e;\n    pt-&gt;nodes[pt-&gt;node_count].parent = p;\n    if (p == -1) pt-&gt;root = pt-&gt;node_count;\n    pt-&gt;node_count++;\n}\n</code></pre> \u8fd9\u79cd\u7ed3\u6784\u7684\u8bdd\u5f88\u5bb9\u6613\u627e\u5230\u4e00\u4e2a\u7ed3\u70b9\u7684\u53cc\u4eb2\u7ed3\u70b9\uff0c\u5982\u679cparent\u4e3a-1\u5373\u8868\u793a\u6b64\u7ed3\u70b9\u4e3a\u6839\u8282\u70b9\u3002<p></p> <p>\u4f46\u662f\u5982\u679c\u8981\u627e\u7ed3\u70b9\u7684\u5b69\u5b50\uff0c\u53ea\u80fd\u904d\u5386\u6574\u4e2a\u6570\u7ec4\u3002</p>"},{"location":"408/DataStructure/6-%E6%A0%91/#_6","title":"\u94fe\u5f0f\u7ed3\u6784","text":""},{"location":"408/DataStructure/6-%E6%A0%91/#binary-tree","title":"\u4e8c\u53c9\u6811 Binary Tree","text":""},{"location":"408/DataStructure/6-%E6%A0%91/#_7","title":"\u5b9a\u4e49","text":"<p>\u4e8c\u53c9\u6811 \u662f n\uff08n &gt;= 0\uff09\u4e2a\u7ed3\u70b9\u7684\u6709\u9650\u96c6\u5408\uff0c\u8be5\u96c6\u5408\u6216\u8005\u4e3a\u7a7a\u96c6\uff0c\u6216\u8005\u6709\u4e00\u4e2a\u6839\u7ed3\u70b9\u548c\u4e24\u68f5\u4e0d\u76f8\u4ea4\u7684\u5206\u522b\u79f0\u4e3a\u6839\u7ed3\u70b9\u7684\u5de6\u5b50\u6811\u548c\u53f3\u5b50\u6811\u7684\u4e8c\u53c9\u6811\u7ec4\u6210\u3002</p> <p>\u4e00\u68f5\u6811\u7684\u5ea6\u4e3a n \u65f6\uff0c\u53c8\u79f0 n \u53c9\u6811\u3002\u6240\u4ee5\u4e8c\u53c9\u6811\u7684\u5ea6\u4e3a2\uff0c\u5373\u6bcf\u4e2a\u7ed3\u70b9\u6700\u591a\u67092\u4e2a\u5b50\u7ed3\u70b9\u3002</p> <p></p> \u4e8c\u53c9\u6811"},{"location":"408/DataStructure/6-%E6%A0%91/#_8","title":"\u7279\u70b9","text":"<ol> <li>\u6bcf\u4e2a\u7ed3\u70b9 \u6700\u591a \u6709\u4e24\u68f5\u5b50\u6811\uff0c\u6240\u4ee5\u4e8c\u53c9\u6811\u4e2d\u4e0d\u5b58\u5728\u5ea6 &gt; 2 \u7684\u7ed3\u70b9\u3002</li> <li>\u5de6\u5b50\u6811\u548c\u53f3\u5b50\u6811\u662f\u6709\u987a\u5e8f\u7684\uff0c\u6b21\u5e8f\u4e0d\u80fd\u4efb\u610f\u98a0\u5012\u3002\u5c31\u50cf\u5de6\u624b\u662f\u5de6\u624b\uff0c\u53f3\u624b\u662f\u53f3\u624b\uff0c\u4e0d\u80fd\u4e92\u6362\u3002</li> <li>\u5373\u4f7f\u6811\u4e2d\u67d0\u7ed3\u70b9\u53ea\u6709\u4e00\u68f5\u5b50\u6811\uff0c\u4e5f\u8981\u533a\u5206\u662f\u5de6\u5b50\u6811\u8fd8\u662f\u53f3\u5b50\u6811\u3002\u5c31\u50cf\u6454\u4f24\u4e86\u5de6\u624b\u8fd8\u662f\u53f3\u624b\uff0c\u5bf9\u4f60\u751f\u6d3b\u7684\u5f71\u54cd\u7a0b\u5ea6\u662f\u4e0d\u4e00\u6837\u7684\u3002</li> </ol> <p>\u4e8c\u53c9\u6811\u67095\u79cd\u57fa\u672c\u5f62\u6001\uff1a</p> <ol> <li>\u7a7a\u4e8c\u53c9\u6811</li> <li>\u53ea\u6709\u6839\u8282\u70b9</li> <li>\u6839\u8282\u70b9+\u5de6\u5b50\u6811</li> <li>\u6839\u8282\u70b9+\u53f3\u5b50\u6811</li> <li>\u6839\u8282\u70b9+\u5de6\u5b50\u6811+\u53f3\u5b50\u6811</li> </ol> <p></p> 5\u79cd\u72b6\u6001"},{"location":"408/DataStructure/6-%E6%A0%91/#_9","title":"\u659c\u6811","text":"<p>\u6240\u6709\u7ed3\u70b9\u90fd\u53ea\u6709\u5de6\u5b50\u6811\u7684\u4e8c\u53c9\u6811\u53eb\u5de6\u659c\u6811</p> <p>\u6240\u6709\u7ed3\u70b9\u90fd\u53ea\u6709\u53f3\u5b50\u6811\u7684\u4e8c\u53c9\u6811\u53eb\u53f3\u659c\u6811</p> <p></p> <p>\u659c\u6811\u6709\u5f88\u660e\u663e\u7684\u7279\u70b9\uff0c\u6bcf\u4e00\u5c42\u90fd\u53ea\u6709\u4e00\u4e2a\u7ed3\u70b9\uff0c\u7ed3\u70b9\u7684\u4e2a\u6570\u4e0e\u4e8c\u53c9\u6811\u7684\u6df1\u5ea6\u76f8\u540c\u3002</p>"},{"location":"408/DataStructure/6-%E6%A0%91/#_10","title":"\u6ee1\u4e8c\u53c9\u6811","text":"<p>\u5728\u4e00\u68f5\u4e8c\u53c9\u6811\u4e2d\uff0c\u6240\u6709\u5206\u652f\u8282\u70b9\u90fd\u6709\u5de6\u5b50\u6811\u548c\u53f3\u5b50\u6811\uff0c\u4e14\u6240\u6709\u53f6\u7ed3\u70b9\u90fd\u5728\u540c\u4e00\u5c42\uff0c\u5219\u79f0\u4e3a \u6ee1\u4e8c\u53c9\u6811\u3002</p> <p>\u6ce8\u610f\u5355\u662f\u6bcf\u4e2a\u7ed3\u70b9\u90fd\u5b58\u5728\u5de6\u53f3\u5b50\u6811\u8fd8\u4e0d\u591f\uff0c\u90a3\u6837\u53ea\u7b97\u5b8c\u5168\u4e8c\u53c9\u6811\uff0c\u8fd8\u9700\u8981\u53f6\u5b50\u8282\u70b9\u90fd\u5728\u540c\u4e00\u5c42\u3002</p> <p>\u6ee1\u4e8c\u53c9\u6811\u7684\u7279\u70b9\u6709\uff1a</p> <ol> <li>\u53f6\u7ed3\u70b9\u53ea\u80fd\u51fa\u73b0\u5728\u6700\u4e0b\u5c42\uff0c\u5176\u4ed6\u5c42\u51fa\u73b0\u5c31\u4e0d\u53ef\u80fd\u8fbe\u6210\u5e73\u8861</li> <li>\u5206\u652f\u7ed3\u70b9\u7684\u5ea6\u5fc5\u987b = 2\uff0c\u5426\u5219\u5c31\u662f\u7f3a\u80f3\u818a\u5c11\u817f\u4e86\u3002</li> <li>\u5728\u540c\u6837\u6df1\u5ea6\u7684\u4e8c\u53c9\u6811\u4e2d\uff0c\u6ee1\u4e8c\u53c9\u6811\u7684\u7ed3\u70b9\u6811\u6700\u591a\uff0c\u53f6\u5b50\u6700\u591a\u3002</li> </ol>"},{"location":"408/DataStructure/6-%E6%A0%91/#_11","title":"\u5b8c\u5168\u4e8c\u53c9\u6811","text":"<p>\u5bf9\u4e00\u68f5\u5177\u6709 n \u4e2a\u7ed3\u70b9\u7684\u4e8c\u53c9\u6811\u6309\u5c42\u5e8f\u7f16\u53f7\uff0c\u5982\u679c<code>\u7f16\u53f7\u4e3a i\uff081 &lt;= i &lt;= n\uff09\u7684\u7ed3\u70b9</code>\u4e0e<code>\u540c\u6837\u6df1\u5ea6\u7684\u6ee1\u4e8c\u53c9\u6811\u4e2d\u7f16\u53f7\u4e3ai\u7684\u7ed3\u70b9</code>\u5728\u4e8c\u53c9\u6811\u4e2d\u4f4d\u7f6e\u5b8c\u5168\u76f8\u540c\uff0c\u5219\u8fd9\u68f5\u4e8c\u53c9\u6811\u79f0\u4e3a\u5b8c\u5168\u4e8c\u53c9\u6811\u3002</p> <p></p> <p>\u4e00\u68f5\u6ee1\u4e8c\u53c9\u6811\u4e00\u5b9a\u662f\u5b8c\u5168\u4e8c\u53c9\u6811\uff0c\u4e00\u68f5\u5b8c\u5168\u4e8c\u53c9\u6811\u4e0d\u4e00\u5b9a\u662f\u6ee1\u4e8c\u53c9\u6811\u3002</p> <p>\u6ce8\u610f\u5b8c\u5168\u4e8c\u53c9\u6811\u662f \u6309\u5c42\u5e8f\u7f16\u53f7</p> <p></p> <p>\u7b2c 2 \u68f5\u6811\u867d\u7136\u6709\u4e9b\u7ed3\u70b9\u6ca1\u6709\u8fde\u7eed\uff0c\u4f46\u662f\u56e0\u4e3a\u6bcf\u4e2a\u7ed3\u70b9\u90fd\u662f\u6309\u5c42\u5e8f\u7f16\u53f7\uff0c\u548c\u6ee1\u4e8c\u53c9\u6811\u80fd\u5bf9\u5e94\uff0c\u6240\u4ee5 \u662f \u5b8c\u5168\u4e8c\u53c9\u6811</p> <p>\u7b2c 3 \u68f5\u6811\u7531\u4e8e\u53f6\u7ed3\u70b9\u51fa\u73b0\u5728\u6700\u540e\u4e00\u5c42\uff08\u7f16\u53f7 8\u30019\u300110\uff09\u548c\u5012\u6570\u7b2c\u4e09\u5c42\uff08\u7f16\u53f7 3\uff09\uff0c\u53f6\u5b50\u7ed3\u70b9\u5c42\u6570\u5dee\u8d85\u8fc7 1\uff0c\u6240\u4ee5 \u4e0d\u662f \u5b8c\u5168\u4e8c\u53c9\u6811</p> <p>\u7b2c 4 \u68f5\u6811\u5e94\u4e3a 12 \u7684\u7ed3\u70b9\u7f16\u53f7\u4e3a 11\uff0c\u6240\u4ee5 \u4e0d\u662f \u5b8c\u5168\u4e8c\u53c9\u6811\u3002</p> <p>\u5b8c\u5168\u4e8c\u53c9\u6811\u7684\u7279\u70b9\uff1a</p> <ol> <li>\u53f6\u5b50\u7ed3\u70b9\u53ea\u80fd\u51fa\u73b0\u5728\u6700\u4e0b\u9762\u4e24\u5c42\u3002</li> <li>\u6700\u4e0b\u5c42\u7684\u53f6\u5b50\u4e00\u5b9a\u96c6\u4e2d\u5728\u5de6\u90e8\u8fde\u7eed\u4f4d\u7f6e\u3002</li> <li>\u5012\u6570\u4e24\u5c42\uff0c\u82e5\u6709\u53f6\u5b50\u7ed3\u70b9\uff0c\u4e00\u5b9a\u90fd\u5728\u53f3\u90e8\u8fde\u7eed\u4f4d\u7f6e</li> <li>\u5982\u679c\u7ed3\u70b9\u5ea6\u4e3a 1\uff0c\u5219\u8be5\u7ed3\u70b9\u53ea\u6709\u5de6\u5b69\u5b50\uff0c\u4e0d\u80fd\u53ea\u6709\u53f3\u5b69\u5b50\u3002</li> <li>\u540c\u6837\u7ed3\u70b9\u6570\u7684\u4e8c\u53c9\u6811\uff0c\u5b8c\u5168\u4e8c\u53c9\u6811\u7684\u6df1\u5ea6\u6700\u5c0f\u3002</li> </ol> <p></p> <p>\u4e0a\u56fe\u8fd9\u4e24\u9897\u5c31\u662f\u6b63\u786e\u7684\u5b8c\u5168\u4e8c\u53c9\u6811\u3002</p> <p>\u5de6\u8fb9\u4e3a\u6ee1\u4e8c\u53c9\u6811\uff0c\u53f3\u8fb9\u4e3a\u5b8c\u5168\u4e8c\u53c9\u6811\u3002</p> <p>\u770b\u53f3\u8fb9\u90a3\u68f5\uff0c\u53f6\u7ed3\u70b9\u53ea\u5728\u6700\u4e0b\u4e24\u5c42\uff087\u30018\u30019\u300110\u300111\u300112\uff09\uff0c\u5ea6\u4e3a1\u65f6\u53ea\u6709\u5de6\u5b69\u5b50\uff086 -&gt; 12\uff09</p>"},{"location":"408/DataStructure/6-%E6%A0%91/#_12","title":"\u6027\u8d28","text":"<p>Note</p> \u6027\u8d281\u6027\u8d282\u6027\u8d283\u6027\u8d284\u6027\u8d285 <p>\u5728\u4e8c\u53c9\u6811\u7684\u7b2c i \u5c42\u4e0a\u6700\u591a\u6709 \\(2^{i-1}\\) \u4e2a\u7ed3\u70b9\u3002</p> <p>\u7b2c\u4e00\u5c42\u662f\u6839\u7ed3\u70b9\uff0c\u53ea\u67091\u4e2a\u7ed3\u70b9\uff0c\\(2^{1-1} = 2^0 = 1\\)</p> <p>\u7b2c\u4e8c\u5c42\u6700\u591a\u67092\u4e2a\u7ed3\u70b9\uff0c\\(2^{2-1} = 2^1 = 2\\)</p> <p>\u7b2c\u4e09\u5c42\u6700\u591a\u67094\u4e2a\u7ed3\u70b9\uff0c\\(2^{3-1} = 2^2 = 4\\)</p> <p>\u7b2c\u56db\u5c42\u6700\u591a\u67098\u4e2a\u7ed3\u70b9\uff0c\\(2^{4-1} = 2^3 = 8\\)</p> <p>\u901a\u8fc7\u5f52\u7eb3\u6cd5\uff0c\u53ef\u4ee5\u5f97\u51fa\uff1a\u4e8c\u53c9\u6811\u7684\u7b2ci\u5c42\u6700\u591a\u6709 \\(2^{i-1}\\) \u4e2a\u7ed3\u70b9\u3002</p> <p>Tip</p> <p>\u63a8\u5e7f\u4e00\u4e0b\uff1a\u4e00\u68f5\u6811\u7684\u5ea6\u4e3a n \u65f6\uff0c\u53c8\u79f0 n \u53c9\u6811\u3002</p> <p>\u5982\u679c\u4e00\u68f5\u4e09\u53c9\u6811\u3001\u56db\u53c9\u6811\uff0c\u5728\u7b2ci\u5c42\u4e0a\u6700\u591a\u6709 \\(3^{i-1}\\)\u3001\\(4^{i-1}\\) \u4e2a\u7ed3\u70b9\u3002</p> <p>\u7531\u6b64\u53ef\u5f97\uff1a\u4e00\u68f5 n \u53c9\u6811\u5728\u7b2ci\u5c42\u4e0a\u6700\u591a\u6709 \\(n^{i-1}\\)\u4e2a\u7ed3\u70b9\u3002</p> <p>\u6df1\u5ea6\u4e3a k \u7684\u4e8c\u53c9\u6811\u603b\u7ed3\u70b9\u6570\u6700\u591a\u6709 \\(2^k - 1\\)\u4e2a\uff08k &gt;= 1\uff09\u3002</p> <p>\u5982\u679c\u6709\u4e00\u5c42\uff0c\u6700\u591a\u51711\u4e2a\u7ed3\u70b9\u3002\\(2^1 - 1 = 1\\)</p> <p>\u5982\u679c\u6709\u4e24\u5c42\uff0c\u6700\u591a\u51713\u4e2a\u7ed3\u70b9\u3002\\(2^2 - 1 = 3\\)</p> <p>\u5982\u679c\u6709\u4e09\u5c42\uff0c\u6700\u591a\u51717\u4e2a\u7ed3\u70b9\u3002\\(2^3 - 1 = 7\\)</p> <p>\u5982\u679c\u6709\u56db\u5c42\uff0c\u6700\u591a\u517115\u4e2a\u7ed3\u70b9\u3002\\(2^4 - 1 = 15\\)</p> <p>\u901a\u8fc7\u5f52\u7eb3\u6cd5\uff0c\u53ef\u4ee5\u5f97\u51fa\uff1a\u6df1\u5ea6\u4e3a k \u7684\u4e8c\u53c9\u6811\u603b\u7ed3\u70b9\u6570\u6700\u591a\u6709 \\(2^k - 1\\) \u4e2a\u3002</p> <p>\u5bf9\u4efb\u4f55\u4e00\u68f5\u4e8c\u53c9\u6811 T\uff0c\u5982\u679c\u5176\u53f6\u5b50\u7ed3\u70b9\u603b\u6570\u4e3a \\(n_0\\)\uff0c\u5ea6\u4e3a 2 \u7684\u7ed3\u70b9\u603b\u6570\u4e3a \\(n_2\\)\uff0c\u5219 \\(n_0 = n_2 + 1\\)\u3002</p> <p>\u4f8b\u5982\u4e0a\u56fe\u53f3\u8fb9\u7684\u5b8c\u5168\u4e8c\u53c9\u6811\uff0c\u53f6\u5b50\u7ed3\u70b9\u4e3a7\u30018\u30019\u300110\u300111\u300112\u51716\u4e2a\uff0c</p> <p>\u6240\u4ee5 \\(n_0 = 6\\)\uff1b\u800c\u5ea6\u4e3a2\u7684\u7ed3\u70b91\u30012\u30013\u30014\u30015\u51715\u4e2a\uff0c\\(n_2 = 5\\)\u3002</p> <p>\u6240\u4ee5 \\(n_0 = n_2 + 1 = 5 + 1 = 6\\)\u3002</p> <p>\u603b\u7ed3\u70b9\u6570\u4e3a n \u7684\u5b8c\u5168\u4e8c\u53c9\u6811\u7684\u6df1\u5ea6\u4e3a \\(\u230alog_2 n\u230b + 1\\)\u3002 \u230ax\u230b \u8868\u793a\u5bf9 x \u5411\u4e0b\u53d6\u6574\u3002</p> <p>\u4f8b\u5982\u4e0a\u56fe\u5de6\u8fb9\u7684\u6ee1\u4e8c\u53c9\u6811\uff0c\u603b\u7ed3\u70b9\u6570\u4e3a 15\uff0c\u6df1\u5ea6\u4e3a \\(\u230alog_2 15\u230b + 1 = 4\\)\u3002</p> <p>\u82e5\u5bf9\u4e00\u9897\u603b\u7ed3\u70b9\u6570\u4e3a n \u7684\u5b8c\u5168\u4e8c\u53c9\u6811\uff08\u5176\u6df1\u5ea6\u4e3a \\(\u230alog_2 n\u230b + 1\\)\uff09\u7684\u7ed3\u70b9\u6309\u5c42\u5e8f\u7f16\u53f7\uff0c\u5bf9\u4efb\u4e00\u7ed3\u70b9 i \uff081 &lt;= i &lt;= n\uff09\u6709\uff1a</p> <ul> <li>\u5982\u679c  i = 1\uff0c\u5219\u7ed3\u70b9 i \u662f\u4e8c\u53c9\u6811\u7684\u6839\uff0c\u65e0\u53cc\u4eb2\uff1b</li> <li>\u5982\u679c  i &gt; 1\uff0c\u5219\u5176\u53cc\u4eb2\u7ed3\u70b9\u662f\u7b2c \\(\u230ai/2\u230b\\) \u4e2a\uff1b</li> <li>\u5982\u679c 2i &gt; n\uff0c\u5219\u7ed3\u70b9 i \u65e0\u5de6\u5b69\u5b50\uff08\u7ed3\u70b9 i \u4e3a\u53f6\u5b50\u7ed3\u70b9\uff09\uff1b\u5426\u5219\u5176\u5de6\u5b69\u5b50\u662f\u7ed3\u70b9 2i\uff1b</li> <li>\u5982\u679c 2i+1 &gt; n\uff0c\u5219\u7ed3\u70b9 i \u65e0\u53f3\u5b69\u5b50\uff1b\u5426\u5219\u5176\u53f3\u5b69\u5b50\u662f\u7ed3\u70b9 2i+1\u3002</li> </ul> <p></p> <p>\u4f8b\u5982\u8fd9\u6837\u4e00\u68f5\u5b8c\u5168\u4e8c\u53c9\u6811\u3002\u603b\u7ed3\u70b9\u6570 10\uff1b\u9ad8\u5ea6 4\u3002</p> <ul> <li>\u5982\u679c i = 1\uff0c\u6839\u8282\u70b9\u3002</li> <li>\u5982\u679c i = 7\uff0c\u53cc\u4eb2\u5c31\u662f \\(\u230a7/2\u230b = \u230a3.5\u230b = 3\\)\uff1b</li> <li>\u5982\u679c i = 6\uff0c(2i = 2*6 = 12) &gt; (10 = n)\uff0c\u6240\u4ee56\u65e0\u5de6\u5b69\u5b50\uff1b</li> <li>\u5982\u679c i = 4\uff0c(2i + 1 = 9) &gt; 10\uff0c\u6240\u4ee54\u7684\u53f3\u5b69\u5b50\u662f9\u3002</li> </ul> <p>\u603b\u7ed3\u4e00\u4e0b\u5c31\u662f\uff1a</p> <ul> <li>i = 1\uff0c\u4e3a\u6839\u7ed3\u70b9</li> <li>i \u7684\u53cc\u4eb2\u662f \u230ai/2\u230b</li> <li>i \u7684\u5de6\u5b69\u5b50\u662f 2i</li> <li>i \u7684\u53f3\u5b69\u5b50\u662f 2i + 1</li> </ul>"},{"location":"408/DataStructure/6-%E6%A0%91/#_13","title":"\u5b58\u50a8\u7ed3\u6784","text":"<p>\u987a\u5e8f\u7ed3\u6784\u9002\u7528\u6027\u4e0d\u5f3a\uff0c\u8fd8\u662f\u7528\u94fe\u8868\u7ed3\u6784\u6bd4\u8f83\u597d\u3002</p> <p>\u6bcf\u4e2a\u7ed3\u70b9\u5305\u542b\u4e00\u4e2a\u6570\u636e\u57df\u548c\u4e24\u4e2a\u5de6\u53f3\u5b69\u5b50\u6307\u9488\u57df\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u5305\u542b\u4e00\u4e2a\u53cc\u4eb2\u57df\u3002</p> <pre><code>typedef struct {\n    int id;\n    char* name;\n} Elem;\n\ntypedef struct BTNode{\n    Elem data;            // \u6570\u636e\u57df\n    struct BTNode* lchild; // \u5de6\u5b69\u5b50\n    struct BTNode* rchild; // \u53f3\u5b69\u5b50\n} BTNode;\n\ntypedef struct {\n    BTNode* root; // \u6839\u7ed3\u70b9\n    int depth;    // \u6811\u7684\u5ea6\n    int count;    // \u603b\u7ed3\u70b9\u6570\n} BTree;\n</code></pre>"},{"location":"408/DataStructure/6-%E6%A0%91/#_14","title":"\u904d\u5386","text":"\u524d\u5e8f\u904d\u5386\u6cd5 DLR\u4e2d\u5e8f\u904d\u5386\u6cd5 LDR\u540e\u5e8f\u904d\u5386\u6cd5 LRD\u5c42\u5e8f\u904d\u5386\u6cd5 <p>\u5373\u5148\u6253\u5370\u6839\u7ed3\u70b9\uff0c\u518d\u6253\u5370\u5de6\u5b69\u5b50\uff0c\u6700\u540e\u6253\u5370\u53f3\u5b69\u5b50\uff0c\u4ee5\u6b64\u7c7b\u63a8</p> <p></p> <p>\u4e0a\u9762\u7684\u6253\u5370\u987a\u5e8f\u4e3a\uff1aABDHKECFIGJ</p> <pre><code>void PreOrderTraverse(BTNode T) {\n    if (T == NULL) return;\n    printf(\"%c\", T-&gt;data);\n    PreOrderTraverse(T-&gt;lchild);\n    PreOrderTraverse(T-&gt;rchild);\n}\n</code></pre> <p>\u5373\u5148\u6253\u5370\u5de6\u5b69\u5b50\uff0c\u518d\u6253\u5370\u6839\u7ed3\u70b9\uff0c\u6700\u540e\u6253\u5370\u53f3\u5b69\u5b50\uff0c\u4ee5\u6b64\u7c7b\u63a8</p> <p></p> <p>\u4e0a\u9762\u7684\u6253\u5370\u987a\u5e8f\u4e3a\uff1aHKDBEAIFCGJ</p> <pre><code>void InOrderTraverse(BTNode T) {\n    if (T == NULL) return;\n    InOrderTraverse(T-&gt;lchild);\n    printf(\"%c\", T-&gt;data);\n    InOrderTraverse(T-&gt;rchild);\n}\n</code></pre> <p>\u5373\u5148\u6253\u5370\u5de6\u5b69\u5b50\uff0c\u518d\u6253\u5370\u53f3\u5b69\u5b50\uff0c\u6700\u540e\u6253\u5370\u6839\u7ed3\u70b9\uff0c\u4ee5\u6b64\u7c7b\u63a8</p> <p></p> <p>\u4e0a\u9762\u7684\u6253\u5370\u987a\u5e8f\u4e3a\uff1aKHDEBIFJGCA</p> <pre><code>void PostOrderTraverse(BTNode T) {\n    if (T == NULL) return;\n    PostOrderTraverse(T-&gt;lchild);\n    PostOrderTraverse(T-&gt;rchild);\n    printf(\"%c\", T-&gt;data);\n}\n</code></pre> <p>\u5373\u6309\u5c42\u4ece\u5de6\u5230\u53f3\u4f9d\u6b21\u6253\u5370</p> <p></p> <p>\u4e0a\u9762\u6253\u5370\u987a\u5e8f\u4e3a\uff1aABCDEFGHIJK</p> <p>\u5c42\u5e8f\u904d\u5386\u65f6\u9700\u8981\u501f\u52a9\u4e00\u4e2a\u961f\u5217\u6765\u5b8c\u6210\u3002\u4ece\u6839\u7ed3\u70b9\u5f00\u59cb\uff0c\u5f53\u4e00\u4e2a\u7ed3\u70b9\u51fa\u961f\u65f6\uff0c\u5c06\u5176\u6240\u6709\u5b69\u5b50\u7ed3\u70b9\u5165\u961f\u3002</p> <pre><code>void SequenceTraverse(BTree T) {\n    EnQueue(T-&gt;root);\n    BTNode* root = DeQueue()\n    for (int i = 0; i &lt; T-&gt;count; i++) {\n        if (root) printf(\"%c\", root-&gt;data);\n        if (root-&gt;lchild) EnQueue(root-&gt;lchild);\n        if (root-&gt;rchild) EnQueue(root-&gt;rchild);\n    }\n}\n</code></pre>"},{"location":"408/DataStructure/6-%E6%A0%91/#_15","title":"\u603b\u7ed3","text":"<p>\u524d\u5e8f\u5c31\u662f\u6839\u7ed3\u70b9\u5728\u524d\u9762</p> <p>\u4e2d\u5e8f\u5c31\u662f\u6839\u7ed3\u70b9\u5728\u4e2d\u95f4</p> <p>\u540e\u5e8f\u5c31\u662f\u6839\u7ed3\u70b9\u5728\u540e\u9762</p> <p></p> <p>\u50cf\u8fd9\u68f5\u6bd4\u8f83\u5c0f\u7684\u6811\uff0c</p> <ul> <li>\u524d\u5e8f DLR\uff1aABDEC</li> <li>\u4e2d\u5e8f LDR\uff1aDBEAC</li> <li>\u540e\u5e8f LRD\uff1aDEBCA</li> <li>\u5c42\u6b21\u904d\u5386\uff1aABCDE</li> </ul>"},{"location":"408/DataStructure/6-%E6%A0%91/#_16","title":"\u4f8b\u9898","text":"<p>\u5982\u679c\u4e00\u68f5\u4e8c\u53c9\u6811\u7684\u524d\u5e8f\u904d\u5386\u5e8f\u5217\u4e3a ABCDEF\uff0c\u4e2d\u5e8f\u904d\u5386\u5e8f\u5217\u4e3a CBAEDF\uff0c\u8bf7\u95ee\u540e\u5e8f\u904d\u5386\u5e8f\u5217\u4e3a\uff1f</p> <p>\u89e3\u9898\u601d\u8def\uff1a</p> <ol> <li>\u524d\u5e8f\u7684\u7b2c\u4e00\u4f4d\u6216\u540e\u5e8f\u7684\u6700\u540e\u4e00\u4f4d\uff0c\u4e00\u5b9a\u662f\u6839\u8282\u70b9\uff0c\u6240\u4ee5\u8fd9\u9898\u7684\u6839\u7ed3\u70b9\u5c31\u662f A\u3002</li> <li> <p>\u63a5\u7740\u770b A \u5728\u4e2d\u5e8f\u5e8f\u5217\u7684\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u770b\u51fa CB \u662f A \u7684\u5de6\u5b69\u5b50\uff0cEDF\u662f A \u7684\u53f3\u5b69\u5b50\uff1b\u7136\u540e\u5728\u524d\u5e8f\u4e2d\u5c31\u53ef\u4ee5\u786e\u5b9a BC \u4e3a\u4e00\u7ec4\uff0cDEF \u4e3a\u4e00\u7ec4\u3002     </p> <p></p> </li> <li> <p>\u4e8c\u53c9\u6811\u7684\u5b50\u6811\u4e5f\u662f\u4e8c\u53c9\u6811\u3002\u6839\u636e\u8fd9\u4e2a\u9053\u7406\uff0c\u4ece\u524d\u5e8f\u4e2d\u53ef\u4ee5\u77e5\u9053 B\u662f\u5de6\u5b50\u6811\u7684\u6839\u7ed3\u70b9\uff0c\u540c\u7406D\u662f\u53f3\u5b50\u6811\u7684\u6839\u7ed3\u70b9\u3002     </p> <p></p> </li> <li> <p>\u62ff\u7740 B \u548c D \u5230\u4e2d\u5e8f\u5e8f\u5217\u4e2d\u5206\u6790\uff0c\u5206\u51fa\u5de6\u53f3\u5b50\u6811\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002</p> </li> </ol> <p>\u6838\u5fc3\u5c31\u662f\uff1a\u4ece\u524d\u5e8f\u7684\u7b2c\u4e00\u4e2a \u6216 \u540e\u5e8f\u7684\u6700\u540e\u4e00\u4e2a\u786e\u5b9a\u6839\u7ed3\u70b9\uff0c\u7136\u540e\u5230\u4e2d\u5e8f\u91cc\u533a\u5206\u5de6\u53f3\u5b50\u6811\u3002</p> <p>\u6240\u4ee5\u8fd9\u9053\u9898\u5e94\u8be5\u662f\u8fd9\u6837\u4e00\u68f5\u6811\uff1a</p> <p></p> <p>\u540e\u5e8f\u5e94\u8be5\u4e3a\uff1a CBEFDA</p>"},{"location":"408/DataStructure/6-%E6%A0%91/#threading-tree","title":"\u7ebf\u7d22\u4e8c\u53c9\u6811 Threading Tree","text":"<p>\u7ebf\u7d22\u4e8c\u53c9\u6811 = \uff08\u524d | \u4e2d | \u540e\uff09\u904d\u5386 + \u4e8c\u53c9\u6811</p> <p>\u867d\u7136\u91c7\u7528\u94fe\u5f0f\u7ed3\u6784\u5b58\u50a8\uff0c\u6bcf\u4e2a\u7ed3\u70b9\u5b58\u50a8\u672c\u8eab\u6570\u636e\u548c\u5de6\u53f3\u5b69\u5b50\u7684\u6307\u9488\uff0c\u4f46\u8fd8\u662f\u4f1a\u5e26\u6765\u4e00\u4e2a\u95ee\u9898\uff1a\u53f6\u5b50\u7ed3\u70b9\u6ca1\u6709\u5b50\u6811\uff0c\u5b83\u4eec\u7684\u5b69\u5b50\u6307\u9488\u5fc5\u7136\u4e3a NULL\uff0c\u53f6\u5b50\u8d8a\u591a\uff0cNULL \u8d8a\u591a\uff0c\u8fd9\u5c31\u5bfc\u81f4\u4e0d\u7ba1\u4ec0\u4e48\u6811\uff0c\u90fd\u5fc5\u7136\u4f1a\u6d6a\u8d39\u4e00\u5b9a\u7684\u7a7a\u95f4\u3002</p> <p>\u4f8b\u4e0b\u56fe\uff1a</p> <p></p> <p>\u73b0\u5728\u601d\u8003\u5982\u4f55\u5c06\u90a3\u4e9b <code>^</code> \u5229\u7528\u8d77\u6765\u3002</p> <p>\u5982\u679c\u4e00\u4e2a\u7ed3\u70b9\u6ca1\u6709\u5b69\u5b50\uff0c\u5219\u8ba9\u5b69\u5b50\u6307\u9488\u6307\u5411\u53cc\u4eb2\uff1f\u8fd9\u6837\u6709\u7684\u6307\u6709\u7684\u4e0d\u6307\uff0c\u5f88\u5947\u602a\uff0c\u4e14\u5b9e\u73b0\u8d77\u6765\u5f88\u4e0d\u65b9\u4fbf\u3002</p> <p>\u5982\u679c\u7ed3\u5408\u904d\u5386\u987a\u5e8f\u600e\u4e48\u6837\uff1f\u53ef\u4ee5\u3002</p> <p>\u56e0\u4e3a\u5728\u6ca1\u6709\u904d\u5386\u7684\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e0d\u77e5\u9053\u4e00\u4e2a\u7ed3\u70b9\u7684\u524d\u9a71\u662f\u8c01\uff0c\u540e\u7ee7\u662f\u8c01\uff0c\u4e0d\u5982\u5728\u521b\u5efa\u6811\u65f6\uff0c\u5982\u679c\u6ca1\u6709\u5b50\u6811\uff0c\u5c31\u6362\u6210\u8bb0\u5f55\u524d\u9a71\u5143\u7d20\u6216\u540e\u7ee7\u5143\u7d20\u3002</p> <p>\u8fd9\u6837\u521b\u5efa\u51fa\u6765\u7684\u6811\uff0c\u5c31\u53eb \u7ebf\u7d22\u4e8c\u53c9\u6811\u3002</p> <p>\u7ebf\u7d22\u4e8c\u53c9\u6811\u7684\u6838\u5fc3\u601d\u60f3\u4e3a\uff1a</p> <ul> <li>\u5982\u679c\u6709\u5de6\u5b50\u6811\uff0c\u5219\u5de6\u6307\u9488\u57df\u6307\u5411\u5de6\u5b50\u6811\uff1b \u5982\u679c\u6ca1\u6709\u5de6\u5b50\u6811\uff0c\u5219\u5de6\u6307\u9488\u6307\u5411 \u904d\u5386\u524d\u9a71\u5143\u7d20 </li> <li>\u5982\u679c\u6709\u53f3\u5b50\u6811\uff0c\u5219\u53f3\u6307\u9488\u57df\u6307\u5411\u53f3\u5b50\u6811\uff1b \u5982\u679c\u6ca1\u6709\u53f3\u5b50\u6811\uff0c\u5219\u53f3\u6307\u9488\u6307\u5411 \u904d\u5386\u540e\u7ee7\u5143\u7d20 </li> </ul> <p>\u8fd9\u91cc\u7684\u524d\u9a71\u548c\u540e\u7ee7\u6307\u7684\u662f \u67d0\u4e2a\u7ed3\u70b9\u5728\u904d\u5386\u540e\u5f97\u5230\u7684\u5e8f\u5217\u4e2d\u7684\u524d\u9a71\u548c\u540e\u7ee7\u3002</p> <p>\u4f8b\u5982\uff1a</p> <p>\u540e\u5e8f\u904d\u5386\u5f97\u5230\u5e8f\u5217\uff1aCBEFDA\u3002\u5176\u4e2d E \u662f F \u7684\u524d\u9a71\uff0cD \u662f F \u7684\u540e\u7ee7\u3002</p> <p>\u5373\uff1a\u7ebf\u7d22\u4e8c\u53c9\u6811 = \uff08\u524d | \u4e2d | \u540e\uff09\u904d\u5386 + \u4e8c\u53c9\u6811\u3002</p> <p>\u6211\u4eec\u5728\u5c06\u5de6\u53f3\u6307\u9488\u6307\u5411\u5b50\u6811\u8fd8\u662f\u524d\u9a71\u540e\u7ee7\u8fd9\u4e2a\u884c\u4e3a\u53eb\u505a \u7ebf\u7d22\u5316\u3002</p>"},{"location":"408/DataStructure/6-%E6%A0%91/#_17","title":"\u5b9e\u73b0\u7ec6\u8282","text":"<p>\u5b9a\u4e49\u4e86\u4e8c\u53c9\u6811\uff0c\u6211\u4eec\u9700\u8981\u8ba8\u8bba\uff1a\u5982\u4f55\u77e5\u9053\u4e00\u4e2a\u7ed3\u70b9\u7684\u5b69\u5b50\u6307\u9488\u662f\u6307\u5411\u5b50\u6811\u8fd8\u662f\u6307\u5411\u524d\u9a71\u540e\u7ee7\uff1f</p> <p>\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u8fd8\u9700\u8981\u5728\u6bcf\u4e2a\u7ed3\u70b9\u4e2d\u589e\u52a0\u4e24\u4e2a\u53d8\u91cf <code>ltag</code> \u3001<code>rtag</code>\u3002</p> <p>\u5f53 ltag \u6216 rtag \u4e3a true \u65f6\u8868\u793a\u6709\u5b69\u5b50\uff0c\u6307\u9488\u57df\u6307\u5411\u5b50\u6811\uff1b \u5f53 ltag \u6216 rtag \u4e3a false \u65f6\u8868\u793a\u6ca1\u6709\u5b69\u5b50\uff0c\u6307\u9488\u57df\u6307\u5411\u524d\u9a71\u6216\u540e\u7ee7\u3002</p> <pre><code>typedef struct BTNode{\n    Elem data;             // \u6570\u636e\u57df\n    struct BTNode* lchild; // \u5de6\u5b69\u5b50\n    struct BTNode* rchild; // \u53f3\u5b69\u5b50\n    bool ltag;\n    bool rtag;\n} BTNode;\n</code></pre> <p>\u8fd9\u6837\u5728\u521b\u5efa\u4e00\u68f5\u6811\u65f6\uff0c\u5982\u679c\u67d0\u4e2a\u7ed3\u70b9\u6709\u5de6\u5b50\u6811\uff0cltag \u4e3a true\uff0clchild \u6307\u5411\u5de6\u5b50\u6811\uff1b\u5982\u679c\u6ca1\u6709\u5de6\u5b50\u6811\uff0cltag \u4e3a false\uff0clchild \u6307\u5411\u524d\u9a71\u3002 eg\uff1a</p> <p></p> <p>\u8fd9\u6837\u4e00\u68f5\u4e8c\u53c9\u6811\uff0c\u7ecf\u8fc7\u4e2d\u5e8f\u7ebf\u7d22\u5316\u4ee5\u540e\uff0c\u53d8\u6210\u4e0b\u9762\u8fd9\u6837\uff1a</p> <p></p> <pre><code>TTNode* pre;     // \u5168\u5c40\u53d8\u91cf\uff0c\u6307\u5411\u521a\u521a\u8bbf\u95ee\u8fc7\u7684\u7ed3\u70b9\nvoid InThreading(TTNode* T) {\n    if(T) {\n        InThreading(T-&gt;lchild);    // \u9012\u5f52\u5de6\u5b50\u6811\u7ebf\u7d22\u5316\n\n        /** \u7ebf\u7d22\u5316 begin */\n        if(!T-&gt;lchild) {    // \u6ca1\u6709\u5de6\u5b69\u5b50\n            T-&gt;ltag = false;        // \u7ebf\u7d22\u6807\u5fd7\n            T-&gt;lchild = pre;    // \u6307\u5411\u524d\u9a71\u5143\u7d20\n        }\n        if(!pre-&gt;rchild) {    // \u524d\u9a71\u7ed3\u70b9\u6ca1\u6709\u53f3\u5b69\u5b50\n            pre-&gt;rtag = false;      // \u7ebf\u7d22\u6807\u5fd7\n            pre-&gt;rchild = T;    // \u524d\u9a71\u53f3\u6307\u9488\u6307\u5411\u5f53\u524d\u6307\u9488\n        }\n        pre = T;    // \u4fdd\u6301 pre \u6307\u5411 T \u7684\u524d\u9a71\n        /** \u7ebf\u7d22\u5316 end */\n\n        InThreading(T-&gt;rchild);    // \u9012\u5f52\u53f3\u5b50\u6811\u7ebf\u7d22\u5316\n    }\n}\n</code></pre>"},{"location":"408/DataStructure/6-%E6%A0%91/#_18","title":"\u8f6c\u6362","text":""},{"location":"408/DataStructure/6-%E6%A0%91/#_19","title":"\u6811\u8f6c\u4e8c\u53c9\u6811","text":"<p>\u4e00\u68f5\u4e0d\u89c4\u5219\u7684\u6811\uff0c\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u53ef\u4ee5\u8f6c\u6362\u4e3a\u4e00\u68f5\u4e8c\u53c9\u6811\u3002</p> <p>\u8f6c\u6362\u65b9\u6cd5\uff1a</p> <ol> <li>\u8fde\u63a5\uff1a\u5144\u5f1f\u4e4b\u95f4\u8fde\u7ebf</li> <li>\u65ad\u5f00\uff1a\u53cc\u4eb2\u7ed3\u70b9\u53ea\u4fdd\u7559\u6700\u5de6\u5b69\u5b50\uff0c\u5176\u4f59\u90fd\u65ad\u5f00</li> <li>\u65cb\u8f6c\uff1a\u8c03\u6574\u597d\u4f4d\u7f6e</li> <li>\u4fdd\u7559\u7684\u505a\u5de6\u5b50\u6811\uff0c\u8fde\u63a5\u7684\u505a\u53f3\u5b50\u6811</li> </ol> <p></p> <p>\u5c06\u8fd9\u6837\u4e00\u68f5\u6811\u8f6c\u6210\u4e8c\u53c9\u6811\u3002</p> <p></p> <ul> <li>\u7b2c\u4e00\u6b65\uff1a\u5144\u5f1f\u7ed3\u70b9\u4e4b\u95f4\u8fde\u63a5\u8d77\u6765\u3002\u4f8b\u5982 BCD \u4e4b\u95f4\u90fd\u8fde\u63a5\u8d77\u6765\u4e86\u3002</li> <li>\u7b2c\u4e8c\u6b65\uff1a\u9664\u4e86\u53cc\u4eb2\u8ddf\u5de6\u5b69\u5b50\uff0c\u5176\u4ed6\u8054\u7cfb\u90fd\u65ad\u5f00\u3002\u4f8b\u5982A\u53ea\u4fdd\u7559\u4e0e B\uff0c\u65ad\u5f00\u4e0e CD \u7684\u5173\u7cfb\u3002</li> <li>\u7b2c\u4e09\u6b65\uff1a\u65cb\u8f6c\u8c03\u6574\u3002\u4fdd\u7559\u4e0b\u6765\u7684\u4f5c\u4e3a\u5de6\u5b50\u6811\uff0c\u8fde\u63a5\u5f97\u6765\u7684\u4f5c\u4e3a\u53f3\u5b50\u6811\u3002\u4f8b\u5982 B \u662f\u4fdd\u7559\u4e0b\u6765\u7684\uff0c\u4f5c\u4e3a\u5de6\u5b50\u6811\uff0cCD \u662f\u8fde\u63a5\u51fa\u6765\u7684\uff0c\u4f5c\u4e3a\u53f3\u5b50\u6811\u3002</li> </ul> <p>Tip</p> <p>\u53e3\u8bc0\uff1a\u4e00\u8fde\u63a5\u3001\u4e8c\u65ad\u5f00\u3001\u4e09\u65cb\u8f6c\u3001\u4fdd\u7559\u5de6\u5b50\u6811\u3001\u8fde\u63a5\u53f3\u5b50\u6811\u3002</p>"},{"location":"408/DataStructure/6-%E6%A0%91/#_20","title":"\u4e8c\u53c9\u6811\u8f6c\u6811","text":"<p>\u4e8c\u53c9\u6811\u8f6c\u6811 \u662f \u6811\u8f6c\u4e8c\u53c9\u6811\u7684\u9006\u8fc7\u7a0b</p> <p>\u4e00\u65cb\u8f6c\u3001\u4e8c\u65ad\u5f00\u3001\u4e09\u8fde\u63a5\u5373\u53ef\u3002</p> <p></p> <ul> <li>\u7b2c\u4e00\u6b65\uff1a\u65cb\u8f6c\uff0c\u5c06\u53f3\u5b50\u6811\u90fd\u65cb\u8f6c\u90fd\u540c\u4e00\u5c42</li> <li>\u7b2c\u4e8c\u6b65\uff1a\u8fde\u63a5\u53f3\u5b50\u6811\u7ed3\u70b9\u4e0e\u53cc\u4eb2\u7ed3\u70b9</li> <li>\u7b2c\u4e09\u6b65\uff1a\u65ad\u5f00\u5144\u5f1f\u95f4\u7684\u8fde\u7ebf</li> </ul>"},{"location":"408/DataStructure/6-%E6%A0%91/#_21","title":"\u4e8c\u53c9\u6811\u8f6c\u68ee\u6797","text":"<p>\u5224\u65ad\u4e00\u68f5\u6811\u662f\u666e\u901a\u6811\u8fd8\u662f\u4e8c\u53c9\u6811\uff0c\u770b\u5b83\u6839\u7ed3\u70b9\u6709\u6ca1\u6709\u53f3\u5b50\u6811\u3002\u6709\u5c31\u662f\u4e8c\u53c9\u6811\uff0c\u6ca1\u6709\u5c31\u662f\u666e\u901a\u6811\u3002</p> <p>\u4e8c\u53c9\u6811\u8f6c\u68ee\u6797\u53ea\u9700\u8981\u628a\u6bcf\u4e2a \u6709\u5b69\u5b50\u7684\u53f3\u5b50\u6811 \u62c6\u5f00\u4f5c\u4e3a\u5355\u72ec\u4e00\u68f5\u6811\u5373\u53ef\u3002</p> <p></p>"},{"location":"408/DataStructure/6-%E6%A0%91/#_22","title":"\u54c8\u592b\u66fc\u6811","text":"<p>\u54c8\u592b\u66fc\u6811\u662f\u4e00\u7c7b\u5e26\u6743\u8def\u5f84\u957f\u5ea6\u6700\u77ed\u7684\u6811\uff0c\u53c8\u79f0\u8d6b\u592b\u66fc\u6811\u3001\u6700\u4f18\u6811\u3001\u6700\u4f18\u4e8c\u53c9\u6811\u3002</p> <p>\u54c8\u592b\u66fc\u6811\u7684\u5e94\u7528\u975e\u5e38\u5e7f\u6cdb\uff0c\u7279\u522b\u662f\u5728\u5927\u6587\u672c\u7f16\u7801\u65b9\u9762\uff0c\u538b\u7f29\u6bd4\u975e\u5e38\u53ef\u89c2\u3002</p> <p>\u9996\u5148\u89e3\u91ca\u4e00\u4e0b\u5e26\u6743\u8def\u5f84\uff1a</p> <ul> <li>\u8def\u5f84\uff1a\u4e24\u4e2a\u7ed3\u70b9\u4e4b\u95f4\u90a3\u6839\u7ebf\u5c31\u53eb\u8def\u5f84</li> <li>\u6743\uff1a\u8def\u5f84\u4e0a\u7684\u6570\u5b57\u3002</li> <li>\u5e26\u6743\u8def\u5f84\uff1a\u4e24\u4e2a\u7ed3\u70b9\u4e4b\u95f4\u90a3\u6839\u7ebf\u5e26\u6570\u5b57</li> </ul> <p></p> <p>\u6743\u503c\u53ef\u4ee5\u7528\u6765\u8868\u793a\u67d0\u4e9b\u542b\u4e49\uff0c\u800c\u5728\u54c8\u592b\u66fc\u7f16\u7801\u4e2d\uff0c\u6743\u503c\u53ea\u6709 0 \u548c 1 \u4e24\u79cd\u3002</p> <ul> <li>\u8def\u5f84\u957f\u5ea6\uff1a\u4ece\u6811\u4e2d\u4e00\u4e2a\u7ed3\u70b9\u5230\u53e6\u4e00\u4e2a\u7ed3\u70b9\u4e4b\u95f4\u7684\u5206\u652f\u6784\u6210\u8fd9\u4e24\u4e2a\u7ed3\u70b9\u4e4b\u95f4\u7684\u8def\u5f84\uff0c\u8def\u5f84\u4e0a\u7684\u5206\u652f\u6570\u76ee\u79f0\u4f5c\u8def\u5f84\u957f\u5ea6</li> <li>\u6811\u7684\u8def\u5f84\u957f\u5ea6\uff1a\u4ece\u6811\u6839\u5230\u6bcf\u4e00\u4e2a\u7ed3\u70b9\u7684\u8def\u5f84\u957f\u5ea6\u4e4b\u548c\u3002</li> <li> <p>\u6811\u7684\u5e26\u6743\u8def\u5f84\u957f\u5ea6\uff1a\u6811\u4e2d\u6240\u6709\u53f6\u5b50\u7ed3\u70b9\u7684\u5e26\u6743\u8def\u5f84\u957f\u5ea6\u4e4b\u548c\uff0c</p> <p>\u901a\u5e38\u8bb0\u4f5c \\(WPL=\\sum^n_{k=1}{w_kl_k}\\)\u3002\uff08\\(l\\) \u4e3a\u7ed3\u70b9 \\(k\\) \u7684\u5c42\u6570\uff0c\u4ece 0 \u5f00\u59cb\u8ba1\u7b97\uff09</p> </li> </ul> <p></p> <p>\u4e0a\u56fe\u4e2d\u7684 3 \u68f5\u4e8c\u53c9\u6811\uff0c\u90fd\u6709 4 \u4e2a\u53f6\u5b50\u7ed3\u70b9 A\u3001B\u3001C\u3001D\uff0c\u5206\u522b\u5e26\u6743 11\u30017\u30016\u30019\u3002</p> <p>\u4ed6\u4eec\u7684\u5e26\u6743\u8def\u5f84\u957f\u5ea6\u5206\u522b\u4e3a\uff1a</p> <ol> <li>\\(WPL = 11 \\times 2 + 7 \\times 2 + 6 \\times 2 + 9 \\times 2 = 66\\)</li> <li>\\(WPL = 11 \\times 2 + 7 \\times 1 + 6 \\times 3 + 9 \\times 3 = 74\\)</li> <li>\\(WPL = 11 \\times 1 + 7 \\times 2 + 6 \\times 3 + 9 \\times 3 = 70\\)</li> </ol> <p>\u5047\u8bbe\u6709\u4e00\u68f5\u4e8c\u53c9\u6811\uff0c\u5176\u6709 n \u4e2a\u53f6\u5b50\u7ed3\u70b9\uff0c\u5e76\u6709 n \u4e2a\u6743\u503c \\({w_1, w_2, ..., w_n}\\)\uff0c\u6bcf\u4e2a\u53f6\u5b50\u7ed3\u70b9\u5e26\u6743\u4e3a \\(w_i\\)\uff0c\u5219\u5176\u4e2d\u5e26\u6743\u8def\u5f84\u957f\u5ea6 WPL \u6700\u5c0f\u7684\u4e8c\u53c9\u6811\u79f0\u4f5c\u6700\u4f18\u4e8c\u53c9\u6811\u6216\u54c8\u592b\u66fc\u6811\u3002</p>"},{"location":"408/DataStructure/6-%E6%A0%91/#_23","title":"\u54c8\u592b\u66fc\u7f16\u7801","text":"<p>\u54c8\u592b\u66fc\u7f16\u7801\u662f\u4e00\u79cd\u53d8\u957f\u7684\u7f16\u7801\u65b9\u5f0f\uff0c\u5728\u5927\u6587\u672c\u538b\u7f29\u65b9\u9762\u6709\u7740\u51fa\u8272\u7684\u8868\u73b0\u3002</p> <p>\u76f8\u5bf9\u6bd4\u53d8\u957f\uff0c\u53e6\u4e00\u79cd\u7f16\u7801\u65b9\u5f0f\u4e3a\u5b9a\u957f\u3002</p> <p>\u5047\u8bbe\u73b0\u5728\u6709\u4e00\u4e32\u6587\u672c <code>aaabbaacdeefdeaeff</code>\uff0c\u5171 18 \u4e2a\u5b57\u7b26\u3002</p> <p>\u73b0\u5728\u8981\u8fdb\u884c\u8fdc\u8ddd\u79bb\u4f20\u8f93\uff0c\u6211\u4eec\u9700\u8981\u5148\u8fdb\u884c\u7f16\u7801\uff0c\u4e5f\u5c31\u662f\u7f16\u6210\u4e8c\u8fdb\u5236\u5f62\u5f0f\u3002</p> <p>\u53ef\u4ee5\u770b\u5230\u603b\u5171\u662f abcdef \u8fd9\u51e0\u4e2a\u5b57\u7b26\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u7528 001 \u8868\u793a a\uff0c010 \u8868\u793a b\uff0c011 \u8868\u793a c... \u4ee5\u6b64\u7c7b\u63a8\u3002</p> a b c d e f 001 010 011 100 101 110 <p>\u8fd9\u5c31\u662f\u5b9a\u957f\u7f16\u7801\uff0c\u6bcf\u4e00\u4e2a\u5b57\u7b26\u7f16\u7801\u540e\u90fd\u662f\u540c\u6837\u7684\u4f4d\u6570 3 \u4f4d\u3002</p> <p><code>aaabbaacdeefdeaeff</code> \u7f16\u7801\u540e\u4e3a <code>001001001010010001001011100101101110100101001101110110</code>\u300218 \u4e2a\u5b57\u7b26\u5171\u7f16\u6210 54 \u4e2a\u4e8c\u8fdb\u5236\u4f4d\u3002</p> <p>\u8fd9\u79cd\u65b9\u5f0f\u6709\u4e2a\u7f3a\u70b9\uff1a\u73b0\u5728\u53ea\u6709 6 \u79cd\u5b57\u7b26\uff0c\u6240\u4ee5\u6bcf\u4e2a\u5b57\u7b26\u7f16\u7801\u540e\u7684\u4f4d\u6570\u5360\u4e86 3 \u4f4d\uff0c\u5982\u679c\u6709 17 \u79cd\u5b57\u7b26\uff0c\u90a3\u4e48\u6bcf\u4e2a\u5b57\u7b26\u7f16\u7801\u540e\u9700\u8981\u5360\u7528 5 \u4f4d\uff0c\u975e\u5e38\u6d6a\u8d39\u7a7a\u95f4\u3002</p> <p>\u6240\u4ee5\u54c8\u592b\u66fc\u6559\u6388\u63d0\u51fa\u4e86\u73b0\u5728\u7684\u54c8\u592b\u66fc\u7f16\u7801\uff0c\u6838\u5fc3\u5c31\u662f\u4e00\u53e5\u8bdd\uff1a\u8ba9\u51fa\u73b0\u6b21\u6570\u8d8a\u9ad8\u7684\u5b57\u7b26\u5360\u7528\u8d8a\u5c11\u7684\u4f4d\u6570\u3002</p>"},{"location":"408/DataStructure/6-%E6%A0%91/#_24","title":"\u7f16\u7801\u6b65\u9aa4","text":"<p>\u8fd9\u662f\u4e00\u79cd\u53d8\u957f\u7684\u7f16\u7801\u65b9\u5f0f\uff0c\u5177\u4f53\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <ol> <li>\u7edf\u8ba1\u5404\u79cd\u5b57\u7b26\u7684\u51fa\u73b0\u6b21\u6570\u6784\u6210\u4e00\u4e2a\u5e8f\u5217</li> <li>\u5bf9\u5e8f\u5217\u8fdb\u884c\u6392\u5e8f</li> <li>\u9009\u53d6 2 \u4e2a\u6700\u5c0f\u7684\u4f5c\u4e3a\u53f6\u5b50\u7ed3\u70b9\uff0c\u7236\u7ed3\u70b9\u4e3a\u4e24\u6b21\u6570\u4e4b\u548c</li> <li>\u5c06\u9009\u51fa\u7684\u4e24\u4e2a\u6570\u4ece\u5e8f\u5217\u4e2d\u5220\u9664\uff0c\u5c06\u7236\u7ed3\u70b9\u52a0\u5165\u5e8f\u5217</li> <li>\u91cd\u590d\u6b65\u9aa4 2\uff0c\u76f4\u5230\u5e8f\u5217\u4e3a\u7a7a\u3002</li> </ol> <p>\u6ce8\u610f\u4e8b\u9879\uff1a</p> <ul> <li>\u4fdd\u6301\u4efb\u4f55\u5de6\u4fa7\u7ed3\u70b9\u90fd\u6bd4\u53f3\u4fa7\u7684\u5144\u5f1f\u7ed3\u70b9\u5c0f/\u5927\u3002</li> <li>\u6784\u9020\u5b8c\u6210\u4ee5\u540e\uff0c\u7ed9\u6bcf\u4e00\u6761\u8def\u5f84\u586b\u5145\u6743\u503c 0 \u6216 1\u3002</li> </ul> <p>\u4e0a\u9762\u7684\u4f8b\u5b50\u7528\u54c8\u592b\u66fc\u7f16\u7801\uff0c\u5e94\u8be5\u662f\u8fd9\u6837\uff1a</p> <p></p> <p>\u6700\u7ec8\u4f1a\u751f\u6210\u4e00\u9897\u8fd9\u6837\u7684\u6811\uff1a</p> <p></p> <p>\u7136\u540e\u4ece\u6839\u7ed3\u70b9\u5f00\u59cb\uff0c\u76f4\u5230\u5b57\u7b26\u90a3\u4e2a\u7ed3\u70b9\uff0c\u8fd9\u4e00\u8def\u7684\u6743\u503c\u62fc\u63a5\u8d77\u6765\u5c31\u5f97\u5230\u4e86\u53d8\u957f\u7f16\u7801\u3002</p> a b c d e f 00 011 0101 0100 10 11 <p>\u73b0\u5728\uff0c<code>aaabbaacdeefdeaeff</code> \u7f16\u7801\u540e\u4e3a <code>00000001101100000101010010101101001000101111</code>\u300218 \u4e2a\u5b57\u7b26\u5171\u7f16\u6210 44 \u4e2a\u4e8c\u8fdb\u5236\u4f4d\u3002</p> <p>\u538b\u7f29\u6bd4\u4e3a \\(44 \\div 54 = 81\\)%\u3002</p> <p>\u770b\u8d77\u6765\u4e0d\u591a\uff0c\u4f46\u662f\u8ba1\u7b97\u673a\u4e2d\u4e00\u4e2a\u5b57\u7b26\u9700\u8981 8 \u4e2a\u4f4d\u5b58\u50a8\uff0c18 \u4e2a\u5b57\u7b26\u5171 144 \u4f4d\u3002</p> <p>\u8fd9\u6837\u7b97\u4e0b\u6765\u538b\u7f29\u6bd4\u76f4\u63a5\u8fbe\u5230 \\(44 \\div 144 = 30\\)%\uff01</p>"},{"location":"408/DataStructure/6-%E6%A0%91/#_25","title":"\u4ee3\u7801\u5b9e\u73b0","text":"<p>\u4f2a\u4ee3\u7801</p> <pre><code>while (\u5e8f\u5217\u957f\u5ea6 &gt;= 1) {\n    \u5c06\u5e8f\u5217\u6392\u5e8f\n    \u6808\u9876 2 \u4e2a\u5143\u7d20\u51fa\u6808\n    \u6784\u9020\u5b50\u6811\n    \u5c06\u7236\u7ed3\u70b9\u7684\u503c\u5165\u6808\n}\n\u586b\u5145\u6743\u503c\n</code></pre> DataElement.hHuffman.hHuffman.cmain.c <pre><code>// DataElement.h\n\n#ifndef DATAELEMENT_H_INCLUDED\n#define DATAELEMENT_H_INCLUDED\n\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\n#define MAXSIZE 10\n\ntypedef struct Node {\n    char data;\n    int value;\n    struct Node* lNode;\n    struct Node* rNode;\n    int lWeight;\n    int rWeight;\n} Node;\n\ntypedef struct Stack {\n    Node* datas[MAXSIZE];\n    int top;\n} Stack;\n\ntypedef struct {\n    char data;\n    int times;\n} seq;\n\n#endif\n</code></pre> <pre><code>// Huffman.h\n\n#ifndef HUFFMAN_H_INCLUDED\n#define HUFFMAN_H_INCLUDED\n\n#include &lt;stdbool.h&gt;\n#include \"DataElement.h\"\n#define len(x) sizeof(x)/sizeof(x[0])\n\n\n// \u5c06\u5e8f\u5217\u6392\u5e8f\nbool sort(Stack*);\n\n// \u51fa\u6808\u4e24\u4e2a\u5143\u7d20\nvoid pop(Stack* s, Node* nodeArr[2]);\n\n// \u6784\u9020\u5b50\u6811\nNode* buildSubTree(Node* nodeArr[2]);\n\n// \u7236\u7ed3\u70b9\u5165\u6808\nvoid push(Stack* s, Node* parent);\n\nbool initStack(Stack* s, seq arr[], int arrLen);\nvoid printStack(Stack* s);\nvoid frontPrint(Node* root);\nvoid midPrint(Node* root);\nvoid stuffWeight(Node* root);\n\n#endif\n</code></pre> <pre><code>// Huffman.c\n\n#include \"Huffman.h\"\n\n// \u5c06\u5e8f\u5217\u6392\u5e8f\n/**\n* @name \u76f4\u63a5\u63d2\u5165\u6392\u5e8f\u7b97\u6cd5\n* \u5faa\u73af\u6570\u7ec4\u957f\u5ea6 -1 \u6b21\uff0c\u6bcf\u6b21\u5faa\u73af\u5c06\u5f53\u524d\u76ee\u6807\u6570\u4e0e\u524d\u9762\u90e8\u5206\uff08\u5df2\u6392\u597d\u5e8f\uff09\u6bd4\u8f83\n* \u524d\u4e00\u4e2a\u6570\u5927\u4e8e\u5f53\u524d\u6570\u5219\u4ea4\u6362\u4f4d\u7f6e\uff0c\u4e00\u76f4\u6bd4\u8f83\u4e00\u76f4\u6362\uff0c\u76f4\u5230\u524d\u9762\u7684\u6570\u5c0f\u4e8e\u5f53\u524d\u6570\u65f6\uff0c\u9000\u51fa\u6bd4\u8f83\uff0c\u6362\u4e0b\u4e00\u4e2a\u76ee\u6807\u6570\u7ee7\u7eed\u6bd4\u8f83\u3002\n*/\nbool sort(Stack* s)\n{\n    int i;\n    for (i = 1; i &lt; s-&gt;top + 1; i++) { // \u4e00\u5171\u5faa\u73af\u6570\u7ec4\u957f\u5ea6 -1 \u6b21\n        int j;\n        for (j = i; j &gt; 0; j--) {\n            Node* prev = s-&gt;datas[i - 1];\n            Node* curr = s-&gt;datas[i];\n            if (prev-&gt;value &lt; curr-&gt;value) { // \u82e5\u524d\u4e00\u4e2a\u5c0f\u4e8e\u540e\u4e00\u4e2a\uff0c\u5219\u4ea4\u6362\u4e24\u4e2a\u7ed3\u70b9\uff0c\u5f53\u524d\u76ee\u6807\u6570\u4f4d\u7f6e-1\n                Node* tmp = s-&gt;datas[i - 1];\n                s-&gt;datas[i - 1] = s-&gt;datas[i];\n                s-&gt;datas[i] = tmp;\n                tmp = NULL;\n                i--;\n            } else {\n                break;\n            }\n        }\n    }\n}\n\n// \u51fa\u6808\u4e24\u4e2a\u5143\u7d20\nvoid pop(Stack* s, Node* nodeArr[2])\n{\n    nodeArr[0] = s-&gt;datas[s-&gt;top--];\n    nodeArr[1] = s-&gt;datas[s-&gt;top--];\n}\n\n// \u6784\u9020\u5b50\u6811\nNode* buildSubTree(Node* nodeArr[2])\n{\n    Node* parent = (Node*)malloc(sizeof(Node));\n    parent-&gt;data = '-';\n    parent-&gt;value = nodeArr[0]-&gt;value + nodeArr[1]-&gt;value;\n    parent-&gt;lNode = nodeArr[0];\n    parent-&gt;rNode = nodeArr[1];\n    parent-&gt;lWeight = parent-&gt;rWeight = -1;\n    return parent;\n}\n\n// \u7236\u7ed3\u70b9\u5165\u6808\nvoid push(Stack* s, Node* parent)\n{\n    s-&gt;datas[++s-&gt;top] = parent;\n}\n\n// \u586b\u5145\u6bcf\u6761\u8def\u5f84\u4e0a\u7684\u6743\u503c\nvoid stuffWeight(Node* root)\n{\n    if (root) {\n        if (root-&gt;lNode)\n            root-&gt;lWeight = 1;\n        if (root-&gt;rNode)\n            root-&gt;rWeight = 0;\n        stuffWeight(root-&gt;lNode);\n        stuffWeight(root-&gt;rNode);\n    }\n}\n\n// \u521d\u59cb\u5316\u6808\nbool initStack(Stack* s, seq arr[], int arrLen)\n{\n    int i;\n    for (i = 0; i &lt; MAXSIZE; i++)\n        s-&gt;datas[i] = NULL;\n\n    s-&gt;top = -1;\n\n    // \u5c06\u6570\u7ec4\u586b\u5145\u8fdb\u6808\u91cc\n    for (i = 0; i &lt; arrLen; i++) {\n        Node* node = (Node*)malloc(sizeof(Node));\n        node-&gt;data = arr[i].data;\n        node-&gt;value = arr[i].times;\n        node-&gt;lNode = node-&gt;rNode = NULL;\n        node-&gt;lWeight = node-&gt;rWeight = -1;\n        push(s, node);\n    }\n    return true;\n}\n\n// \u524d\u5e8f\u904d\u5386\u6253\u5370\nvoid frontPrint(Node* root)\n{\n    if (root != NULL) {\n        printf(\"%c %2d; %2d, %2d\\n\", root-&gt;data, root-&gt;value, root-&gt;lWeight, root-&gt;rWeight);\n        frontPrint(root-&gt;lNode);\n        frontPrint(root-&gt;rNode);\n    }\n}\n\n// \u4e2d\u5e8f\u904d\u5386\u6253\u5370\nvoid midPrint(Node* root)\n{\n    if (root != NULL) {\n        midPrint(root-&gt;lNode);\n        printf(\"%c %2d; %2d, %2d\\n\", root-&gt;data, root-&gt;value, root-&gt;lWeight, root-&gt;rWeight);\n        midPrint(root-&gt;rNode);\n    }\n}\n</code></pre> <pre><code>// main.c\n\n#include \"Huffman.c\"\n#include \"tools.c\"\n\nvoid BuildHuffman()\n{\n\n    seq arr[] = { { 'a', 6 }, { 'b', 2 }, { 'c', 1 }, { 'd', 2 }, { 'e', 4 }, { 'f', 3 } };\n    Stack s;\n    initStack(&amp;s, arr, len(arr));\n    Node* popArr[2];\n\n    while (s.top &gt;= 1) {\n        sort(&amp;s);\n        pop(&amp;s, popArr);\n        Node* parent = buildSubTree(popArr);\n        push(&amp;s, parent);\n    }\n    stuffWeight(s.datas[s.top]);\n    printStack(&amp;s);\n    frontPrint(s.datas[s.top]);\n    printf(\"\\n\");\n    midPrint(s.datas[s.top]);\n}\n\nvoid main()\n{\n    BuildHuffman();\n}\n</code></pre>"},{"location":"408/DataStructure/7-%E5%9B%BE1/","title":"7-\u56fe","text":""},{"location":"408/DataStructure/7-%E5%9B%BE1/#7-","title":"7-\u56fe","text":"<p>\u56fe \u662f\u6709\u9876\u70b9\u7684\u6709\u7a77\u975e\u7a7a\u96c6\u5408\u548c\u9876\u70b9\u4e4b\u95f4\u8fb9\u7684\u96c6\u5408\u7ec4\u6210\uff0c\u901a\u5e38\u8868\u793a\u4e3a\uff1aG\uff08 V, E \uff09</p> <p>\u5176\u4e2d G \u8868\u793a\u4e00\u4e2a\u56fe\uff0cV \u662f\u9876\u70b9\u96c6\u5408\uff0cE \u662f\u8fb9\u7684\u96c6\u5408\u3002</p> <p></p> <ul> <li>\u7ebf\u6027\u8868\u7684\u6570\u636e\u5143\u7d20 -&gt; \u5143\u7d20 Element</li> <li>\u6811\u4e2d\u7684\u6570\u636e\u5143\u7d20 -&gt; \u7ed3\u70b9 Node</li> <li> <p>\u56fe\u4e2d\u7684\u6570\u636e\u5143\u7d20 -&gt; \u9876\u70b9 Vertex<sup>1</sup></p> </li> <li> <p>\u7ebf\u6027\u8868\u6ca1\u6709\u6570\u636e\u5143\u7d20 -&gt; \u7a7a\u8868</p> </li> <li>\u6811\u4e2d\u6ca1\u6709\u6570\u636e\u5143\u7d20 -&gt; \u7a7a\u6811</li> <li>\u56fe\u4e2d\u6ca1\u6709\u6570\u636e\u5143\u7d20 -&gt; \u4e0d\u884c\uff01</li> </ul> <p>\u7ebf\u6027\u8868\u4e2d\uff0c\u76f8\u90bb\u7684\u5143\u7d20\u4e4b\u95f4\u5177\u6709\u7ebf\u6027\u5173\u7cfb</p> <p>\u6811\u4e2d\uff0c\u76f8\u90bb\u7684\u4e24\u5c42\u4e4b\u95f4\u5177\u6709\u5c42\u6b21\u5173\u7cfb</p> <p>\u56fe\u4e2d\uff0c\u4efb\u610f\u4e24\u4e2a\u9876\u70b9\u4e4b\u95f4\u90fd\u53ef\u80fd\u6709\u5173\u7cfb\u3002\u9876\u70b9\u4e4b\u95f4\u7684\u903b\u8f91\u5173\u7cfb\u7528\u8fb9\u6765\u8868\u793a\u3002\u8fb9\u96c6\u53ef\u4ee5\u4e3a\u7a7a\u3002</p>"},{"location":"408/DataStructure/7-%E5%9B%BE1/#_1","title":"\u5b9a\u4e49","text":""},{"location":"408/DataStructure/7-%E5%9B%BE1/#_2","title":"\u65e0\u5411\u8fb9","text":"<p>\u82e5\u9876\u70b9 vi \u5230 vj \u4e4b\u95f4\u7684\u8fb9\u6ca1\u6709\u65b9\u5411\uff0c\u5219\u79f0\u8fd9\u6761\u8fb9\u4e3a\u65e0\u5411\u8fb9\uff08Edge\uff09<sup>2</sup>\uff0c\u7528 \u65e0\u5e8f\u5076\u5bf9\uff08vi, vj\uff09 \u6765\u8868\u793a\u3002</p> <p>\u5982\u679c\u56fe\u4e2d\u4efb\u610f\u4e24\u4e2a\u9876\u70b9\u4e4b\u95f4\u7684\u8fb9\u90fd\u662f\u65e0\u5411\u8fb9\uff0c\u5219\u79f0\u8be5\u56fe\u4e3a\u65e0\u5411\u56fe\uff08Undirected graphs\uff09<sup>3</sup>\u3002</p> <p></p> <p>\u4e0a\u56fe\u5c31\u662f\u4e00\u4e2a\u65e0\u5411\u56fe\uff0cK \u5230 T \u4e4b\u95f4\u7684\u8fb9\u53ef\u4ee5\u8868\u793a\u6210\u65e0\u5e8f\u5bf9\uff08K, T\uff09\u6216\u8005\uff08T, K\uff09\u3002 \u800c\u6574\u4e2a\u56fe\u53ef\u4ee5\u63cf\u8ff0\u6210\u4e3a: G1 = (V1\uff0c{E1})\uff0c \u5176\u4e2d\u9876\u70b9\u96c6\u5408 <code>V1={G, Z, K, T, C}</code>\uff1b \u8fb9\u96c6\u5408 <code>E1 = { (G, Z), (G, K), (Z, K), (Z, T), (K, T), (K, C), (T, C) }</code>\uff1b</p>"},{"location":"408/DataStructure/7-%E5%9B%BE1/#_3","title":"\u6709\u5411\u8fb9","text":"<p>\u82e5\u9876\u70b9 vi \u5230 vj \u4e4b\u95f4\u7684\u8fb9\u6709\u65b9\u5411\uff0c\u5219\u79f0\u8fd9\u6761\u8fb9\u4e3a\u5f27\uff08Arc\uff09<sup>4</sup>\u3002</p> <p>\u7528 \u65e0\u5e8f\u5076\u5bf9  \u6765\u8868\u793a\uff1a \\(v_i \\to v_j\\)\uff0c</p> <p>vi \u79f0\u4e3a\u5f27\u5c3e\uff08Tail\uff09\uff0c\u5373\u6307\u51fa\u53bb\u7684\u90a3\u4e2a\uff1b vj \u79f0\u4e3a\u5f27\u5934\uff08Head\uff09\uff0c\u5373\u88ab\u6307\u7684\u90a3\u4e2a\u3002</p> <p>\u5982\u679c\u56fe\u4e2d\u4efb\u610f\u4e24\u4e2a\u9876\u70b9\u4e4b\u95f4\u7684\u8fb9\u90fd\u662f\u6709\u5411\u8fb9\uff0c\u5219\u79f0\u8be5\u56fe\u4e3a\u6709\u5411\u56fe\uff08Directed graphs\uff09<sup>5</sup>\u3002</p> <p></p> <p>\u4e0a\u56fe\u5c31\u662f\u4e00\u4e2a\u6709\u5411\u56fe\uff0c\u8fde\u63a5 G \u5230 K \u7684\u8fb9\u5c31\u662f\u5f27\uff0cK \u662f\u5f27\u5934\uff0c\u88ab\u6307\u5411\u7684\u90a3\u4e2a\uff0cG \u662f\u5f27\u5c3e\uff0c\u6307\u51fa\u53bb\u7684\u90a3\u4e2a\u3002</p> <p> \u8868\u793a\u5f27\uff0c\u4e0d\u80fd\u5199\u4e3a \u3002</p> <p>\u800c\u6574\u4e2a\u56fe\u53ef\u4ee5\u63cf\u8ff0\u6210\u4e3a G2 = (V2\uff0c{E2})\uff0c</p> <p>\u5176\u4e2d\u9876\u70b9\u96c6\u5408 <code>V2 = {G, Z, K, T, C}</code>\uff1b</p> <p>\u5f27\u96c6\u5408 <code>E2 = { &lt;G, K&gt;, &lt;Z, G&gt;, &lt;Z, K&gt;, &lt;K, T&gt;, &lt;T, Z&gt;, &lt;T, C&gt;, &lt;C, K&gt; }</code>\uff1b</p> <p>Warning</p> <p>\u6ce8\u610f\uff1a\u65e0\u5411\u8fb9\u7528 () \u8868\u793a\uff0c \u6709\u5411\u8fb9\u7528 &lt; &gt; \u8868\u793a\u3002</p>"},{"location":"408/DataStructure/7-%E5%9B%BE1/#_4","title":"\u7b80\u5355\u56fe","text":"<p>\u5728\u56fe\u4e2d\u82e5\u4e0d\u5b58\u5728\u9876\u70b9\u5230\u5176\u81ea\u8eab\u7684\u8fb9\uff0c\u4e14\u540c\u4e00\u6761\u8fb9\u4e0d\u91cd\u590d\u51fa\u73b0\uff0c\u5219\u79f0\u8fd9\u6837\u7684\u56fe\u4e3a\u7b80\u5355\u56fe<sup>6</sup>\u3002</p> <p>\u5728\u65e0\u5411\u56fe\u4e2d\uff0c\u5982\u679c\u4efb\u610f\u4e24\u4e2a\u9876\u70b9\u4e4b\u95f4\u90fd\u5b58\u5728\u8fb9\uff0c\u5219\u79f0\u8be5\u56fe\u4e3a\u65e0\u5411\u5b8c\u5168\u56fe\uff08Undirected Completed graph\uff09<sup>7</sup></p> <p>\u5728\u6709\u5411\u56fe\u4e2d\uff0c\u5982\u679c\u4efb\u610f\u4e24\u4e2a\u9876\u70b9\u4e4b\u95f4\u90fd\u5b58\u5728\u65b9\u5411\u4e92\u4e3a\u76f8\u53cd\u7684\u4e24\u6761\u5f27\uff0c\u5219\u79f0\u8be5\u56fe\u4e3a\u6709\u5411\u5b8c\u5168\u56fe\uff08Directed graph\uff09\u3002<sup>8</sup></p> <p></p> <p>\u542b\u6709 n \u4e2a\u9876\u70b9\u7684\u65e0\u5411\u5b8c\u5168\u56fe\u6709 \\(\\frac {n(n-1)} 2\\) \u6761\u8fb9\uff0c\u5982\u4e0a\u56fe\u7684\u65e0\u5411\u5b8c\u5168\u56fe\u67094\u4e2a\u9876\u70b9\uff0c\u8fb9\u6570\u4e3a \\(4 \\times 3 \\div 2 = 6\\)</p> <p>\u542b\u6709 n \u4e2a\u9876\u70b9\u7684\u6709\u5411\u5b8c\u5168\u56fe\u6709 \\(n \\times (n-1)\\) \u6761\u8fb9\uff0c\u5982\u4e0a\u56fe\u7684\u6709\u5411\u5b8c\u5168\u56fe\u67094\u4e2a\u9876\u70b9\uff0c\u8fb9\u6570\u4e3a \\(4 \\times 3 = 12\\)</p> <p>Tip</p> <p>\u63a8\u5e7f\u4e00\u4e0b\uff1a</p> <p>\u5728\u975e\u5b8c\u5168\u7684\u56fe\u4e2d\uff0c\u8bbe\u56fe\u5177\u6709 n \u4e2a\u9876\u70b9\u548c e \u6761\u8fb9\uff0c</p> <p>\u82e5\u8be5\u56fe\u4e3a\u65e0\u5411\u56fe\u5219 \\(0 \\leq e \\leq \\frac {n(n-1)} 2\\)</p> <p>\u82e5\u8be5\u56fe\u4e3a\u6709\u5411\u56fe\u5219 \\(0 \\leq e \\leq n(n-1)\\)</p> <p>\u6709\u5f88\u5c11\u6761\u8fb9\u6216\u5f27\u79f0\u4e3a \u7a00\u758f\u56fe\uff08Sparse greph\uff09\uff0c\u53cd\u4e4b\u79f0\u4e3a \u7a20\u5bc6\u56fe\uff08Dense greph\uff09\u3002\u7a00\u758f\u548c\u7a20\u5bc6\u7684\u76f8\u5bf9\u7684\u6982\u5ff5\uff0c\u6ca1\u6709\u4e25\u683c\u5b9a\u4e49\u3002</p>"},{"location":"408/DataStructure/7-%E5%9B%BE1/#_5","title":"\u6743\u3001\u7f51","text":"<p>\u56fe\u7684\u8fb9\u6216\u5f27\u6709\u76f8\u5173\u7684\u6570\u503c\uff0c\u8fd9\u4e2a\u6570\u53eb\u505a\u6743\uff08Weight\uff09<sup>9</sup>\uff0c\u53ef\u4ee5\u8868\u793a\u4e00\u4e2a\u9876\u70b9\u5230\u53e6\u4e00\u4e2a\u9876\u70b9\u7684\u8ddd\u79bb\u6216\u8017\u8d39\u7b49\u7b49\u3002 \u8fd9\u79cd\u5e26\u5168\u7684\u56fe\u901a\u5e38\u79f0\u4e3a\u7f51\uff08Network\uff09<sup>10</sup>\u3002</p> <p></p>"},{"location":"408/DataStructure/7-%E5%9B%BE1/#_6","title":"\u5b50\u56fe","text":"<p>\u5047\u8bbe\u4e24\u4e2a\u56fe \\(G = (V, {E})\\) \u548c \\(G' = (V', {E'})\\)\uff0c\u5982\u679c \\(V' \\subseteq V\\) \u4e14 \\(E' \\subseteq E\\)\uff0c\u5219\u79f0 G' \u4e3a G \u7684\u5b50\u56fe\uff08Subgraph\uff09<sup>11</sup>\u3002</p> <p></p>"},{"location":"408/DataStructure/7-%E5%9B%BE1/#_7","title":"\u56fe\u7684\u9876\u70b9\u548c\u8fb9\u95f4\u7684\u5173\u7cfb","text":""},{"location":"408/DataStructure/7-%E5%9B%BE1/#_8","title":"\u5ea6","text":""},{"location":"408/DataStructure/7-%E5%9B%BE1/#_9","title":"\u65e0\u5411\u56fe\u7684\u5ea6","text":"<p>\u5bf9\u4e8e\u65e0\u5411\u56fe G = (V, {E})</p> <ul> <li>\u5982\u679c\u8fb9 \\((v, v') \\in E\\)\uff0c\u5219\u79f0\u9876\u70b9 \\(v\\) \u548c \\(v'\\) \u4e92\u4e3a \u90bb\u63a5\u70b9\uff08Adjacent\uff09\uff0c\u5373 \\(v\\) \u548c \\(v'\\) \u76f8\u90bb\u63a5\u3002</li> <li>\u8fb9 \\((v, v')\\) \u4f9d\u9644\uff08Incident\uff09 \u4e8e\u9876\u70b9 \\(v\\) \u548c \\(v'\\)\uff0c\u5373\u8fb9 \\((v, v')\\) \u4e0e\u9876\u70b9 \\(v\\) \u548c \\(v'\\) \u76f8\u5173\u8054\u3002</li> <li>\u9876\u70b9 \\(v\\) \u7684\u5ea6\uff08Degree\uff09<sup>12</sup> \u662f\u548c \\(v\\) \u76f8\u5173\u7684\u8fb9\u7684\u6570\u91cf\uff0c\u8bb0\u4e3a \\(TD(v)\\)\u3002</li> </ul> <p>eg: </p> <p>\u4f8b\u5982\u8fd9\u4e2a\u56fe\uff0c\u9876\u70b9 \\(G\\) \u548c \\(K\\) \u4e92\u4e3a\u90bb\u63a5\u70b9\uff0c\u8fb9 \\((G, K)\\) \u4f9d\u9644\u4e8e \\(G\\) \u548c \\(K\\) \u4e0a\uff0c\\(K\\) \u9876\u70b9\u7684\u5ea6\u4e3a 3\u3002</p> <p>\u56fe\u7684\u8fb9\u6570\u4e3a 5\uff0c\u5404\u4e2a\u9876\u70b9\u7684\u5ea6\u7684\u548c = 3+3+2+2 = 10\uff0c\u5176\u4e2d\u91cd\u590d\u4e24\u6b21\u8ba1\u6570\uff0c\u6240\u4ee5 \u8fb9\u6570\u5e94\u4e3a\u4e2a\u9876\u70b9\u5ea6\u6570\u4e4b\u548c\u7684\u4e00\u534a\u3002</p> <p>\u8bb0\u4f5c </p> \\[e= \\frac 1 2 \\sum_{i=1}^n TD(v_i)\\]"},{"location":"408/DataStructure/7-%E5%9B%BE1/#_10","title":"\u6709\u5411\u56fe\u7684\u5ea6","text":"<p>\u5bf9\u4e8e\u6709\u5411\u56fe G = (V, {E})</p> <ul> <li>\u5982\u679c\u5f27 \\(\\langle v, v' \\rangle \\in E\\)\uff0c\u5219\u79f0\uff1a\u9876\u70b9 \\(v\\) \u90bb\u63a5\u5230 \\(v'\\)\uff0c\u9876\u70b9 \\(v'\\) \u90bb\u63a5\u81ea \\(v\\)\u3002\u9876\u70b9 \\(v\\) \u548c \\(v'\\) \u4e92\u4e3a \u90bb\u63a5\u70b9\uff08Adjacent\uff09\u3002</li> <li>\u5f27 \\(\\langle v, v' \\rangle\\) \u4f9d\u9644\uff08incident\uff09 \u4e8e\u9876\u70b9 \\(v\\) \u548c \\(v'\\)\uff0c\u5373\u5f27 \\(\\langle v, v' \\rangle\\) \u4e0e \u9876\u70b9 \\(v\\) \u548c \\(v'\\) \u76f8\u5173\u8054\u3002</li> <li>\u4ee5\u9876\u70b9 \\(v\\) \u4e3a\u5934\u7684\u5f27\u7684\u6570\u91cf\u79f0\u4e3a \\(v\\) \u7684\u5165\u5ea6\uff08InDegree\uff09<sup>13</sup>\uff0c\u8bb0\u4e3a \\(ID(v)\\);</li> <li>\u4ee5\u9876\u70b9 \\(v\\) \u4e3a\u5c3e\u7684\u5f27\u7684\u6570\u91cf\u79f0\u4e3a \\(v\\) \u7684\u51fa\u5ea6\uff08OutDegree\uff09<sup>14</sup>\uff0c\u8bb0\u4e3a \\(OD(v)\\);</li> <li>\u9876\u70b9 \\(v\\) \u7684 \u5ea6\uff08Degree\uff09 \u4e3a \\(TD(v) = ID(v) + OD(v)\\)\u3002</li> </ul> <p>\u4f8b\u5982  \u8fd9\u4e2a\u56fe\uff0c\u9876\u70b9 \\(G\\) \u548c \\(K\\) \u4e92\u4e3a\u90bb\u63a5\u70b9\uff0c\u9876\u70b9 \\(G\\) \u90bb\u63a5\u5230 \\(K\\)\uff0c\\(K\\) \u90bb\u63a5\u81ea \\(G\\)\u3002</p> <p>\u8fb9 \\((G, K)\\) \u4f9d\u9644\u4e8e \\(G\\) \u548c \\(K\\) \u4e0a\uff0c\u9876\u70b9 \\(K\\) \u7684\u5165\u5ea6\u4e3a 2\uff0c\\(ID(K) = 2\\)\uff0c\u51fa\u5ea6\u4e3a 1\uff0c\\(OD(K) = 1\\)\uff0c\u5ea6\u4e3a \\(TD(K) = ID(K) + OD(K) = 3\\)</p> <p>\u56fe\u7684\u5f27\u6570\u4e3a 5\uff0c\u5404\u4e2a\u9876\u70b9\u7684\u5165\u5ea6\u548c = 1+2+2+0 = 5\uff0c\u51fa\u5ea6\u548c = 1+1+0+3 = 5\uff1b</p> <p>\u7531\u6b64\u53ef\u5f97\u6709\u5411\u56fe\u7684\u5f27\u6570: </p> \\[e= \\sum_{i=1}^n ID(V_i) = \\sum_{i=1}^n OD(v_i)\\]"},{"location":"408/DataStructure/7-%E5%9B%BE1/#_11","title":"\u8def\u5f84","text":"<p>\u65e0\u5411\u56fe \\(G = (V, {E})\\) \u4e2d\u4ece\u9876\u70b9 \\(v\\) \u5230\u9876\u70b9 \\(v'\\) \u7684\u8def\u5f84\uff08Path\uff09<sup>15</sup>\u662f\u4e00\u4e2a\u9876\u70b9\u5e8f\u5217 \\((v = v_{i,0}, v_{i,1}, ..., v_{i,m} = v')\\)\uff0c\u5176\u4e2d \\((v_{i,j-1}, v_{i,j}) \\in E, 1\\leq j \\leq m\\)\u3002</p> <p></p> G \u5230 T \u6709\u56db\u79cd\u8def\u5f84 <p>\u5982\u679c G \u662f\u6709\u5411\u56fe\uff0c\u5219\u8def\u5f84\u4e5f\u662f\u6709\u5411\u7684\uff0c\u9876\u70b9\u5e8f\u5217\u5e94\u6ee1\u8db3 \\(\\langle v_{i,j-1}, v_{i,j}\\rangle \\in E, 1 \\leq j \\leq m\\)\u3002</p> <p></p> G \u5230 T \u53ea\u6709\u4e00\u79cd\u8def\u5f84\uff0c\u5176\u4ed6\u8def\u5f84\u90fd\u4e0d\u884c\u3002\u56e0\u4e3a G \u5230 Z \u4e0d\u5b58\u5728\u8def\u5f84\u3002 <p>\u8def\u5f84\u7684\u957f\u5ea6<sup>16</sup>\u662f\u8def\u5f84\u4e0a\u7684\u8fb9\u6216\u5f27\u7684\u6570\u91cf\u3002\u4f8b\u5982\u4e0a\u56fe\u7684\u6709\u5411\u56fe\uff0cG\u5230T\u7684\u8def\u5f84\u957f\u5ea6\u4e3a2\u3002</p> <p>\u7b2c\u4e00\u4e2a\u9876\u70b9\u5230\u6700\u540e\u4e00\u4e2a\u9876\u70b9\u76f8\u540c\u7684\u8def\u5f84\u79f0\u4e3a\u56de\u8def\uff08circuit\uff09\u6216\u73af\uff08Cycle\uff09<sup>17</sup>\u3002</p> <p>\u5e8f\u5217\u79cd\u9876\u70b9\u4e0d\u91cd\u590d\u51fa\u73b0\u7684\u8def\u5f84\u4e3a\u7b80\u5355\u8def\u5f84<sup>18</sup>\u3002</p> <p>\u9664\u4e86\u7b2c\u4e00\u4e2a\u9876\u70b9\u548c\u6700\u540e\u4e00\u4e2a\u9876\u70b9\u4e4b\u5916\uff0c\u5176\u4f59\u9876\u70b9\u4e0d\u91cd\u590d\u51fa\u73b0\u7684\u56de\u8def\uff0c\u79f0\u4e3a \u7b80\u5355\u56de\u8def\uff08Simple circuit\uff09 \u6216 \u7b80\u5355\u73af\uff08Simple Cycle\uff09\u3002</p> <p></p> <p>\u5de6\u8fb9\u56fe\u8def\u5f84\u4e3a {B, C, D, A, B}\uff0c\u7b2c\u4e00\u4e2a\u9876\u70b9\u548c\u6700\u540e\u4e00\u4e2a\u9876\u70b9\u90fd\u662f B\uff0c\u4e14 C\u3001D\u3001A\u6ca1\u6709\u91cd\u590d\u51fa\u73b0\uff0c\u6240\u4ee5\u662f\u4e00\u4e2a\u7b80\u5355\u73af\u3002</p> <p>\u53f3\u8fb9\u56fe\u8def\u5f84\u4e3a {B, C, D, A, C, B}\uff0c\u7531\u4e8e C \u91cd\u590d\uff0c\u6240\u4ee5\u4e0d\u662f\u7b80\u5355\u73af\u3002</p>"},{"location":"408/DataStructure/7-%E5%9B%BE1/#_12","title":"\u8fde\u901a\u56fe","text":""},{"location":"408/DataStructure/7-%E5%9B%BE1/#_13","title":"\u65e0\u5411\u8fde\u901a\u56fe","text":"<p>\u65e0\u5411\u56fe\u4e2d\uff1a</p> <p>\u4efb\u610f\u4e24\u4e2a\u9876\u70b9\u4e4b\u95f4\u90fd\u6709 \u76f4\u63a5\u6216\u95f4\u63a5 \u7684\u8def\u5f84\uff0c\u5373\u90fd\u80fd\u5230\u8fbe\uff0c\u5219\u79f0\u8fd9\u4e2a\u56fe\u4e3a\u8fde\u901a\u56fe\uff08Connected Graph\uff09<sup>19</sup>\u3002</p> <p>\u4f8b\u5982 \u56fe1 \u5c31\u662f\u975e\u8fde\u901a\u56fe\uff0c\u5e94\u4e3a\u9876\u70b9 5 \u548c 6 \u6ca1\u6709\u8def\u5f84\u5230\u9876\u70b9 1\u30012\u30013\u30014\uff0c\u800c\u56fe2\u30013\u30014 \u5c31\u662f\u8fde\u901a\u56fe\u3002</p> <p>\u65e0\u5411\u56fe\u4e2d\u7684 \u6781\u5927\u8fde\u901a\u5b50\u56fe\uff08Great Connected Subgraph\uff09 \u79f0\u4e3a\u8fde\u901a\u5206\u91cf\uff08Connected Component\uff09<sup>20</sup>\uff0c\u5b83\u5f3a\u8c03\uff1a</p> <ul> <li>\u5fc5\u987b\u662f\u5b50\u56fe\uff08\u5b50\u56fe\uff09</li> <li>\u5b50\u56fe\u662f\u8fde\u901a\u7684\uff08\u8fde\u901a\uff09</li> <li>\u8fde\u901a\u5b50\u56fe\u542b\u6709\u6781\u5927\u9876\u70b9\u6570\uff08\u6709\u6781\u5927\u9876\u70b9\u6570\uff09</li> <li>\u5177\u6709\u6781\u5927\u9876\u70b9\u6570\u7684\u8fde\u901a\u5b50\u56fe\u5305\u542b\u4f9d\u9644\u4e8e\u8fd9\u4e9b\u9876\u70b9\u7684\u6240\u6709\u8fb9\u3002\uff08\u542b\u6709\u8fb9\uff09</li> </ul> <p>\u4f8b\u5982 \u56fe1\u5c31\u662f\u4e00\u4e2a\u65e0\u5411\u975e\u8fde\u901a\u56fe\uff0c\u4f46\u662f\u5b83\u6709\u4e24\u4e2a\u8fde\u901a\u5206\u91cf \u56fe2 \u548c \u56fe3\uff0c\u800c \u56fe4 \u867d\u7136\u662f \u56fe1 \u7684\u5b50\u56fe\uff0c\u4f46\u662f\u4e0d\u6ee1\u8db3\u8fde\u901a\u5b50\u56fe\u7684\u6781\u5927\u9876\u70b9\u6570\uff08\u56fe2 \u6ee1\u8db3\uff09\uff0c\u6240\u4ee5\u4e0d\u662f\u8fde\u901a\u5206\u91cf\u3002</p>"},{"location":"408/DataStructure/7-%E5%9B%BE1/#_14","title":"\u6709\u5411\u8fde\u901a\u56fe","text":"<p>\u6709\u5411\u56fe\u4e2d\uff1a</p> <p>\u4efb\u610f\u4e24\u4e2a\u9876\u70b9\u90fd\u6709\u76f4\u63a5\u8def\u5f84\u6216\u95f4\u63a5\u8def\u5f84\uff0c\u5219\u79f0\u8fd9\u4e2a\u56fe\u4e3a\u5f3a\u8fde\u901a\u56fe\uff08Strong Connected Graph\uff09<sup>21</sup>\u3002</p> <p>\u6709\u5411\u56fe\u4e2d\u7684 \u6781\u5927\u5f3a\u8fde\u901a\u5b50\u56fe\uff08Great Strong Connected Subgraph\uff09 \u79f0\u4f5c\u6709\u5411\u56fe\u7684\u5f3a\u8fde\u901a\u5206\u91cf\uff08Strong Connected Component\uff09<sup>22</sup>\u3002</p> <p>\u4f8b\u5982 \u56fe1 \u5c31\u4e0d\u662f\u4e00\u4e2a\u5f3a\u8fde\u901a\u56fe\uff0c\u56e0\u4e3a 1 \u5230 4 \u6709\u8def\u5f84\uff0c\u800c 4 \u5230 1 \u6ca1\u8def\u5f84\u3002\u800c \u56fe2 \u5c31\u662f \u56fe1 \u7684\u6781\u5927\u5f3a\u8fde\u901a\u5b50\u56fe\uff0c\u5373\u5b83\u7684\u5f3a\u8fde\u901a\u5206\u91cf\u3002</p>"},{"location":"408/DataStructure/7-%E5%9B%BE1/#_15","title":"\u751f\u6210\u6811\u3001\u751f\u6210\u68ee\u6797","text":""},{"location":"408/DataStructure/7-%E5%9B%BE1/#_16","title":"\u751f\u6210\u6811","text":"<p>Note</p> <p>\u5bf9\u8fde\u901a\u56fe\u8fdb\u884c\u904d\u5386\uff0c\u8fc7\u7a0b\u4e2d\u6240\u7ecf\u8fc7\u7684\u8fb9\u548c\u9876\u70b9\u7684\u7ec4\u5408\u53ef\u770b\u505a\u662f\u4e00\u68f5\u666e\u901a\u6811\uff0c\u901a\u5e38\u79f0\u4e3a\u751f\u6210\u6811\uff08Spanning Tree\uff09<sup>23</sup>\u3002 </p> <p></p> <p>\u5de6\u8fb9\u662f\u4e00\u5f20\u8fde\u901a\u56fe\uff0c\u53f3\u8fb9\u5219\u662f\u5176\u5bf9\u5e94\u7684\u4e24\u79cd\u751f\u6210\u6811\u3002 \u8fde\u901a\u56fe\u4e2d\uff0c\u4efb\u610f\u4e24\u9876\u70b9\u4e4b\u95f4\u53ef\u80fd\u8fd8\u6709\u591a\u6761\u8def\u5f84\uff0c\u904d\u5386\u8fde\u901a\u56fe\u7684\u65b9\u5f0f\u6709\u591a\u79cd\uff0c\u5f80\u5f80\u4e00\u5f20\u8fde\u901a\u56fe\u53ef\u80fd\u6709\u591a\u79cd\u4e0d\u540c\u7684\u751f\u6210\u6811\u4e0e\u4e4b\u5bf9\u5e94\u3002</p> <p>Note</p> <p>\u8fde\u901a\u56fe\u4e2d\u7684\u751f\u6210\u6811\u5fc5\u987b\u6ee1\u8db3\u4ee5\u4e0b2\u4e2a\u6761\u4ef6\uff1a</p> <ol> <li>\u5305\u542b\u8fde\u901a\u56fe\u4e2d\u6240\u6709\u7684\u9876\u70b9\uff1b</li> <li>\u4efb\u610f\u4e24\u9876\u70b9\u4e4b\u95f4\u6709\u4e14\u4ec5\u6709\u4e00\u6761\u901a\u8def\uff1b</li> </ol> <p>\u56e0\u6b64\uff0c\u8fde\u901a\u56fe\u7684\u751f\u6210\u6811\u5177\u6709\u8fd9\u6837\u7684\u7279\u5f81\uff1a\u751f\u6210\u6811\u4e2d <code>\u8fb9\u7684\u6570\u91cf = \u9876\u70b9\u6570 - 1</code>\u3002</p> \\[ \\begin{cases} \u975e\u8fde\u901a\u56fe, &amp;  \u9876\u70b9\u4e2a\u6570 = n;\u8fb9\u6570 \\lt n-1 \\\\\\\\ \u751f\u6210\u6811,   &amp;  \u9876\u70b9\u4e2a\u6570 = n;\u8fb9\u6570 = n-1 \\\\\\\\ \u4e00\u5b9a\u6709\u73af, &amp;  \u9876\u70b9\u4e2a\u6570 = n;\u8fb9\u6570 \\gt n-1 \\\\\\\\ \\end{cases} \\]"},{"location":"408/DataStructure/7-%E5%9B%BE1/#_17","title":"\u751f\u6210\u68ee\u6797","text":"<p>Note</p> <p>\u751f\u6210\u6811\u7684\u5bf9\u4e8e\u8fde\u901a\u56fe\u6765\u8bf4\u7684\uff0c\u800c\u751f\u6210\u68ee\u6797\u5219\u662f\u5bf9\u5e94\u975e\u8fde\u901a\u56fe\u6765\u8bf4\u7684\u3002</p> <p>\u975e\u8fde\u901a\u56fe\u53ef\u4ee5\u5206\u89e3\u4e3a\u591a\u4e2a\u8fde\u901a\u5206\u91cf\uff0c\u800c\u6bcf\u4e2a\u8fde\u901a\u5206\u91cf\u53c8\u5404\u81ea\u5bf9\u5e94\u591a\u68f5\u751f\u6210\u6811\uff0c\u56e0\u6b64\u4e0e\u6574\u4e2a\u975e\u8fde\u901a\u56fe\u76f8\u5bf9\u5e94\u7684\uff0c\u662f\u7531\u591a\u68f5\u751f\u6210\u6811\u7ec4\u6210\u7684\u751f\u6210\u68ee\u6797\uff08Spanning Forest\uff09<sup>24</sup>\u3002</p> <p></p> <p>\u4e0a\u56fe\u5de6\u8fb9\u662f\u4e00\u5f20\u975e\u8fde\u901a\u56fe\uff0c\u53ef\u4ee5\u5206\u89e3\u4e3a\u53f3\u8fb9\u4e09\u4e2a\u8fde\u901a\u5206\u91cf\uff0c\u5176\u4e2d\u5404\u4e2a\u8fde\u901a\u5206\u91cf\u5bf9\u5e94\u7684\u751f\u6210\u6811\u5982\u4e0b\u6240\u793a\uff1a</p> <p> \u4e0a\u56fe\u53ea\u662f\u5217\u51fa\u5404\u4e2a\u8fde\u901a\u5206\u91cf\u7684\u5176\u4e2d\u4e00\u79cd\u751f\u6210\u6811\u3002</p>"},{"location":"408/DataStructure/7-%E5%9B%BE1/#_18","title":"\u603b\u7ed3","text":"<ul> <li>\u56fe\u7531\u9876\u70b9\u548c\u8fb9\u7ec4\u6210\uff0c\u65e0\u5411\u56fe\u7531 \u9876\u70b9 \u548c \u8fb9 \u6784\u6210\uff1b\u6709\u5411\u56fe\u7531 \u9876\u70b9 \u548c \u5f27 \u6784\u6210\uff0c\u5f27\u5206 \u5f27\u5934\u5f27\u5c3e\u3002</li> <li>\u4efb\u4e24\u4e2a\u9876\u70b9\u4e4b\u95f4\u90fd\u5b58\u5728\u8fb9\u53eb \u5b8c\u5168\u56fe\uff0c\u5206 \u6709\u5411\u5b8c\u5168\u56fe \u548c \u65e0\u5411\u5b8c\u5168\u56fe\u3002\u540c\u4e00\u6761\u8fb9\u4e0d\u91cd\u590d\u51fa\u73b0\u7684\u56fe\u53eb \u7b80\u5355\u56fe\u3002</li> <li>\u9876\u70b9\u4e4b\u95f4\u6709 \u90bb\u63a5\u70b9\u3001\u4f9d\u9644 \u7684\u6982\u5ff5\uff0c\u65e0\u5411\u56fe\u7684\u9876\u70b9\u7684\u8fb9\u6570\u53eb \u5ea6\uff0c\u6709\u5411\u56fe\u7684\u9876\u70b9\u5206 \u51fa\u5ea6 \u548c \u5165\u5ea6 \uff0c\u5ea6 = \u51fa+\u5165\u3002</li> <li>\u4ece\u56fe\u7684\u9876\u70b9\u96c6\u548c\u8fb9\u96c6\u4e2d\u53d6\u4e00\u5c0f\u90e8\u5206\u7ec4\u6210\u65b0\u7684\u56fe\uff0c\u79f0\u4e3a\u539f\u56fe\u7684 \u5b50\u56fe\u3002</li> <li>\u5e26\u6570\u503c\u7684\u8fb9\u53eb \u6743\uff0c\u9876\u70b9\u548c\u6743\u6784\u6210 \u7f51</li> <li>\u56fe\u4e2d\u9876\u70b9\u95f4\u5b58\u5728 \u8def\u5f84\uff0c\u4e24\u9876\u70b9\u5b58\u5728\u8def\u5f84\u5219\u8bf4\u660e\u662f \u8fde\u901a \u7684\uff0c\u5982\u679c\u8def\u5f84\u6700\u7ec8\u56de\u5230\u8d77\u59cb\u70b9\u5219\u79f0\u4e3a \u73af\uff0c\u5f53\u4e2d\u9876\u70b9\u6ca1\u6709\u91cd\u590d\u8fc7\u79f0\u4e3a \u7b80\u5355\u8def\u5f84\u3002\u82e5\u4efb\u610f\u4e24\u9876\u70b9\u90fd\u662f\u8fde\u901a\u7684\uff0c\u5219\u56fe\u662f \u8fde\u901a\u56fe\uff0c\u6709\u5411\u5219\u662f \u5f3a\u8fde\u901a\u56fe\u3002\u56fe\u4e2d\u6709\u5b50\u56fe\uff0c\u82e5\u5b50\u56fe\u6781\u5927\u8fde\u901a\u5219\u79f0 \u8fde\u901a\u5206\u91cf\uff0c\u6709\u5411\u5219\u79f0 \u5f3a\u8fde\u901a\u5206\u91cf\u3002</li> <li>\u65e0\u5411\u56fe\u4e2d\u8fde\u901a\u4e14<code>\u8fb9\u6570 = \u9876\u70b9\u6570 - 1</code> \u7684\u6811\u53eb \u751f\u6210\u6811\uff0c\u65e0\u5411\u975e\u8fde\u901a\u56fe\u7684\u8fde\u901a\u5206\u91cf\u751f\u6210\u7684\u751f\u6210\u6811\u4e00\u8d77\u6784\u6210 \u751f\u6210\u68ee\u6797\u3002</li> <li>\u6709\u5411\u56fe\u4e2d\u4e00\u4e2a\u9876\u70b9\u5165\u5ea6\u4e3a 0\uff0c\u5176\u4ed6\u9876\u70b9\u7684\u5165\u5ea6\u4e3a1\u7684\u53eb \u6709\u5411\u6811\u3002\u4e00\u4e2a\u6709\u5411\u56fe\u7531\u82e5\u5e72\u68f5\u6709\u5411\u6811\u6784\u6210\u751f\u6210\u68ee\u6797\u3002</li> </ul> <ol> <li> <p>\u9876\u70b9 -&gt; \u56fe\u7684\u6570\u636e\u5143\u7d20\u00a0\u21a9</p> </li> <li> <p>\u65e0\u5411\u8fb9 -&gt; \u8fb9\u6ca1\u6709\u65b9\u5411\u00a0\u21a9</p> </li> <li> <p>\u65e0\u5411\u56fe -&gt; \u8fb9\u6ca1\u6709\u65b9\u5411\u7684\u56fe\uff0cn\u4e2a\u9876\u70b9\u7684\u65e0\u5411\u56fe\u6700\u591a\u6709 \\(\\frac {n(n-1)} 2\\) \u6761\u8fb9\u00a0\u21a9</p> </li> <li> <p>\u5f27 -&gt; \u8fb9\u6709\u65b9\u5411\uff1b\u5f27\u6709\u5f27\u5934\u5f27\u5c3e\u4e4b\u5206\u00a0\u21a9</p> </li> <li> <p>\u6709\u5411\u56fe -&gt; \u8fb9\u6709\u65b9\u5411\u7684\u56fe\uff0cn\u4e2a\u9876\u70b9\u7684\u6709\u5411\u56fe\u6700\u591a\u6709 \\(n(n-1)\\) \u6761\u8fb9\u00a0\u21a9</p> </li> <li> <p>\u7b80\u5355\u56fe -&gt; \u540c\u4e00\u6761\u8fb9\u4e0d\u91cd\u590d\u51fa\u73b0\u7684\u56fe\u00a0\u21a9</p> </li> <li> <p>\u65e0\u5411\u5b8c\u5168\u56fe -&gt; \u4efb\u610f\u4e24\u4e2a\u9876\u70b9\u4e4b\u95f4\u90fd\u6709\u8fb9\uff0c\u5171\u6709 \\(\\frac {n(n-1)} 2\\) \u6761\u8fb9\u00a0\u21a9</p> </li> <li> <p>\u6709\u5411\u5b8c\u5168\u56fe -&gt; \u4efb\u610f\u4e24\u4e2a\u9876\u70b9\u4e4b\u95f4\u90fd\u6709\u5f27\uff0c\u5171\u6709 \\(n(n-1)\\) \u6761\u5f27\u00a0\u21a9</p> </li> <li> <p>\u6743 -&gt; \u6709\u6570\u503c\u7684\u8fb9\u00a0\u21a9</p> </li> <li> <p>\u7f51 -&gt; \u9876\u70b9+\u6743\u00a0\u21a9</p> </li> <li> <p>\u5b50\u56fe -&gt; \u4ece\u539f\u56fe\u4e2d\u62c6\u51fa\u6765\u7684\u56fe\u00a0\u21a9</p> </li> <li> <p>\u5ea6 -&gt;\u9876\u70b9\u7684\u8fb9\u6570\u00a0\u21a9</p> </li> <li> <p>\u5165\u5ea6 -&gt; \u90bb\u63a5\u5230\u9876\u70b9\u7684\u8fb9\u7684\u6570\u91cf\u00a0\u21a9</p> </li> <li> <p>\u51fa\u5ea6 -&gt; \u9876\u70b9\u90bb\u63a5\u51fa\u53bb\u7684\u8fb9\u7684\u6570\u91cf\u00a0\u21a9</p> </li> <li> <p>\u8def\u5f84 -&gt; \u4e24\u4e2a\u9876\u70b9\u4e4b\u95f4\u7684\u76f4\u63a5\u7ebf\u8def\u6216\u95f4\u63a5\u7ebf\u8def\u7684\u8fb9\u96c6\u5e8f\u5217\uff0c\u6ce8\u610f\u662f\u5e8f\u5217\uff0c\u6240\u4ee5\u53ef\u80fd\u4e0d\u6b62\u4e00\u6761\u00a0\u21a9</p> </li> <li> <p>\u8def\u5f84\u957f\u5ea6 -&gt; \u4e24\u4e2a\u9876\u70b9\u4e4b\u95f4\u7684\u7ebf\u8def\u7684\u8fb9\u6570\u00a0\u21a9</p> </li> <li> <p>\u56de\u8def\u6216\u73af -&gt; \u4ece\u8d77\u59cb\u70b9\u79bb\u5f00\u6700\u540e\u5230\u8fbe\u8d77\u59cb\u70b9\u7684\u8def\u5f84\u00a0\u21a9</p> </li> <li> <p>\u7b80\u5355\u8def\u5f84 -&gt; \u56de\u8def\u4e0a\u6ca1\u6709\u91cd\u590d\u7684\u70b9\u7684\u8def\u5f84\u00a0\u21a9</p> </li> <li> <p>\u8fde\u901a\u56fe -&gt; \u4efb\u610f\u4e24\u9876\u70b9\u90fd\u662f\u8fde\u901a\u7684\u65e0\u5411\u56fe\u00a0\u21a9</p> </li> <li> <p>\u8fde\u901a\u5206\u91cf -&gt; \u65e0\u5411\u56fe\u7684\u6781\u5927\u8fde\u901a\u7684\u5b50\u56fe\u00a0\u21a9</p> </li> <li> <p>\u5f3a\u8fde\u901a\u56fe -&gt; \u4efb\u610f\u4e24\u9876\u70b9\u90fd\u662f\u8fde\u901a\u7684\u6709\u5411\u56fe\u00a0\u21a9</p> </li> <li> <p>\u5f3a\u8fde\u901a\u5206\u91cf -&gt; \u6709\u5411\u56fe\u7684\u6781\u5927\u8fde\u901a\u7684\u5b50\u56fe\u00a0\u21a9</p> </li> <li> <p>\u751f\u6210\u6811 -&gt; \u65e0\u5411\u8fde\u901a\u56fe\u751f\u6210\u7684 \u8fb9\u7684\u6570\u91cf = \u9876\u70b9\u6570 -1 \u7684\u6811\u00a0\u21a9</p> </li> <li> <p>\u751f\u6210\u68ee\u6797 -&gt; \u65e0\u5411\u975e\u8fde\u901a\u56fe\u7684\u8fde\u901a\u5206\u91cf\u751f\u6210\u7684\u751f\u6210\u6811\u4e00\u8d77\u6784\u6210\u751f\u6210\u68ee\u6797\u00a0\u21a9</p> </li> </ol>"},{"location":"408/DataStructure/8-%E5%9B%BE2/","title":"8-\u56fe\u7684\u5b58\u50a8\u7ed3\u6784","text":""},{"location":"408/DataStructure/8-%E5%9B%BE2/#8-2","title":"8-\u56fe2","text":""},{"location":"408/DataStructure/8-%E5%9B%BE2/#adt","title":"\u56fe\u7684ADT","text":"<pre><code>ADT \u56fe Graph\nData\n    \u9876\u70b9\u7684\u6709\u7a77\u975e\u7a7a\u96c6\u5408\u548c\u8fb9\u7684\u96c6\u5408\nOperation\n    CreateGraph(*G, V, E): \u6309\u7167\u9876\u70b9\u96c6V\u548c\u8fb9\u96c6E\u7684\u5b9a\u4e49\u6784\u9020\u56feG\n    DestoryGraph(G*): \u56feG\u5b58\u5728\u5219\u9500\u6bc1\n    LocateVex(G*, v): \u82e5\u56feG\u4e2d\u5b58\u5728\u9876\u70b9v\uff0c\u5219\u8fd4\u56dev\u5728\u56fe\u4e2d\u7684\u9876\u70b9\u6570\u7ec4\u7684\u4e0b\u6807\n    GetVex(G*, v): \u8fd4\u56de\u56fe\u4e2d\u9876\u70b9v\u7684\u503c\n    PutVex(G*, v, value): \u5c06\u56feG\u4e2d\u9876\u70b9v\u8d4b\u503cvalue\n    FirstNeighbor(G*, v): \u8fd4\u56de\u9876\u70b9v\u7684\u7b2c\u4e00\u4e2a\u90bb\u63a5\u70b9\uff0c\u82e5\u65e0\u5219\u8fd4\u56de\u7a7a\n    NextNeighbor(G*, v1, v2): \u8fd4\u56de\u9876\u70b9v1\u76f8\u5bf9\u4e8e\u9876\u70b9v2\u7684\u4e0b\u4e00\u4e2a\u90bb\u63a5\u70b9\uff0c\u82e5v2\u662fv1\u7684\u6700\u540e\u4e00\u4e2a\u90bb\u63a5\u70b9\u5219\u8fd4\u56de\u7a7a\n    InsertVex(G*, v): \u5728\u56feG\u4e2d\u589e\u52a0\u9876\u70b9v\n    DeleteVex(G*, v): \u5220\u9664\u56feG\u4e2d\u9876\u70b9v\u53ca\u5176\u76f8\u5173\u7684\u8fb9/\u5f27\n    InsertArc(G*, v1, v2): \u5728\u56feG\u4e2d\u589e\u52a0\u5f27&lt;v1, v2&gt;\uff0c\u82e5G\u662f\u65e0\u5411\u56fe\uff0c\u8fd8\u9700\u6dfb\u52a0\u5bf9\u79f0\u5f27&lt;v2, v1&gt;\n    DeleteArc(G*, v1, v2): \u5728\u56feG\u4e2d\u5220\u9664\u5f27&lt;v1, v2&gt;\uff0c\u82e5G\u662f\u65e0\u5411\u56fe\uff0c\u8fd8\u9700\u5220\u9664\u5bf9\u79f0\u5f27&lt;v2, v1&gt;\n    DFSTraverse(G*): \u5bf9\u56feG\u4e2d\u8fdb\u884c\u6df1\u5ea6\u4f18\u5148\u904d\u5386\n    BFSTraverse(G*): \u5bf9\u56feG\u4e2d\u8fdb\u884c\u5e7f\u5ea6\u4f18\u5148\u904d\u5386\n    Adjacent(G*, v1, v2): \u5224\u65ad\u56feG\u4e2d\u662f\u5426\u5b58\u5728\u8fb9/\u5f27&lt;v1, v2&gt;\n    Neighbors(G*, v): \u5217\u51fa\u56feG\u4e2d\u4e0e\u9876\u70b9v\u90bb\u63a5\u7684\u8fb9\n    GetEdgeValue(G*, v1, v2): \u83b7\u53d6\u56feG\u4e2d\u8fb9/\u5f27&lt;v1, v2&gt;\u5bf9\u5e94\u7684\u6743\u503c\n    SetEdgeValue(G*, v1, v2, value): \u8bbe\u7f6e\u56feG\u4e2d\u8fb9/\u5f27&lt;v1, v2&gt;\u5bf9\u5e94\u7684\u6743\u503c\u4e3avalue\nendADT\n</code></pre>"},{"location":"408/DataStructure/8-%E5%9B%BE2/#_1","title":"\u56fe\u7684\u5b58\u50a8\u7ed3\u6784","text":"<p>\u56fe\u7684\u9876\u70b9\u4e4b\u95f4\u6ca1\u6709\u6b21\u5e8f\u5173\u7cfb\uff0c\u4e14\u9876\u70b9\u7684\u90bb\u63a5\u60c5\u51b5\u591a\u53d8\uff0c\u65e0\u6cd5\u7528\u7edf\u4e00\u7684\u683c\u5f0f\u6765\u5b58\u50a8\u3002</p> <p>\u56fe\u7684\u5b58\u50a8\u7ed3\u6784\u603b\u5171\u6709\u4ee5\u4e0b 5 \u79cd\u65b9\u5f0f\uff1a</p> <ol> <li>\u90bb\u63a5\u77e9\u9635</li> <li>\u90bb\u63a5\u8868</li> <li>\u5341\u5b57\u94fe\u8868</li> <li>\u90bb\u63a5\u591a\u91cd\u8868</li> <li>\u8fb9\u96c6\u6570\u7ec4</li> </ol>"},{"location":"408/DataStructure/8-%E5%9B%BE2/#adjacent-matrix","title":"\u90bb\u63a5\u77e9\u9635 Adjacent Matrix","text":"<p>Note</p> <p>\u56fe\u7684\u90bb\u63a5\u77e9\u9635\u7684\u5b58\u50a8\u65b9\u5f0f\u662f\u7528\u4e24\u4e2a\u6570\u7ec4\u6765\u8868\u793a\u56fe\u3002</p> <p>\u4e00\u4e2a\u4e00\u7ef4\u6570\u7ec4\u7528\u6765\u5b58\u50a8\u56fe\u4e2d\u7684\u9876\u70b9\u96c6\uff0c\u4e00\u4e2a\u4e8c\u7ef4\u6570\u7ec4\uff08\u79f0\u4e3a\u90bb\u63a5\u77e9\u9635\uff09\u7528\u6765\u5b58\u50a8\u56fe\u4e2d\u7684\u8fb9\u96c6\u3002</p> <p>\u56fe\u7684\u90bb\u63a5\u77e9\u9635\u8868\u793a\u6cd5 = \u4e00\u7ef4\u6570\u7ec4 \\(\\times\\) 1 + \u4e8c\u7ef4\u6570\u7ec4 \\(\\times\\) 1</p> <p>\u8bbe \u56feG \u6709 n \u4e2a\u9876\u70b9\uff0c\u5219\u90bb\u63a5\u77e9\u9635\u662f\u4e00\u4e2a \\(n \\times n\\) \u7684\u65b9\u9635\uff0c\u5b9a\u4e49\u4e3a\uff1a</p> \\[ Arc[i][j] = \\begin{cases} 1, &amp; {(v_i, v_j) \\in E \u6216 \\langle v_i, v_j \\rangle \\in E} \\\\\\\\ 0, &amp; {\u53cd\u4e4b} \\end{cases} \\]"},{"location":"408/DataStructure/8-%E5%9B%BE2/#_2","title":"\u65e0\u5411\u56fe","text":""},{"location":"408/DataStructure/8-%E5%9B%BE2/#_3","title":"\u7406\u8bba\u63cf\u8ff0","text":"<p>\u9876\u70b9\u96c6 \u5f88\u5bb9\u6613\u8868\u793a\uff0c\u4f7f\u7528\u9876\u70b9\u7ed3\u6784\u7c7b\u578b\u7684\u4e00\u7ef4\u6570\u7ec4\u6765\u5b58\u50a8\u9876\u70b9\u4fe1\u606f\u3002 \u8fb9\u96c6 \u53ef\u4ee5\u7528 \u77e9\u9635(Metrix) \u6765\u8868\u793a\uff0c\u800c\u77e9\u9635\u5728\u8ba1\u7b97\u673a\u4e2d\u53ef\u4ee5\u4f7f\u7528\u4e8c\u7ef4\u6570\u7ec4\u6765\u5b9e\u73b0\u3002</p> <p>eg:  { loading=lazy } \u8fd9\u4e2a\u56fe\u7684\u8fb9\u96c6\u53ef\u4ee5\u53d8\u6210\u4e0b\u9762\u7684\u77e9\u9635\uff1a</p> \\[ \\begin{bmatrix} 0 &amp; 1 &amp; 1 &amp; 0 \\\\\\\\ 1 &amp; 0 &amp; 1 &amp; 0 \\\\\\\\ 1 &amp; 1 &amp; 0 &amp; 1 \\\\\\\\ 0 &amp; 0 &amp; 1 &amp; 0 \\end{bmatrix} \\] <p>\u6240\u4ee5\u5bf9\u4e8e\u56fe \\(G =(V, {E})\\)\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e2a\u4e00\u7ef4\u6570\u7ec4\u6765\u5b58\u50a8\u9876\u70b9\u96c6 \\(V\\)\uff0c\u518d\u7528\u4e00\u4e2a\u4e8c\u7ef4\u6570\u7ec4\u6765\u5b58\u50a8\u8fb9\u96c6 \\(E\\)\u3002 \u4e8e\u662f\u4e00\u5f20\u56fe\u53ef\u4ee5\u53d8\u6210\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u4e0a\u56fe\u4e2d\uff0c\u6709\u4e00\u4e2a\u7ed3\u6784\u4f53 <code>struct Graph</code>\uff0c\u7ed3\u6784\u4f53\u4e2d\u5305\u542b\u4e00\u4e2a\u4e00\u7ef4\u6570\u7ec4 <code>Vertex[]</code> \u548c\u4e00\u4e2a\u4e8c\u7ef4\u6570\u7ec4 <code>Edge[][]</code>\uff0c\u4e00\u4e2a <code>v_count</code> \u5b58\u50a8\u9876\u70b9\u6570\uff0c\u4e00\u4e2a <code>e_count</code> \u5b58\u50a8\u8fb9\u6570\u3002</p> <p><code>Vertex[]</code> \u7528\u6765\u5b58\u50a8\u9876\u70b9\u4fe1\u606f\uff0c<code>Edge[][]</code> \u7528\u6765\u5b58\u50a8\u8fb9\u7684\u4fe1\u606f\u3002</p> <p>\u4f8b\u5982 \\((v_1, v_2)\\) \u5c31\u5c06 <code>Edge[0][1]</code> \u7f6e\u4e3a1\uff1b\u800c \\((v_1, v_2)\\) \u4e5f\u53ef\u4ee5\u8868\u793a\u4e3a \\((v_2, v_1)\\) \uff0c\u6240\u4ee5 <code>Edge[1][0]</code> \u4e5f\u5e94\u7f6e\u4e3a1\u3002</p> <p>\u800c\u7b80\u5355\u56fe\u4e0d\u4f1a\u6709\u81ea\u5df1\u90bb\u63a5\u81ea\u5df1\u7684\u8fb9\uff0c\u6240\u4ee5 <code>Edge[0][0]\u3001Edge[1][1]\u3001Edge[2][2]\u3001Edge[3][3]</code> \u5747\u4e3a0\u3002</p> <p>\u7a0d\u5fae\u89c2\u5bdf\u53ef\u4ee5\u53d1\u73b0\uff0c\u65e0\u5411\u56fe\u7684\u90bb\u63a5\u77e9\u9635\u4e00\u5b9a\u662f\u4e00\u4e2a\u5bf9\u79f0\u77e9\u9635<sup>1</sup>\uff0c\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u5f88\u5bb9\u6613\u77e5\u9053\u56fe\u4e2d\u7684\u4fe1\u606f\uff1a</p> <ol> <li> <p>\u67d0\u4e2a\u9876\u70b9\u7684\u5ea6\uff0c\u8d77\u59cb\u5c31\u662f\u8fd9\u4e2a\u9876\u70b9 v<sub>i</sub> \u5728\u90bb\u63a5\u77e9\u9635\u4e2d\u7b2c i \u884c\uff08\u6216\u7b2c i \u5217\uff09\u7684\u5143\u7d20\u4e4b\u548c\u3002</p> <p>eg\uff1a\u9876\u70b9 \\(v_3\\) \u7684\u5ea6\u5c31\u662f 1+1+0+1 = 3</p> </li> <li> <p>\u6c42\u9876\u70b9 v<sub>i</sub> \u7684\u6240\u6709\u90bb\u63a5\u70b9\u5c31\u662f\u5728\u90bb\u63a5\u77e9\u9635\u4e2d\u7b2c i \u884c\u6240\u6709\u5143\u7d20\u4e3a 1 \u7684\u70b9\u3002</p> <p>eg\uff1a\u9876\u70b9 \\(v_2\\) \u7684\u6240\u6709\u90bb\u63a5\u70b9\u5c31\u904d\u5386 Edge[1][...]\uff0c\u5176\u4e2d\u4e3a <code>Eege[1][0]\u3001Edge[1][2]</code> \u4e3a1\uff0c\u8868\u793a \\(v_1\\) \u548c \\(v_3\\) \u4e3a\u90bb\u63a5\u70b9\u3002</p> </li> </ol>"},{"location":"408/DataStructure/8-%E5%9B%BE2/#_4","title":"\u4ee3\u7801\u5b9e\u73b0","text":"GraphModel.hMatrixGraph.hMatrixGraph.cmain.c <pre><code>// GraphModel.h\n#ifndef GRAPH_MODEL_H_INCLUDED\n#define GRAPH_MODEL_H_INCLUDED\n\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n\n#define MAX 4\n\ntypedef enum {\n    ERROR,\n    OK,\n} Status;\n\ntypedef enum {\n    DG,  // \u6709\u5411\u56fe\n    UDG, // \u65e0\u5411\u56fe\n    DN,  // \u6709\u5411\u7f51\n    UDN, // \u65e0\u5411\u7f51\n} GraphKind;\n\ntypedef char* Vertex; // \u9876\u70b9\u6570\u7ec4\u7c7b\u578b\ntypedef int Edge;     // \u90bb\u63a5\u77e9\u9635\u7c7b\u578b\n\n#endif // GRAPH_MODEL_H_INCLUDED\n</code></pre> <pre><code>// MatrixGraph.h\n#ifndef MATRIX_GRAPH_H_INCLUDED\n#define MATRIX_GRAPH_H_INCLUDED\n\n#include \"GraphModel.h\"\n\ntypedef struct {\n    Vertex vers[MAX];       // \u9876\u70b9\u6570\u7ec4\n    Edge   edges[MAX][MAX]; // \u90bb\u63a5\u77e9\u9635\uff08\u8fb9\u6570\u7ec4\uff09\n    size_t v_count;         // \u9876\u70b9\u603b\u6570\n    size_t e_count;         // \u8fb9\u603b\u6570\n    GraphKind kind;         // \u56fe\u7c7b\u578b\n} MatrixGraph;\n\n/**\n* @description: \u521b\u5efa\u65e0\u5411\u56fe\n* @param G \u8981\u64cd\u4f5c\u521d\u59cb\u5316\u7684\u56fe\n* @return \u6210\u529f\u8fd4\u56deOK\uff0c\u5931\u8d25\u8fd4\u56deERROR\n*/\nStatus CreatUDG(MatrixGraph* G);\n\n/**\n* @description: \u8fd4\u56de\u67d0\u4e2a\u9876\u70b9\u5728\u9876\u70b9\u96c6\u5408\u4e2d\u7684\u4e0b\u6807\n* @param G \u8981\u67e5\u627e\u7684\u56fe\u7ed3\u6784\n* @param v \u9876\u70b9\n* @return \u8fd4\u56de\u4e0b\u6807\uff0c\u4e0d\u5b58\u5728\u8fd4\u56de-1\n*/\nint LocateVex(MatrixGraph* G, Vertex v);\n\n#endif // MATRIX_GRAPH_H_INCLUDED\n</code></pre> <pre><code>// MatrixGraph.c\n#include \"MatrixGraph.h\"\n\nStatus CreatUDG(MatrixGraph* G)\n{\n    G-&gt;kind = UDG;\n\n    printf(\"Please type the count of Vertex : \");\n    scanf(\"%d\", &amp;G-&gt;v_count);\n    printf(\"Please type the count of Edge : \");\n    scanf(\"%d\", &amp;G-&gt;e_count);\n\n    // \u5f55\u5165\u9876\u70b9\u6570\u7ec4\n    printf(\"Please type Vertex in turn.\\n\");\n    for (int i = 0; i &lt; G-&gt;v_count; i++) {\n        G-&gt;vers[i] = calloc(10, sizeof(Vertex));\n        printf(\"Vertex %d :\", i);\n        scanf(\"%s\", G-&gt;vers[i]);\n    }\n\n    // \u521d\u59cb\u5316\u90bb\u63a5\u77e9\u9635\uff0c\u6240\u6709\u8fb9\u7684\u6743\u503c\u8bbe\u7f6e\u4e3a0\n    for (int i = 0; i &lt; G-&gt;v_count; i++) {\n        for (int j = 0; j &lt; G-&gt;v_count; j++) {\n            G-&gt;edges[i][j] = 0;\n        }\n    }\n\n    // \u5f55\u5165\u90bb\u63a5\u77e9\u9635\n    printf(\"Please type Vertex and Adjacent. \\n\");\n    for (int i = 0; i &lt; G-&gt;e_count; i++) {\n        Vertex v1 = calloc(10, sizeof(Vertex));\n        Vertex v2 = calloc(10, sizeof(Vertex));\n\n        printf(\"Vertex %d : \", i + 1);\n        scanf(\"%s\", v1);\n        printf(\"Adjacent %d : \", i + 1);\n        scanf(\"%s\", v2);\n\n        /** \u6838\u5fc3\u4ee3\u7801 begin */\n\n        // \u83b7\u53d6\u9876\u70b9\u7684\u4e0b\u6807\n        int x = LocateVex(G, v1);\n        int y = LocateVex(G, v2);\n        if (x == -1 || y == -1)\n            return ERROR;\n        // \u5bf9\u5e94\u4f4d\u7f6e\u7f6e\u4e3a1\n        G-&gt;edges[x][y] = 1;\n        G-&gt;edges[y][x] = 1;\n\n        /** \u6838\u5fc3\u4ee3\u7801 end */\n\n        free(v1);\n        free(v2);\n    }\n    return OK;\n}\n\nint LocateVex(MatrixGraph* G, Vertex v)\n{\n    int index = 0;\n    while (index &lt; G-&gt;v_count) {\n        if (strcmp(v, G-&gt;vers[index]) == 0) {\n            break;\n        }\n        index++;\n    }\n    return index == G-&gt;v_count ? -1 : index;\n}\n\nvoid Test()\n{\n    MatrixGraph G;\n    Status status = CreatUDG(&amp;G);\n    if (status = ERROR) {\n        printf(\"Create Graph Failed~\");\n        return;\n    }\n    printf(\"The Adjacent Matrix: \\n\");\n    printf(\"\\t\");\n    for (int i = 0; i &lt; G.v_count; i++) {\n        printf(\"\\t%s\", G.vers[i]);\n    }\n    printf(\"\\n\");\n    for (int i = 0; i &lt; G.e_count; i++) {\n        printf(\"\\t%s\", G.vers[i]);\n        for (int j = 0; j &lt; G.e_count; j++) {\n            printf(\"\\t%d\", G.edges[i][j]);\n        }\n        printf(\"\\n\");\n    }\n}\n</code></pre> <pre><code>#include \"MatrixGraph.c\"\n\nint main(int argc, char const* argv[])\n{\n    Test();\n    return 0;\n}\n</code></pre>"},{"location":"408/DataStructure/8-%E5%9B%BE2/#_5","title":"\u6709\u5411\u56fe","text":""},{"location":"408/DataStructure/8-%E5%9B%BE2/#_6","title":"\u7406\u8bba\u63cf\u8ff0","text":"<p>\u6709\u5411\u56fe\u548c\u65e0\u5411\u56fe\u7684\u533a\u522b\u5728\u4e8e\u90bb\u63a5\u77e9\u9635\u3002</p> <p>\u5728\u6709\u5411\u56fe\u90bb\u63a5\u77e9\u9635\u4e2d\uff0c</p> <ul> <li>\u7b2c \\(i\\) \u884c\u542b\u4e49\uff1a\u4ee5\u7ed3\u70b9 \\(v_i\\) \u4e3a\u5c3e\u7684\u5f27\uff08\u5373\u51fa\u5ea6\u8fb9\uff09</li> <li>\u7b2c \\(i\\) \u5217\u542b\u4e49\uff1a\u4ee5\u7ed3\u70b9 \\(v_i\\) \u4e3a\u5934\u7684\u5f27\uff08\u5373\u5165\u5ea6\u8fb9\uff09</li> </ul> <p>\u5176\u7279\u70b9\u4e3a\uff1a</p> <ul> <li>\u65e0\u5411\u56fe\u7684\u90bb\u63a5\u77e9\u9635\u4e00\u5b9a\u662f\u5bf9\u79f0\u7684\uff0c\u5f53\u6709\u5411\u56fe\u7684\u90bb\u63a5\u77e9\u9635\u4e0d\u4e00\u5b9a\u662f\u5bf9\u79f0\u7684\u3002</li> <li>\u9876\u70b9 \\(v_i\\) \u7684\u51fa\u5ea6 = \u7b2c \\(i\\) \u884c \u5143\u7d20\u4e4b\u548c</li> <li>\u9876\u70b9 \\(v_i\\) \u7684\u5165\u5ea6 = \u7b2c \\(i\\) \u5217 \u5143\u7d20\u4e4b\u548c</li> <li>\u9876\u70b9 \\(v_i\\) \u7684\u5ea6 = \u7b2c \\(i\\) \u884c\u5143\u7d20\u4e4b\u548c + \u7b2c \\(i\\) \u5217\u5143\u7d20\u4e4b\u548c</li> </ul> <p>Note</p> <p>\u53e3\u8bc0\uff1a</p> <ul> <li><code>Arc[\u884c][\u5217]</code></li> <li><code>Arc[\u51fa][\u5165]</code></li> <li>\u5217\u5934\u5165\uff0c\u884c\u5c3e\u51fa\uff1a\u5373 \u5217\u4e3a\u5f27\u5934\u3001\u5165\u5ea6\uff1b\u884c\u4e3a\u5f27\u5c3e\u3001\u51fa\u5ea6\u3002</li> </ul> <p></p>"},{"location":"408/DataStructure/8-%E5%9B%BE2/#_7","title":"\u4ee3\u7801\u5b9e\u73b0","text":"<p>\u5728\u4ee3\u7801\u5b9e\u73b0\u4e0a\uff0c\u6709\u5411\u56fe\u4e0e\u65e0\u5411\u56fe\u552f\u4e00\u7684\u533a\u522b\u5728\u4e8e\uff1a\u5f55\u5165\u5f27\u7684\u6570\u636e\u4e4b\u540e\uff0c\u53ea\u9700\u8981\u6267\u884c\u8d4b\u503c\u4e00\u6b21\u5c31\u53ef\u4ee5\u3002</p> <pre><code>G-&gt;edges[x][y] = 1;\n// G-&gt;edges[y][x] = 1;\n</code></pre> <p>\u8fd9\u91cc\u6211\u5c06\u6709\u5411\u56fe\u548c\u65e0\u5411\u56fe\u7684\u521b\u5efa\u5408\u5e76\u5728\u4e00\u8d77\uff0c\u5728\u8c03\u7528\u51fd\u6570\u65f6\u591a\u4f20\u5165\u4e00\u4e2a GraphKind \u7c7b\u578b\u53c2\u6570\u6765\u533a\u5206\u3002</p> <pre><code>Status CreatGraph(MatrixGraph* G, GraphKind kind)\n{\n    G-&gt;kind = kind;\n    // \u5f55\u5165\u9876\u70b9\u6570\u548c\u8fb9\u6570\n    ...\n    // \u5f55\u5165\u9876\u70b9\u6570\u7ec4\n    ...\n    // \u521d\u59cb\u5316\u90bb\u63a5\u77e9\u9635\uff0c\u6240\u6709\u8fb9\u7684\u6743\u503c\u8bbe\u7f6e\u4e3a0\n    ...\n    // \u5f55\u5165\u90bb\u63a5\u77e9\u9635\n    printf(\"Please type %s and %s. \\n\", kind == UDG ? \"Vertex\" : \"InDegree\", kind == UDG ? \"Adjacent\" : \"OutDegree\");\n    for (int i = 0; i &lt; G-&gt;e_count; i++) {\n        Vertex v1 = calloc(10, sizeof(Vertex));\n        Vertex v2 = calloc(10, sizeof(Vertex));\n\n        printf(\"%s %d : \", kind == UDG ? \"Vertex\" : \"OutDegree\", i + 1);\n        scanf(\"%s\", v1);\n        printf(\"%s %d : \", kind == UDG ? \"Adjacent\" : \"InDegree\", i + 1);\n        scanf(\"%s\", v2);\n\n        int x = LocateVex(G, v1);\n        int y = LocateVex(G, v2);\n        if (x == -1 || y == -1)\n            return ERROR;\n\n        G-&gt;edges[x][y] = 1;\n        G-&gt;edges[y][x] = kind == UDG ? 1 : 0;    // \u65e0\u5411\u56fe\u7f6e\u4e3a1\uff0c\u6709\u5411\u56fe\u4fdd\u6301\u9ed8\u8ba4\n\n        free(v1);\n        free(v2);\n    }\n    return OK;\n}\n\n// Status status = CreatGraph(&amp;G);\nStatus status = CreatGraph(&amp;G, DG);\n</code></pre> <p>\u540c\u65f6\uff0c\u6709\u5411\u56fe\u7684\u9876\u70b9\u7684\u5ea6 = \u51fa\u5ea6 + \u5165\u5ea6\uff0c\u53ef\u4ee5\u5b9e\u73b0\u4e00\u4e2a\u51fd\u6570\u6839\u636e\u56fe\u7684\u7c7b\u578b\u6765\u8fd4\u56de\u9876\u70b9\u7684\u5ea6\u3002</p> <pre><code>/**\n * @description: \u83b7\u53d6\u67d0\u4e2a\u9876\u70b9\u7684\u5ea6\n * @param G \u8981\u67e5\u627e\u7684\u56fe\n * @param v \u8981\u67e5\u8be2\u5ea6\u7684\u9876\u70b9\n * @return \u8be5\u9876\u70b9\u7684\u5ea6\n */\nsize_t GetDegree(MatrixGraph* G, Vertex v)\n{\n    // \u83b7\u53d6\u65e0\u5411\u56fe\u7684\u5ea6\uff1a\u7d2f\u52a0\u7b2ci\u884c\u6216\u7b2ci\u5217\u7684\u5143\u7d20\u4e4b\u548c\n    // \u83b7\u53d6\u6709\u5411\u56fe\u7684\u5ea6\uff1a\u7d2f\u52a0\u7b2ci\u884c\u548c\u7b2ci\u5217\u7684\u5143\u7d20\u4e4b\u548c\u5e76\u76f8\u52a0\n    int index = LocateVex(G, v);\n    int inDegree = 0;\n    int outDegree = 0;\n    for (int i = 0; i &lt; G-&gt;e_count; i++) {\n        inDegree += G-&gt;edges[i][index];\n        outDegree += G-&gt;edges[index][i];\n    }\n    return G-&gt;kind == UDG ? inDegree : inDegree + outDegree;\n}\n</code></pre> <p>\u65e0\u5411\u56fe\u7684\u5ea6\u53ea\u9700\u8981\u8fd4\u56de\u884c\u7684\u548c\u6216\u5217\u7684\u548c\u5c31\u884c\uff0c\u6709\u5411\u56fe\u7684\u5ea6\u5219\u9700\u8981\u76f8\u52a0\u518d\u8fd4\u56de\u3002</p>"},{"location":"408/DataStructure/8-%E5%9B%BE2/#_8","title":"\u7f51","text":"<p>\u8fb9\u6216\u5f27\u5e26\u6743\u7684\u56fe\u5373\u4e3a\u7f51\u3002</p>"},{"location":"408/DataStructure/8-%E5%9B%BE2/#_9","title":"\u7406\u8bba\u63cf\u8ff0","text":"<p>\u8bbe \u56feG \u6709 n \u4e2a\u9876\u70b9\uff0c\u5219\u90bb\u63a5\u77e9\u9635\u662f\u4e00\u4e2a \\(n \\times n\\) \u7684\u65b9\u9635\uff0c\u5b9a\u4e49\u4e3a\uff1a</p> \\[ Arc[i][j] = \\begin{cases} W_{ij}, &amp; {(v_i, v_j) \\in E \u6216 \\langle v_i, v_j \\rangle \\in E} \\\\\\\\ 0, &amp; {i=j} \\\\\\\\ \u221e, &amp; {\u53cd\u4e4b} \\end{cases} \\] <p>\u8fd9\u91cc \\(W_{ij}\\) \u8868\u793a \\(\\langle v_i, v_j \\rangle\\) \u6216 \\((v_i, v_j)\\) \u4e0a\u7684\u6743\u503c\u3002 \\(\\infty\\) \u8868\u793a\u4e00\u4e2a\u8ba1\u7b97\u673a\u5141\u8bb8\u7684\u3001\u5927\u4e8e\u6240\u6709\u8fb9\u4e0a\u6743\u503c\u7684\u503c\uff0c\u5373\u4e00\u4e2a\u4e0d\u53ef\u80fd\u7684\u6781\u9650\u503c\uff0c\u5728C\u8bed\u8a00\u4e2d\u53ef\u4ee5\u4f7f\u7528 <code>INT_MAX</code> \u6765\u8868\u793a\u65e0\u7a77\u3002</p> <p></p>"},{"location":"408/DataStructure/8-%E5%9B%BE2/#_10","title":"\u4ee3\u7801\u5b9e\u73b0","text":"<p>\u7f51\u7684\u5927\u90e8\u5206\u4ee3\u7801\u4e0e\u6709\u5411\u56fe\u548c\u65e0\u5411\u56fe\u7684\u76f8\u540c\u7684\uff0c\u53ea\u6709\u51e0\u5904\u9700\u8981\u4fee\u6539\u3002</p> <p></p><pre><code>    // \u521d\u59cb\u5316\u90bb\u63a5\u77e9\u9635\uff0c\u6240\u6709\u8fb9\u7684\u6743\u503c\u8bbe\u7f6e\u4e3a\u65e0\u7a77\n    for (int i = 0; i &lt; G-&gt;v_count; i++) {\n        for (int j = 0; j &lt; G-&gt;v_count; j++) {\n            G-&gt;edges[i][j] = INT_MAX;\n        }\n    }\n</code></pre> \u5728\u521d\u59cb\u5316\u65f6\uff0c\u4e0d\u80fd\u521d\u59cb\u5316\u4e3a0\uff0c\u800c\u8981\u521d\u59cb\u5316\u4e3a <code>INT_MAX</code>\u3002<p></p> <p></p><pre><code>// \u5f55\u5165\u90bb\u63a5\u77e9\u9635\n    printf(\"Please type %s and %s. \\n\", kind == UDN ? \"Vertex\" : \"InDegree\", kind == UDN ? \"Adjacent\" : \"OutDegree\");\n    for (int i = 0; i &lt; G-&gt;e_count; i++) {\n        Vertex v1 = calloc(10, sizeof(Vertex));\n        Vertex v2 = calloc(10, sizeof(Vertex));\n        int weight = 0; // \u6743\u503c\n\n        printf(\"%s %d : \", kind == UDN ? \"Vertex\" : \"OutDegree\", i + 1);\n        scanf(\"%s\", v1);\n        printf(\"%s %d : \", kind == UDN ? \"Adjacent\" : \"InDegree\", i + 1);\n        scanf(\"%s\", v2);\n        printf(\"Value %d: \", i + 1);\n        scanf(\"%s\", &amp;weight);\n\n        int x = LocateVex(G, v1);\n        int y = LocateVex(G, v2);\n        if (x == -1 || y == -1)\n            return ERROR;\n\n        G-&gt;edges[x][y] = weight;\n        G-&gt;edges[y][x] = kind == UDN ? weight : INT_MAX;\n\n        free(v1);\n        free(v2);\n    }\n</code></pre> \u5f55\u5165\u90bb\u63a5\u77e9\u9635\u65f6\u4e5f\u9700\u8981\u591a\u5f55\u5165\u4e00\u4e2a\u6743\u503c\u3002<p></p> <p></p><pre><code>    // \u90bb\u63a5\u77e9\u9635\n    for (int i = 0; i &lt; G.e_count; i++) {\n        printf(\"\\t%s\", G.vers[i]);\n        for (int j = 0; j &lt; G.e_count; j++) {\n            printf(\"\\t%s\", G.edges[i][j] == INT_MAX ? \"\u221e\" : (char*)G.edges[i][j]);\n        }\n        printf(\"\\n\");\n    }\n</code></pre> \u6253\u5370\u65f6\u4e5f\u7a0d\u4f5c\u5904\u7406\u3002<p></p>"},{"location":"408/DataStructure/8-%E5%9B%BE2/#adjacent-list","title":"\u90bb\u63a5\u8868 Adjacent List","text":"<p>\u90bb\u63a5\u77e9\u9635\u9002\u5408\u5904\u7406\u7a20\u5bc6\u56fe\uff0c\u5bf9\u4e8e\u7a00\u758f\u56fe\uff0c\u90bb\u63a5\u77e9\u9635\u4f1a\u9020\u6210\u5de8\u5927\u7684\u6d6a\u8d39\u3002\u5728\u6570\u636e\u7ed3\u6784\u4e2d\uff0c\u89e3\u51b3\u6d6a\u8d39\u95ee\u9898\u9700\u8981\u5f80\u94fe\u5f0f\u7ed3\u6784\u7684\u65b9\u5411\u53bb\u60f3\u3002</p> <p>Note</p> <p>\u56fe\u7684\u90bb\u63a5\u8868\u7684\u5b58\u50a8\u65b9\u5f0f\u662f\u7528\u4e00\u7ef4\u6570\u7ec4\u548c\u5355\u94fe\u8868\u6765\u8868\u793a\u56fe\u3002</p> <p>\u4e00\u4e2a\u4e00\u7ef4\u6570\u7ec4\u7528\u6765\u5b58\u50a8\u56fe\u4e2d\u7684\u9876\u70b9\u96c6\uff0c\u591a\u4e2a\u5355\u94fe\u8868\u7528\u6765\u5b58\u50a8\u56fe\u4e2d\u7684\u8fb9\u96c6\u3002</p> <p>\u56fe\u7684\u90bb\u63a5\u77e9\u9635\u8868\u793a\u6cd5 = \u4e00\u7ef4\u6570\u7ec4 \\(\\times\\) 1 + \u5355\u94fe\u8868 \\(\\times\\) n</p>"},{"location":"408/DataStructure/8-%E5%9B%BE2/#_11","title":"\u65e0\u5411\u56fe\u7684\u90bb\u63a5\u8868","text":"<p>\u90bb\u63a5\u8868\u7684\u5904\u7406\u65b9\u6cd5\u5982\u4e0b\uff1a</p> <ul> <li>\u56fe\u7684\u9876\u70b9\u96c6\u7528\u4e00\u7ef4\u6570\u7ec4\u5b58\u50a8\uff0c\u6570\u7ec4\u5143\u7d20\u4e3a <code>\u6570\u636e\u57df(data)</code> + <code>\u9996\u90bb\u63a5\u70b9\u57df(firstEdge)</code>\uff1b</li> <li>\u56fe\u7684\u8fb9/\u5f27\u96c6\u7528\u5355\u94fe\u8868\u5b58\u50a8\uff0c\u94fe\u8868\u7ed3\u70b9\u7531 <code>\u90bb\u63a5\u70b9\u57df(adjvex)</code> + <code>\u6307\u9488\u57df(next)</code> \u6784\u6210\uff1b</li> </ul> <p><code>\u9996\u90bb\u63a5\u70b9\u57df</code> \u6307\u7684\u662f\u9876\u70b9\u7684\u7b2c\u4e00\u4e2a\u8fb9\u94fe\u8868\u7ed3\u70b9\u7684\u5730\u5740\uff0c\u94fe\u8868\u4e2d\u7684 <code>\u90bb\u63a5\u70b9\u57df</code> \u5b58\u50a8\u7684\u662f\u90bb\u63a5\u70b9\u7684\u5728\u9876\u70b9\u6570\u7ec4\u4e2d\u7684\u4e0b\u6807\u3002</p> <p></p> <p>\u4ece\u4e0a\u56fe\u53ef\u4ee5\u770b\u51fa\uff0c\u4e00\u4e2a\u65e0\u5411\u56fe\u53ef\u4ee5\u7528\u4e00\u4e2a\u9876\u70b9\u7c7b\u578b\u7684\u4e00\u7ef4\u6570\u7ec4\u6765\u5b58\u50a8\u9876\u70b9\uff0c\u6bcf\u4e2a\u9876\u70b9\u90fd\u5404\u81ea\u6709\u4e00\u6761\u8fb9\u94fe\u8868\uff0c\u5b58\u50a8\u7740\u8be5\u9876\u70b9\u7684\u6240\u6709\u90bb\u63a5\u70b9\uff1b</p> <p>\u9876\u70b9\u6570\u7ec4\u4e2d\u7684\u67d0\u4e2a\u9876\u70b9 <code>Vertex[i]</code> \u548c \u5bf9\u5e94\u8fb9\u94fe\u8868\u4e2d\u7684\u4efb\u4e00\u4e2a\u7ed3\u70b9\u6784\u6210\u4e86\u4e00\u6761\u8fb9\u3002</p> <p>eg\uff1a\\(v_1\\) \u7684\u90bb\u63a5\u70b9\u662f \\(v_2\\) \u548c \\(v_3\\)\uff0c\u5728\u9876\u70b9\u6570\u7ec4\u4e2d \\(v_1\\) \u7684\u4e0b\u6807\u662f 0\uff1b</p> <p>\u5728 <code>Vertex[0]</code> \u6570\u636e\u57df(data) \u4e2d\u5b58\u7740 \\(v_1\\)\uff0c\u9996\u90bb\u63a5\u70b9\u57df(firstEdge) \u5b58\u50a8\u7740\u8fb9\u94fe\u7684\u7b2c\u4e00\u4e2a\u7ed3\u70b9\u7684\u5730\u5740\uff1b</p> <p>\u5728\u8fb9\u94fe\u7684\u7b2c\u4e00\u4e2a\u7ed3\u70b9\u4e2d\uff0c\u90bb\u63a5\u70b9\u57df(adjvex) \u5b58\u50a8\u7740 \\(v_2\\) \u7684\u4e0b\u6807 1\uff0c\u7136\u540e\u6307\u9488\u57df(next) \u6307\u5411\u4e0b\u4e00\u4e2a\u7ed3\u70b9\uff1b</p> <p>\u4e0b\u4e00\u4e2a\u7ed3\u70b9\u7684\u90bb\u63a5\u70b9\u57df\u5b58\u50a8\u7740 \\(v_3\\) \u7684\u4e0b\u6807 2\uff0c\u540e\u9762\u4e0d\u518d\u6709\u4e86\uff0c\u6240\u4ee5\u6307\u9488\u57df\u4e3a\u7a7a\u3002</p> <p>\u4ed4\u7ec6\u89c2\u5bdf\u53ef\u4ee5\u53d1\u73b0\u4ee5\u4e0b\u7279\u70b9\uff1a</p> <ul> <li>\u65e0\u5411\u56fe\u7684\u90bb\u63a5\u8868\u91cd\u590d\u5b58\u50a8\u7740\u6570\u636e\uff08\u90bb\u63a5\u77e9\u9635\u91cc\u4e5f\u662f\uff09\uff0c\u4f46\u603b\u6bd4\u90bb\u63a5\u77e9\u9635\u8282\u7701\u7a7a\u95f4\u3002</li> <li>\u8fb9\u94fe\u4e2d\u7684\u7ed3\u70b9\uff0c\u9664\u4e86\u4e0e\u9876\u70b9\u6570\u7ec4\u4e2d\u7684\u5143\u7d20\uff0c\u76f8\u4e92\u4e4b\u95f4\u6ca1\u6709\u5173\u7cfb\u3002</li> <li>\u9876\u70b9\u7684\u5ea6 = \u5b83\u7684\u8fb9\u94fe\u7684\u7ed3\u70b9\u6570</li> <li>\u6c42\u9876\u70b9\u7684\u6240\u6709\u90bb\u63a5\u70b9 = \u904d\u5386\u9876\u70b9\u7684\u8fb9\u94fe\u5e76\u53d6\u90bb\u63a5\u70b9\u57df</li> <li>\u5982\u679c\u6709 n \u6761\u8fb9\uff0c\u5219\u8fb9\u94fe\u8868\u4f1a\u6709 2n \u4e2a\u7ed3\u70b9</li> </ul>"},{"location":"408/DataStructure/8-%E5%9B%BE2/#_12","title":"\u6709\u5411\u56fe\u7684\u90bb\u63a5\u8868","text":"<p>\u6709\u5411\u56fe\u7684\u90bb\u63a5\u8868\u662f\u7c7b\u4f3c\u7684\uff0c\u4f46\u6709\u5411\u56fe\u533a\u5206\u65b9\u5411\u3002</p> <ul> <li>\u6211\u4eec\u4ee5\u9876\u70b9\u4e3a\u5f27\u5c3e\u6765\u5b58\u50a8\u8fb9\u94fe\u8868\uff0c\u5e76\u79f0\u8fd9\u6837\u7684\u8fb9\u94fe\u8868\u4e3a \u51fa\u8fb9\u8868\uff0c\u6216 \u6b63\u90bb\u63a5\u8868</li> <li>\u6211\u4eec\u4ee5\u9876\u70b9\u4e3a\u5f27\u5934\u6765\u5b58\u50a8\u8fb9\u94fe\u8868\uff0c\u5e76\u79f0\u8fd9\u6837\u7684\u8fb9\u94fe\u8868\u4e3a \u5165\u8fb9\u8868\uff0c\u6216 \u9006\u90bb\u63a5\u8868</li> </ul> <p></p> \u53f3\u4e0a\u51fa\u8fb9\u8868 \u548c \u53f3\u4e0b\u5165\u8fb9\u8868 <p>\u51fa\u8fb9\u8868\u4e2d\uff0c\u9876\u70b9 \\(v_1\\) \u4f5c\u4e3a\u5f27\u5c3e\uff0c\u90bb\u63a5\u5f27\u5934 \\(v_2\\)\uff0c\u6240\u4ee5\u9996\u90bb\u63a5\u70b9\u4e0e\u6307\u5411\u51fa\u8fb9\u8868\u7684\u7b2c\u4e00\u4e2a\u7ed3\u70b9\uff0c\u7ed3\u70b9\u4e2d\u7684\u6570\u636e\u57df\u5b58\u50a8\u7740\u5f27\u5934 \\(v_2\\) \u7684\u4e0b\u6807 1\u3002\u6240\u4ee5 \\(v_1\\) \u548c <code>Vertex[1]</code> \u5171\u540c\u7ec4\u6210\u4e00\u6761\u5f27\u3002</p> <p>\u800c\u9876\u70b9 \\(v_2\\) \u6709 2 \u4e2a\u51fa\u5ea6\uff0c\u6240\u4ee5 \\(v_2\\) \u7684\u51fa\u8fb9\u8868\u4e2d\u6709 2 \u4e2a\u7ed3\u70b9\u3002</p> <p>\u5165\u8fb9\u8868\u4e2d\uff0c\u9876\u70b9 \\(v_3\\) \u4f5c\u4e3a\u5f27\u5934\uff0c\u90bb\u63a5\u5f27\u5c3e \\(v_2\\) \u548c \\(v_4\\)\uff0c\u6240\u4ee5\u9996\u90bb\u63a5\u70b9\u6307\u5411\u5165\u8fb9\u8868\u7684\u7b2c\u4e00\u4e2a\u7ed3\u70b9\uff0c\u7ed3\u70b9\u4e2d\u5b58\u7740 \\(v_2\\) \u7684\u4e0b\u6807 1\uff0c\u7b2c\u4e8c\u4e2a\u7ed3\u70b9\u5b58\u7740 \\(v_4\\) \u4e0b\u6807 3\u3002</p> <p>\u89c2\u5bdf\u4e24\u4e2a\u8868\uff0c\u53ef\u4ee5\u53d1\u73b0\u4ee5\u4e0b\u7279\u70b9\uff1a</p> <ul> <li>\u4f7f\u7528\u5165\u8fb9\u8868\u8868\u793a\u56fe\u65f6\uff0c\u9876\u70b9\u7684\u5165\u5ea6 = \u5bf9\u5e94\u5165\u8fb9\u8868\u7684\u7ed3\u70b9\u6570\u91cf\uff0c\u8981\u8ba1\u7b97\u51fa\u5ea6\u53ea\u80fd\u904d\u5386\u6240\u6709\u8fb9\u94fe\u8868</li> <li>\u4f7f\u7528\u51fa\u8fb9\u8868\u8868\u793a\u56fe\u65f6\uff0c\u9876\u70b9\u7684\u51fa\u5ea6 = \u5bf9\u5e94\u51fa\u8fb9\u8868\u7684\u7ed3\u70b9\u6570\u91cf\uff0c\u8981\u8ba1\u7b97\u5165\u5ea6\u53ea\u80fd\u904d\u5386\u6240\u6709\u8fb9\u94fe\u8868</li> <li>\u8fb9\u94fe\u8868\u4e2d\u7684\u7ed3\u70b9\uff0c\u9664\u4e86\u4e0e\u9876\u70b9\u5143\u7d20\uff0c\u76f8\u4e92\u4e4b\u95f4\u6ca1\u6709\u5173\u7cfb</li> <li>\u5f27\u7684\u603b\u6570 = \u6240\u6709\u8fb9\u94fe\u8868\u7684\u7ed3\u70b9\u7684\u603b\u6570\u4e4b\u548c</li> </ul>"},{"location":"408/DataStructure/8-%E5%9B%BE2/#_13","title":"\u6709\u5411\u7f51\u7684\u90bb\u63a5\u8868","text":"<p>\u6709\u5411\u7f51\u548c\u65e0\u5411\u7f51\u7684\u90bb\u63a5\u8868\u4ec5\u4ec5\u53ea\u662f\u5728\u8fb9\u94fe\u8868\u4e2d\u7684\u7ed3\u70b9\u589e\u52a0\u4e00\u4e2a\u53d8\u91cf weight \u6765\u5b58\u50a8\u6743\u503c\u3002\u540c\u6837\u6709\u6709\u5411\u65e0\u5411\u3001\u51fa\u8fb9\u5165\u8fb9\u4e4b\u5206\u3002</p> <p></p>"},{"location":"408/DataStructure/8-%E5%9B%BE2/#_14","title":"\u4ee3\u7801\u5b9e\u73b0","text":"<pre><code>// \u8fb9\u94fe\u8868\u7ed3\u70b9\u7c7b\u578b\ntypedef struct node{\n    int adjvex;          // \u90bb\u63a5\u70b9\u57df\u3001\u90bb\u63a5\u70b9\u4e0b\u6807\n    struct node* next;   // \u6307\u9488\u57df\n} EdgeNode, ArcNode;\n\n// \u9876\u70b9\u7c7b\u578b\ntypedef char* Vertex;\n\n// \u9876\u70b9\u7ed3\u70b9\u7c7b\u578b\ntypedef struct {\n    Vertex data;         // \u6570\u636e\u57df\n    EdgeNode firstEdge;  // \u9996\u90bb\u63a5\u70b9\u57df\n} VertexNode;\n\n// \u56fe\u7c7b\u578b\ntypedef struct {\n    VertexNode vexs[MAX];    // \u9876\u70b9\u7ed3\u70b9\u6570\u7ec4\n    int v_count;             // \u9876\u70b9\u6570\u91cf\n    int e_count;             // \u8fb9/\u5f27\u6570\u91cf\n    GraphKind kind;          // \u56fe\u7c7b\u578b\n} AdjListGraph;\n</code></pre>"},{"location":"408/DataStructure/8-%E5%9B%BE2/#orthogonal-list","title":"\u5341\u5b57\u94fe\u8868 Orthogonal List","text":"<p>Note</p> <p>\u5341\u5b57\u94fe\u8868\u4e3b\u8981\u9488\u5bf9\u6709\u5411\u56fe\uff0c\u9002\u7528\u4e8e\u9700\u8981 \u9891\u7e41\u83b7\u53d6\u9876\u70b9\u7684\u5165\u5ea6\u548c\u51fa\u5ea6\uff0c\u9891\u7e41\u5730\u5224\u65ad\u4e00\u4e2a\u70b9\u662f\u4e0d\u662f\u53e6\u4e00\u4e2a\u70b9 \u7684\u90bb\u63a5\u70b9\u7b49\u7684\u60c5\u51b5\u3002</p> <p>\u5176\u6838\u5fc3\u601d\u60f3\u662f**\u5c06\u51fa\u8fb9\u8868\u548c\u5165\u8fb9\u8868\u6574\u5408\u8d77\u6765**\u3002</p> <p>\u6709\u5411\u56fe\u7684\u90bb\u63a5\u8868\u53ea\u6709\u8868\u793a\u51fa\u5ea6\u7684\u51fa\u8fb9\u8868\uff0c\u6216\u8005\u8868\u793a\u5165\u5ea6\u7684\u5165\u8fb9\u8868\uff0c\u9c7c\u548c\u718a\u638c\u4e0d\u53ef\u517c\u5f97\u3002</p> <p>\u5bf9\u4e8e\u8fd9\u79cd\u60c5\u51b5\uff0c\u5c0f\u5b69\u5b50\u624d\u505a\u9009\u62e9\uff0c\u5927\u4eba\u5168\u90fd\u8981\uff01</p> <p>\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u6539\u9020\u4e00\u4e0b\u9876\u70b9\u6570\u7ec4\uff0c\u8ba9\u4e00\u4e2a\u9876\u70b9\u6570\u7ec4\u7684\u5143\u7d20\u5305\u542b <code>\u9876\u70b9</code>\u3001<code>\u51fa\u8fb9\u8868\u7684\u9996\u90bb\u63a5\u70b9\u57df</code>\u3001<code>\u5165\u8fb9\u8868\u7684\u9996\u90bb\u63a5\u70b9\u57df</code></p> <p></p> <p><code>data</code> \u8868\u793a\u9876\u70b9\uff0c<code>iFirst</code> \u8868\u793a\u5165\u8fb9\u8868\u7684\u9996\u90bb\u63a5\u70b9\u57df\uff0c<code>oFirst</code> \u8868\u793a\u51fa\u8fb9\u8868\u7684\u9996\u90bb\u63a5\u70b9\u57df\u3002</p> <p>\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u8fd9\u6837\u7684\u53cc\u90bb\u63a5\u8868\uff1a</p> <p></p> \u2190\u56fe\u7ed3\u6784\uff0c\u2191\u51fa\u8fb9\u8868\uff0c\u2193\u5165\u8fb9\u8868\uff0c\u2192\u53cc\u90bb\u63a5\u8868 <p>\u6700\u5de6\u8fb9\u662f\u56fe\u7ed3\u6784\uff0c\u4e2d\u95f4\u4e0a\u9762\u662f\u51fa\u8fb9\u8868\uff0c\u4e2d\u95f4\u4e0b\u9762\u662f\u5165\u8fb9\u8868\uff0c\u5c06\u5b83\u4eec\u7ed3\u5408\uff0c\u5c31\u6210\u4e86\u6700\u53f3\u8fb9\u7684\u53cc\u90bb\u63a5\u8868</p> <p>\u4e0b\u4e00\u6b65\u6211\u4eec\u6539\u9020\u4e00\u4e0b\u8fb9\u94fe\u8868\u7684\u7ed3\u70b9\uff0c\u8ba9\u5b83\u7531 <code>\u5f27\u5c3e\u4e0b\u6807</code> + <code>\u5f27\u5c3e\u8fb9\u94fe\u7684\u6307\u9488\u57df</code> + <code>\u5f27\u5934\u4e0b\u6807</code> + <code>\u5f27\u5934\u8fb9\u94fe\u7684\u6307\u9488\u57df</code> \u6784\u6210\u3002</p> <p></p> <p><code>oVex</code> \u8868\u793a\u5f27\u4e2d\u51fa\u8fb9\u7684\u7ed3\u70b9\uff0c\u5373\u5f27\u5c3e\u7ed3\u70b9\uff0c\u7684\u4e0b\u6807\uff1b<code>oNext</code> \u66ff\u4ee3\u4e86\u539f\u51fa\u8fb9\u8868\u7ed3\u70b9\u91cc\u7684\u6307\u9488\u57df\uff1b</p> <p><code>iVex</code> \u8868\u793a\u5f27\u4e2d\u5165\u8fb9\u7684\u7ed3\u70b9\uff0c\u5373\u5f27\u5934\u7ed3\u70b9\uff0c\u7684\u4e0b\u6807\uff1b<code>iNext</code> \u66ff\u4ee3\u4e86\u539f\u5165\u8fb9\u8868\u7ed3\u70b9\u91cc\u7684\u6307\u9488\u57df\uff1b</p> <p>\u73b0\u5728\u5bf9\u53cc\u90bb\u63a5\u8868\u8fdb\u884c\u6539\u9020\uff1a</p> <p></p> <p>\u7136\u540e\u6211\u4eec\u4f1a\u53d1\u73b0\u6709\u5f88\u591a\u91cd\u590d\u7684\u7ed3\u70b9\uff0c\u6211\u4eec\u4fdd\u7559\u4e00\u4e2a\uff0c\u5220\u9664\u4e00\u4e2a\uff1a</p> <p></p> <p>\u63a5\u7740\u628a\u88ab\u5220\u9664\u7684\u5730\u65b9\u7684\u94fe\u6307\u5411\u4fdd\u7559\u4e0b\u6765\u7684\u90a3\u4e2a\u7ed3\u70b9\uff1a</p> <p></p> <p>\u4f8b\u5982 \\(v_1\\) \u7684\u51fa\u8fb9\u8868\u7b2c\u4e00\u4e2a\u7ed3\u70b9\uff08\\(v_1\\) \u7ea2\u8272\u7ebf\u6761\u6307\u5411\u7684\u90a3\u4e2a 0 \u548c 1 \u7684\u7ed3\u70b9\uff09 \u548c \\(v_2\\) \u7684\u5165\u8fb9\u8868\u7684\u7b2c\u4e00\u4e2a\u8282\u70b9\uff08\\(v_2\\) \u84dd\u8272\u7ebf\u6761\u6307\u5411\u7684\u90a3\u4e2a 0 \u548c 1 \u7684\u7ed3\u70b9\uff09\uff0c</p> <p>\u8fd9\u4e24\u4e2a\u7ed3\u70b9\u76f8\u540c\uff0c</p> <p>\u4e8e\u662f\u6211\u5220\u6389\u5176\u4e2d \\(v_2\\) \u7684\u90a3\u4e2a\uff0c\u7136\u540e\u8ba9 \\(v_2\\) \u7684\u84dd\u8272\u7ebf\u6307\u5411 \\(v_1\\) \u7684\u7b2c\u4e00\u4e2a\u7ed3\u70b9\uff0c\u5176\u4ed6\u7ed3\u70b9\u4e5f\u662f\u540c\u6837\u64cd\u4f5c\u3002</p> <p>\u6700\u540e\u6574\u7406\u4e00\u4e0b\u5c31\u662f\u4e0b\u56fe\u7684\u6837\u5b50\uff1a</p> <p></p> <p>\u5bf9\u6bd4\u4e00\u4e0b\u8be5\u56fe\u7684\u9876\u70b9 \\(v_2\\) \u7684\u51fa\u8fb9\u8868\u548c\u5341\u5b57\u94fe\u8868\uff1a</p> <p></p> <p>\u53ef\u4ee5\u770b\u5230\u6ca1\u6709\u635f\u5931\u4efb\u4f55\u4fe1\u606f\u3002</p>"},{"location":"408/DataStructure/8-%E5%9B%BE2/#_15","title":"\u4ee3\u7801\u5b9e\u73b0","text":"<pre><code>/** \u9876\u70b9\u7c7b\u578b */\ntypedef char* Vertex;\n\n/** \u5341\u5b57\u94fe\u8868\u7ed3\u70b9 */\ntypedef struct node{\n    Vertex oVex;        // \u5f27\u5934\u4e0b\u6807\n    Vertex iVex;        // \u5f27\u5c3e\u4e0b\u6807\n    struct node* oNext; // \u51fa\u8fb9\u8868\u6307\u9488\u57df\n    struct node* iNext; // \u5165\u8fb9\u8868\u6307\u9488\u57df\n    int weight;         // \u6743\u503c\n} OrthoNode;\n\n/** \u9876\u70b9\u6570\u7ec4\u5143\u7d20\u7c7b\u578b */\ntypedef struct {\n    Vertex data;        // \u9876\u70b9\n    OrthoNode iFirst;   // \u5165\u8fb9\u8868\u7684\u9996\u4e2a\u7ed3\u70b9\n    OrthoNode oFirst;   // \u51fa\u8fb9\u8868\u7684\u9996\u4e2a\u8282\u70b9\n} VertexNode;\n\n/** \u56fe\u7ed3\u6784 */\ntypedef struct {\n    VertexNode vexArray[MAX];    // \u9876\u70b9\u6570\u7ec4\n    int v_count;                 // \u9876\u70b9\u6570\u91cf\n    int a_count;                 // \u5f27\u7684\u6570\u91cf\n    GraphKind kind;              // \u56fe\u7684\u7c7b\u578b\uff08\u6709\u5411\u56fe/\u6709\u5411\u7f51\uff09\n} OrthoGraph;\n</code></pre>"},{"location":"408/DataStructure/8-%E5%9B%BE2/#_16","title":"\u603b\u7ed3","text":"<p>Note</p> <p>\u5341\u5b57\u94fe\u88685\u6b65\u8d70\uff1a</p> <ol> <li>\u751f\u6210\u6709\u5411\u56fe\u7684\u51fa\u8fb9\u8868\u548c\u5165\u8fb9\u8868</li> <li>\u7ec4\u5408\u6210\u53cc\u90bb\u63a5\u8868</li> <li>\u6539\u9020\u94fe\u8868\u7ed3\u70b9</li> <li>\u5220\u9664\u91cd\u590d\u7ed3\u70b9</li> <li>\u8fde\u63a5</li> </ol>"},{"location":"408/DataStructure/8-%E5%9B%BE2/#adjacent-multilist-list","title":"\u90bb\u63a5\u591a\u91cd\u8868 Adjacent Multilist List","text":"<p>\u90bb\u63a5\u591a\u91cd\u8868\u4e3b\u8981\u662f\u9488\u5bf9\u65e0\u5411\u56fe\u3002</p> <p></p> <p>\u4ece\u56fe\u4e2d\u53ef\u4ee5\u53d1\u73b0\u8fb9\u94fe\u7ed3\u70b9\u5f88\u591a\u90fd\u662f\u91cd\u590d\u7684\u3002\u5f53\u5220\u9664\u4e00\u6761\u8fb9\u65f6\uff0c\u9700\u8981\u5230\u4e24\u6761\u8fb9\u94fe\u4e2d\u5220\u9664\u3002 \u4f8b\u5982\u5220\u9664 \u8fb9(\\(v_1\\), \\(v_3\\))\uff0c\u9700\u8981\u627e\u5230 \\(v_1\\) \u7684\u8fb9\u94fe\uff0c\u5220\u9664\u7b2c\u4e8c\u4e2a\u7ed3\u70b9\uff0c\u7136\u540e\u8fd8\u8981\u627e\u5230 \\(v_3\\) \u7684\u8fb9\u94fe\uff0c\u7136\u540e\u5220\u9664\u7b2c\u4e00\u4e2a\u7ed3\u70b9\u3002\u663e\u7136\u8fd9\u662f\u6bd4\u8f83\u7e41\u7410\u7684\u3002</p> <p>\u6240\u4ee5\u90bb\u63a5\u591a\u91cd\u8868\u5c31\u5728\u90bb\u63a5\u8868\u7684\u57fa\u7840\u4e0a\u5bf9\u8fb9\u94fe\u7684\u7ed3\u70b9\u8fdb\u884c\u6539\u9020\u3002</p> <p></p> <p>\u90bb\u63a5\u8868\u7684\u7ed3\u70b9\u7531 <code>\u90bb\u63a5\u70b9\u7684\u4e0b\u6807</code> + <code>\u4e0b\u4e00\u7ed3\u70b9\u6307\u9488</code> \u6784\u6210\u3002</p> <p>\u90bb\u63a5\u591a\u91cd\u8868\u7684\u7ed3\u70b9\u7531 <code>\u9876\u70b9\u4e0b\u6807</code> + <code>\u9876\u70b9\u7684\u4e0b\u4e00\u7ed3\u70b9\u7684\u6307\u9488</code> + <code>\u90bb\u63a5\u70b9\u4e0b\u6807</code> + <code>\u90bb\u63a5\u70b9\u7684\u4e0b\u4e00\u7ed3\u70b9\u7684\u6307\u9488</code> \u6784\u6210\u3002</p> <p>\u5176\u601d\u60f3\u662f \u5c06\u6240\u6709\u9876\u70b9\u7684\u8fb9\u94fe\u6574\u5408\u8d77\u6765\uff0c\u5373\u8282\u7701\u7a7a\u95f4\uff0c\u4e5f\u63d0\u9ad8\u4e86\u64cd\u4f5c\u6548\u7387\u3002</p> <p>\u4e0b\u9762\u4ecb\u7ecd\u4e00\u4e0b\u5982\u4f55\u5c06\u90bb\u63a5\u8868\u6539\u4e3a\u90bb\u63a5\u591a\u91cd\u8868\uff1a</p> <p></p> Step 1Step 2Step 3 <p>\u9996\u5148\u5c06 \u8fb9\u94fe\u7684\u7ed3\u70b9\u8fdb\u884c\u6539\u9020\uff1a\u8fb9\u94fe\u7ed3\u70b9\u4e2d\u4e0d\u4ec5\u8981\u586b\u5165\u90bb\u63a5\u70b9\u7684\u4e0b\u6807\uff0c\u8fd8\u8981\u586b\u5165\u9876\u70b9\u81ea\u5df1\u7684\u4e0b\u6807\u3002</p> <p>\u4f8b\u5982 \u9876\u70b9 \\(v_1\\) \u6709\u4e24\u4e2a\u90bb\u63a5\u70b9 \\(v_2\\) \u548c \\(v_3\\)\uff0c\u6240\u4ee5\u8981\u5728\u4e24\u4e2a\u7ed3\u70b9\u4e2d\u7684 ivex \u5904\u586b\u5165 \\(v_1\\) \u7684\u4e0b\u6807 0\u3002\u5176\u4ed6\u7ed3\u70b9\u540c\u7406\u3002\u770b\u4e0d\u61c2\u53ef\u4ee5\u5bf9\u6bd4\u4e24\u4e2a\u56fe\u7684\u8fb9\u94fe\u3002</p> <p></p> <p>\u4f8b\u5982 \\(v_1\\) \u7684\u7b2c\u4e00\u4e2a\u8fb9\u94fe\u7ed3\u70b9\u4e2d\u6709 0 \u548c 1\uff0c\u4ee3\u8868 \\(v_1\\) \u7684\u5730\u5740\u548c \\(v_2\\) \u7684\u5730\u5740\uff1b\\(v_2\\) \u7684\u7b2c\u4e00\u4e2a\u8fb9\u94fe\u7ed3\u70b9\u4e5f\u6709 1 \u548c 0\uff0c\u6240\u4ee5\u968f\u4fbf\u4fdd\u7559\u54ea\u4e00\u4e2a\u90fd\u53ef\u4ee5\u3002</p> <p>\u56fe\u4e2d\u5c06 \\(v_2\\) \u7684\u7b2c\u4e00\u4e2a\u8fb9\u94fe\u7ed3\u70b9\u5220\u9664\uff0c\u7136\u540e\u8ba9 \\(v_1\\) \u7684\u7b2c\u4e00\u4e2a\u8fb9\u94fe\u7ed3\u70b9\u4e5f\u6210\u4e3a \\(v_2\\) \u7684\u8fb9\u94fe\u7ed3\u70b9\u3002</p> <p>\u8fd9\u4e00\u6b65\u600e\u4e48\u5220\uff0c\u5220\u5b8c\u6307\u5411\u8c01\u53ef\u80fd\u6709\u70b9\u4e71\uff0c\u8bf7\u770b\u4e0b\u9762\u7684\u56fe\u3002</p> <p></p> <p>\u8fd9\u91cc\u5de6\u4fa7\u4e24\u4e2a\u56fe\u7ed3\u6784\u662f\u540c\u4e00\u4e2a\uff0c\u7b2c\u4e8c\u4e2a\u56fe\u7ed3\u6784\u591a\u505a\u4e864\u6761\u8f85\u52a9\u7ebf\u7528\u6765\u5bf9\u7167\uff0c\u5b9e\u9645\u771f\u6b63\u7684\u56fe\u662f\u7b2c\u4e00\u4e2a\u7684\u56fe\u7ed3\u6784\uff0c\u4e0d\u8981\u6df7\u6dc6\u3002</p> <p>\u5bf9\u7167\u7b2c\u4e8c\u4e2a\u7684\u56fe\u7ed3\u6784\uff0c\u548c\u53f3\u4fa7\u7684\u90bb\u63a5\u591a\u91cd\u8868\uff1a</p> <p>\u9876\u70b9 \\(v_1\\) \u6709\u4e24\u6761\u8fb9\uff0c\u90bb\u63a5 \\(v_2\\) \u548c \\(v_3\\)\uff0c\u5728\u90bb\u63a5\u591a\u91cd\u8868\u4e2d\u7528\u7ea2\u8272\u7ebf\u8fde\u63a5\u8d77\u6765\u4e86\u3002\u5355\u72ec\u89c2\u5bdf <code>VertexNode[0]</code> \u548c <code>\u7ea2\u8272\u7ebf\u8fde\u63a5\u7684\u4e24\u4e2a\u7ed3\u70b9</code>\uff0c\u662f\u4e0d\u662f\u8ddf\u90bb\u63a5\u8868\u76f8\u4f3c\uff1f</p> <p></p> <p>\u540c\u6837\u9053\u7406\u53ef\u4ee5\u7ee7\u7eed\u89c2\u5bdf \\(v_2\\)\u3001\\(v_3\\)\u3001\\(v_4\\)\u3002</p> <p>\u6211\u4eec\u4f1a\u53d1\u73b0\u90bb\u63a5\u591a\u91cd\u8868\u7684\u7ed3\u70b9\u6570\u5c11\u4e86\uff0c\u800c\u4e14 \u7ed3\u70b9\u603b\u6570\u521a\u597d\u5c31\u662f\u8fb9\u6570\u3002</p> <p>\u73b0\u5728\u518d\u6765\u4f53\u4f1a\u90a3\u53e5\uff1a\u5c06\u6240\u6709\u8fb9\u94fe\u6574\u5408\u8d77\u6765\uff0c\u518d\u4f53\u4f1a\u4f53\u4f1a\u4e3a\u4ec0\u4e48\u8981\u589e\u52a0 <code>inext</code> \u548c <code>jnext</code> \u4e24\u4e2a\u5143\u7d20\u5728\u7ed3\u70b9\u4e2d\uff0c\u5176\u5b9e\u5c31\u662f\u4e3a\u4e86\u4fdd\u7559\u539f\u672c\u7684\u4fe1\u606f\u3002</p> <p>\u90bb\u63a5\u591a\u91cd\u8868\u4e2d\u8fb9\u94fe\u7684\u7ed3\u70b9\u4e0d\u5206\u662f\u8c01\u7684\uff0c\u53ea\u8bb0\u5f55\u8fb9\u4e24\u5934\u4e24\u4e2a\u9876\u70b9\u7684\u4e0b\u6807\u3002</p> <p>Tip</p> <p>\u6269\u5c55\u4e00\u4e0b\uff0c\u5982\u679c\u65e0\u5411\u7f51\u4f7f\u7528\u90bb\u63a5\u591a\u91cd\u8868\u8868\u793a\uff0c\u662f\u4e0d\u662f\u53ea\u8981\u5c06\u8fb9\u94fe\u7ed3\u70b9\u591a\u52a0\u4e00\u4e2a \u6743\u503c \u7684\u6210\u5458\u5373\u53ef\uff1f\u5982\u679c\u8fd8\u8981\u518d\u6765\u4e2a\u662f\u5426\u88ab\u641c\u7d22\u8fc7\u7684\u6807\u8bb0\uff0c\u662f\u4e0d\u662f\u518d\u52a0\u4e2a \u5e03\u5c14\u503c \u7684\u6210\u5458\u5373\u53ef\uff1f</p>"},{"location":"408/DataStructure/8-%E5%9B%BE2/#edgeset-array","title":"\u8fb9\u96c6\u6570\u7ec4 Edgeset Array","text":"<p>Note</p> <p>\u8fb9\u96c6\u6570\u7ec4\u662f\u7531\u4e24\u4e2a\u4e00\u7ef4\u6570\u7ec4\u6784\u6210\uff0c\u4e00\u4e2a\u662f\u5b58\u50a8\u9876\u70b9\u7684\u4fe1\u606f\uff0c\u53e6\u4e00\u4e2a\u662f\u5b58\u50a8\u8fb9\u7684\u4fe1\u606f\u3002\u8fd9\u4e2a\u8fb9\u6570\u7ec4\u7684\u6bcf\u4e2a\u5143\u7d20\u7531\u4e00\u6761\u8fb9\u7684\u8d77\u70b9\u4e0b\u6807 (begin) \u3001\u7ec8\u70b9\u4e0b\u6807 (end) \u548c\u6743 (weight) \u7ec4\u6210\u3002</p> <p>\u8fb9\u96c6\u6570\u7ec4\u5173\u6ce8\u7684\u662f\u8fb9\u7684\u96c6\u5408\u3002</p> <p>\u5728\u8fb9\u96c6\u6570\u7ec4\u4e2d\u8981\u67e5\u627e\u4e00\u4e2a\u9876\u70b9\u7684\u5ea6\u9700\u8981\u626b\u63cf\u6574\u4e2a\u8fb9\u6570\u7ec4\uff0c\u6548\u7387\u4e0d\u9ad8\uff0c\u56e0\u6b64\u66f4\u9002\u5408\u5bf9\u8fb9\u4f9d\u6b21\u8fdb\u884c\u5904\u7406\u7684\u64cd\u4f5c\uff0c\u800c\u4e0d\u9002\u5408\u5bf9\u9876\u70b9\u76f8\u5173\u7684\u64cd\u4f5c\u3002</p> <p></p>"},{"location":"408/DataStructure/8-%E5%9B%BE2/#_17","title":"\u9002\u7528\u60c5\u51b5\u603b\u7ed3","text":"<ul> <li>\u90bb\u63a5\u77e9\u9635\u9002\u5408\u5904\u7406\u7a20\u5bc6\u56fe</li> <li>\u90bb\u63a5\u8868\u9002\u5408\u5904\u7406\u7a00\u758f\u56fe</li> <li>\u5341\u5b57\u94fe\u8868\u9002\u5408\u4e8e\u9700\u8981\u9891\u7e41\u83b7\u53d6\u9876\u70b9\u7684\u5165\u5ea6\u548c\u51fa\u5ea6\uff0c\u9891\u7e41\u5730\u5224\u65ad\u4e00\u4e2a\u70b9\u662f\u4e0d\u662f\u53e6\u4e00\u4e2a\u70b9\u7684\u90bb\u63a5\u70b9\u7b49\u7684\u60c5\u51b5</li> <li>\u90bb\u63a5\u591a\u91cd\u8868\u4e3b\u8981\u662f\u9488\u5bf9\u65e0\u5411\u56fe</li> <li>\u8fb9\u96c6\u6570\u7ec4\u9002\u5408\u5bf9\u8fb9\u4f9d\u6b21\u8fdb\u884c\u5904\u7406\u7684\u64cd\u4f5c\uff0c\u800c\u4e0d\u9002\u5408\u5bf9\u9876\u70b9\u76f8\u5173\u7684\u64cd\u4f5c</li> </ul>"},{"location":"408/DataStructure/8-%E5%9B%BE2/#_18","title":"\u56fe\u7684\u904d\u5386","text":""},{"location":"408/DataStructure/8-%E5%9B%BE2/#dfs","title":"\u6df1\u5ea6\u4f18\u5148\u641c\u7d22 DFS","text":"<p>\u6df1\u5ea6\u4f18\u5148\u904d\u5386 (Depth-First-Search) \u662f\u4eff\u6811\u7684\u524d\u5e8f\u904d\u5386\uff0c\u8be5\u7b97\u6cd5\u662f\u5229\u7528\u6808\u6765\u5b9e\u73b0\uff0c\u4e5f\u5c31\u662f\u9012\u5f52\uff0c\u6240\u4ee5\u5728 DFS \u4e2d\u4f1a\u6709 \u9012\u5f52 \u548c \u56de\u6eaf \u7684\u8bf4\u6cd5\u3002</p> <p>DFS \u9700\u8981\u501f\u52a9\u4e00\u4e2a\u6570\u7ec4\u6765\u8bb0\u5f55\u8bbf\u95ee\u72b6\u6001\uff0c\u8fd9\u91cc\u5c06\u5176\u79f0\u4f5c \u72b6\u6001\u6570\u7ec4\uff08Status Array\uff09\uff1b\u8be5\u6570\u7ec4\u957f\u5ea6\u4e3a\u9876\u70b9\u603b\u6570\uff0c\u6b21\u5e8f\u4e0e\u9876\u70b9\u6570\u7ec4\u76f8\u540c\u3002</p> <p>\u4ece\u67d0\u4e00\u4e2a\u9876\u70b9 \\(v_i\\) \u51fa\u53d1\uff0c\u5219\u5f53\u524d\u9876\u70b9\u4e3a \\(v_i\\)\uff1b</p> <p>\u5148\u5c06\u8be5\u9876\u70b9\u6807\u8bb0\u4e3a\u5df2\u8bbf\u95ee\uff0c\u7136\u540e\u904d\u5386\u5176\u6240\u6709\u90bb\u63a5\u70b9\uff0c\u627e\u5230 \u7b2c\u4e00\u4e2a\u672a\u8bbf\u95ee\u7684\u90bb\u63a5\u70b9 \\(v_j\\) \u5e76\u7f6e\u4e3a\u5f53\u524d\u9876\u70b9\uff1b</p> <p>\u63a5\u7740\u4ece\u8be5\u9876\u70b9 \\(v_j\\) \u51fa\u53d1\uff0c\u5148\u6807\u8bb0\u4e3a\u5df2\u8bbf\u95ee\uff0c\u7136\u540e\u904d\u5386\u627e\u5230 \u7b2c\u4e00\u4e2a\u672a\u8bbf\u95ee\u7684\u90bb\u63a5\u70b9 vk \u5e76\u7f6e\u4e3a\u5f53\u524d\u9876\u70b9... \u4ee5\u6b64\u7c7b\u63a8</p> <p></p> <p>\u4f8b\u5982\u4e0a\u56fe\u5de6\u8fb9\u662f\u4e00\u4e2a\u56fe\uff0c\u6211\u4eec\u53ef\u4ee5\u8f6c\u6362\u4e00\u4e0b\u601d\u7ef4\uff0c\u50cf\u53f3\u56fe\u4e00\u6837\u628a\u90a3\u4e24\u6761\u8fb9\u5f53\u4f5c\u6ca1\u6709\uff0c\u5c31\u53ef\u4ee5\u770b\u6210\u4e00\u68f5\u4e8c\u53c9\u6811</p> <p>\u8fd0\u7528\u6811\u7684\u524d\u5e8f\u904d\u5386\u6cd5\u53ef\u4ee5\u5f97\u5230\uff1a** \\(v_0\\) -&gt; \\(v_1\\) -&gt; \\(v_5\\) -&gt; \\(v_2\\) -&gt; \\(v_4\\) -&gt; \\(v_3\\) **\uff0c\u800c\u8fd9\u6b63\u597d\u5c31\u662f DFS \u7684\u7ed3\u679c\u3002</p> <p></p> <p>\u56de\u8fc7\u5934\u6765\u91cd\u65b0\u770b\u7740\u5de6\u8fb9\u7684\u56fe\uff0c\u5047\u8bbe\u4ece v0 \u51fa\u53d1\uff08\u5176\u5b9e\u56fe\u662f\u65e0\u5e8f\u7684\uff0c\u4ece\u4efb\u4f55\u4e00\u70b9\u51fa\u53d1\u90fd\u53ef\u4ee5\uff09\uff1b</p> <ul> <li>\\(v_0\\) \u6709\u4e24\u4e2a\u90bb\u63a5\u70b9 \\(v_1\\) \u548c \\(v_3\\)\uff0c\u6211\u4eec\u5148\u9009\u62e9 \\(v_1\\)\uff0c\u7136\u540e\u4ece \\(v_1\\) \u51fa\u53d1\uff1b</li> <li>\\(v_1\\) \u6709\u4e24\u4e2a\u90bb\u63a5\u70b9 \\(v_5\\) \u548c \\(v_0\\)\uff0c\\(v_0\\) \u5df2\u7ecf\u8bbf\u95ee\u8fc7\u4e86\uff0c\u53ea\u80fd\u9009\u62e9 \\(v_5\\)\uff0c\u7136\u540e\u4ece \\(v_5\\) \u51fa\u53d1\uff1b</li> <li>\\(v_5\\) \u6709\u4e09\u4e2a\u90bb\u63a5\u70b9 \\(v_1\\)\u3001\\(v_2\\)\u3001\\(v_3\\)\uff0c\\(v_1\\) \u5df2\u7ecf\u8bbf\u95ee\u8fc7\u4e86\uff0c\u6211\u4eec\u5148\u9009\u62e9 \\(v_2\\) \uff0c\u7136\u540e\u4ece \\(v_2\\) \u51fa\u53d1\uff1b</li> <li>\\(v_2\\) \u6709\u4e24\u4e2a\u90bb\u63a5\u70b9 \\(v_5\\) \u548c \\(v_4\\)\uff0c\\(v_5\\) \u5df2\u7ecf\u8bbf\u95ee\u8fc7\u4e86\uff0c\u53ea\u80fd\u9009\u62e9 \\(v_4\\)\uff0c\u7136\u540e\u4ece \\(v_4\\) \u51fa\u53d1\uff1b</li> <li>\\(v_4\\) \u6709\u4e24\u4e2a\u90bb\u63a5\u70b9 \\(v_2\\) \u548c \\(v_3\\)\uff0c\\(v_2\\) \u5df2\u7ecf\u8bbf\u95ee\u8fc7\u4e86\uff0c\u53ea\u80fd\u9009\u62e9 \\(v_3\\)\uff0c\u7136\u540e\u4ece \\(v_3\\) \u51fa\u53d1\uff1b</li> <li>\\(v_3\\) \u6709\u4e09\u4e2a\u90bb\u63a5\u70b9 \\(v_4\\)\u3001\\(v_5\\)\u3001\\(v_0\\)\uff0c\u5168\u90fd\u8bbf\u95ee\u8fc7\u4e86\uff0c\u5230\u6b64\u904d\u5386\u4e5f\u5c31\u7ed3\u675f\u4e86\u3002</li> </ul> <p>\u5982\u679c\u4ed4\u7ec6\u9605\u8bfb\u4e0a\u97626\u4e2a\u6b65\u9aa4\u4f1a\u53d1\u73b0\uff0c\u5f53\u6211\u4eec\u904d\u5386\u65f6\uff0c\u6211\u4eec\u9700\u8981\u77e5\u9053\u8fd9\u4e2a\u9876\u70b9\u662f\u4e0d\u662f\u88ab\u8bbf\u95ee\u8fc7\u4e86\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u72b6\u6001\u6570\u7ec4\u6765\u8bb0\u5f55\uff1b</p> <p>\u800c\u5f53\u6709\u591a\u4e2a\u90bb\u63a5\u70b9\u53ef\u4ee5\u8bbf\u95ee\u65f6\uff0c\u6211\u4eec\u9009\u62e9\u7684\u4f9d\u636e\uff0c\u5176\u5b9e\u662f\u9876\u70b9\u5728\u9876\u70b9\u6570\u7ec4\u4e2d\u5b58\u50a8\u7684\u987a\u5e8f\u6240\u51b3\u5b9a\u7684\u3002</p> <p>\u4f8b\u5982\u5728 \\(v_5\\) \u7684\u65f6\u5019\uff0c\u9009\u62e9\u4e86 \\(v_2\\) \u800c\u4e0d\u662f \\(v_3\\)\uff0c\u5176\u5b9e\u662f\u6211\u4eec\u9ed8\u8ba4\u9876\u70b9\u6570\u7ec4\u662f\u6309\u7167 <code>v0\u3001$v_1$\u3001$v_2$\u3001$v_3$\u3001$v_4$\u3001$v_5$</code> \u7684\u987a\u5e8f\u5b58\u50a8\uff0c\u5047\u8bbe\u662f\u6309\u7167 <code>v0\u3001$v_1$\u3001$v_3$\u3001$v_2$\u3001$v_4$\u3001$v_5$</code> \u5b58\u50a8\uff0c\\(v_3\\) \u5728 \\(v_2\\) \u524d\uff0c\u5219\u4f1a\u5148\u8bbf\u95ee \\(v_3\\)\u3002</p>"},{"location":"408/DataStructure/8-%E5%9B%BE2/#dfs_1","title":"\u90bb\u63a5\u77e9\u9635\u7684 DFS","text":"<p>\u5148\u5c06\u56fe\u7684\u8fb9\u7528\u77e9\u9635\u8868\u793a\uff0c\u5728\u8ba1\u7b97\u673a\u4e2d\u4f7f\u7528\u4e8c\u7ef4\u6570\u7ec4\u5b58\u50a8\u3002 \u7136\u540e\u8bbe\u7f6e\u4e00\u4e2a\u72b6\u6001\u6570\u7ec4\uff0c\u957f\u5ea6\u548c\u9876\u70b9\u6570\u7ec4\u76f8\u540c\u3002</p> <p>\u63a5\u4e0b\u6765\u5c31\u53ef\u4ee5\u6267\u884c DFS \u4e86\u3002</p> <ul> <li>\u7b2c\u4e00\u6b65\uff1a\u5148\u521d\u59cb\u5316\u72b6\u6001\u6570\u7ec4\u4e3a\u672a\u8bbf\u95ee\u72b6\u6001\uff0c\u5373\u6700\u5f00\u59cb\u6240\u6709\u9876\u70b9\u90fd\u672a\u8bbf\u95ee\u3002</li> <li>\u7b2c\u4e8c\u6b65\uff1a\u904d\u5386\u9876\u70b9\u6570\u7ec4\uff0c\u8ba9\u6570\u7ec4\u91cc\u6bcf\u4e2a\u9876\u70b9\u90fd\u653e\u5165\u904d\u5386\u6267\u884c\u51fd\u6570\u4e2d\uff0c\u4e0d\u8fc7\u5728\u8c03\u7528\u904d\u5386\u6267\u884c\u51fd\u6570\u4e4b\u524d\u8981\u5148\u5224\u65ad\u9876\u70b9\u662f\u5426\u5df2\u88ab\u8bbf\u95ee\u3002</li> </ul> <pre><code>int visited[MAX];\n\n/** DFS begin */\n\n/**\n * @description: \u6df1\u5ea6\u4f18\u5148\u904d\u5386\u7b97\u6cd5\n * @param G \u9700\u8981\u88ab\u904d\u5386\u7684\u56fe\n * @return \u65e0\n */\nvoid DFSTraverse_AMG(MatrixGraph* G)\n{\n    // \u521d\u59cb\u5316\u72b6\u6001\u6570\u7ec4\n    for (int i = 0; i &lt; G-&gt;v_count; i++)\n        visited[i] = UNVISITED;\n    // DFS \u904d\u5386\n    for (int i = 0; i &lt; G-&gt;v_count; i++)\n        if (!visited[i]) // \u5982\u679c\u67d0\u4e2a\u9876\u70b9\u672a\u8bbf\u95ee\n            DFS_AMG(G, i); // \u8c03\u7528\u904d\u5386\u6267\u884c\u51fd\u6570\n}\n</code></pre> <p>\u904d\u5386\u6267\u884c\u51fd\u6570\u5c31\u662f DFS \u7684\u6838\u5fc3\u7b97\u6cd5\u4e86\u3002 \u8be5\u51fd\u6570\u63a5\u6536\u9876\u70b9\u7684\u4e0b\u6807\uff0c\u5e76\u505a3\u4ef6\u4e8b\uff1a</p> <ol> <li>\u8bbf\u95ee\u5f53\u524d\u9876\u70b9</li> <li>\u66f4\u6539\u9876\u70b9\u7684\u8bbf\u95ee\u72b6\u6001</li> <li>\u83b7\u53d6\u7b2c\u4e00\u4e2a\u672a\u8bbf\u95ee\u7684\u90bb\u63a5\u70b9\u4e0b\u6807\uff0c\u7136\u540e\u9012\u5f52\u8fdb\u53bb\uff0c\u627e\u4e0d\u5230\u5219\u56de\u6eaf</li> </ol> <pre><code>/**\n * @description: \u6df1\u5ea6\u4f18\u5148\u641c\u7d22\u7684\u6838\u5fc3\u7b97\u6cd5\n * @param G \u8981\u641c\u7d22\u7684\u56fe\n * @param index \u8981\u641c\u7d22\u7684\u9876\u70b9\u7684\u4e0b\u6807\n * @return \u65e0\n */\nvoid DFS_AMG(MatrixGraph* G, int index)\n{\n    printf(\"-&gt; %s \", G-&gt;vexes[index]); // \u8bbf\u95ee\u5f53\u524d\u9876\u70b9\n    visited[index] = VISITED; // \u66f4\u6539\u5f53\u524d\u9876\u70b9\u7684\u8bbf\u95ee\u72b6\u6001\n\n    for (int j = 0; j &lt; G-&gt;v_count; j++)\n        if (G-&gt;matrix[index][j] &amp;&amp; !visited[j]) // \u83b7\u53d6\u7b2c\u4e00\u4e2a\u672a\u8bbf\u95ee\u7684\u90bb\u63a5\u70b9\u4e0b\u6807\u7136\u540e\u9012\u5f52\u8fdb\u53bb\n            DFS_AMG(G, j);\n}\n/** DFS end */\n</code></pre> <p>\u5728\u90bb\u63a5\u77e9\u9635\u4e2d\uff0c\u83b7\u53d6\u67d0\u4e2a\u9876\u70b9\u7684\u6240\u6709\u90bb\u63a5\u70b9\u5c31\u662f\u904d\u5386\u5176\u6240\u5728\u7684\u884c\uff0c\u627e\u5230\u7b2c\u4e00\u4e2a\u672a\u8bbf\u95ee\u7684\u90bb\u63a5\u70b9\u3002</p> <p></p> <p>\u4ece\u90bb\u63a5\u77e9\u9635\u4e2d\u770b\u5982\u4e0a\u56fe</p> <ul> <li>\u6700\u5f00\u59cb\u4ece\u7b2c 0 \u884c\u8fdb\u884c\uff08\u7bad\u59341\uff09\uff0c\u627e\u5230\u7b2c\u4e00\u4e2a\u90bb\u63a5\u70b9\u7684\u4e0b\u6807\uff0c\u5176\u5217\u6807\u4e3a 1\uff0c\u4e8e\u662f\u8df3\u5230\u7b2c 1 \u884c\uff08\u7bad\u59342\uff09</li> <li>\u7b2c 1 \u884c\u7b2c\u4e00\u4e2a\u90bb\u63a5\u70b9\u662f v0 \uff0c\u5df2\u7ecf\u8bbf\u95ee\u8fc7\uff0c\u6240\u4ee5\u8df3\u8fc7\uff08\u7bad\u59343\uff09\uff0c\u4e00\u76f4\u627e\u5230 \\(v_5\\) \u8fd9\u4e2a\u90bb\u63a5\u70b9\uff0c\u5176\u5217\u6807\u4e3a 5\uff0c\u4e8e\u662f\u8df3\u5230\u7b2c 5 \u884c\uff08\u7bad\u59344\uff09</li> <li>\u7b2c 5 \u884c\u7b2c\u4e00\u4e2a\u90bb\u63a5\u70b9\u7684 \\(v_1\\)\uff0c\u5df2\u7ecf\u8bbf\u95ee\u8fc7\uff0c\u6240\u4ee5\u8df3\u8fc7\uff08\u7bad\u59345\uff09\uff0c\u63a5\u4e0b\u53bb\u627e\u5230\u7b2c\u4e8c\u4e2a\u90bb\u63a5\u70b9 \\(v_2\\)\uff0c\u5176\u5217\u6807\u4e3a 2\uff0c\u4e8e\u662f\u8df3\u5230\u7b2c 2 \u884c\uff08\u7bad\u59346\uff09</li> <li>\u63a5\u4e0b\u53bb\u7684\u6b65\u9aa4\u90fd\u662f\u8fd9\u4e2a\u601d\u8def\uff0c\u753b\u51fa\u6765\u592a\u4e71\u5c31\u6ca1\u753b\u4e86\u3002</li> </ul>"},{"location":"408/DataStructure/8-%E5%9B%BE2/#dfs_2","title":"\u90bb\u63a5\u8868\u7684 DFS","text":"<p>\u90bb\u63a5\u8868\u7684\u5177\u4f53\u4ee3\u7801\u5b9e\u73b0\u8ddf\u90bb\u63a5\u77e9\u9635\u7a0d\u7a0d\u4e0d\u540c\u800c\u5df2\uff0c\u53ea\u4e0d\u8fc7\u628a\u6570\u7ec4\u5904\u7406\u6362\u6210\u4e86\u94fe\u8868\u5904\u7406</p> <p></p> <ul> <li>\u6700\u5f00\u59cb\u4ece \\(v_1\\) \u5f00\u59cb\uff08\u7bad\u59341\uff09\uff0c\u8bbf\u95ee \\(v_1\\) \u7684\u8fb9\u94fe\u4e0a\u7b2c\u4e00\u4e2a\u7ed3\u70b9\uff08\u7bad\u59342\uff09\uff0c\u5f97\u5230\u4e86 \\(v_2\\) \u7684\u4e0b\u6807\uff0c\u4e8e\u662f\u8df3\u5230 \\(v_2\\)\uff08\u7bad\u59343\uff09</li> <li>\u63a5\u7740\u4ece \\(v_2\\) \u5f00\u59cb\uff0c\u5148\u8bbf\u95ee \\(v_2\\)\uff0c\u7136\u540e\u904d\u5386 \\(v_2\\) \u7684\u8fb9\u94fe\u4e0a\u7684\u7ed3\u70b9\uff08\u7bad\u59344\uff09\uff0c\u7b2c\u4e00\u4e2a\u7ed3\u70b9 0 \u662f \\(v_1\\) \u7684\u4e0b\u6807\uff0c\u5df2\u7ecf\u8bbf\u95ee\u8fc7\u4e86\uff0c\u4e8e\u662f\u7ee7\u7eed\u4e0b\u4e00\u4e2a\u7ed3\u70b9\uff0c\u5f97\u5230\u4e86 \\(v_3\\) \u7684\u4e0b\u6807\uff0c\u4e8e\u662f\u8df3\u5230 \\(v_3\\)\uff08\u7bad\u59345\uff09</li> <li>\u63a5\u7740\u4ece \\(v_3\\) \u5f00\u59cb\uff0c\u5148\u8bbf\u95ee \\(v_3\\)\uff0c\u7136\u540e\u904d\u5386 \\(v_3\\) \u7684\u8fb9\u94fe\u4e0a\u7684\u7ed3\u70b9\uff08\u7bad\u59346\uff09\uff0c\u7b2c\u4e00\u548c\u7b2c\u4e8c\u4e2a\u7ed3\u70b9\u662f \\(v_1\\) \u548c \\(v_2\\) \u7684\u4e0b\u6807\uff0c\u5df2\u7ecf\u8bbf\u95ee\u8fc7\uff0c\u6240\u4ee5\u63a5\u7740\u4e0b\u4e00\u4e2a\u7ed3\u70b9\uff0c\u5f97\u5230 \\(v_4\\) \u7684\u4e0b\u6807\uff0c\u4e8e\u662f\u8df3\u5230 \\(v_4\\)\uff08\u7bad\u59347\uff09</li> <li>\u63a5\u7740\u4ece \\(v_4\\) \u5f00\u59cb\uff0c\u5148\u8bbf\u95ee \\(v_4\\)\uff0c\u7136\u540e\u904d\u5386 \\(v_4\\) \u7684\u8fb9\u94fe\u4e0a\u7684\u7ed3\u70b9\uff0c\u53d1\u73b0\u5f97\u5230\u7684\u662f \\(v_3\\) \u7684\u4e0b\u6807\uff0c\u5df2\u7ecf\u8bbf\u95ee\u8fc7\u4e86\uff0c\u518d\u4e0b\u53bb\u6ca1\u6709\u4e86\uff0c\u4e8e\u662f\u7ed3\u675f\u3002</li> </ul> <p></p><pre><code>void DFSTraverse_ALG(AdjListGraph* G)\n{\n    //  \u521d\u59cb\u5316\u72b6\u6001\u6570\u7ec4\n    for (int i = 0; i &lt; G-&gt;v_count; i++)\n        visited[i] = UNVISITED;\n    // DFS\u904d\u5386\n    for (int i = 0; i &lt; G-&gt;v_count; i++)\n        if (!visited[i]) // \u5982\u679c\u9876\u70b9\u6ca1\u6709\u88ab\u8bbf\u95ee\uff0c\u5c31\u9012\u5f52\u8c03\u7528\n            DFS_ALG(G, i);\n}\n\nvoid DFS_ALG(AdjListGraph* G, int index)\n{\n    printf(\" -&gt; %s\", G-&gt;vexes[index].data);    // \u8bbf\u95ee\u9876\u70b9\n    visited[index] = VISITED;                  // \u66f4\u6539\u72b6\u6001\n\n   // \u5bfb\u627e\u90bb\u63a5\u70b9\n    EdgeNode* eNode = G-&gt;vexes[index].firstEdge;\n    while (eNode) {\n        if (!visited[eNode-&gt;adjvex]) // \u5982\u679c\u90bb\u63a5\u70b9\u672a\u8bbf\u95ee\u5c31\u9012\u5f52\u8bbf\u95ee\n            DFS_ALG(G, eNode-&gt;adjvex);\n        eNode = eNode-&gt;nextEdge;\n    }\n}\n</code></pre> <code>DFSTraverse_ALG()</code> \u548c <code>DFSTraverse_AMG()</code> \u662f\u4e00\u6837\u7684\uff0c\u521d\u59cb\u5316\u72b6\u6001\u6570\u7ec4\uff0c\u7136\u540e\u904d\u5386\u9876\u70b9\u6570\u7ec4\uff0c\u8c03\u7528 DFS \u7b97\u6cd5<p></p> <p><code>DFS_AMG()</code> \u4e2d\u662f\u904d\u5386\u67d0\u4e00\u884c\uff0c<code>DFS_ALG()</code> \u4e2d\u662f\u904d\u5386\u67d0\u4e00\u6761\u94fe\u8868\uff0c\u6267\u884c\u7684\u903b\u8f91\u90fd\u662f\u5982\u679c\u90bb\u63a5\u70b9\u4e3a\u8bbf\u95ee\u5c31\u9012\u5f52\u3002 </p>"},{"location":"408/DataStructure/8-%E5%9B%BE2/#_19","title":"\u65f6\u95f4\u590d\u6742\u5ea6","text":"<p>\u5728\u904d\u5386\u56fe\u65f6\uff0c\u5bf9\u56fe\u4e2d\u6bcf\u4e2a\u9876\u70b9\u81f3\u591a\u8c03\u7528\u4e00\u6b21 DFS \u51fd\u6570\uff0c\u56e0\u4e3a\u4e00\u65e6\u67d0\u4e2a\u9876\u70b9\u88ab\u6807\u5fd7\u6210\u5df2\u8bbf\u95ee\u540e\uff0c\u5c31\u4e0d\u518d\u4ece\u5b83\u51fa\u53d1\u8fdb\u884c\u641c\u7d22\u3002 \u56e0\u6b64\uff0c\u6df1\u5ea6\u904d\u5386\u56fe\u7684\u8fc7\u7a0b\u5b9e\u8d28\u4e0a\u662f\u5bf9\u6bcf\u4e2a\u9876\u70b9\u67e5\u627e\u5176\u90bb\u63a5\u70b9\u7684\u8fc7\u7a0b\uff0c\u5176\u8017\u8d39\u65f6\u95f4\u53d6\u51b3\u4e8e\u6240\u91c7\u7528\u7684\u5b58\u50a8\u7ed3\u6784\u3002</p> <ul> <li>\u5f53\u7528\u90bb\u63a5\u77e9\u9635\u65f6\uff0c\u4f7f\u7528\u7684\u662f\u4e8c\u4f4d\u6570\u7ec4\uff0c\u67e5\u627e\u6bcf\u4e2a\u9876\u70b9\u7684\u90bb\u63a5\u70b9\u6240\u9700\u65f6\u95f4\u4e3a \\(O(n^2)\\)\uff0cn \u4e3a\u56fe\u4e2d\u9876\u70b9\u6570\u3002</li> <li>\u5f53\u7528\u90bb\u63a5\u8868\u65f6\uff0c\u4f7f\u7528\u7684\u662f\u94fe\u8868\uff0c\u67e5\u627e\u6bcf\u4e2a\u9876\u70b9\u7684\u90bb\u63a5\u70b9\u6240\u9700\u65f6\u95f4\u4e3a \\(O(e)\\)\uff0ce \u4e3a\u65e0\u5411\u56fe\u4e2d\u8fb9\u7684\u6570\u91cf\uff0c\u6216\u6709\u5411\u56fe\u4e2d\u5f27\u7684\u6570\u91cf\u3002</li> </ul> <p>\u7531\u6b64\uff0c \u90bb\u63a5\u77e9\u9635\u7684 DFS \u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(n^2 + n) = O(n^2)\\) \u90bb\u63a5\u8868\u7684 DFS \u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(n+e)\\)</p>"},{"location":"408/DataStructure/8-%E5%9B%BE2/#bfs","title":"\u5e7f\u5ea6\u4f18\u5148 BFS","text":"<p>\u5e7f\u5ea6\u4f18\u5148\u904d\u5386 (Breadth-First-Search) \u662f\u4eff\u6811\u7684\u5c42\u6b21\u904d\u5386\u3002\u8be5\u7b97\u6cd5\u662f\u5229\u7528\u961f\u5217\u5b9e\u73b0\u7684\u3002</p> <p>BFS \u7684\u601d\u60f3\u662f\uff0c\u628a\u9876\u70b9\u90fd\u653e\u5230\u961f\u5217\u4e2d\uff0c\u5f53\u8bbf\u95ee\u4e00\u4e2a\u9876\u70b9\uff0c\u5373\u4e3a\u51fa\u961f\u4e00\u4e2a\u5143\u7d20\uff1b\u5f53\u51fa\u961f\u4e00\u4e2a\u5143\u7d20\u65f6\uff0c\u9700\u5c06\u5176\u6240\u6709\u672a\u8bbf\u95ee\u7684\u90bb\u63a5\u70b9\u5165\u961f\u3002</p> <p></p> <ol> <li>\u5148\u4ece \\(v_0\\) \u5f00\u59cb\u904d\u5386\uff0c\u6253\u5370 \\(v_0\\)\uff0c\u7136\u540e \\(v_0\\) \u5165\u961f</li> <li>\u961f\u5217\u4e0d\u4e3a\u7a7a\uff0c\\(v_0\\) \u51fa\u961f\uff0c\u540c\u65f6 \\(v_0\\) \u7684\u672a\u5165\u961f\u4e14\u672a\u8bbf\u95ee\u7684\u90bb\u63a5\u70b9 \\(v_1\\)\u3001\\(v_3\\) \u5165\u961f\uff0c\u7136\u540e\u8bbf\u95ee \\(v_1\\)\u3001\\(v_3\\)</li> <li>\u961f\u5217\u4e0d\u4e3a\u7a7a\uff0c\\(v_1\\) \u51fa\u961f\uff0c\u540c\u65f6 \\(v_1\\) \u7684\u672a\u5165\u961f\u4e14\u672a\u8bbf\u95ee\u7684\u90bb\u63a5\u70b9 \\(v_5\\)\u3001\\(v_6\\) \u5165\u961f\uff0c\u7136\u540e\u8bbf\u95ee \\(v_5\\)\u3001\\(v_6\\)</li> <li>\u961f\u5217\u4e0d\u4e3a\u7a7a\uff0c\\(v_3\\) \u51fa\u961f\uff0c\u540c\u65f6 \\(v_3\\) \u7684\u672a\u5165\u961f\u4e14\u672a\u8bbf\u95ee\u7684\u90bb\u63a5\u70b9 \\(v_4\\) \u5165\u961f\uff0c\u7136\u540e\u8bbf\u95ee \\(v_4\\)</li> <li>\u961f\u5217\u4e0d\u4e3a\u7a7a\uff0c\\(v_5\\) \u51fa\u961f\uff0c\u540c\u65f6 \\(v_5\\) \u7684\u672a\u5165\u961f\u4e14\u672a\u8bbf\u95ee\u7684\u90bb\u63a5\u70b9 \\(v_2\\) \u5165\u961f\uff0c\u7136\u540e\u8bbf\u95ee \\(v_2\\)</li> <li>\u961f\u5217\u4e0d\u4e3a\u7a7a\uff0c\\(v_6\\) \u51fa\u961f\uff0c\u540c\u65f6 \\(v_6\\) \u5df2\u7ecf\u6ca1\u6709\u672a\u5165\u961f\u4e14\u4e3a\u8bbf\u95ee\u7684\u90bb\u63a5\u70b9\u4e86\uff0c\u4e0d\u505a\u5165\u961f\u64cd\u4f5c</li> <li>\u961f\u5217\u4e0d\u4e3a\u7a7a\uff0c\\(v_4\\) \u51fa\u961f</li> <li>\u961f\u5217\u4e0d\u4e3a\u7a7a\uff0c\\(v_2\\) \u51fa\u961f</li> </ol> <p>\u961f\u5217\u4e3a\u7a7a\uff0c\u7ed3\u675f</p> <p>\u5230\u6b64 BFS \u6267\u884c\u5b8c\u6bd5</p> <p>\u6240\u4ee5\u8be5\u56fe\u7684 BFS \u987a\u5e8f\u4e3a \\(v_0\\) -&gt; \\(v_1\\) -&gt; \\(v_3\\) -&gt; \\(v_5\\) -&gt; \\(v_6\\) -&gt; \\(v_4\\) -&gt; \\(v_2\\)\u3002</p>"},{"location":"408/DataStructure/8-%E5%9B%BE2/#_20","title":"\u961f\u5217","text":"<p>BFS \u9700\u8981\u501f\u52a9\u961f\u5217\u5b9e\u73b0\uff0c\u4e0b\u9762\u662f\u961f\u5217\u7684\u4ee3\u7801\uff1a</p> LinkQueue.hLinkQueue.c <pre><code>// LinkQueue.h\n#ifndef LINK_QUEUE_H_INCLUDED\n#define LINK_QUEUE_H_INCLUDED\n#include \"GraphModel.h\"\n\ntypedef Vertex Element;\n\n// \u7ed3\u70b9\ntypedef struct QueueNode {\n    Element data;\n    struct QueueNode* next;\n} QueueNode;\n\n// \u961f\u5217\ntypedef struct {\n    QueueNode* front;\n    QueueNode* rear;\n} LinkedQueue;\n\nStatus InitLinkedQueue(LinkedQueue* q);\nStatus EnQueue(LinkedQueue* q, Element e);\nStatus DeQueue(LinkedQueue* q, Element* e);\nbool isEmptyQueue(LinkedQueue* q);\nvoid PrintLinkedQueue(LinkedQueue* q);\n\n#endif // LINK_QUEUE_H_INCLUDED\n</code></pre> <pre><code>// LinkQueue.c\n#include \"LinkQueue.h\"\n\nStatus InitLinkedQueue(LinkedQueue* q)\n{\n    q-&gt;front = NULL;\n    q-&gt;rear = NULL;\n    return OK;\n}\n\nStatus EnQueue(LinkedQueue* q, Element e)\n{\n    QueueNode* new = malloc(sizeof(QueueNode));\n    new-&gt;data = e;\n    new-&gt;next = NULL;\n\n    if (isEmptyQueue(q)) { // \u5904\u7406\u7a7a\u961f\u60c5\u51b5\n        q-&gt;front = q-&gt;rear = new;\n        return OK;\n    } else { // \u5904\u7406\u975e\u7a7a\u961f\u60c5\u51b5\n        q-&gt;rear-&gt;next = new; // \u539f\u961f\u5c3e\u7ed3\u70b9\u7684next\u6307\u5411\u65b0\u7ed3\u70b9\n        q-&gt;rear = new; // \u66f4\u65b0\u961f\u5c3e\u6307\u9488\n        return OK;\n    }\n    return ERROR;\n}\n\nStatus DeQueue(LinkedQueue* q, Element* e)\n{\n    if (isEmptyQueue(q)) { // \u7a7a\u961f\u76f4\u63a5\u8fd4\u56de\n        e = NULL;\n        return OK;\n    }\n\n    if (q-&gt;front == q-&gt;rear) { // \u5904\u7406\u961f\u4e2d\u53ea\u6709\u4e00\u4e2a\u7ed3\u70b9\u7684\u60c5\u51b5\n        *e = q-&gt;front-&gt;data;\n        free(q-&gt;front);\n        q-&gt;front = q-&gt;rear = NULL;\n        return OK;\n    }\n    // \u5904\u7406\u961f\u4e2d\u4e0d\u6b62\u4e00\u4e2a\u7ed3\u70b9\u7684\u60c5\u51b5\n    QueueNode* del = q-&gt;front; // \u6807\u8bb0\u961f\u5934\u7ed3\u70b9\n    q-&gt;front = del-&gt;next; // \u961f\u5934\u6307\u9488\u6307\u5411\u4e0b\u4e00\u4e2a\u7ed3\u70b9\n    *e = del-&gt;data; // \u53d6\u6570\u636e\n    free(del); // \u5220\u9664\u539f\u961f\u5934\u7ed3\u70b9\n    del = NULL;\n    return OK;\n}\n\nbool isEmptyQueue(LinkedQueue* q)\n{\n    return q-&gt;front == NULL || q-&gt;rear == NULL;\n}\n\nvoid PrintLinkedQueue(LinkedQueue* q)\n{\n    if (isEmptyQueue(q)) {\n        printf(\"Queue Empty\");\n    }\n\n    QueueNode* p = q-&gt;front;\n    while (p) {\n        printf(\"\\t%s \", p-&gt;data);\n        p = p-&gt;next;\n    }\n}\n</code></pre>"},{"location":"408/DataStructure/8-%E5%9B%BE2/#bfs_1","title":"\u90bb\u63a5\u77e9\u9635\u7684 BFS","text":"<pre><code>/** BFS begin */\nvoid BFSTraverse_AMG(MatrixGraph* G)\n{\n    for (int i = 0; i &lt; G-&gt;v_count; i++)\n        visited[i] = UNVISITED;\n\n    // \u5faa\u73af\u904d\u5386\u6bcf\u4e2a\u9876\u70b9\n    for (int i = 0; i &lt; G-&gt;v_count; i++)\n        if (!visited[i]) // \u5982\u679c\u6ca1\u6709\u8bbf\u95ee\u8fc7\u5c31\u904d\u5386\u8bbf\u95ee\n            BFS_AMG(G, i);\n}\n\nvoid BFS_AMG(MatrixGraph* G, int index)\n{\n    printf(\"-&gt; %s \", G-&gt;vexes[index]);    // \u8bbf\u95ee\u9876\u70b9\n    visited[index] = VISITED;             // \u66f4\u6539\u8bbf\u95ee\u72b6\u6001\n\n    LinkQueue queue;\n    InitLinkedQueue(&amp;queue);            // \u521d\u59cb\u5316\u961f\u5217\n    EnQueue(&amp;queue, G-&gt;vexes[index]);   // \u5f53\u524d\u9876\u70b9\u5165\u961f\uff0c\u5bf9\u5e94\u4e0a\u56fe\u4e2d\u7b2c\u4e00\u6b65\u7684 v0 \u5165\u961f\n    while (!isEmptyQueue(&amp;queue)) {    // \u53d6\u51fa\u961f\u5934\u5143\u7d20\uff0c\u904d\u5386\u961f\u5934\u9876\u70b9\u7684\u6240\u6709\u90bb\u63a5\u70b9\n\n        Vertex vex;\n        DeQueue(&amp;queue, &amp;vex);     // \u53d6\u51fa\u7684\u961f\u5934\u9876\u70b9\n        // \u83b7\u53d6\u8be5\u9876\u70b9\u7684\u6240\u6709\u90bb\u63a5\u70b9\n        for (int i = FirstAdjVex_AMG(G, vex); i; i = SecondAdjVex_AMG(G, vex, G-&gt;vexes[i])) {\n            if (!visited[i]) {\n                printf(\"-&gt; %s \", G-&gt;vexes[i]);    // \u9047\u5230\u9876\u70b9\u7684\u90bb\u63a5\u70b9\u5148\u8bbf\u95ee\n                visited[i] = VISITED;\n                EnQueue(&amp;queue, G-&gt;vexes[i]);     // \u518d\u5165\u961f\n            }\n        }\n\n    }\n}\n\nint FirstAdjVex_AMG(MatrixGraph* G, Vertex v)\n{\n    int defaultWeight = G-&gt;kind &lt;= 1 ? 0 : INT_MAX; // \u56fe/\u7f51 \u7684\u9ed8\u8ba4\u6743\u91cd\n\n    int vex_index = LocateVex(G, v); // \u83b7\u53d6\u9876\u70b9\u4e0b\u6807\n    if (vex_index == -1)\n        return ERROR;\n\n    // \u641c\u7d22\u56fe\u7684\u90bb\u63a5\u77e9\u9635\u4e2d\u57df\u9876\u70b9v\u7684\u7b2c\u4e00\u4e2a\u90bb\u63a5\u70b9\u4e0b\u6807\n    for (int j = 0; j &lt; G-&gt;v_count; j++)\n        if (G-&gt;matrix[vex_index][j] != defaultWeight)\n            return j;\n\n    return 0;\n}\n\nint SecondAdjVex_AMG(MatrixGraph* G, Vertex v1, Vertex v2)\n{\n    int defaultWeight = G-&gt;kind &lt;= 1 ? 0 : INT_MAX; // \u56fe/\u7f51 \u7684\u9ed8\u8ba4\u6743\u91cd\n    int index1 = LocateVex(G, v1);\n    int index2 = LocateVex(G, v2);\n    if (index1 == -1 || index2 == -1)\n        return 0;\n\n    for (int i = index2 + 1; i &lt; G-&gt;v_count; i++)\n        if (G-&gt;matrix[index1][i] != defaultWeight)\n            return i;\n\n    return 0;\n}\n/** BFS end */\n</code></pre>"},{"location":"408/DataStructure/8-%E5%9B%BE2/#bfs_2","title":"\u90bb\u63a5\u8868\u7684 BFS","text":"<p>\u6309\u7406\u6765\u8bf4\u90bb\u63a5\u77e9\u9635\u7684 BFS \u548c\u90bb\u63a5\u8868\u7684 BFS \u5e94\u8be5\u662f\u4e00\u6837\u7684\uff0c\u81f3\u5c11\u5728\u65e0\u5411\u56fe\u4e2d\u662f\u4e00\u6837\u7684\u3002 \u4f46\u662f\u5982\u679c\u90bb\u63a5\u8868\u662f\u7528\u7684\u5934\u63d2\u6cd5\uff0c\u90a3\u53ef\u80fd\u7ed3\u679c\u662f\u4e0d\u4e00\u6837\u7684</p> <pre><code>void BFSTraverse_ALG(AdjListGraph* G)\n{\n    for (int i = 0; i &lt; G-&gt;v_count; i++)    // \u521d\u59cb\u5316\u72b6\u6001\u6570\u7ec4\n        visited[i] = UNVISITED;\n\n    for (int i = 0; i &lt; G-&gt;v_count; i++)    // \u904d\u5386\u9876\u70b9\u6570\u7ec4\uff0c\u9010\u4e00\u5bf9\u6bcf\u4e00\u4e2a\u672a\u8bbf\u95ee\u7684\u9876\u70b9\u6267\u884c BFS\n        if (!visited[i])\n            BFS_ALG(G, i);\n}\n\nvoid BFS_ALG(AdjListGraph* G, int index)\n{\n    printf(\"-&gt; %s \", G-&gt;vexes[index].data);    // \u8bbf\u95ee\u9876\u70b9\n    visited[index] = VISITED;                  // \u66f4\u6539\u9876\u70b9\u72b6\u6001\n\n    LinkQueue queue;\n    InitLinkedQueue(&amp;queue);\n    EnQueue(&amp;queue, G-&gt;vexes[index].data);     // \u5f53\u524d\u9876\u70b9\u5165\u961f\n\n    while (!isEmptyQueue(&amp;queue)) {    // \u53d6\u51fa\u961f\u5934\u5143\u7d20\uff0c\u904d\u5386\u961f\u5934\u9876\u70b9\u7684\u6240\u6709\u90bb\u63a5\u70b9\n        Vertex vex;\n        DeQueue(&amp;queue, &amp;vex);    // \u53d6\u51fa\u961f\u5934\u5143\u7d20\n        // \u904d\u5386\u6240\u6709\u90bb\u63a5\u70b9\n        EdgeNode* node = G-&gt;vexes[LocateVex_ADJ(G, vex)].firstEdge;\n        while (node) {\n            if (!visited[node-&gt;adjvex]) {\n                printf(\"-&gt; %s \", G-&gt;vexes[node-&gt;adjvex].data);    // \u90bb\u63a5\u70b9\u5148\u8bbf\u95ee\n                visited[node-&gt;adjvex] = VISITED;\n                EnQueue(&amp;queue, G-&gt;vexes[node-&gt;adjvex].data);    // \u518d\u5165\u961f\n            }\n            node = node-&gt;nextEdge;\n        }\n    }\n}\n</code></pre>"},{"location":"408/DataStructure/8-%E5%9B%BE2/#_21","title":"\u65f6\u95f4\u590d\u6742\u5ea6","text":"<p>\u5728\u904d\u5386\u56fe\u65f6\uff0c\u6bcf\u4e2a\u9876\u70b9\u6700\u591a\u8fdb\u4e00\u6b21\u961f\u5217\uff0c\u904d\u5386\u56fe\u7684\u8fc7\u7a0b\u5b9e\u8d28\u4e0a\u662f\u901a\u8fc7\u8fb9\u6216\u5f27\u627e\u90bb\u63a5\u70b9\u7684\u8fc7\u7a0b\u3002 \u56e0\u6b64\uff0c\u5e7f\u5ea6\u4f18\u5148\u641c\u7d22\u3001\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\uff0c\u5728\u904d\u5386\u56fe\u65f6\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f\u76f8\u540c\u7684\u3002</p>"},{"location":"408/DataStructure/8-%E5%9B%BE2/#_22","title":"\u603b\u7ed3","text":"<ol> <li> <p>\u5b58\u50a8\u7ed3\u6784\uff1a</p> <ul> <li>\u90bb\u63a5\u77e9\u9635\uff1a\u4e00\u7ef4\u6570\u7ec4\u5b58\u50a8\u9876\u70b9\u96c6+\u4e8c\u7ef4\u6570\u7ec4\u5b58\u50a8\u8fb9/\u5f27</li> <li>\u90bb\u63a5\u8868\uff1a\u4e00\u7ef4\u6570\u7ec4\u5b58\u50a8\u9876\u70b9\u96c6+\u5355\u94fe\u8868\u5b58\u50a8\u8fb9/\u5f27<ul> <li>\u51fa\u8fb9\u8868\uff1a\u94fe\u8868\u7684\u7ed3\u70b9\u5b58\u50a8\u7684\u662f\u5f27\u5934\u7684\u4e0b\u6807</li> <li>\u5165\u8fb9\u8868\uff1a\u94fe\u8868\u7684\u7ed3\u70b9\u5b58\u50a8\u7684\u662f\u5f27\u5c3e\u7684\u4e0b\u6807</li> </ul> </li> <li>\u5341\u5b57\u94fe\u8868\uff1a\u5c06\u51fa\u8fb9\u8868\u548c\u5165\u8fb9\u8868\u6574\u5408\u8d77\u6765\uff0c\u4e3b\u8981\u9488\u5bf9\u6709\u5411\u56fe</li> <li>\u90bb\u63a5\u591a\u91cd\u8868\uff1a\u5c06\u6240\u6709\u8fb9\u94fe\u7684\u7ed3\u70b9\u6574\u5408\u8d77\u6765\uff0c\u53bb\u9664\u91cd\u590d\u7684\u7ed3\u70b9\uff0c\u4e3b\u8981\u9488\u5bf9\u65e0\u5411\u56fe</li> <li>\u8fb9\u96c6\u6570\u7ec4\uff1a\u4e00\u7ef4\u6570\u7ec4\u5b58\u50a8\u9876\u70b9\u96c6+\u4e00\u7ef4\u6570\u7ec4\u5b58\u50a8\u8fb9\u96c6\uff0c\u5173\u6ce8\u7684\u662f\u8fb9</li> </ul> </li> <li> <p>\u56fe\u7684\u904d\u5386\uff1a</p> <ul> <li>\u6df1\u5ea6\u4f18\u5148\u641c\u7d22 DFS \u548c \u5e7f\u5ea6\u4f18\u5148\u641c\u7d22 BFS \u662f\u56fe\u7684\u6700\u57fa\u672c\u7684\u904d\u5386\u65b9\u5f0f\u3002</li> <li>DFS \u662f\u4eff\u6811\u7684\u524d\u5e8f\u904d\u5386\uff0c\u5229\u7528\u6808\u505a\u8f85\u52a9\uff0c\u5177\u4f53\u5b9e\u73b0\u662f\u4e0d\u65ad\u5c06\u5f53\u524d\u9876\u70b9\u7684\u7b2c\u4e00\u4e2a\u672a\u8bbf\u95ee\u90bb\u63a5\u70b9\u62ff\u53bb\u9012\u5f52\u3002</li> <li>BFS \u662f\u4eff\u6811\u7684\u5c42\u5e8f\u904d\u5386\uff0c\u5229\u7528\u961f\u5217\u505a\u8f85\u52a9\uff0c\u5177\u4f53\u5b9e\u73b0\u662f\u6bcf\u5f53\u51fa\u961f\u4e00\u4e2a\u5143\u7d20\u65f6\uff0c\u5c31\u8bbf\u95ee\u5176\u6240\u6709\u672a\u8bbf\u95ee\u4e14\u672a\u5165\u961f\u7684\u90bb\u63a5\u70b9\uff0c\u5e76\u5c06\u8fd9\u4e9b\u90bb\u63a5\u70b9\u5165\u961f\u3002</li> <li>\u4f7f\u7528\u90bb\u63a5\u77e9\u9635\u5b58\u50a8\u548c\u4f7f\u7528\u90bb\u63a5\u8868\u5b58\u50a8\u7684\u56fe\u5728\u505a DFS \u6216 BFS \u65f6\u6ca1\u4ec0\u4e48\u533a\u522b\uff0c\u53ea\u4e0d\u8fc7\u90bb\u63a5\u77e9\u9635\u662f\u64cd\u4f5c\u4e8c\u7ef4\u6570\u7ec4\uff0c\u90bb\u63a5\u8868\u662f\u64cd\u4f5c\u94fe\u8868\u3002</li> </ul> </li> </ol> <ol> <li> <p>\u5bf9\u79f0\u77e9\u9635\uff1an \u9636\u77e9\u9635\u7684\u5143\u6ee1\u8db3 \\(a_{ij} = a_{ji}, (0 \\leq i, j \\leq n)\\)\uff0c\u5373\u4ece\u77e9\u9635\u5de6\u4e0a\u89d2\u5230\u53f3\u4e0b\u89d2\u7684\u4e3b\u5bf9\u89d2\u7ebf\u4e3a\u8f74\uff0c\u53f3\u4e0a\u89d2\u7684\u5143\u4e0e\u5de6\u4e0b\u89d2\u76f8\u5bf9\u5e94\u7684\u5143\u5b8c\u5168\u76f8\u7b49\u3002\u00a0\u21a9</p> </li> </ol>"},{"location":"408/DataStructure/9-%E5%9B%BE3/","title":"DataStruction 0x09 \u56fe-3","text":"<p>\u56fe\u7684\u5e94\u7528: \u6700\u5c0f\u751f\u6210\u6811\u3001\u6700\u77ed\u8def\u5f84\u3001\u62d3\u6251\u6392\u5e8f\u3001\u5173\u952e\u8def\u5f84</p>","tags":["\u6570\u636e\u7ed3\u6784","DataStruction"]},{"location":"408/DataStructure/9-%E5%9B%BE3/#9-3","title":"9-\u56fe3","text":"<p>\u56fe\u5728\u73b0\u5b9e\u4e2d\u6709\u7740\u8bb8\u591a\u7684\u5e94\u7528\uff0c\u5e2e\u52a9\u4eba\u4eec\u89e3\u51b3\u4e86\u8bb8\u591a\u95ee\u9898\uff0c\u540c\u65f6\u56fe\u7684\u5e94\u7528\u4e5f\u662f\u6bd4\u8f83\u6666\u6da9\u96be\u61c2\u7684\u5730\u65b9\u3002</p> <p>\u672c\u6587\u56fe\u7684\u5e94\u7528\u5171\u6709\uff1a - \u6700\u5c0f\u751f\u6210\u6811 - \u6700\u77ed\u8def\u5f84\u6cd5 - \u62d3\u6251\u6392\u5e8f - \u5173\u952e\u8def\u5f84</p> <p>\u4ece\u56fe\u7ed3\u6784\u7684\u89d2\u5ea6\u770b\uff0c\u56fe\u7684\u5e94\u7528\u6709\u4e24\u79cd\uff1a\u4e00\u79cd\u7684\u89e3\u51b3\u65e0\u5411\u56fe\u7684\uff0c\u4e00\u79cd\u662f\u89e3\u51b3\u6709\u5411\u56fe\u7684\u3002 \u66f4\u8be6\u7ec6\u7684\u770b\uff1a - \u6700\u5c0f\u751f\u6210\u6811\u4f7f\u7528\u7684\u662f\u8d2a\u5fc3\u7b97\u6cd5\uff0c\u5f97\u5230\u7684\u662f\u5c40\u90e8\u6700\u4f18\u89e3\uff0c\u6709\u53ef\u80fd\u5f97\u5230\u7684\u4e0d\u662f\u5168\u5c40\u6700\u4f18\u89e3 - \u6700\u77ed\u8def\u5f84\u6cd5\u4f7f\u7528\u7684\u662f\u52a8\u6001\u89c4\u5212\uff0c\u5f97\u5230\u7684\u662f\u5168\u5c40\u6700\u4f18\u89e3 - \u62d3\u6251\u6392\u5e8f\u5173\u6ce8\u7684\u662f\u70b9 - \u5173\u952e\u8def\u5f84\u5173\u6ce8\u7684\u662f\u8fb9</p> <p>\u63a5\u4e0b\u6765\u6bcf\u8bb2\u4e00\u4e2a\u5e94\u7528\u4e4b\u524d\u6211\u4f1a\u5148\u4e3e\u4e00\u4e2a\u573a\u666f\uff0c\u8fd9\u6837\u5b66\u4e60\u7684\u65f6\u5019\u624d\u4e0d\u81f3\u4e8e\u4e0d\u77e5\u9053\u7528\u6765\u5e72\u561b\u7684\u3002</p>","tags":["\u6570\u636e\u7ed3\u6784","DataStruction"]},{"location":"408/DataStructure/9-%E5%9B%BE3/#minimum-spanning-tree","title":"\u6700\u5c0f\u751f\u6210\u6811 Minimum Spanning Tree","text":"","tags":["\u6570\u636e\u7ed3\u6784","DataStruction"]},{"location":"408/DataStructure/9-%E5%9B%BE3/#_1","title":"\u5e94\u7528\u573a\u666f","text":"<p>\u5047\u8bbe\u73b0\u5728\u6709 \u5317\u3001\u4e0a\u3001\u5e7f\u3001\u6df1\u3001\u676d\u3001\u53a6 \u51e0\u4e2a\u57ce\u5e02\uff0c\u4ed6\u4eec\u4e4b\u95f4\u8981\u5efa\u7acb\u901a\u4fe1\u8054\u7edc\u7f51\u3002 \u4e00\u5171\u6709 6 \u4e2a\u57ce\u5e02\uff0c\u4ed6\u4eec\u4e4b\u95f4\u6700\u5c11\u53ea\u9700\u8981 6 - 1 = 5 \u6761\u901a\u4fe1\u7ebf\u8def\u5373\u53ef\u8fde\u901a\u3002 \u4f46\u662f\u5404\u4e2a\u57ce\u5e02\u4e4b\u95f4\u7684\u8ddd\u79bb\u662f\u4e0d\u540c\u7684\uff0c\u8ddd\u79bb\u8d8a\u8fdc\uff0c\u5efa\u7acb\u8d39\u7528\u8d8a\u9ad8\uff08\u5373\u8ddd\u79bb\u548c\u8d39\u7528\u6210\u6b63\u6bd4\uff09\u3002 \u6240\u4ee5\uff0c\u95ee\u9898\u5c31\u662f\uff1a\u600e\u4e48\u6837\u8ba9\u8fd9 6 \u4e2a\u57ce\u5e02\u5efa\u7acb\u8d77\u901a\u4fe1\u8054\u7edc\u7f51\uff0c\u5e76\u4e14\u5efa\u7acb\u8d39\u7528\u6700\u4f4e\uff1f</p> <p>\u7b54\u6848\u662f\u4f7f\u7528\u6700\u5c0f\u751f\u6210\u6811\u3002</p> <p></p>","tags":["\u6570\u636e\u7ed3\u6784","DataStruction"]},{"location":"408/DataStructure/9-%E5%9B%BE3/#_2","title":"\u7406\u89e3","text":"<p>\u8981\u7406\u89e3\u6700\u5c0f\u751f\u6210\u6811\uff0c\u53ef\u4ee5\u4ece**\u6700\u5c0f**\u548c**\u6811**\u53bb\u7406\u89e3\u3002</p> <p>\u5148\u7406\u89e3\u300c\u6811\u300d\uff1a \u9996\u5148\uff0c\u751f\u6210\u6811\u662f\u4e00\u9897\u6811\uff0c\u90a3\u4e48\u4e00\u5806\u9876\u70b9\u8981\u751f\u6210\u4e00\u68f5\u6811\uff0c\u5c31\u4e0d\u80fd\u6709\u73af \u5176\u6b21\uff0c\u6bcf\u4e2a\u9876\u70b9\u90fd\u4e0d\u80fd\u843d\u4e0b\uff0c\u6240\u4ee5\u8fd9\u4e9b\u9876\u70b9\u5f97\u7ec4\u6210\u4e00\u4e2a\u8fde\u901a\u56fe</p> <p></p> <p>\u63a5\u7740\u7406\u89e3\u300c\u6700\u5c0f\u300d\uff1a \u4e00\u5f20\u7f51\uff0c\u4e5f\u5c31\u662f\u8def\u5f84\u4e0a\u5e26\u6743\u503c\u7684\u56fe\uff0c\u53ef\u4ee5\u6709\u5f88\u591a\u751f\u6210\u6811\uff0c\u800c\u6700\u5c0f\u751f\u6210\u6811\u5219\u662f\uff1a\u6240\u6709\u751f\u6210\u6811\u91cc\u8def\u5f84\u6743\u503c\u603b\u548c\u6700\u5c0f\u7684\u4e00\u9897\u751f\u6210\u6811\u3002</p>","tags":["\u6570\u636e\u7ed3\u6784","DataStruction"]},{"location":"408/DataStructure/9-%E5%9B%BE3/#prim","title":"\u666e\u91cc\u59c6\u7b97\u6cd5 (Prim)","text":"<p>\u4ece\u4efb\u4e00\u9876\u70b9\u51fa\u53d1\uff0c\u5c06\u5176\u52a0\u5165\u5df2\u9009\u9876\u70b9\u6570\u7ec4\u3001\u5176\u90bb\u63a5\u7684\u8fb9\u52a0\u5165\u5907\u9009\u8fb9\u6570\u7ec4\uff1b \u9009\u53d6\u8be5\u9876\u70b9\u6743\u503c\u6700\u5c0f\u7684\u4e00\u6761\u8fb9\uff0c\u6240\u8fde\u63a5\u7684\u9876\u70b9\u4e5f\u52a0\u5165\u5df2\u9009\u9876\u70b9\u6570\u7ec4\uff0c\u5e76\u5c06\u8be5\u8fb9</p>","tags":["\u6570\u636e\u7ed3\u6784","DataStruction"]},{"location":"408/DataStructure/9-%E5%9B%BE3/#kruskal","title":"\u514b\u9c81\u65af\u5361\u5c14\u7b97\u6cd5 (Kruskal)","text":"<p>\u514b\u9c81\u65af\u5361\u5c14\u7b97\u6cd5\u9002\u5408\u6c42 \u7a00\u758f\u7f51 \u7684\u6700\u5c0f\u751f\u6210\u6811\u3002</p> <p>\u514b\u9c81\u65af\u5361\u5c14\u7b97\u6cd5\u7684\u505a\u6cd5\u662f\u5c06\u6bcf\u4e00\u6761\u8fb9\u548c\u6743\u503c\u5b58\u50a8\u5230\u6570\u7ec4\u4e2d\uff0c\u7136\u540e 1. \u8fdb\u884c\u4e00\u6b21\u4ece\u5c0f\u5230\u5927\u7684\u6392\u5e8f\u3002 2. \u4ece\u6700\u5c0f\u7684\u8fb9\u5f00\u59cb\uff0c\u5c06\u8fb9\u653e\u7f6e\u5230\u9876\u70b9\u4e0a\u3002\u653e\u7f6e\u524d\u5224\u65ad\u662f\u5426\u4ea7\u751f\u73af\uff1a    1. \u662f\uff1a\u8df3\u8fc7\u8fd9\u6761\u8fb9    2. \u5426\uff1a\u653e\u7f6e\u8fd9\u6761\u8fb9 3. \u91cd\u590d\u6b65\u9aa4 1</p> <p>\u603b\u5171\u653e\u7f6e\u9876\u70b9\u603b\u6570 - 1 \u6b21\u5373\u53ef\u3002</p> <pre><code>typedef struct {\n    Vertex a, b;\n    int Weight;\n} Edge;\n\nEdge net[];\n\nvoid Kruskal() {\n    sort(net);\n    int n = 0;\n    for (size_t i = 0; i &lt; len(net); i++) {\n        if (n &gt; VertexCount-1) break;\n\n        if (isCycle(net[i].a)) {\n            continue\n         } else {\n            addEdge(net[i]);\n            n++;\n         }\n    }\n}\n</code></pre> <p>\u5148\u5c06\u6bcf\u6761\u8fb9\u548c\u5176\u6743\u503c\u5b58\u50a8\u5230\u6570\u7ec4\u91cc\uff0c\u505a\u4e00\u4e2a\u4ece\u5c0f\u5230\u5927\u7684\u6392\u5e8f \u904d\u5386\u6570\u7ec4\uff0c\u5224\u65ad\u662f\u5426\u4ea7\u751f\u73af     \u662f\uff1a\u5220\u9664\u8be5\u8fb9     \u5426\uff1a\u5c06\u8fb9\u653e\u5165\u56fe\u4e2d\uff0c\u8fdb\u5165\u4e0b\u4e00\u8f6e     \u5faa\u73af\u6b21\u6570\uff1a\u9876\u70b9\u603b\u6570 - 1</p>","tags":["\u6570\u636e\u7ed3\u6784","DataStruction"]},{"location":"408/DataStructure/9-%E5%9B%BE3/#_3","title":"\u6700\u77ed\u8def\u5f84","text":"<p><code>\u6700\u77ed\u8def\u5f84</code>\u548c<code>\u6700\u5c0f\u751f\u6210\u6811</code>\u90fd\u662f\u6c42\u51e0\u4e2a\u9876\u70b9\u4e4b\u95f4\u7684\u6700\u77ed\u7684\u8def\u5f84\uff0c\u533a\u522b\u5728\u4e8e\uff1a - <code>\u6700\u5c0f\u751f\u6210\u6811</code>\u7684\u601d\u60f3\u662f\u4f7f\u7528\u8d2a\u5fc3\u7b97\u6cd5\uff0c\u800c\u8d2a\u5fc3\u7b97\u6cd5\u80fd\u83b7\u5f97\u7684\u662f\u5c40\u90e8\u6700\u4f18\u89e3\uff0c\u4e0d\u4e00\u5b9a\u662f\u5168\u5c40\u6700\u4f18\u89e3 - <code>\u6700\u77ed\u8def\u5f84</code>\u7684\u601d\u60f3\u5219\u662f\u4f7f\u7528\u52a8\u6001\u89c4\u5212\uff0c\u800c\u52a8\u6001\u89c4\u5212\u80fd\u83b7\u5f97\u7684\u662f\u5168\u5c40\u6700\u4f18\u89e3</p>","tags":["\u6570\u636e\u7ed3\u6784","DataStruction"]},{"location":"408/DataStructure/9-%E5%9B%BE3/#dijkstra","title":"\u8fea\u6770\u65af\u7279\u62c9\u7b97\u6cd5 (Dijkstra)","text":"","tags":["\u6570\u636e\u7ed3\u6784","DataStruction"]},{"location":"408/DataStructure/9-%E5%9B%BE3/#floyd","title":"\u5f17\u6d1b\u4f0a\u5fb7\u7b97\u6cd5 (Floyd)","text":"","tags":["\u6570\u636e\u7ed3\u6784","DataStruction"]},{"location":"408/DataStructure/9-%E5%9B%BE3/#_4","title":"\u62d3\u6251\u6392\u5e8f","text":"","tags":["\u6570\u636e\u7ed3\u6784","DataStruction"]},{"location":"408/DataStructure/9-%E5%9B%BE3/#aov-activity-on-vertex-network","title":"AOV-\u7f51 (Activity On Vertex Network)","text":"","tags":["\u6570\u636e\u7ed3\u6784","DataStruction"]},{"location":"408/DataStructure/9-%E5%9B%BE3/#_5","title":"\u5173\u952e\u8def\u5f84","text":"","tags":["\u6570\u636e\u7ed3\u6784","DataStruction"]},{"location":"408/DataStructure/9-%E5%9B%BE3/#aoe-activity-on-edge-network","title":"AOE-\u7f51 (Activity On Edge Network)","text":"","tags":["\u6570\u636e\u7ed3\u6784","DataStruction"]},{"location":"408/NET/CSP-Header/","title":"CSP-Header","text":""},{"location":"408/NET/CSP-Header/#content-security-policy-csp","title":"Content Security Policy (CSP)","text":"<p>Reference</p> <p>https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/Content-Security-Policy</p>"},{"location":"408/NET/CSP-Header/#csp","title":"\u4ec0\u4e48\u662f CSP","text":"<p>\u5185\u5bb9\u5b89\u5168\u7b56\u7565 (CSP) \u662f\u4e00\u4e2a HTTP \u54cd\u5e94\u5934 (HTTP Response Header)\u3002</p> <p>\u5b83\u7684\u6838\u5fc3\u601d\u60f3\u662f\uff1a\u201c\u53ea\u4fe1\u4efb\u6211\u544a\u8bc9\u4f60\u7684\u5185\u5bb9\u6765\u6e90\u201d\u3002</p> <p>\u4f5c\u4e3a\u4e00\u4e2a\u7f51\u7ad9\u7684\u5f00\u53d1\u8005\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u53d1\u9001\u4e00\u4e2a\u540d\u4e3a Content-Security-Policy/Content-Security-Policy-Report-Only \u7684 HTTP \u5934\u90e8\uff0c\u6765\u544a\u8bc9\u6d4f\u89c8\u5668\u4e00\u4e2a\u201c\u767d\u540d\u5355\u201d\u3002\u8fd9\u4e2a\u767d\u540d\u5355\u7cbe\u786e\u5730\u5b9a\u4e49\u4e86\u54ea\u4e9b \u8d44\u6e90\uff08\u5982\u811a\u672c\u3001\u6837\u5f0f\u8868\u3001\u56fe\u7247\u3001\u5b57\u4f53\u7b49\uff09\u662f\u53ef\u4fe1\u7684\uff0c\u5e76\u5141\u8bb8\u88ab\u52a0\u8f7d\u548c\u6267\u884c\u3002</p> <p>\u5982\u679c\u6d4f\u89c8\u5668\u5728\u9875\u9762\u4e0a\u53d1\u73b0\u4e00\u4e2a\u8bd5\u56fe\u52a0\u8f7d\u7684\u8d44\u6e90\uff08\u6bd4\u5982\u4e00\u4e2a\u6765\u81ea <code>evil-attacker.com</code> \u7684\u811a\u672c\uff09\u4e0d\u5728\u8fd9\u4e2a\u767d\u540d\u5355\u4e0a\uff0c\u6d4f\u89c8\u5668\u5c06 \u62d2\u7edd\u52a0\u8f7d\u5e76\u6267\u884c \u5b83\u3002</p> <p>\u4e3b\u8981\u76ee\u7684\uff1a</p> <ul> <li>\u9632\u5fa1 XSS\uff1a \u5373\u4f7f\u653b\u51fb\u8005\u6210\u529f\u5730\u5411\u4f60\u7684\u9875\u9762\u6ce8\u5165\u4e86 <code>&lt;script&gt;</code> \u6807\u7b7e\uff0c\u5982\u679c\u8be5\u811a\u672c\u7684\u6765\u6e90\uff08\u6216\u5176\u672c\u8eab\uff09\u4e0d\u5728\u4f60\u7684 CSP \u767d\u540d\u5355\u4e2d\uff0c\u6d4f\u89c8\u5668\u4e5f\u4e0d\u4f1a\u6267\u884c\u5b83\u3002</li> <li>\u9632\u5fa1\u6570\u636e\u6ce8\u5165\uff1a \u9650\u5236\u53ef\u4ee5\u52a0\u8f7d\u7684\u5185\u5bb9\u7c7b\u578b\uff08\u4f8b\u5982\uff0c\u7981\u6b62 <code>&lt;img&gt;</code> \u6807\u7b7e\u52a0\u8f7d\u4e00\u4e2a\u6076\u610f\u811a\u672c\uff09\u3002</li> <li>\u9632\u6b62\u70b9\u51fb\u52ab\u6301 (Clickjacking)\uff1a \u901a\u8fc7\u7279\u5b9a\u6307\u4ee4\uff08<code>frame-ancestors</code>\uff09\u6765\u63a7\u5236\u4f60\u7684\u7f51\u7ad9\u662f\u5426\u53ef\u4ee5\u88ab\u5d4c\u5165\u5230\u5176\u4ed6\u7f51\u7ad9\u7684 <code>&lt;iframe&gt;</code> \u4e2d\u3002</li> </ul>"},{"location":"408/NET/CSP-Header/#_1","title":"\u5de5\u4f5c\u539f\u7406","text":"<ol> <li>\u670d\u52a1\u5668\u914d\u7f6e\uff1a \u7f51\u7ad9\u7ba1\u7406\u5458\u5728 Web \u670d\u52a1\u5668\uff08\u5982 Nginx, Apache\uff09\u6216\u540e\u7aef\u5e94\u7528\uff08\u5982 Node.js, Python\uff09\u4e2d\u914d\u7f6e\uff0c\u4e3a\u6240\u6709\uff08\u6216\u7279\u5b9a\uff09\u7684 HTTP \u54cd\u5e94\u6dfb\u52a0 <code>Content-Security-Policy</code> \u5934\u90e8\u3002</li> <li>\u6d4f\u89c8\u5668\u63a5\u6536\uff1a \u5f53\u7528\u6237\u8bbf\u95ee\u8be5\u7f51\u7ad9\u65f6\uff0c\u4ed6\u4eec\u7684\u6d4f\u89c8\u5668\u63a5\u6536\u5230\u8fd9\u4e2a HTTP \u54cd\u5e94\u5934\u548c\u5176\u4e2d\u5b9a\u4e49\u7684\u7b56\u7565\u3002</li> <li>\u6d4f\u89c8\u5668\u89e3\u6790\u4e0e\u6267\u884c\uff1a \u6d4f\u89c8\u5668\u4f1a\u9010\u5b57\u89e3\u6790\u8fd9\u4e2a\u7b56\u7565\u3002</li> <li>\u5185\u5bb9\u52a0\u8f7d\uff1a \u5f53\u6d4f\u89c8\u5668\u89e3\u6790 HTML \u5e76\u9700\u8981\u52a0\u8f7d\u8d44\u6e90\uff08\u5982 <code>&lt;script src=\"...\"&gt;, &lt;img src=\"...\"&gt;, &lt;link href=\"...\"&gt;</code> \u6216\u6267\u884c\u5185\u8054\u811a\u672c <code>&lt;script&gt;alert(1)&lt;/script&gt;</code>\uff09\u65f6\uff0c\u5b83\u4f1a\u6267\u884c\u4ee5\u4e0b\u68c0\u67e5\uff1a<ul> <li>\u68c0\u67e5\u6765\u6e90\uff1a \u8fd9\u4e2a\u8d44\u6e90\u7684 URL \u662f\u5426\u5728 CSP \u7b56\u7565\u7684\u76f8\u5e94\u6307\u4ee4\uff08\u5982 script-src, img-src\uff09\u7684\u767d\u540d\u5355\u4e2d</li> <li>\u68c0\u67e5\u5185\u8054\uff1a \u8fd9\u4e2a\u8d44\u6e90\u662f\u5185\u8054\uff08inline\uff09\u7684\u5417\uff1fCSP \u9ed8\u8ba4\u7981\u6b62\u6240\u6709\u5185\u8054\u811a\u672c\u548c\u6837\u5f0f\u3002</li> <li>\u68c0\u67e5 eval\uff1a \u662f\u5426\u6709\u4ee3\u7801\u5728\u5c1d\u8bd5\u4f7f\u7528 eval()\uff1fCSP \u9ed8\u8ba4\u4e5f\u7981\u6b62\u5b83\u3002</li> </ul> </li> <li>\u963b\u6b62\u6216\u5141\u8bb8\uff1a<ul> <li>\u5982\u679c\u5408\u89c4\uff1a \u8d44\u6e90\u88ab\u6b63\u5e38\u52a0\u8f7d\u548c\u6267\u884c\u3002</li> <li>\u5982\u679c\u8fdd\u89c4\uff1a \u6d4f\u89c8\u5668\u4f1a\u963b\u6b62\u8be5\u8d44\u6e90\uff0c\u5e76\u5728\u63a7\u5236\u53f0\uff08Console\uff09\u4e2d\u6253\u5370\u4e00\u4e2a\u8be6\u7ec6\u7684\u5b89\u5168\u8fdd\u89c4\u9519\u8bef\u3002</li> </ul> </li> <li>(\u53ef\u9009) \u62a5\u544a\uff1a \u5982\u679c CSP \u7b56\u7565\u4e2d\u5b9a\u4e49\u4e86 report-uri \u6216 report-to \u6307\u4ee4\uff0c\u6d4f\u89c8\u5668\u8fd8\u4f1a\u5c06\u8fd9\u6b21\u8fdd\u89c4\u884c\u4e3a\u7684\u8be6\u7ec6\u4fe1\u606f\uff08\u4ee5 JSON \u683c\u5f0f\uff09\u53d1\u9001\u5230\u4f60\u6307\u5b9a\u7684\u670d\u52a1\u5668\u5730\u5740\u3002\u8fd9\u5bf9\u4e8e\u76d1\u63a7\u6f5c\u5728\u7684\u653b\u51fb\u6216\u8c03\u8bd5\u7b56\u7565\u975e\u5e38\u6709\u5e2e\u52a9\u3002</li> </ol> <p>\u4f8b\u5982: \u4f60\u7684\u7f51\u7ad9\u53d1\u9001\u4e86\u4ee5\u4e0b CSP \u5934\u90e8\uff1a</p> <pre><code>Content-Security-Policy:\n    default-src 'self';\n    script-src 'self'\n        https://trusted.cdn.com;\n    img-src 'self' data:;\n</code></pre> <p>\u8fd9\u8868\u793a\uff1a</p> <ul> <li>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6240\u6709\u8d44\u6e90\u53ea\u80fd\u4ece\u540c\u6e90\uff08<code>'self'</code>\uff09\u52a0\u8f7d\u3002</li> <li>\u811a\u672c\u53ea\u80fd\u4ece\u540c\u6e90\u548c <code>https://trusted.cdn.com</code> \u52a0\u8f7d\u3002</li> <li>\u56fe\u7247\u53ef\u4ee5\u4ece\u540c\u6e90\u52a0\u8f7d\uff0c\u6216\u8005\u4f7f\u7528 data URI\u3002</li> <li>\u5982\u679c\u9875\u9762\u5c1d\u8bd5\u52a0\u8f7d\u4e00\u4e2a\u6765\u81ea <code>https://evil-attacker.com</code> \u7684\u811a\u672c\uff0c\u6d4f\u89c8\u5668\u4f1a\u963b\u6b62\u8fd9\u4e2a\u8bf7\u6c42\uff0c\u5e76\u5728\u63a7\u5236\u53f0\u4e2d\u8bb0\u5f55\u4e00\u6761 CSP \u8fdd\u89c4\u7684\u8b66\u544a\u3002 preview </li> </ul>"},{"location":"408/NET/CSP-Header/#csp-directives","title":"CSP \u6307\u4ee4(Directives)","text":"<p>CSP \u5934\u7531\u4e00\u4e2a\u6216\u591a\u4e2a \u6307\u4ee4(Directives) \u7ec4\u6210,\u6bcf\u4e2a\u6307\u4ee4\u4e4b\u95f4\u7528\u5206\u53f7(<code>;</code>)\u9694\u5f00.</p> <p>\u6bcf\u4e2a\u6307\u4ee4\u5305\u542b\u4e00\u4e2a\u6307\u4ee4\u540d\u548c\u4e00\u4e2a\u6216\u591a\u4e2a\u6e90\u503c (Source Values)\uff0c\u6e90\u503c\u4e4b\u95f4\u7528\u7a7a\u683c\u9694\u5f00\u3002</p> <p>\u57fa\u672c\u7ed3\u6784: </p> <pre><code>Content-Security-Policy: \n    &lt;directive-name&gt; &lt;source-value1&gt; &lt;source-value2&gt;; \n    &lt;directive-name2&gt; &lt;source-value3&gt;;\n</code></pre> <p>\u6307\u4ee4\u53ef\u4ee5\u5206\u4e3a\u591a\u79cd: </p> <ul> <li>Fetch directives(\u6293\u53d6\u6307\u4ee4)</li> <li>Document directives(\u6587\u6863\u6307\u4ee4)</li> <li>Navigation directives(\u5bfc\u822a\u6307\u4ee4)</li> <li>Reporting directives(\u62a5\u544a\u6307\u4ee4)</li> <li>Other diretctives(\u5176\u4ed6\u6307\u4ee4)</li> </ul>"},{"location":"408/NET/CSP-Header/#fetch-directives","title":"\ud83d\udcda \u7b2c\u4e00\u90e8\u5206\uff1a\u6293\u53d6\u6307\u4ee4 (Fetch Directives)","text":"<p>\u8fd9\u7c7b\u6307\u4ee4\u63a7\u5236\u7740 \u53ef\u4ee5\u52a0\u8f7d\u54ea\u4e9b\u7c7b\u578b\u7684\u8d44\u6e90 \u4ee5\u53ca \u4ece\u54ea\u91cc\u52a0\u8f7d\u3002\u5b83\u4eec\u662f CSP \u7684\u6838\u5fc3\uff0c\u4e5f\u662f\u5bf9\u6297 XSS \u7684\u4e3b\u8981\u9632\u7ebf\u3002</p> <ol> <li> <p><code>default-src</code> (\u9ed8\u8ba4\u6e90), \u8fd9\u662f CSP \u7684 \u57fa\u77f3\u548c\u56de\u9000 (Fallback) \u6307\u4ee4\u3002</p> <ul> <li>\u4f5c\u7528\uff1a\u4e3a\u6240\u6709\u5176\u4ed6\u672a\u660e\u786e\u8bbe\u7f6e\u7684\u6293\u53d6\u6307\u4ee4\uff08\u5982 <code>script-src</code>, <code>style-src</code> \u7b49\uff09\u63d0\u4f9b\u4e00\u4e2a\u9ed8\u8ba4\u503c\u3002</li> </ul> <p>Example</p> <pre><code>Content-Security-Policy:\n    default-src 'self' https://trusted.com;\n</code></pre> <p>\u89e3\u91ca\uff1a\u8fd9\u610f\u5473\u7740\uff0c\u5982\u679c\u4f60\u7684\u7b56\u7565\u91cc\u6ca1\u6709 <code>script-src</code>\uff0c\u90a3\u4e48\u6d4f\u89c8\u5668\u5c31\u4f1a\u4f7f\u7528 <code>default-src</code> \u7684\u503c\u6765\u9650\u5236\u811a\u672c\uff0c\u53ea\u5141\u8bb8\u52a0\u8f7d\u6765\u81ea <code>'self'</code> (\u540c\u6e90) \u548c <code>https://trusted.com</code> \u7684\u811a\u672c\u3002</p> </li> <li> <p><code>script-src</code> (\u811a\u672c\u6e90), \u8fd9\u662f CSP \u4e2d\u6700\u5173\u952e\u7684\u6307\u4ee4\uff0c\u662f\u9632\u6b62 XSS \u7684\u6838\u5fc3\u9632\u7ebf\u3002</p> <ul> <li>\u4f5c\u7528\uff1a \u5b9a\u4e49\u4e86\u54ea\u4e9b\u6765\u6e90\u7684 JavaScript \u811a\u672c\u53ef\u4ee5\u88ab\u6267\u884c\u3002</li> <li>\u6db5\u76d6\uff1a<ul> <li><code>&lt;script src=\"...\"&gt;</code> \u5916\u90e8\u811a\u672c\u3002</li> <li><code>&lt;script&gt;...&lt;/script&gt;</code> \u5185\u8054\u811a\u672c\u5757 (\u9ed8\u8ba4\u7981\u6b62)\u3002</li> <li>\u5185\u8054\u4e8b\u4ef6\u5904\u7406\u5668\uff0c\u5982 <code>onclick=\"\"</code> (\u9ed8\u8ba4\u7981\u6b62)\u3002</li> <li><code>eval()</code> \u548c <code>new Function()</code> \u7b49 (\u9ed8\u8ba4\u7981\u6b62)\u3002</li> </ul> </li> </ul> <p>Example</p> <pre><code>Content-Security-Policy:\n    script-src 'self' https://apis.google.com 'nonce-RANDOM123';\n</code></pre> <p>\u89e3\u91ca\uff1a \u8fd9\u5141\u8bb8\u811a\u672c\u6765\u81ea\uff1a\u540c\u6e90\u3001<code>apis.google.com</code>\u3001\u4ee5\u53ca <code>nonce</code> \u5c5e\u6027\u5339\u914d\u7684\u5185\u8054\u811a\u672c\u3002</p> </li> <li> <p><code>script-src-elem</code> (\u811a\u672c-\u5143\u7d20)</p> <ul> <li>\u4f5c\u7528\uff1a \u53ea\u63a7\u5236 <code>&lt;script&gt;</code> \u5143\u7d20\u3002</li> <li>\u6db5\u76d6\uff1a <ul> <li><code>&lt;script src=\"...\"&gt;</code> (\u5916\u90e8\u811a\u672c)</li> <li><code>&lt;script&gt;...&lt;/script&gt;</code> (\u5185\u8054\u811a\u672c\u5757)</li> </ul> </li> <li>\u4e0d\u6db5\u76d6\uff1a onclick \u7b49\u4e8b\u4ef6\u5904\u7406\u5668\u3002</li> </ul> </li> <li> <p><code>script-src-attr</code> (\u811a\u672c-\u5c5e\u6027)</p> <ul> <li>\u4f5c\u7528\uff1a \u53ea\u63a7\u5236\u5185\u8054\u4e8b\u4ef6\u5904\u7406\u5668\u5c5e\u6027\u3002</li> <li>\u6db5\u76d6\uff1a<ul> <li>\u6240\u6709 <code>on...</code> \u4e8b\u4ef6\u5904\u7406\u5668, \u5982<code>onclick=\"...\"</code>, <code>onmouseover=\"...\"</code></li> <li><code>javascript:</code> \u4f2a\u534f\u8bae\uff08\u4f8b\u5982 <code>href=\"javascript:alert(1)\"</code>\uff09\u3002</li> </ul> </li> <li>\u4e0d\u6db5\u76d6\uff1a <code>&lt;script&gt;</code> \u5143\u7d20\u3002</li> </ul> </li> </ol> \u56de\u9000 (Fallback) \u673a\u5236 <p>\u56de\u9000 (Fallback) \u673a\u5236 \u6d4f\u89c8\u5668\u5728\u5bfb\u627e\u4e00\u4e2a\u8d44\u6e90\u7684\u7b56\u7565\u65f6\uff0c\u4f1a\u6309\u987a\u5e8f\u68c0\u67e5\uff1a</p> <ol> <li>\u7279\u5b9a\u6307\u4ee4\uff1a \u6bd4\u5982\u52a0\u8f7d\u4e00\u4e2a\u811a\u672c\uff0c\u6d4f\u89c8\u5668\u4f1a\u5148\u627e <code>script-src</code>\u3002</li> <li>\u56de\u9000\u5230 <code>default-src</code>\uff1a \u5982\u679c <code>script-src</code> \u4e0d\u5b58\u5728\uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u53bb\u627e <code>default-src</code>\u3002</li> <li>\u9ed8\u8ba4\u5141\u8bb8\uff1a \u5982\u679c\u4e24\u8005\u90fd\u4e0d\u5b58\u5728\uff0c\u6d4f\u89c8\u5668\u4f1a\u9ed8\u8ba4\u5141\u8bb8\u6240\u6709\u6765\u6e90\uff08\u5373\u6ca1\u6709 CSP \u4fdd\u62a4\uff09\u3002</li> </ol> <code>script-src-elem</code> VS <code>script-src-attr</code> HTML \u4ee3\u7801\u793a\u4f8b \u5b83\u662f\u201c\u5143\u7d20\u201d\u8fd8\u662f\u201c\u5c5e\u6027\u201d\uff1f \u4f18\u5148\u63a7\u5236\u5b83\u7684\u6307\u4ee4 \u5982\u679c\u4f18\u5148\u6307\u4ee4\u4e0d\u5b58\u5728\uff0c\u56de\u9000\u7ed9\u8c01\uff1f A. <code>&lt;script src=\"https:\"//a.com/app.js\"&gt;&lt;/script&gt;</code> \u5143\u7d20 (Element) script-src-elem script-src B. <code>&lt;script&gt;alert(1);&lt;/script&gt;</code> \u5143\u7d20 (Element) script-src-elem script-src C. <code>&lt;button onclick=\"doWork();\"&gt;</code> \u5c5e\u6027 (Attribute) script-src-attr script-src D. <code>&lt;div onmouseover=\"showTip();\"&gt;&lt;/div&gt;</code> \u5c5e\u6027 (Attribute) script-src-attr script-src E. <code>&lt;a href=\"javascript:alert(1)\"&gt;</code> \u5c5e\u6027 (Attribute) script-src-attr script-src F. <code>eval()</code> script-src default-src <ol> <li><code>connect-src</code> (\u8fde\u63a5\u6e90)<ul> <li>\u4f5c\u7528\uff1a \u5b9a\u4e49\u4e86\u811a\u672c\uff08\u5982 <code>fetch</code>, <code>XHR</code>, <code>WebSocket</code>\uff09\u53ef\u4ee5\u8fde\u63a5\u5230\u7684 URL\u3002</li> <li>\u6db5\u76d6\uff1a <code>fetch()</code>, <code>XMLHttpRequest</code>, <code>WebSocket</code>, <code>EventSource</code>\u3002</li> <li>\u793a\u4f8b\uff1a <code>connect-src 'self' https://api.my-service.com wss://chat.my-service.com;</code></li> </ul> </li> </ol> <code>script-src</code> VS <code>connect-src</code> <ul> <li><code>script-src</code> \u662f\u7ba1\u63a7 \u6765\u81ea\u54ea\u91cc\u7684\u811a\u672c\u80fd\u8fd0\u884c, \u5728\u9875\u9762\u52a0\u8f7d\u671f\u95f4\u68c0\u67e5</li> <li><code>connect-src</code> \u662f\u7ba1\u63a7 \u8fd0\u884c\u7684\u4ee3\u7801\u80fd\u548c\u54ea\u91cc\u901a\u4fe1, \u5728\u9875\u9762\u52a0\u8f7d\u5b8c\u6bd5, \u8981\u53d1\u8bf7\u6c42\u524d\u68c0\u67e5</li> </ul> <p><code>script-src</code> \u5c31\u50cf\u4f60\u7684\u53a8\u623f(\u7f51\u9875)\u5141\u8bb8\u54ea\u91cc\u6765\u7684\u53a8\u5e08(\u4ee3\u7801)\u8fdb\u6765\u5e72\u6d3b(\u6267\u884c), \u662f \"\u51c6\u5165\u8bb8\u53ef\", \u7528\u4e8e\u9632\u6b62\u6076\u610f\u4ee3\u7801\u88ab\u6267\u884c</p> <p><code>connect-src</code> \u5c31\u50cf\u53a8\u623f(\u7f51\u9875)\u91cc\u7684\u53a8\u5e08(\u811a\u672c)\u5141\u8bb8\u548c\u54ea\u4e9b\u98df\u6750\u4f9b\u5e94\u5546(\u8fde\u63a5\u6e90)\u901a\u4fe1, \u662f\"\u901a\u4fe1\u8bb8\u53ef\", \u7528\u4e8e\u9632\u6b62\u5df2\u8fd0\u884c\u7684\u4ee3\u7801\u5c06\u6570\u636e\u6cc4\u9732\u5230\u6076\u610f\u670d\u52a1\u5668, \u6216\u4ece\u6076\u610f\u670d\u52a1\u5668\u83b7\u53d6\u6570\u636e.</p> <p>Example</p> <p>\u5047\u8bbe\u4f60\u7684\u7f51\u7ad9 <code>my-website.com</code> \u60f3\u4f7f\u7528\u8c37\u6b4c\u5206\u6790, \u4f46\u662f\u4f60\u8fd9\u4e48\u914d\u7f6e:</p> <pre><code>Content-Security-Policy:\n    script-src 'self' https://www.google-analytics.com;\n    connect-src 'self';\n</code></pre> <p>\u90a3\u4e48:</p> <ol> <li>\u9636\u6bb5\u4e00: \u52a0\u8f7d(\u53d7 <code>script-src</code> \u7ba1\u63a7)<ul> <li>\u6d4f\u89c8\u5668\u770b\u5230 <code>&lt;script src=\"https://www.google-analytics.com/analytics.js\"&gt;</code>\u3002</li> <li>\u6d4f\u89c8\u5668\u68c0\u67e5 <code>script-src</code> \u7b56\u7565\uff1a<code>https://www.google-analytics.com</code> \u5728\u767d\u540d\u5355\u91cc\u3002</li> <li>\u7ed3\u679c\uff1a \u2705 \u811a\u672c\u6210\u529f\u52a0\u8f7d\u5e76\u6267\u884c\u3002</li> </ul> </li> <li>\u9636\u6bb5\u4e8c\uff1a\u8fd0\u884c (\u53d7 <code>connect-src</code> \u7ba1\u63a7)<ul> <li><code>analytics.js</code> \u811a\u672c\u5f00\u59cb\u8fd0\u884c\u3002\u5b83\u6536\u96c6\u7528\u6237\u4fe1\u606f\uff0c\u7136\u540e\u5c1d\u8bd5\u6253\u5305\u6570\u636e\uff0c\u901a\u8fc7\u4e00\u4e2a <code>fetch</code> (\u6216 <code>XHR</code>) \u8bf7\u6c42\u5c06\u5176\u53d1\u9001\u5230\u8c37\u6b4c\u7684\u6536\u96c6\u670d\u52a1\u5668\uff08\u4f8b\u5982 <code>https://stats.g.doubleclick.net</code> \u6216\u5176\u4ed6 <code>google.com</code> \u7684\u5b50\u57df\u540d\uff09\u3002</li> <li>\u6d4f\u89c8\u5668\u68c0\u67e5 <code>connect-src</code> \u7b56\u7565\uff1a<code>https://stats.g.doubleclick.net</code> \u4e0d\u5728\u767d\u540d\u5355\u91cc (\u767d\u540d\u5355\u91cc\u53ea\u6709 <code>'self'</code>)\u3002</li> <li>\u7ed3\u679c\uff1a \u274c \u7f51\u7edc\u8bf7\u6c42\u88ab\u963b\u6b62\u3002</li> </ul> </li> </ol> <p>\u6700\u7ec8\u7ed3\u679c\uff1a \u8c37\u6b4c\u5206\u6790\u7684\u811a\u672c\u6210\u529f \u8fd0\u884c \u4e86\uff0c\u4f46\u5b83\u65e0\u6cd5 \u4e0a\u62a5 \u4efb\u4f55\u6570\u636e\uff0c\u56e0\u6b64\u5b83 \u5b9e\u9645\u4e0a\u5931\u6548\u4e86\u3002</p> <ol> <li> <p><code>style-src</code> (\u6837\u5f0f\u6e90)</p> <ul> <li>\u4f5c\u7528\uff1a \u5b9a\u4e49\u4e86\u53ef\u4ee5\u52a0\u8f7d\u548c\u5e94\u7528\u7684 CSS \u6837\u5f0f\u8868\u6765\u6e90\u3002</li> <li>\u6db5\u76d6\uff1a<ul> <li><code>href</code> \u5c5e\u6027\u6307\u5411\u7684 <code>&lt;link rel=\"stylesheet\"&gt;</code>\u3002</li> <li><code>@import</code> \u89c4\u5219\u3002</li> <li><code>&lt;style&gt;...&lt;/style&gt;</code> \u5185\u8054\u6837\u5f0f (\u9ed8\u8ba4\u7981\u6b62)\u3002</li> <li><code>style</code> \u5c5e\u6027\uff0c\u5982 <code>style=\"color:red\"</code> (\u9ed8\u8ba4\u7981\u6b62)\u3002</li> </ul> </li> </ul> <p>Example</p> <pre><code>Content-Security-Policy:\n    style-src 'self' https://fonts.googleapis.com 'unsafe-inline';\n</code></pre> <p>\u89e3\u91ca: \u8fd9\u5141\u8bb8\u6837\u5f0f\u6765\u81ea\uff1a\u540c\u6e90\u3001<code>fonts.googleapis.com</code>\u3001\u4ee5\u53ca\u5185\u8054\u6837\u5f0f\u3002</p> <p>\u6ce8\u610f\uff1a <code>unsafe-inline</code> \u7ecf\u5e38\u5728\u8fd9\u91cc\u88ab\u201c\u59a5\u534f\u201d\u4f7f\u7528\uff0c\u56e0\u4e3a\u5f88\u591a UI \u5e93\u4f1a\u52a8\u6001\u4fee\u6539 <code>style</code> \u5c5e\u6027\u3002</p> </li> <li> <p><code>img-src</code> (\u56fe\u50cf\u6e90)</p> <ul> <li>\u4f5c\u7528\uff1a \u5b9a\u4e49\u4e86\u53ef\u4ee5\u52a0\u8f7d\u7684\u56fe\u50cf\u6765\u6e90\u3002</li> <li>\u6db5\u76d6\uff1a <code>&lt;img&gt;</code>, <code>favicon</code>, \u4ee5\u53ca CSS <code>background-image</code> \u7b49\u3002</li> </ul> <p>Example</p> <pre><code>Content-Security-Policy:\n    img-src 'self' data: https://cdn.my-images.com;\n</code></pre> <p>\u89e3\u91ca: <code>data</code>: \u5141\u8bb8\u4f7f\u7528 Base64 \u7f16\u7801\u7684\u5185\u8054\u56fe\u50cf\u3002</p> </li> <li> <p><code>font-src</code> (\u5b57\u4f53\u6e90)</p> <ul> <li>\u4f5c\u7528\uff1a \u5b9a\u4e49\u4e86\u53ef\u4ee5\u52a0\u8f7d\u7684\u5b57\u4f53\u6587\u4ef6\u6765\u6e90\u3002</li> <li>\u6db5\u76d6\uff1a <code>src</code> \u5c5e\u6027\u5728 CSS <code>@font-face</code> \u89c4\u5219\u4e2d\u6307\u5b9a\u7684 URL\u3002</li> <li>\u793a\u4f8b\uff1a <code>font-src 'self' https://fonts.gstatic.com;</code></li> </ul> </li> <li> <p><code>media-src</code> (\u5a92\u4f53\u6e90)</p> <ul> <li>\u4f5c\u7528\uff1a \u5b9a\u4e49\u4e86 <code>&lt;audio&gt;</code> \u548c <code>&lt;video&gt;</code> \u6807\u7b7e\u53ef\u4ee5\u52a0\u8f7d\u7684\u5a92\u4f53\u8d44\u6e90\u6765\u6e90\u3002</li> <li>\u793a\u4f8b\uff1a <code>media-src 'self' https://videos.my-cdn.com;</code></li> </ul> </li> <li> <p><code>frame-src</code> (\u6846\u67b6\u6e90)</p> <ul> <li>\u4f5c\u7528\uff1a \u5b9a\u4e49\u4e86\u53ef\u4ee5\u5d4c\u5165\u5230\u5f53\u524d\u9875\u9762\u7684 <code>&lt;iframe&gt;</code> \u6216 <code>&lt;frame&gt;</code> \u4e2d\u7684 URL\u3002</li> <li>\u793a\u4f8b\uff1a <code>frame-src 'self' https://youtube.com;</code></li> <li>\u6ce8\u610f\uff1a <code>child-src</code> \u662f\u4e00\u4e2a\u5df2\u5e9f\u5f03\u7684\u6307\u4ee4\uff0c\u5b83\u66fe\u7ecf\u540c\u65f6\u63a7\u5236\u6846\u67b6 (frames) \u548c Web Workers\u3002\u73b0\u5728\u5b83\u5df2\u88ab <code>frame-src</code> \u548c <code>worker-src</code> \u53d6\u4ee3\u3002</li> </ul> </li> <li> <p><code>object-src</code> (\u5bf9\u8c61\u6e90)</p> <ul> <li>\u4f5c\u7528\uff1a \u5b9a\u4e49\u4e86 <code>&lt;object&gt;</code>, <code>&lt;embed&gt;</code> \u548c <code>&lt;applet&gt;</code> \u6807\u7b7e\u53ef\u4ee5\u52a0\u8f7d\u7684\u8d44\u6e90\u6765\u6e90\u3002</li> <li>\u793a\u4f8b\uff1a <code>object-src 'none';</code></li> <li>\u5f3a\u70c8\u5efa\u8bae\uff1a \u8fd9\u4e2a\u6307\u4ee4\u975e\u5e38\u5371\u9669\uff0c\u56e0\u4e3a\u5b83\u53ef\u4ee5\u52a0\u8f7d Flash \u7b49\u63d2\u4ef6\u3002\u6700\u4f73\u5b9e\u8df5\u662f\u59cb\u7ec8\u5c06\u5176\u8bbe\u7f6e\u4e3a <code>'none'</code>\u3002</li> </ul> </li> <li> <p><code>worker-src</code> (Worker \u6e90)</p> <ul> <li>\u4f5c\u7528\uff1a \u5b9a\u4e49\u4e86\u53ef\u4ee5\u4f5c\u4e3a <code>Worker</code>, <code>SharedWorker</code> \u6216 <code>ServiceWorker</code> \u52a0\u8f7d\u7684 URL\u3002</li> <li>\u793a\u4f8b\uff1a <code>worker-src 'self';</code></li> </ul> </li> </ol> worker \u662f\u4ec0\u4e48? <p>JS \u662f\u5355\u7ebf\u7a0b\u7684,\u5982\u679c\u6709\u4e00\u4e9b\u8017\u65f6\u7684\u4efb\u52a1\u8981\u505a\u65f6, \u9875\u9762\u6d4f\u89c8\u8d77\u6765\u5c31\u4f1a\u6bd4\u8f83\u5361, \u6240\u4ee5\u73b0\u4ee3\u7248\u672c\u7684 JS \u5141\u8bb8\u4e3b\u7ebf\u7a0b\u521b\u5efa Worker \u7ebf\u7a0b\u5e76\u901a\u8fc7\u6d88\u606f\u901a\u4fe1.</p> <p>Worker \u7ebf\u7a0b\u4e0d\u80fd\u6253\u5361\u672c\u673a\u6587\u4ef6\u7cfb\u7edf(<code>file://</code>), \u6240\u4ee5\u5b83\u52a0\u8f7d\u7684\u811a\u672c\u5fc5\u987b\u6765\u81ea\u7f51\u7edc.</p>"},{"location":"408/NET/CSP-Header/#document-directives","title":"\ud83d\udcda \u7b2c\u4e8c\u90e8\u5206\uff1a\u6587\u6863\u6307\u4ee4 (Document Directives)","text":"<p>\u8fd9\u7c7b\u6307\u4ee4\u63a7\u5236 \u6587\u6863\uff08\u5373\u6574\u4e2a\u9875\u9762\uff09\u7684\u5c5e\u6027\uff0c\u800c\u4e0d\u662f\u63a7\u5236\u52a0\u8f7d\u7684\u5177\u4f53\u8d44\u6e90\u3002\u5b83\u4eec\u5b9a\u4e49\u4e86\u9875\u9762\u53ef\u4ee5\u6216\u4e0d\u53ef\u4ee5\u4f7f\u7528\u54ea\u4e9b\u529f\u80fd\u3002</p>"},{"location":"408/NET/CSP-Header/#base-uri-uri","title":"<code>base-uri</code> (\u57fa\u7840 URI)","text":"<ul> <li>\u4f5c\u7528\uff1a \u9650\u5236\u53ef\u4ee5\u5728\u6587\u6863\u7684 <code>&lt;base&gt;</code> \u6807\u7b7e\u4e2d\u8bbe\u7f6e\u7684 URL\u3002</li> <li>\u4e3a\u4ec0\u4e48\u8981\u7528\u8fd9\u4e2a\uff1f</li> <li><code>&lt;base&gt;</code> \u6807\u7b7e\u662f HTML \u4e2d\u4e00\u4e2a\u5f88\u201c\u9738\u9053\u201d\u7684\u6807\u7b7e\u3002\u5b83\u4f1a\u6539\u53d8\u9875\u9762\u4e0a\u6240\u6709 \u76f8\u5bf9\u8def\u5f84\uff08\u5982 <code>href=\"page2.html\"</code> \u6216 <code>src=\"img.png\"</code>\uff09\u7684\u89e3\u6790\u57fa\u51c6\u3002</li> </ul> \u653b\u51fb\u573a\u666f\uff08Basejacking\uff09\u5982\u4f55\u9632\u5fa1 <p>\u5982\u679c\u4e00\u4e2a\u653b\u51fb\u8005\u80fd\u5411\u4f60\u7684\u9875\u9762\u6ce8\u5165\u4e00\u4e2a <code>&lt;base&gt;</code> \u6807\u7b7e\uff08\u4f8b\u5982\u901a\u8fc7 XSS\uff09\uff0c\u4ed6\u5c31\u53ef\u4ee5\u5c06\u9875\u9762\u4e0a\u6240\u6709\u76f8\u5bf9\u8def\u5f84\u7684\u94fe\u63a5\uff08\u6bd4\u5982 <code>&lt;script src=\"analytics.js\"&gt;</code>\uff09\u6307\u5411\u4ed6\u81ea\u5df1\u7684\u6076\u610f\u670d\u52a1\u5668\u3002</p> <p>\u4f8b\u5982\uff1a </p> <p>\u653b\u51fb\u8005\u6ce8\u5165 <code>&lt;base href=\"https://evil-attacker.com/\"&gt;</code>\u3002</p> <p>\u4f60\u9875\u9762\u4e0a\u7684 <code>&lt;script src=\"analytics.js\"&gt;</code> \u5c31\u4f1a\u88ab\u6d4f\u89c8\u5668\u89e3\u6790\u4e3a <code>https://evil-attacker.com/analytics.js</code>\uff0c\u4ece\u800c\u52a0\u8f7d\u6076\u610f\u811a\u672c\u3002</p> <p>\u4f7f\u7528 <code>base-uri</code> \u6765\u9501\u5b9a\u8fd9\u4e2a\u57fa\u51c6\u3002</p> <p>\u793a\u4f8b\uff1a <code>base-uri 'self';</code></p> <p>\u8fd9\u544a\u8bc9\u6d4f\u89c8\u5668\uff0c<code>&lt;base&gt;</code> \u6807\u7b7e\uff08\u5982\u679c\u5b58\u5728\uff09\u7684 <code>href</code> \u5c5e\u6027\u53ea\u80fd\u6307\u5411\u4f60\u81ea\u5df1\u7684\u57df\u540d\uff08\u540c\u6e90\uff09\u3002</p> <p>\u6700\u4f73\u5b9e\u8df5</p> <p>\u5982\u679c\u4f60\u7684\u7f51\u7ad9\u6839\u672c\u4e0d\u4f7f\u7528 <code>&lt;base&gt;</code> \u6807\u7b7e\uff0c\u8bbe\u7f6e <code>base-uri 'none';</code> \u662f\u6700\u5b89\u5168\u7684\u9009\u62e9\u3002</p>"},{"location":"408/NET/CSP-Header/#sandbox","title":"<code>sandbox</code> (\u6c99\u76d2)","text":"<ul> <li>\u4f5c\u7528\uff1a \u8fd9\u662f\u4e00\u4e2a \u6781\u5176\u5f3a\u5927 \u7684\u6307\u4ee4\u3002\u5b83\u5728\u4f60\u7684\u9875\u9762\u4e0a\u542f\u7528\u4e00\u4e2a\u7c7b\u4f3c\u4e8e <code>&lt;iframe&gt;</code> \u7684\u6c99\u76d2\u73af\u5883\uff0c\u6781\u5927\u5730\u9650\u5236\u4e86 \u9875\u9762\u7684\u80fd\u529b\u3002</li> <li>\u76ee\u7684\uff1a \u4e3b\u8981\u7528\u4e8e\u5f53\u4f60\u9700\u8981\u5c55\u793a\u7528\u6237\u4e0a\u4f20\u7684 HTML \u5185\u5bb9\uff08\u4f8b\u5982\u4e00\u4e2a <code>.html</code> \u6587\u4ef6\uff09\u65f6\uff0c\u6216\u8005\u5f53\u4f60\u5e0c\u671b\u5bf9\u67d0\u4e2a\u9875\u9762\u8fdb\u884c\u201c\u964d\u6743\u201d\u5904\u7406\u65f6\u3002</li> <li>\u5de5\u4f5c\u65b9\u5f0f\uff1a \u5f53\u4f60\u53d1\u9001 <code>sandbox</code> \u6307\u4ee4\u65f6\uff0c\u5b83\u4f1a \u9ed8\u8ba4\u7981\u6b62 \u9875\u9762\u6267\u884c\u51e0\u4e4e\u6240\u6709\u64cd\u4f5c\uff0c\u5305\u62ec\uff1a<ul> <li>\u6267\u884c\u811a\u672c</li> <li>\u63d0\u4ea4\u8868\u5355</li> <li>\u6253\u5f00\u65b0\u7a97\u53e3 (<code>window.open</code> \u6216 <code>target=\"_blank\"</code>)</li> <li>\u5141\u8bb8\u5f39\u7a97 (<code>alert</code>, <code>confirm</code>)</li> <li>\u4f7f\u7528 cookie (\u963b\u6b62\u540c\u6e90\u8bbf\u95ee)</li> <li>...\u7b49\u7b49</li> </ul> </li> <li>\u5982\u4f55\u201c\u89e3\u7981\u201d\uff1a \u4f60\u5fc5\u987b\u901a\u8fc7\u6dfb\u52a0 \u767d\u540d\u5355\u503c \u6765\u9010\u4e2a\u201c\u653e\u884c\u201d\u4f60\u8ba4\u4e3a\u5b89\u5168\u7684\u529f\u80fd\u3002</li> </ul> <p>Example</p> \u7a7a\u503c\u653e\u884c\u90e8\u5206\u529f\u80fd <pre><code>Content-Security-Policy:\n    sandbox;\n</code></pre> <ul> <li>\u8fd9\u662f\u6700\u4e25\u683c\u7684\u6c99\u76d2\uff0c\u9875\u9762\u51e0\u4e4e\u4ec0\u4e48\u90fd\u5e72\u4e0d\u4e86\uff0c\u53ea\u80fd\u663e\u793a\u9759\u6001\u7684 HTML \u548c CSS\u3002</li> </ul> <pre><code>Content-Security-Policy:\n    sandbox allow-forms allow-scripts allow-same-origin;\n</code></pre> <ul> <li><code>allow-forms</code>\uff1a\u5141\u8bb8\u9875\u9762\u63d0\u4ea4\u8868\u5355\u3002</li> <li><code>allow-scripts</code>\uff1a\u5141\u8bb8\u9875\u9762\u6267\u884c\u811a\u672c\u3002</li> <li><code>allow-same-origin</code>\uff1a(\u5173\u952e) \u5141\u8bb8\u9875\u9762\u88ab\u89c6\u4e3a\u201c\u540c\u6e90\u201d\uff0c\u4f7f\u5176\u53ef\u4ee5\u8bbf\u95ee\u81ea\u5df1\u7684 cookie\u3001LocalStorage \u7b49\u3002\uff08\u6ca1\u6709\u8fd9\u4e2a\uff0c\u9875\u9762\u4f1a\u88ab\u89c6\u4e3a\u4e00\u4e2a\u552f\u4e00\u7684\u3001\u9694\u79bb\u7684\u6765\u6e90\uff09\u3002</li> </ul> <p><code>sandbox</code> \u6307\u4ee4\u662f \u4e0d\u53ef\u56de\u9000 \u7684\u3002\u5b83\u4e0d\u4f1a\u56de\u9000\u5230 <code>default-src</code>\u3002\u5b83\u8981\u4e48\u5b58\u5728\uff0c\u8981\u4e48\u4e0d\u5b58\u5728\u3002\u5b83\u901a\u5e38\u7528\u4e8e\u4f60 \u65e0\u6cd5\u5b8c\u5168\u4fe1\u4efb\u7684\u7279\u5b9a\u9875\u9762\uff0c\u800c\u4e0d\u662f\u7528\u4e8e\u4f60\u7684\u4e3b\u7ad9\u70b9\u3002</p>"},{"location":"408/NET/CSP-Header/#navigation-directives","title":"\ud83d\udcda \u7b2c\u4e09\u90e8\u5206\uff1a\u5bfc\u822a\u6307\u4ee4 (Navigation Directives)","text":"<p>\u8fd9\u7c7b\u6307\u4ee4\u63a7\u5236 \u7528\u6237\u53ef\u4ee5\u4ece\u5f53\u524d\u9875\u9762\u5bfc\u822a\u5230\u54ea\u91cc\uff0c\u6216\u8005 \u8c01\u53ef\u4ee5\u5bfc\u822a\u5230\u5f53\u524d\u9875\u9762\u3002</p>"},{"location":"408/NET/CSP-Header/#form-action","title":"<code>form-action</code> (\u8868\u5355\u63d0\u4ea4)","text":"<ul> <li>\u4f5c\u7528\uff1a \u9650\u5236 <code>&lt;form&gt;</code> \u6807\u7b7e\u7684 <code>action</code> \u5c5e\u6027\u53ef\u4ee5\u6307\u5411\u7684 URL\u3002</li> </ul> \u653b\u51fb\u573a\u666f\u5982\u4f55\u9632\u5fa1 <ul> <li>\u5047\u8bbe\u653b\u51fb\u8005\u901a\u8fc7 XSS \u5411\u4f60\u7684\u767b\u5f55\u9875\u9762\u6ce8\u5165\u4e86\u4e00\u4e2a \u65b0\u7684\u3001\u5047\u7684\u767b\u5f55\u8868\u5355\u3002\u8fd9\u4e2a\u5047\u8868\u5355\u770b\u8d77\u6765\u548c\u4f60\u7684\u771f\u8868\u5355\u4e00\u6837\uff0c\u4f46\u5b83\u7684 <code>action</code> \u5c5e\u6027\u6307\u5411 <code>https://evil-attacker.com/steal-password.php</code>\u3002</li> <li>\u5f53\u7528\u6237\u5728\u4f60\u7684\uff08\u53d7\u4fe1\u4efb\u7684\uff09\u57df\u540d\u4e0a\u8f93\u5165\u7528\u6237\u540d\u548c\u5bc6\u7801\u5e76\u70b9\u51fb\u201c\u767b\u5f55\u201d\u65f6\uff0c\u4ed6\u4eec\u7684\u51ed\u8bc1\u5c31\u4f1a\u88ab\u53d1\u9001\u5230\u653b\u51fb\u8005\u7684\u670d\u52a1\u5668\u3002</li> </ul> <p>\u4f7f\u7528 <code>form-action</code> \u6765\u9501\u5b9a\u8868\u5355\u53ef\u4ee5\u63d0\u4ea4\u7684\u76ee\u7684\u5730\u3002</p> <p>Example</p> <pre><code>Content-Security-Policy:\n    form-action 'self' https://login-partner.com;\n</code></pre> <p>\u8fd9\u544a\u8bc9\u6d4f\u89c8\u5668\uff0c\u9875\u9762\u4e0a\u7684\u6240\u6709 <code>&lt;form&gt;</code> \u53ea\u80fd\u63d0\u4ea4\u5230\uff1a</p> <ol> <li><code>'self'</code> (\u4f60\u81ea\u5df1\u7684\u57df\u540d)</li> <li><code>https://login-partner.com</code> (\u4f8b\u5982\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u4e86\u50cf OAuth \u8fd9\u6837\u7684\u7b2c\u4e09\u65b9\u767b\u5f55\u670d\u52a1)</li> </ol> <p>\u4efb\u4f55\u8bd5\u56fe\u63d0\u4ea4\u5230\u5176\u4ed6\u5730\u65b9\u7684\u8868\u5355\u90fd\u4f1a\u88ab \u963b\u6b62\u3002</p> <p>\u6ce8\u610f\uff1a \u5982\u679c\u6ca1\u6709\u8bbe\u7f6e <code>form-action</code>\uff0c\u6d4f\u89c8\u5668\u4f1a\u56de\u9000\u5230 <code>default-src</code>\u3002</p>"},{"location":"408/NET/CSP-Header/#frame-ancestors","title":"<code>frame-ancestors</code> (\u6846\u67b6\u7956\u5148)","text":"<p>\u8fd9\u662f\u4e00\u4e2a\u6781\u5176\u91cd\u8981\u7684\u3001\u7528\u4e8e\u9632\u6b62\u70b9\u51fb\u52ab\u6301 (Clickjacking) \u7684\u6307\u4ee4\u3002</p> <p>\u4f5c\u7528\uff1a \u63a7\u5236 \u54ea\u4e9b\u7f51\u7ad9 \u53ef\u4ee5\u5c06\u4f60\u7684\u9875\u9762\u5d4c\u5165\u5230 <code>&lt;iframe&gt;</code>\u3001<code>&lt;frame&gt;</code>\u3001<code>&lt;object&gt;</code> \u6216 <code>&lt;embed&gt;</code> \u4e2d\u3002</p> \u5982\u4f55\u70b9\u51fb\u52ab\u6301 (Clickjacking)\u5982\u4f55\u9632\u5fa1 <p>\u653b\u51fb\u8005\u5728\u4ed6\u4eec\u81ea\u5df1\u7684\u7f51\u7ad9 <code>evil.com</code> \u4e0a\u8bbe\u7f6e\u4e00\u4e2a\u9875\u9762\u3002</p> <p>\u4ed6\u4eec\u4f7f\u7528\u4e00\u4e2a\u900f\u660e\u7684 <code>&lt;iframe&gt;</code> \u5c06\u4f60\u7684\u7f51\u7ad9\uff08\u6bd4\u5982 my-bank.com\uff09\u6574\u4e2a\u5d4c\u5165\u8fdb\u6765\u3002</p> <p>\u4ed6\u4eec\u5728\u8fd9\u4e2a\u900f\u660e\u7684 <code>&lt;iframe&gt;</code> \u4e0a\u5c42\u653e\u7f6e\u4e00\u4e2a\u770b\u8d77\u6765\u65e0\u5bb3\u7684\u6309\u94ae\uff0c\u6bd4\u5982\u201c\u70b9\u6211\u8d62\u5956\u54c1\u201d\u3002</p> <p>\u7528\u6237\u8bbf\u95ee <code>evil.com</code>\uff0c\u4ee5\u4e3a\u81ea\u5df1\u70b9\u51fb\u7684\u662f\u201c\u8d62\u5956\u54c1\u201d\u6309\u94ae\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u4ed6\u4eec\u70b9\u51fb\u7684\u662f \u4f60\u7f51\u7ad9\u4e0a \u7684\u6309\u94ae\uff08\u6bd4\u5982\u201c\u786e\u8ba4\u8f6c\u8d26\u201d\u6216\u201c\u5220\u9664\u8d26\u6237\u201d\uff09\uff0c\u56e0\u4e3a\u4f60\u7684\u7f51\u7ad9\u88ab\u900f\u660e\u5730\u8986\u76d6\u5728\u4e0b\u9762\u3002</p> <code>'none';</code> (\u6700\u4f73\u5b9e\u8df5) <code>'self'</code>domain <pre><code>Content-Security-Policy:\n    frame-ancestors 'none';\n</code></pre> <p>\u8fd9\u544a\u8bc9\u6d4f\u89c8\u5668\uff1a\u201c\u4efb\u4f55\u4eba\u90fd\u4e0d\u51c6\u628a\u6211\u7684\u7f51\u7ad9\u5d4c\u5165\u5230 <code>&lt;iframe&gt;</code> \u4e2d\u3002\u201d \u8fd9\u80fd\u5b8c\u5168\u675c\u7edd\u70b9\u51fb\u52ab\u6301\u653b\u51fb\u3002</p> <pre><code>Content-Security-Policy:\n    frame-ancestors 'self';\n</code></pre> <p>\u53ea\u5141\u8bb8\u4f60\u81ea\u5df1\u7684\u7f51\u7ad9\uff08\u540c\u6e90\uff09\u5d4c\u5165\u81ea\u5df1\u3002</p> <pre><code>Content-Security-Policy:\n    frame-ancestors https://partner.com;\n</code></pre> <p>\u53ea\u5141\u8bb8 partner.com \u5d4c\u5165\u4f60\u7684\u7f51\u7ad9\u3002</p> <p>\u91cd\u8981\u533a\u522b</p> <ul> <li><code>frame-src</code> (\u6293\u53d6\u6307\u4ee4) \u63a7\u5236\u4f60\u7684\u9875\u9762 \u53ef\u4ee5\u5d4c\u5165\u8c01\u3002</li> <li><code>frame-ancestors</code> (\u5bfc\u822a\u6307\u4ee4) \u63a7\u5236 \u8c01\u53ef\u4ee5\u5d4c\u5165\u4f60\u3002</li> </ul> <p>\u53e6\u5916\uff0c<code>frame-ancestors</code> \u4e0d\u4f1a\u56de\u9000\u5230 <code>default-src</code>\u3002\u5b83\u8981\u4e48\u5b58\u5728\uff0c\u8981\u4e48\u4e0d\u5b58\u5728\u3002\u5b83\u4e5f\u53d6\u4ee3\u4e86\u65e7\u7684\u3001\u975e\u6807\u51c6\u7684 <code>X-Frame-Options</code> \u5934\u90e8\u3002</p>"},{"location":"408/NET/CSP-Header/#reporting-directives","title":"\ud83d\udcda \u7b2c\u56db\u90e8\u5206\uff1a\u62a5\u544a\u6307\u4ee4 (Reporting Directives)","text":"<p>\u8fd9\u7c7b\u6307\u4ee4\u5b9a\u4e49\u4e86\u5f53 CSP \u7b56\u7565\u88ab\u8fdd\u53cd\u65f6\uff0c\u6d4f\u89c8\u5668\u5e94\u8be5\u505a\u4ec0\u4e48\u3002\u5b83\u4eec\u4e0d\u4f1a\u6539\u53d8\u7b56\u7565\u7684\u6267\u884c\uff0c\u53ea\u662f\u544a\u8bc9\u6d4f\u89c8\u5668\u201c\u5982\u679c\u51fa\u4e86\u95ee\u9898\uff0c\u8bf7\u901a\u77e5\u6211\u201d\u3002</p>"},{"location":"408/NET/CSP-Header/#report-uri-uri-","title":"<code>report-uri</code> (\u62a5\u544a URI) - [\u5df2\u5e9f\u5f03]","text":"<ul> <li>\u4f5c\u7528\uff1a \u544a\u8bc9\u6d4f\u89c8\u5668\u5c06 CSP \u8fdd\u89c4\u62a5\u544a (JSON \u683c\u5f0f) <code>POST</code> \u5230\u54ea\u4e2a URL\u3002</li> <li>\u72b6\u6001\uff1a \u5df2\u5e9f\u5f03 (Deprecated)\u3002</li> <li>\u793a\u4f8b\uff1a <code>report-uri /csp-endpoint;</code></li> <li> <p>\u95ee\u9898\uff1a</p> <ul> <li>\u5c3d\u7ba1\u5b83\u5df2\u88ab\u5e9f\u5f03\uff0c\u4f46\u5b83\u4ecd\u7136\u662f\u76ee\u524d\u517c\u5bb9\u6027\u6700\u597d\u7684\u62a5\u544a\u6307\u4ee4\u3002</li> <li>\u8bb8\u591a\u6d4f\u89c8\u5668\uff08\u5c24\u5176\u662f\u65e7\u7248\u672c\uff09\u53ea\u652f\u6301 <code>report-uri</code>\u3002</li> <li>\u56e0\u6b64\uff0c\u5728\u73b0\u5b9e\u4e16\u754c\u4e2d\uff0c\u4f60\u901a\u5e38\u9700\u8981\u540c\u65f6\u8bbe\u7f6e <code>report-uri</code> \u548c <code>report-to</code> \u4ee5\u5b9e\u73b0\u6700\u5927\u517c\u5bb9\u6027\u3002</li> </ul> </li> <li> <p>Payload: </p> <pre><code>POST /csp-endpoint HTTP/1.1\n\nHost: your-site.com\nContent-Type: application/csp-report\nUser-Agent: Mozilla/5.0 ...\nContent-Length: 178\n\n{\n    \"csp-report\": {\n        \"document-uri\": \"https://your-site.com/page\",\n        \"referrer\": \"\",\n        \"violated-directive\": \"script-src-elem\",\n        \"effective-directive\": \"script-src-elem\",\n        \"original-policy\": \"default-src 'self'; report-uri /csp-endpoint\",\n        \"disposition\": \"enforce\",\n        \"blocked-uri\": \"inline\",\n        \"line-number\": 23,\n        \"script-sample\": \"&lt;script&gt;alert(1)&lt;/script&gt;\"\n    }\n}\n</code></pre> </li> </ul>"},{"location":"408/NET/CSP-Header/#report-to","title":"<code>report-to</code> (\u62a5\u544a\u81f3)","text":"<ul> <li>\u4f5c\u7528\uff1a \u8fd9\u662f <code>report-uri</code> \u7684 \u73b0\u4ee3\u66ff\u4ee3\u54c1\u3002\u5b83\u65e8\u5728\u4e0e\u65b0\u7684 Reporting API \u534f\u540c\u5de5\u4f5c\u3002</li> <li>\u5de5\u4f5c\u65b9\u5f0f\uff1a <code>report-to</code> \u4e0d\u76f4\u63a5\u6307\u5b9a\u4e00\u4e2a URL\uff0c\u800c\u662f\u6307\u5b9a\u4e00\u4e2a\u4f60\u5728\u53e6\u4e00\u4e2a HTTP \u5934\u90e8 (<code>Report-To(\u65e7)</code> \u6216 <code>Reporting-Endpoints</code>) \u4e2d \u9884\u5148\u5b9a\u4e49\u597d\u7684\u201c\u62a5\u544a\u7ec4\u201d\u7684\u540d\u79f0\u3002</li> <li> <p>\u8fd9\u6837\u505a\u7684\u597d\u5904\uff1a</p> <ul> <li>\u89e3\u8026\uff1a \u4f60\u53ef\u4ee5\u5728\u4e00\u4e2a\u5730\u65b9 (<code>Report-To</code> / <code>Reporting-Endpoints</code> \u5934\u90e8) \u5b9a\u4e49\u6240\u6709\u7684\u62a5\u544a\u7aef\u70b9\uff08\u4e0d\u4ec5\u662f CSP\uff0c\u8fd8\u5305\u62ec\u8bc1\u4e66\u900f\u660e\u5ea6\u3001\u7f51\u7edc\u9519\u8bef\u7b49\uff09\uff0c\u7136\u540e\u5728 CSP \u7b56\u7565\u4e2d\u901a\u8fc7\u540d\u79f0\u5f15\u7528\u5b83\u4eec\u3002</li> <li>\u5f02\u6b65\uff1a Reporting API \u5141\u8bb8\u6d4f\u89c8\u5668\u66f4\u667a\u80fd\u5730\u6279\u91cf\u3001\u5f02\u6b65\u5730\u53d1\u9001\u62a5\u544a\uff0c\u51cf\u5c11\u4e86\u5bf9\u4f60\u670d\u52a1\u5668\u7684\u201c\u62a5\u544a\u98ce\u66b4\u201d\u3002</li> <li>\u529f\u80fd\u66f4\u5f3a\uff1a Reporting API \u662f\u4e00\u4e2a\u66f4\u5e7f\u6cdb\u7684\u89c4\u8303\uff0c\u7528\u4e8e\u62a5\u544a\u5404\u79cd Web \u95ee\u9898\u3002</li> </ul> </li> <li> <p>Payload:</p> <pre><code>POST /csp-endpoint HTTP/1.1\n\nHost: reporter.example.com\nContent-Type: application/reports+json\nOrigin: https://your-site.com\nUser-Agent: Mozilla/5.0 ...\nContent-Length: 302\n\n[\n    {\n        \"type\": \"csp-violation\",\n        \"age\": 45100,\n        \"url\": \"https://your-site.com/page\",\n        \"user_agent\": \"Mozilla/5.0 ...\",\n        \"body\": {\n        \"document-uri\": \"https://your-site.com/page\",\n        \"violated-directive\": \"script-src-elem\",\n        \"disposition\": \"enforce\",\n        \"blocked-uri\": \"inline\",\n        \"script-sample\": \"&lt;script&gt;alert(1)&lt;/script&gt;\"\n        }\n    }\n]\n</code></pre> </li> </ul> Example <p>\u6d4f\u89c8\u5668\u517c\u5bb9\u6027\u7b56\u7565 (\u6700\u4f73\u5b9e\u8df5)\uff1a \u7531\u4e8e report-to \u548c Reporting-Endpoints \u8fd8\u5f88\u65b0\uff0c\u4f60\u5e94\u8be5\u540c\u65f6\u63d0\u4f9b\u4e24\u8005\u3002\u652f\u6301 report-to \u7684\u6d4f\u89c8\u5668\u4f1a\u4f18\u5148\u4f7f\u7528\u5b83\uff1b\u4e0d\u652f\u6301\u7684\u6d4f\u89c8\u5668\u4f1a\u56de\u9000\u5230 report-uri\u3002</p> <p>\u7b2c\u4e00\u6b65: \u5728\u4f60\u7684\u54cd\u5e94\u4e2d\u8bbe\u7f6e Report-To \u5934\u90e8\uff0c\u5b9a\u4e49\u4e00\u4e2a\u540d\u4e3a default (\u6216\u4efb\u4f55\u4f60\u559c\u6b22\u7684\u540d\u5b57) \u7684\u62a5\u544a\u7ec4\u3002</p> <p>\u7b2c\u4e8c\u6b65: \u5728\u4f60\u7684\u54cd\u5e94\u4e2d\u8bbe\u7f6e Reporting-Endpoints \u5934\u90e8</p> <p></p><pre><code>Report-To: {\n    \"group\": \"csp-reports\",\n    \"max_age\": 10886400,\n    \"endpoints\": [\n        { \"url\": \"https://reporter.example.com/csp-endpoint\" }\n    ]\n}\nReporting-Endpoints: csp-reports=\"https://reporter.example.com/csp-endpoint\"\n</code></pre> \u7b2c\u4e09\u6b65: \u5728\u4f60\u7684 CSP \u7b56\u7565\u4e2d\uff0c\u4f7f\u7528 report-to \u6307\u4ee4\u5f15\u7528\u8fd9\u4e2a\u7ec4\u540d\u3002<p></p> <p>\u7b2c\u56db\u6b65: \u5728\u4f60\u7684 CSP \u7b56\u7565\u4e2d, \u4f7f\u7528 report-uri \u6307\u4ee4\u5e94\u7528\u8fd9\u4e2a\u5730\u5740</p> <pre><code>Content-Security-Policy:\n    ...;\n    report-uri https://reporter.example.com/csp-endpoint;\n    report-to csp-reports;\n</code></pre> <p>\u6700\u7ec8\u4f60\u7684\u54cd\u5e94\u5934\u770b\u8d77\u6765\u662f\u8fd9\u6837\u7684:</p> <pre><code>Report-To: {\n    \"group\": \"csp-reports\",\n    \"max_age\": 10886400,\n    \"endpoints\": [\n        { \"url\": \"https://reporter.example.com/csp-endpoint\" }\n    ]\n}\nReporting-Endpoints: csp-reports=\"https://reporter.example.com/csp-endpoint\"\nContent-Security-Policy:\n    ...;\n    report-uri https://reporter.example.com/csp-endpoint;\n    report-to csp-reports;\n</code></pre>"},{"location":"408/NET/CSP-Header/#other-directives","title":"\ud83d\udcda \u7b2c\u4e94\u90e8\u5206\uff1a\u5176\u4ed6\u6307\u4ee4 (Other Directives)","text":"<p>\u8fd9\u7ec4\u6307\u4ee4\u4e3b\u8981\u7528\u4e8e\u5904\u7406\u4ece HTTPS \u5230 HTTP \u7684\u964d\u7ea7\u95ee\u9898\uff0c\u5373 \u201c\u6df7\u5408\u5185\u5bb9\u201d (Mixed Content)\u3002</p> \u4ec0\u4e48\u662f\u6df7\u5408\u5185\u5bb9\uff1f <p>\u5f53\u4f60\u7684\u4e3b\u9875\u9762\u662f\u901a\u8fc7 <code>https</code> \u5b89\u5168\u52a0\u8f7d\u7684\uff0c\u4f46\u9875\u9762\u4e0a\u7684\u67d0\u4e9b\u8d44\u6e90\uff08\u5982\u56fe\u7247 <code>&lt;img&gt;</code>\u3001\u811a\u672c <code>&lt;script&gt;</code>\uff09\u5374\u662f\u901a\u8fc7 <code>http</code> \u4e0d\u5b89\u5168\u52a0\u8f7d\u7684\uff0c\u8fd9\u5c31\u53eb\u6df7\u5408\u5185\u5bb9\u3002 \u73b0\u4ee3\u6d4f\u89c8\u5668\u4f1a\u9ed8\u8ba4 \u963b\u6b62 \u201c\u6d3b\u52a8\u201d\u6df7\u5408\u5185\u5bb9\uff08\u5982 <code>http</code> \u811a\u672c\uff09\uff0c\u4f46\u53ef\u80fd\u4ecd\u4f1a\u52a0\u8f7d\u201c\u88ab\u52a8\u201d\u6df7\u5408\u5185\u5bb9\uff08\u5982 <code>http</code> \u56fe\u7247\uff09\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u6d4f\u89c8\u5668\u5730\u5740\u680f\u7684\u5b89\u5168\u9501 \ud83d\udd12 \u6d88\u5931\uff0c\u5e76\u663e\u793a\u201c\u4e0d\u5b89\u5168\u201d\u8b66\u544a\u3002</p>"},{"location":"408/NET/CSP-Header/#upgrade-insecure-requests","title":"<code>upgrade-insecure-requests</code> (\u5347\u7ea7\u4e0d\u5b89\u5168\u8bf7\u6c42)","text":"<ul> <li>\u4f5c\u7528\uff1a \u8fd9\u662f\u4e00\u4e2a \u201c\u81ea\u52a8\u4fee\u590d\u201d \u6307\u4ee4\u3002\u5b83\u544a\u8bc9\u6d4f\u89c8\u5668\uff1a\u201c\u5982\u679c\u4f60\u5728\u8fd9\u4e2a <code>https</code> \u9875\u9762\u4e0a\u53d1\u73b0\u4efb\u4f55 <code>http://</code> \u7684\u8bf7\u6c42\uff0c\u8bf7\u5728\u53d1\u9001\u5b83\u4e4b\u524d\uff0c\u81ea\u52a8\u5c06\u5176\u91cd\u5199\u4e3a <code>https://**</code>\u3002\u201d</li> <li>\u793a\u4f8b\uff1a <code>upgrade-insecure-requests;</code> (\u5b83\u6ca1\u6709\u503c)</li> <li>\u4f18\u70b9\uff1a<ul> <li>\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u5f3a\u5927\u7684\u5de5\u5177\uff0c\u5c24\u5176\u662f\u5728\u8fc1\u79fb\u4e00\u4e2a\u5927\u578b\u65e7\u7f51\u7ad9\u4ece <code>http</code> \u5230 <code>https</code> \u65f6\u3002</li> <li>\u5047\u8bbe\u4f60\u7684\u65e7\u6587\u7ae0\u91cc\u6709\u6210\u5343\u4e0a\u4e07\u4e2a\u786c\u7f16\u7801\u7684 <code>http://</code> \u56fe\u7247\u94fe\u63a5\u3002\u4f60\u4e0d\u9700\u8981\u53bb\u6570\u636e\u5e93\u91cc\u4fee\u6539\u6bcf\u4e00\u6761\uff0c\u53ea\u9700\u8981\u6dfb\u52a0\u8fd9\u4e2a CSP \u6307\u4ee4\uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u81ea\u52a8\u5c1d\u8bd5\u7528 <code>https://</code> \u52a0\u8f7d\u5b83\u4eec\u3002</li> </ul> </li> <li>\u7f3a\u70b9\uff1a<ul> <li>\u5982\u679c\u5bf9\u65b9\u670d\u52a1\u5668\u4e0d\u652f\u6301 <code>https</code> \u600e\u4e48\u529e\uff1f \u5982\u679c\u6d4f\u89c8\u5668\u5c06 <code>http://example.com/img.png</code> \u5347\u7ea7\u4e3a <code>https://example.com/img.png</code>\uff0c\u4f46 <code>example.com</code> \u7684\u670d\u52a1\u5668\u5e76\u6ca1\u6709\u914d\u7f6e <code>https</code> \u8bc1\u4e66\uff0c\u90a3\u4e48\u8fd9\u4e2a\u8bf7\u6c42\u4f1a \u5931\u8d25\u3002\u8d44\u6e90\u5c06\u65e0\u6cd5\u52a0\u8f7d\u3002</li> </ul> </li> <li>\u53e6\u4e00\u4e2a\u4f5c\u7528\uff1a \u5b83\u8fd8\u4f1a\u81ea\u52a8\u5c06\u6240\u6709\u5bfc\u822a\u5230 <code>http://</code> \u7ad9\u70b9\u7684\u94fe\u63a5\uff08\u5f53\u7528\u6237\u70b9\u51fb\u65f6\uff09\u91cd\u5b9a\u5411\u5230 <code>https</code> \u7248\u672c\u3002</li> </ul>"},{"location":"408/NET/CSP-Header/#block-all-mixed-content","title":"<code>block-all-mixed-content</code> (\u963b\u6b62\u6240\u6709\u6df7\u5408\u5185\u5bb9)","text":"<ul> <li>\u4f5c\u7528\uff1a \u8fd9\u662f\u4e00\u4e2a \u201c\u4e25\u683c\u6a21\u5f0f\u201d \u6307\u4ee4\u3002\u5b83\u544a\u8bc9\u6d4f\u89c8\u5668\uff1a\u201c\u4e0d\u8981\u5c1d\u8bd5\u5347\u7ea7\uff0c\u76f4\u63a5\u963b\u6b62\u6240\u6709 <code>http://</code> \u8d44\u6e90\uff08\u5305\u62ec\u56fe\u7247\u3001\u811a\u672c\u7b49\uff09\u5728\u6211\u7684 <code>https://</code> \u9875\u9762\u4e0a\u52a0\u8f7d\u3002\u201d</li> <li>\u793a\u4f8b\uff1a <code>block-all-mixed-content;</code></li> <li>\u4f18\u70b9\uff1a<ul> <li>\u63d0\u4f9b\u6700\u5f3a\u7684\u5b89\u5168\u6027\uff0c\u786e\u4fdd\u4f60\u7684 <code>https</code> \u9875\u9762\u4e0a 100% \u6ca1\u6709\u4e0d\u5b89\u5168\u7684\u5185\u5bb9\u3002</li> </ul> </li> <li>\u7f3a\u70b9\uff1a<ul> <li>\u5982\u679c\u4f60\u610f\u5916\u5730\u5f15\u7528\u4e86\u4e00\u4e2a <code>http</code> \u8d44\u6e90\uff08\u5373\u4f7f\u662f\u652f\u6301 <code>https</code> \u7684\uff09\uff0c\u5b83\u4e5f\u4f1a\u88ab\u963b\u6b62\uff0c\u800c\u4e0d\u662f\u50cf <code>upgrade-insecure-requests</code> \u90a3\u6837\u88ab\u201c\u81ea\u52a8\u4fee\u590d\u201d\u3002</li> </ul> </li> <li>\u6ce8\u610f\uff1a<ul> <li>\u6839\u636e CSP Level 3 \u89c4\u8303\uff0c\u5982\u679c\u4e00\u4e2a\u7b56\u7565\u540c\u65f6\u5305\u542b\u4e86 <code>upgrade-insecure-requests</code> \u548c <code>block-all-mixed-content</code>\uff0c<code>upgrade-insecure-requests</code> \u4f1a\u88ab\u5ffd\u7565\uff0c<code>block-all-mixed-content</code> \u4f18\u5148\u3002</li> <li>\u7136\u800c\uff0c\u73b0\u4ee3\u6d4f\u89c8\u5668\uff08Chrome/Firefox\uff09\u5df2\u7ecf\u9ed8\u8ba4\u4f1a\u963b\u6b62\u201c\u6d3b\u52a8\u201d\u6df7\u5408\u5185\u5bb9\uff08\u5982\u811a\u672c\uff09\u3002\u5982\u679c\u4f60\u8bbe\u7f6e\u4e86 <code>upgrade-insecure-requests</code>\uff0c\u5b83\u5b9e\u9645\u4e0a\u5df2\u7ecf\u9690\u542b\u4e86\u201c\u963b\u6b62\u90a3\u4e9b\u65e0\u6cd5\u88ab\u5347\u7ea7\u7684\u6df7\u5408\u5185\u5bb9\u201d\u7684\u610f\u601d\uff0c\u56e0\u6b64 <code>block-all-mixed-content</code> \u5728\u5f88\u5927\u7a0b\u5ea6\u4e0a\u5df2\u7ecf\u88ab <code>upgrade-insecure-requests</code> \u8986\u76d6\u6216\u5e9f\u5f03\u4e86\u3002</li> </ul> </li> <li>\u6700\u4f73\u5b9e\u8df5\uff1a \u4f18\u5148\u4f7f\u7528 <code>upgrade-insecure-requests</code>\u3002</li> </ul>"},{"location":"408/NET/HTTP/","title":"HTTP","text":""},{"location":"408/NET/HTTP/#http","title":"HTTP","text":""},{"location":"408/NET/HTTP/#http_1","title":"HTTP \u538b\u7f29","text":"<p>HTTP \u538b\u7f29\u662f\u6307\u5728 HTTP \u534f\u8bae\u4e2d\u5bf9\u4f20\u8f93\u7684\u6570\u636e\u8fdb\u884c\u538b\u7f29\uff0c\u4ee5\u51cf\u5c11\u6570\u636e\u4f20\u8f93\u7684\u5927\u5c0f\u548c\u63d0\u9ad8\u4f20\u8f93\u901f\u5ea6\u3002\u5e38\u89c1\u7684 HTTP \u538b\u7f29\u7b97\u6cd5\u5305\u62ec Gzip \u548c Brotli\u3002</p> <p>\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4f1a\u5148\u534f\u5546\u652f\u6301\u7684\u538b\u7f29\u7b97\u6cd5\uff0c\u7136\u540e\u5728\u4f20\u8f93\u6570\u636e\u65f6\u4f7f\u7528\u8fd9\u4e9b\u7b97\u6cd5\u8fdb\u884c\u538b\u7f29\u548c\u89e3\u538b\u7f29\u3002HTTP \u538b\u7f29\u53ef\u4ee5\u663e\u8457\u51cf\u5c11\u4f20\u8f93\u7684\u6570\u636e\u91cf\uff0c\u5c24\u5176\u662f\u5728\u4f20\u8f93\u6587\u672c\u5185\u5bb9\uff08\u5982 HTML\u3001CSS\u3001JavaScript \u7b49\uff09\u65f6\u3002</p> <p>\u534f\u5546\u8fc7\u7a0b 1. \u5ba2\u6237\u7aef\u53d1\u9001\u8bf7\u6c42\u65f6\uff0c\u5728\u8bf7\u6c42\u5934\u4e2d\u5305\u542b <code>Accept-Encoding</code> \u5b57\u6bb5\uff0c\u544a\u77e5\u670d\u52a1\u5668\u652f\u6301\u7684\u538b\u7f29\u7b97\u6cd5\u3002\u4f8b\u5982\uff1a </p><pre><code>Accept-Encoding: gzip, deflate, br\n</code></pre> 2. \u670d\u52a1\u5668\u6839\u636e\u81ea\u8eab\u652f\u6301\u7684\u7b97\u6cd5\u548c\u5ba2\u6237\u7aef\u63d0\u4f9b\u7684\u7b97\u6cd5\u8fdb\u884c\u534f\u5546\uff0c\u9009\u62e9\u4e00\u79cd\u7b97\u6cd5\u8fdb\u884c\u54cd\u5e94\u3002\u5982\u679c\u9009\u62e9\u4e86\u538b\u7f29\uff0c\u670d\u52a1\u5668\u5728\u54cd\u5e94\u5934\u4e2d\u6dfb\u52a0 <code>Content-Encoding</code> \u5b57\u6bb5\u3002\u4f8b\u5982\uff1a <pre><code>Content-Encoding: gzip\n</code></pre> 3. \u5ba2\u6237\u7aef\u63a5\u6536\u5230\u54cd\u5e94\u540e\uff0c\u6839\u636e <code>Content-Encoding</code> \u5b57\u6bb5\u4f7f\u7528\u76f8\u5e94\u7684\u89e3\u538b\u7f29\u7b97\u6cd5\u5bf9\u54cd\u5e94\u5185\u5bb9\u8fdb\u884c\u89e3\u538b\u7f29\u3002<p></p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-0-%E6%A6%82%E8%BF%B0/","title":"\u8ba1\u7b97\u673a\u7f51\u7edc [0-\u6982\u8ff0]","text":"<p>\u8ba1\u7b97\u673a\u7f51\u7edc\u4e00\u89c8~</p>","tags":["\u4e03\u5c42\u6a21\u578b","OSI \u6a21\u578b","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-0-%E6%A6%82%E8%BF%B0/#_1","title":"\u6982\u8ff0","text":"","tags":["\u4e03\u5c42\u6a21\u578b","OSI \u6a21\u578b","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-0-%E6%A6%82%E8%BF%B0/#_2","title":"\u8ba1\u7b97\u673a\u7f51\u7edc","text":"","tags":["\u4e03\u5c42\u6a21\u578b","OSI \u6a21\u578b","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-0-%E6%A6%82%E8%BF%B0/#_3","title":"\u5b9a\u4e49","text":"<p>\u8ba1\u7b97\u673a\u7f51\u7edc\u662f**\u4e92\u8054**\u7684\u3001**\u81ea\u6cbb**\u7684\u8ba1\u7b97\u673a\u96c6\u5408\u3002</p> <ul> <li>\u4e92\u8054\uff1a\u4e92\u8054\u4e92\u901a\u3001</li> <li>\u81ea\u6cbb\uff1a\u65e0\u4e3b\u4ece\u5173\u7cfb\uff0c\u76f8\u4e92\u72ec\u7acb\u3002\u6709\u901a\u4fe1\uff0c\u4f46\u4e0d\u80fd\u63a7\u5236\u5bf9\u65b9</li> </ul>","tags":["\u4e03\u5c42\u6a21\u578b","OSI \u6a21\u578b","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-0-%E6%A6%82%E8%BF%B0/#_4","title":"\u8ba1\u7b97\u673a\u7f51\u7edc\u7684\u529f\u80fd","text":"<ol> <li>\u6570\u636e\u901a\u4fe1\uff1a\u6570\u636e\u53ef\u4ee5\u5728\u4fe1\u9053\u4e0a\u4f20\u8f93\uff0c\u4f7f\u5f97\u786c\u4ef6\u8bbe\u5907\u53ef\u4ee5\u901a\u4fe1</li> <li>\u8d44\u6e90\u5171\u4eab\uff1a\u786c\u4ef6\u3001\u8f6f\u4ef6\u3001\u6570\u636e\u7684\u5171\u4eab</li> <li>\u5206\u5e03\u5f0f\u5904\u7406\uff1a\u591a\u53f0\u8ba1\u7b97\u673a\u5404\u81ea\u627f\u62c5\u540c\u4e00\u5de5\u4f5c\u4efb\u52a1\u7684\u4e0d\u540c\u90e8\u5206</li> <li>\u63d0\u9ad8\u53ef\u9760\u6027\uff1a\u4e00\u53f0\u4e3b\u673a\u6302\u4e86\uff0c\u53e6\u5916\u4e00\u53f0\u53ef\u4ee5\u9876\u4e0a\u3002</li> <li>\u8d1f\u8f7d\u5747\u8861</li> </ol>","tags":["\u4e03\u5c42\u6a21\u578b","OSI \u6a21\u578b","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-0-%E6%A6%82%E8%BF%B0/#_5","title":"\u7ec4\u6210","text":"","tags":["\u4e03\u5c42\u6a21\u578b","OSI \u6a21\u578b","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-0-%E6%A6%82%E8%BF%B0/#_6","title":"\u7ec4\u6210\u90e8\u5206","text":"<p>\u786c\u4ef6\u3001\u8f6f\u4ef6\u3001\u534f\u8bae</p>","tags":["\u4e03\u5c42\u6a21\u578b","OSI \u6a21\u578b","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-0-%E6%A6%82%E8%BF%B0/#_7","title":"\u5de5\u4f5c\u65b9\u5f0f","text":"<p>\u5206\u4e3a\u8fb9\u7f18\u90e8\u5206\u548c\u6838\u5fc3\u90e8\u5206 - \u8fb9\u7f18\u90e8\u5206\uff1a\u5404\u79cd\u4e3b\u673a\u3001\u7ec8\u7aef\u673a\u3001\u670d\u52a1\u5668\u7b49\uff1b\u7528\u4e8e\u76f4\u63a5\u4f7f\u7528\uff0c\u5206<code>C/S\u65b9\u5f0f</code>\u548c<code>P2P\u65b9\u5f0f</code> - \u6838\u5fc3\u90e8\u5206\uff1a\u5404\u79cd\u8def\u7531\u5668\u3001\u96c6\u7ebf\u5668\u7b49\uff1b\u4e3a\u8fb9\u7f18\u90e8\u5206\u670d\u52a1</p>","tags":["\u4e03\u5c42\u6a21\u578b","OSI \u6a21\u578b","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-0-%E6%A6%82%E8%BF%B0/#_8","title":"\u529f\u80fd\u7ec4\u6210","text":"<ul> <li>\u901a\u4fe1\u5b50\u7f51\uff1a\u5b9e\u73b0\u6570\u636e\u901a\u4fe1</li> <li>\u8d44\u6e90\u5b50\u7f51\uff1a\u5b9e\u73b0\u8d44\u6e90\u5171\u4eab/\u6570\u636e\u5904\u7406 </li> </ul>","tags":["\u4e03\u5c42\u6a21\u578b","OSI \u6a21\u578b","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-0-%E6%A6%82%E8%BF%B0/#_9","title":"\u5206\u7c7b","text":"<ol> <li>\u6309\u5206\u5e03\u8303\u56f4\u5206\uff1a<ol> <li>\u5e7f\u57df\u7f51 WAN - \u4f7f\u7528\u4ea4\u6362\u6280\u672f</li> <li>\u57ce\u57df\u7f51 MAN</li> <li>\u5c40\u57df\u7f51 LAN - \u5e7f\u64ad\u6280\u672f</li> <li>\u4e2a\u4eba\u533a\u57df\u7f51 PAN</li> </ol> </li> <li>\u6309\u4f7f\u7528\u8005\u5206<ol> <li>\u516c\u7528\u7f51 - \u4e2d\u56fd\u7535\u4fe1\u3001\u79fb\u52a8\u3001\u8054\u901a</li> <li>\u4e13\u7528\u7f51 - \u519b\u961f\u3001\u653f\u5e9c\u3001\u94f6\u884c\u7b49\u4f7f\u7528\u7684\u4e13\u7528\u7f51\u7edc\uff0c\u9700\u8981\u4e00\u5b9a\u6743\u9650</li> </ol> </li> <li>\u6309\u4ea4\u6362\u6280\u672f\u5206<ol> <li>\u7535\u8def\u4ea4\u6362</li> <li>\u62a5\u6587\u4ea4\u6362</li> <li>\u5206\u7ec4\u4ea4\u6362</li> </ol> </li> <li>\u6309\u62d3\u6251\u7ed3\u6784\u5206<ol> <li>\u603b\u7ebf\u578b</li> <li>\u661f\u578b</li> <li>\u73af\u5f62</li> <li>\u7f51\u72b6\u578b - \u5e38\u7528\u4e8e\u5e7f\u57df\u7f51</li> </ol> </li> <li>\u6309\u4f20\u8f93\u6280\u672f\u5206<ol> <li>\u5e7f\u64ad\u5f0f\u7f51\u7edc - \u5171\u4eab\u516c\u5171\u901a\u4fe1\u4fe1\u9053</li> <li>\u70b9\u5bf9\u70b9\u7f51\u7edc - \u4f7f\u7528**\u5206\u7ec4\u5b58\u50a8\u8f6c\u53d1**\u548c**\u8def\u7531\u9009\u62e9**\u673a\u5236</li> </ol> </li> </ol>","tags":["\u4e03\u5c42\u6a21\u578b","OSI \u6a21\u578b","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-0-%E6%A6%82%E8%BF%B0/#_10","title":"\u6807\u51c6\u5316\u5de5\u4f5c","text":"","tags":["\u4e03\u5c42\u6a21\u578b","OSI \u6a21\u578b","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-0-%E6%A6%82%E8%BF%B0/#_11","title":"\u5206\u7c7b","text":"<ul> <li>\u6cd5\u5b9a\u6807\u51c6\uff1a\u7531\u6743\u5a01\u673a\u6784\u5236\u5b9a\u7684\u6b63\u5f0f\u7684\u3001\u5408\u6cd5\u7684\u6807\u51c6\uff0c\u5982OSI</li> <li>\u4e8b\u5b9e\u6807\u51c6\uff1a\u67d0\u4e9b\u516c\u53f8\u7684\u4ea7\u54c1\u5728\u7ade\u4e89\u4e2d\u5360\u636e\u4e3b\u6d41\uff0c\u65f6\u95f4\u957f\u4e86\uff0c\u8fd9\u4e9b\u4ea7\u54c1\u4e2d\u7684\u534f\u8bae\u548c\u6280\u672f\u5c31\u6210\u4e86\u6807\u51c6\uff0c\u5982 TCP/IP</li> </ul>","tags":["\u4e03\u5c42\u6a21\u578b","OSI \u6a21\u578b","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-0-%E6%A6%82%E8%BF%B0/#rfc","title":"RFC","text":"<p>RFC (Request For Comments) \u2014\u2014 \u4e92\u8054\u7f51\u6807\u51c6\u7684\u5f62\u5f0f</p> <p>RFC\u8981\u4e0a\u5347\u4e3a\u4e92\u8054\u7f51\u6b63\u5f0f\u6807\u51c6\u7684\u56db\u4e2a\u9636\u6bb5\uff1a 1. \u4e92\u8054\u7f51\u8349\u6848 (Internet Draft) : \u8fd9\u4e2a\u9636\u6bb5\u8fd8\u4e0d\u662fRFC\u6587\u6863 2. \u5efa\u8bae\u6807\u51c6 (Proposed Standard) : \u88ab\u6536\u5f55\u540e\u5c31\u8fdb\u5165\u8fd9\u4e2a\u9636\u6bb5\uff0c\u6210\u4e3aRFC\u6587\u6863\uff0c\u7136\u540e\u8fdb\u4e00\u6b65\u5b8c\u5584\u6210\u4e3a\u8349\u6848\u6807\u51c6 3. \u8349\u6848\u6807\u51c6 (Draft Standard) : \u5b8c\u5584\u4ee5\u540e\u5c31\u5f62\u6210\u4e00\u4e2a\u8349\u6848\u6807\u51c6\uff0c\u4ea4\u7531IETF\u3001IAB \u5ba1\u6838 4. \u4e92\u8054\u7f51\u6807\u51c6 (Internet Standard) : \u901a\u8fc7\u5ba1\u6838\u4ee5\u540e\u5c31\u6b63\u5f0f\u6210\u4e3a\u4e92\u8054\u7f51\u6807\u51c6\u3002</p> <p>2013\u5e74\u540e\u53d6\u6d88\u4e86\u8349\u6848\u6807\u51c6\u8fd9\u4e00\u9636\u6bb5\uff0c\u88ab\u6536\u5f55\u4e3aRFC\u6587\u6863\u5b8c\u5584\u5ba1\u6838\u901a\u8fc7\u540e\u76f4\u63a5\u6210\u4e3a\u4e92\u8054\u7f51\u6807\u51c6\u3002</p>","tags":["\u4e03\u5c42\u6a21\u578b","OSI \u6a21\u578b","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-0-%E6%A6%82%E8%BF%B0/#_12","title":"\u76f8\u5173\u7ec4\u7ec7","text":"\u4e3b\u8981\u8d21\u732e ISO \u56fd\u9645\u6807\u51c6\u5316\u7ec4\u7ec7 OSI \u53c2\u8003\u6a21\u578b\u3001HDLC\u534f\u8bae ITU \u56fd\u9645\u7535\u4fe1\u8054\u76df \u6307\u5b9a\u901a\u4fe1\u89c4\u5219 IEEE \u56fd\u9645\u7535\u6c14\u7535\u5b50\u5de5\u7a0b\u5e08\u534f\u4f1a \u5b66\u672f\u8bba\u6587\u3001IEEE802\u7cfb\u5217\u6807\u51c6\u30015G IETF Internet\u5de5\u7a0b\u4efb\u52a1\u7ec4 \u8d1f\u8d23\u4e92\u8054\u7f51\u6807\u51c6\u5236\u5b9a","tags":["\u4e03\u5c42\u6a21\u578b","OSI \u6a21\u578b","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-0-%E6%A6%82%E8%BF%B0/#_13","title":"\u6027\u80fd\u6307\u6807","text":"","tags":["\u4e03\u5c42\u6a21\u578b","OSI \u6a21\u578b","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-0-%E6%A6%82%E8%BF%B0/#_14","title":"\u901f\u7387","text":"<p>\u53c8\u79f0 \u6570\u636e\u7387 \u6216 \u6570\u636e\u4f20\u8f93\u7387 \u6216 \u6bd4\u7279\u7387\uff08\u6bd4\u7279\uff0c\u5373 1/0 \uff0c\u53c8\u79f0\u201c\u4f4d\u201d\uff09 \u6307\u8fde\u63a5\u5728\u8ba1\u7b97\u673a\u7f51\u7edc\u4e0a\u7684\u4e3b\u673a\u5728\u6570\u5b57\u4fe1\u9053\u4e0a\u4f20\u9001\u6570\u636e\u4f4d\u6570\u7684\u901f\u5ea6\u3002</p> <p></p> <p>\u5355\u4f4d\u662f b/s\u3001kb/s\u3001Mb/s\u3001Gb/s\u3001TB/s</p> \u901f\u7387 \u5b58\u50a8\u5bb9\u91cf\uff081Byte=8bit\uff09 \u5343 \\(1kb/s = 10^3b/s\\) \\(1KB=2^{10}B=1024B=1024\\times8b\\) \u5146 \\(1Mb/s = 10^3kb/s = 10^6b/s\\) \\(1MB=2^{10}KB=1024KB\\) \u5409 \\(1Gb/s = 10^3Mb/s = 10^6kb/s=10^9b/s\\) \\(1GB=2^{10}MB=1024MB\\) \u592a \\(1Tb/s=10^3Gb/s=10^6Mb/s=10^9kb/s=10^{12}b/s\\) \\(1TB=2^{10}GB=1024GB\\)","tags":["\u4e03\u5c42\u6a21\u578b","OSI \u6a21\u578b","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-0-%E6%A6%82%E8%BF%B0/#_15","title":"\u5e26\u5bbd\uff08\u8f66\u9053\u6570\uff09","text":"<p>\u8ba1\u7b97\u673a\u7f51\u7edc\u4e2d\uff0c\u5e26\u5bbd\u8868\u793a\u7f51\u7edc\u901a\u4fe1\u7ebf\u8def\u4f20\u9001\u6570\u636e\u7684\u80fd\u529b\uff0c\u901a\u5e38\u6307\u5355\u4f4d\u65f6\u95f4\u5185\u4ece\u7f51\u7edc\u4e2d\u67d0\u4e00\u70b9\u5230\u53e6\u4e00\u70b9\u6240\u80fd\u901a\u8fc7\u7684\u201c\u6700\u9ad8\u6570\u636e\u7387\u201d\uff0c\u5373\u7f51\u7edc\u8bbe\u5907\u6240\u652f\u6301\u7684\u6700\u9ad8\u901f\u5ea6</p> <p>\u5e26\u5bbd\u7528\u6765\u8868\u793a\u7f51\u7edc\u7684\u901a\u4fe1\u7ebf\u8def\u4f20\u9001\u6570\u636e\u7684\u80fd\u529b\uff0c\u901a\u5e38\u6307\u5355\u4f4d\u65f6\u95f4\u5185\u4ece\u7f51\u7edc\u4e2d\u7684\u4e00\u7aef\u5230\u53e6\u4e00\u7aef\u6240\u80fd\u901a\u8fc7\u7684\u201c\u6700\u9ad8\u6570\u636e\u7387\u201d\u3002 \u5355\u4f4d\u662f b/s\u3001kb/s\u3001Mb/s\u3001Gb/s\u3001Tb/s \u6362\u8a00\u4e4b\uff0c\u5c31\u662f**\u4e00\u79d2\u5185\u6211\u8fd9\u4e2a\u8bbe\u5907\u80fd\u4f20\u8f93\u5230\u4fe1\u9053\u4e0a\u7684\u6700\u591a\u7684\u6bd4\u7279\u6570**\u3002</p>","tags":["\u4e03\u5c42\u6a21\u578b","OSI \u6a21\u578b","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-0-%E6%A6%82%E8%BF%B0/#_16","title":"\u541e\u5410\u91cf\uff08\u8f66\u6d41\u91cf\uff09","text":"<p>\u5355\u4f4d\u65f6\u95f4\u5185\u901a\u8fc7\u67d0\u4e2a\u7f51\u7edc\uff08\u6216\u4fe1\u9053\u3001\u63a5\u53e3\uff09\u7684\u6570\u636e\u91cf\u3002\u5373\u5b9e\u9645\u63a5\u6536\u5230\u7684\u6570\u636e\u91cf\u3002</p> <p>\u5355\u4f4d\u662f b/s\u3001kb/s\u3001Mb/s\u3001Gb/s\u3001TB/s</p> <p>\u5e26\u5bbd\u662f\u7406\u60f3\uff0c\u541e\u5410\u91cf\u662f\u73b0\u5b9e\u3002</p> <p>\u5e26\u5bbd\u6307\u7684\u662f\u6700\u5927\u7684\u53d1\u9001\u6216\u63a5\u6536\u80fd\u529b\uff0c\u541e\u5410\u91cf\u662f\u5b9e\u9645\u7684\u53d1\u9001\u6216\u63a5\u6536\u7684\u91cf\u3002</p>","tags":["\u4e03\u5c42\u6a21\u578b","OSI \u6a21\u578b","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-0-%E6%A6%82%E8%BF%B0/#_17","title":"\u65f6\u5ef6","text":"<p>\u6307\u6570\u636e\u4ece\u7f51\u7edc\u7684\u4e00\u6bb5\u4f20\u9001\u5230\u53e6\u4e00\u7aef\u6240\u9700\u7684\u65f6\u95f4\u3002\u4e5f\u53eb\u5ef6\u8fdf\u3001\u8fdf\u5ef6\u3002\u5355\u4f4d\u662f s\u3002</p> <p>\u65f6\u5ef6\u5305\u62ec 4 \u5927\u7c7b\uff1a</p> <ol> <li> <p>\u53d1\u9001\u65f6\u5ef6\uff08\u4f20\u8f93\u65f6\u5ef6\uff09\uff1a\u4e00\u5806\u6570\u636e\u4ece\u5f00\u59cb\u63a8\u9001\u5230\u4fe1\u9053\u4e0a\u90a3\u4e00\u523b\u8d77\uff0c\u5230\u5168\u90e8\u63a8\u5b8c\uff0c\u8fd9\u4e2a\u52a8\u4f5c\u6301\u7eed\u7684\u65f6\u95f4\u3002</p> <p>\\(\u53d1\u9001\u65f6\u5ef6 = \\frac {\u6570\u636e\u957f\u5ea6} {\u4fe1\u9053\u5e26\u5bbd(\u53d1\u9001\u901f\u7387)}\\)</p> </li> <li> <p>\u4f20\u64ad\u65f6\u5ef6\uff1a\u4e00\u5806\u6570\u636e\u5728\u6570\u636e\u94fe\u8def\u4e0a\u8dd1\u5230\u76ee\u7684\u5730\u7684\u7528\u65f6\u3002\u53d6\u51b3\u4e8e\u7535\u78c1\u6ce2\u4f20\u64ad\u901f\u5ea6(\\(2\\times10^8m/s\\))\u548c\u94fe\u8def\u957f\u5ea6</p> <p>\\(\u4f20\u64ad\u65f6\u5ef6 = \\frac {\u94fe\u8def\u957f\u5ea6} {\u7535\u78c1\u6ce2\u4f20\u64ad\u901f\u5ea6}\\)</p> </li> <li> <p>\u6392\u961f\u65f6\u5ef6\uff1a\u6570\u636e\u5728\u7ecf\u8fc7\u8def\u7531\u5668\u3001\u4ea4\u6362\u673a\u7b49\u8bbe\u5907\u65f6\u4e0d\u4e00\u5b9a\u80fd\u9a6c\u4e0a\u5904\u7406\uff0c\u9700\u8981\u7b49\u5f85\uff1b\u6392\u961f\u65f6\u5ef6\u6307\u7b49\u5f85\u8f93\u5165/\u8f93\u51fa\u94fe\u8def\u53ef\u7528\u8fd9\u6bb5\u65f6\u95f4\u3002</p> <p>\u6392\u961f\u65f6\u5ef6\u5305\u62ec<code>\u7b49\u5f85\u8f93\u5165\u94fe\u8def\u65f6\u7684\u6392\u961f</code>\u548c<code>\u7b49\u5f85\u8f93\u51fa\u94fe\u8def\u65f6\u7684\u6392\u961f</code>\u3002</p> </li> <li> <p>\u5904\u7406\u65f6\u5ef6\uff1a\u6307\u6392\u961f\u6392\u5230\u4e86\u4ee5\u540e\uff0c\u8def\u7531\u5668/\u4ea4\u6362\u673a\u7b49\u8bbe\u5907\u5bf9\u6570\u636e\u8fdb\u884c\u68c0\u9519\u3001\u5206\u6790\u7684\u8fd9\u6bb5\u65f6\u95f4\u3002</p> </li> </ol> <p>\u65f6\u5ef6 = \u53d1\u9001\u65f6\u5ef6 + \u4f20\u64ad\u65f6\u5ef6 + \u6392\u961f\u65f6\u5ef6 + \u5904\u7406\u65f6\u5ef6</p> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff1a\u4ece A \u57ce\u62c9\u4e00\u8f66\u6c34\u679c\u5230 B \u57ce\u3002</p> <p>\u53d1\u9001\u65f6\u5ef6 = \u628a\u6c34\u679c\u88c5\u5230\u8f66\u4e0a\u7684\u65f6\u95f4</p> <p>\u4f20\u64ad\u65f6\u5ef6 = \u628a\u8f66\u4ece A \u57ce\u5f00\u5230 B \u57ce\u82b1\u8d39\u7684\u65f6\u95f4</p> <p>\u6392\u961f\u65f6\u5ef6 = \u8f66\u5728\u8def\u4e0a\u7ecf\u8fc7\u5b89\u68c0\uff0c\u5728\u6392\u961f\u7b49\u5f85\u5b89\u68c0\u7684\u8fd9\u6bb5\u65f6\u95f4</p> <p>\u5904\u7406\u65f6\u5ef6 = \u88ab\u5b89\u68c0\u8fd9\u4e2a\u8fc7\u7a0b\u82b1\u8d39\u7684\u65f6\u95f4</p>","tags":["\u4e03\u5c42\u6a21\u578b","OSI \u6a21\u578b","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-0-%E6%A6%82%E8%BF%B0/#_18","title":"\u65f6\u5ef6\u5e26\u5bbd\u79ef","text":"<p>\u65f6\u5ef6\u5e26\u5bbd\u79ef bit = \u4f20\u64ad\u65f6\u5ef6 s \\(\\times\\) \u5e26\u5bbd bit/s</p> <p>\u65f6\u5ef6\u5e26\u5bbd\u79ef\u53c8\u79f0 \u4ee5\u6bd4\u7279\u4e3a\u5355\u4f4d\u7684\u94fe\u8def\u957f\u5ea6\uff0c\u5373\u67d0\u6bb5\u94fe\u8def\u4e2d\u73b0\u5728\u6709\u591a\u5c11\u6bd4\u7279\u3002</p> <p>\u5e26\u5bbd\u662f\u6700\u5927\u53d1\u9001\u901f\u7387\uff0c\u4e5f\u5c31\u662f\u8d27\u7269\u88c5\u8f66\u6700\u5feb\u80fd\u88c5\u591a\u5feb\u3002</p> <p></p>","tags":["\u4e03\u5c42\u6a21\u578b","OSI \u6a21\u578b","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-0-%E6%A6%82%E8%BF%B0/#rtt","title":"\u5f80\u8fd4\u65f6\u95f4RTT","text":"<p>RTT \u6307\u4ece\u53d1\u9001\u6cd5\u53d1\u9001\u6570\u636e\u5f00\u59cb\uff0c\u5230\u53d1\u9001\u65b9\u6536\u5230\u63a5\u6536\u65b9\u7684\u786e\u8ba4\uff08\u63a5\u6536\u65b9\u6536\u5230\u6570\u636e\u540e\u7acb\u5373\u53d1\u9001\u786e\u8ba4\uff09\u603b\u5171\u7ecf\u5386\u7684\u65f6\u5ef6\u3002</p> <p>RTT \u8d8a\u5927\uff0c\u5728\u6536\u5230\u786e\u8ba4\u4e4b\u524d\uff0c\u53ef\u4ee5\u53d1\u9001\u7684\u6570\u636e\u8d8a\u591a\u3002</p> <p>RTT \u5305\u62ec <code>\u5f80\u8fd4\u4f20\u64ad\u65f6\u5ef6</code> = \u4f20\u64ad\u65f6\u5ef6\\(\\times\\)2 + <code>\u672b\u7aef\u5904\u7406\u65f6\u95f4</code></p> <p>RTT \u53ea\u7ba1\u4fe1\u9053\u4e0a\u7684\u65f6\u5ef6\uff0c\u4e0d\u7ba1\u4e3b\u673a\u4e0a\u7684\u53d1\u9001\u65f6\u5ef6\u3002</p>","tags":["\u4e03\u5c42\u6a21\u578b","OSI \u6a21\u578b","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-0-%E6%A6%82%E8%BF%B0/#_19","title":"\u5229\u7528\u7387","text":"<p>\u5229\u7528\u7387\u5305\u62ec<code>\u4fe1\u9053\u5229\u7528\u7387</code> \u548c <code>\u7f51\u7edc\u5229\u7528\u7387</code>\u3002</p> <p>\\(\u4fe1\u9053\u5229\u7528\u7387 = \\frac {\u6709\u6570\u636e\u901a\u8fc7\u65f6\u95f4} {(\u6709+\u65e0)\u6570\u636e\u901a\u8fc7\u65f6\u95f4}\\)</p> <p>\u7f51\u7edc\u5229\u7528\u7387 = \u4fe1\u9053\u5229\u7528\u7387\u52a0\u6743\u5e73\u5747\u503c</p>","tags":["\u4e03\u5c42\u6a21\u578b","OSI \u6a21\u578b","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-0-%E6%A6%82%E8%BF%B0/#_20","title":"\u5206\u5c42","text":"<ul> <li>\u5b9e\u4f53\uff1a\u7b2c n \u5c42\u8fd8\u4e2d\u7684\u6d3b\u52a8\u5143\u7d20\u79f0\u4e3a n \u5c42\u5b9e\u4f53\u3002\u540c\u4e00\u5c42\u7684\u5b9e\u4f53\u53eb\u5bf9\u7b49\u5b9e\u4f53\u3002</li> <li>\u534f\u8bae\uff1a\u4e3a\u8fdb\u884c\u7f51\u7edc\u4e2d\u7684\u5bf9\u7b49\u5b9e\u4f53\u6570\u636e\u4ea4\u6362\u800c\u5efa\u7acb\u7684\u89c4\u5219\u3001\u6807\u51c6\u6216\u7ea6\u5b9a\uff0c\u79f0\u4e3a\u7f51\u7edc\u534f\u8bae\u3002[\u6c34\u5e73]<ul> <li>\u8bed\u6cd5\uff1a\u89c4\u5b9a\u4f20\u8f93\u6570\u636e\u7684\u683c\u5f0f</li> <li>\u8bed\u4e49\uff1a\u89c4\u5b9a\u6240\u8981\u5b8c\u6210\u7684\u529f\u80fd</li> <li>\u540c\u6b65\uff1a\u89c4\u5b9a\u5404\u79cd\u64cd\u4f5c\u7684\u987a\u5e8f</li> </ul> </li> <li>\u63a5\u53e3(\u8bbf\u95ee\u670d\u52a1\u70b9\uff0cSAP)\uff1a\u4e0a\u5c42\u4f7f\u7528\u4e0b\u5c42\u670d\u52a1\u7684\u5165\u53e3\u3002</li> <li>\u670d\u52a1\uff1a\u4e0b\u5c42\u4e3a\u76f8\u90bb\u4e0a\u5c42\u63d0\u4f9b\u7684\u529f\u80fd\u8c03\u7528\u3002[\u5782\u76f4]</li> </ul> <p>PDU = PCI + SDU</p> <p>\u6570\u636e\u5305 = \u4e0a\u5c42\u6570\u636e + \u672c\u5c42\u534f\u8bae\u5934</p> <ul> <li> <p>SDU, Service Data Unit\uff0c\u670d\u52a1\u6570\u636e\u5355\u5143\uff1a\u4e3a\u5b8c\u6210\u7528\u6237\u6240\u8981\u6c42\u7684\u529f\u80fd\u800c\u5e94\u4f20\u9001\u7684\u6570\u636e\u3002</p> </li> <li> <p>PCI, Protocols Control Infomation\uff0c\u534f\u8bae\u63a7\u5236\u4fe1\u606f\uff1a\u63a7\u5236\u534f\u8bae\u64cd\u4f5c\u7684\u4fe1\u606f\u3002</p> </li> <li> <p>PDU, Protocols Data Unit\uff0c\u534f\u8bae\u6570\u636e\u5355\u5143\uff1a\u5bf9\u7b49\u5c42\u6b21\u4e4b\u95f4\u4f20\u9001\u7684\u6570\u636e\u5355\u4f4d\u3002</p> </li> </ul> <p>\u5206\u5c42\u7684\u57fa\u672c\u539f\u5219</p> <ol> <li>\u5404\u5c42\u4e4b\u95f4\u76f8\u4e92**\u72ec\u7acb**\uff0c\u6bcf\u5c42\u53ea\u5b9e\u73b0\u4e00\u79cd\u76f8\u5bf9\u72ec\u7acb\u7684\u529f\u80fd\u3002</li> <li>\u6bcf\u5c42\u4e4b\u95f4**\u754c\u9762\u81ea\u7136\u6e05\u6670**\uff0c\u6613\u4e8e\u7406\u89e3\uff0c\u76f8\u4e92\u4ea4\u6d41\u5c3d\u53ef\u80fd\u5c11\u3002</li> <li>\u7ed3\u6784\u4e0a\u53ef\u5206\u9694\u5f00\uff0c\u6bcf\u5c42\u90fd\u91c7\u7528**\u6700\u5408\u9002\u7684\u6280\u672f**\u6765\u5b9e\u73b0\u3002</li> <li>\u4fdd\u6301**\u4e0b\u5c42**\u5bf9**\u4e0a\u5c42**\u7684\u72ec\u7acb\u6027\uff0c\u4e0a\u5c42\u5355\u5411\u4f7f\u7528\u4e0b\u5c42\u63d0\u4f9b\u7684\u670d\u52a1\u3002</li> <li>\u6574\u4e2a\u5206\u5c42\u7ed3\u6784\u5e94\u8be5\u80fd\u4fc3\u8fdb\u6807\u51c6\u5316\u5de5\u4f5c\u3002</li> </ol> <p>\u7f51\u7edc\u4f53\u7cfb\u7ed3\u6784\u662f\u4ece**\u529f\u80fd**\u4e0a\u63cf\u8ff0\u8ba1\u7b97\u673a\u7f51\u7edc\u7ed3\u6784\u3002</p> <p>\u8ba1\u7b97\u673a\u7f51\u7edc\u4f53\u7cfb\u7ed3\u6784\uff0c\u7b80\u79f0\u7f51\u7edc\u4f53\u7cfb\u7ed3\u6784\uff0c\u662f\u5206\u5c42\u7ed3\u6784\u3002</p> <p>\u6bcf\u5c42\u9075\u5faa\u67d0\u4e2a/\u67d0\u4e9b**\u7f51\u7edc\u534f\u8bae**\u4ee5\u5b8c\u6210\u672c\u5c42\u529f\u80fd\u3002</p> <p>\u8ba1\u7b97\u673a\u7f51\u7edc\u4f53\u7cfb\u7ed3\u6784\u662f\u8ba1\u7b97\u673a\u7f51\u7edc\u7684**\u5404\u5c42\u53ca\u5176\u534f\u8bae\u7684\u96c6\u5408**\u3002</p> <p>\u7b2c n \u5c42\u5728\u5411 n+1 \u5c42\u63d0\u4f9b\u670d\u52a1\u65f6\uff0c\u6b64\u670d\u52a1\u4e0d\u4ec5\u5305\u542b\u7b2c n \u5c42\u672c\u8eab\u7684\u529f\u80fd\uff0c\u8fd8\u5305\u542b\u7531\u4e0b\u5c42\u670d\u52a1\u63d0\u4f9b\u7684\u529f\u80fd\u3002</p> <p>\u4ec5\u4ec5\u5728**\u76f8\u90bb\u5c42\u95f4\u6709\u63a5\u53e3**\uff0c\u4e14\u6240\u63d0\u4f9b\u670d\u52a1\u7684\u5177\u4f53\u5b9e\u73b0\u7ec6\u8282\u5bf9\u4e0a\u4e00\u5c42\u5b8c\u5168\u5c4f\u853d\u3002</p> <p>\u4f53\u7cfb\u7ed3\u6784\u662f**\u62bd\u8c61**\u7684\uff0c\u800c\u5b9e\u73b0\u662f\u6307\u80fd\u8fd0\u884c\u7684\u4e00\u4e9b\u8f6f\u4ef6\u548c\u786c\u4ef6\u3002</p> <p></p>","tags":["\u4e03\u5c42\u6a21\u578b","OSI \u6a21\u578b","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-0-%E6%A6%82%E8%BF%B0/#osi","title":"OSI \u7f51\u7edc\u6a21\u578b","text":"<p>\u6cd5\u5b9a\u6807\u51c6\uff1a7 \u5c42 OSI \u53c2\u8003\u6a21\u578b</p> <p>\u4e8b\u5b9e\u6807\u51c6\uff1a4 \u5c42 TCP/IP \u53c2\u8003\u6a21\u578b</p> <p>\u4e0a\u9762 4 \u5c42\u662f**\u7aef\u5230\u7aef**\u7684\u901a\u4fe1\uff0c\u4e0b\u9762 3 \u5c42\u662f**\u70b9\u5230\u70b9**\u7684\u901a\u4fe1\u3002</p> <ul> <li> <p>\u5e94\u7528\u5c42\uff1a\u6240\u6709\u80fd\u548c\u7528\u6237\u4ea4\u4e92\u4ea7\u751f\u7f51\u7edc\u6d41\u91cf\u7684\u7a0b\u5e8f\u3002\u5178\u578b\u5e94\u7528\u5c42\u670d\u52a1\uff1a</p> <ul> <li>\u6587\u4ef6\u4f20\u8f93 FTP</li> <li>\u7535\u5b50\u90ae\u4ef6 SMTP</li> <li>\u4e07\u7ef4\u7f51 HTTP</li> <li>\u8868\u793a\u5c42\uff1a\u7528\u4e8e\u5904\u7406\u5728\u4e24\u4e2a\u901a\u4fe1\u7cfb\u7edf\u4e2d\u4ea4\u6362\u4fe1\u606f\u7684\u8868\u793a\u65b9\u5f0f\uff08\u8bed\u6cd5\u548c\u8bed\u4e49\uff09</li> <li>\u529f\u80fd\u4e00\uff1a\u6570\u636e\u683c\u5f0f\u4ea4\u6362</li> <li>\u529f\u80fd\u4e8c\uff1a\u6570\u636e\u52a0\u5bc6\u89e3\u5bc6</li> <li>\u529f\u80fd\u4e09\uff1a\u6570\u636e\u538b\u7f29\u548c\u6062\u590d</li> <li>\u4f1a\u8bdd\u5c42\uff1a\u5411\u8868\u793a\u5c42\u5b9e\u4f53/\u7528\u6237\u8fdb\u7a0b\u63d0\u4f9b**\u5efa\u7acb\u8fde\u63a5**\u5e76\u5728\u8fde\u63a5\u4e0a**\u6709\u5e8f**\u5730**\u4f20\u8f93**\u6570\u636e\u3002\u8fd9\u662f\u4f1a\u8bdd\uff0c\u4e5f\u662f\u5efa\u7acb\u540c\u6b65\uff08SYN\uff09</li> <li>\u529f\u80fd\u4e00\uff1a\u5efa\u7acb\u3001\u7ba1\u7406\u3001\u7ec8\u6b62\u4f1a\u8bdd</li> <li>\u529f\u80fd\u4e8c\uff1a\u4f7f\u7528\u6821\u9a8c\u70b9\u53ef\u4f7f\u4f1a\u8bdd\u5728\u901a\u4fe1\u5931\u6548\u65f6\u4ece**\u6821\u9a8c\u70b9/\u540c\u6b65\u70b9**\u7ee7\u7eed\u6062\u590d\u901a\u4fe1\uff0c\u5b9e\u73b0\u6570\u636e\u540c\u6b65\u3002\u9002\u7528\u4e8e\u4f20\u8f93\u5927\u6587\u4ef6\u3002</li> <li>\u4e3b\u8981\u534f\u8bae\uff1aADSP\u3001ASP</li> <li>\u4f20\u8f93\u5c42\uff1a\u8d1f\u8d23\u4e3b\u673a\u4e2d\u4e24\u4e2a\u8fdb\u7a0b\u7684\u901a\u4fe1\uff0c\u5373\u7aef\u5230\u7aef\u7684\u901a\u4fe1\u3002\u4f20\u8f93\u5355\u4f4d\u662f<code>\u62a5\u6587\u6bb5</code>\u6216<code>\u7528\u6237\u6570\u636e\u62a5</code>\u3002</li> <li>\u529f\u80fd\u4e00\uff1a\u53ef\u9760\u4f20\u8f93 TCP\u3001\u4e0d\u53ef\u9760\u4f20\u8f93 UDP</li> <li>\u529f\u80fd\u4e8c\uff1a\u5dee\u9519\u63a7\u5236</li> <li>\u529f\u80fd\u4e09\uff1a\u6d41\u91cf\u63a7\u5236\uff08\u534f\u8c03\u53d1\u9001\u7aef\u548c\u63a5\u6536\u7aef\u7684\u901f\u5ea6\u95ee\u9898\uff09</li> <li>\u529f\u80fd\u56db\uff1a\u590d\u7528\u5206\u7528<ul> <li>\u590d\u7528\uff1a\u591a\u4e2a\u5e94\u7528\u5c42\u8fdb\u7a0b\u53ef\u540c\u65f6\u4f7f\u7528\u4e0b\u9762\u8fd0\u8f93\u5c42\u7684\u670d\u52a1\u3002</li> <li>\u5206\u7528\uff1a\u8fd0\u8f93\u5c42\u628a\u6536\u5230\u7684\u4fe1\u606f\u5206\u522b\u4ea4\u4ed8\u7ed9\u4e0a\u9762\u5e94\u7528\u5c42\u4e2d\u76f8\u5e94\u7684\u8fdb\u7a0b\u3002</li> </ul> </li> <li>\u4e3b\u8981\u534f\u8bae\uff1aTCP\u3001UDP</li> <li> <p>\u7f51\u7edc\u5c42\uff1a\u4e3b\u8981\u4efb\u52a1\u662f\u628a\u5206\u7ec4\u4ece\u6e90\u7aef\u4f20\u5230\u76ee\u7684\u7aef\uff0c\u4e3a\u5206\u7ec4\u4ea4\u6362\u7f51\u4e0a\u7684\u4e0d\u540c\u4e3b\u673a\u63d0\u4f9b\u901a\u4fe1\u670d\u52a1\u3002\u4f20\u8f93\u5355\u4f4d\u662f<code>\u6570\u636e\u62a5</code>\u3002</p> </li> <li> <p>\u6570\u636e\u62a5\u548c\u5206\u7ec4\u7684\u5173\u7cfb\u662f\uff1a\u6570\u636e\u62a5\u8fc7\u957f\u7684\u65f6\u5019\u5c31\u53ef\u4ee5\u5207\u6210\u5f88\u591a\u4e2a\u5206\u7ec4\u3002</p> </li> <li>\u529f\u80fd\u4e00\uff1a\u8def\u7531\u9009\u62e9\uff08\u9009\u62e9\u6700\u4f73\u8def\u5f84\uff09</li> <li>\u529f\u80fd\u4e8c\uff1a\u5dee\u9519\u63a7\u5236</li> <li>\u529f\u80fd\u4e09\uff1a\u6d41\u91cf\u63a7\u5236\uff08\u534f\u8c03\u53d1\u9001\u7aef\u548c\u63a5\u6536\u7aef\u7684\u901f\u5ea6\u95ee\u9898\uff09</li> <li>\u529f\u80fd\u56db\uff1a\u62e5\u585e\u63a7\u5236\u3002\u82e5\u6240\u6709\u7ed3\u70b9\u90fd\u6765\u4e0d\u53ca\u63a5\u6536\u5206\u7ec4\uff0c\u800c\u8981\u4e22\u5f03\u5927\u91cf\u5206\u7ec4\u7684\u8bdd\uff0c\u7f51\u7edc\u5c31\u5904\u4e8e\u62e5\u585e\u72b6\u6001\u3002\u56e0\u6b64\u8981\u8fdb\u884c\u62e5\u585e\u63a7\u5236\u3002</li> <li>\u4e3b\u8981\u534f\u8bae\uff1aIP\u3001IPX\u3001ICMP\u3001IGMP\u3001ARP\u3001RARP\u3001OSPF\u3002</li> <li>\u6570\u636e\u94fe\u8def\u5c42\uff1a\u4e3b\u8981\u4efb\u52a1\u662f\u628a\u7f51\u7edc\u5c42\u4f20\u4e0b\u6765\u7684\u6570\u636e\u62a5**\u7ec4\u88c5\u6210\u5e27**\u3002\u4f20\u8f93\u5355\u4f4d\u662f<code>\u5e27</code>\u3002</li> <li>\u529f\u80fd\u4e00\uff1a\u6210\u5e27\uff08\u5b9a\u4e49\u5e27\u7684\u5f00\u59cb\u548c\u7ed3\u675f\uff09</li> <li>\u529f\u80fd\u4e8c\uff1a\u5dee\u9519\u63a7\u5236\uff0c\u5305\u62ec<code>\u5e27\u9519</code>\u548c<code>\u4f4d\u9519</code></li> <li>\u529f\u80fd\u4e09\uff1a\u6d41\u91cf\u63a7\u5236</li> <li>\u529f\u80fd\u56db\uff1a\u8bbf\u95ee\uff08\u63a5\u5165\uff09\u63a7\u5236\uff0c\u63a7\u5236\u5bf9\u4fe1\u9053\u7684\u8bbf\u95ee</li> <li>\u4e3b\u8981\u534f\u8bae\uff1aSDLC\u3001HDLC\u3001PPP\u3001STP</li> <li>\u7269\u7406\u5c42\uff1a\u4e3b\u8981\u4efb\u52a1\u662f\u5728**\u7269\u7406\u5a92\u4f53\u4e0a**\u5b9e\u73b0\u6bd4\u7279\u6d41\u7684**\u900f\u660e\u4f20\u8f93**\u3002</li> <li>\u900f\u660e\u4f20\u8f93\uff1a\u6307\u4e0d\u7ba1\u6240\u4f20\u6570\u636e\u662f\u4ec0\u4e48\u6837\u7684\u6bd4\u7279\u7ec4\u5408\uff0c\u90fd\u5e94\u5f53\u80fd\u591f\u5728\u94fe\u8def\u4e0a\u4f20\u9001\u3002</li> <li>\u529f\u80fd\u4e00\uff1a\u5b9a\u4e49\u63a5\u53e3\u7279\u6027\uff0c\u5982\u63a5\u5934\u6709\u591a\u5c11\u5f15\u811a\u3001\u4f7f\u7528\u591a\u5c11\u8ddf\u7ebf\u3001\u7535\u538b\u6240\u5c11...</li> <li>\u529f\u80fd\u4e8c\uff1a\u5b9a\u4e49\u4f20\u8f93\u6a21\u5f0f<ul> <li>\u5355\u5de5\uff1a\u53ea\u80fd\u53d1\u9001\u6216\u53ea\u80fd\u63a5\u6536</li> <li>\u534a\u53cc\u5de5\uff1a\u53ef\u4ee5\u53d1\u9001\u6216\u63a5\u6536\uff0c\u4f46\u540c\u4e00\u65f6\u523b\u53ea\u53ef\u4ee5\u4e00\u65b9\u5728\u53d1\u9001\u6216\u63a5\u6536</li> <li>\u5168\u53cc\u5de5\uff1a\u53ef\u4ee5\u5728\u53d1\u9001\u7684\u540c\u65f6\u4e5f\u5728\u63a5\u6536</li> </ul> </li> <li>\u529f\u80fd\u4e09\uff1a\u5b9a\u4e49\u4f20\u8f93\u901f\u7387</li> <li>\u529f\u80fd\u56db\uff1a\u6bd4\u7279\u540c\u6b65</li> <li>\u529f\u80fd\u4e94\uff1a\u6bd4\u7279\u7f16\u7801</li> <li>\u4e3b\u8981\u534f\u8bae\uff1aRj45\u3001IEEE 802.3</li> </ul> </li> </ul> \u4e3b\u8981\u4efb\u52a1 \u4f20\u8f93\u5355\u4f4d \u4e3b\u8981\u534f\u8bae \u5e94\u7528\u5c42 \u5904\u7406\u7528\u6237\u4ea4\u4e92\u4ea7\u751f\u7684\u6570\u636e APDU HTTP\u3001FTP\u3001DNS \u8868\u793a\u5c42 \u5904\u7406\u5728\u4e24\u4e2a\u901a\u4fe1\u7cfb\u7edf\u4e2d\u4ea4\u6362\u4fe1\u606f\u7684\u8868\u793a\u65b9\u5f0f PPDU JPEG\u3001ASCII \u4f1a\u8bdd\u5c42 \u5efa\u7acb\u8fde\u63a5\uff0c\u5e76\u5728\u8fde\u63a5\u4e0a\u6709\u5e8f\u5730\u4f20\u8f93\u6570\u636e SPDU ADSP\u3001ASP \u4f20\u8f93\u5c42 \u8d1f\u8d23\u4e3b\u673a\u4e2d\u4e24\u4e2a\u8fdb\u7a0b\u7684\u901a\u4fe1 \u62a5\u6587\u6bb5/\u7528\u6237\u6570\u636e\u62a5 TCP\u3001UDP \u7f51\u7edc\u5c42 \u6e90\u4e3b\u673a\u5230\u76ee\u7684\u4e3b\u673a\u7684\u6570\u636e\u5206\u7ec4\u8def\u7531\u4e0e\u8f6c\u53d1 \u6570\u636e\u62a5 IP\u3001IPX\u3001ICMP\u3001IGMP\u3001ARP\u3001RARP\u3001OSPF \u6570\u636e\u94fe\u8def\u5c42 \u628a\u7f51\u7edc\u5c42\u4f20\u4e0b\u6765\u7684\u6570\u636e\u62a5\u7ec4\u88c5\u6210\u5e27 \u5e27 SDLC\u3001HDLC\u3001PPP\u3001STP \u7269\u7406\u5c42 \u6bd4\u7279\u4f20\u8f93 \u6bd4\u7279 Rj45\u3001IEEE 802.3 <p></p>","tags":["\u4e03\u5c42\u6a21\u578b","OSI \u6a21\u578b","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-0-%E6%A6%82%E8%BF%B0/#tcpip","title":"TCP/IP \u7f51\u7edc\u6a21\u578b","text":"OSI \u6a21\u578b TCP/IP \u6a21\u578b \u7f51\u7edc\u5c42 \u65e0\u8fde\u63a5+\u9762\u5411\u8fde\u63a5 \u65e0\u8fde\u63a5 \u4f20\u8f93\u5c42 \u9762\u5411\u94fe\u63a5 \u65e0\u8fde\u63a5+\u9762\u5411\u8fde\u63a5 <p>\u9762\u5411\u8fde\u63a5\uff1a\u5582\u4f60\u5403\u4e1c\u897f\u4e4b\u524d\u95ee\u4f60\u8981\u4e0d\u8981\u5403\uff0c\u7136\u540e\u7ed9\u4f60\u5403\u3002</p> <p>\u65e0\u8fde\u63a5\uff1a\u76f4\u63a5\u585e\u4f60\u5634\u91cc\u3002</p> <p>\u9762\u5411\u8fde\u63a5\u5206\u4e09\u4e2a\u9636\u6bb5\uff1a</p> <ol> <li>\u5efa\u7acb\u8fde\u63a5\uff1a\u518d\u6b64\u9636\u6bb5\u53d1\u51fa\u4e00\u4e2a\u5efa\u7acb\u8fde\u63a5\u7684\u8bf7\u6c42\uff1b</li> <li>\u6570\u636e\u4f20\u8f93\uff1a\u53ea\u6709\u5728\u8fde\u63a5\u6210\u529f\u5efa\u7acb\u4e4b\u540e\uff0c\u624d\u80fd\u5f00\u59cb\u6570\u636e\u4f20\u8f93\uff1b</li> <li>\u91ca\u653e\u8fde\u63a5\uff1a\u6570\u636e\u4f20\u8f93\u5b8c\u6210\u540e\uff0c\u91ca\u653e\u8fde\u63a5\u3002</li> </ol> <p>\u65e0\u8fde\u63a5\uff1a\u76f4\u63a5\u8fdb\u884c\u6570\u636e\u4f20\u8f93\u3002</p>","tags":["\u4e03\u5c42\u6a21\u578b","OSI \u6a21\u578b","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-0-%E6%A6%82%E8%BF%B0/#5","title":"5\u5c42\u53c2\u8003\u6a21\u578b","text":"","tags":["\u4e03\u5c42\u6a21\u578b","OSI \u6a21\u578b","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-0-%E6%A6%82%E8%BF%B0/#_21","title":"\u6570\u636e\u5c01\u88c5\u4e0e\u89e3\u5c01\u88c5","text":"","tags":["\u4e03\u5c42\u6a21\u578b","OSI \u6a21\u578b","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/","title":"\u8ba1\u7b97\u673a\u7f51\u7edc [1-\u7269\u7406\u5c42]","text":"<p>\u68a6\u5f00\u59cb\u7684\u5730\u65b9</p>","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#1-","title":"1-\u7269\u7406\u5c42","text":"<p>\u7269\u7406\u5c42\u89e3\u51b3\u5982\u4f55\u5728\u8fde\u63a5\u5404\u79cd\u8ba1\u7b97\u673a\u7684\u4f20\u8f93\u5a92\u4f53\u4e0a**\u4f20\u8f93\u6570\u636e\u6bd4\u7279\u6d41**\uff0c\u800c\u4e0d\u662f\u6307\u5177\u4f53\u7684\u4f20\u8f93\u5a92\u4f53\u3002</p> <p>\u4e3b\u8981\u4efb\u52a1\uff1a\u786e\u5b9a\u4e0e\u4f20\u8f93\u5a92\u4f53\u63a5\u53e3\u76f8\u5173\u7684\u4e00\u4e9b\u7279\u6027 -&gt; \u5b9a\u4e49\u6807\u51c6</p> <ol> <li> <p>\u673a\u68b0\u7279\u6027\uff1a\u5b9a\u4e49\u7269\u7406\u8fde\u63a5\u7684\u7279\u6027\uff0c\u89c4\u5b9a\u7269\u7406\u8fde\u63a5\u65f6\u6240\u91c7\u7528\u7684\u89c4\u683c\u3001\u63a5\u53e3\u5f62\u72b6\u3001<code>\u5f15\u7ebf\u6570\u76ee</code>\u3001<code>\u5f15\u811a\u6570\u91cf</code>\u548c\u6392\u5217\u60c5\u51b5\u3002</p> <p></p> </li> <li> <p>\u7535\u6c14\u7279\u6027\uff1a\u89c4\u5b9a\u4f20\u8f93\u4e8c\u8fdb\u5236\u4f4d\u65f6\uff0c\u7ebf\u8def\u4e0a\u4fe1\u53f7\u7684<code>\u7535\u538b\u8303\u56f4</code>\u3001\u963b\u6297\u5339\u914d\u3001\u4f20\u8f93<code>\u901f\u7387</code>\u548c<code>\u8ddd\u79bb</code>\u9650\u5236\u7b49\u3002</p> <p>\u5982\uff1a\u67d0\u7f51\u7edc\u5728\u7269\u7406\u5c42\u89c4\u5b9a\uff0c\u7528<code>+10v \uff5e +15v</code>\u8868\u793a\u4e8c\u8fdb\u5236 0, \u7528<code>-10v \uff5e -15v</code>\u8868\u793a\u4e8c\u8fdb\u5236 1\uff0c\u7535\u7ebf\u957f\u5ea6 &lt; 15m</p> </li> <li> <p>\u529f\u80fd\u7279\u6027\uff1a\u6307\u660e\u67d0\u6761\u7ebf\u4e0a\u51fa\u73b0\u7684\u67d0\u4e00\u7535\u5e73\u8868\u793a\u4f55\u79cd\u610f\u4e49\uff0c\u63a5\u53e3\u90e8\u4ef6\u7684\u4fe1\u53f7\u7ebf\u7684\u7528\u9014\u3002</p> <p>\u5982\uff1a\u63cf\u8ff0\u4e00\u4e2a\u7269\u7406\u5c42\u63a5\u53e3\u5f15\u811a\u5904\u4e8e\u9ad8\u7535\u5e73\u65f6\u7684\u542b\u4e49\u3002</p> </li> <li> <p>\u89c4\u7a0b\u7279\u6027\uff1a\u4e5f\u53eb\u8fc7\u7a0b\u7279\u6027\uff0c\u5b9a\u4e49\u5404\u6761\u7269\u7406\u7ebf\u8def\u7684<code>\u5de5\u4f5c\u89c4\u7a0b</code>\u548c<code>\u65f6\u5e8f\u5173\u7cfb</code>\u3002</p> </li> </ol>","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_1","title":"\u5178\u578b\u7684\u6570\u636e\u901a\u4fe1\u6a21\u578b","text":"<p>\u901a\u4fe1\u7684\u76ee\u7684\u662f**\u4f20\u9001\u6d88\u606f**\u3002</p>","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_2","title":"\u540d\u8bcd\u89e3\u91ca","text":"<ul> <li> <p>\u6570\u636e\uff1a\u4f20\u9001\u4fe1\u606f\u7684\u5b9e\u4f53\uff0c\u901a\u5e38\u662f\u6709\u610f\u4e49\u7684\u7b26\u53f7\u5e8f\u5217\u3002</p> </li> <li> <p>\u4fe1\u53f7\uff1a\u6570\u636e\u7684\u7535\u6c14/\u7535\u78c1\u7684\u8868\u73b0\uff0c\u662f\u6570\u636e\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u7684<code>\u5b58\u5728\u5f62\u5f0f</code>\u3002</p> <ul> <li>\u6570\u5b57\u4fe1\u53f7\uff1a\u4ee3\u8868\u6d88\u606f\u7684\u53c2\u6570\u53d6\u503c\u662f\u79bb\u6563\u7684\u3002</li> <li>\u6a21\u62df\u4fe1\u53f7\uff1a\u4ee3\u8868\u6d88\u606f\u7684\u53c2\u6570\u53d6\u503c\u662f\u8fde\u7eed\u7684\u3002</li> </ul> </li> <li>\u4fe1\u6e90\uff1a\u4ea7\u751f\u548c\u53d1\u9001\u6570\u636e\u7684\u6e90\u5934\u3002</li> <li>\u4fe1\u5bbf\uff1a\u63a5\u6536\u6570\u636e\u7684\u7ec8\u70b9\u3002</li> <li>\u4fe1\u9053\uff1a\u4fe1\u53f7\u7684\u4f20\u8f93\u5a92\u4ecb\u3002\u4e00\u822c\u7528\u6765\u8868\u793a\u67d0\u4e00\u65b9\u5411\u4f20\u9001\u4fe1\u606f\u7684\u4ecb\u8d28\uff0c\u56e0\u6b64\u4e00\u6761\u901a\u4fe1\u7ebf\u8def\u5f80\u5f80\u5305\u542b\u4e00\u6761\u53d1\u4fe1\u4fe1\u9053\u548c\u4e00\u6761\u63a5\u6536\u4fe1\u9053\u3002<ul> <li>\u6309\u4f20\u8f93\u4fe1\u53f7\u5206\uff1a\u6a21\u62df\u4fe1\u9053\u3001\u6570\u5b57\u4fe1\u9053</li> <li>\u6309\u4f20\u8f93\u4ecb\u8d28\u5206\uff1a\u65e0\u7ebf\u4fe1\u9053\u3001\u6709\u7ebf\u4fe1\u9053</li> </ul> </li> </ul>","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_3","title":"\u901a\u4fe1\u65b9\u5f0f","text":"<ol> <li>\u5355\u5de5\u901a\u4fe1\uff1a\u53ea\u6709\u4e00\u4e2a\u65b9\u5411\u7684\u901a\u4fe1\u800c\u6ca1\u6709\u53cd\u65b9\u5411\u7684\u4ea4\u4e92\uff0c\u4ec5\u9700\u4e00\u6761\u4fe1\u9053\u3002</li> <li>\u534a\u53cc\u5de5\u901a\u4fe1\uff1a\u901a\u4fe1\u7684\u53cc\u65b9\u90fd\u53ef\u4ee5\u53d1\u9001\u6216\u63a5\u6536\u4fe1\u606f\uff0c\u4f46\u4efb\u4f55\u4e00\u65b9\u90fd\u4e0d\u80fd\u540c\u65f6\u53d1\u9001\u548c\u63a5\u6536\uff0c\u9700\u8981\u4e24\u6761\u4fe1\u9053\u3002</li> <li>\u5168\u53cc\u5de5\u901a\u4fe1\uff1a\u901a\u4fe1\u53cc\u65b9\u53ef\u4ee5\u540c\u65f6\u53d1\u9001\u548c\u63a5\u6536\u4fe1\u606f\uff0c\u9700\u8981\u4e24\u6761\u4fe1\u9053\u3002</li> </ol>","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_4","title":"\u6570\u636e\u4f20\u8f93\u65b9\u5f0f","text":"<ol> <li>\u4e32\u884c\u4f20\u8f93\uff1a\u901f\u5ea6<code>\u6162</code>\uff0c\u8d39\u7528<code>\u4f4e</code>\uff0c\u9002\u5408<code>\u8fdc</code>\u8ddd\u79bb</li> <li>\u5e76\u884c\u4f20\u8f93\uff1a\u901f\u5ea6<code>\u5feb</code>\uff0c\u8d39\u7528<code>\u9ad8</code>\uff0c\u9002\u5408<code>\u8fd1</code>\u8ddd\u79bb</li> </ol>","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_5","title":"\u7801\u5143\u3001\u901f\u7387\u3001\u6ce2\u7279\u3001\u5e26\u5bbd","text":"","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_6","title":"\u7801\u5143","text":"<p>{% noteblock info %}</p> <p>{% span blue, \u7801\u5143 %}\uff0c\u6307\u7528\u4e00\u4e2a**\u56fa\u5b9a\u65f6\u957f**\u7684**\u4fe1\u53f7\u6ce2\u5f62**\uff08\u6570\u5b57\u8109\u51b2\uff09\uff0c\u4ee3\u8868\u4e0d\u540c\u79bb\u6563\u6570\u503c\u7684\u57fa\u672c\u6ce2\u5f62\uff0c\u662f\u6570\u5b57\u901a\u4fe1\u4e2d\u6570\u5b57\u4fe1\u53f7\u7684\u8ba1\u91cf\u5355\u4f4d\u3002</p> <p>\u65f6\u957f\u5185\u7684\u4fe1\u53f7\u79f0\u4e3a {% span green, K \u8fdb\u5236\u7801\u5143 %}\uff0c\u800c\u8be5\u65f6\u957f\u79f0\u4e3a**\u7801\u5143\u5bbd\u5ea6**\u3002</p> <p>\u5f53\u7801\u5143\u7684\u79bb\u6563\u72b6\u6001\u6709 M \u4e2a\u65f6\uff08M \u5927\u4e8e 2\uff09\uff0c\u6b64\u65f6\u7801\u5143\u4e3a M \u8fdb\u5236\u7801\u5143\u3002</p> <p>{% endnoteblock %}</p> <p></p>","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_7","title":"\u901f\u7387\u3001\u5e26\u5bbd","text":"<p>{% span blue, \u901f\u7387 %}\uff0c\u4e5f\u53eb\u6570\u636e\u7387\uff0c\u6307\u6570\u636e\u7684**\u4f20\u8f93\u901f\u7387**\uff08\u4e3b\u673a\u53d1\u9001\u5230\u4fe1\u9053\u4e0a\u7684\u901f\u5ea6\uff09\uff0c\u8868\u793a\u5355\u4f4d\u65f6\u95f4\u5185\u4f20\u8f93\u7684\u6570\u636e\u91cf\u3002\u53ef\u4ee5\u7528**\u7801\u5143\u4f20\u8f93\u901f\u7387**\u548c**\u4fe1\u606f\u4f20\u8f93\u901f\u7387**\u8868\u793a\u3002</p> <ul> <li> <p>\u7801\u5143\u4f20\u8f93\u901f\u7387\uff1a\u8868\u793a\u5355\u4f4d\u65f6\u95f4\u5185\uff0c\u6570\u5b57\u901a\u4fe1\u7cfb\u7edf\u6240\u4f20\u8f93\u7684 M \u8fdb\u5236\u7801\u5143\u4e2a\u6570\uff08\u4e5f\u53ef\u79f0\u4e3a<code>\u4fe1\u53f7\u53d8\u5316\u6b21\u6570</code>\u3001<code>\u8109\u51b2\u4e2a\u6570</code>\uff09\uff0c\u53c8\u79f0\u7801\u5143\u901f\u7387\u3001\u6ce2\u5f62\u901f\u7387\u3001\u8c03\u5236\u901f\u7387\u3001\u7b26\u53f7\u901f\u7387\u7b49\uff0c\u5355\u4f4d\u662f{% span green, \u6ce2\u7279\uff08Baud\uff09 %}\u3002</p> <p>1 \u6ce2\u7279\u8868\u793a\u6570\u5b57\u901a\u4fe1\u7cfb\u7edf\u6bcf\u79d2\u4f20\u8f93 1 \u4e2a\u7801\u5143\uff081 Baud = 1 \u7801\u5143/s\uff09\uff0c3 \u6ce2\u7279\u8868\u793a\u6bcf\u79d2\u4f20\u8f93 3 \u4e2a\u7801\u5143\u3002</p> <p>\u8fd9\u91cc\u7684\u7801\u5143\u53ef\u4ee5\u662f\u591a\u8fdb\u5236\u7684\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e8c\u8fdb\u5236\u7684\uff0c\u5373**\u7801\u5143\u901f\u7387\u4e0e\u7801\u5143\u8fdb\u5236\u65e0\u5173**\u3002</p> </li> <li> <p>\u4fe1\u606f\u4f20\u8f93\u901f\u7387\uff1a\u8868\u793a\u5355\u4f4d\u65f6\u95f4\u5185\uff0c\u6570\u5b57\u901a\u4fe1\u7cfb\u7edf\u6240\u4f20\u8f93\u7684\u4e8c\u8fdb\u5236\u7801\u5143\u4e2a\u6570\uff08\u5373<code>\u6bd4\u7279\u6570</code>\uff09\uff0c\u53c8\u79f0\u4fe1\u606f\u901f\u7387\u3001\u6bd4\u7279\u7387\u7b49\uff0c\u5355\u4f4d\u662f{% span blue, \u6bd4\u7279/\u79d2\uff08b/s\uff09 %}\u3002</p> </li> </ul> <p>\u7801\u5143\u901f\u7387\u4e0e\u4fe1\u606f\u901f\u7387\u7684\u5173\u7cfb:</p> <p>\u82e5\u4e00\u4e2a\u7801\u5143\u643a\u5e26 n bit \u7684\u4fe1\u606f\u91cf\uff0c\u5219 M Baud \u7684\u7801\u5143\u4f20\u8f93\u901f\u7387\u6240\u5bf9\u5e94\u7684\u4fe1\u606f\u4f20\u8f93\u901f\u7387\u4e3a \\(M \\times n\\) bit/s\u3002</p> <p>\u5982\uff1a3 \u6ce2\u7279\u4e8c\u8fdb\u5236\u7801\u5143\u7684\u4fe1\u606f\u901f\u7387\u3002</p> <p>\u4e8c\u8fdb\u5236\u7801\u5143\u4e2d\u6bcf\u4e2a\u7801\u5143\u643a\u5e26 1 \u4e2a\u6bd4\u7279\u4fe1\u606f\uff0c3 \u6ce2\u7279\u8868\u793a\u6bcf\u79d2\u4f20\u8f93 3 \u4e2a\u7801\u5143\uff0c\u5219\u5bf9\u5e94\u7684\u4fe1\u606f\u901f\u7387\u4e3a \\(3 \\times 1\\) b/s\u3002</p> <p>\u56db\u8fdb\u5236\u7801\u5143\u4e2d\u6bcf\u4e2a\u7801\u5143\u643a\u5e26 2 \u4e2a\u6bd4\u7279\u4fe1\u606f\uff0c8 \u6ce2\u7279\u8868\u793a\u6bcf\u79d2\u4f20\u8f93 8 \u4e2a\u7801\u5143\uff0c\u5219\u5bf9\u5e94\u7684\u4fe1\u606f\u901f\u7387\u4e3a \\(8 \\times 2\\) b/s\u3002</p> <p>{% span blue, \u5e26\u5bbd %}\uff0c\u8868\u793a\u5728\u5355\u4f4d\u65f6\u95f4\u5185\u4ece\u7f51\u7edc\u4e2d\u67d0\u4e00\u70b9\u5230\u53e6\u4e00\u70b9\u6240\u80fd\u901a\u8fc7\u7684\u201c\u6700\u9ad8\u4f20\u8f93\u6570\u636e\u7387\u201d\uff08\u4e3b\u673a\u4f20\u8f93\u5230\u4fe1\u9053\u4e0a\uff09\uff0c\u5e38\u7528\u6765\u8868\u793a\u7f51\u7edc\u901a\u4fe1\u7ebf\u8def\u6240\u80fd\u4f20\u8f93\u6570\u636e\u7684\u80fd\u529b\u3002\u5355\u4f4d\u662f b/s\u3002</p> <p>\u5e26\u5bbd\u4e0e\u901f\u7387\u7684\u5173\u7cfb\uff1a\u5e26\u5bbd\u662f\u6700\u9ad8\u4f20\u8f93\u6570\u636e\u7387\uff0c\u901f\u7387\u662f\u5b9e\u9645\u4f20\u8f93\u6570\u636e\u7387\u3002</p>","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_8","title":"\u4e60\u9898","text":"<p>\u67d0\u4e00\u6570\u5b57\u901a\u4fe1\u7cfb\u7edf\u4f20\u8f93\u7684\u56db\u8fdb\u5236\u7801\u5143\uff0c4s \u4f20\u8f93\u4e86 8000 \u4e2a\u7801\u5143\uff0c\u6c42\u7801\u5143\u901f\u7387\u548c\u4fe1\u606f\u901f\u7387\u3002</p> <p>\u67d0\u4e00\u6570\u5b57\u901a\u4fe1\u7cfb\u7edf\u4f20\u8f93\u7684\u5341\u516d\u8fdb\u5236\u7801\u5143\uff0c6s \u4f20\u8f93\u4e86 7200 \u4e2a\u7801\u5143\uff0c\u6c42\u7801\u5143\u901f\u7387\u548c\u4fe1\u606f\u901f\u7387\u3002</p> <p>\u90a3\u79cd\u66f4\u5feb\uff1f</p> <p>\u7b54\uff1a</p> <p>\u56db\u8fdb\u5236\u7801\u5143\u7cfb\u7edf\uff1a\u7801\u5143\u901f\u7387 = \\(8000 \\div 4 = 2000\\) Baud\uff0c\u4fe1\u606f\u901f\u7387 = \\(2000 \\times log_24=4000b/s\\)</p> <p>\u5341\u516d\u8fdb\u5236\u7801\u5143\u7cfb\u7edf\uff1a\u7801\u5143\u901f\u7387 = \\(7200\\div6=1200\\) Baud\uff0c\u4fe1\u606f\u901f\u7387 = \\(1200\\times log_2{16} = 4800b/s\\)</p> <p>\u7cfb\u7edf\u4f20\u8f93\u7684\u662f\u6bd4\u7279\u6d41\uff0c\u901a\u5e38\u6bd4\u8f83\u7684\u662f\u4fe1\u606f\u901f\u7387\uff0c\u6240\u4ee5\u7b2c\u4e8c\u79cd\u66f4\u5feb\u3002</p>","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_9","title":"\u5948\u6c0f\u51c6\u5219\u3001\u9999\u519c\u5b9a\u7406","text":"","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_10","title":"\u5931\u771f","text":"<p>\u5f71\u54cd\u5931\u771f\u7a0b\u5ea6\u7684\u56e0\u7d20\uff1a</p> <ol> <li>\u7801\u5143\u4f20\u8f93\u901f\u7387</li> <li>\u4fe1\u53f7\u4f20\u8f93\u8ddd\u79bb</li> <li>\u566a\u58f0\u5e72\u6270</li> <li>\u4f20\u8f93\u5a92\u4f53\u8d28\u91cf</li> </ol> <p>\u7801\u95f4\u4e32\u6270\uff1a\u63a5\u6536\u7aef\u6536\u5230\u7684\u4fe1\u53f7\u6ce2\u5f62**\u5931\u53bb\u4e86\u7801\u5143\u4e4b\u95f4\u6e05\u6670\u754c\u9650**\u7684\u73b0\u8c61\u3002</p>","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_11","title":"\u5948\u6c0f\u51c6\u5219\uff08\u5948\u594e\u65af\u7279\u5b9a\u7406\uff09","text":"<p>\u5948\u6c0f\u51c6\u5219\uff1a\u5728\u7406\u60f3\u4f4e\u901a\uff08\u65e0\u566a\u58f0\u3001\u5e26\u5bbd\u53d7\u9650\uff09\u6761\u4ef6\u4e0b\uff0c\u4e3a\u4e86\u907f\u514d\u7801\u95f4\u4e32\u6270\uff0c\u6781\u9650\u7801\u5143\u4f20\u8f93\u901f\u7387\u4e3a 2W Baud\u3002</p> <p>W \u662f\u4fe1\u9053\u5e26\u5bbd\uff0c\u5355\u4f4d\u662f Hz\u3002</p> <p>\u7406\u60f3\uff1a\u6307\u65e0\u7535\u78c1\u5e72\u6270 \u4f4e\u901a\uff1a\u6307\u4f4e\u4e8e\u4fe1\u9053\u5e26\u5bbd\uff08\u4fe1\u9053\u80fd\u901a\u8fc7\u7684\u6700\u9ad8\u9891\u7387\u548c\u6700\u4f4e\u9891\u7387\u4e4b\u5dee\uff09 \u6781\u9650\u7801\u5143\u901f\u7387\uff1a\\(2W \\;Baud\\) \u63a8\u5e7f\u53ef\u5f97\uff1a\u6781\u9650\u4fe1\u606f\u901f\u7387\uff1a\\(2Wlog_2V \\;b/s\\)\uff0cV\u4e3a\u7801\u5143\u8fdb\u5236\uff0c\\(log_2V\\)\u4e3a\u7801\u5143\u7684\u79bb\u6563\u7535\u5e73\u6570\u76ee</p> <ol> <li>\u5728\u4efb\u4f55\u4fe1\u9053\u4e2d\uff0c\u7801\u5143\u901f\u7387\u662f\u6709\u4e0a\u9650\u7684\u3002\u8d85\u8fc7\u4e0a\u9650\u5c31\u4f1a\u51fa\u73b0\u4e25\u91cd\u7684\u7801\u95f4\u4e32\u6270\u95ee\u9898\uff0c\u4f7f\u63a5\u6536\u7aef\u4e0d\u53ef\u80fd\u5b8c\u5168\u6b63\u786e\u8bc6\u522b\u7801\u5143\u3002</li> <li>\u4fe1\u9053\u7684\u9891\u5e26\u8d8a\u5bbd\uff08\u5373\u80fd\u901a\u8fc7\u7684\u4fe1\u53f7\u9ad8\u9891\u5206\u91cf\u8d8a\u591a\uff09\uff0c\u5c31\u53ef\u4ee5\u7528\u66f4\u9ad8\u7684\u901f\u7387\u8fdb\u884c\u7801\u5143\u7684\u6709\u6548\u4f20\u8f93\u3002</li> <li>\u5948\u6c0f\u51c6\u5219\u7ed9\u51fa\u4e86\u7801\u5143\u901f\u7387\u7684\u9650\u5236\uff0c\u5f53\u6ca1\u6709\u7ed9\u51fa\u4fe1\u606f\u901f\u7387\u7684\u9650\u5236\u3002</li> <li>\u7531\u4e8e\u7801\u5143\u901f\u7387\u53d7\u9650\u4e0e\u5948\u6c0f\u51c6\u5219\uff0c\u6240\u4ee5\u8981\u63d0\u9ad8\u6570\u636e\u4f20\u8f93\u901f\u7387\uff0c\u5c31\u5fc5\u987b\u63d0\u9ad8\u7801\u5143\u8fdb\u5236\u4ee5\u4f7f\u6bcf\u4e2a\u7801\u5143\u643a\u5e26\u66f4\u591a\u6bd4\u7279\u7684\u4fe1\u606f\u91cf\u3002</li> </ol>","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_12","title":"\u9999\u519c\u5b9a\u7406","text":"<p>\u566a\u58f0\u5b58\u5728\u4e8e\u6240\u6709\u7535\u5b50\u8bbe\u5907\u548c\u901a\u4fe1\u4fe1\u9053\u4e2d\u3002\u7531\u4e8e\u566a\u58f0\u968f\u673a\u4ea7\u751f\uff0c\u5b83\u7684\u77ac\u65f6\u503c\u6709\u65f6\u4f1a\u5f88\u5927\uff0c\u56e0\u6b64\u566a\u58f0\u4f1a\u4f7f\u63a5\u6536\u7aef\u5bf9\u7801\u5143\u7684\u5224\u51b3\u4ea7\u751f\u9519\u8bef\u3002\u4f46\u566a\u58f0\u7684\u5f71\u54cd\u662f\u76f8\u5bf9\u7684\uff0c\u6240\u4fe1\u53f7\u8f83\u5f3a\uff0c\u90a3\u4e48\u566a\u58f0\u5f71\u54cd\u76f8\u5bf9\u8f83\u5c0f\u3002\u5373\u4fe1\u53f7\u5f3a\u5ea6\u4e0e\u566a\u58f0\u5f71\u54cd\u6210\u53cd\u6bd4\u3002\u56e0\u6b64\uff0c\u4fe1\u566a\u6bd4\u5c31\u5f88\u91cd\u8981\u3002</p> <p>\u4fe1\u566a\u6bd4 = \u4fe1\u53f7\u7684\u5e73\u5747\u529f\u7387 S /\u566a\u58f0\u7684\u5e73\u5747\u529f\u7387 N\uff0c\u8bb0\u4e3a S/N\uff0c\u5e76\u7528\u5206\u8d1d\uff08dB\uff09\u4f5c\u4e3a\u5ea6\u91cf\u5355\u4f4d\uff0c\u5373\uff1a $$ \u4fe1\u566a\u6bd4\uff08dB\uff09 = 10 \\times log_{10}{(S/N)} $$</p> <p>\u9999\u519c\u5b9a\u7406\uff1a\u5728\u5e26\u5bbd\u53d7\u9650\u4e14\u6709\u566a\u58f0\u7684\u4fe1\u9053\u4e2d\uff0c\u4e3a\u4e86\u4e0d\u4ea7\u751f\u8bef\u5dee\uff0c\u4fe1\u606f\u7684\u6570\u636e\u4f20\u8f93\u901f\u7387\u6709\u4e0a\u9650\u503c\u4e3a $$ \u4fe1\u9053\u7684\u6781\u9650\u6570\u636e\u4f20\u8f93\u901f\u7387 = Wlog_2(1+S/N)\uff08b/s\uff09\\\\ \u4fe1\u9053\u7684\u6781\u9650\u6570\u636e\u4f20\u8f93\u901f\u7387 = \u4fe1\u9053\u5e26\u5bbd \\times log_2(1+\u4fe1\u53f7\u5e73\u5747\u529f\u7387/\u566a\u58f0\u5e73\u5747\u529f\u7387)\uff08\u6bd4\u7279/\u79d2\uff09 $$</p> <ol> <li>\u4fe1\u9053\u7684\u5e26\u5bbd\u6216\u4fe1\u9053\u4e2d\u7684\u4fe1\u566a\u6bd4\u8d8a\u5927\uff0c\u5219\u4fe1\u606f\u7684\u6781\u9650\u4f20\u8f93\u901f\u7387\u5c31\u8d8a\u9ad8\u3002</li> <li>\u5bf9\u4e00\u5b9a\u7684\u4f20\u8f93\u5e26\u5bbd\u548c\u4e00\u5b9a\u7684\u4fe1\u566a\u6bd4\uff0c\u4fe1\u606f\u4f20\u8f93\u901f\u7387\u7684\u4e0a\u9650\u5c31\u786e\u5b9a\u4e86\u3002</li> <li>\u53ea\u8981\u4fe1\u606f\u7684\u4f20\u8f93\u901f\u7387\u4f4e\u4e8e\u4fe1\u9053\u7684\u6781\u9650\u4f20\u8f93\u901f\u7387\uff0c\u5c31\u4e00\u5b9a\u80fd\u627e\u5230\u67d0\u79cd\u65b9\u6cd5\u6765\u5b9e\u73b0\u65e0\u5dee\u9519\u7684\u4f20\u8f93\u3002</li> <li>\u9999\u519c\u5b9a\u7406\u5f97\u51fa\u7684\u4e3a\u6781\u9650\u4fe1\u606f\u4f20\u8f93\u901f\u7387\uff0c\u5b9e\u9645\u4fe1\u9053\u80fd\u8fbe\u5230\u7684\u4f20\u8f93\u901f\u7387\u8981\u6bd4\u5b83\u4f4e\u4e0d\u5c11\u3002</li> <li>\u4ece\u9999\u519c\u5b9a\u7406\u53ef\u4ee5\u770b\u51fa\uff0c\u82e5\u4fe1\u9053\u5e26\u5bbd W \u6216\u4fe1\u9053\u6bd4 S/N \u6ca1\u6709\u4e0a\u9650(\u4e0d\u53ef\u80fd),\u90a3\u4e48\u4fe1\u9053\u7684\u6781\u9650\u4fe1\u606f\u4f20\u8f93\u901f\u7387\u4e5f\u5c31\u6ca1\u6709\u4e0a\u9650\u3002</li> </ol>","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_13","title":"\u4e60\u9898","text":"<p>\u7535\u8bdd\u7cfb\u7edf\u7684\u5178\u578b\u53c2\u6570\u662f\u4fe1\u9053\u5e26\u5bbd\u4e3a 3kHz\uff0c\u4fe1\u566a\u6bd4\u4e3a 30dB\uff0c\u5219\u8be5\u7cfb\u7edf\u6700\u5927\u6570\u636e\u4f20\u8f93\u901f\u7387\u662f\u591a\u5c11\uff1f</p> <p>\u7b54\uff1a $$ 30dB = 10log_{10}(S/N) \\\\ 3dB = log_{10}(S/N) \\\\ dB = S/N = 1000 $$ \u4fe1\u9053\u7684\u6781\u9650\u6570\u636e\u4f20\u8f93\u901f\u7387 = \\(Wlog_2(1+S/N) = 3k \\times log_2{(1+1000)} \\approx 30kb/s\\)</p> \u5948\u6c0f\u51c6\u5219 \u9999\u519c\u5b9a\u7406 \u5bbd\u5e26\u53d7\u9650\u3001\u65e0\u566a\u58f0\u4e0b\uff0c\u4e3a\u4e86\u907f\u514d\u7801\u95f4\u4e32\u6270\uff0c\u7801\u5143\u4f20\u8f93\u901f\u7387\u4e0a\u9650\u4e3a 2W Baud\u3002 \u5bbd\u5e26\u53d7\u9650\u3001\u6709\u566a\u58f0\u6761\u4ef6\u4e0b\u7684\u4fe1\u606f\u4f20\u8f93\u901f\u7387\u3002 \u4fe1\u9053\u6781\u9650\u6570\u636e\u4f20\u8f93\u901f\u7387 \\(2Wlog_2V\\)\uff08W \u4fe1\u9053\u5e26\u5bbd\uff0cV \u7801\u5143\u8fdb\u5236\uff09 \\(Wlog_2(1+S/N)\\)\uff08W \u4fe1\u9053\u5e26\u5bbd\uff0cS/N \u4fe1\u566a\u6bd4\uff09 \u63d0\u9ad8\u901f\u7387 \u63d0\u9ad8\u7801\u5143\u8fdb\u5236 \u63d0\u9ad8\u5e26\u5bbd\u6216\u4fe1\u566a\u6bd4","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_14","title":"\u7f16\u7801\u4e0e\u8c03\u5236","text":"<p>\u4fe1\u9053\u4e0a\u4f20\u64ad\u7684\u4fe1\u53f7\u5206\u4e3a <code>\u57fa\u5e26\u4fe1\u53f7</code> \u548c <code>\u5bbd\u5e26\u4fe1\u53f7</code>\u3002</p> <ul> <li> <p>\u57fa\u5e26\u4fe1\u53f7\uff1a<code>\u6765\u81ea\u4fe1\u6e90</code>\u7684\u4fe1\u53f7\uff0c\u5c06\u6570\u5b57\u4fe1\u53f7 1 \u548c 0 \u76f4\u63a5\u7528\u4e24\u79cd\u4e0d\u540c\u7684\u7535\u538b\u8868\u793a\uff0c\u518d\u9001\u5230<code>\u6570\u5b57\u4fe1\u9053</code>\u4e0a\u53bb\u4f20\u8f93\uff08\u57fa\u5e26\u4f20\u8f93\uff09\u3002</p> <p>\u50cf\u8ba1\u7b97\u673a\u8f93\u51fa\u7684\u4ee3\u8868\u5404\u79cd\u6587\u5b57\u6216\u56fe\u50cf\u7684\u6570\u636e\u4fe1\u53f7\u90fd\u5c5e\u4e8e\u57fa\u5e26\u4fe1\u53f7\uff0c\u57fa\u5e26\u4fe1\u53f7\u5c31\u662f\u53d1\u51fa\u7684<code>\u76f4\u63a5\u8868\u8fbe\u4e86\u8981\u4f20\u8f93\u7684\u4fe1\u606f\u7684\u4fe1\u53f7</code>\uff0c\u5982\u6211\u4eec\u8bf4\u8bdd\u7684\u751a\u6216\u5c31\u662f\u57fa\u5e26\u4fe1\u53f7\u3002</p> </li> <li> <p>\u5bbd\u5e26\u4fe1\u53f7\uff1a\u5c06\u57fa\u5e26\u4fe1\u53f7\u8fdb\u884c\u8c03\u5236\u540e\u5f62\u6210\u7684\u9891\u5206\u590d\u7528\u6a21\u62df\u4fe1\u53f7\uff0c\u518d\u4f20\u9001\u5230<code>\u6a21\u62df\u4fe1\u9053</code>\u4e0a\u53bb\u4f20\u8f93\uff08\u5bbd\u5e26\u4f20\u8f93\uff09\u3002</p> <p>\u628a\u57fa\u5e26\u4fe1\u53f7\u7ecf\u8fc7<code>\u8f7d\u6ce2\u8c03\u5236</code>\u540e\uff0c\u628a\u4fe1\u53f7\u7684<code>\u9891\u7387\u8303\u56f4</code>\u642c\u79fb\u5230\u8f83\u9ad8\u7684\u9891\u6bb5\uff0c\u4ee5\u4fbf\u5728\u4fe1\u9053\u4e2d\u4f20\u8f93\uff08\u5373\u4ec5\u5728\u4e00\u6bb5\u9891\u7387\u8303\u56f4\u5185\u80fd\u591f\u901a\u8fc7\u4fe1\u9053\uff09\u3002</p> </li> </ul> <p>\u5728\u4f20\u8f93\u8ddd\u79bb\u8fd1\u65f6\uff0c\u8ba1\u7f51\u91c7\u7528**\u57fa\u5e26\u4f20\u8f93**\u65b9\u5f0f\uff08\u56e0\u4e3a\u8fd1\u8ddd\u79bb\u8870\u51cf\u5c0f\uff0c\u4ece\u800c\u4fe1\u53f7\u5185\u5bb9\u4e0d\u6613\u53d1\u751f\u53d8\u5316\uff09</p> <p>\u5728\u4f20\u8f93\u8ddd\u79bb\u8fdc\u65f6\uff0c\u8ba1\u7f51\u91c7\u7528**\u5bbd\u5e26\u4f20\u8f93**\u65b9\u5f0f\uff08\u56e0\u4e3a\u8fdc\u8ddd\u79bb\u8870\u51cf\u5927\uff0c\u5373\u4f7f\u4fe1\u53f7\u53d8\u5316\u5927\u4e5f\u80fd\u8fc7\u6ee4\u8fd8\u539f\u51fa\u57fa\u5e26\u4fe1\u53f7\uff09</p> <p></p> <p></p>","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_15","title":"\u7f16\u7801","text":"","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_16","title":"\u6570\u5b57\u6570\u636e ==&gt; \u6570\u5b57\u4fe1\u53f7","text":"<ol> <li> <p>\u975e\u5f52\u96f6\u7f16\u7801\uff1a<code>\u9ad8 1 \u4f4e 0</code>\u3002\u7f16\u7801\u5bb9\u6613\u5b9e\u73b0\uff0c\u4f46\u6ca1\u6709\u68c0\u9519\u529f\u80fd\uff0c\u4e14\u65e0\u6cd5\u5224\u65ad\u4e00\u4e2a\u7801\u5143\u7684\u5f00\u59cb\u548c\u7ed3\u675f\uff0c\u4ee5\u81f3\u4e8e\u9996\u53d1\u53cc\u65b9\u96be\u4ee5\u4fdd\u6301\u540c\u6b65\u3002</p> </li> <li> <p>\u5f52\u96f6\u7f16\u7801\uff1a<code>\u4fe1\u53f7\u7535\u5e73\u5728\u4e00\u4e2a\u7801\u5143\u5185\u90fd\u8981\u6062\u590d\u5230\u96f6</code>\u3002</p> </li> <li> <p>\u53cd\u5411\u4e0d\u5f52\u96f6\u7f16\u7801\uff1a<code>0 \u5219\u7535\u5e73\u7ffb\u8f6c\uff0c1 \u5219\u7535\u5e73\u4e0d\u53d8</code>\u3002</p> <p></p> </li> <li> <p>\u66fc\u5f7b\u65af\u7279\u7f16\u7801\uff1a<code>\u524d\u9ad8\u540e\u4f4e\u8868\u793a 1\uff0c\u524d\u4f4e\u540e\u9ad8\u8868\u793a 0</code>\u3002\u5c06\u4e00\u4e2a\u7801\u5143\u5206\u6210\u4e24\u4e2a\u76f8\u7b49\u7684\u95f4\u9694\uff0c\u6bcf\u4e00\u4e2a\u7801\u5143\u7684\u4e2d\u95f4\u51fa\u73b0\u8df3\u53d8\uff0c\u4f4d\u4e2d\u95f4\u7684\u8df3\u53d8\u65e2\u4f5c\u65f6\u949f\u4fe1\u53f7\uff08\u53ef\u7528\u4e8e\u540c\u6b65\uff09\uff0c\u53c8\u4f5c\u6570\u636e\u4fe1\u53f7\uff0c\u4f46\u5b83\u6240\u5360\u7684\u9891\u5e26\u5bbd\u5ea6\u662f\u539f\u59cb\u57fa\u5e26\u5bbd\u5ea6\u7684\u4e24\u500d\u3002</p> </li> <li> <p>\u5dee\u5206\u66fc\u5f7b\u65af\u7279\u7f16\u7801\uff1a<code>\u540c 1 \u5f02 0</code>\uff0c<code>\u524d\u540e\u4e24\u4e2a\u7801\u5143\u4e4b\u95f4\u53d1\u751f\u8df3\u53d8\u5219\u524d\u4e00\u4e2a\u4e3a 1\uff0c\u6ca1\u53d1\u751f\u8df3\u53d8\u5219\u524d\u4e00\u4e2a\u4e3a 0</code>\u3002\u7801\u5143\u4e2d\u95f4\u7684\u4e00\u6b21\u7535\u5e73\u8df3\u53d8\u53ef\u4ee5\u5b9e\u73b0\u81ea\u52a8\u540c\u6b65\uff0c\u5dee\u5206\u66fc\u5f7b\u65af\u7279\u7684\u6297\u5e72\u6270\u6027\u5f3a\u4e8e\u66fc\u5f7b\u65af\u7279\u3002</p> </li> </ol> <p></p> <ol> <li> <p>4B/5B\u7f16\u7801\uff1a\u6bd4\u7279\u6d41\u4e2d\u63d2\u5165\u989d\u5916\u7684\u6bd4\u7279\u4ee5\u6253\u7834\u4e00\u8fde\u4e32\u7684 0 \u6216 1\uff0c\u5c31\u662f\u7528 5 \u4e2a\u6bd4\u7279\u6765\u7f16\u7801 4 \u4e2a\u6bd4\u7279\u7684\u6570\u636e\uff0c\u4e4b\u540e\u518d\u4f20\u7ed9\u63a5\u6536\u65b9\uff0c\u56e0\u6b64\u79f0\u4e3a 4B/5B\u3002\u7f16\u7801\u6548\u7387\u4e3a80%\u3002</p> <p>\u53ea\u91c7\u7528 16 \u79cd\u5bf9\u5e94 16 \u79cd\u4e0d\u540c\u7684 4 \u4f4d\u7801\uff0c\u53e6\u591616\u4e2d\u4f5c\u4e3a\u63a7\u5236\u7801\uff08\u5e27\u7684\u5f00\u59cb\u3001\u7ed3\u675f\uff0c\u7ebf\u8def\u72b6\u6001\u7b49\uff09\u6216\u4fdd\u7559\u3002</p> </li> </ol>","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_17","title":"\u6570\u5b57\u6570\u636e ==&gt; \u6a21\u62df\u4fe1\u53f7","text":"<p>\u6570\u5b57\u6570\u636e\u8c03\u5236\u6280\u672f\uff1a</p> <ul> <li>\u8c03\u5236\uff1a\u5728\u53d1\u9001\u7aef\u5c06\u6570\u5b57\u4fe1\u53f7\u8f6c\u6362\u4e3a\u6a21\u62df\u4fe1\u53f7</li> <li>\u89e3\u8c03\uff1a\u5728\u63a5\u6536\u7aef\u5c06\u6a21\u62df\u4fe1\u53f7\u8f6c\u6362\u4e3a\u6570\u5b57\u4fe1\u53f7</li> </ul> <p></p> <p>\u8c03\u5e45\uff1a\u8f7d\u6ce2\u7684\u632f\u5e45\u968f\u57fa\u5e26\u6570\u5b57\u4fe1\u53f7\u800c\u53d8\u5316\u3002</p> <p>\u8c03\u9891\uff1a\u8f7d\u6ce2\u7684\u9891\u7387\u968f\u57fa\u5e26\u6570\u5b57\u4fe1\u53f7\u800c\u53d8\u5316\u3002</p> <p>\u8c03\u76f8\uff1a\u8f7d\u6ce2\u7684\u521d\u59cb\u76f8\u4f4d\u968f\u57fa\u5e26\u6570\u5b57\u4fe1\u53f7\u800c\u53d8\u5316\u3002</p> <p>QAM\uff1a\u8c03\u5e45+\u8c03\u76f8\uff0c\u5728\u8c03\u76f8\u7684\u57fa\u7840\u4e0a\u5bf9\u632f\u5e45\u8fdb\u884c\u8c03\u6574\uff0c\u6216\u5728\u8c03\u5e45\u7684\u57fa\u7840\u4e0a\u5bf9\u76f8\u4f4d\u8fdb\u884c\u8c03\u6574\u3002</p>","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_18","title":"\u8c03\u5236","text":"","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_19","title":"\u6a21\u62df\u4fe1\u53f7 ==&gt; \u6570\u5b57\u4fe1\u53f7","text":"<ol> <li> <p>\u62bd\u6837\uff1a\u5bf9\u6a21\u62df\u4fe1\u53f7\u5468\u671f\u6027\u626b\u63cf\uff0c\u628a\u65f6\u95f4\u4e0a\u8fde\u7eed\u7684\u4fe1\u53f7\u53d8\u6210\u65f6\u95f4\u4e0a\u79bb\u6563\u7684\u4fe1\u53f7\u3002</p> <p>\u4e3a\u4e86\u4f7f\u6240\u5f97\u7684\u79bb\u6563\u4fe1\u53f7\u80fd\u65e0\u5931\u771f\u5730\u4ee3\u8868\u88ab\u62bd\u6837\u7684\u6a21\u62df\u6570\u636e\uff0c\u8981\u4f7f\u7528\u91c7\u6837\u5b9a\u7406\u8fdb\u884c\u91c7\u6837\uff1a\\(\u91c7\u6837\u9891\u7387\\;f \\ge 2f\\;\u4fe1\u53f7\u6700\u9ad8\u9891\u7387\\)</p> </li> <li> <p>\u91cf\u5316\uff1a\u628a\u62bd\u6837\u53d6\u5f97\u7684\u7535\u5e73\u5e45\u503c\u6309\u7167\u4e00\u5b9a\u7684\u5206\u7ea7\u6807\u5ea6\u8f6c\u5316\u4e3a\u5bf9\u5e94\u7684\u6570\u5b57\u503c\uff0c\u5e76\u53d6\u6574\u6570\uff0c\u8fd9\u6837\u5c31\u80fd\u628a\u8fde\u7eed\u7684\u7535\u5e73\u5e45\u503c\u8f6c\u6362\u4e3a\u79bb\u6563\u7684\u6570\u5b57\u91cf\u3002</p> </li> <li> <p>\u7f16\u7801\uff1a\u628a\u91cf\u5316\u7684\u7ed3\u679c\u8f6c\u5316\u4e3a\u4e0e\u4e4b\u5bf9\u5e94\u7684\u4e8c\u8fdb\u5236\u7f16\u7801\u3002</p> </li> </ol>","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_20","title":"\u6a21\u62df\u4fe1\u53f7 ==&gt; \u6a21\u62df\u4fe1\u53f7","text":"<p>\u4e3a\u4e86\u5b9e\u73b0\u4f20\u8f93\u7684\u6709\u6548\u6027\uff0c\u53ef\u80fd\u9700\u8981\u8f83\u9ad8\u7684\u9891\u7387\u3002\u8fd9\u79cd\u8c03\u5242\u65b9\u5f0f\u8fd8\u53ef\u4ee5\u4f7f\u7528**\u9891\u5206\u590d\u7528**\u6280\u672f\uff0c\u5145\u5206\u5229\u7528\u5e26\u5bbd\u8d44\u6e90\u3002\u5728\u7535\u8bdd\u673a\u548c\u672c\u5730\u4ea4\u6362\u673a\u6240\u4f20\u8f93\u7684\u4fe1\u53f7\u662f\u91c7\u7528\u6a21\u62df\u4fe1\u53f7\u4f20\u8f93\u6a21\u62df\u6570\u636e\u7684\u65b9\u5f0f\uff1b\u6a21\u62df\u7684\u58f0\u97f3\u6570\u636e\u662f\u52a0\u8f7d\u5230\u6a21\u62df\u7684\u8f7d\u6ce2\u4fe1\u53f7\u4e2d\u4f20\u8f93\u7684\u3002</p>","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_21","title":"\u4f20\u8f93\u4ecb\u8d28","text":"<p>\u4f20\u8f93\u4ecb\u8d28\uff0c\u4e5f\u79f0\u4f20\u8f93\u5a92\u4f53/\u4f20\u8f93\u5a92\u4ecb\uff0c\u662f\u6570\u636e\u4f20\u8f93\u7cfb\u7edf\u5728\u53d1\u9001\u8bbe\u5907\u548c\u63a5\u6536\u8bbe\u5907\u4e4b\u95f4\u7684**\u7269\u7406\u901a\u8def**\u3002</p> <p>\u4f20\u8f93\u4ecb\u8d28\u4e0d\u662f\u7269\u7406\u5c42\uff0c\u800c\u662f\u5728\u7269\u7406\u5c42\u4e0b\u9762\uff0c\u6709\u4f53\u7cfb\u7ed3\u6784\u7b2c 0 \u5c42\u4e4b\u79f0\uff0c\u800c\u7269\u7406\u5c42\u662f\u7b2c 1 \u5c42\u3002</p> <p>\u5728\u4f20\u8f93\u5a92\u4f53\u4e2d\u4f20\u8f93\u7684\u662f\u4fe1\u53f7\uff0c\u4f20\u8f93\u5a92\u4f53\u5e76\u4e0d\u77e5\u9053\u6240\u4f20\u8f93\u7684\u4fe1\u53f7\u4ee3\u8868\u4ec0\u4e48\u610f\u601d\uff0c\u5f53\u7269\u7406\u5c42\u89c4\u5b9a\u4e86\u7535\u6c14\u7279\u6027\uff0c\u56e0\u6b64\u80fd\u591f\u8bc6\u522b\u6240\u4f20\u9001\u7684\u6bd4\u7279\u6d41\u3002</p> <p>\u4f20\u8f93\u4ecb\u8d28\u5206 <code>\u5bfc\u5411\u6027\u4f20\u8f93\u4ecb\u8d28</code> \u548c <code>\u975e\u5bfc\u5411\u6027\u4f20\u8f93\u4ecb\u8d28</code>\u3002</p> <ul> <li>\u5bfc\u5411\u6027\u4f20\u8f93\u4ecb\u8d28\uff1a\u7535\u78c1\u6ce2\u6cbf\u7740\u56fa\u5b9a\u5a92\u4ecb\uff08\u94dc\u7ebf/\u5149\u7ea4\uff09\u4f20\u64ad\u3002</li> <li>\u975e\u5bfc\u5411\u6027\u4f20\u8f93\u4ecb\u8d28\uff1a\u81ea\u7531\u7a7a\u95f4\u3001\u7a7a\u6c14\u3001\u771f\u7a7a\u3001\u6d77\u6c34\u7b49\u3002</li> </ul>","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_22","title":"\u5bfc\u5411\u6027\u4f20\u8f93\u4ecb\u8d28","text":"","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_23","title":"\u53cc\u7ede\u7ebf","text":"<p>\u7531\u4e24\u4e2a\u91c7\u7528\u4e00\u5b9a\u89c4\u5219\u5e76\u6392\u7ede\u5408\u7684\u3001\u76f8\u4e92\u7edd\u7f18\u7684\u94dc\u5bfc\u7ebf\u7ec4\u6210\u3002\u7ede\u5408\u53ef\u4ee5\u51cf\u5c11\u5bf9\u76f8\u90bb\u5bfc\u7ebf\u7684\u7535\u78c1\u5e72\u6270\u3002</p> <p>\u4e3a\u4e86\u8fdb\u4e00\u6b65\u63d0\u9ad8\u6297\u7535\u78c1\u5e72\u6270\u80fd\u529b\uff0c\u53ef\u5728\u53cc\u7ede\u7ebf\u5916\u9762\u52a0\u4e0a\u4e00\u4e2a\u91d1\u5c5e\u4e1d\u7f16\u5236\u6210\u7684\u5c4f\u853d\u5c42\u3002</p> <p>\u6709\u5c4f\u853d\u5c42\u7684\u5c31\u662f\u5c4f\u853d\u53cc\u7ede\u7ebf STP\uff0c\u6ca1\u6709\u7684\u5c31\u662f\u975e\u5c4f\u853d\u5c42\u53cc\u7ede\u7ebf UTP\u3002</p> <p></p> <p>\u53cc\u7ede\u7ebf\u4ef7\u683c\u4fbf\u5b9c\uff0c\u5728\u5c40\u57df\u7f51\u548c\u4f20\u7edf\u7535\u8bdd\u7f51\u4e2d\u666e\u904d\u4f7f\u7528\u3002\u6a21\u62df\u4f20\u8f93\u548c\u6570\u5b57\u4f20\u8f93\u90fd\u53ef\u4ee5\u4f7f\u7528\u53cc\u7ede\u7ebf\uff0c\u5176\u901a\u4fe1\u8ddd\u79bb\u4e00\u822c\u4e3a\u51e0\u516c\u91cc\u5230\u6570\u5341\u516c\u91cc\u3002</p> <p>\u8ddd\u79bb\u592a\u8fdc\u65f6\uff0c\u5bf9\u4e8e**\u6a21\u62df\u4f20\u8f93**\uff0c\u8981\u7528\u653e\u5927\u5668\u653e\u5927\u8870\u51cf\u7684\u4fe1\u53f7\uff1b\u5bf9\u4e8e**\u6570\u5b57\u4f20\u8f93**\uff0c\u8981\u7528\u4e2d\u7ee7\u5668\u5c06\u5931\u771f\u7684\u4fe1\u53f7\u6574\u5f62\u3002</p>","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_24","title":"\u540c\u8f74\u7535\u7f06","text":"<p>\u540c\u8f74\u7535\u7f06\u7531{% span yellow, \u5bfc\u7ebf\u94dc\u8d28\u82af\u7ebf %}\u3001{% span blue, \u7edd\u7f18\u5c42 %}\u3001{% span green, \u7f51\u72b6\u7f16\u7ec7\u5c4f\u853d\u5c42 %}\u3001{% span red, \u5851\u6599\u5916\u5c42 %}\u6784\u6210\u3002</p> <p>\u901a\u5e38\u5c06\u540c\u8f74\u7535\u7f06\u5206\u4e3a\u4e24\u7c7b\uff1a</p> <ol> <li>\\(50\\Omega\\)\u540c\u8f74\u7535\u7f06\uff0c\u4e3b\u8981\u7528\u4e8e\u4f20\u9001<code>\u57fa\u5e26\u6570\u5b57\u4fe1\u53f7</code>\uff0c\u53c8\u79f0\u4e3a{% span blue, \u57fa\u5e26\u540c\u8f74\u7535\u7f06 %}\uff0c\u5728\u5c40\u57df\u7f51\u4e2d\u5f97\u5230\u5e7f\u6cdb\u5e94\u7528\uff1b</li> <li>\\(75\\Omega\\)\u540c\u8f74\u7535\u7f06\uff0c\u4e3b\u8981\u7528\u4e8e\u4f20\u9001<code>\u5bbd\u5e26\u4fe1\u53f7</code>\uff0c\u53c8\u79f0\u4e3a{% span blue, \u5bbd\u5e26\u540c\u8f74\u7535\u7f06 %}\uff0c\u4e3b\u8981\u7528\u4e8e\u6709\u7ebf\u7535\u89c6\u7cfb\u7edf\u3002</li> </ol> <p>\u7531\u4e8e\u5916\u5bfc\u4f53\u5c4f\u853d\u5c42\u7684\u4f5c\u7528\uff0c\u540c\u8f74\u7535\u7f06**\u6297\u5e72\u6270\u7279\u6027**\u6bd4\u53cc\u7ede\u7ebf\u597d\uff0c\u88ab\u5e7f\u6cdb\u5e94\u7528\u4e8e\u4f20\u8f93\u8f83\u9ad8\u901f\u7387\u7684\u6570\u636e\uff0c\u5176**\u4f20\u8f93\u8ddd\u79bb**\u66f4\u8fdc\uff0c\u4f46\u4ef7\u683c\u8f83\u53cc\u7ede\u7ebf**\u8d35**\u3002</p>","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_25","title":"\u5149\u7ea4","text":"<p>\u5149\u7ea4\u901a\u4fe1\uff0c\u662f\u5229\u7528\u5149\u5bfc\u7ea4\u7ef4\uff08\u7b80\u79f0\u5149\u7ea4\uff09\u4f20\u9012\u5149\u8109\u51b2\u6765\u8fdb\u884c\u901a\u4fe1\u3002\u6709\u5149\u8109\u51b2\u8868\u793a 1\uff0c\u65e0\u5149\u8109\u51b2\u8868\u793a 0\u3002\u800c\u53ef\u89c1\u5149\u5927\u7ea6\u662f \\(10^8MHz\\)\uff0c\u56e0\u6b64\u5149\u7ea4\u901a\u4fe1\u7cfb\u7edf\u7684\u5e26\u5bbd\u8fdc\u8fdc\u5927\u4e8e\u76ee\u524d\u5176\u4ed6\u5404\u79cd\u4f20\u8f93\u5a92\u4f53\u7684\u5e26\u5bbd\u3002</p> <p>\u5149\u7ea4\u5728\u53d1\u9001\u7aef\u6709\u5149\u6e90\uff0c\u53ef\u4ee5\u91c7\u7528\u53d1\u5149\u4e8c\u6781\u7ba1\u6216\u534a\u5bfc\u4f53\u6fc0\u5149\u5668\uff0c\u5b83\u4eec\u5728\u7535\u8109\u51b2\u4f5c\u7528\u4e0b\u80fd\u4ea7\u751f\u51fa\u5149\u8109\u51b2\uff1b \u5728\u63a5\u6536\u7aef\u7528\u5149\u7535\u4e8c\u6781\u7ba1\u505a\u6210\u5149\u68c0\u6d4b\u5668\uff0c\u5728\u68c0\u6d4b\u5230\u5149\u8109\u51b2\u65f6\u53ef\u8fd8\u539f\u51fa\u7535\u8109\u51b2\u3002</p> <p>\u5149\u7ea4\u4e3b\u8981\u7531<code>\u7ea4\u82af</code>\uff08\u5b9e\u5fc3\u7684\uff01\uff09\u548c<code>\u5305\u5c42</code>\u6784\u6210\uff0c\u5149\u6ce2\u901a\u8fc7\u7ea4\u82af\u8fdb\u884c\u4f20\u5bfc\uff0c\u5305\u5c42\u8f83\u7ea4\u82af\u6709\u8f83\u4f4e\u6298\u5c04\u7387\u3002\u5f53\u5149\u7ea4\u4ece\u9ad8\u6298\u5c04\u7387\u7684\u4ecb\u8d28\u5c04\u5411\u4f4e\u6298\u5c04\u7387\u7684\u4ecb\u8d28\u65f6\uff0c\u5176\u6298\u5c04\u89d2\u5c06\u5927\u4e8e\u5165\u5c04\u89d2\u3002\u56e0\u6b64\uff0c\u5982\u679c\u5165\u5c04\u89d2\uff0c\u5c31\u4f1a\u51fa\u73b0**\u5168\u53cd\u5c04**\uff0c\u5373\u5149\u7ebf\u78b0\u5230\u5305\u5c42\u5c31\u4f1a\u6298\u5c04\u4f1a\u7ea4\u82af\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u4e0d\u65ad\u91cd\u590d\uff0c\u5149\u5c31\u6cbf\u7740\u5149\u7ea4\u4f20\u8f93\u4e0b\u53bb\u3002</p> <p></p> \u5b9a\u4e49 \u5149\u6e90 \u7279\u70b9 \u5355\u6a21\u5149\u7ea4 \u4e00\u79cd\u5728**\u6a2a\u5411\u6a21\u5f0f**\u76f4\u63a5\u4f20\u8f93\u5149\u4fe1\u53f7\u7684\u5149\u7ea4 \u5b9a\u5411\u6027\u5f88\u597d\u7684\u6fc0\u5149\u4e8c\u6781\u7ba1 \u8870\u8017\u5c0f\uff0c\u9002\u5408**\u8fdc**\u8ddd\u79bb\u4f20\u8f93 \u591a\u6a21\u5149\u7ea4 \u6709**\u591a\u79cd**\u4f20\u8f93\u5149\u4fe1\u53f7\u6a21\u5f0f\u7684\u5149\u7ea4 \u53d1\u5149\u4e8c\u6781\u7ba1 \u6613\u5931\u771f\uff0c\u9002\u5408**\u8fd1**\u8ddd\u79bb\u4f20\u8f93 <p>\u5149\u7ea4\u7279\u70b9\uff1a</p> <ol> <li>\u4f20\u8f93\u635f\u8017\u5c0f\uff0c\u4e2d\u7ee7\u8ddd\u79bb\u957f\uff0c\u5bf9\u8fdc\u8ddd\u79bb\u4f20\u8f93\u7279\u522b\u7ecf\u6d4e\u3002</li> <li>\u6297\u96f7\u7535\u548c\u7535\u78c1\u5e72\u6270\u6027\u80fd\u597d\u3002</li> <li>\u65e0\u4e32\u97f3\u5e72\u6270\uff0c\u4fdd\u5bc6\u6027\u597d\uff0c\u4e5f\u4e0d\u6613\u88ab\u7a83\u542c\u6216\u622a\u53d6\u6570\u636e\u3002</li> <li>\u4f53\u79ef\u5c0f\uff0c\u91cd\u91cf\u8f7b\u3002</li> </ol>","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_26","title":"\u975e\u5bfc\u5411\u6027\u4f20\u8f93\u4ecb\u8d28","text":"<p>\u65e0\u7ebf\u7535\u6ce2</p> <p>\u5fae\u6ce2</p> <p>\u7ea2\u5916\u7ebf\u3001\u6fc0\u5149</p> <p></p>","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_27","title":"\u7269\u7406\u5c42\u8bbe\u5907","text":"","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_28","title":"\u4e2d\u7ee7\u5668","text":"<p>\u8bde\u751f\u539f\u56e0\uff1a\u7531\u4e8e\u4f20\u8f93\u5b58\u5728\u635f\u8017\uff0c\u5728\u7ebf\u8def\u4e0a\u4f20\u8f93\u7684\u4fe1\u53f7\u529f\u7387\u4f1a\u9010\u6e10\u8870\u51cf\uff0c\u8870\u51cf\u5230\u4e00\u5b9a\u7a0b\u5ea6\u65f6\u5c06\u9020\u6210\u4fe1\u53f7\u5931\u771f\uff0c\u5bfc\u81f4\u63a5\u6536\u9519\u8bef\u3002</p> <p>\u529f\u80fd\uff1a\u5bf9\u4fe1\u53f7\u8fdb\u884c**\u518d\u751f\u548c\u8fd8\u539f**\uff0c\u5bf9\u8870\u51cf\u7684\u4fe1\u53f7\u8fdb\u884c\u653e\u5927\uff0c\u4fdd\u6301\u4e0e\u539f\u6570\u636e\u76f8\u540c\uff0c\u4ee5\u589e\u52a0\u4fe1\u53f7\u4f20\u8f93\u7684\u8ddd\u79bb\uff0c\u5ef6\u957f\u7f51\u7edc\u7684\u957f\u5ea6\u3002</p> <p>\u4e2d\u7ee7\u5668\u7684\u4e24\u7aef\uff1a</p> <ul> <li>\u4e24\u7aef\u7684\u7f51\u7edc\u90e8\u5206\u662f\u7f51\u6bb5\uff0c\u800c\u4e0d\u662f\u5b50\u7f51\uff0c\u9002\u7528\u4e8e\u5b8c\u5168\u76f8\u540c\u7684\u4e24\u7c7b\u7f51\u7edc\u4e92\u8fde\uff0c\u4e14\u4e24\u4e2a\u7f51\u6bb5\u901f\u7387\u8981\u76f8\u540c\u3002</li> <li>\u4e2d\u7ee7\u5668\u53ea\u5c06\u4efb\u4f55\u7535\u7f06\u6bb5\u4e0a\u7684\u6570\u636e\u53d1\u9001\u5230\u53e6\u4e00\u6bb5\u7535\u7f06\u4e0a\uff0c\u5b83\u4ec5\u4f5c\u7528\u4e8e\u4fe1\u53f7\u7684\u7535\u6c14\u90e8\u5206\uff0c\u5e76\u4e0d\u7ba1\u6570\u636e\u4e2d\u662f\u5426\u6709\u9519\u8bef\u6570\u636e\u6216\u4e0d\u9002\u4e8e\u7f51\u6bb5\u7684\u6570\u636e\u3002</li> <li>\u4e24\u7aef\u53ef\u8fde\u76f8\u540c\u5a92\u4f53\uff0c\u4e5f\u53ef\u8fde\u4e0d\u540c\u5a92\u4f53\u3002</li> <li>\u4e2d\u7ee7\u5668\u4e24\u7aef\u7684\u7f51\u6bb5\u4e00\u5b9a\u8981\u662f\u540c\u4e00\u4e2a\u534f\u8bae\uff0c\u56e0\u4e3a\u4e2d\u7ee7\u5668\u4e0d\u4f1a\u5b58\u50a8\u8f6c\u53d1\u3002</li> </ul> <p>5-4-3\u89c4\u5219\uff1a\u6700\u591a\u53ea\u80fd\u67095\u4e2a\u7f51\u6bb5\uff0c\u6700\u591a\u53ea\u80fd\u67094\u4e2a\u4e2d\u7ee7\u5668\uff0c\u6700\u591a\u53ea\u80fd\u67093\u53f0\u8bbe\u5907\u3002</p> <p></p>","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_29","title":"\u96c6\u7ebf\u5668\uff08\u591a\u53e3\u4e2d\u7ee7\u5668\uff09","text":"<p>\u529f\u80fd\uff1a\u5bf9\u4fe1\u53f7\u8fdb\u884c**\u518d\u751f\u653e\u5927\u8f6c\u53d1**\uff0c\u5bf9\u8870\u51cf\u4fe1\u53f7\u8fdb\u884c\u653e\u5927\uff0c\u63a5\u7740\u8f6c\u53d1\u5230\u5176\u4ed6\u6240\u6709\uff08\u9664\u8f93\u5165\u7aef\u53e3\u5916\uff09\u5904\u4e8e\u5de5\u4f5c\u72b6\u6001\u7684\u7aef\u53e3\u4e0a\uff0c\u4ee5\u589e\u52a0\u4fe1\u53f7\u4f20\u8f93\u7684\u8ddd\u79bb\uff0c\u5ef6\u957f\u7f51\u7edc\u957f\u5ea6\u3002</p> <p>\u96c6\u7ebf\u5668\u4e0d\u5177\u5907\u5b9a\u5411\u4f20\u9001\u80fd\u529b\uff0c\u53ea\u80fd\u5e7f\u64ad\uff0c\u65e0\u6cd5\u5206\u5272\u51b2\u7a81\u57df\uff0c\u662f\u4e00\u4e2a\u5171\u4eab\u5f0f\u8bbe\u5907\u3002</p>","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-1-%E7%89%A9%E7%90%86%E5%B1%82/#_30","title":"\u603b\u7ed3","text":"","tags":["\u7269\u7406\u5c42","\u8ba1\u7b97\u673a\u7f51\u7edc"]},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/","title":"\u6570\u636e\u94fe\u8def\u5c42","text":""},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_1","title":"\u6570\u636e\u94fe\u8def\u5c42","text":""},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_2","title":"\u57fa\u672c\u6982\u5ff5","text":"<ul> <li>\u7ed3\u70b9\uff1a\u4e3b\u673a\u3001\u8def\u7531\u5668</li> <li>\u94fe\u8def\uff1a\u7f51\u7edc\u4e2d\u4e24\u4e2a\u7ed3\u70b9\u4e4b\u95f4\u7684<code>\u7269\u7406\u901a\u9053</code>\uff0c\u4e3b\u8981\u4f20\u8f93\u4ecb\u8d28\u6709\u53cc\u7ede\u7ebf\u3001\u5149\u7ea4\u3001\u5fae\u6ce2\uff0c\u5206\u6709\u7ebf\u94fe\u8def\u548c\u65e0\u7ebf\u94fe\u8def\u3002</li> <li>\u6570\u636e\u94fe\u8def\uff1a\u7f51\u7edc\u4e2d\u4e24\u4e2a\u7ed3\u70b9\u4e4b\u95f4\u7684<code>\u903b\u8f91\u901a\u9053</code>\uff0c\u628a\u5b9e\u73b0\u63a7\u5236\u6570\u636e\u4f20\u8f93\u534f\u8bae\u7684\u786c\u4ef6\u548c\u8f6f\u4ef6\u52a0\u5230\u94fe\u8def\u4e0a\u5c31\u6784\u6210\u6570\u636e\u94fe\u8def\u3002</li> <li>\u5e27\uff1a\u94fe\u8def\u5c42\u7684\u534f\u8bae\u6570\u636e\u5355\u5143\uff0c\u5c01\u88c5\u7f51\u7edc\u5c42\u6570\u636e\u62a5\u3002</li> </ul> <p>\u6570\u636e\u94fe\u8def\u5c42\u8d1f\u8d23\u901a\u8fc7\u4e00\u6761\u94fe\u8def\u4ece\u4e00\u4e2a\u7ed3\u70b9\u5411\u76f8\u90bb\u7ed3\u70b9\u4f20\u9001\u6570\u636e\u62a5\u3002</p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_3","title":"\u6570\u636e\u94fe\u8def\u5c42\u529f\u80fd\u6982\u8ff0","text":"<p><code>\u6570\u636e\u94fe\u8def\u5c42\uff08L2\uff09</code>\u5728 <code>\u7269\u7406\u5c42\uff08L1\uff09</code>\u63d0\u4f9b\u670d\u52a1\u7684\u57fa\u7840\u4e0a\uff0c\u5411<code>\u7f51\u7edc\u5c42\uff08L3\uff09</code>\u63d0\u4f9b\u670d\u52a1\uff0c\u5176\u6700\u57fa\u672c\u7684\u670d\u52a1\u662f\u5c06\u6e90\u81ea<code>\u672c\u673a\u7f51\u7edc\u5c42\uff08aL3\uff09</code>\u7684\u6570\u636e\u53ef\u9760\u5730\u4f20\u8f93\u5230\u76f8\u90bb\u7ed3\u70b9\u7684<code>\u76ee\u6807\u673a\u7f51\u7edc\u5c42\uff08bL3\uff09</code>\u3002</p> <p>\u5176\u4e3b\u8981\u4f5c\u7528\u662f\u52a0\u5f3a\u7f51\u7edc\u5c42\u4f20\u8f93\u539f\u59cb\u6bd4\u7279\u6d41\u7684\u529f\u80fd\uff0c\u5c06\u7269\u7406\u5c42\u63d0\u4f9b\u7684**\u53ef\u80fd\u51fa\u9519\u7684\u7269\u7406\u8fde\u63a5**\u6539\u9020\u79f0\u4e3a**\u903b\u8f91\u4e0a\u65e0\u5dee\u9519\u7684\u6570\u636e\u94fe\u8def**\uff0c\u4f7f\u4e4b\u5bf9\u7f51\u7edc\u5c42\u8868\u73b0\u4e3a\u4e00\u6761\u65e0\u5dee\u9519\u7684\u94fe\u8def\u3002</p> <p>\u529f\u80fd\u4e00\uff1a</p> <ul> <li>\u65e0\u786e\u8ba4\u65e0\u8fde\u63a5\u670d\u52a1\uff1a\u901a\u5e38\u7528\u4e8e\u5b9e\u65f6\u901a\u4fe1\uff0c\u6216\u8bef\u7801\u7387\u8f83\u4f4e\u7684\u901a\u4fe1\u4fe1\u9053\u3002<ul> <li>\u8fde\u63a5\uff1a\u6e90\u4e3b\u673a\u548c\u76ee\u7684\u4e3b\u673a**\u4e0d\u9700\u8981**\u5efa\u7acb\u8fde\u63a5\uff1b</li> <li>\u786e\u8ba4\uff1a\u76ee\u7684\u4e3b\u673a\u63a5\u6536\u540e\u4e5f**\u4e0d\u9700\u8981**\u786e\u8ba4\uff1b</li> <li>\u91cd\u53d1\uff1a\u5e27\u4e22\u5931\u4e5f**\u4e0d\u8d1f\u8d23**\u91cd\u53d1\u3002</li> </ul> </li> <li>\u6709\u786e\u8ba4\u65e0\u8fde\u63a5\u670d\u52a1\uff1a\u540c\u5e38\u7528\u4e8e\u8bef\u7801\u7387\u8f83\u9ad8\u7684\u901a\u4fe1\uff0c\u6bd4\u5982\u65e0\u7ebf\u901a\u4fe1\u3002<ul> <li>\u8fde\u63a5\uff1a\u6e90\u4e3b\u673a\u548c\u76ee\u7684\u4e3b\u673a**\u4e0d\u9700\u8981**\u5efa\u7acb\u8fde\u63a5\uff1b</li> <li>\u786e\u8ba4\uff1a\u76ee\u7684\u4e3b\u673a\u63a5\u6536\u540e**\u9700\u8981**\u8fd4\u56de\u4e00\u4e2a\u786e\u8ba4\u4fe1\u53f7\uff1b</li> <li>\u91cd\u53d1\uff1a\u6e90\u4e3b\u673a\u5982\u679c\u7ecf\u8fc7\u4e00\u5b9a\u65f6\u95f4\u6ca1\u6709\u6536\u5230\u786e\u8ba4\u4fe1\u53f7\uff0c\u5219**\u4f1a**\u8fdb\u884c\u91cd\u53d1\u3002</li> </ul> </li> <li>\u6709\u786e\u8ba4\u9762\u5411\u8fde\u63a5\u670d\u52a1\uff1a\u6700\u5b89\u5168\u6700\u53ef\u9760\u7684<ul> <li>\u8fde\u63a5\uff1a\u6e90\u4e3b\u673a\u548c\u76ee\u7684\u4e3b\u673a**\u9700\u8981**\u5efa\u7acb\u8fde\u63a5\uff1b</li> <li>\u786e\u8ba4\uff1a\u76ee\u7684\u4e3b\u673a\u63a5\u6536\u540e**\u9700\u8981**\u8fd4\u56de\u4e00\u4e2a\u786e\u8ba4\u4fe1\u53f7\uff1b</li> <li>\u91cd\u53d1\uff1a\u6e90\u4e3b\u673a\u6536\u5230\u786e\u8ba4\u5e27\u624d\u4f1a\u7ee7\u7eed\u53d1\u9001\u4e0b\u4e00\u5e27\uff0c\u5426\u5219\u8fdb\u884c\u91cd\u53d1\u3002</li> </ul> </li> </ul> <p>\u529f\u80fd\u4e8c\uff1a\u94fe\u8def\u7ba1\u7406\uff0c\u5373\u8fde\u63a5\u7684\u5efa\u7acb\u3001\u7ef4\u6301\u3001\u91ca\u653e\uff08\u7528\u4e8e\u9762\u5411\u8fde\u63a5\u7684\u670d\u52a1\uff09</p> <p>\u529f\u80fd\u4e09\uff1a\u7ec4\u5e27</p> <p>\u529f\u80fd\u56db\uff1a\u6d41\u91cf\u63a7\u5236</p> <p>\u529f\u80fd\u4e94\uff1a\u5dee\u9519\u63a7\u5236\uff08\u5e27\u9519/\u4f4d\u9519\uff09</p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_4","title":"\u5c01\u88c5\u6210\u5e27 &amp; \u900f\u660e\u4f20\u8f93","text":""},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_5","title":"\u900f\u660e\u4f20\u8f93","text":"<p>\u900f\u660e\u4f20\u8f93\uff1a\u662f\u6307\u4e0d\u7ba1\u6240\u4f20\u6570\u636e\u662f\u4ec0\u4e48\u6837\u7684\u6bd4\u7279\u7ec4\u5408\uff0c\u90fd\u5e94\u5f53\u80fd\u591f\u5728\u94fe\u8def\u4e0a\u4f20\u9001\u3002\u56e0\u6b64\uff0c\u94fe\u8def\u5c42\u5c31\u201c\u770b\u4e0d\u89c1\u201d\u6709\u4ec0\u4e48\u59a8\u788d\u4f20\u8f93\u7684\u4e1c\u897f\u3002</p> <p>\u5f53\u6240\u4f20\u6570\u636e\u4e2d\u7684\u6bd4\u7279\u7ec4\u5408\u6070\u5de7\u4e0e\u67d0\u4e00\u63a7\u5236\u4fe1\u606f\u5b8c\u5168\u4e00\u6837\u65f6\uff0c\u5c31\u5fc5\u987b\u91c7\u53d6\u9002\u5f53\u7684\u63aa\u65bd\uff0c\u4f7f\u63a5\u6536\u65b9\u4e0d\u4f1a\u5c06\u8fd9\u6837\u7684\u6570\u636e\u9519\u8bef\u8ba4\u4e3a\u662f\u67d0\u79cd\u63a7\u5236\u4fe1\u606f\uff0c\u8fd9\u6837\u624d\u80fd\u4fdd\u8bc1\u6570\u636e\u94fe\u8def\u5c42\u7684\u4f20\u8f93\u662f\u900f\u660e\u7684\u3002</p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_6","title":"\u5c01\u88c5\u6210\u5e27","text":"<p>\u5c01\u88c5\u6210\u5e27\uff1a\u5c06\u7f51\u7edc\u5c42\u7684 <code>IP \u6570\u636e\u62a5</code> \u7684\u9996\u90e8\u548c\u5c3e\u90e8\u6dfb\u52a0\u5e27\u9996\u90e8\u548c\u5e27\u5c3e\u90e8\uff0c\u8fd9\u6837\u5c31\u6784\u6210\u4e00\u4e2a\u5e27\u3002\u63a5\u6536\u7aef\u5728\u6536\u5230\u7269\u7406\u5c42\u4e0a\u4ea4\u7684\u6bd4\u7279\u6d41\u540e\u5c31\u80fd\u66f4\u5177\u9996\u90e8\u548c\u5c3e\u90e8\u7684\u6807\u8bb0\uff0c\u4ece\u6536\u5230\u7684\u6bd4\u7279\u6d41\u4e2d\u8bc6\u522b\u5e27\u7684\u5f00\u59cb\u548c\u7ed3\u675f\u3002</p> <p>\u9996\u90e8\u548c\u5c3e\u90e8\u5305\u542b\u8bb8\u591a\u7684\u63a7\u5236\u4fe1\u606f\uff08\u5982\u5dee\u9519\u63a7\u5236\u3001\u6d41\u91cf\u63a7\u5236\u3001\u7269\u7406\u5730\u5740\u7b49\u4fe1\u606f\uff09\uff0c\u5176\u4e2d \u5e27\u5b9a\u754c\u7b26\u8d77\u5230\u4e86\u4e00\u4e2a\u91cd\u8981\u4f5c\u7528\uff1a\u5e27\u5b9a\u754c\uff08\u786e\u5b9a\u5e27\u7684\u754c\u9650\uff09\u3002</p> <p>\u5e27\u540c\u6b65\uff1a\u63a5\u6536\u65b9\u5e94\u5f53\u80fd\u4ece\u63a5\u6536\u5230\u7684\u4e8c\u8fdb\u5236\u6bd4\u7279\u6d41\u4e2d\u533a\u5206\u51fa\u5e27\u7684\u8d77\u59cb\u548c\u7ec8\u6b62\u3002</p> <p>\u56db\u79cd\u7ec4\u5e27\u65b9\u6cd5\uff1a</p> <ol> <li> <p>\u5b57\u7b26\u8ba1\u6570\u6cd5\uff1a\u5e27\u9996\u90e8\u4f7f\u7528\u7b2c\u4e00\u4e2a\u5b57\u8282\uff088bit\uff09\u4f5c\u4e3a\u8ba1\u6570\u5b57\u6bb5\uff0c\u6765\u8868\u660e\u5e27\u5185\u5b57\u7b26\u6570\u3002\u5bb9\u6613\u51fa\u9519\uff0c\u4e0d\u5e38\u7528\u3002\u5982\u679c\u7b2c\u4e00\u5e27\u7b2c\u4e00\u4e2a\u5b57\u8282\u9519\u4e86\uff0c\u540e\u9762\u7684\u5c31\u5168\u90fd\u8ddf\u7740\u9519\u4e86\u3002</p> <p></p> </li> <li> <p>\u5b57\u7b26/\u5b57\u8282\u586b\u5145\u6cd5\uff1a\u5e27\u9996\u90e8\u4f7f\u7528\u4e00\u4e2a\u7279\u5b9a\u7684\u6bd4\u7279\u7ec4\u5408 <code>SOH(Start Of Head)</code> \u8868\u793a\u5e27\u5f00\u59cb\uff0c\u5728\u5e27\u5c3e\u90e8\u4f7f\u7528\u4e00\u4e2a\u7279\u5b9a\u7684\u6bd4\u7279\u7ec4\u5408 <code>EOT(End Of Transmisson)</code>\u3002</p> <ul> <li> <p>\u6e90\u4e3b\u673a\uff1a\u5728\u6570\u636e\u4e2d\u5982\u679c\u4e5f\u8981\u4f20\u8f93 SOH \u548c EOT \u65f6\uff0c\u9700\u8981\u5728\u524d\u9762\u52a0\u4e0a\u8f6c\u4e49\u5b57\u7b26\uff1b</p> </li> <li> <p>\u76ee\u7684\u4e3b\u673a\uff1a\u63a5\u6536\u6570\u636e\u540e\u9700\u8981\u5c06\u8f6c\u4e49\u5b57\u7b26\u540e\u7684\u5b57\u7b26\u6b63\u5e38\u5904\u7406\uff0c\u7136\u540e\u5220\u9664\u8f6c\u4e49\u5b57\u7b26\u3002</p> <p></p> </li> </ul> </li> <li> <p>\u96f6\u6bd4\u7279\u586b\u5145\u6cd5\uff1an \u4e2a <code>1</code> \u5c31\u586b\u5145\u4e00\u4e2a <code>0</code>\uff0c\u4ee5\u6b64\u6253\u65ad\u8fde\u7eed\u6027\u3002\u5047\u8bbe SOH \u548c EOT \u90fd\u662f <code>01111110</code>\uff0c\u90a3\u4e48\uff1a</p> <ul> <li> <p>\u6e90\u4e3b\u673a\uff1a\u5728\u53d1\u9001\u524d\uff0c\u9664\u4e86 SOH \u548c EOT\uff0c\u6570\u636e\u90e8\u5206\u6bcf\u9047\u5230\u8fde\u7eed 5 \u4e2a 1 \u5c31\u586b\u5145\u4e00\u4e2a 0\uff1b</p> </li> <li> <p>\u76ee\u7684\u4e3b\u673a\uff1a\u5728\u63a5\u6536\u65f6\uff0c\u9664\u4e86\u8bfb\u5230\u4e24\u6b21 <code>01111110</code> \u4e4b\u540e\u5c31\u786e\u5b9a\u4e86\u5e27\u8fb9\u754c\uff0c\u518d\u7528\u786c\u4ef6\u5bf9\u6bd4\u7279\u6d41\u626b\u63cf\uff0c\u53d1\u73b0\u8fde\u7eed 5 \u4e2a 1 \u65f6\u5c31\u628a\u540e\u9762\u7684 0 \u5220\u9664\u3002</p> <pre><code>SOH\u3001EOT\uff1a01111110\n\u6570\u636e\uff1a010111001111101111111010\n\u586b\u5145\uff1a0101110011111 0 011111 0 11010\n\n\u5b8c\u6574\u5e27\u6570\u636e\uff1a01111110 0101110011111 0 011111 0 11010 01111110\n</code></pre> </li> </ul> </li> <li> <p>\u8fdd\u89c4\u7f16\u7801\u6cd5\uff1a\u5229\u7528\u66fc\u5f7b\u65af\u7279\u7f16\u7801\u7684\u7279\u6027\uff0c\u4f7f\u7528\u8fdd\u53cd\u66fc\u5f7b\u65af\u7279\u7f16\u7801\u7684\u7535\u5e73\u6765\u8868\u793a\u5e27\u5934\u548c\u5e27\u5c3e\u3002</p> <p></p> <p></p> <p>\u5728\u8fdd\u89c4\u7f16\u7801\u4e2d\uff1a</p> <ul> <li>1\uff1a</li> <li>0\uff1a</li> <li>\u5e27\u5934\u5e27\u5c3e\uff1a</li> </ul> </li> </ol> <p>\u7531\u4e8e\u5b57\u8282\u8ba1\u6570\u6cd5\u4e2d Count \u5b57\u6bb5\u7684\u8106\u5f31\u6027\u53ca\u5176\u5b57\u7b26\u586b\u5145\u5b9e\u73b0\u4e0a\u7684\u590d\u6742\u6027\u548c\u4e0d\u517c\u5bb9\u6027\uff0c\u76ee\u524d\u6bd4\u8f83\u666e\u904d\u4f7f\u7528\u7684\u5e27\u540c\u6b65\u6cd5\u65f6**\u6bd4\u7279\u586b\u5145**\u548c**\u8fdd\u89c4\u7f16\u7801\u6cd5**\u3002</p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_7","title":"\u5dee\u9519\u63a7\u5236","text":"<p>\u8d77\u56e0\uff1a\u4f20\u8f93\u4e2d\u7684\u5dee\u9519\u90fd\u662f\u7531\u4e8e\u566a\u58f0\u5f15\u8d77\u7684\u3002</p> <p>\u5dee\u9519\u8303\u56f4\u5206<code>\u5168\u5c40\u6027</code>\u7684\u548c<code>\u5c40\u90e8\u6027</code>\u7684\uff1a</p> <ul> <li> <p>\u5168\u5c40\u6027\uff1a\u7531\u4e8e\u7ebf\u8def\u672c\u8eab\u7535\u6c14\u7279\u6027\u6240\u4ea7\u751f\u7684**\u968f\u673a\u566a\u58f0**\uff08\u70ed\u566a\u58f0\uff09\uff0c\u662f\u4fe1\u9053\u56fa\u6709\u7684\uff0c\u968f\u673a\u5b58\u5728\u7684\u3002</p> <p>Solution\uff1a\u63d0\u9ad8\u4fe1\u566a\u6bd4\u6765\u51cf\u5c11\u6216\u907f\u514d\u5e72\u6270\uff08\u5bf9\u4f20\u611f\u5668\u4e0b\u624b\uff09\u3002</p> </li> <li> <p>\u5c40\u90e8\u6027\uff1a\u5916\u754c\u7279\u5b9a\u7684\u77ed\u6682\u539f\u56e0\u6240\u9020\u6210\u7684**\u51b2\u51fb\u566a\u58f0**\uff0c\u65f6\u4ea7\u751f\u5dee\u9519\u7684\u4e3b\u8981\u539f\u56e0\u3002</p> <p>Solution\uff1a\u901a\u5e38\u5229\u7528\u7f16\u7801\u6280\u672f\u6765\u89e3\u51b3\u3002</p> </li> </ul> <p>\u5dee\u9519\u79cd\u7c7b\u5206<code>\u4f4d\u9519</code>\u548c<code>\u5e27\u9519</code>\uff1a</p> <ul> <li> <p>\u4f4d\u9519\uff1a\u6bd4\u7279\u4f4d\u51fa\u9519\uff0c1 \u53d8 0\uff0c0 \u53d8 1\uff1b</p> <p>Solution\uff1a\u8fdb\u884c\u5947\u5076\u6821\u9a8c</p> </li> <li> <p>\u5e27\u9519\uff1a[#1]-[#2]-[#3]</p> <ul> <li>\u5e27\u4e22\u5931\uff1a\u6536\u5230 [#1]-[#3]</li> <li>\u5e27\u91cd\u590d\uff1a\u6536\u5230 [#1]-[#2]-[#2]-[#3]</li> <li>\u5e27\u5931\u5e8f\uff1a\u6536\u5230 [#1]-[#3]-[#2]</li> <li>Solution\uff1a\u7ed9\u6bcf\u4e2a\u5e27\u7f16\u53f7\uff0c\u4e22\u5931\u65f6\u91cd\u53d1\uff0c\u91cd\u590d\u65f6\u5254\u9664\uff0c\u5931\u5e8f\u65f6\u6392\u5e8f\u3002</li> </ul> </li> </ul> <p>\u6570\u636e\u94fe\u8def\u5c42\u7684\u7f16\u7801 VS \u7269\u7406\u5c42\u7684\u7f16\u7801</p> <p>\u7269\u7406\u5c42\u7684\u7f16\u7801\u9488\u5bf9\u7684\u662f**\u5355\u4e2a\u6bd4\u7279**\uff0c\u89e3\u51b3\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u6bd4\u7279\u540c\u6b65\u7b49\u95ee\u9898\uff0c\u6bd4\u5982\u66fc\u5f7b\u65af\u7279\u7f16\u7801\u3002</p> <p>\u6570\u636e\u94fe\u8def\u5c42\u7684\u7f16\u7801\u9488\u5bf9\u7684\u662f**\u4e00\u7ec4\u6bd4\u7279**\uff0c\u901a\u8fc7\u5197\u4f59\u7801\u7684\u6280\u672f\u9a8c\u8bc1\u4e00\u7ec4\u4e8c\u8fdb\u5236\u6bd4\u7279\u4e32\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u662f\u5426\u51fa\u73b0\u4e86\u5dee\u9519\u3002</p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_8","title":"\u68c0\u9519\u7f16\u7801","text":"<p>\u5947\u5076\u6821\u9a8c\u7801</p> <p>CRC\u5faa\u73af\u5197\u4f59\u7801</p> <p>CRC \u68c0\u9a8c\u90fd\u662f\u7531\u786c\u4ef6\u5b9e\u73b0\u7684\uff0c\u5904\u7406\u5f88\u8fc5\u901f\uff0c\u56e0\u6b64\u4e0d\u4f1a\u5ef6\u8bef\u6570\u636e\u7684\u4f20\u8f93\u3002</p> <p>\u5728\u6570\u636e\u94fe\u8def\u5c42\u4ec5\u4ec5\u4f7f\u7528\u5faa\u73af\u5197\u4f59\u6821\u9a8cCRC\u68c0\u6d4b\u6280\u672f\uff0c\u53ea\u80fd\u505a\u5230\u5bf9\u5e27\u7684\u65e0\u5dee\u9519\u63a5\u6536\uff0c\u5373\u201c\u51e1\u662f\u63a5\u6536\u7aef\u6570\u636e\u94fe\u8def\u5c42\u63a5\u6536\u7684\u5e27\uff0c\u6211\u4eec\u90fd\u80fd\u4ee5\u975e\u5e38\u63a5\u8fd1\u4e8e 1 \u7684\u6982\u7387\u8ba4\u4e3a\u8fd9\u4e9b\u5e27\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u6ca1\u6709\u4ea7\u751f\u5dee\u9519\u201d\u3002\u63a5\u6536\u7aef\u4e22\u5f03\u7684\u5e27\u867d\u7136\u66fe\u6536\u5230\u4e86\uff0c\u4f46\u6700\u7ec8\u8fd8\u662f\u56e0\u4e3a\u6709\u5dee\u9519\u88ab\u4e22\u5f03\u3002\u201c\u51e1\u662f\u63a5\u6536\u7aef\u6570\u636e\u94fe\u8def\u5c42\u63a5\u6536\u7684\u5e27\u5747\u65e0\u5dee\u9519\u201d\u3002</p> <p>\u53ef\u9760\u4f20\u8f93\uff0c\u6307\u7684\u662f\u6570\u636e\u94fe\u8def\u5c42\u53d1\u9001\u7aef\u53d1\u9001\u4ec0\u4e48\uff0c\u63a5\u6536\u7aef\u5c31\u6536\u5230\u4ec0\u4e48\u3002</p> <p>\u94fe\u8def\u5c42\u4f7f\u7528CRC\u68c0\u9a8c\uff0c\u80fd\u591f\u5b9e\u73b0\u65e0\u6bd4\u7279\u5dee\u9519\u7684\u4f20\u8f93\uff0c\u4f46\u8fd8\u4e0d\u591f\u53ef\u9760\u3002</p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_9","title":"\u7ea0\u9519\u7f16\u7801","text":"<p>\u6d77\u660e\u7801\uff1a\u80fd**\u53d1\u73b0\u53cc**\u6bd4\u7279\u9519\uff0c**\u7ea0\u6b63\u5355**\u6bd4\u7279\u9519\u3002</p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_10","title":"\u6d41\u91cf\u63a7\u5236 &amp; \u53ef\u9760\u4f20\u8f93\u673a\u5236","text":""},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_11","title":"\u6d41\u91cf\u63a7\u5236","text":"<p>**\u6d41\u91cf\u63a7\u5236**\u4e3b\u8981\u662f\u5bf9\u53d1\u9001\u65b9\u7684\u901f\u5ea6\u8fdb\u884c\u8c03\u8282\u3002\u5f53\u53d1\u9001\u65b9\u7684\u53d1\u9001\u901f\u5ea6\u8f83\u5feb\uff0c\u800c\u63a5\u6536\u65b9\u7684\u63a5\u6536\u901f\u5ea6\u8f83\u6162\uff0c\u4f1a\u9020\u6210\u4f20\u8f93\u9519\u8bef\uff0c\u6d6a\u8d39\u8d44\u6e90\uff0c\u56e0\u6b64\u6d41\u91cf\u63a7\u5236\u4e5f\u662f\u6570\u636e\u94fe\u8def\u5c42\u7684\u4e00\u9879\u91cd\u8981\u5de5\u4f5c\u3002</p> <p>\u6570\u636e\u94fe\u8def\u5c42\u7684\u6d41\u91cf\u63a7\u5236 VS \u4f20\u8f93\u5c42\u7684\u6d41\u91cf\u63a7\u5236</p> \u6570\u636e\u94fe\u8def\u5c42 \u4f20\u8f93\u5c42 \u70b9\u5bf9\u70b9 \u7aef\u5bf9\u7aef \u63a5\u6536\u65b9\u6536\u4e0d\u4e0b\u5c31\u4e0d\u56de\u590d\u786e\u8ba4 \u63a5\u6536\u7aef\u7ed9\u53d1\u9001\u7aef\u4e00\u4e2a\u7a97\u53e3\u516c\u544a\uff0c\u544a\u77e5\u53d1\u9001\u7aef\u6211\u73b0\u5728\u7a97\u53e3\u8fd8\u6709\u591a\u5c11\uff0c\u7f13\u51b2\u8fd8\u6709\u591a\u5927\u3002 <p></p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_12","title":"\u6d41\u91cf\u63a7\u5236\u7684\u65b9\u6cd5","text":"<p>\u6d41\u91cf\u63a7\u5236\u7684\u65b9\u6cd5\u6709\u4e24\u79cd\uff1a<code>\u505c\u6b62-\u7b49\u5f85\u534f\u8bae</code> \u548c <code>\u6ed1\u52a8\u7a97\u53e3\u534f\u8bae</code> \u3002</p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#-","title":"\u505c\u6b62-\u7b49\u5f85\u534f\u8bae","text":"<p>\u505c\u6b62-\u7b49\u5f85\u534f\u8bae\uff1a\u6bcf\u53d1\u9001\u5b8c\u4e00\u5e27\u5c31\u505c\u6b62\u53d1\u9001\uff0c\u7b49\u5f85\u5bf9\u65b9\u7684\u786e\u8ba4\uff0c\u5728\u6536\u5230\u786e\u8ba4\u540e\u518d\u53d1\u9001\u4e0b\u4e00\u5e27\u3002</p> <p>\u505c\u7b49\u534f\u8bae\u5206\u4e24\u79cd\u60c5\u51b5\uff1a<code>\u65e0\u5dee\u9519\u60c5\u51b5</code> \u548c <code>\u6709\u5dee\u9519\u60c5\u51b5</code>\u3002</p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_13","title":"\u65e0\u5dee\u9519\u60c5\u51b5","text":"<p>\u6bcf\u53d1\u9001 1 \u4e2a\u6570\u636e\u5e27\u5c31\u505c\u6b62\u5e76\u7b49\u5f85\uff0c\u56e0\u6b64\u7528 1bit \u6765\u7f16\u53f7\u5c31\u591f\u4e86\u3002</p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_14","title":"\u6709\u5dee\u9519\u60c5\u51b5","text":"<ol> <li> <p>\u6570\u636e\u5e27\u4e22\u5931\u6216\u68c0\u6d4b\u5230\u5e27\u51fa\u9519\uff1a</p> <ul> <li> <p>\u53d1\u9001\u65b9\u6bcf\u6b21\u53d1\u9001\u5b8c\u4e00\u5e27\u540e\u5c31\u4f1a\u542f\u52a8\u4e00\u4e2a\u8d85\u65f6\u8ba1\u65f6\u5668\uff0c\u5982\u679c\u8ba1\u65f6\u5668\u7ed3\u675f\u8fd8\u6ca1\u6536\u5230\u786e\u8ba4\u5e27\u5c31\u4f1a\u91cd\u65b0\u53d1\u9001\u4e0a\u4e00\u5e27\u3002</p> </li> <li> <p>\u6bcf\u6b21\u5728\u53d1\u9001\u4e4b\u524d\u53d1\u9001\u65b9\u90fd\u4f1a\u4fdd\u7559\u4e00\u4efd\u300c\u526f\u672c\u300d\uff0c\u5982\u679c\u8d85\u65f6\u672a\u6536\u5230\u786e\u8ba4\u5e27\u5c31\u4f1a\u4fdd\u7559\u4e00\u4efd\u300c\u526f-\u526f\u672c\u300d\uff0c\u7136\u540e\u628a\u526f\u672c\u91cd\u65b0\u53d1\u9001\u76f4\u5230\u6536\u5230\u5bf9\u65b9\u7684\u786e\u8ba4\u5e27\u624d\u5220\u9664\u3002</p> </li> <li> <p>\u8d85\u65f6\u8ba1\u65f6\u5668\u5e94\u8bbe\u7f6e\u7684\u6bd4\u5e27\u7684\u5e73\u5747 RTT \u957f\u4e00\u4e9b\u3002</p> </li> </ul> </li> <li> <p>ACK \u4e22\u5931\uff1a</p> <ul> <li>ACK \u4e22\u5931\u6307\u63a5\u6536\u65b9\u53d1\u9001\u7684\u786e\u8ba4\u5e27\u5728\u8def\u4e0a\u4e22\u5931\u4e86\uff0c\u5982\u6b64\u4e00\u6765\u6fc0\u6d3b\u4e86\u53d1\u9001\u65b9\u7684\u8d85\u65f6\u91cd\u4f20\uff0c\u800c\u63a5\u6536\u65b9\u5219\u4f1a\u6536\u5230\u91cd\u590d\u7684\u5e27\u3002\u6b64\u65f6\u63a5\u6536\u65b9\u4f1a\u4e22\u5f03\u8fd9\u4e00\u91cd\u590d\u7684\u5e27\uff0c\u5e76\u91cd\u65b0\u53d1\u9001\u786e\u8ba4\u5e27\u3002</li> </ul> </li> <li> <p>ACK \u8fdf\u5230\uff1a</p> <ul> <li>ACK \u8fdf\u5230\u6307\u63a5\u6536\u65b9\u53d1\u9001\u7684\u786e\u8ba4\u5e27\u4e0d\u662f\u5728\u8def\u4e0a\u4e22\u5931\u4e86\uff0c\u800c\u662f\u56e0\u4e3a\u67d0\u4e9b\u539f\u56e0\u8fdf\u5230\u4e86\uff0c\u56e0\u6b64\u4f1a\u6fc0\u6d3b\u53d1\u9001\u65b9\u7684\u8d85\u65f6\u91cd\u4f20\u3002\u8fd9\u6837\u63a5\u6536\u65b9\u4f1a\u6536\u5230\u91cd\u590d\u7684\u5e27\uff0c\u7b49\u8fdf\u5230\u7684 ACK \u5230\u8fbe\u540e\u53d1\u9001\u65b9\u53c8\u4f1a\u6536\u5230\u91cd\u590d\u7684\u786e\u8ba4\u5e27\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\u7684\u89e3\u51b3\u529e\u6cd5\u662f**\u63a5\u6536\u65b9\u548c\u53d1\u9001\u65b9\u90fd\u5ffd\u7565\u91cd\u590d**\u3002</li> </ul> </li> </ol>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_15","title":"\u505c\u7b49\u534f\u8bae\u6027\u80fd\u5206\u6790","text":"<p>\u4fe1\u9053\u5229\u7528\u7387\uff0c\u6307\u53d1\u9001\u65b9\u5728\u4e00\u4e2a\u53d1\u9001\u5468\u671f\u5185\uff0c\u6709\u6548\u5730\u53d1\u9001\u6570\u636e\u6240\u9700\u8981\u7684\u65f6\u95f4\u5360\u6574\u4e2a\u53d1\u9001\u5468\u671f\uff08\u4ece\u5f00\u59cb\u53d1\u9001\u6570\u636e\u5230\u6536\u5230\u7b2c\u4e00\u4e2a\u786e\u8ba4\u5e27\u4e3a\u6b62\uff09\u7684\u6bd4\u7387\u3002 $$ \u4fe1\u9053\u5229\u7528\u7387 = \uff08T \u5185\u53d1\u9001 L \u6bd4\u7279\u6570\u636e \\div \u53d1\u9001\u65b9\u6570\u636e\u4f20\u8f93\u7387\uff09 \\div \u53d1\u9001\u5468\u671f \\\\ U = \\frac {L/C} T (\u6ce8\uff1aT=Td + RTT + Ta\uff0cTd = L/C) $$ \u4fe1\u9053\u541e\u5410\u7387 = \u4fe1\u9053\u5229\u7528\u7387 \\(\\times\\) \u53d1\u9001\u65b9\u7684\u53d1\u9001\u901f\u7387 \u4fe1\u9053\u5229\u7528\u7387 = \\(U = \\frac {Td} {Td+RTT+Ta}\\)\u200b</p> <p>\u4f8b\u9898\uff1a\u4e00\u4e2a\u4fe1\u9053\u7684\u6570\u636e\u4f20\u8f93\u7387 C \u4e3a 4kb/s\uff0c\u5355\u5411\u4f20\u64ad\u65f6\u5ef6\u4e3a 30ms\uff0c\u5982\u679c\u4f7f\u505c\u6b62-\u7b49\u5f85\u534f\u8bae\u7684\u4fe1\u9053\u6700\u5927\u5229\u7528\u7387\u8fbe\u5230 80%\uff0c\u8981\u6c42\u6570\u636e\u5e27\u957f\u5ea6 L \u81f3\u5c11\u4e3a\uff1f</p> <p>\u7b54\uff1a\u4fe1\u9053\u6570\u636e\u4f20\u8f93\u7387 $ = 4kb/s = 4b/ms\\(\uff0c\\)Td = L \\div 4 b/ms\uff0cRTT = 2 \\times 30ms$\uff0c\u9898\u76ee\u4e2d\u4e3a\u63d0\u53ca\u786e\u8ba4\u5e27\u65f6\u5ef6 \\(Ta\\)\uff0c\u5728\u6b64\u5ffd\u7565\u4e0d\u8bb0\u3002</p> <p>\u4e8e\u662f\u5f97\u5230\u516c\u5f0f    $$   80\\% = \\frac {L \\div 4b/ms} {L\\div 4b/ms + 2 \\times 30ms } \\\\       = \\frac {L} {L + 60ms \\times 4b/ms} \\\\       = \\frac {L} {L + 240b} \\\\       L = 960b   $$   \u4fe1\u9053\u541e\u5410\u7387 = \\(80\\% \\times 4kb/s = 3.2kb/s\\)</p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_16","title":"\u6ed1\u52a8\u7a97\u53e3\u534f\u8bae","text":"<p>\u7531\u4e8e\u505c\u6b62-\u7b49\u5f85\u534f\u8bae\u7684\u4fe1\u9053\u5229\u7528\u7387\u592a\u4f4e\uff0c\u6240\u4ee5\u7ed3\u5408\u6d41\u6c34\u7ebf\u6280\u672f\u4ee5\u540e\uff0c\u4ea7\u751f\u4e86\u6ed1\u52a8\u7a97\u53e3\u534f\u8bae\uff0c\u4ee5\u6b64\u6765\u63d0\u9ad8\u4fe1\u9053\u5229\u7528\u7387\u3002</p> <p></p> <p>\u6ed1\u52a8\u7a97\u53e3\u534f\u8bae\u5206\u4e24\u79cd\uff0c\u4e00\u79cd\u662f <code>\u540e\u9000 N \u5e27\u534f\u8bae(GBN)</code>\uff0c\u53e6\u4e00\u79cd\u662f <code>\u9009\u62e9\u91cd\u4f20\u534f\u8bae(SR)</code>\u3002</p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#n-gbn","title":"\u540e\u9000 N \u5e27\u534f\u8bae\uff08GBN\uff09","text":""},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#gbn","title":"GBN \u53d1\u9001\u65b9\u5fc5\u987b\u54cd\u5e94\u7684\u4e09\u4ef6\u4e8b","text":"<ol> <li> <p>\u4e0a\u5c42\uff08\u53d1\u9001\u65b9\u7684\u7f51\u7edc\u5c42\uff09\u7684\u8c03\u7528</p> <p>\u4e0a\u5c42\u8981\u53d1\u9001\u6570\u636e\u65f6\uff0c\u53d1\u9001\u65b9\u5148\u68c0\u67e5\u53d1\u9001\u7a97\u53e3\u662f\u5426\u5df2\u6ee1\uff1a</p> <ul> <li>\u5982\u679c**\u7a97\u53e3\u672a\u6ee1**\u5219\u4ea7\u751f\u4e00\u4e2a\u5e27\u5e76\u53d1\u9001\uff1b</li> <li>\u5982\u679c**\u7a97\u53e3\u5df2\u6ee1**\u5219\u653e\u5165\u7f13\u5b58\uff0c\u7b49\u7a97\u53e3\u7a7a\u95f2\u518d\u53d1\u9001\uff1b\u5982\u679c\u7f13\u5b58\u4e5f\u6ee1\u4e86\u5219\u5c06\u6570\u636e\u8fd4\u56de\u7ed9\u4e0a\u5c42\u3002</li> </ul> </li> <li> <p>\u6536\u5230\u4e00\u4e2a ACK</p> <p>GBN \u534f\u8bae\u4e2d\uff0c\u5bf9 n \u53f7\u5e27\u91c7\u7528**\u7d2f\u79ef\u786e\u8ba4**\u7684\u65b9\u5f0f\uff0c\u6807\u660e\u63a5\u6536\u65b9\u5df2\u7ecf\u6536\u5230 n \u53f7\u5e27\u548c\u4e4b\u524d\u5168\u90e8\u5e27\u3002\u4f8b\u5982\u6536\u5230 ACK=3\uff0c\u8bf4\u660e\u63a5\u6536\u65b9\u5df2\u7ecf\u6536\u5230 0\u30011\u30012\u30013\u3002</p> </li> <li> <p>\u8d85\u65f6\u4e8b\u4ef6</p> <p>\u6bcf\u53d1\u9001\u4e00\u5e27\u90fd\u4f1a\u542f\u52a8\u4e00\u4e2a\u5bf9\u5e94\u7684\u8d85\u65f6\u8ba1\u65f6\u5668\uff0c\u5982\u679c\u67d0\u4e00\u5e27\u4e22\u5931\uff0c\u53d1\u9001\u6cd5\u6fc0\u6d3b\u8d85\u65f6\u91cd\u4f20\uff0c\u5219\u5c06\u7a97\u53e3\u62c9\u56de\u8d85\u65f6\u7684\u8fd9\u4e00\u5e27\uff0c\u91cd\u65b0\u53d1\u9001\u8d85\u65f6\u7684\u8fd9\u4e00\u5e27\u548c\u540e\u9762\u7684\u5e27\uff08\u5373\u4f7f\u540e\u9762\u7684\u5e27\u5df2\u7ecf\u53d1\u9001\u4e5f\u8981\u91cd\u65b0\u53d1\u9001\uff09\uff0c\u6240\u4ee5\u53eb\u540e\u9000 N \u5e27\u534f\u8bae\u3002</p> </li> </ol>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#gbn_1","title":"GBN \u63a5\u6536\u65b9\u8981\u505a\u7684\u4e8b\uff1a","text":"<ul> <li> <p>\u5982\u679c\u6b63\u786e\u6536\u5230 n \u53f7\u5e27\uff0c\u5e76\u4e14\u6309\u5e8f\uff0c\u90a3\u4e48\u63a5\u6536\u65b9\u53d1\u9001\u4e00\u4e2a n \u5e27\u7684 ACK\uff0c\u5e76\u5c06\u8be5\u5e27\u4e2d\u7684\u6570\u636e\u4ea4\u7ed9\u63a5\u6536\u65b9\u7684\u7f51\u7edc\u5c42\u3002</p> </li> <li> <p>\u5176\u4f59\u60c5\u51b5\uff08\u672a\u6b63\u786e\u6536\u5230 n \u53f7\u5e27\u6216\u5e27\u53f7\u987a\u5e8f\u4e0d\u5bf9\uff09\u90fd\u4e22\u5f03\u5e27\uff0c\u5e76\u8fd4\u56de\u300c\u6700\u8fd1\u7684\u6309\u5e8f\u63a5\u6536\u7684\u5e27\u7684 ACK\u300d\u3002\u63a5\u6536\u65b9\u65e0\u9700\u7f13\u5b58\u4efb\u4f55\u5931\u5e8f\u5e27\uff0c\u53ea\u9700\u8981\u7ef4\u62a4\u4e00\u4e2a\u4fe1\u606f\uff1a<code>expectedSeqNum(\u4e0b\u4e00\u4e2a\u6309\u5e8f\u63a5\u6536\u7684\u5e27\u5e8f\u53f7)</code>\u3002</p> </li> </ul> <p></p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_17","title":"\u6ed1\u52a8\u7a97\u53e3\u957f\u5ea6","text":"<p>\u82e5\u91c7\u7528 n \u4e2a\u6bd4\u7279\u5bf9\u5e27\u7f16\u53f7\uff0c\u90a3\u4e48\u53d1\u9001\u7a97\u53e3\u7684\u5c3a\u5bf8 \\(W_T\\) \u5e94\u6ee1\u8db3\uff1a\\(1 \\le W_T \\le 2^n-1\\)\u200b\u3002</p> <p>\u56e0\u4e3a\u82e5\u53d1\u9001\u7a97\u53e3\u5c3a\u5bf8\u8fc7\u5927\uff0c\u5c31\u4f1a\u4f7f\u5f97\u63a5\u6536\u65b9\u65e0\u6cd5\u533a\u522b\u65b0\u5e27\u548c\u65e7\u5e27\u3002</p> <p>\u4f8b\u5982\u91c7\u7528 3 \u4e2a\u6bd4\u7279\u5bf9\u5e27\u7f16\u53f7\uff0c\u7f16\u53f7\u5219\u4ece 0 \u5230 7 \u5171 8 \u4e2a\uff0c\u53d1\u9001\u7a97\u53e3\u6700\u5927\u5c3a\u5bf8\u4e0d\u80fd\u8d85\u8fc7 1 \u5230 7 \u3002</p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#gbn_2","title":"GBN \u91cd\u70b9\u603b\u7ed3","text":"<ol> <li>\u7d2f\u79ef\u786e\u8ba4\uff0c\u6536\u5230 ACK 3 \u4e86\u5c31\u8ba4\u4e3a ACK 1 \u548c ACK 2 \u5df2\u7ecf\u6536\u5230\u8fc7\u4e86\uff1b</li> <li>\u63a5\u6536\u65b9\u53ea\u6309\u5e8f\u63a5\u6536\u5e27\uff0c\u4e0d\u6309\u5e8f\u7684\u5c31\u4e22\u5f03\uff1b</li> <li>\u786e\u8ba4\u5e8f\u53f7 ACK \u53ea\u8fd4\u56de\u6700\u5927\u7684\u3001\u6309\u5e8f\u5230\u8fbe\u7684\u5e27\uff1b</li> <li>\u53d1\u9001\u7a97\u53e3\u6700\u5927\u4e3a \\(2^n-1(n\u4e3a\u5e27\u53f7\u6240\u9700\u6bd4\u7279\u4f4d)\\)\u200b\u200b\uff0c\u63a5\u6536\u7a97\u53e3\u5927\u5c0f\u4e3a 1\uff1b</li> <li>\u3010\u4f18\u70b9\u3011\uff1a\u56e0\u8fde\u7eed\u53d1\u9001\u6570\u636e\u5e27\u800c\u63d0\u9ad8\u4e86\u4fe1\u9053\u5229\u7528\u7387</li> <li>\u3010\u7f3a\u70b9\u3011\uff1a\u5728\u91cd\u4f20\u65f6\u5fc5\u987b\u628a\u539f\u6765\u5df2\u7ecf\u6b63\u786e\u4f20\u9001\u7684\u6570\u636e\u5e27\u91cd\u4f20\uff0c\u4f7f\u5f97\u4f20\u9001\u6548\u7387\u964d\u4f4e\u3002</li> </ol>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#sr","title":"\u9009\u62e9\u91cd\u4f20\u534f\u8bae\uff08SR\uff09\uff1a","text":""},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#sr_1","title":"SR \u53d1\u9001\u65b9\u5fc5\u987b\u54cd\u5e94\u7684\u4e09\u4ef6\u4e8b","text":"<ol> <li> <p>\u4e0a\u5c42\uff08\u53d1\u9001\u65b9\u7f51\u7edc\u5c42\uff09\u7684\u8c03\u7528</p> <p>\u4ece\u4e0a\u5c42\u6536\u5230\u6570\u636e\u540e\uff0cSR \u53d1\u9001\u65b9\u68c0\u67e5\u4e0b\u4e00\u4e2a\u53ef\u7528\u4e8e\u8be5\u5e27\u7684\u5e8f\u53f7\uff1a</p> <ul> <li>\u5982\u679c\u5e8f\u53f7\u4f4d\u4e8e\u53d1\u9001\u7a97\u53e3\u5185\uff0c\u5219\u53d1\u9001\u6570\u636e\u5e27\uff1b</li> <li>\u5982\u679c\u5e8f\u53f7\u4f4d\u4e8e\u53d1\u9001\u7a97\u53e3\u5916\uff0c\u5219\u8981\u4e48\u7f13\u5b58\uff0c\u8981\u4e48\u8fd4\u56de\u7ed9\u4e0a\u5c42\u4e4b\u540e\u518d\u4f20\u8f93\u3002</li> </ul> </li> <li> <p>\u6536\u5230\u4e86\u4e00\u4e2a ACK</p> <p>\u5982\u679c\u6536\u5230 ACK\uff0c\u82e5\u8be5\u5e27\u5e8f\u53f7\u5728\u7a97\u53e3\u5185\uff0c\u5219 SR \u53d1\u9001\u65b9\u5c06\u8be5\u5e27\u6807\u8bb0\u4e3a\u5df2\u63a5\u6536\u3002</p> <p>\u82e5\u8be5\u5e27\u5e8f\u53f7\u662f\u7a97\u53e3\u7684\u4e0b\u754c\uff08\u7a97\u53e3\u6700\u5de6\u8fb9\uff09\uff0c\u5219\u7a97\u53e3\u5411\u524d\u79fb\u52a8\u5230\u300c\u6700\u5c0f\u7684\u672a\u786e\u8ba4\u7684\u300d\u5e27\u5e8f\u53f7\u5904\u3002</p> <p>\u82e5\u7a97\u53e3\u79fb\u52a8\u4e86\uff0c\u4e14\u79fb\u52a8\u540e\u7a97\u53e3\u5185\u6709\u672a\u53d1\u9001\u7684\u5e27\uff0c\u5219\u53d1\u9001\u8fd9\u4e9b\u5e27\u3002</p> </li> <li> <p>\u8d85\u65f6\u91cd\u4f20</p> <p>\u6bcf\u4e2a\u5e27\u90fd\u6709\u81ea\u5df1\u7684\u5b9a\u65f6\u5668\uff0c\u4e00\u4e2a\u8d85\u65f6\u4e8b\u4ef6\u53d1\u751f\u540e\u53ea\u91cd\u4f20\u4e00\u4e2a\u5e27\u3002</p> </li> </ol>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#sr_2","title":"SR \u63a5\u6536\u65b9","text":"<p>SR \u63a5\u6536\u65b9\u5c06**\u786e\u8ba4\u4e00\u4e2a\u6b63\u786e\u63a5\u6536\u7684\u5e27**\u800c**\u4e0d\u7ba1\u5176\u662f\u5426\u6309\u5e8f**\u3002\u5931\u5e8f\u7684\u5e27\u5c06\u88ab**\u7f13\u5b58**\uff0c\u5e76\u8fd4\u56de\u7ed9\u53d1\u9001\u65b9\u4e00\u4e2a\u8be5\u5e27\u7684\u786e\u8ba4\u5e27\uff08\u6536\u5230\u8c01\u786e\u8ba4\u8c01\uff09\uff0c\u76f4\u5230\u6240\u6709\u5e27\uff08\u5373\u5e8f\u53f7\u66f4\u5c0f\u7684\u5e27\uff09\u7686\u88ab\u6536\u5230\u4e3a\u6b62\uff0c\u8fd9\u662f\u624d\u53ef\u4ee5\u5c06\u4e00\u6279\u5e27\u6309\u5e8f\u4ea4\u4ed8\u7ed9\u4e0a\u5c42\uff08\u63a5\u6536\u65b9\u7f51\u7edc\u5c42\uff09\uff0c\u7136\u540e\u5411\u524d\u6ed1\u52a8\u7a97\u53e3\u3002</p> <p>\u6b63\u786e\u7684\u5e27\u6307\u7a97\u53e3\u5185\u7684\u5e27\uff0c\u4e0d\u9700\u8981\u7ba1\u662f\u5426\u6309\u5e8f\u3002</p> <ul> <li>\u5982\u679c\u662f\u7a97\u53e3\u5185\u7684\u5e27\uff0c\u4e14\u662f\u6309\u5e8f\u90a3\u5c31\u6700\u597d\uff0c\u5c06\u5176\u63a5\u6536\u5e76\u8fd4\u56de\u8be5\u5e27\u7684\u786e\u8ba4 ACK\uff1b</li> <li>\u5982\u679c\u662f\u7a97\u53e3\u5185\u7684\u5e27\uff0c\u4f46\u4e0d\u662f\u6309\u5e8f\u7684\uff0c\u5219\u5c06\u5176\u63a5\u6536\u5e76\u7f13\u5b58\uff0c\u8fd4\u56de\u8be5\u5e27\u7684\u786e\u8ba4 ACK\uff1b</li> </ul> <p></p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_18","title":"\u6ed1\u52a8\u7a97\u53e3\u957f\u5ea6","text":"<p>\u53d1\u9001\u7a97\u53e3\u5c3a\u5bf8\u6700\u597d\u7b49\u4e8e\u63a5\u6536\u7a97\u53e3\u5c3a\u5bf8\uff0c\u5927\u4e86\u4f1a\u6ea2\u51fa\uff0c\u5c0f\u4e86\u6ca1\u610f\u4e49\u3002</p> <p>\u82e5\u91c7\u7528 n \u4e2a\u6bd4\u7279\u5bf9\u5e27\u7f16\u53f7\uff0c\u90a3\u4e48\u7a97\u53e3\u7684\u5c3a\u5bf8 \\(W_{Smax}\\)\u3001\\(W_{Rmax}\\)\u200b \u5e94\u6ee1\u8db3\uff1a\\(W_{Smax} = W_{Rmax} =  2^{n-1}\\)\u200b\u3002</p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#sr_3","title":"SR \u91cd\u70b9\u603b\u7ed3","text":"<ol> <li>\u5bf9\u63a5\u6536\u7a97\u53e3\u5185\u7684\u6570\u636e\u5e27\u9010\u4e00\u786e\u8ba4\uff0c\u6536\u4e00\u4e2a\u786e\u8ba4\u4e00\u4e2a</li> <li>\u53ea\u91cd\u4f20\u51fa\u9519\u5e27</li> <li>\u63a5\u6536\u65b9\u6709\u7f13\u5b58\uff0c\u5bf9\u4e8e\u5931\u5e8f\u7684\u5e27\u6536\u5230\u4e4b\u540e\u4f1a\u7f13\u5b58\u8d77\u6765\uff0c\u7b49\u5230\u7a97\u53e3\u5185\u6240\u6709\u5e27\u9f50\u4e86\u518d\u4e00\u8d77\u4ea4\u4ed8\u7f51\u7edc\u5c42\u3002</li> <li>\u7a97\u53e3\u5c3a\u5bf8 \\(W_{Smax} = W_{Rmax} =  2^{n-1}\\)</li> </ol> \u53d1\u9001\u7a97\u53e3\u5927\u5c0f \u63a5\u6536\u7a97\u53e3\u5927\u5c0f \u505c\u6b62-\u7b49\u5f85\u534f\u8bae = 1 = 1 \u540e\u9000 N \u5e27\u534f\u8bae &gt; 1 = 1 \u9009\u62e9\u91cd\u4f20\u534f\u8bae &gt; 1 &gt; 1 <ul> <li> <p>\u53ef\u9760\u4f20\u8f93\uff1a\u53d1\u9001\u7aef\u53d1\u5565\uff0c\u63a5\u6536\u7aef\u5c31\u6536\u5565</p> </li> <li> <p>\u6d41\u91cf\u63a7\u5236\uff1a\u63a7\u5236\u53d1\u9001\u901f\u7387\uff0c\u4f7f\u63a5\u6536\u65b9\u6709\u8db3\u591f\u7684\u7f13\u51b2\u7a7a\u95f4\u6765\u63a5\u6536\u6bcf\u4e00\u4e2a\u5e27</p> </li> <li> <p>\u6ed1\u52a8\u7a97\u53e3\u89e3\u51b3\uff1a</p> <ul> <li>\u6d41\u91cf\u63a7\u5236\uff1a\u6536\u4e0d\u4e0b\u5c31\u4e0d\u7ed9\u786e\u8ba4\uff0c\u60f3\u53d1\u4e5f\u53d1\u4e0d\u4e86</li> <li>\u53ef\u9760\u4f20\u8f93\uff1a\u53d1\u9001\u65b9\u81ea\u52a8\u91cd\u4f20</li> </ul> </li> </ul>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_19","title":"\u4fe1\u9053\u5212\u5206 \u4ecb\u8d28\u8bbf\u95ee\u63a7\u5236","text":"<p>\u4f20\u8f93\u6570\u636e\u65f6\u4f7f\u7528\u7684\u94fe\u8def\u6709\u4e24\u79cd\uff1a<code>\u70b9\u5bf9\u70b9\u94fe\u8def</code> \u548c <code>\u5e7f\u64ad\u5f0f\u94fe\u8def</code>\u3002</p> <p></p> <ul> <li> <p>\u70b9\u5bf9\u70b9\u94fe\u8def\uff1a\u4e24\u4e2a\u76f8\u90bb\u8282\u70b9\u901a\u8fc7\u4e00\u4e2a\u94fe\u8def\u9879\u94fe\uff0c\u6ca1\u6709\u7b2c\u4e09\u8005\u3002</p> <p>\u5e94\u7528\uff1aPPP \u534f\u8bae\uff0c\u5e38\u7528\u4e8e\u5e7f\u57df\u7f51\u3002</p> </li> <li> <p>\u5e7f\u64ad\u5f0f\u94fe\u8def\uff1a\u6240\u6709\u4e3b\u673a\u5171\u4eab\u901a\u4fe1\u4ecb\u8d28\u3002</p> <p>\u5e94\u7528\uff1a\u65e9\u671f\u7684\u603b\u7ebf\u4ee5\u592a\u7f51\u3001\u65e0\u7ebf\u5c40\u57df\u7f51\uff0c\u5e38\u7528\u4e8e\u5c40\u57df\u7f51\u3002</p> <p>\u5178\u578b\u62d3\u6251\u7ed3\u6784\uff1a\u603b\u7ebf\u578b\u3001\u661f\u578b\uff08\u903b\u8f91\u4e0a\u7684\u603b\u7ebf\u578b\uff09</p> </li> </ul> <p>\u5e7f\u64ad\u5f0f\u94fe\u8def\u7684\u4e00\u4e2a\u7279\u70b9\u662f\u4fe1\u53f7\u53d1\u9001\u5230\u4fe1\u9053\u4e0a\uff0c\u8c01\u90fd\u53ef\u4ee5\u63a5\u6536\uff1b \u603b\u7ebf\u578b\u7684\u7279\u70b9\u662f\u4e0d\u80fd\u540c\u65f6\u53d1\u9001\uff0c\u5373\u6709\u4e00\u4e2a\u4e3b\u673a\u5728\u53d1\u9001\u65f6\u5176\u4ed6\u4e3b\u673a\u53ea\u80fd\u63a5\u6536\uff0c\u4e0d\u7136\u4f1a\u9020\u6210\u4fe1\u9053\u5835\u8f66\u3002 \u800c\u661f\u578b\u7684\u7279\u70b9\u662f\u82e5\u67d0\u4e24\u53f0\u4e3b\u673a\u540c\u65f6\u53d1\u9001\uff0c\u8fd9\u4e24\u53f0\u4e3b\u673a\u4e4b\u95f4\u4f1a\u76f8\u4e92\u5e72\u6270\uff0c\u5bfc\u81f4\u8c01\u4e5f\u65e0\u6cd5\u53d1\u9001\u7ed9\u5bf9\u65b9\u3002 \u6240\u4ee5\u5c31\u5f15\u51fa\u4e86**\u4ecb\u8d28\u8bbf\u95ee\u63a7\u5236**\u3002</p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_20","title":"\u4ecb\u8d28\u8bbf\u95ee\u63a7\u5236","text":"<p>\u4ecb\u8d28\u8bbf\u95ee\u63a7\u5236\uff1a\u91c7\u53d6\u4e00\u5b9a\u7684\u63aa\u65bd\uff0c\u4f7f\u5f97\u4e24\u5bf9\u7ed3\u70b9\u4e4b\u95f4\u7684\u901a\u4fe1\u4e0d\u4f1a\u53d1\u751f\u4e92\u76f8\u5e72\u6270\u7684\u60c5\u51b5\u3002</p> <p></p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_21","title":"\u9759\u6001\uff1a\u4fe1\u9053\u5212\u5206","text":"<p>\u4fe1\u9053\u5212\u5206\u4ecb\u8d28\u8bbf\u95ee\u63a7\u5236\uff1a\u5c06\u4f7f\u7528\u4ecb\u8d28\u7684\u6bcf\u4e2a\u8bbe\u5907\u4e0e\u6765\u81ea\u540c\u4e00\u4fe1\u9053\u4e0a\u7684\u5176\u4ed6\u8bbe\u5907\u7684\u901a\u4fe1\u9694\u79bb\u5f00\uff0c\u628a\u65f6\u57df\u548c\u9891\u57df\u8d44\u6e90\u5408\u7406\u5730\u5206\u914d\u7ed9\u7f51\u7edc\u4e0a\u7684\u8bbe\u5907\u3002</p> <p></p> <ul> <li> <p>\u9891\u5206\u591a\u8def\u590d\u7528 (Frequency-division multiplexing\uff0cFDM)</p> <p></p> <p>\u7528\u6237\u5728\u5206\u914d\u5230\u4e00\u5b9a\u7ed9\u7684\u9891\u5e26\u540e\uff0c\u5728\u901a\u4fe1\u8fc7\u7a0b\u4e2d\u81ea\u59cb\u81ea\u7ec8\u90fd\u5360\u7528\u6574\u4e2a\u9891\u5e26\u3002\u9891\u5206\u590d\u7528\u7684\u6240\u6709\u7528\u6237\u5728\u540c\u6837\u7684\u65f6\u95f4\u5360\u7528\u4e0d\u540c\u7684\u9891\u7387\u5e26\u5bbd\u8d44\u6e90\u3002</p> <p>\u5373\u6709\u7684\u7528\u6237\u7528 5.8G\uff0c\u6709\u7684\u7528 4.0G\uff0c\u6709\u7684\u7528 2.4G\uff0c\u56e0\u4e3a\u9891\u7387\u4e0d\u540c\u6240\u4ee5\u4e92\u4e0d\u5e72\u6270\uff0c\u53ef\u4ee5\u540c\u65f6\u5de5\u4f5c\u3002</p> <p>\u4f18\u70b9\uff1a\u5145\u5206\u5229\u7528\u4f20\u8f93\u4ecb\u8d28\u5e26\u5bbd\uff0c\u7cfb\u7edf\u6548\u7387\u8f83\u9ad8\uff1b\u7531\u4e8e\u6280\u672f\u6210\u719f\uff0c\u5b9e\u73b0\u4e5f\u5bb9\u6613\u3002</p> </li> <li> <p>\u65f6\u5206\u591a\u8def\u590d\u7528 (Time-division multiplxing\uff0cTDM)</p> <p></p> <p>\u5c06\u65f6\u95f4\u5212\u5206\u4e3a\u4e00\u6bb5\u6bb5\u7b49\u957f\u7684\u65f6\u5206\u590d\u7528\u5e27\uff08TDM \u5e27\uff0c\u662f\u5728\u7269\u7406\u5c42\u4f20\u9001\u7684\u6bd4\u7279\u6d41\u6240\u5212\u5206\u7684\u5e27\uff0c\u6807\u5fd7\u4e00\u4e2a\u5468\u671f\uff09\u3002\u6bcf\u4e00\u4e2a\u65f6\u5206\u590d\u7528\u7684\u7528\u6237\u5728\u6bcf\u4e00\u4e2a TDM \u5e27\u4e2d\u5360\u7528\u7ed9\u56fa\u5b9a\u5e8f\u53f7\u7684\u65f6\u9699\uff0c\u6240\u6709\u7528\u6237\u8f6e\u6d41\u5360\u7528\u4fe1\u9053\u3002</p> <p>\u5176\u5b9e\u5c31\u662f\u65f6\u95f4\u7247\uff0c\u5927\u5bb6\u8f6e\u7740\u6765\uff0c\u7c7b\u4f3c\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u7684\u5e76\u53d1\u3002</p> <ul> <li> <p>\u6539\u8fdb\u7684\u65f6\u5206\u590d\u7528\u2014\u2014\u7edf\u8ba1\u65f6\u5206\u590d\u7528 STDM</p> <p></p> <p>\u7c7b\u4f3c\u5148\u6765\u5148\u670d\u52a1\u7b97\u6cd5\u3002\u8fd9\u79cd\u6bd4\u8f83\u9002\u5408\u6709\u4e9b\u7528\u6237\u7ecf\u5e38\u53d1\u9001\u6570\u636e\uff0c\u6709\u4e9b\u7528\u6237\u4e0d\u600e\u4e48\u53d1\u9001\u6570\u636e\u7684\u60c5\u51b5\u3002</p> </li> </ul> </li> <li> <p>\u6ce2\u5206\u591a\u8def\u590d\u7528 (Wavelength-division multiplxing\uff0cWDM)</p> <p>\u6ce2\u5206\u591a\u8def\u590d\u7528\u5c31\u662f**\u5149\u7684\u9891\u5206\u591a\u8def\u590d\u7528**\uff0c\u5728\u4e00\u6839\u5149\u7ea4\u4e2d\u4f20\u8f93\u591a\u79cd\u4e0d\u540c\u6ce2\u957f\uff08\u9891\u7387\uff09\u7684\u5149\u4fe1\u53f7\uff0c\u7531\u4e8e\u6ce2\u957f\uff08\u9891\u7387\uff09\u4e0d\u540c\uff0c\u6240\u4ee5\u5404\u8def\u5149\u4fe1\u53f7\u4e92\u8865\u5e72\u6270\uff0c\u6700\u540e\u518d\u7528\u6ce2\u957f\u5206\u89e3\u590d\u7528\u5668\u5c06\u5404\u8def\u6ce2\u957f\u5206\u89e3\u51fa\u6765\u3002</p> <p></p> </li> <li> <p>\u7801\u5206\u591a\u8def\u590d\u7528 (Code-division multiplexing\uff0cCDM)</p> <p>\u7801\u5206\u591a\u5740 (Code-division multiple access\uff0cCDMA) \u662f\u7801\u5206\u590d\u7528\u7684\u4e00\u79cd\u65b9\u5f0f\u30021 \u4e2a\u6bd4\u7279\u5206\u4e3a\u591a\u4e2a\u7801\u7247\uff0c\u6bcf\u4e00\u4e2a\u7ad9\u70b9\uff08\u4e3b\u673a\uff09\u88ab\u5236\u5b9a\u4e00\u4e2a\u552f\u4e00\u7684 m \u4e3a\u7684\u7801\u7247\u5e8f\u5217\u3002\u53d1\u9001 1 \u65f6\uff0c\u7ad9\u70b9\u4f1a\u53d1\u9001\u300c\u7801\u7247\u5e8f\u5217\u300d\uff1b\u53d1\u9001 0 \u65f6\uff0c\u7ad9\u70b9\u4f1a\u53d1\u9001\u300c\u7801\u7247\u5e8f\u5217\u53cd\u7801\u300d\u3002</p> <p>\u4f8b\u5982\uff0cA \u7ad9\u70b9\u548c B \u7ad9\u70b9\u7ed9 C \u7ad9\u70b9\u53d1\u9001\u6570\u636e\u3002</p> <p>\u5728 A \u7ad9\u70b9\uff0c\u6bd4\u7279\u5e8f\u5217\u4e3a +--+ +++-\uff0c\u5219</p> <ul> <li>\u53d1\u9001\u6bd4\u7279 1 \u65f6\u5e94\u53d1\u9001 <code>+1-1-1+1 +1+1+1-1</code>\uff1b</li> <li>\u53d1\u9001\u6bd4\u7279 0 \u65f6\u5e94\u53d1\u9001 <code>-1+1+1-1 -1-1-1+1</code>\u3002</li> </ul> <p>\u5728 B \u7ad9\u70b9\uff0c\u6bd4\u7279\u5e8f\u5217\u4e3a -+-+ -+++\uff0c\u5219</p> <ul> <li>\u53d1\u9001\u6bd4\u7279 1 \u65f6\u5e94\u53d1\u9001 <code>-1+1-1+1 -1+1+1+1</code>\uff1b</li> <li>\u53d1\u9001\u6bd4\u7279 0 \u65f6\u5e94\u53d1\u9001 <code>+1-1+1-1 +1-1-1-1</code>\u3002</li> </ul> <p>\u591a\u4e2a\u7ad9\u70b9\u540c\u65f6\u53d1\u9001\u6570\u636e\u7684\u65f6\u5019\uff0c\u8981\u6c42\u5404\u4e2a\u7ad9\u70b9\u82af\u7247\u5e8f\u5217\u76f8\u4e92\u300c\u65bd\u5bc6\u7279\u6b63\u4ea4\u300d\u3002</p> <p>\u591a\u4e2a\u7ad9\u70b9\u8981\u5408\u5e76\u53d1\u9001\u65f6\uff0c\u53ea\u9700\u8981\u5bf9\u5e8f\u5217\u300c\u7ebf\u6027\u76f8\u52a0\u300d\u5373\u53ef\u3002</p> <p>\u6536\u5230\u540e\u8981\u5206\u79bb\u6570\u636e\u65f6\uff0c\u53ea\u9700\u8981\u5bf9<code>\u5408\u5e76\u7684\u6570\u636e</code>\u548c<code>\u6e90\u7ad9\u7684\u5e8f\u5217</code>\u89c4\u683c\u5316\u5185\u79ef\uff08\u4e5f\u5c31\u662f\u505a\u4e00\u6b21\u65bd\u5bc6\u7279\u6b63\u4ea4\uff09\u3002</p> </li> </ul> <p></p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_22","title":"\u52a8\u6001\uff1a\u5206\u914d\u4fe1\u9053","text":"<p>\u4fe1\u9053\u5e76\u975e\u518d\u7528\u6237\u901a\u4fe1\u65f6\u56fa\u5b9a\u5206\u914d\u7ed9\u7528\u6237</p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#aloha","title":"ALOHA \u534f\u8bae","text":"<p>\u60f3\u53d1\u5c31\u53d1\u3002</p> <p>\u6539\u8fdb\u7248\u7684 ALOHA \u534f\u8bae\u4e5f\u662f\u60f3\u53d1\u5c31\u53d1\uff0c\u4f46\u662f\u53d1\u7684\u65f6\u5019\u4f1a\u8e29\u7740\u65f6\u95f4\u69fd\uff0c\u4ee5\u8f83\u5c11\u51b2\u7a81\u3002</p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#csma","title":"CSMA \u534f\u8bae","text":"<p>CSMA \u5168\u79f0\u300c\u8f7d\u6ce2\u76d1\u542c\u591a\u8def\u8bbf\u95ee\u534f\u8bae\uff08Carrier Sense Multiple access\uff09\u300d\u3002</p> <ul> <li> <p>MA\uff1a\u591a\u70b9\u63a5\u5165\uff0c\u8868\u793a\u8bb8\u591a\u8ba1\u7b97\u673a\u4ee5\u591a\u70b9\u63a5\u5165\u7684\u65b9\u5f0f\u8fde\u63a5\u5728\u4e00\u6839\u603b\u7ebf\u4e0a\u3002</p> </li> <li> <p>CS\uff1a\u8f7d\u6ce2\u4fa6\u542c/\u76d1\u542c\uff0c\u6bcf\u4e00\u4e2a\u7ad9\u5728\u53d1\u9001\u6570\u636e\u4e4b\u524d\u8981\u68c0\u6d4b\u4e00\u4e0b\u603b\u7ebf\u4e0a\u662f\u5426\u6709\u5176\u4ed6\u8ba1\u7b97\u673a\u5728\u53d1\u9001\u6570\u636e\u3002</p> <ul> <li> <p>\u76d1\u542c\u65b9\u6cd5\uff1a\u68c0\u6d4b\u603b\u7ebf\u4e0a\u7684\u4fe1\u53f7\u7535\u538b\u6446\u52a8\u503c\u3002</p> <p>\u5982\u679c\u51e0\u4e2a\u7ad9\u540c\u65f6\u5728\u603b\u7ebf\u4e0a\u53d1\u9001\u6570\u636e\u65f6\uff0c\u603b\u7ebf\u4e0a\u7684\u4fe1\u53f7\u7535\u538b\u6446\u52a8\u503c\u5c06\u4f1a\u589e\u5927\uff08\u4e92\u76f8\u53e0\u52a0\uff09\u3002\u5f53\u4e00\u4e2a\u7ad9\u68c0\u6d4b\u5230\u4fe1\u53f7\u7535\u538b\u6446\u52a8\u503c\u8d85\u8fc7\u4e00\u5b9a\u9608\u503c\u65f6\uff0c\u5c31\u8ba4\u4e3a\u603b\u7ebf\u4e0a\u81f3\u5c11\u6709 2 \u4e2a\u7ad9\u540c\u65f6\u5728\u53d1\u9001\u6570\u636e\uff0c\u8868\u660e\u4ea7\u751f\u4e86\u78b0\u649e\uff0c\u5373\u53d1\u751f\u4e86\u51b2\u7a81\u3002</p> </li> <li> <p>\u76d1\u542c\u7ed3\u679c\uff1a<code>\u4fe1\u9053\u7a7a\u95f2</code> -&gt; \u53d1\u9001\u5b8c\u6574\u5e27\uff1b<code>\u4fe1\u9053\u5fd9\u788c</code> -&gt; \u63a8\u8fdf\u53d1\u9001\u3002</p> </li> </ul> </li> </ul> <p>\u63a8\u8fdf\u591a\u4e45\u3001\u662f\u5426\u7acb\u523b\u53d1\u9001\u5b8c\u6574\u5e27\uff0c\u6709 3 \u4e2d\u4e0d\u540c\u7684\u534f\u8bae\uff1a</p> <ol> <li>\u975e\u575a\u6301 CSMA</li> <li>1-\u575a\u6301 CSMA</li> <li> <p>p-\u575a\u6301 CSMA</p> </li> <li> <p>1- \u575a\u6301 CSMA\uff1a\u575a\u6301\u6307\u5bf9\u4e8e\u76d1\u542c\u4fe1\u9053\u5fd9\u788c\u4e4b\u540e\u7684\u575a\u6301\u3002\u5982\u679c\u4e00\u4e2a\u4e3b\u673a\u8981\u53d1\u9001\u6d88\u606f\uff0c\u90a3\u4e48\u5b83\u5148\u76d1\u542c\u4fe1\u9053\u3002</p> <ul> <li> <p><code>\u7a7a\u95f2</code> -&gt; \u5219**\u76f4\u63a5\u4f20\u8f93**\uff0c\u4e0d\u5fc5\u7b49\u5f85\u3002</p> </li> <li> <p><code>\u5fd9\u788c</code> -&gt; \u5219**\u4e00\u76f4\u76d1\u542c**\uff0c\u76f4\u5230\u7a7a\u95f2\u9a6c\u4e0a\u4f20\u8f93\u3002</p> </li> <li> <p>\u51b2\u7a81\uff08\u8ba1\u65f6\u5668\u5185\u672a\u6536\u5230\u786e\u8ba4\uff09 -&gt; \u5219\u7b49\u5f85\u4e00\u4e2a\u968f\u673a\u957f\u7684\u65f6\u95f4\u518d\u76d1\u542c\uff0c\u91cd\u590d\u4e0a\u8ff0\u8fc7\u7a0b\u3002</p> </li> <li> <p>\u4f18\u70b9\uff1a\u53ea\u8981\u5a92\u4f53\u7a7a\u95f2\uff0c\u7ad9\u70b9\u5c31\u9a6c\u4e0a\u53d1\u9001\uff0c\u907f\u514d\u4e86\u5a92\u4f53\u5229\u7528\u7387\u7684\u635f\u5931\u3002</p> </li> <li> <p>\u7f3a\u70b9\uff1a\u82e5\u6709\u4e24\u4e2a\u6216\u4ee5\u4e0a\u7684\u7ad9\u70b9\u6709\u6570\u636e\u8981\u53d1\u9001\uff0c\u51b2\u7a81\u5c31\u4e0d\u53ef\u907f\u514d\u3002</p> </li> </ul> </li> <li> <p>\u975e\u575a\u6301 CSMA\uff1a\u975e\u575a\u6301\u6307\u5bf9\u4e8e\u76d1\u542c\u4fe1\u9053\u5fd9\u788c\u4e4b\u540e\u5c31\u4e0d\u7ee7\u7eed\u76d1\u542c\u3002\u5982\u679c\u4e00\u4e2a\u4e3b\u673a\u8981\u53d1\u9001\u6d88\u606f\uff0c\u90a3\u4e48\u5b83\u5148\u76d1\u542c\u4fe1\u9053\u3002</p> <ul> <li> <p><code>\u7a7a\u95f2</code> -&gt; \u5219**\u76f4\u63a5\u4f20\u8f93**\uff0c\u4e0d\u5fc5\u7b49\u5f85\u3002</p> </li> <li> <p><code>\u5fd9\u788c</code> -&gt; \u5219\u7b49\u5f85\u4e00\u4e2a**\u968f\u673a\u65f6\u95f4\u4e4b\u540e\u518d\u8fdb\u884c\u76d1\u542c**\u3002</p> </li> <li> <p>\u4f18\u70b9\uff1a\u91c7\u7528\u968f\u673a\u7684\u91cd\u53d1\u5ef6\u8fdf\u65f6\u95f4\u53ef\u4ee5\u51cf\u5c11\u51b2\u7a81\u53d1\u751f\u7684\u53ef\u80fd\u6027\u3002</p> </li> <li> <p>\u7f3a\u70b9\uff1a\u53ef\u80fd\u5b58\u5728\u5927\u5bb6\u90fd\u5728\u5ef6\u8fdf\u7b49\u5f85\u8fc7\u7a0b\u4e2d\uff0c\u4f7f\u5f97\u5a92\u4f53\u4f7f\u7528\u7387\u964d\u4f4e\u3002</p> </li> </ul> </li> <li> <p>p-\u575a\u6301 CSMA\uff1ap-\u575a\u6301\u6307\u5bf9\u4e8e\u76d1\u542c\u4fe1\u9053\u7a7a\u95f2\u7684\u5904\u7406\u3002\u5982\u679c\u4e00\u4e2a\u4e3b\u673a\u8981\u53d1\u9001\u6d88\u606f\uff0c\u90a3\u4e48\u5b83\u5148\u76d1\u542c\u4fe1\u9053\u3002</p> <ul> <li><code>\u7a7a\u95f2</code> -&gt; \u5219\u4ee5 \u6982\u7387 p \u76f4\u63a5\u4f20\u8f93\uff0c\u4e0d\u5fc5\u7b49\u5f85\uff1b\u6982\u7387 1-p \u7b49\u5230\u4e0b\u4e00\u4e2a\u65f6\u95f4\u7247\u518d\u4f20\u8f93\u3002</li> <li><code>\u5fd9\u788c</code> -&gt; \u5219**\u4e00\u76f4\u76d1\u542c**\uff0c\u76f4\u5230\u7a7a\u95f2\u65f6\u6309 p \u6982\u7387\u76f4\u63a5\u4f20\u8f93\u3002</li> <li>\u4f18\u70b9\uff1a\u51cf\u5c11\u51b2\u7a81\uff0c\u56e0\u4e3a\u4e0d\u4f1a\u50cf 1-\u575a\u6301\u4e00\u6837\u4fe1\u9053\u7a7a\u95f2\u65f6\u6709\u591a\u4e2a\u540c\u65f6\u53d1\u9001\u5bfc\u81f4\u51b2\u7a81\uff1b\u51cf\u5c11\u7b49\u5f85\u65f6\u95f4\uff08\u4e0e\u975e\u575a\u6301\u7684\u968f\u673a\u65f6\u95f4\u76f8\u6bd4\uff09</li> <li>\u7f3a\u70b9\uff1a\u53d1\u751f\u51b2\u7a81\u540e\u8fd8\u662f\u575a\u6301\u8981\u628a\u6570\u636e\u5e27\u53d1\u9001\u5b8c\uff0c\u9020\u6210\u4e86\u6d6a\u8d39\u3002</li> </ul> </li> <li> <p>\u4e09\u79cd\u534f\u8bae\u7684\u5dee\u522b\u5728\u4e8e\u5bf9\u5fd9\u788c\u65f6\u5904\u7406\u7684\u4e0d\u540c\uff0c</p> \u4fe1\u9053\u7a7a\u95f2 \u4fe1\u9053\u5fd9\u788c 1-\u575a\u6301 CSMA \u9a6c\u4e0a\u53d1 \u4e00\u76f4\u76d1\u542c \u975e\u575a\u6301 CSMA \u9a6c\u4e0a\u53d1 \u968f\u673a\u65f6\u95f4\u540e\u76d1\u542c p-\u575a\u6301 CSMA p \u6982\u7387\u9a6c\u4e0a\u53d1\uff0c1-p \u6982\u7387\u63a8\u8fdf\u5230\u4e0b\u4e00\u4e2a\u65f6\u9699\u53d1 \u4e00\u76f4\u76d1\u542c </li> </ol>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#csmacd","title":"CSMA/CD \u534f\u8bae","text":"<p>CSMA/CD \u5168\u79f0 \u300c\u8f7d\u6ce2\u76d1\u542c\u591a\u70b9\u63a5\u5165/\u78b0\u649e\u68c0\u6d4b\uff08Carrier Sense Multiple Access with Collision Detection\uff09\u300d\uff0c\u5e38\u7528\u4e8e\u603b\u7ebf\u578b\u4ee5\u592a\u7f51\u3002</p> <ul> <li> <p>MA\uff1a\u591a\u70b9\u63a5\u5165\uff0c\u8868\u793a\u8bb8\u591a\u8ba1\u7b97\u673a\u4ee5\u591a\u70b9\u63a5\u5165\u7684\u65b9\u5f0f\u8fde\u63a5\u5728\u4e00\u6839\u603b\u7ebf\u4e0a\u3002</p> </li> <li> <p>CS\uff1a\u8f7d\u6ce2\u4fa6\u542c/\u76d1\u542c\uff0c\u6bcf\u4e00\u4e2a\u7ad9\u5728**\u53d1\u9001\u6570\u636e\u4e4b\u524d**\u4ee5\u53ca**\u53d1\u9001\u6570\u636e\u65f6**\u90fd\u8981\u68c0\u6d4b\u4e00\u4e0b\u603b\u7ebf\u4e0a\u662f\u5426\u6709\u5176\u4ed6\u8ba1\u7b97\u673a\u5728\u53d1\u9001\u6570\u636e\u3002</p> <ul> <li> <p>\u76d1\u542c\u65b9\u6cd5\uff1a\u68c0\u6d4b\u603b\u7ebf\u4e0a\u7684\u4fe1\u53f7\u7535\u538b\u6446\u52a8\u503c\u3002</p> <p>\u5982\u679c\u51e0\u4e2a\u7ad9\u540c\u65f6\u5728\u603b\u7ebf\u4e0a\u53d1\u9001\u6570\u636e\u65f6\uff0c\u603b\u7ebf\u4e0a\u7684\u4fe1\u53f7\u7535\u538b\u6446\u52a8\u503c\u5c06\u4f1a\u589e\u5927\uff08\u4e92\u76f8\u53e0\u52a0\uff09\u3002\u5f53\u4e00\u4e2a\u7ad9\u68c0\u6d4b\u5230\u4fe1\u53f7\u7535\u538b\u6446\u52a8\u503c\u8d85\u8fc7\u4e00\u5b9a\u9608\u503c\u65f6\uff0c\u5c31\u8ba4\u4e3a\u603b\u7ebf\u4e0a\u81f3\u5c11\u6709 2 \u4e2a\u7ad9\u540c\u65f6\u5728\u53d1\u9001\u6570\u636e\uff0c\u8868\u660e\u4ea7\u751f\u4e86\u78b0\u649e\uff0c\u5373\u53d1\u751f\u4e86\u51b2\u7a81\u3002</p> </li> <li> <p>\u76d1\u542c\u7ed3\u679c\uff1a<code>\u4fe1\u9053\u7a7a\u95f2</code> -&gt; \u53d1\u9001\u5b8c\u6574\u5e27\uff1b<code>\u4fe1\u9053\u5fd9\u788c</code> -&gt; \u63a8\u8fdf\u53d1\u9001\u3002</p> </li> </ul> </li> <li> <p>CD\uff1a\u78b0\u649e\u68c0\u6d4b\uff0c\u201c\u8fb9\u53d1\u9001\u8fb9\u76d1\u542c\u201d\uff0c\u9002\u914d\u5668\u8fb9\u53d1\u9001\u6570\u636e\u8fb9\u68c0\u6d4b\u4fe1\u9053\u4e0a\u4fe1\u53f7\u7535\u538b\u7684\u53d8\u5316\u60c5\u51b5\uff0c\u4ee5\u4fbf\u5224\u65ad\u81ea\u5df1\u53d1\u9001\u6570\u636e\u65f6\u5176\u4ed6\u7ad9\u662f\u5426\u4e5f\u5728\u53d1\u9001\u6570\u636e\u3002</p> </li> </ul>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_23","title":"\u78b0\u649e\u539f\u56e0","text":"<p>CSMA \u662f\u4f1a\u5148\u68c0\u6d4b\u4fe1\u9053\u662f\u5426\u5fd9\u788c\uff0c\u4e0d\u5fd9\u788c\u518d\u53d1\u9001\u7684\uff0c\u4f46\u662f\u4e3a\u4ec0\u4e48\u8fd8\u4f1a\u78b0\u649e\uff08\u51b2\u7a81\uff09\u5462\uff1f\u56e0\u4e3a\u7535\u78c1\u6ce2\u5728\u4fe1\u9053\u4e0a\u4f20\u8f93\u662f\u9700\u8981\u65f6\u95f4\u7684\u3002</p> <p>\u53ef\u80fd A \u53d1\u9001\u524d\u4fe1\u9053\u7a7a\u95f2\uff0c\u5b83\u5c31\u53d1\u51fa\u53bb\uff1b\u5728\u4fe1\u53f7\u8fd8\u6ca1\u5230\u8fbe B \u4e4b\u524d\uff0cB \u68c0\u6d4b\u4e86\u4fe1\u9053\uff0c\u56e0\u4e3a A \u7684\u6570\u636e\u8fd8\u6ca1\u5230\uff0c\u6240\u4ee5 B \u68c0\u6d4b\u540e\u4ee5\u4e3a\u4fe1\u9053\u662f\u7a7a\u95f2\u7684\uff0c\u4e5f\u53d1\u9001\u51fa\u53bb\uff0c\u7ed3\u679c\u4e24\u4e2a\u4fe1\u53f7\u5c31\u5728\u4fe1\u9053\u4e0a\u53d1\u751f\u4e86\u78b0\u649e\u3002</p> <p>\u4e24\u4e2a\u4fe1\u53f7\u78b0\u649e\u540e\uff0c\u5c31\u4f1a\u76f8\u4e92\u53e0\u52a0\uff0c\u4e5f\u5c31\u6210\u4e86\u88ab\u6c61\u67d3\u7684\u4fe1\u53f7\u3002B \u4f1a\u6536\u5230\u53d7\u6c61\u67d3\u7684 A \u4fe1\u53f7\uff0cA \u4f1a\u6536\u5230\u53d7\u6c61\u67d3\u7684 B \u4fe1\u53f7\uff0c\u4e8e\u662f\u4e24\u8fb9\u90fd\u4f1a\u505c\u53d1\u3002</p> <p></p> <p>\u4ece\u4e0a\u56fe\u53ef\u4ee5\u770b\u51fa\uff0cA \u5728 <code>t = 0</code> \u65f6\u523b\u53d1\u51fa\uff0c\u5728 <code>t = p</code> \u65f6\u523b\u5230\u8fbe\uff1bB \u53d1\u51fa\u540e\u7ecf\u8fc7\u65f6\u957f k \u6536\u5230\u4e86 A \u7684\u6c61\u67d3\u4fe1\u53f7\uff0c \u800c B \u5728 <code>t = p - k</code> \u65f6\u523b\u53d1\u51fa\uff0c\u6240\u4ee5\u4ed6\u4eec\u7684\u78b0\u649e\u53d1\u751f\u5728 <code>t = p -  k/2</code> \u65f6\u523b\u3002 B \u7684\u4fe1\u53f7\u5728 <code>t = p - k</code> \u65f6\u523b\u53d1\u51fa\uff0c\u7ecf\u8fc7\u65f6\u957f p \u5230\u8fbe A\uff0c\u6240\u4ee5 A \u5728 <code>t = 2p-k</code> \u65f6\u523b\u77e5\u9053\u53d1\u751f\u4e86\u51b2\u7a81\u3002</p> <p>\u8981\u77e5\u9053\u662f\u5426\u51b2\u7a81\uff0c\u6700\u957f\u8981\u7ecf\u8fc7\u65f6\u957f p \\(\\times\\)\u200b 2\u3002</p> <p>\u5047\u8bbe A \u7684\u4fe1\u53f7\u8dd1\u4e86 999.99 \u7c73\uff0c\u82b1\u4e86\u63a5\u8fd1 1p \u7684\u65f6\u957f\uff0c\u8ddf B \u7684\u4fe1\u53f7\u78b0\u649e\u4e0a\u4e86\uff0c\u90a3\u4e48 B \u7684\u8fd9\u6bb5\u6c61\u67d3\u4fe1\u53f7\u5728 0.01 \u7c73\u51fa\u78b0\u649e\u540e\uff0c\u7ee7\u7eed\u8dd1 999.99 \u7c73\uff0c\u82b1\u4e86 1p \u7684\u65f6\u957f\u5230 A\uff0cA\u6536\u5230\u6c61\u67d3\u4fe1\u53f7\u5f97\u77e5\u51b2\u7a81\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u4ece A\u8dd1\u51fa\u53bb\u5f00\u59cb\u82b1\u4e86 1p\uff0cB\u8dd1\u51fa\u53bb\u5f00\u59cb\u82b1\u4e86 1p\uff0c\u6240\u4ee5 A \u82b1\u4e86\u63a5\u8fd1 2p \u624d\u77e5\u9053\u78b0\u649e\u3002</p> <p>\u8fd9\u6bb5\u65f6\u957f 2p\uff0c\u4e5f\u53eb\u4e89\u7528\u671f\u3001\u51b2\u7a81\u7a97\u53e3\u3001\u78b0\u649e\u7a97\u53e3\uff0c\u6240\u4ee5\u53d1\u51fa\u4fe1\u53f7\u4ee5\u540e\uff0c\u53ea\u8981\u8fc7\u4e86\u4e89\u7528\u671f\u8fd8\u6ca1\u68c0\u6d4b\u5230\u78b0\u649e\uff0c\u5c31\u53ef\u4ee5\u80af\u5b9a\u8fd9\u6b21\u53d1\u9001\u6ca1\u6709\u53d1\u751f\u78b0\u649e\u3002\u6240\u4ee5\u5728\u53d1\u51fa\u4fe1\u53f7\u540e 0 \u5230 2p \u7684\u8fd9\u6bb5\u65f6\u95f4\u5185\u6ca1\u6709\u68c0\u6d4b\u5230\u78b0\u649e\uff0c\u90a3\u5c31\u662f\u6ca1\u6709\u78b0\u649e\u3002</p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_24","title":"\u649e\u540e\u91cd\u4f20","text":"<p>\u68c0\u6d4b\u5230\u78b0\u649e\u7684\u7b2c\u4e00\u4ef6\u4e8b\u662f\u7acb\u5373\u505c\u6b62\u53d1\u9001\uff0c\u62e9\u673a\u91cd\u4f20\u3002</p> <p>\u5bf9\u4e8e\u91cd\u4f20\u7684\u65f6\u673a\uff0c\u4e00\u822c\u91c7\u7528\u7684\u662f\u300c\u622a\u65ad\u4e8c\u8fdb\u5236\u6307\u6570\u89c4\u907f\u7b97\u6cd5\u300d</p> <p>\u622a\u65ad\u4e8c\u8fdb\u5236\u6307\u6570\u89c4\u907f\u7b97\u6cd5\uff1a</p> <ol> <li>\u786e\u5b9a\u57fa\u672c\u9000\u907f\uff08\u63a8\u8fdf\uff09\u65f6\u95f4\u4e3a\u4e89\u7528\u671f 2p\u3002</li> <li>\u5b9a\u4e49\u53c2\u6570 \\(k = min\\{\u91cd\u4f20\u6b21\u6570, 10\\}\\)\u3002</li> <li>\u4ece\u79bb\u6563\u7684\u6574\u6570\u96c6\u5408 \\([0, 1, 2^k-1]\\)\u200b \u4e2d\u968f\u673a\u53d6\u4e00\u4e2a\u6570 r\uff0c\u786e\u5b9a\u6700\u7ec8\u9000\u907f\u65f6\u95f4 \\(2p\\times r\\)\u200b</li> <li>\u5f53\u91cd\u4f20 16 \u6b21\u4ecd\u4e0d\u80fd\u6210\u529f\uff0c\u8bf4\u660e\u7f51\u7edc\u592a\u62e5\u6324\uff0c\u8ba4\u4e3a\u6b64\u5e27\u65e0\u6cd5\u6b63\u786e\u53d1\u51fa\uff0c\u629b\u5f03\u6b64\u5e27\u5e76\u5411\u9ad8\u5c42\u62a5\u544a\u51fa\u9519\u3002</li> </ol> <pre><code>p = n               # \u5355\u7a0b\u7aef\u5230\u7aef\u7684\u4f20\u64ad\u65f6\u5ef6 p\nbaseDelay = 2 * p   # \u57fa\u672c\u9000\u907f\u65f6\u95f4\uff0c\u5373\u4e89\u7528\u671f 2p\nreTransTime = 0     # \u91cd\u4f20\u6b21\u6570\n\nwhile reTransTime &lt;= 16:\n    k = min(reTransTime, 10)    # k \u53d6\u91cd\u4f20\u6b21\u6570\u548c 10 \u4e2d\u6700\u5c0f\u7684\u4e00\u4e2a\n    intSet = [2**i for i in range(k)].insert(0, 0)  # \u751f\u6210\u79bb\u6563\u7684\u6574\u6570\u96c6\u5408\n    r = random(intSet)          # \u968f\u673a\u53d6\u4e00\u4e2a\u6570 r\n    finalDelay = r * baseDelay  # \u786e\u5b9a\u6700\u7ec8\u9000\u907f\u65f6\u95f4 2pr\n\n    if ReTrans(finalDelay) == 'Success':\n        break\n    else if reTransTime == 16:  # \u91cd\u4f20\u6b21\u6570\u8fbe\u523016\u8fd8\u5931\u8d25\u5219\u4e0a\u62a5\u3002\n        reportError()\n    else:\n        reTransTime += 1\n        continue\n</code></pre> <p></p> <p>\u6240\u8fde\u7eed\u591a\u6b21\u53d1\u751f\u51b2\u7a81\uff0c\u5c31\u8868\u660e\u53ef\u80fd\u6709\u8f83\u591a\u7684\u7ad9\u70b9\u53c2\u4e0e\u4e89\u7528\u4fe1\u9053\uff0c\u4f7f\u7528\u6b64\u7b97\u6cd5\u53ef\u4f7f\u91cd\u4f20\u9700\u8981\u63a8\u8fdf\u7684\u5e73\u5747\u65f6\u95f4\u968f\u91cd\u4f20\u6b21\u6570\u7684\u589e\u5927\u800c\u589e\u5927\uff0c\u56e0\u800c\u51cf\u5c11\u53d1\u751f\u78b0\u649e\u7684\u6982\u7387\uff0c\u6709\u5229\u4e8e\u6574\u4e2a\u7cfb\u7edf\u7684\u7a33\u5b9a\u3002</p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_25","title":"\u6700\u5c0f\u5e27\u957f","text":"<p>\u5e27\u592a\u77ed\u7684\u8bdd\uff0c\u8fd8\u6ca1\u51b2\u7a81\u5c31\u5df2\u7ecf\u53d1\u5b8c\u4e86\uff0c\u8fd9\u6837 CSMA/CD \u534f\u8bae\u5c31\u5931\u53bb\u4e86\u610f\u4e49\u3002</p> <p>\u6240\u4ee5\u89c4\u5b9a\uff0c\u5e27\u7684\u4f20\u8f93\u65f6\u5ef6\u81f3\u5c11\u8981\u4e24\u500d\u4e8e\u4fe1\u53f7\u5728\u603b\u7ebf\u4e2d\u7684\u4f20\u64ad\u65f6\u5ef6\uff0c\u4e5f\u5c31\u662f\u5e27\u7684\u7b2c\u4e00\u4e2a\u6bd4\u7279\u63a8\u5230\u4fe1\u9053\u4e0a\u7b97\u8d77\uff0c\u76f4\u5230\u63a8\u5b8c\u6700\u540e\u4e00\u4e2a\u6bd4\u7279\u8fd9\u6bb5\u65f6\u95f4\uff08\u4f20\u8f93\u65f6\u5ef6\uff09\u8981\u5927\u4e8e RTT\uff08\u5f80\u8fd4\u4f20\u64ad\u65f6\u5ef6\uff0c\u4fe1\u53f7\u5728\u4fe1\u9053\u4e0a\u8dd1\u4e00\u4e2a\u6765\u56de\u7684\u65f6\u95f4\uff09\u3002 $$ \u6700\u5c0f\u5e27\u957f = \u603b\u7ebf\u4f20\u64ad\u65f6\u5ef6 p \\times 2 \\times \u6570\u636e\u4f20\u8f93\u901f\u7387 $$ \u4ee5\u592a\u7f51\u89c4\u5b9a\u6700\u77ed\u7684\u5e27\u957f\u4e3a 64Byte\uff0c\u51e1\u662f\u957f\u5ea6\u5c0f\u4e8e 64Byte \u7684\u90fd\u662f\u7531\u4e8e\u51b2\u7a81\u800c\u5f02\u5e38\u7ec8\u6b62\u7684\u65e0\u6548\u5e27\u3002</p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#csmaca","title":"CSMA/CA \u534f\u8bae","text":"<p>CSMA/CA \u5168\u79f0 \u300c\u8f7d\u6ce2\u76d1\u542c\u591a\u70b9\u63a5\u5165/\u78b0\u649e\u907f\u514d\uff08Carrier Sense Multiple Access with Collision Avoidance\uff09\u300d\uff0c\u5e38\u7528\u4e8e\u65e0\u7ebf\u5c40\u57df\u7f51\u3002</p> <p>\u5de5\u4f5c\u539f\u7406\uff1a</p> <p>\u53d1\u9001\u6570\u636e\u524d\uff0c\u5148\u68c0\u6d4b\u4fe1\u9053\u662f\u5426\u7a7a\u95f2\u3002</p> <ul> <li><code>\u7a7a\u95f2</code> -&gt; \u5219\u53d1\u51fa <code>RTS (Request to send)</code>\uff0cRTS \u5305\u62ec\u53d1\u5c04\u7aef\u7684\u5730\u5740\u3001\u63a5\u6536\u7aef\u7684\u5730\u5740\u3001\u4e0b\u4e00\u4efd\u6570\u636e\u6301\u7eed\u53d1\u9001\u65f6\u957f\u7b49\u4fe1\u606f\uff1b</li> <li><code>\u5fd9\u788c</code> -&gt; \u5219\u7b49\u5f85\u3002</li> </ul> <p>\u63a5\u6536\u7aef\u63a5\u6536\u5230 RTS \u540e\uff0c</p> <ul> <li>\u82e5\u63a5\u6536\u7aef\u5904\u4e8e\u7a7a\u95f2\u72b6\u6001 -&gt; \u5219\u54cd\u5e94 <code>CTS (Clear to send)</code>\uff1b</li> <li>\u82e5\u63a5\u6536\u7aef\u5904\u4e8e\u5fd9\u788c\u72b6\u6001\u6216\u5df2\u56de\u590d\u8fc7 CTS\uff0c\u5219\u4e0d\u54cd\u5e94\uff1b</li> </ul> <p>\u53d1\u9001\u7aef\u6536\u5230 CTS \u540e\uff0c\u5f00\u59cb\u53d1\u9001\u6570\u636e\u5e27\uff0c\u540c\u65f6\u9884\u7ea6\u4fe1\u9053\uff1a\u5e7f\u64ad\u544a\u77e5\u5176\u4ed6\u7ad9\u70b9\u81ea\u5df1\u8981\u4f20\u8f93\u591a\u4e45\u6570\u636e\u3002</p> <p>\u63a5\u6536\u7aef\u6536\u5230\u6570\u636e\u5e27\u540e\uff0c\u5c06\u7528 CRC \u6765\u68c0\u9a8c\u6570\u636e\u662f\u5426\u6b63\u786e\uff0c\u6b63\u786e\u5219\u54cd\u5e94 ACK \u5e27\u3002</p> <p>\u53d1\u9001\u65b9\u6536\u5230 ACK \u5c31\u53ef\u4ee5\u8fdb\u884c\u4e0b\u4e00\u4e2a\u6570\u636e\u5e27\u7684\u53d1\u9001\uff0c\u82e5\u6ca1\u6709\u5219\u4e00\u76f4\u91cd\u4f20\u81f3\u89c4\u5b9a\u91cd\u53d1\u6b21\u6570\uff08\u4e00\u822c\u662f 16 \u6b21\uff0c\u91c7\u7528\u622a\u65ad\u4e8c\u8fdb\u5236\u6307\u6570\u9000\u907f\u7b97\u6cd5\u6765\u786e\u5b9a\u968f\u673a\u7684\u63a8\u8fdf\u65f6\u95f4\uff09\u4e3a\u6b62\u3002</p> <p>\u6574\u4f53\u6d41\u7a0b\u5c31\u662f\uff1a</p> <p>\u53d1\u9001\u7aef\u53d1\u51fa RTS\uff0c\u63a5\u6536\u7aef\u54cd\u5e94 CTS\uff0c\u53d1\u9001\u7aef\u53d1\u9001\u6570\u636e\uff08\u540c\u65f6\u5e7f\u64ad\u9884\u7ea6\u4fe1\u9053\uff09\uff0c\u63a5\u6536\u7aef\u9a8c\u8bc1\u6570\u636e\uff0c\u6b63\u786e\u5219\u54cd\u5e94 ACK\uff0c\u53d1\u9001\u7aef\u7b49\u5f85 ACK\uff0c\u7b49\u4e0d\u5230\u5c31\u91cd\u53d1\uff1b\u7b49\u5230\u4e86\u5c31\u53d1\u4e0b\u4e00\u5e27\u3002</p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_26","title":"\u8f6e\u8be2\u534f\u8bae","text":"<p>\u4e3b\u7ed3\u70b9\u8f6e\u6d41\u5411\u4ece\u5c5e\u7ed3\u70b9\u53d1\u9001\u8be2\u95ee\u5e27\uff0c\u5982\u679c\u4ece\u5c5e\u7ed3\u70b9\u8981\u53d1\u9001\u6570\u636e\uff0c\u5c31\u54cd\u5e94\uff0c\u5426\u5219\u4e3b\u7ed3\u70b9\u5c31\u8be2\u95ee\u4e0b\u4e00\u4e2a\u4ece\u5c5e\u7ed3\u70b9\u3002</p> <p>\u8fd9\u79cd\u534f\u8bae\u4e0b\uff0c\u4e24\u53f0\u4e3b\u673a\u53d1\u9001\u6570\u636e\u65f6\u53ef\u4ee5\u5360\u7528\u5168\u90e8\u5e26\u5bbd\uff0c\u4f46\u4e5f\u5e26\u6765 3 \u4e2a\u95ee\u9898\uff1a</p> <ol> <li>\u8f6e\u8be2\u5f00\u9500</li> <li>\u7b49\u5f85\u5ef6\u8fdf</li> <li>\u5355\u70b9\u6545\u969c</li> </ol>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_27","title":"\u4ee4\u724c\u4f20\u9012\u534f\u8bae","text":"<p>\u4ee4\u724c\u73af\u7f51\u5728\u7269\u7406\u4e0a\u7684\u661f\u578b\u7684\uff0c\u5728\u903b\u8f91\u4e0a\u662f\u73af\u5f62\u7684\u3002\u4ee4\u724c\u662f\u4e00\u4e2a\u7279\u6b8a\u683c\u5f0f\u7684 MAC \u63a7\u5236\u5e27\uff0c\u4e0d\u5305\u542b\u4efb\u4f55\u4fe1\u606f\u3002\u8d1f\u8d23\u63a7\u5236\u4fe1\u9053\u7684\u4f7f\u7528\uff0c\u786e\u4fdd\u540c\u4e00\u65f6\u523b\u53ea\u6709\u4e00\u4e2a\u7ed3\u70b9\u72ec\u5360\u4fe1\u9053\uff0c\u6240\u4ee5\u4ee4\u724c\u73af\u7f51\u4e0d\u4f1a\u78b0\u649e\u3002\u6301\u6709\u4ee4\u724c\u7684\u4e3b\u673a\u624d\u80fd\u5f80\u4fe1\u9053\u4e0a\u53d1\u9001\u4fe1\u606f\u3002</p> <p></p> <p>\u5f53\u73af\u7f51\u4e0a\u6ca1\u6709\u4e3b\u673a\u8981\u53d1\u9001\u6570\u636e\u7684\u65f6\u5019\uff0c\u4ee4\u724c\u4f1a\u5728\u73af\u7f51\u4e0a\u4e00\u76f4\u5de1\u56de\u3002\u82e5\u67d0\u4e2a\u4e3b\u673a\u8981\u53d1\u9001\u6570\u636e\u4e86\uff0c\u5c31\u7b49\u5230\u4ee4\u724c\u7ecf\u8fc7\u7684\u65f6\u5019\uff0c\u5c06\u4ee4\u724c\u8c03\u4e3a\u5fd9\u788c\u72b6\u6001\uff0c\u7136\u540e\u9644\u5e26\u5728\u6570\u636e\u4e0a\u4f20\u9012\u4e0b\u53bb\uff0c\u8def\u4e0a\u7684\u4e3b\u673a\u5728\u4ee4\u724c\u7ecf\u8fc7\u7684\u65f6\u5019\u4f1a\u68c0\u67e5\u6570\u636e\u662f\u5426\u662f\u7ed9\u81ea\u5df1\u7684\uff0c\u662f\u5c31\u63a5\u6536\u6570\u636e\uff0c\u4e0d\u662f\u5c31\u4f20\u9012\u4e0b\u53bb\u3002</p> <p>\u6240\u4ee5\u6bcf\u4e2a\u7ed3\u70b9\u90fd\u53ef\u4ee5\u5728\u4e00\u5b9a\u7684\u65f6\u95f4\u5185\uff08\u4ee4\u724c\u6301\u6709\u65f6\u95f4\uff09\u83b7\u5f97\u53d1\u9001\u6570\u636e\u7684\u6743\u5229\uff0c\u5e76\u4e0d\u662f\u65e0\u9650\u5236\u5730\u6301\u6709\u4ee4\u724c\u3002</p> <p>\u7531\u6b64\u5e26\u6765 3 \u4e2a\u95ee\u9898\uff1a</p> <ol> <li>\u4ee4\u724c\u5f00\u9500\uff1a\u4ee4\u724c\u7684\u521b\u5efa\u9700\u8981\u65f6\u95f4</li> <li>\u7b49\u5f85\u5ef6\u8fdf</li> <li>\u5355\u70b9\u6545\u969c</li> </ol> <p>\u91c7\u7528\u4ee4\u724c\u4f20\u9001\u65b9\u5f0f\u7684\u7f51\u7edc\u5e38\u7528\u4e8e**\u8d1f\u8f7d\u8f83\u91cd\u3001\u901a\u4fe1\u91cf\u8f83\u5927**\u7684\u7f51\u7edc\u4e2d\u3002</p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_28","title":"\u5c40\u57df\u7f51","text":"<p>\u5c40\u57df\u7f51\uff08Local Area Network\uff09\uff1a\u7b80\u79f0 LAN\uff0c\u6307\u5728\u67d0\u4e00\u533a\u57df\u5185\u7531\u591a\u53f0\u8ba1\u7b97\u673a\u4e92\u8054\u7ec4\u6210\u7684\u8ba1\u7b97\u673a\u7ec4\uff0c\u4f7f\u7528**\u5e7f\u64ad\u4fe1\u9053**\u3002</p> <p>\u7279\u70b9\uff1a</p> <ol> <li>\u8986\u76d6\u5730\u7406\u8303\u56f4\u8f83\u5c0f\uff0c\u53ea\u5728\u4e00\u4e2a\u76f8\u5bf9\u72ec\u7acb\u7684\u5c40\u90e8\u8303\u56f4\u5185\u8054\uff0c\u5982\u4e00\u5ea7\u6216\u96c6\u4e2d\u7684\u5efa\u7b51\u7fa4\u5185\uff1b</li> <li>\u4f7f\u7528\u4e13\u95e8\u94fa\u8bbe\u7684\u4f20\u8f93\u4ecb\u8d28\uff08\u53cc\u7ede\u7ebf\u3001\u540c\u8f74\u7535\u7f06\u3001\u65e0\u7ebf\u7535\u6ce2\uff09\u8fdb\u884c\u8054\u7f51\uff0c\u6570\u636e\u4f20\u8f93\u7387\u641e\uff0810Mb/s~10Gb/s\uff09\uff1b</li> <li>\u901a\u4fe1\u5ef6\u8fdf\u65f6\u95f4\u77ed\u3001\u8bef\u7801\u7387\u4f4e\uff0c\u53ef\u9760\u6027\u8f83\u9ad8\uff1b</li> <li>\u5404\u7ad9\u4e3a\u5e73\u7b49\u5173\u7cfb\uff0c\u5171\u4eab\u4f20\u8f93\u4fe1\u9053\uff1b</li> <li>\u591a\u91c7\u7528\u5206\u5e03\u5f0f\u63a7\u5236\u548c\u5e7f\u64ad\u5f0f\u901a\u4fe1\uff0c\u80fd\u8fdb\u884c\u5e7f\u64ad\u548c\u7ec4\u64ad\u3002</li> </ol> <p>\u51b3\u5b9a\u5c40\u57df\u7f51\u7684\u4e3b\u8981\u8981\u7d20\uff1a\u7f51\u7edc\u62d3\u6251\u3001\u4f20\u8f93\u4ecb\u8d28\u3001\u4ecb\u8d28\u8bbf\u95ee\u63a7\u5236\u65b9\u6cd5\u3002</p> <ul> <li>\u7f51\u7edc\u62d3\u6251\uff1a\u6709\u661f\u578b\u3001\u73af\u578b\u3001\u6811\u578b\u3001\u603b\u7ebf\u578b\uff1b\u9664\u4e86\u603b\u7ebf\u578b\uff0c\u5176\u4ed6\u4e09\u4e2a\u90fd\u6709\u5355\u70b9\u6545\u969c\u95ee\u9898\uff0c\u6240\u4ee5\u5f88\u5728\u5c40\u57df\u7f51\u4e2d\u5f88\u5e38\u7528\u7684\u662f\u603b\u7ebf\u578b\u3002</li> <li>\u4f20\u8f93\u4ecb\u8d28\uff1a\u6709\u7ebf\u4f7f\u7528\u53cc\u7ede\u7ebf\u3001\u540c\u8f74\u7535\u7f06\u3001\u5149\u7ea4\uff1b\u65e0\u7ebf\u901a\u8fc7\u7535\u78c1\u6ce2\u4f20\u8f93\u3002</li> <li>\u4ecb\u8d28\u8bbf\u95ee\u63a7\u5236\u65b9\u6cd5\uff1aCSMA/CD\u3001\u4ee4\u724c\u603b\u7ebf\u3001\u4ee4\u724c\u73af</li> </ul>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_29","title":"\u5c40\u57df\u7f51\u5206\u7c7b","text":"<ol> <li>\u4ee5\u592a\u7f51<ul> <li>\u5e94\u7528\u6700\u4e3a\u5e7f\u6cdb\u7684\u5c40\u57df\u7f51\uff0c\u5305\u62ec\u6807\u51c6\u4ee5\u592a\u7f51\uff0810Mbps\uff09\u3001\u5feb\u901f\u4ee5\u592a\u7f51\uff08100Mbps\uff09\u3001\u5343\u5146\u4ee5\u592a\u7f51\uff081GMbps\uff09\u300110G\u4ee5\u592a\u7f51\uff0810Gbps\uff09\uff0c\u90fd\u7b26\u5408 IEEE802.3\uff1b</li> <li>\u903b\u8f91\u62d3\u6251\u662f\u603b\u7ebf\u578b\uff0c\u7269\u7406\u62d3\u6251\u662f\u661f\u578b\u6216\u6269\u5c55\u661f\u578b\uff1b</li> <li>\u4f7f\u7528 CSMA/CD</li> </ul> </li> <li>\u4ee4\u724c\u73af\u7f51\uff1a\u7269\u7406\u62d3\u6251\u4e3a\u661f\u578b\uff0c\u903b\u8f91\u62d3\u6251\u4e3a\u73af\u578b\uff0c\u73b0\u5728\u57fa\u672c\u4e0d\u7528\u4e86\u3002</li> <li>FDDI\u7f51\uff08Fiber Distributed Data Interface\uff09\uff1a\u5149\u7ea4\u5206\u5e03\u5f0f\u6570\u636e\u63a5\u53e3\uff0c\u7269\u7406\u62d3\u6251\u4e3a\u53cc\u73af\u578b\uff0c\u903b\u8f91\u62d3\u6251\u4e3a\u73af\u578b\u3002\u7531\u4e8e\u5149\u7ea4\u9020\u4ef7\u9ad8\uff0c\u6240\u4ee5\u4e0d\u592a\u666e\u53ca\u3002</li> <li>ATM\u7f51\uff08Asynchronous Transfer Mode\uff09\uff1a\u8f83\u65b0\u578b\u7684\u5355\u5143\u4ea4\u6362\u6280\u672f\uff0c\u4f7f\u7528 53 \u5b57\u8282\u56fa\u5b9a\u957f\u5ea6\u7684\u5355\u5143\u8fdb\u884c\u4ea4\u6362\u3002</li> <li>\u65e0\u7ebf\u5c40\u57df\u7f51\uff08Wireless Local Area Network; WLAN\uff09\uff1a\u91c7\u7528 IEEE 802.11 \u6807\u51c6\u3002</li> </ol>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#ieee-802","title":"IEEE 802","text":"<p>\u4e3b\u8981\u8bb0\u5fc6\uff1a</p> <ul> <li>IEEE 802.3\uff1a**\u4ee5\u592a\u7f51**\u7684\u4ecb\u8d28\u8bbf\u95ee\u63a7\u5236\u534f\u8bae\uff08CSMA/CD\uff09\u53ca\u7269\u7406\u5c42\u6280\u672f\u89c4\u8303\u3002</li> <li>IEEE 802.5\uff1a**\u4ee4\u724c\u73af\u7f51**\u7684\u4ecb\u8d28\u8bbf\u95ee\u63a7\u5236\u534f\u8bae\u53ca\u7269\u7406\u5c42\u6280\u672f\u89c4\u8303\u3002</li> <li>IEEE 802.8\uff1a**\u5149\u7ea4**\u6280\u672f\u54a8\u8be2\u7ec4\uff0c\u63d0\u4f9b\u6709\u5173\u5149\u7ea4\u8054\u7f51\u7684\u6280\u672f\u54a8\u8be2\u3002</li> <li>IEEE 802.11\uff1a**\u65e0\u7ebf\u5c40\u57df\u7f51**\u7684\u4ecb\u8d28\u8bbf\u95ee\u63a7\u5236\u534f\u8bae\u53ca\u7269\u7406\u5c42\u6280\u672f\u89c4\u8303\u3002</li> </ul>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#mac-llc","title":"MAC \u5b50\u5c42\u548c LLC \u5b50\u5c42","text":"<p>LLC \u8d1f\u8d23\u8bc6\u522b\u7f51\u7edc\u5c42\u534f\u8bae\uff0c\u7136\u540e\u5bf9\u4ed6\u4eec\u8fdb\u884c\u5c01\u88c5\u3002</p> <p>LLC \u62a5\u5934\u544a\u8bc9\u6570\u636e\u94fe\u8def\u5c42\u4e00\u65e6\u5e27\u88ab\u63a5\u6536\u5230\u65f6\uff0c\u5e94\u5f53\u5bf9\u6570\u636e\u5305\u505a\u4f55\u5904\u7406\u3002\u4e3a\u7f51\u7edc\u5c42\u63d0\u4f9b\u670d\u52a1\uff1a\u65e0\u786e\u8ba4\u65e0\u8fde\u63a5\u3001\u6709\u786e\u8ba4\u65e0\u8fde\u63a5\u3001\u9762\u5411\u8fde\u63a5\uff0c\u9ad8\u901f\u4f20\u9001\u3002</p> <p>MAC \u5b50\u5c42\u7684\u4e3b\u8981\u529f\u80fd\u5305\u62ec\u6570\u636e\u5e27\u7684\u5c01\u88c5/\u5378\u88c5\uff0c\u5e27\u7684\u5bfb\u5740\u548c\u8bc6\u522b\uff0c\u5e27\u7684\u63a5\u6536\u4e0e\u53d1\u9001\uff0c\u94fe\u8def\u7684\u7ba1\u7406\uff0c\u5e27\u7684\u5dee\u9519\u63a7\u5236\u7b49\u3002</p> <p>MAC \u5b50\u5c42\u7684\u5b58\u5728\u5c4f\u853d\u4e86\u4e0d\u540c\u7269\u7406\u94fe\u8def\u79cd\u7c7b\u7684\u5dee\u5f02\u6027\u3002</p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/#_30","title":"\u4ee5\u592a\u7f51","text":"<p>\u4ee5\u592a\u7f51\uff08Ethernet\uff09\uff1a\u6307\u7684\u662f\u7531 Xerox \u516c\u53f8\u521b\u5efa\u5e76\u7531 Xerox\u3001Intel\u3001Dec \u516c\u53f8\u8054\u5408\u5f00\u53d1\u7684**\u57fa\u5e26\u603b\u7ebf\u5c40\u57df\u7f51\u89c4\u8303**\uff0c\u662f\u5f53\u4eca\u73b0\u6709\u5c40\u57df\u7f51\u91c7\u7528\u7684\u6700\u901a\u7528\u7684\u901a\u4fe1\u534f\u8bae\u6807\u51c6\u3002\u4ee5\u592a\u7f51\u4f7f\u7528 \u8f7d\u6ce2\u76d1\u542c\u591a\u8def\u8bbf\u95ee/\u51b2\u7a81\u68c0\u6d4b\u6280\u672f\uff08CSMA/CD\uff09\u3002</p>"},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-3-%E7%BD%91%E7%BB%9C%E5%B1%82/","title":"\u7f51\u7edc\u5c42","text":""},{"location":"408/NET/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-3-%E7%BD%91%E7%BB%9C%E5%B1%82/#_1","title":"\u7f51\u7edc\u5c42","text":"<p>.0 \u662f\u7f51\u7edc\u5730\u5740\uff0c.255 \u662f\u5e7f\u64ad\u5730\u5740\u3002\u4f8b\u5982\uff1a 220.34.56.1 \u7684\u7f51\u7edc\u5730\u5740\u5c31\u662f 220.34.56.0\uff0c\u5e7f\u64ad\u5730\u5740\u5c31\u662f 220.34.56.255</p> <p>IP \u5206\u7c7b</p> <ul> <li>A \u7c7b\uff1a1 ~ 126</li> <li>\u672c\u5730\u73af\u56de\u5730\u5740\uff1a127</li> <li>B \u7c7b\uff1a128 ~ 191</li> <li>C \u7c7b\uff1a192 ~ 223</li> <li>D \u7c7b\uff1a224 ~ 239</li> <li>E \u7c7b\uff1a240 ~ 255</li> </ul> <p>\u7279\u6b8a IP \u5730\u5740\uff0c\u4e0d\u80fd\u6307\u6d3e\u7ed9\u7f51\u7edc\u4e2d\u4efb\u4f55\u4e00\u53f0\u4e3b\u673a\u6216\u8def\u7531\u5668\u201c\u79c1\u7528\u201d</p> Net ID \u7f51\u7edc\u53f7 Host ID \u4e3b\u673a\u53f7 \u5341\u8fdb\u5236 \u4f5c\u4e3a IP \u5206\u7ec4\u6e90\u5730\u5740 \u4f5c\u4e3a IP \u5206\u7ec4\u76ee\u7684\u5730\u5740 \u7528\u9014 0000 0000 0000 0000 0.0.0.0 \u2714\u53ef\u4ee5 \u274c\u4e0d\u53ef\u4ee5 \u672c\u7f51\u4e2d\u8868\u793a\u4e3b\u673a\uff0c\u8def\u7531\u5668\u4e2d\u8868\u793a\u9ed8\u8ba4\u8def\u7531 0000 0000 \u7279\u5b9a\u503c 0.x \u2714\u53ef\u4ee5 \u274c\u4e0d\u53ef\u4ee5 \u672c\u7f51\u5185\u67d0\u4e2a\u7279\u5b9a\u4e3b\u673a 1111 1111 1111 1111 255.255.255.255 \u274c\u4e0d\u53ef\u4ee5 \u2714\u53ef\u4ee5 \u672c\u7f51\u5e7f\u64ad\u5730\u5740\uff0c\u8def\u7531\u5668\u4e0d\u8f6c\u53d1 \u7279\u5b9a\u503c 0000 0000 x.0 \u274c\u4e0d\u53ef\u4ee5 \u274c\u4e0d\u53ef\u4ee5 \u7f51\u7edc\u5730\u5740\uff0c\u4f8b\u5982220.34.56.0 \u7279\u5b9a\u503c 1111 1111 x.1 \u274c\u4e0d\u53ef\u4ee5 \u2714\u53ef\u4ee5 \u76f4\u63a5\u5e7f\u64ad\u5730\u5740\uff0c\u5bf9\u7279\u5b9a\u7f51\u7edc\u4e0a\u6240\u6709\u4e3b\u673a\u5e7f\u64ad 127 \u4efb\u4f55\u6570\uff08\u975e\u51680/1\uff09 127.x \u2714\u53ef\u4ee5 \u2714\u53ef\u4ee5 \u672c\u5730\u73af\u56de\u5730\u5740\uff0c\u7528\u4e8e\u6d4b\u8bd5 <p>\u79c1\u6709 IP \u5730\u5740</p> \u5730\u5740\u7c7b\u522b \u5730\u5740\u8303\u56f4 \u4e8c\u8fdb\u5236 CIDR \u7f51\u6bb5\u4e2a\u6570 A \u7c7b 10.0.0.0 ~ 10.255.255.255 0000 1010.x.x.x 10.0.0.0/8 1 B \u7c7b 172.16.0.0 ~ 172.31.255.255 1010 1100.0001 0000.x 172.16.0.0/12 16 C \u7c7b 192.168.0.0 ~ 192.168.255.255 1100 0000.1010 1000.x 192.168.0.0/16 256 <p>\u4e3b\u673a\u53d1\u9001 IP \u6570\u636e\u5305\u7684\u8fc7\u7a0b\uff1a</p> <ol> <li>\u901a\u8fc7\uff08\u76ee\u7684 IP &amp; \u5b50\u7f51\u63a9\u7801\uff09 == \uff08\u672c\u673a IP &amp; \u5b50\u7f51\u63a9\u7801\uff09\uff0c\u5224\u65ad\u76ee\u7684 IP \u4e0e\u672c\u673a IP \u662f\u5426\u4e3a\u540c\u4e00\u5b50\u7f51\uff1a<ul> <li>\u662f\u8bf4\u660e\u5904\u4e8e\u540c\u4e00\u5b50\u7f51</li> <li>\u5426\u8bf4\u660e\u4e0d\u5904\u4e8e\u540c\u4e00\u5b50\u7f51</li> </ul> </li> <li>\u672c\u673a\u5c06 IP \u6570\u636e\u62a5\u5c01\u88c5\u6210 MAC \u5e27\u5e76\u53d1\u9001\u5230\u6570\u636e\u94fe\u8def\u4e0a\uff1a<ul> <li>\u5982\u679c\u5c5e\u4e8e\u540c\u4e00\u5b50\u7f51\uff0c\u5c31\u901a\u8fc7 ARP \u534f\u8bae\u627e\u5230\u76ee\u7684\u4e3b\u673a\u7684 MAC \u5730\u5740\uff0c\u518d\u5c01\u88c5\u6210\u6570\u636e\u5e27\u53d1\u9001\u7ed9\u76ee\u7684\u4e3b\u673a</li> <li>\u5982\u679c\u4e0d\u5c5e\u4e8e\u540c\u4e00\u5b50\u7f51\uff0c\u5c31\u901a\u8fc7 ARP \u534f\u8bae\u627e\u5230\u9ed8\u8ba4\u7f51\u5173\u7684 MAC \u5730\u5740\uff0c\u518d\u5c01\u88c5\u6210\u6570\u636e\u5e27\u53d1\u9001\u7ed9\u9ed8\u8ba4\u7f51\u5173</li> </ul> </li> </ol> <p>\u8def\u7531\u5668\u8f6c\u53d1 IP \u6570\u636e\u5305\u8fc7\u7a0b\uff1a</p> <ol> <li>\u8def\u7531\u5668\u7684\u67d0\u4e2a\u63a5\u53e3\u63a5\u6536\u5230\u4e00\u4e2a IP \u6570\u636e\u5305\uff0c\u5148\u4ece\u6570\u636e\u5305\u4e2d\u627e\u5230\u9996\u90e8\u6821\u9a8c\u548c\u8fdb\u884c\u9996\u90e8\u6821\u9a8c\uff0c\u5e76\u627e\u5230\u76ee\u7684 IP \u5730\u5740</li> <li>\u67e5\u8f6c\u53d1\u8868\uff0c\u8f6c\u53d1\u8868\u9879\u5305\u542b &lt;\u76ee\u7684\u7f51\u7edc\u53f7\uff0c\u5b50\u7f51\u63a9\u7801\uff0c\u8f6c\u53d1\u63a5\u53e3\u53f7&gt;\uff0c\u81f3\u5c11\u6709\u4e00\u6761\u9ed8\u8ba4\u8def\u7531 &lt;0.0.0.0\uff0c255.0.0.0\uff0cx&gt;<ol> <li>\u901a\u8fc7\uff08\u76ee\u7684 IP \u5730\u5740 &amp; \u5b50\u7f51\u63a9\u7801\uff09== \u76ee\u7684\u7f51\u8def\u53f7\u5f97\u5230\u8f6c\u53d1\u63a5\u53e3\u53f7</li> <li>\u5c06\u6570\u636e\u62a5\u4ece\u5339\u914d\u7684\u8f6c\u53d1\u63a5\u53e3\u8f6c\u53d1\u51fa\u53bb\uff08\u5982\u679c\u8f6c\u53d1\u63a5\u53e3\u4e0e\u8be5 IP \u6570\u636e\u62a5\u7684\u5165\u53e3\u76f8\u540c\u4e0d\u8f6c\u53d1\u56de\u53bb\uff09</li> </ol> </li> </ol>"},{"location":"ClickHouse/0-Hello/","title":"Hello ClickHouse","text":""},{"location":"ClickHouse/0-Hello/#hello-clickhouse","title":"Hello ClickHouse","text":"<p><code>ClickHose</code> (\u7b80\u79f0 ch\u3001ck) \u662f\u4e00\u4e2a\u9762\u5411 \u5217 \u7684\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\uff0c\u7528\u4e8e\u67e5\u8be2\u7684\u5728\u7ebf\u5206\u6790\u5904\u7406\uff08OLAP\uff09\u3002</p> <p>ch \u9002\u5408\u5927\u8868(\u884c\u975e\u5e38\u591a)\u3001\u5bbd\u8868(\u5217\u975e\u5e38\u591a) \u7684\u573a\u666f\u3002\u4e00\u4e9b\u8ba1\u7b97\u91cf\u4e3a\u4e3b\u7684\u4e1a\u52a1\u3001\u6570\u636e\u5206\u6790\u7684\u4e1a\u52a1\u7b49\uff0c\u5c31\u975e\u5e38\u9002\u5408\u4f7f\u7528 CK\u3002</p> <p>\u4f8b\u5982\uff1a\u6211\u60f3\u53d6\u51fa title</p> Row WatchID JavaEnable Title GoodEvent EventTime #0 89354350662 1 Investor Relations 1 2016-05-18 05:19:20 #1 90329509958 0 Contact us 1 2016-05-18 08:10:20 #2 89953706054 1 Mission 1 2016-05-18 07:38:00 <p>\u5bf9\u4e8e\u8868\u4e00\u6765\u8bf4\uff0c\u6211\u9700\u8981\u5c06\u4e09\u884c\u6570\u636e\u5168\u90e8\u68c0\u7d22\u51fa\u6765\uff0c\u518d\u53bb\u53d6\u5b83\u4eec\u7684Title\u503c\u3002</p> Row #0 #1 #2 WatchID 89354350662 90329509958 89953706054 JavaEnable 1 0 1 Title Investor Relations Contact us Mission GoodEvent: 1 1 1 EventTime 2016-05-18 05:19:20 2016-05-18 08:10:20 2016-05-18 07:38:00 <p>\u5bf9\u4e8e\u8868\u4e8c\u6765\u8bf4\uff0c\u6211\u53ea\u9700\u8981\u5c06\u7b2c\u4e09\u884cTitle\u6240\u5728\u7684\u90a3\u4e00\u884c\u6570\u636e\u5168\u90e8\u8bfb\u53d6\u51fa\u6765\uff0c\u5c31\u662f\u6211\u60f3\u8981\u7684\u76ee\u6807\u503c\u3002</p>"},{"location":"ClickHouse/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/","title":"\u6570\u636e\u7c7b\u578b","text":""},{"location":"ClickHouse/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_1","title":"\u6570\u636e\u7c7b\u578b","text":""},{"location":"ClickHouse/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_2","title":"\u6570\u503c\u7c7b\u578b","text":"<p>ch \u4e2d\u6570\u503c\u7c7b\u578b\u53ea\u6709\u56fa\u5b9a\u957f\u5ea6\uff0c\u800c\u4e14\u4e5f\u975e\u5e38\u597d\u8bb0\u3002\u4ed6\u4eec\u7684\u957f\u5ea6\u5206\u522b\u4e3a 8 \u4f4d\u300116 \u4f4d\u300132 \u4f4d\u300164 \u4f4d\u7b49\u3002</p>"},{"location":"ClickHouse/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_3","title":"\u6574\u6570","text":"Type Byte Alias Ranges Int8 1 TinyInt, Bool, Int1 [-2<sup>8-1</sup> : 2<sup>8-1</sup>-1] Int16 2 SmallInt, Int2 [-2<sup>16-1</sup> : 2<sup>16-1</sup>-1] Int32 4 Int, Int4, Integer [-2<sup>32-1</sup> : 2<sup>32-1</sup>-1] Int64 8 BigInt [-2<sup>63-1</sup> : 2<sup>63-1</sup>-1] Int128 16 [-2<sup>127-1</sup> : 2<sup>127-1</sup>-1] Int256 32 [-2<sup>255-1</sup> : 2<sup>255-1</sup>-1] Type Byte Ranges UInt8 1 [0 ~2<sup>8-1</sup>] UInt16 2 [0 ~ 2<sup>16-1</sup>] UInt32 4 [0 ~ 2<sup>32-1</sup>] UInt64 8 [0 ~ 2<sup>64-1</sup>] UInt128 16 [0 ~ 2<sup>128-1</sup>] UInt256 32 [0 ~ 2<sup>256-1</sup>]"},{"location":"ClickHouse/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_4","title":"\u6d6e\u70b9\u7c7b\u578b","text":"<p>\u6d6e\u70b9\u6570\u652f\u6301 32 \u4f4d\u548c 64 \u4f4d\u3002\u4f46\u662f\u6d6e\u70b9\u6570\u6709\u7cbe\u5ea6\u4e22\u5931\u95ee\u9898\uff0c\u8fd9\u662f\u8ba1\u7b97\u673a\u7684\u901a\u75c5\uff0c\u6240\u4ee5\u4e00\u4e9b\u975e\u5e38\u91cd\u8981\u7684\u6570\u636e\u5982\u201c\u91d1\u989d\u201d\u7b49\uff0c\u4e0d\u80fd\u7528\u6d6e\u70b9\u6570\u6765\u5b58\u50a8\u3002\u5e94\u8be5\u91c7\u7528 Decimal\u3002</p> Type Alias Float32 Float Float64 Double <p>\u5bf9\u4e8e\u6d6e\u70b9\u6570\uff0cch \u652f\u6301\u4e24\u4e2a\u7279\u6b8a\u503c <code>Inf</code> \u548c <code>NaN</code>\u3002 </p><pre><code>&gt; SELECT 0.5 / 0\n\n\u250c\u2500divide(0.5, 0)\u2500\u2510\n\u2502            inf \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n&gt; SELECT -0.5 / 0\n\n\u250c\u2500divide(-0.5, 0)\u2500\u2510\n\u2502            -inf \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre><p></p> <pre><code>&gt; SELECT 0 / 0\n\n\u250c\u2500divide(0, 0)\u2500\u2510\n\u2502          nan \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"ClickHouse/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_5","title":"\u5b9a\u70b9\u7c7b\u578b","text":"<p>Decimal \u662f\u6709\u7b26\u53f7\u7684\u5b9a\u70b9\u6570\uff0c\u53ef\u4ee5\u5728\u52a0\u51cf\u4e58\u7b97\u6cd5\u8fc7\u7a0b\u4e2d\u4fdd\u6301\u7cbe\u5ea6\u3002\u652f\u6301\u4ee5\u4e0b\u5199\u6cd5\uff1a</p> <ul> <li>Decimal(P,S)</li> <li>Decimal32(S)</li> <li>Decimal64(S)</li> <li>Decimal128(S)</li> <li>Decimal256(S)</li> </ul> <p>P \u4ee3\u8868\u603b\u4f4d\u6570\uff0cS \u4ee3\u8868\u5c0f\u6570\u4f4d\u6570\u3002</p> <p>\u4f8b\u5982 <code>Decimal(9,5)</code> \u8868\u793a\u603b\u957f\u5ea6 9 \u5b57\u8282\uff0c\u5176\u4e2d\u5c0f\u6570\u70b9 5 \u5b57\u8282\u3002</p> <p>\u4e5f\u5c31\u662f \u6574\u6570\u90e8\u5206 4 \u4f4d\uff0c\u53ef\u4ee5\u5b58 [-9999 : 9999]\uff0c\u5c0f\u6570\u90e8\u5206 5 \u4f4d\uff0c\u53ef\u4ee5\u5b58 [0.99999 : 0.00001]\u3002</p> P \u53d6\u503c \u539f\u751f\u5199\u6cd5\u793a\u4f8b \u7b49\u540c\u4e8e [ 1 : 9 ] Decimal(9,2) Decimal32(2) [ 10 : 18 ] Decimal(18,2) Decimal64(2) [ 19 : 38 ] Decimal(38,2) Decimal128(2) [ 39 : 76 ] Decimal(76,2) Decimal256(2) <p>Tip</p> <p>\u4e24\u4e2a\u4e0d\u540c\u5927\u5c0f\u7684\u5b9a\u70b9\u7c7b\u578b\u5728\u8fd0\u7b97\u65f6\uff0c\u7ed3\u679c\u4f1a\u4ee5\u5927\u7684\u90a3\u4e2a\u7684\u7cbe\u5ea6\u4e3a\u51c6\u3002</p>"},{"location":"ClickHouse/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_6","title":"\u5e03\u5c14\u7c7b\u578b","text":"<p>\u5e03\u5c14\u7c7b\u578b\u7684\u5173\u952e\u5b57\u662f Bool\uff0c\u53ea\u5141\u8bb8 true \u548c false\u3002</p> <pre><code>CREATE TABLE test_bool\n(\n    `A` Int64,\n    `B` Bool\n)ENGINE = Memory;\n\nINSERT INTO test_bool VALUES (1, true),(2,0);\n\nSELECT * FROM test_bool;\n\u250c\u2500A\u2500\u252c\u2500B\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 1 \u2502 true  \u2502\n\u2502 2 \u2502 false \u2502\n\u2514\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>ch \u6ca1\u6709\u5e03\u5c14\u7c7b\u578b\uff0c\u5e95\u5c42\u4f7f\u7528\u7684\u662f Uint8 \u66ff\u4ee3\uff0c\u5e76\u9650\u5236\u53ea\u80fd\u5b58\u50a8 true(1) \u6216 false(0)</p> <pre><code>select true as col, toTypeName(col);\n\u250c\u2500col\u2500\u2500\u252c\u2500toTypeName(true)\u2500\u2510\n\u2502 true \u2502 Bool             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nselect true == 1 as col, toTypeName(col);\n\u250c\u2500col\u2500\u252c\u2500toTypeName(equals(true, 1))\u2500\u2510\n\u2502   1 \u2502 UInt8                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"ClickHouse/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_7","title":"\u5b57\u7b26\u4e32\u7c7b\u578b","text":"<p>\u5b57\u7b26\u4e32\u7c7b\u578b\u5305\u62ec \u5b9a\u957f\u5b57\u7b26\u4e32 FixedString(N) \u548c \u53d8\u957f\u5b57\u7b26\u4e32 String\u3002</p> <ul> <li> <p>String \u53ef\u4ee5\u5b58\u4efb\u610f\u6570\u91cf\u7684\u5b57\u7b26\u3002</p> </li> <li> <p>FixedString(N) \u8981\u6c42\u7ed9\u5b9a\u5b57\u7b26\u6570\u91cf\uff0c\u5728\u5b58\u50a8\u65f6\u5982\u679c\u5b57\u7b26\u6570\u91cf\u4e0d\u8db3\uff0cch \u4f1a\u586b\u5145\u7a7a\u5b57\u8282\uff1b\u5982\u679c\u5b57\u7b26\u6570\u91cf\u8d85\u8fc7\u5219\u4f1a\u62a5\u9519\u3002</p> </li> </ul> <p>Tip</p> <p>ch \u6ca1\u6709\u7f16\u7801\u7684\u6982\u5ff5\uff0c\u4f60\u7ed9\u7684\u5185\u5bb9\u4ec0\u4e48\u7f16\u7801\u5979\u5b58\u50a8\u548c\u8f93\u51fa\u7684\u5c31\u4ec0\u4e48\u7f16\u7801\u3002\u4e0d\u8fc7\u5efa\u8bae\u5728\u5b58\u50a8\u957f\u6587\u672c\u7684\u65f6\u5019\u4f7f\u7528 UTF-8.</p> <p>length() \u51fd\u6570\u8fd4\u56de\u7684\u662f\u6587\u672c\u7684\u5b57\u8282\u6570\uff0clengthUFT8() \u51fd\u6570\u8fd4\u56de\u7684\u662f\u6587\u672c\u7684\u5b57\u6570\uff0c\u6309\u7167 UTF-8 \u7f16\u7801\u540e\u8ba1\u7b97\u3002</p>"},{"location":"ClickHouse/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_8","title":"\u65f6\u95f4\u7c7b\u578b","text":"<p>ch \u7684\u65f6\u95f4\u7c7b\u578b\u5f88\u7b80\u6d01\uff0c\u53ef\u4ee5\u5b58\u65f6\u95f4\u6233\u4e5f\u53ef\u4ee5\u5b58\u5b57\u7b26\u4e32</p> <ul> <li>Date</li> <li>Date32</li> <li>Datetime</li> <li>Datetime64</li> </ul>"},{"location":"ClickHouse/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#date","title":"Date","text":"<p>Date \u7c7b\u578b\uff0c\u5360 2 \u5b57\u8282\uff0c\u652f\u6301\u8303\u56f4 [1970-01-01 : 2149-06-06] </p><pre><code>CREATE TABLE dt\n(\n    `timestamp` Date,\n    `event_id` UInt8\n)\nENGINE = TinyLog;\n\n--\nINSERT INTO dt VALUES (1546300800, 1), ('2019-01-01', 2);\nSELECT * FROM dt;\n\n\u250c\u2500\u2500timestamp\u2500\u252c\u2500event_id\u2500\u2510\n\u2502 2019-01-01 \u2502        1 \u2502\n\u2502 2019-01-01 \u2502        2 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre><p></p>"},{"location":"ClickHouse/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#date32","title":"Date32","text":"<p>Date32 \u7c7b\u578b\uff0c\u5360 4 \u5b57\u8282\uff0c\u652f\u6301\u8303\u56f4 [1900-01-01 : 2299-12-31] </p><pre><code>CREATE TABLE new\n(\n    `timestamp` Date32,\n    `event_id` UInt8\n)\nENGINE = TinyLog;\n\n--\nINSERT INTO new VALUES (4102444800, 1), ('2100-01-01', 2);\nSELECT * FROM new;\n\n\u250c\u2500\u2500timestamp\u2500\u252c\u2500event_id\u2500\u2510\n\u2502 2100-01-01 \u2502        1 \u2502\n\u2502 2100-01-01 \u2502        2 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre><p></p>"},{"location":"ClickHouse/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#datetime","title":"Datetime","text":"<p>Datetime \u7c7b\u578b\u4e0d\u4ec5\u5b58\u50a8\u65e5\u671f\uff0c\u8fd8\u5b58\u50a8\u4e86\u65f6\u95f4\u4fe1\u606f\u3002\u5728\u5e95\u5c42\u5176\u5b9e\u90fd\u662f\u4ee5 UNIX \u65f6\u95f4\u6233\u5b58\u50a8\u3002</p> <p>\u65f6\u533a\u4fe1\u606f\u4f1a\u5f71\u54cd Datetime \u5b57\u6bb5\u7684\u663e\u793a\u548c\u89e3\u6790\u3002\u65f6\u533a\u4fe1\u606f\u4e0d\u662f\u5b58\u50a8\u5728\u884c\u4e0a\u7684\uff0c\u800c\u662f\u5b58\u50a8\u5728\u5217\u4e0a\u7684 metadata \u4e2d\u3002</p> <p>\u5728\u5efa\u8868\u7684\u65f6\u5019\u5982\u679c\u6ca1\u6709\u663e\u5f0f\u7684\u6307\u5b9a\u65f6\u533a\uff0cch \u4f1a\u9009\u62e9\u670d\u52a1\u5668\u7684\u65f6\u533a\u4fe1\u606f\u3002\u5f53\u7136\u4e5f\u53ef\u4ee5\u5728\u5efa\u8868\u7684\u65f6\u5019\u6307\u5b9a\u3002 </p><pre><code>CREATE TABLE new\n(\n    `timestamp` Datetime('UTC') -- \u6309\u7167\u6807\u51c6 UTC \u65f6\u533a\n) ENGINE = TinyLog;\n\nCREATE TABLE new2\n(\n    `timestamp` Datetime -- \u6309\u7167\u670d\u52a1\u5668\u4e0a\u7684\u65f6\u533a\uff0c\u5982 Datetime('Asia/Shanghai')\n) ENGINE = TinyLog;\n</code></pre><p></p> <p>\u66f4\u591a\u4f8b\u5b50</p>"},{"location":"ClickHouse/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#datetime64","title":"Datetime64","text":"<p>Datetime64 \u8ddf Datetime \u76f8\u6bd4\u53ef\u4ee5\u66f4\u7cbe\u786e\u5230\u4e9a\u79d2\u3002\u5728\u4f7f\u7528 Datetime64 \u7684\u65f6\u5019\u8981\u6307\u5b9a\u7cbe\u5ea6\u3002\u5982\uff1a<code>Datetime64(3)</code>\u3002</p> <pre><code>CREATE TABLE dt\n(\n    `timestamp` DateTime64(3, 'Asia/Istanbul'),\n    `event_id` UInt8\n)\nENGINE = TinyLog;\n--\nINSERT INTO dt Values (1546300800123, 1), (1546300800.123, 2), ('2019-01-01 00:00:00', 3);\n--\nSELECT * FROM dt;\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500timestamp\u2500\u252c\u2500event_id\u2500\u2510\n\u2502 2019-01-01 03:00:00.123 \u2502        1 \u2502\n\u2502 2019-01-01 03:00:00.123 \u2502        2 \u2502\n\u2502 2019-01-01 00:00:00.000 \u2502        3 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"ClickHouse/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_9","title":"\u679a\u4e3e\u7c7b\u578b","text":"<p>\u679a\u4e3e\u7c7b\u578b Enum \u5305\u62ec Enum8 \u548c Enum16 \u4e24\u79cd\u7c7b\u578b\uff0c\u4fdd\u5b58\u4e86 <code>'string' = integer</code> \u7684\u5bf9\u5e94\u5173\u7cfb\u3002</p> <p>Enum8 \u7528 <code>'string' = Int8</code> \u63cf\u8ff0 Enum16 \u7528 <code>'string' = Int16</code> \u63cf\u8ff0</p> <p>\u521b\u5efa\u7684\u65f6\u5019\u6709\u597d\u51e0\u79cd\u65b9\u5f0f\uff1a</p> \u57fa\u672c\u7528\u6cd5\u4f7f\u7528\u9ed8\u8ba4\u6307\u5b9a\u8d77\u59cb\u503c <pre><code>CREATE TABLE t_enum\n(\n    x Enum('hello' = 1, 'world' = 2)\n)ENGINE = TinyLog;\n</code></pre> <pre><code>CREATE TABLE t_enum\n(\n    x Enum('hello', 'world')\n)ENGINE = TinyLog;\n</code></pre> <p>\u8fd9\u79cd\u65b9\u5f0f\u9ed8\u8ba4\u4ece 1 \u5f00\u59cb\u3002</p> <pre><code>CREATE TABLE t_enum\n(\n    x Enum('hello' = 8, 'world')\n)ENGINE = TinyLog;\n</code></pre> <p>\u6307\u5b9a\u8d77\u59cb\u503c\u4e3a 8\uff0c\u8fd9\u6837 hello \u503c\u4e3a 8\uff0cworld \u503c\u4e3a 9\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002</p> <p>\u5f53\u63d2\u5165\u679a\u4e3e\u8303\u56f4\u4ee5\u5916\u7684\u503c\u4f1a\u62a5\u9519\u3002</p> <p>\u67e5\u8be2\u7684\u65f6\u5019\u9ed8\u8ba4\u8fd4\u56de Enum \u7684 string\uff0c\u8981\u60f3\u8fd4\u56de Integer \u53ef\u4ee5\u4f7f\u7528 CAST \u51fd\u6570\u3002 </p><pre><code>SELECT CAST(x, 'Int8') FROM t_enum;\n\n\u250c\u2500CAST(x, 'Int8')\u2500\u2510\n\u2502               1 \u2502\n\u2502               2 \u2502\n\u2502               1 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre><p></p>"},{"location":"ClickHouse/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_10","title":"\u590d\u5408\u7c7b\u578b","text":""},{"location":"ClickHouse/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_11","title":"\u6570\u7ec4\u7c7b\u578b","text":"<p><code>Array(T)</code></p> <p>\u7531 T \u7c7b\u578b\u5143\u7d20\u7ec4\u6210\u7684\u6570\u7ec4\u3002T \u53ef\u4ee5\u662f\u4efb\u610f\u7c7b\u578b\uff0c\u5305\u542b\u6570\u7ec4\u7c7b\u578b\uff0c\u4f46\u4e0d\u63a8\u8350\u591a\u7ef4\u6570\u7ec4\uff0c\u56e0\u4e3a ch \u5bf9\u591a\u7ef4\u6570\u7ec4\u7684\u652f\u6301\u6709\u9650\u3002\u4f8b\u5982\u4e0d\u80fd\u518d MergeTree \u8868\u4e2d\u5b58\u50a8\u591a\u7ef4\u6570\u7ec4\u3002</p> <pre><code>SELECT array(1, 2) AS x, toTypeName(x);\n-- \u7ed3\u679c\u8f93\u51fa\n\u250c\u2500x\u2500\u2500\u2500\u2500\u2500\u252c\u2500toTypeName(array(1, 2))\u2500\u2510\n\u2502 [1,2] \u2502 Array(UInt8)            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <pre><code>SELECT [1, 2] AS x, toTypeName(x);\n-- \u7ed3\u679c\u8f93\u51fa\n\u250c\u2500x\u2500\u2500\u2500\u2500\u2500\u252c\u2500toTypeName([1, 2])\u2500\u2510\n\u2502 [1,2] \u2502 Array(UInt8)       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Warning</p> <p>\u6570\u7ec4\u5143\u7d20\u4e2d\u5982\u679c\u5b58\u5728 Null \u503c\uff0c\u5143\u7d20\u7c7b\u578b\u5c06\u53d8\u4e3a Nullable\u3002</p> <pre><code>SELECT [1, 2, NULL] AS x , toTypeName(x);\n\n-- \u7ed3\u679c\u8f93\u51fa\n\u250c\u2500x\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500toTypeName([1, 2, NULL])\u2500\u2510\n\u2502 [1,2,NULL] \u2502 Array(Nullable(UInt8))   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Warning</p> <p>\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u7684\u7c7b\u578b\u90fd\u5fc5\u987b\u76f8\u540c\uff0c\u5426\u5219\u4f1a\u62a5\u5f02\u5e38</p> <pre><code>SELECT [1, 'z'] AS x, toTypeName(x);\n\nDB::Exception: There is no supertype for types UInt8, String because some of them are String/FixedString and some of them are not\n</code></pre>"},{"location":"ClickHouse/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#tuple","title":"Tuple \u7c7b\u578b","text":"<p><code>Tuple(T1, T2, ...)</code></p> <p>\u5143\u7ec4\uff0c\u4e0e\u6570\u7ec4\u4e0d\u540c\uff0c\u5143\u7ec4\u6bcf\u4e2a\u5143\u7d20\u90fd\u6709\u5355\u72ec\u7684\u7c7b\u578b\u3002</p> <p>\u4e0d\u80fd\u5728\u8868\u4e2d\uff08\u9664\u4e86\u5185\u5b58\u8868\uff09\u5b58\u50a8\u5143\u7ec4\uff0c\u53ea\u80fd\u7528\u4e8e\u4e34\u65f6\u5217\u5206\u7ec4\u3002\u5728\u67e5\u8be2\u4e2d\uff0cIN \u8868\u8fbe\u5f0f\u548c\u5e26\u7279\u5b9a\u53c2\u6570\u7684 lambda \u51fd\u6570\u53ef\u4ee5\u7528\u6765\u5bf9\u4e34\u65f6\u5217\u8fdb\u884c\u5206\u7ec4\u3002</p> <pre><code>SELECT tuple(1,'a') AS x, toTypeName(x);\n--\u7ed3\u679c\u8f93\u51fa\n\u250c\u2500x\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500toTypeName(tuple(1, 'a'))\u2500\u2510\n\u2502 (1,'a') \u2502 Tuple(UInt8, String)      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <pre><code>-- \u5efa\u8868\nCREATE TABLE t_tuple(\n    c1 Tuple(String,Int8)\n) ENGINE=TinyLog;\n\n-- INSERT\u6570\u636e\nINSERT INTO t_tuple VALUES(('jack',20));\n\n--\u67e5\u8be2\u6570\u636e\nSELECT * FROM t_tuple;\n\u250c\u2500c1\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 ('jack',20) \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <pre><code>-- \u5982\u679c\u63d2\u5165\u6570\u636e\u7c7b\u578b\u4e0d\u5339\u914d\uff0c\u4f1a\u62a5\u5f02\u5e38\nINSERT INTO t_tuple VALUES(('tom','20'));\n-- Type mismatch in IN or VALUES section. Expected: Int8. Got: String\n</code></pre>"},{"location":"ClickHouse/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_12","title":"\u5176\u4ed6\u7279\u6b8a\u7c7b\u578b","text":""},{"location":"ClickHouse/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#lowcardinality","title":"LowCardinality","text":"<p><code>LowCardinality(data_type)</code> data_type \u5141\u8bb8 String\uff0cFixedString\uff0cDate\uff0cDateTime\uff0c\u9664 Decimal \u4ee5\u5916\u7684\u6570\u5b57\u7c7b\u578b\u3002</p> <p>\u4f4e\u57fa\u6570\u7c7b\u578b\uff0c\u9002\u7528\u4e8e\u4e00\u4e9b\u91cd\u590d\u7387\u8f83\u9ad8\u7684\u5217\u3002\u5047\u8bbe\u4e00\u4e2a\u5217\u901a\u5e38\u4f1a\u6709 4\u30015 \u4e2a\u503c\uff0c\u90a3\u4e48\u76f4\u63a5\u7528 Enum \u5373\u53ef\uff0c\u5982\u679c\u901a\u5e38\u4f1a\u6709\u4e00\u767e\u3001\u4e00\u5343\u4e2a\u503c\uff0c\u5e76\u4e14\u5177\u4f53\u7684\u503c\u4e0d\u786e\u5b9a\uff0c\u4f60\u53ea\u77e5\u9053\u8be5\u5217\u7684\u57fa\u6570\u4e0d\u4f1a\u592a\u5927\u3002\u8fd9\u79cd\u60c5\u51b5\u5c31\u53ef\u4ee5\u4f7f\u7528 LowCardinality\u3002</p> <p>Tip</p> <p>\u6839\u636e\u5b98\u65b9\u7684\u63a8\u8350\uff1a\u5f53\u4f7f\u7528\u5b57\u7b26\u7c7b\u578b\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528 LowCardinality \u4ee3\u66ffEnum\u3002 LowCardinality \u901a\u5e38\u66f4\u52a0\u7075\u6d3b\u548c\u9ad8\u6548\u3002</p>"},{"location":"ClickHouse/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_13","title":"\u53c2\u8003\u8d44\u6599","text":"<p>Official Document \u7bc7\u4e09 | ClickHouse \u7684\u6570\u636e\u7c7b\u578b</p>"},{"location":"Distributed/0-Hello/","title":"0-Hello","text":""},{"location":"Distributed/0-Hello/#scalability","title":"\u53ef\u6269\u5c55\u6027 Scalability","text":"<p>\u968f\u7740\u4e92\u8054\u7f51\u7684\u53d1\u5c55\uff0c\u5355\u673a\u7cfb\u7edf\u7684\u6027\u80fd\u5df2\u7ecf\u65e0\u6cd5\u6ee1\u8db3\u9700\u6c42\uff0c\u8981\u4e48\u901a\u8fc7 \u63d0\u9ad8\u5355\u673a\u6027\u80fd\uff08\u4f8b\u5982\u589e\u52a0\u5185\u5b58\u5bb9\u91cf\u3001\u78c1\u76d8\u5bb9\u91cf\u3001CPU\u6838\u5fc3\u6570\u7b49\uff09\uff0c\u8981\u4e48\u901a\u8fc7 \u589e\u52a0\u673a\u5668\u7684\u6570\u91cf \u6765\u63d0\u9ad8\u7cfb\u7edf\u7684\u6027\u80fd\u3002</p> <p>\u4f46\u662f\u63d0\u9ad8\u5355\u673a\u6027\u80fd\u7684\u65b9\u5f0f\u6709\u9650\uff0c\u4e14\u7531\u4e8e\u8fb9\u9645\u9012\u51cf\u6548\u5e94\uff0c\u63d0\u9ad8\u5355\u673a\u6027\u80fd\u7684\u6210\u672c\u4f1a\u8d8a\u6765\u8d8a\u9ad8\u3002\u800c\u4e14\u5355\u673a\u7cfb\u7edf\u7684\u6027\u80fd\u662f\u6709\u7269\u7406\u4e0a\u9650\u7684\uff0c\u65e0\u6cd5\u65e0\u9650\u63d0\u9ad8\u3002\u800c\u901a\u8fc7\u589e\u52a0\u673a\u5668\u7684\u65b9\u5f0f\uff0c\u53ef\u4ee5\u65e0\u9650\u63d0\u9ad8\u7cfb\u7edf\u7684\u6027\u80fd\uff0c\u53ea\u8981\u4f60\u6709\u94b1\uff0c\u53ea\u8981\u4f60\u6709\u673a\u5668\uff0c\u5c31\u53ef\u4ee5\u65e0\u9650\u63d0\u9ad8\u7cfb\u7edf\u7684\u6027\u80fd\u3002</p> <ul> <li> <p>\u5782\u76f4\u6269\u5c55: \u901a\u8fc7\u63d0\u9ad8\u5355\u673a\u6027\u80fd\u7684\u65b9\u5f0f\uff0c\u53eb\u505a \u7eb5\u5411\u6269\u5c55\u3001\u5782\u76f4\u6269\u5c55\u3001Vertical Scaling\u3002</p> <ol> <li>Scale Up: \u5782\u76f4\u6269\u5c55\uff0c\u63d0\u9ad8\u5355\u673a\u6027\u80fd\uff0c\u4f8b\u5982\u589e\u52a0\u5185\u5b58\u3001\u78c1\u76d8\u3001CPU \u7b49\u3002</li> <li>Scale Down: \u5782\u76f4\u7f29\u51cf\uff0c\u964d\u4f4e\u5355\u673a\u6027\u80fd\uff0c\u4f8b\u5982\u51cf\u5c11\u5185\u5b58\u3001\u78c1\u76d8\u3001CPU \u7b49\u3002</li> </ol> </li> <li> <p>\u6c34\u5e73\u6269\u5c55: \u901a\u8fc7\u589e\u52a0\u673a\u5668\u7684\u65b9\u5f0f\uff0c\u53eb\u505a \u6a2a\u5411\u6269\u5c55\u3001\u6c34\u5e73\u6269\u5c55\u3001Horizontal Scaling\u3002</p> <ol> <li>Scale Out: \u6c34\u5e73\u6269\u5c55\uff0c\u589e\u52a0\u673a\u5668\u6570\u91cf\uff0c\u4f8b\u5982\u589e\u52a0\u670d\u52a1\u5668\u6570\u91cf\u3002</li> <li>Scale In: \u6c34\u5e73\u7f29\u51cf\uff0c\u51cf\u5c11\u673a\u5668\u6570\u91cf\uff0c\u4f8b\u5982\u51cf\u5c11\u670d\u52a1\u5668\u6570\u91cf\u3002</li> </ol> </li> </ul> <p>\u589e\u52a0\u673a\u5668\u7684\u6570\u91cf\uff0c\u4f7f\u5f97\u7cfb\u7edf\u53d8\u6210\u4e86\u4e00\u4e2a\u5206\u5e03\u5f0f\u7cfb\u7edf\u3002\u5bf9\u4e8e\u5206\u5e03\u5f0f\u7cfb\u7edf\uff0c\u5929\u7136\u5730\u5c31\u5b58\u5728 \u53ef\u6269\u5c55\u6027 \u8fd9\u6837\u7684\u8bc4\u4ef7\u6307\u6807\u3002</p> <p>\u53ef\u6269\u5c55\u6027 \u662f\u6307\u7cfb\u7edf\u80fd\u591f\u901a\u8fc7\u589e\u52a0\u673a\u5668\u7684\u6570\u91cf\uff0c\u6765\u63d0\u9ad8\u7cfb\u7edf\u7684\u6027\u80fd\uff0c\u800c\u4e0d\u4f1a\u5bf9\u7cfb\u7edf\u7684\u67b6\u6784\u548c\u8bbe\u8ba1\u4ea7\u751f\u5f71\u54cd\u3002</p> <p>\u6269\u5c55\u6027\u7684\u76ee\u6807\u662f\u4f7f\u7cfb\u7edf\u4e2d\u7684\u6bcf\u4e00\u4e2a\u8282\u70b9\u90fd\u5728\u4e00\u4e2a\u8f83\u4e3a\u7a33\u5b9a\u7684\u8d1f\u8f7d\u4e0b\u5de5\u4f5c\uff0c\u5373\u8d1f\u8f7d\u5747\u8861\uff08Load Balancing\uff09\u3002</p> <p>\u5f53\u52a8\u6001\u589e\u52a0\u8282\u70b9\u7684\u65f6\u5019\uff0c\u9700\u8981\u8fdb\u884c\u4efb\u52a1\u7684\u8fc1\u79fb\uff0c\u4efb\u52a1\u53ef\u80fd\u662f\u8ba1\u7b97\u3001\u4e5f\u53ef\u80fd\u662f\u5b58\u50a8\uff0c\u4ee5\u8fbe\u5230\u52a8\u6001\u5747\u8861\u3002</p> <p>\u90a3\u4e48\u9996\u5148\u8981\u8003\u8651\u7684\u95ee\u9898\u662f\uff1a\u600e\u4e48\u62c6\u5206\u4efb\u52a1\uff1f\u600e\u4e48\u5206\u914d\u4efb\u52a1\uff1f\u600e\u4e48\u8fc1\u79fb\u4efb\u52a1\uff1f\u8fd9\u5c31\u662f \u5206\u7247\uff08Partition\uff09 \u7684\u95ee\u9898\u3002</p> <p>\u5206\u7247 \u65b9\u5f0f\u6709\u5f88\u591a\u79cd\uff0c\u5e38\u89c1\u7684\u7b97\u6cd5\u5305\u62ec\uff1a\u54c8\u5e0c\u5206\u7247\u3001\u8303\u56f4\u5206\u7247\u3001\u4e00\u81f4\u6027\u54c8\u5e0c\u7b49\u3002\u6bcf\u79cd\u7b97\u6cd5\u90fd\u6709\u5404\u81ea\u7684\u4f18\u7f3a\u70b9\u548c\u9002\u7528\u573a\u666f\u3002</p>"},{"location":"Distributed/0-Hello/#availability","title":"\u53ef\u7528\u6027 Availability","text":"<p>\u5197\u4f59\uff08Redundancy\uff09\u662f\u63d0\u9ad8\u53ef\u7528\u6027\u3001\u53ef\u9760\u6027\u7684\u6cd5\u5b9d\u3002</p> <p>\u5728\u5927\u578b\u7684\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\uff0c\u7531\u4e8e\u89c4\u6a21\u7684\u589e\u5927\uff0c\u4f1a\u4f7f\u5f97\u5728\u5355\u673a\u7cfb\u7edf\u4e0b\u51e0\u4e4e\u4e0d\u9700\u8981\u8003\u8651\u7684\u95ee\u9898\uff08\u4f8b\u5982\u98ce\u6247\u6545\u969c\u5bfc\u81f4\u8fc7\u70ed\u4e0d\u5de5\u4f5c\u3001\u7f51\u7edc\u6ce2\u52a8\u7b49\uff09\u53d8\u6210\u9891\u7e41\u51fa\u73b0\u7684\u95ee\u9898\uff0c\u56e0\u4e3a\u968f\u7740\u6570\u91cf\u7684\u589e\u52a0\uff0c\u6545\u969c\u7684\u6982\u7387\u4e5f\u968f\u4e4b\u589e\u52a0\u3002</p> <p>\u6240\u4ee5\u5728\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\uff0c\u53ef\u7528\u6027\u662f\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u6307\u6807\uff0c\u5b83\u662f\u6307\u7cfb\u7edf\u80fd\u591f\u5728\u4e00\u5b9a\u65f6\u95f4\u5185\u6b63\u5e38\u8fd0\u884c\u7684\u80fd\u529b\u3002</p> <p>\u53ef\u7528\u6027\uff0c\u8bf4\u7684\u662f\u7cfb\u7edf\u7ecf\u8fc7\u7cbe\u5fc3\u8bbe\u8ba1\uff0c\u5728\u7279\u5b9a\u7684\u9519\u8bef\u7c7b\u578b\u4e0b\uff0c\u7cfb\u7edf\u4ecd\u7136\u80fd\u591f\u6b63\u5e38\u8fd0\u884c\uff0c\u4ecd\u7136\u53ef\u4ee5\u5411\u6ca1\u6709\u51fa\u73b0\u9519\u8bef\u4e00\u6837\uff0c\u4e3a\u4f60\u63d0\u4f9b\u5b8c\u6574\u7684\u670d\u52a1\u3002</p> <p>\u9664\u4e86\u53ef\u7528\u6027\uff0c\u8fd8\u6709\u4e00\u4e2a\u5bb9\u9519\u7279\u6027\u662f\u81ea\u6211\u53ef\u6062\u590d\u6027\uff08recoverability\uff09\uff0c\u7cfb\u7edf\u5728\u51fa\u73b0\u9519\u8bef\u540e\uff0c\u80fd\u591f\u81ea\u6211\u4fee\u590d\uff0c\u6062\u590d\u5230\u6b63\u5e38\u72b6\u6001\uff0c\u5e76\u4e14\u5b8c\u5168\u6b63\u786e\u7684\u91cd\u65b0\u8fd0\u884c\u3002</p> \\[ \u53ef\u7528\u6027 = \\frac{\u6b63\u5e38\u8fd0\u884c\u65f6\u95f4}{\u6b63\u5e38\u8fd0\u884c\u65f6\u95f4 + \u505c\u673a\u65f6\u95f4} \\] <p>\u53ef\u7528\u6027\u901a\u5e38\u7528\u767e\u5206\u6bd4\u6765\u8868\u793a\uff0c\u4f8b\u5982 99.999% \u7684\u53ef\u7528\u6027\u610f\u5473\u7740\u7cfb\u7edf\u6bcf\u5e74\u6700\u591a\u53ea\u80fd\u505c\u673a 5 \u5206\u949f\u3002</p> \u53ef\u7528\u6027\u7684\u767e\u5206\u6bd4 Level of Avaliability Percent of Uptime Downtime per Year Downtime per Month Downtime per Week 1 Nine 90% 36.5 days 72 hours 16.8 hours 2 Nines 99% 3.65 days 7.2 hours 1.68 hours 3 Nines 99.9% 8.76 hours 43.2 minutes 10.1 minutes 4 Nines 99.99% 52.6 minutes 4.32 minutes 1.01 minutes 5 Nines 99.999% 5.25 minutes 25.9 seconds 6.05 seconds 6 Nines 99.9999% 31.5 seconds 2.59 seconds 605 milliseconds <p>\u5197\u4f59 \u5c31\u662f\u8bf4\u591a\u4e2a\u8282\u70b9\u8d1f\u8d23\u76f8\u540c\u7684\u4efb\u52a1\u3002</p> <p>\u5728\u5206\u5e03\u5f0f\u5b58\u50a8\u4e2d\uff0c\u6570\u636e\u7684\u5197\u4f59\u662f\u901a\u8fc7\u6570\u636e\u7684\u590d\u5236\u6765\u5b9e\u73b0\u7684\u3002\u5728\u5206\u5e03\u5f0f\u8ba1\u7b97\u4e2d\uff0c\u4efb\u52a1\u7684\u5197\u4f59\u662f\u901a\u8fc7\u4efb\u52a1\u7684\u5907\u4efd\u6765\u5b9e\u73b0\u7684\u3002</p> <p>\u4f8b\u5982\u5728 MapReduce \u4e2d\uff0c\u5f53\u4e00\u4e2a worker \u8fd0\u884c\u5f02\u5e38\u7f13\u6162\u65f6\uff0cmaster \u4f1a\u5c06\u8fd9\u4e2a worker \u4e0a\u7684\u4efb\u52a1\u91cd\u65b0\u5206\u914d\u7ed9\u5176\u4ed6 worker\uff0c\u8fd9\u5c31\u662f\u4efb\u52a1\u7684\u5197\u4f59\u3002</p> <p>\u800c\u5b58\u50a8\u7684\u5197\u4f59\u4f1a\u6bd4\u8ba1\u7b97\u7684\u5197\u4f59\u66f4\u590d\u6742\uff0c\u56e0\u4e3a\u6570\u636e\u7684\u5197\u4f59\u9700\u8981\u8003\u8651\u6570\u636e\u7684\u4e00\u81f4\u6027\u95ee\u9898\u3002</p>"},{"location":"Distributed/0-Hello/#consistency","title":"\u4e00\u81f4\u6027 Consistency","text":"<p>\u7ef4\u62a4\u540c\u4e00\u4efd\u6570\u636e\u7684\u591a\u4e2a\u526f\u672c\uff0c\u53ef\u4ee5\u63d0\u9ad8\u6570\u636e\u7684\u53ef\u9760\u6027\uff0c\u5373\u4f7f\u6709\u8282\u70b9\u5b95\u673a\uff0c\u6570\u636e\u4e5f\u4e0d\u4f1a\u4e22\u5931\u3002\u4f46\u662f\u8fd9\u6837\u4f1a\u5e26\u6765\u4e00\u4e2a\u95ee\u9898\uff0c\u5c31\u662f\u6570\u636e\u7684\u4e00\u81f4\u6027\u95ee\u9898\u3002 \u5f53\u60f3\u526f\u672c\u5199\u5165\u6570\u636e\u7684\u65f6\u5019\uff0c\u600e\u4e48\u4fdd\u8bc1\u5e76\u53d1\u60c5\u51b5\u4e0b\u6570\u636e\u7684\u4e00\u81f4\u6027\uff0c\u56e0\u4e3a\u6709\u53ef\u80fd\u6570\u636e\u8fd8\u6ca1\u590d\u5236\u5b8c\uff0c\u5c31\u53c8\u6709\u65b0\u7684\u6570\u636e\u8fdb\u6765\u4e86\uff0c\u8fd9\u5c31\u4f1a\u5bfc\u81f4\u6570\u636e\u7684\u4e0d\u4e00\u81f4\u3002 \u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u662f\u4e00\u4e2a\u8282\u70b9\u51b3\u5b9a\u66f4\u65b0\u7684\u987a\u5e8f\uff0c\u8fd8\u662f\u591a\u4e2a\u8282\u70b9\u540c\u65f6\u66f4\u65b0\uff1f\u662f\u540c\u6b65\u590d\u5236\u8fd8\u662f\u5f02\u6b65\u590d\u5236\uff1f\u8fd9\u4e9b\u90fd\u662f \u4e00\u81f4\u6027 \u7684\u95ee\u9898\u3002</p> \u4e2d\u5fc3\u5316\u548c\u53bb\u4e2d\u5fc3\u5316 <ul> <li> <p>\u4e2d\u5fc3\u5316\uff1a\u5373\u6709\u4e00\u4e2a\u4e3b\u8282\u70b9\uff08Primary master\uff09\u8d1f\u8d23\u8c03\u5ea6\u6570\u636e\u7684\u66f4\u65b0\uff0c\u5176\u4ed6\u8282\u70b9\uff08Secondary master\uff09\u53ea\u8d1f\u8d23\u8bfb\u53d6\u6570\u636e\u3002\u8fd9\u6837\u53ef\u4ee5\u4fdd\u8bc1\u6570\u636e\u7684\u4e00\u81f4\u6027\u3002 \u4f46\u662f\u4e3b\u8282\u70b9\u6210\u4e3a\u4e86\u7cfb\u7edf\u7684\u74f6\u9888\uff0c\u4e00\u65e6\u4e3b\u8282\u70b9\u5b95\u673a\u6574\u4e2a\u7cfb\u7edf\u5c31\u4e0d\u53ef\u7528\u4e86\uff0c\u5373\u5355\u70b9\u6545\u969c\u3002\u4f46\u662f\u534f\u8bae\u7b80\u5355\uff0c\u5c06\u5e76\u53d1\u653e\u64cd\u4f5c\u8f6c\u53d8\u4e3a\u987a\u5e8f\u64cd\u4f5c\u3002</p> </li> <li> <p>\u53bb\u4e2d\u5fc3\u5316: \u5373\u6240\u6709\u8282\u70b9\u90fd\u53ef\u4ee5\u8bfb\u5199\u6570\u636e\u3002\u8fd9\u6837\u53ef\u4ee5\u63d0\u9ad8\u7cfb\u7edf\u7684\u6027\u80fd\uff0c\u4f46\u662f\u8981\u4fdd\u8bc1\u4e00\u81f4\u6027\u6bd4\u8f83\u56f0\u96be\uff0c\u534f\u8bae\u6bd4\u8f83\u590d\u6742\u3002\u4f46\u662f\u9ad8\u53ef\u7528\u3002</p> </li> </ul> <p>\u4e00\u822c\u6765\u8bf4\uff0c\u4e2d\u5fc3\u5316\u7684\u7cfb\u7edf\u4e00\u822c\u7528\u4e8e\u8bfb\u591a\u5199\u5c11\u7684\u573a\u666f\uff0c\u800c\u53bb\u4e2d\u5fc3\u5316\u7684\u7cfb\u7edf\u4e00\u822c\u7528\u4e8e\u8bfb\u5199\u90fd\u5f88\u591a\u7684\u573a\u666f\u3002</p> \u540c\u6b65\u3001\u5f02\u6b65\u548c\u534a\u540c\u6b65\u590d\u5236 <ul> <li>\u540c\u6b65\u590d\u5236\uff1a\u5373\u4e3b\u8282\u70b9\u5199\u5165\u6570\u636e\u540e\uff0c\u5fc5\u987b\u7b49\u5f85\u6240\u6709\u526f\u672c\u5199\u5165\u6210\u529f\u540e\u624d\u8fd4\u56de\u6210\u529f\u3002\u8fd9\u6837\u53ef\u4ee5\u4fdd\u8bc1\u6570\u636e\u7684\u4e00\u81f4\u6027\uff0c\u4f46\u662f\u6027\u80fd\u6bd4\u8f83\u5dee\u3002</li> <li>\u5f02\u6b65\u590d\u5236\uff1a\u5373\u4e3b\u8282\u70b9\u5199\u5165\u6570\u636e\u540e\uff0c\u4e0d\u7b49\u5f85\u526f\u672c\u5199\u5165\u6210\u529f\u5c31\u8fd4\u56de\u6210\u529f\u3002\u8fd9\u6837\u53ef\u4ee5\u63d0\u9ad8\u6027\u80fd\uff0c\u4f46\u662f\u53ef\u80fd\u4f1a\u4e22\u5931\u6570\u636e\u3002</li> <li>\u534a\u540c\u6b65\u590d\u5236\uff1a\u5373\u4e3b\u8282\u70b9\u5199\u5165\u6570\u636e\u540e\uff0c\u7b49\u5f85\u90e8\u5206\u526f\u672c\u5199\u5165\u6210\u529f\u540e\u5c31\u8fd4\u56de\u6210\u529f\u3002\u8fd9\u6837\u53ef\u4ee5\u4fdd\u8bc1\u6570\u636e\u7684\u4e00\u81f4\u6027\uff0c\u540c\u65f6\u4e5f\u63d0\u9ad8\u4e86\u6027\u80fd\u3002</li> </ul> <p>\u4e00\u81f4\u6027 \u662f\u6307\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u7684\u6240\u6709\u8282\u70b9\u5728\u540c\u4e00\u65f6\u95f4\u7684\u6570\u636e\u662f\u4e00\u81f4\u7684\u3002\u5728\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\uff0c\u7531\u4e8e\u7f51\u7edc\u7684\u5ef6\u8fdf\u3001\u5206\u533a\u7b49\u95ee\u9898\uff0c\u4f1a\u5bfc\u81f4\u6570\u636e\u7684\u4e0d\u4e00\u81f4\u3002</p> <p>\u5f53\u7136\u5982\u679c\u6ca1\u6709\u5197\u4f59\u673a\u5236\uff0c\u6216\u8005\u4e0d\u662f\u6570\u636e\u7684\u5197\u4f59\u3001\u72b6\u6001\u7684\u5197\u4f59\uff0c\u800c\u662f\u4efb\u52a1\u7684\u5197\u4f59\uff0c\u90a3\u4e48\u5c31\u4e0d\u4f1a\u6709\u4e00\u81f4\u6027\u95ee\u9898\u3002 \u56e0\u4e3a\u4efb\u52a1\u7684\u5197\u4f59\u662f\u901a\u8fc7\u4efb\u52a1\u7684\u5907\u4efd\u6765\u5b9e\u73b0\u7684\uff0c\u53ea\u8981\u5907\u4efd\u7684\u4efb\u52a1\u6267\u884c\u7ed3\u679c\u662f\u4e00\u6837\u7684\uff0c\u90a3\u4e48\u5c31\u4e0d\u4f1a\u6709\u4e00\u81f4\u6027\u95ee\u9898\uff0c\u4f8b\u5982 MapReduce \u4e2d\u7684\u4efb\u52a1\u5197\u4f59\u3002</p> <p>\u5728\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\uff0c\u4e00\u81f4\u6027\u4ece\u7cfb\u7edf\u7684\u89d2\u5ea6\uff0c\u901a\u5e38\u5206\u4e3a \u5f3a\u4e00\u81f4\u6027\u3001\u5f31\u4e00\u81f4\u6027\u3001\u6700\u7ec8\u4e00\u81f4\u6027 \u4e09\u79cd\u3002</p> <p>Note</p> <ul> <li>\u5f3a\u4e00\u81f4\u6027\uff1a\u5373\u6240\u6709\u8282\u70b9\u5728\u540c\u4e00\u65f6\u95f4\u7684\u6570\u636e\u662f\u4e00\u81f4\u7684\u3002\u5f3a\u4e00\u81f4\u6027\u662f\u6700\u7406\u60f3\u7684\u4e00\u81f4\u6027\uff0c\u4f46\u662f\u6027\u80fd\u6bd4\u8f83\u5dee\u3002</li> <li>\u5f31\u4e00\u81f4\u6027\uff1a\u5373\u6240\u6709\u8282\u70b9\u5728\u540c\u4e00\u65f6\u95f4\u7684\u6570\u636e\u4e0d\u4e00\u5b9a\u662f\u4e00\u81f4\u7684\u3002\u5f31\u4e00\u81f4\u6027\u662f\u4e00\u79cd\u6298\u4e2d\u7684\u4e00\u81f4\u6027\uff0c\u6027\u80fd\u6bd4\u8f83\u597d\u3002</li> <li>\u6700\u7ec8\u4e00\u81f4\u6027\uff1a\u5373\u6240\u6709\u8282\u70b9\u5728\u540c\u4e00\u65f6\u95f4\u7684\u6570\u636e\u4e0d\u4e00\u5b9a\u662f\u4e00\u81f4\u7684\uff0c\u4f46\u662f\u6700\u7ec8\u4f1a\u8fbe\u5230\u4e00\u81f4\u3002\u6700\u7ec8\u4e00\u81f4\u6027\u662f\u4e00\u79cd\u6298\u4e2d\u7684\u4e00\u81f4\u6027\uff0c\u6027\u80fd\u6bd4\u8f83\u597d\u3002</li> </ul> <p>\u4e00\u822c\u6765\u8bf4\uff0c\u5f3a\u4e00\u81f4\u6027\u7528\u4e8e\u8bfb\u5199\u90fd\u5f88\u591a\u7684\u573a\u666f\uff0c\u800c\u5f31\u4e00\u81f4\u6027\u548c\u6700\u7ec8\u4e00\u81f4\u6027\u7528\u4e8e\u8bfb\u591a\u5199\u5c11\u7684\u573a\u666f\u3002</p> <p>\u4e00\u81f4\u6027\u548c\u53ef\u7528\u6027\u662f\u77db\u76fe\u7684\uff0c\u5f3a\u4e00\u81f4\u6027\u4f1a\u5f71\u54cd\u7cfb\u7edf\u7684\u6027\u80fd\uff0c\u800c\u5f31\u4e00\u81f4\u6027\u548c\u6700\u7ec8\u4e00\u81f4\u6027\u4f1a\u63d0\u9ad8\u7cfb\u7edf\u7684\u6027\u80fd\u3002\u8fd9\u4e00\u70b9\u5728 CAP \u7406\u8bba\u4e2d\u6709\u6240\u4f53\u73b0\u3002</p>"},{"location":"Distributed/0-Hello/#partition-tolerance","title":"\u5206\u533a\u5bb9\u9519\u6027 Partition Tolerance","text":"<p>\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u6bcf\u4e2a\u8282\u70b9\u4e4b\u95f4\u901a\u8fc7\u7f51\u7edc\u8fde\u63a5\uff0c\u4f7f\u5f97\u591a\u53f0\u673a\u5668\u4e4b\u95f4\u7ec4\u6210\u4e00\u4e2a\u6574\u4f53\uff0c\u4f46\u662f\u7f51\u7edc\u662f\u4e0d\u53ef\u9760\u7684\uff0c\u7f51\u7edc\u4f1a\u51fa\u73b0\u5ef6\u8fdf\u3001\u4e22\u5305\u3001\u62e5\u585e\u7b49\u95ee\u9898\uff0c \u8fd9\u5c31\u4f1a\u5bfc\u81f4\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u7684\u8282\u70b9\u4e4b\u95f4\u901a\u4fe1\u51fa\u73b0\u95ee\u9898\uff0c\u5bfc\u81f4\u4e00\u4e2a\u6574\u4f53\u7684\u5206\u5e03\u5f0f\u7cfb\u7edf\u88ab\u5206\u5272\u6210\u591a\u4e2a\u90e8\u5206\uff0c\u8fd9\u5c31\u662f\u5206\u533a\u7684\u60c5\u51b5\u3002</p> <p>\u800c\u968f\u7740\u673a\u5668\u6570\u91cf\u7684\u4e0a\u6da8\uff0c\u6545\u969c\u662f\u5e38\u6001\uff0c\u90a3\u4e48\u5206\u5e03\u5f0f\u7cfb\u7edf\u7684\u5176\u4e2d\u4e00\u4e2a\u8bbe\u8ba1\u76ee\u6807\u5c31\u662f \u5bb9\u9519\u3002</p> <p></p> <p>\u8fd9\u91cc\u7684\u5206\u533a\u6307\u7684\u662f\u7f51\u7edc\u5206\u533a\u3002\u4e00\u4e2a\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u7684\u8282\u70b9\u4e4b\u95f4\u901a\u8fc7\u7f51\u7edc\u8fde\u63a5\uff0c\u5982\u679c\u7f51\u7edc\u51fa\u73b0\u95ee\u9898\uff0c\u5bfc\u81f4\u8282\u70b9\u4e4b\u95f4\u65e0\u6cd5\u901a\u4fe1\uff0c\u90a3\u4e48\u5c31\u4f1a\u51fa\u73b0\u5206\u533a\u7684\u60c5\u51b5\u3002</p> <p>\u5206\u533a\u5bb9\u9519\u6027\u5f3a\u8c03\u7684\u4e8b\u5206\u5e03\u5f0f\u7cfb\u7edf\u5bf9\u4e8e\u7f51\u7edc\u6545\u969c\u7684\u5e94\u5bf9\u7b56\u7565\uff0c\u5373\u5206\u5e03\u5f0f\u7cfb\u7edf\u5728\u7f51\u7edc\u5206\u533a\u7684\u60c5\u51b5\u4e0b\uff0c\u4ecd\u7136\u80fd\u591f\u6b63\u5e38\u8fd0\u884c\uff0c\u8fd9\u662f\u5206\u5e03\u5f0f\u7cfb\u7edf\u6700\u57fa\u672c\u7684\u8981\u6c42\uff0c\u5426\u5219\u5c31\u4e0d\u662f\u5206\u5e03\u5f0f\u7cfb\u7edf\u3002</p> <p>\u5206\u5e03\u5f0f\u7cfb\u7edf\u7684\u8bbe\u8ba1\u76ee\u6807\u662f\u5728\u7f51\u7edc\u5206\u533a\u7684\u60c5\u51b5\u4e0b\uff0c\u4ecd\u7136\u80fd\u591f\u6b63\u5e38\u8fd0\u884c\uff0c\u8fd9\u5c31\u662f \u5206\u533a\u5bb9\u9519\u6027\u3002</p> <p>\u5206\u533a\u5bb9\u9519\u6027 \u662f\u5206\u5e03\u5f0f\u7cfb\u7edf\u7684\u57fa\u672c\u8981\u6c42\uff0c\u6240\u4ee5\u901a\u5e38\u662f\u5728 \u4e00\u81f4\u6027 \u548c \u53ef\u7528\u6027 \u4e4b\u95f4\u8fdb\u884c\u6743\u8861\u3002</p> <p>\u5728 CAP \u7406\u8bba\u4e2d\uff0c\u4e00\u81f4\u6027 C\u3001\u53ef\u7528\u6027 A\u3001\u5206\u533a\u5bb9\u9519\u6027 P \u4e09\u8005\u4e0d\u53ef\u80fd\u540c\u65f6\u6ee1\u8db3\uff0c\u53ea\u80fd\u6ee1\u8db3\u5176\u4e2d\u7684\u4e24\u4e2a\u3002 \u800c\u5206\u533a\u5bb9\u9519\u6027 P \u662f\u5206\u5e03\u5f0f\u7f51\u7edc\u7cfb\u7edf\u7684\u57fa\u672c\u8981\u6c42\uff0c\u6240\u4ee5\u901a\u5e38\u662f\u5728 CP \u548c AP \u4e4b\u95f4\u8fdb\u884c\u6743\u8861\u3002</p> <p>\u4e00\u822c\u6765\u8bf4\uff0c\u300c\u5f3a\u4e00\u81f4\u6027\u300d\u7528\u4e8e\u300c\u8bfb\u5199\u90fd\u5f88\u591a\u300d\u7684\u573a\u666f\uff0c\u800c\u300c\u5f31\u4e00\u81f4\u6027\u300d\u548c\u6700\u7ec8\u4e00\u81f4\u6027\u7528\u4e8e\u300c\u8bfb\u591a\u5199\u5c11\u300d\u7684\u573a\u666f\u3002</p>"},{"location":"Distributed/0-Hello/#_1","title":"\u603b\u7ed3","text":"<p>\u968f\u7740\u4e92\u8054\u7f51\u7684\u53d1\u5c55\uff0c\u5355\u673a\u7cfb\u7edf\u7684\u6027\u80fd\u5df2\u7ecf\u65e0\u6cd5\u6ee1\u8db3\u9700\u6c42\uff0c\u8981\u4e48\u901a\u8fc7\u63d0\u9ad8\u5355\u673a\u6027\u80fd\uff0c\u8981\u4e48\u901a\u8fc7\u589e\u52a0\u673a\u5668\u7684\u6570\u91cf\u6765\u63d0\u9ad8\u7cfb\u7edf\u7684\u6027\u80fd\uff0c\u5373\u5782\u76f4\u6269\u5c55\u548c\u6c34\u5e73\u6269\u5c55\u3002</p> <p>\u6c34\u5e73\u6269\u5c55\u5bf9\u5e94\u7740 \u53ef\u6269\u5c55\u6027 Scalability\uff0c\u8981\u6c42\u589e\u52a0\u673a\u5668\u7684\u6570\u91cf\u6765\u63d0\u9ad8\u7cfb\u7edf\u7684\u6027\u80fd\uff0c\u800c\u4e0d\u4f1a\u5bf9\u7cfb\u7edf\u7684\u67b6\u6784\u548c\u8bbe\u8ba1\u4ea7\u751f\u5f71\u54cd\u3002</p> <p>\u7531\u4e8e\u673a\u5668\u6570\u91cf\u7684\u589e\u52a0\uff0c\u53d1\u751f\u6545\u969c\u7684\u6982\u7387\u968f\u4e4b\u589e\u52a0\uff0c\u6240\u4ee5 \u53ef\u7528\u6027 Availability \u662f\u5206\u5e03\u5f0f\u7cfb\u7edf\u7684\u91cd\u8981\u6307\u6807\uff0c\u5373\u7cfb\u7edf\u80fd\u591f\u5728\u4e00\u5b9a\u65f6\u95f4\u5185\u6b63\u5e38\u8fd0\u884c\u7684\u80fd\u529b\u3002</p> <p>\u4e3a\u4e86\u63d0\u9ad8\u53ef\u7528\u6027\u5f15\u5165\u4e86\u5197\u4f59\u673a\u5236\uff0c\u800c\u5197\u4f59\u5219\u5e26\u6765\u4e86 \u4e00\u81f4\u6027 Consistency \u95ee\u9898\uff0c\u5373\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u7684\u6240\u6709\u8282\u70b9\u5728\u540c\u4e00\u65f6\u95f4\u7684\u6570\u636e\u662f\u4e00\u81f4\u7684\u3002</p> <p>\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u7684\u8282\u70b9\u4e4b\u95f4\u901a\u8fc7\u7f51\u7edc\u8fde\u63a5\uff0c\u4f7f\u5f97\u591a\u53f0\u673a\u5668\u4e4b\u95f4\u7ec4\u6210\u4e00\u4e2a\u6574\u4f53\uff0c\u4f46\u662f\u7f51\u7edc\u662f\u4e0d\u53ef\u9760\u7684\uff0c\u8fd9\u5c31\u4f1a\u5bfc\u81f4\u5206\u533a\u7684\u60c5\u51b5\u3002 \u8981\u6c42\u5373\u4f7f\u5728\u7f51\u7edc\u5206\u533a\u7684\u60c5\u51b5\u4e0b\uff0c\u5206\u5e03\u5f0f\u7cfb\u7edf\u4ecd\u7136\u80fd\u591f\u6b63\u5e38\u8fd0\u884c\uff0c\u8fd9\u5c31\u662f \u5206\u533a\u5bb9\u9519\u6027 Partition Tolerance\u3002</p> <p>Note</p> <p>-&gt; \u4e92\u8054\u7f51\u53d1\u5c55\u5e26\u6765\u5355\u673a\u6027\u80fd\u4e0d\u8db3\u3001\u4e0d\u53ef\u6269\u5c55\u95ee\u9898 -&gt; \u9009\u62e9\u6c34\u5e73\u589e\u52a0\u673a\u5668\u6ee1\u8db3\u53ef\u6269\u5c55\u6027</p> <p>-&gt; \u589e\u52a0\u673a\u5668\u5e26\u6765\u53ef\u7528\u6027\u4e0b\u964d\u95ee\u9898 -&gt; \u5f15\u5165\u5197\u4f59(\u591a\u526f\u672c)\u673a\u5236\u6ee1\u8db3\u53ef\u7528\u6027 </p> <p>-&gt; \u5197\u4f59(\u591a\u526f\u672c)\u673a\u5236\u5e26\u6765\u4e00\u81f4\u6027\u95ee\u9898 -&gt; \u5f15\u5165\u4e00\u81f4\u6027(\u5f3a\u4e00\u81f4\u6027\u3001\u5f31\u4e00\u81f4\u6027\u3001\u6700\u7ec8\u4e00\u81f4\u6027)\u6765\u6839\u636e\u60c5\u51b5\u6743\u8861</p> <p>\u5728 CAP \u7406\u8bba\u4e2d\uff0c\u4e00\u81f4\u6027 C\u3001\u53ef\u7528\u6027 A\u3001\u5206\u533a\u5bb9\u9519\u6027 P \u4e09\u8005\u4e0d\u53ef\u80fd\u540c\u65f6\u6ee1\u8db3\uff0c\u53ea\u80fd\u6ee1\u8db3\u5176\u4e2d\u7684\u4e24\u4e2a\u3002 \u800c\u5206\u533a\u5bb9\u9519\u6027 P \u662f\u5206\u5e03\u5f0f\u7f51\u7edc\u7cfb\u7edf\u7684\u57fa\u672c\u8981\u6c42\uff0c\u6240\u4ee5\u901a\u5e38\u662f\u5728 CP \u548c AP \u4e4b\u95f4\u8fdb\u884c\u6743\u8861\u3002</p>"},{"location":"Distributed/1-%E5%88%86%E5%B8%83%E5%BC%8F%E7%AE%97%E6%B3%95/","title":"1-\u5206\u5e03\u5f0f\u7b97\u6cd5","text":""},{"location":"Distributed/1-%E5%88%86%E5%B8%83%E5%BC%8F%E7%AE%97%E6%B3%95/#_1","title":"\u5206\u5e03\u5f0f\u7b97\u6cd5","text":"<p>\u5206\u5e03\u5f0f\u7b97\u6cd5\uff0c\u5168\u79f0\u5e94\u8be5\u662f \u5206\u5e03\u5f0f\u4e00\u81f4\u6027\u7b97\u6cd5\uff0c\u662f\u4e3a\u4e86\u4fdd\u969c\u5206\u5e03\u5f0f\u73af\u5883\u4e0b\u6570\u636e\u7684\u4e00\u81f4\u6027\u7684\u7b97\u6cd5\u3002\u4e3b\u6d41\u7684\u5206\u5e03\u5f0f\u7b97\u6cd5\u6709\uff1a</p> <ol> <li>Paxos</li> <li>Raft</li> <li>ZAB(ZooKeeper Atomic Broadcast)</li> </ol>"},{"location":"Distributed/1-%E5%88%86%E5%B8%83%E5%BC%8F%E7%AE%97%E6%B3%95/#paxos","title":"Paxos \u7b97\u6cd5","text":"<p>Paxos \u7b97\u6cd5\u7531 Leslie Lamport \u5728 1998 \u5e74\u63d0\u51fa\uff0c\u662f\u4e00\u4e2a\u57fa\u4e8e\u6d88\u606f\u4f20\u9012\u7684\u4e00\u81f4\u6027\u7b97\u6cd5\u3002 \u8be5\u7b97\u6cd5\u7684\u76ee\u7684\u662f\u4e3a\u4e86 \u534f\u8c03\u67d0\u4e2a\u6570\u636e\u503c\u5e76\u8fbe\u6210\u4e00\u81f4\u6027\uff0c\u5178\u578b\u7684\u5c11\u6570\u670d\u4ece\u591a\u6570\u7684\u601d\u60f3\u3002</p>"},{"location":"Distributed/1-%E5%88%86%E5%B8%83%E5%BC%8F%E7%AE%97%E6%B3%95/#paxos_1","title":"Paxos \u6982\u5ff5","text":""},{"location":"Distributed/1-%E5%88%86%E5%B8%83%E5%BC%8F%E7%AE%97%E6%B3%95/#proposal","title":"\u63d0\u6848 Proposal","text":"<p>Paxos \u7b97\u6cd5\u4e2d\u7684\u63d0\u6848\u662f\u4e00\u4e2a\u7531\u63d0\u8bae\u8005\u63d0\u51fa\u7684\u6570\u636e\u503c\uff0c\u63d0\u6848\u7531 \u300c\u63d0\u6848\u53f7 (Proposal ID)\u300d \u548c \u300c\u63d0\u6848\u5185\u5bb9 (Value)\u300d \u7ec4\u6210\uff0cProposal ID \u4e3b\u8981\u7528\u4e8e\u5b9e\u73b0 Paxos \u7b97\u6cd5\uff0cValue \u53ef\u4ee5\u662f\u4efb\u610f\u7684\u6570\u636e\uff0c\u6bd4\u5982\u4e00\u4e2a\u8bf7\u6c42\u3001\u4e00\u4e2a\u547d\u4ee4\u7b49\u3002</p>"},{"location":"Distributed/1-%E5%88%86%E5%B8%83%E5%BC%8F%E7%AE%97%E6%B3%95/#_2","title":"\u89d2\u8272","text":"<ol> <li>Proposer\uff1a\u63d0\u8bae\u8005\uff0c\u8d1f\u8d23\u63d0\u51fa\u63d0\u6848\u3002</li> <li>Acceptor\uff1a\u63a5\u53d7\u8005\uff0c\u8d1f\u8d23\u63a5\u53d7\u63d0\u6848\u3002</li> <li>Learner\uff1a\u5b66\u4e60\u8005\uff0c\u8d1f\u8d23\u5b66\u4e60\u5df2\u7ecf\u88ab\u63a5\u53d7\u7684\u63d0\u6848\u3002</li> </ol> <p>Proposer \u63d0\u8bae\u8005</p> <p>\u63d0\u8bae\u8005 Proposer \u8d1f\u8d23\u63d0\u51fa\u63d0\u6848(Proposal)\u3002\u63d0\u6848\u5185\u5bb9 Value \u53ef\u4ee5\u662f\u4efb\u4f55\u884c\u4e3a\u6216\u8005\u64cd\u4f5c\uff0c\u53cd\u6b63\u5728 Paxos \u4e2d\u90fd\u62bd\u8c61\u4e3a Value\u3002</p> <p>\u63d0\u8bae\u8005\u53ef\u4ee5\u6709\u591a\u4e2a\uff0c\u4e0d\u540c\u63d0\u8bae\u8005\u53ef\u4ee5\u63d0\u51fa\u4e0d\u540c\u751a\u81f3\u4e92\u65a5\u7684\u63d0\u6848\u5185\u5bb9(Value)\uff0c\u4f46\u5bf9\u4e8e\u540c\u4e00\u8f6e Paxose \u800c\u8a00\uff0c\u53ea\u80fd\u6709\u4e00\u4e2a\u63d0\u6848\u5185\u5bb9\u88ab\u6279\u51c6\u3002</p> <p>Acceptor \u63a5\u53d7\u8005</p> <p>\u63a5\u53d7\u8005\u8d1f\u8d23\u63a5\u53d7\u63d0\u6848\uff0c\u53ef\u4ee5\u6709\u591a\u4e2a\uff0c\u4f46\u5bf9\u4e8e\u540c\u4e00\u8f6e Paxose \u800c\u8a00\uff0c\u53ea\u80fd\u6279\u51c6\u4e00\u4e2a\u63d0\u6848\u3002 \u63a5\u53d7\u8005 Acceptor \u4ece\u542b\u4e49\u4e0a\u6765\u8bf4\u662f\u9664\u4e86\u5f53\u524d\u63d0\u8bae\u8005 Proposer \u4e4b\u5916\u7684\u5176\u4ed6\u8282\u70b9\u3002\u63a5\u53d7\u8005\u4e4b\u95f4\u5b8c\u5168\u5e73\u7b49\u548c\u72ec\u7acb\u3002 \u63d0\u8bae\u8005 Proposer \u9700\u8981\u4e89\u53d6\u8d85\u8fc7\u534a\u6570 (N/2 + 1) \u7684\u63a5\u53d7\u8005 Acceptor \u7684\u652f\u6301\uff0c\u624d\u80fd\u4f7f\u5f97\u63d0\u6848\u88ab\u6279\u51c6\uff0c\u5b83\u63d0\u5021\u7684 Value \u624d\u80fd\u88ab\u6240\u6709\u673a\u5668(Proposer, Acceptor, Learner)\u63a5\u53d7\u3002</p> <p>\u63a5\u53d7\u8005\u6709\u4e24\u4e2a\u72b6\u6001\uff1a</p> <ol> <li>Promise\uff1a\u63a5\u53d7\u8005\u63a5\u53d7\u63d0\u6848\u8005\u7684\u63d0\u6848\uff0c\u4f46\u4e0d\u6279\u51c6\uff0c\u53ea\u662f\u4fdd\u8bc1\u4e0d\u518d\u63a5\u53d7\u5c0f\u4e8e\u63d0\u6848\u53f7\u7684\u63d0\u6848\u3002</li> <li>Accepted\uff1a\u63a5\u53d7\u8005\u63a5\u53d7\u63d0\u6848\u8005\u7684\u63d0\u6848\uff0c\u5e76\u6279\u51c6\u3002</li> </ol> <p>Learner \u5b66\u4e60\u8005</p> <p>\u5b66\u4e60\u8005\u4e0d\u53c2\u4e0e\u9009\u4e3e\uff0c\u53ea\u8d1f\u8d23\u5b66\u4e60\u5df2\u7ecf\u88ab\u6279\u51c6\u7684\u63d0\u6848\u3002\u5b66\u4e60\u8005\u53ef\u4ee5\u6709\u591a\u4e2a\uff0c\u4f46\u5bf9\u4e8e\u540c\u4e00\u8f6e Paxose \u800c\u8a00\uff0c\u53ea\u80fd\u6709\u4e00\u4e2a\u63d0\u6848\u5185\u5bb9\u88ab\u5b66\u4e60\u3002 \u5728 Paxos \u4e2d\uff0c\u5b66\u4e60\u8005\u4e3b\u8981\u53c2\u4e0e\u76f8\u5173\u7684\u72b6\u6001\u673a\u540c\u6b65\u6d41\u7a0b\u3002 Learner \u7684\u6d41\u7a0b\u53c2\u8003\u4e86 Quorum \u8bae\u4f1a\u673a\u5236\uff0c\u67d0\u4e2a\u63d0\u6848\u5185\u5bb9 Value \u9700\u8981\u83b7\u5f97\u8d85\u8fc7\u534a\u6570\u63a5\u53d7\u8005 Acceptors \u7684\u6279\u51c6\uff0c\u624d\u80fd\u771f\u6b63\u88ab Learner \u5b66\u4e60\u5230\u3002</p>"},{"location":"Distributed/1-%E5%88%86%E5%B8%83%E5%BC%8F%E7%AE%97%E6%B3%95/#_3","title":"\u9636\u6bb5","text":"<p>Paxos \u7b97\u6cd5\u5206\u4e3a\u4e24\u4e2a\u9636\u6bb5\uff1a</p> <ol> <li> <p>\u51c6\u5907\u9636\u6bb5 (Prepare Phase): Proposal \u5411\u6240\u6709 Acceptor \u8282\u70b9\u53d1\u8d77 Prepare \u8bf7\u6c42\uff0c\u5e76\u643a\u5e26\u5168\u5c40\u552f\u4e00\u4e14\u9012\u589e\u7684 Proposal ID\uff0c \u8981\u6c42 Acceptor \u8fd4\u56de\u81ea\u5df1\u5df2\u7ecf\u63a5\u53d7\u7684\u6700\u9ad8\u63d0\u6848\u53f7\u3002\u5982\u679c Acceptor \u63a5\u53d7\u4e86\u66f4\u5c0f\u7684\u63d0\u6848\u53f7\uff0c\u90a3\u4e48 Acceptor \u5c06\u62d2\u7edd\u5f53\u524d\u8f6e\u6b21\u7684\u63d0\u6848\uff0c\u5e76\u66f4\u65b0\u81ea\u5df1\u7684\u72b6\u6001\u3002</p> </li> <li> <p>\u627f\u8bfa\u9636\u6bb5 (Promise Phase): Acceotpr \u63a5\u53d7\u5230 Prepare \u8bf7\u6c42\u540e\uff0c\u4f1a\u68c0\u67e5\u8be5\u8bf7\u6c42\u7684\u63d0\u6848\u53f7 Proposal ID \u662f\u5426\u5927\u4e8e\u81ea\u5df1\u5df2\u7ecf\u63a5\u53d7\u7684\u6700\u9ad8\u63d0\u6848\u53f7\uff0c \u5982\u679c\u662f\uff0c\u90a3\u4e48 Acceptor \u66f4\u65b0\u81ea\u5df1\u7684\u72b6\u6001\uff0c\u627f\u8bfa\u4e0d\u5728\u63a5\u53d7\u5c0f\u4e8e\u8be5\u63d0\u6848\u53f7\u7684\u63d0\u6848\uff0c\u5e76\u8fd4\u56de\u81ea\u5df1\u5df2\u7ecf\u63a5\u53d7\u7684\u6700\u9ad8\u63d0\u6848\u53f7\u548c\u63d0\u6848\u5185\u5bb9\u7ed9 Proposer\u3002</p> </li> </ol>"},{"location":"Distributed/%E5%88%86%E5%B8%83%E5%BC%8F/","title":"\u5206\u5e03\u5f0f","text":""},{"location":"Distributed/%E5%88%86%E5%B8%83%E5%BC%8F/#_1","title":"\u5206\u5e03\u5f0f","text":"<p>\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e3b\u8981\u5206\u4e3a\uff1a\u5206\u5e03\u5f0f\u8ba1\u7b97 \u548c \u5206\u5e03\u5f0f\u5b58\u50a8 \u4e24\u4e2a\u65b9\u9762\u3002</p> <ul> <li> <p>\u5206\u5e03\u5f0f\u8ba1\u7b97\uff0c\u5176\u601d\u60f3\u5c31\u662f \u5206\u800c\u6cbb\u4e4b, \u5c31\u662f\u6bcf\u4e2a\u8282\u70b9\u7b97\u4e00\u4e9b\uff0c\u7136\u540e\u628a\u7ed3\u679c\u5408\u5e76\u8d77\u6765\uff0c\u8fd9\u5c31\u662f MapReduce \u7684\u601d\u60f3\u3002</p> </li> <li> <p>\u5206\u5e03\u5f0f\u5b58\u50a8\uff0c\u5176\u601d\u60f3\u4e5f\u662f \u5206\u800c\u5b58\u4e4b\uff0c\u5c31\u662f\u628a\u6570\u636e\u5206\u6563\u5230\u4e0d\u540c\u7684\u8282\u70b9\u4e0a\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5b58\u50a8\u66f4\u591a\u7684\u6570\u636e\uff0c\u4e5f\u53ef\u4ee5\u63d0\u9ad8\u6570\u636e\u7684\u8bfb\u5199\u901f\u5ea6\u3002</p> </li> </ul> <p>\u5206\u800c\u6cbb\u4e4b\uff0c\u5206\u800c\u5b58\u4e4b\uff0c\u8fd9\u4e24\u4e2a\u601d\u60f3\u662f\u5206\u5e03\u5f0f\u7cfb\u7edf\u7684\u57fa\u7840\u3002\u4e8e\u662f\u8fd9\u91cc\u8bde\u751f\u4e86\u4e00\u4e2a\u91cd\u8981\u7684\u6982\u5ff5\uff1a \u5206\u7247\uff08Partition<sup>1</sup>\uff09\u3002</p> <p>\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u6709\u5206\u7247\u5c31\u591f\u4e86\uff0c\u4f46\u662f\u5b9e\u9645\u60c5\u51b5\u4f1a\u9762\u4e34\u8282\u70b9\u5b95\u673a\u7684\u60c5\u51b5\uff0c\u4f46\u662f\u5206\u5e03\u5f0f\u7cfb\u7edf\u8981\u6c42\u7ee7\u7eed\u7a33\u5b9a\u5730\u5bf9\u5916\u63d0\u4f9b\u670d\u52a1\uff0c\u5373\u9700\u8981\u8f83\u5f3a\u7684\u5bb9\u9519\u6027\u3002\u8fd9\u65f6\u5019\u5c31\u9700\u8981\u5907\u4efd\uff0c\u8fd9\u5c31\u662f \u526f\u672c\uff08Replication\uff09\u3002</p> <p>\u6240\u4ee5 \u5206\u7247\uff08Partition\uff09 \u548c \u526f\u672c\uff08Replication\uff09 \u662f\u5206\u5e03\u5f0f\u7cfb\u7edf\u7684\u4e24\u4e2a\u91cd\u8981\u6982\u5ff5\u3002</p> <p>Note</p> <ul> <li>\u5206\u7247\uff08Partition\uff09\uff1a\u628a\u6570\u636e\u5206\u6563\u5230\u4e0d\u540c\u7684\u8282\u70b9\u4e0a\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5b58\u50a8\u66f4\u591a\u7684\u6570\u636e\uff0c\u4e5f\u53ef\u4ee5\u63d0\u9ad8\u6570\u636e\u7684\u8bfb\u5199\u901f\u5ea6\u3002</li> <li>\u526f\u672c\uff08Replication\uff09\uff1a\u4e3a\u4e86\u63d0\u9ad8\u6570\u636e\u7684\u53ef\u9760\u6027\uff0c\u628a\u6570\u636e\u590d\u5236\u5230\u4e0d\u540c\u7684\u8282\u70b9\u4e0a\uff0c\u8fd9\u6837\u5373\u4f7f\u6709\u8282\u70b9\u5b95\u673a\uff0c\u6570\u636e\u4e5f\u4e0d\u4f1a\u4e22\u5931\u3002</li> </ul> <p></p> <p>\u4e00\u4efd 100G \u7684\u6570\u636e\uff0c0~50G \u653e\u5728\u7b2c\u4e00\u4e2a\u8282\u70b9\u4e0a\uff0c50~100G \u653e\u5728\u7b2c\u4e8c\u4e2a\u8282\u70b9\u4e0a\uff0c\u8fd9\u5c31\u662f \u5206\u7247 Partition\u3002</p> <p>\u518d\u628a 0~50G \u7684\u6570\u636e\u548c 50~100G \u7684\u6570\u636e\u590d\u5236\u4e00\u4efd\u653e\u5728\u7b2c\u4e09\u3001\u56db\u4e2a\u8282\u70b9\u4e0a\uff0c\u8fd9\u5c31\u662f \u526f\u672c Replication\u3002</p> <ol> <li> <p>\u6709\u65f6\u5019\u4e5f\u53eb Sharding, Fragment, Segment\u00a0\u21a9</p> </li> </ol>"},{"location":"Distributed/%E6%95%B0%E6%8D%AE%E5%88%86%E7%89%87/","title":"\u6570\u636e\u5206\u7247","text":""},{"location":"ES/0-Hello/","title":"0-Hello","text":""},{"location":"ES/0-Hello/#hello-elastic","title":"Hello Elastic","text":"<p><code>ElasticSearch</code>(\u7b80\u79f0 ES) \u662f\u4e00\u4e2a<code>\u5206\u5e03\u5f0f</code>\u7684\u5f00\u6e90<code>\u641c\u7d22</code>\u5f15\u64ce\u548c<code>\u5206\u6790</code>\u5f15\u64ce\uff0c\u9002\u5408\u7528\u4e8e\u6587\u672c\u3001\u6570\u5b57\u3001\u5730\u7406\u7a7a\u95f4\u3001\u7ed3\u6784\u5316\u548c\u975e\u7ed3\u6784\u5316\u6570\u636e\u7b49\u5404\u79cd\u7c7b\u578b\u3002</p> <p>\u91c7\u7528 RESTFul API \u4f7f\u5f97\u4f7f\u7528\u4e0a\u975e\u5e38\u7b80\u5355\u65b9\u4fbf\uff0c\u5b66\u4e60\u6210\u672c\u4f4e\u5ec9\u3002</p>"},{"location":"ES/0-Hello/#_1","title":"\u6838\u5fc3\u6982\u5ff5","text":""},{"location":"ES/0-Hello/#index","title":"\u7d22\u5f15 (Index == \u8868)","text":"<p><code>\u4e00\u4e2a\u7d22\u5f15\u5c31\u662f\u4e00\u4e2a\u62e5\u6709\u51e0\u5206\u76f8\u4f3c\u7279\u5f81\u7684\u6587\u6863\u7684\u96c6\u5408</code>\u3002\u4f8b\u5982\u4e00\u4e2a\u5546\u54c1\u7d22\u5f15\uff0c\u91cc\u9762\u6240\u6709\u7684\u6587\u6863(\u6570\u636e) \u90fd\u662f\u5546\u54c1\u76f8\u5173\u7684\uff0c\u6216\u8005\u4e00\u4e2a\u8ba2\u5355\u7d22\u5f15\uff0c\u91cc\u9762\u6240\u6709\u6587\u6863(\u6570\u636e) \u90fd\u662f\u8ba2\u5355\u76f8\u5173\u7684\uff0c\u5982\u8ba2\u5355\u521b\u5efa\u65f6\u95f4\u3001\u5546\u5bb6ID\u3001\u4e70\u5bb6ID\u3001\u5546\u54c1ID\u3001\u5546\u54c1\u6570\u91cf\u7b49\u7b49\u3002</p> <p>Warn</p> <p>\u7d22\u5f15\u540d\u5fc5\u987b\u5168\u5c0f\u5199\u3002</p> <p>\u5982\u679c\u7c7b\u6bd4 MySQL\uff0cES \u7684\u7d22\u5f15\u76f8\u5f53\u4e8e\u6570\u636e\u8868\u3002</p>"},{"location":"ES/0-Hello/#mapping","title":"\u6620\u5c04 (Mapping == \u8868\u7ed3\u6784)","text":"<p><code>\u6620\u5c04\u662f\u5b9a\u4e49\u4e00\u4e2a\u6587\u6863\u548c\u5979\u6240\u5305\u542b\u7684\u5b57\u6bb5\u5982\u4f55\u88ab\u5b58\u50a8\u548c\u68c0\u7d22\u7684\u8fc7\u7a0b</code>\u3002</p> <p>\u5982\u679c\u7c7b\u6bd4 MySQL\uff0cES \u7684\u6620\u5c04\u76f8\u5f53\u4e8e\u8868\u7ed3\u6784\u3002</p> <p>\u9ed8\u8ba4\u914d\u7f6e\u4e0b\uff0cES \u53ef\u4ee5\u6839\u636e\u63d2\u5165\u7684\u6570\u636e<code>\u81ea\u52a8\u521b\u5efa Mapping</code>\uff0c\u4f46\u662f\u6709\u53ef\u80fd\u4e0d\u51c6\u786e\uff0c\u6240\u4ee5\u4e00\u822c\u6211\u4eec\u90fd\u4f1a\u624b\u52a8\u521b\u5efa Mapping\u3002</p> <p>Mapping \u4e2d\u4e3b\u8981\u5305\u62ec\u5b57\u6bb5\u540d\u3001\u5b57\u6bb5\u7c7b\u578b\u7b49\u4fe1\u606f\u3002</p>"},{"location":"ES/0-Hello/#document","title":"\u6587\u6863 (Document == \u884c\u6570\u636e)","text":"<p><code>\u6587\u6863\u662f\u7d22\u5f15\u4e2d\u5b58\u50a8\u7684\u5177\u4f53\u7684\u6570\u636e\uff0c\u4e00\u6761\u6587\u6863\u662f\u4e00\u4e2a\u53ef\u88ab\u7d22\u5f15\u7684\u6700\u5c0f\u5355\u5143</code>\u3002ES \u91c7\u7528\u7684\u662f\u8f7b\u91cf\u7ea7\u7684 JSON \u683c\u5f0f\u6765\u8868\u793a\u3002</p> <p>\u5982\u679c\u7c7b\u6bd4 MySQL\uff0cES \u7684\u6587\u6863\u76f8\u5f53\u4e8e\u884c\u6570\u636e\u3002\u4e00\u6761\u6587\u6863\u76f8\u5f53\u4e8e\u4e00\u884c\u6570\u636e\u3002</p>"},{"location":"ES/1-%E7%B4%A2%E5%BC%95%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/","title":"1-\u7d22\u5f15\u57fa\u672c\u64cd\u4f5c","text":""},{"location":"ES/1-%E7%B4%A2%E5%BC%95%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/#_1","title":"\u7d22\u5f15\u57fa\u672c\u64cd\u4f5c","text":""},{"location":"ES/1-%E7%B4%A2%E5%BC%95%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/#_2","title":"\u521b\u5efa","text":"<pre><code>PUT /&lt;INDEX_NAME&gt;\n</code></pre> ReqResp <pre><code>PUT {{host}}/product1 HTTP/1.1\n</code></pre> <pre><code>HTTP/1.1 200 OK\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 75\n\n{\n    \"acknowledged\": true,\n    \"shards_acknowledged\": true,\n    \"index\": \"product1\"\n}\n</code></pre> <p>ES \u4e2d\u7684\u7d22\u5f15\u6709\u4e00\u4e2a\u5065\u5eb7\u72b6\u6001 health\uff0c\u6709\u4e09\u4e2a\u72b6\u6001\uff1a</p> <ul> <li>green: \u5065\u5eb7</li> <li>yellow: \u7d22\u5f15\u53ef\u7528\uff0c\u4f46\u5b58\u5728\u98ce\u9669</li> <li>red: \u7d22\u5f15\u4e0d\u53ef\u7528</li> </ul> <p>Warning</p> <p>ES \u9ed8\u8ba4\u5728\u521b\u5efa\u7d22\u5f15\u65f6\u4e3a\u7d22\u5f15\u521b\u5efa\u4e00\u4e2a\u5907\u4efd\u7d22\u5f15\u548c\u4e00\u4e2a Primary \u7d22\u5f15\uff0c\u53ef\u4ee5\u901a\u8fc7\u521b\u5efa\u65f6\u914d\u7f6e</p> <pre><code>PUT /&lt;INDEX_NAME&gt;\n\n{\n    \"settings\": {\n        \"number_of_shards\": 1,      // \u6307\u5b9a\u4e3b\u5206\u7247\u7684\u6570\u91cf\n        \"number_of_replicas\": 0     // \u6307\u5b9a\u526f\u672c\u5206\u7247\u7684\u6570\u91cf\n    }\n}\n</code></pre> ReqResp <pre><code>PUT {{host}}/product2 HTTP/1.1\ncontent-type: application/json\n\n{\n    \"settings\": {\n        \"number_of_shards\": 1,\n        \"number_of_replicas\": 0\n    }\n}\n</code></pre> <pre><code>HTTP/1.1 200 OK\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 75\n\n{\n    \"acknowledged\": true,\n    \"shards_acknowledged\": true,\n    \"index\": \"product2\"\n}\n</code></pre>"},{"location":"ES/1-%E7%B4%A2%E5%BC%95%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/#_3","title":"\u67e5\u770b","text":""},{"location":"ES/1-%E7%B4%A2%E5%BC%95%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/#_4","title":"\u67e5\u770b\u6240\u6709\u7d22\u5f15","text":"<pre><code>GET /_cat/indices\n</code></pre> <p>Example</p> ReqResp <pre><code>GET {{host}}/_cat/indices HTTP/1.1\n</code></pre> <pre><code>HTTP/1.1 200 OK\ncontent-type: text/plain; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 123\n\ngreen  open product2 eJAfIwVySY2FXrlCpi2GUg 1 0 0 0 230b 230b\nyellow open product1 0bYGE7asQgaxgVqpIDMiCQ 1 1 0 0 283b 283b\n</code></pre>"},{"location":"ES/1-%E7%B4%A2%E5%BC%95%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/#_5","title":"\u67e5\u770b\u7684\u65f6\u5019\u5e26\u4e0a\u6807\u9898","text":"<pre><code>GET /_cat/indices?v\n</code></pre> <p>Example</p> ReqResp <pre><code>GET {{host}}/_cat/indices?v HTTP/1.1\n</code></pre> <pre><code>HTTP/1.1 200 OK\ncontent-type: text/plain; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 193\n\nhealth status index    uuid                   pri rep docs.count docs.deleted store.size pri.store.size\ngreen  open   product2 eJAfIwVySY2FXrlCpi2GUg   1   0          0            0       283b           283b\nyellow open   product1 0bYGE7asQgaxgVqpIDMiCQ   1   1          0            0       283b           283b\n</code></pre>"},{"location":"ES/1-%E7%B4%A2%E5%BC%95%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/#_6","title":"\u67e5\u770b\u6307\u5b9a\u7d22\u5f15","text":"<p>\u67e5\u770b\u5168\u90e8\u4fe1\u606f\uff1a </p><pre><code>GET /&lt;INDEX_NAME&gt;\n</code></pre><p></p> <p>Example</p> ReqResp <pre><code>GET {{host}}/product2 HTTP/1.1\n</code></pre> <pre><code>HTTP/1.1 200 OK\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 225\n\n{\n    \"product2\": {\n        \"aliases\": {},\n        \"mappings\": {\n            \"properties\": {\n                \"description\": {\n                    \"type\": \"text\"\n                },\n                \"title\": {\n                    \"type\": \"text\"\n                }\n            }\n        },\n        \"settings\": {\n            \"index\": {\n                \"creation_date\": \"1657988444815\",\n                \"number_of_shards\": \"1\",\n                \"number_of_replicas\": \"0\",\n                \"uuid\": \"XtoUs9lqQ8eHX8uYaGOonw\",\n                \"version\": {\n                    \"created\": \"7010199\"\n                },\n                \"provided_name\": \"product2\"\n            }\n        }\n    }\n}\n</code></pre> <p>\u67e5\u770b\u7d22\u5f15\u7684\u8bbe\u7f6e\uff1a </p><pre><code>GET /&lt;INDEX_NAME&gt;/_settings\n</code></pre><p></p> <p>Example</p> ReqResp <pre><code>GET {{host}}/product2/_settings HTTP/1.1\n</code></pre> <pre><code>HTTP/1.1 200 OK\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 180\n\n{\n    \"product2\": {\n        \"settings\": {\n            \"index\": {\n                \"creation_date\": \"1657988444815\",\n                \"number_of_shards\": \"1\",\n                \"number_of_replicas\": \"0\",\n                \"uuid\": \"XtoUs9lqQ8eHX8uYaGOonw\",\n                \"version\": {\n                    \"created\": \"7010199\"\n                },\n                \"provided_name\": \"product2\"\n            }\n        }\n    }\n}\n</code></pre> <p>\u67e5\u770bmappings\u4fe1\u606f\uff1a </p><pre><code>GET /&lt;INDEX_NAME&gt;/_mappings\n</code></pre><p></p> <p>Example</p> ReqResp <pre><code>GET {{host}}/product2/_mappings HTTP/1.1\n</code></pre> <pre><code>HTTP/1.1 200 OK\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 97\n\n{\n    \"product2\": {\n        \"mappings\": {\n            \"properties\": {\n                \"description\": {\n                    \"type\": \"text\"\n                },\n                \"title\": {\n                    \"type\": \"text\"\n                }\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"ES/1-%E7%B4%A2%E5%BC%95%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/#_7","title":"\u5220\u9664","text":"<pre><code>DELETE /&lt;INDEX_NAME&gt;\n</code></pre> <p>Example</p> ReqResp <pre><code>DELETE {{host}}/product2 HTTP/1.1\n</code></pre> <pre><code>HTTP/1.1 200 OK\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 47\n\n{\n    \"acknowledged\": true\n}\n</code></pre>"},{"location":"ES/1-%E7%B4%A2%E5%BC%95%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/#_8","title":"\u66f4\u65b0","text":"<p>ES \u4e2d\u7d22\u5f15\u53ea\u6709\u521b\u5efa\u3001\u67e5\u770b\u3001\u5220\u9664\uff0c\u6ca1\u6709\u66f4\u65b0\u64cd\u4f5c</p>"},{"location":"ES/2-%E6%98%A0%E5%B0%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/","title":"2-\u6620\u5c04\u57fa\u672c\u64cd\u4f5c","text":""},{"location":"ES/2-%E6%98%A0%E5%B0%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/#_1","title":"\u6620\u5c04\u57fa\u672c\u64cd\u4f5c","text":"<p>\u6620\u5c04\u7684\u521b\u5efa\u662f\u5305\u542b\u5728\u7d22\u5f15\u7684\u521b\u5efa\u4e2d\u7684\uff0c\u5728\u521b\u5efa\u7d22\u5f15\u7684\u65f6\u5019\u6307\u5b9a\u6620\u5c04\u7ed3\u6784\u3002</p> <p>\u5982\u679c\u521b\u5efa\u7d22\u5f15\u7684\u65f6\u5019\u4e0d\u6307\u5b9a\u6620\u5c04\uff0c\u90a3\u4e48\u8be5\u7d22\u5f15\u7684\u6620\u5c04\u5c06\u5728\u63d2\u5165\u6587\u6863\u7684\u65f6\u5019\u81ea\u52a8\u521b\u5efa\u3002</p> <p>\u4f46\u662f\u81ea\u52a8\u521b\u5efa\u7684\u6620\u5c04\u53ef\u80fd\u4e0d\u591f\u51c6\u786e\uff0c\u6240\u4ee5\u4e00\u822c\u90fd\u662f\u624b\u52a8\u6307\u5b9a\u6620\u5c04\u7684\u7ed3\u6784\u3002</p>"},{"location":"ES/2-%E6%98%A0%E5%B0%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/#_2","title":"\u521b\u5efa","text":"<pre><code>PUT /&lt;INDEX_NAME&gt;\n{\n    \"settings\": { ... },\n    \"mappings\": {\n        \"properties\": {\n            \"&lt;FIELD_NAME&gt;\": {\n                \"type\": \"&lt;FIELD_TYPE&gt;\"\uff0c\n                \"analyzer\": \"&lt;ANALYZER&gt;\",\n                \"index\": \"&lt;analyzed | not_analyzed | no&gt;\",\n                \"filter\": [],\n                \"null_value\": \"\",\n                ...\n            }\uff0c\n            ...\n        },\n        ...\n    }\n}\n</code></pre> \u5728\u521b\u5efa\u7d22\u5f15\u65f6\uff0c\u901a\u8fc7 <code>mappings</code> \u5b57\u6bb5\u6307\u5b9a\u6587\u6863\u7684\u7ed3\u6784\u3002 <p><code>mappings</code> \u4e0b\u6709\u5982\u4e0b\u5b57\u6bb5\uff1a</p> <p>Example</p> ReqResp <pre><code>PUT {{host}}/product2 HTTP/1.1\nContent-Type: application/json\n\n{\n    \"settings\": {\n        \"number_of_shards\": 1,\n        \"number_of_replicas\": 0\n    },\n    \"mappings\": {\n        \"properties\": {\n            \"title\": { \"type\": \"text\" },\n            \"description\": { \"type\": \"text\" }\n        }\n    }\n}\n</code></pre> <pre><code>HTTP/1.1 200 OK\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 75\n\n{\n    \"acknowledged\": true,\n    \"shards_acknowledged\": true,\n    \"index\": \"product2\"\n}\n</code></pre> <p>\u7c7b\u578b\uff1a</p> <ul> <li>\u5b57\u7b26\u4e32\u7c7b\u578b<ul> <li><code>keyword</code>: \u5173\u952e\u8bcd\uff0c\u77ed\u5b57\u7b26\u4e32\uff0c\u4e0d\u80fd \u901a\u8fc7\u5206\u8bcd\u5668\u5206\u8bcd\uff0c\u6574\u4e2a\u6587\u672c\u4f5c\u4e3a\u4e00\u4e2a\u5355\u4f4d\u88ab\u7d22\u5f15</li> <li><code>text</code>: \u5927\u6587\u672c\uff0c\u957f\u5b57\u7b26\u4e32\uff0c\u53ef\u4ee5 \u6307\u5b9a\u5206\u8bcd\u5668\uff0c\u5efa\u7acb\u5012\u6392\u7d22\u5f15</li> </ul> </li> <li>\u6570\u5b57\u7c7b\u578b<ul> <li>\u6574\u578b: <code>long</code>, <code>integer</code>, <code>short</code>, <code>byte</code></li> <li>\u6d6e\u70b9\u578b: <code>float</code>, <code>double</code>, <code>half_float</code>, <code>scaled_float</code></li> </ul> </li> <li>\u5e03\u5c14\u7c7b\u578b: <code>boolean</code></li> <li>\u65e5\u671f\u7c7b\u578b: <code>date</code>, <code>date_nanos</code></li> <li>\u8303\u56f4\u7c7b\u578b: <code>integer_range</code>, <code>float_range</code>, <code>long_range</code>, <code>double_range</code>, <code>date_range</code></li> <li>\u5bf9\u8c61\u7c7b\u578b: <code>object</code>, \u7b80\u5355\u7684 JSON \u5bf9\u8c61</li> <li>\u5d4c\u5957\u7c7b\u578b: <code>nested</code>\uff0c\u7b80\u5355\u7684 JSON \u6570\u7ec4</li> <li>\u5730\u7406\u7c7b\u578b<ul> <li>\u5730\u7406\u8303\u56f4\u7c7b\u578b: <code>geo_shape</code></li> <li>\u5730\u7406\u70b9\u7c7b\u578b: <code>geo_point</code></li> </ul> </li> <li>\u7279\u6b8a\u7c7b\u578b<ul> <li>IP \u7c7b\u578b: <code>ip</code>, \u652f\u6301 IPv4 \u548c IPv6</li> <li>Token: <code>token_count</code></li> </ul> </li> </ul>"},{"location":"ES/2-%E6%98%A0%E5%B0%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/#_3","title":"\u67e5\u770b","text":"<p>\u67e5\u770bmappings\u4fe1\u606f\uff1a </p><pre><code>GET /&lt;INDEX_NAME&gt;/_mappings\n</code></pre><p></p> <p>Example</p> ReqResp <pre><code>GET {{host}}/product2/_mappings HTTP/1.1\n</code></pre> <pre><code>HTTP/1.1 200 OK\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 97\n\n{\n    \"product2\": {\n        \"mappings\": {\n            \"properties\": {\n                \"description\": {\n                    \"type\": \"text\"\n                },\n                \"title\": {\n                    \"type\": \"text\"\n                }\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"ES/2-%E6%98%A0%E5%B0%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/#_4","title":"\u5220\u9664","text":""},{"location":"ES/2-%E6%98%A0%E5%B0%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/#_5","title":"\u4fee\u6539","text":""},{"location":"ES/3-%E6%96%87%E6%A1%A3%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/","title":"3-\u6587\u6863\u57fa\u672c\u64cd\u4f5c","text":""},{"location":"ES/3-%E6%96%87%E6%A1%A3%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/#_1","title":"\u6587\u6863\u57fa\u672c\u64cd\u4f5c","text":""},{"location":"ES/3-%E6%96%87%E6%A1%A3%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/#_doc_create","title":"\u521b\u5efa _doc\u3001_create","text":"<p>\u521b\u5efa\u7684\u5173\u952e\u5b57\u4e3a <code>_create</code> \u6216 <code>_doc</code>\u3002</p> <p>\u521b\u5efa\u7684\u65f6\u5019\uff0c\u6307\u5b9a\u7d22\u5f15\u540d\uff0c\u540e\u9762\u5e26\u4e0a <code>_doc</code>\uff0c \u7136\u540e\u5728\u8bf7\u6c42\u4f53\u4e2d\u5199\u5165\u5bf9\u5e94\u7684\u5b57\u6bb5\u548c\u503c\u5373\u53ef\u3002</p> <p>ES \u4f1a\u81ea\u52a8\u751f\u6210\u5bf9\u5e94\u7684\u6587\u6863 ID\uff0c\u6587\u6863 ID \u4e3a <code>_id</code> \u5b57\u6bb5\u3002</p> <pre><code>POST /&lt;INDEX_NAME&gt;/_doc\n{\n    \"&lt;FIELD_NAME&gt;\": \"&lt;VALUE&gt;\",\n    \"&lt;FIELD_NAME&gt;\": \"&lt;VALUE&gt;\",\n    ...\n}\n</code></pre> Example ReqResp <pre><code>POST {{host}}/product/_doc/ HTTP/1.1\nContent-Type: application/json\n\n{\n    \"title\": \"IPhone 12\",\n    \"price\": 8999.99,\n    \"description\": \"balabala\",\n    \"create_at\": \"2022-07-17\"\n}\n</code></pre> <pre><code>HTTP/1.1 201 Created\nLocation: /product/_doc/gbxXC4IBc5NJpEpg9EmE\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 163\n\n{\n    \"_index\": \"product\",\n    \"_type\": \"_doc\",\n    \"_id\": \"gbxXC4IBc5NJpEpg9EmE\",  // \u81ea\u52a8\u751f\u6210\u7684 ID\n    \"_version\": 1,\n    \"result\": \"created\",    // \u8868\u793a\u521b\u5efa\u6210\u529f\uff0c\u5982\u679c\u5df2\u6709\u8bb0\u5f55\uff0c\u5219\u662f updated \u66f4\u65b0\u6210\u529f\n    \"_shards\": {\n        \"total\": 1,\n        \"successful\": 1,\n        \"failed\": 0\n    },\n    \"_seq_no\": 3,\n    \"_primary_term\": 1\n}\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u521b\u5efa\u7684\u65f6\u5019\u6307\u5b9a <code>_id</code>\uff1a </p><pre><code>POST /&lt;INDEX_NAME&gt;/_doc/&lt;_id&gt;\n{\n    \"&lt;FIELD_NAME&gt;\": \"&lt;VALUE&gt;\",\n    \"&lt;FIELD_NAME&gt;\": \"&lt;VALUE&gt;\",\n    ...\n}\n</code></pre><p></p> Example ReqResp <pre><code>POST {{host}}/product/_doc/1 HTTP/1.1\nContent-Type: application/json\n\n{\n    \"title\": \"IPhone 11\",\n    \"price\": 7999.99,\n    \"description\": \"balabala11\",\n    \"create_at\": \"2022-07-19\"\n}\n</code></pre> <pre><code>HTTP/1.1 201 Created\nLocation: /product/_doc/1\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 140\n\n{\n    \"_index\": \"product\",\n    \"_type\": \"_doc\",\n    \"_id\": \"1\",\n    \"_version\": 1,\n    \"result\": \"created\",\n    \"_shards\": {\n        \"total\": 1,\n        \"successful\": 1,\n        \"failed\": 0\n    },\n    \"_seq_no\": 4,\n    \"_primary_term\": 1\n}\n</code></pre>"},{"location":"ES/3-%E6%96%87%E6%A1%A3%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/#_doc_update","title":"\u66f4\u65b0 _doc\u3001_update","text":"<p>\u66f4\u65b0\u6709\u4e24\u79cd\u65b9\u5f0f\uff0c\u4e00\u79cd\u662f\u300c\u5168\u91cf\u66f4\u65b0\u300d\uff0c\u4e5f\u53eb\u300c\u8986\u76d6\u66f4\u65b0\u300d\uff1b\u4e00\u79cd\u662f\u300c\u589e\u91cf\u66f4\u65b0\u300d\uff0c\u53ea\u66f4\u65b0\u6307\u5b9a\u7684\u5b57\u6bb5\u3002</p> <p>\u66f4\u65b0\u6709\u4e24\u4e2a\u5173\u952e\u5b57\uff1a<code>_update</code> \u548c <code>_doc</code>\u3002</p> <p>\u5168\u91cf\u66f4\u65b0\u4f7f\u7528 <code>_doc</code>\uff0c\u589e\u91cf\u66f4\u65b0\u4f7f\u7528 <code>_update</code>\u3002</p> <p>\u4e0b\u9762\u8fd9\u79cd\u65b9\u5f0f\u662f\u5168\u91cf\u66f4\u65b0\uff0c\u662f\u5148\u5220\u9664\u539f\u59cb\u6587\u6863\uff0c\u518d\u5c06\u65b0\u7684\u6570\u636e\u63d2\u5165\u3002 </p><pre><code>PUT /&lt;INDEX_NAME&gt;/_doc/&lt;_id&gt;\n\n{\n    \"&lt;FIELD_NAME&gt;\": \"&lt;VALUE&gt;\",\n    ...\n}\n</code></pre><p></p> \u5168\u91cf\u66f4\u65b0 <p>\u6211\u4eec\u5148\u63d2\u5165\u4e00\u6761\u6570\u636e\uff1a</p> ReqResp <pre><code>POST {{host}}/product/_doc/1 HTTP/1.1\nContent-Type: application/json\n\n{\n    \"title\": \"IPhone 11\",\n    \"price\": 7999.99,\n    \"description\": \"balabala11\",\n    \"create_at\": \"2022-07-19\"\n}\n</code></pre> <pre><code>HTTP/1.1 201 Created\nLocation: /product/_doc/1\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 139\n\n{\n    \"_index\": \"product\",\n    \"_type\": \"_doc\",\n    \"_id\": \"1\",\n    \"_version\": 1,\n    \"result\": \"created\",\n    \"_shards\": {\n        \"total\": 1,\n        \"successful\": 1,\n        \"failed\": 0\n    },\n    \"_seq_no\": 8,\n    \"_primary_term\": 1\n}\n</code></pre> <p>\u6211\u4eec\u67e5\u770b\u4e00\u4e0b\uff1a </p><pre><code>...\n{\n    ...\n    \"_source\": {\n        \"title\": \"IPhone 11\",\n        \"price\": 7999.99,\n        \"description\": \"balabala11\",\n        \"create_at\": \"2022-07-19\"\n    }\n}\n</code></pre><p></p> <p>\u7136\u540e\u8fdb\u884c\u4fee\u6539\uff1a</p> ReqResp <pre><code>PUT {{host}}/product/_doc/1 HTTP/1.1\nContent-Type: application/json\n\n{\n    \"title\": \"IPhone 20\"\n}\n</code></pre> <pre><code>HTTP/1.1 200 OK\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 141\n\n{\n    \"_index\": \"product\",\n    \"_type\": \"_doc\",\n    \"_id\": \"1\",\n    \"_version\": 2,\n    \"result\": \"updated\",\n    \"_shards\": {\n        \"total\": 1,\n        \"successful\": 1,\n        \"failed\": 0\n    },\n    \"_seq_no\": 11,\n    \"_primary_term\": 1\n}\n</code></pre> <p>\u7136\u540e\u518d\u6b21\u67e5\u770b\uff1a </p><pre><code>...\n{\n    ...\n    \"_source\": {\n        \"title\": \"IPhone 20\"\n    }\n}\n</code></pre><p></p> <p>\u53ef\u4ee5\u770b\u5230\u5176\u4ed6\u5b57\u6bb5\u90fd\u6ca1\u4e86\u3002\u8fd9\u79cd\u5c31\u662f\u8986\u76d6\u7684\u65b9\u5f0f\u8fdb\u884c\u66f4\u65b0\u3002</p> <p>\u4e0b\u9762\u8fd9\u79cd\u65b9\u5f0f\u662f\u589e\u91cf\u66f4\u65b0\uff1a</p> <pre><code>POST /&lt;INDEX_NAME&gt;/_update/&lt;_id&gt;\n\n{\n    \"doc\": {\n        \"&lt;FIELD_NAME&gt;\": \"&lt;VALUE&gt;\",\n        ...\n    }\n}\n</code></pre> \u589e\u91cf\u66f4\u65b0 <p>\u6211\u4eec\u5148\u63d2\u5165\u4e00\u6761\u6570\u636e\uff1a</p> ReqResp <pre><code>POST {{host}}/product/_doc/2 HTTP/1.1\nContent-Type: application/json\n\n{\n    \"title\": \"IPhone 11\",\n    \"price\": 7999.99,\n    \"description\": \"balabala11\",\n    \"create_at\": \"2022-07-19\"\n}\n</code></pre> <pre><code>HTTP/1.1 201 Created\nLocation: /product/_doc/2\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 142\n\n{\n    \"_index\": \"product\",\n    \"_type\": \"_doc\",\n    \"_id\": \"2\",\n    \"_version\": 1,\n    \"result\": \"created\",\n    \"_shards\": {\n        \"total\": 1,\n        \"successful\": 1,\n        \"failed\": 0\n    },\n    \"_seq_no\": 18,\n    \"_primary_term\": 1\n}\n</code></pre> <p>\u6211\u4eec\u67e5\u770b\u4e00\u4e0b\uff1a </p><pre><code>...\n{\n    ...\n    \"_source\": {\n        \"title\": \"IPhone 11\",\n        \"price\": 7999.99,\n        \"description\": \"balabala11\",\n        \"create_at\": \"2022-07-19\"\n    }\n}\n</code></pre><p></p> <p>\u7136\u540e\u8fdb\u884c\u4fee\u6539\uff1a</p> ReqResp <pre><code>POST {{host}}/product/_update/2 HTTP/1.1\nContent-Type: application/json\n\n{\n    \"doc\": {\n        \"title\": \"IPhone 20\"\n    }\n}\n</code></pre> <pre><code>HTTP/1.1 200 OK\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 123\n\n{\n    \"_index\": \"product\",\n    \"_type\": \"_doc\",\n    \"_id\": \"2\",\n    \"_version\": 10,\n    \"result\": \"noop\",\n    \"_shards\": {\n        \"total\": 0,\n        \"successful\": 0,\n        \"failed\": 0\n    }\n}\n</code></pre> <p>\u7136\u540e\u518d\u6b21\u67e5\u770b\uff1a </p><pre><code>...\n{\n    ...\n    \"_source\": {\n        \"title\": \"IPhone 20\",\n        \"price\": 7999.99,\n        \"description\": \"balabala11\",\n        \"create_at\": \"2022-07-19\"\n    }\n}\n</code></pre><p></p> <p>\u53ef\u4ee5\u770b\u5230\u5176\u4ed6\u5b57\u6bb5\u90fd\u5728\uff0c\u8fd9\u79cd\u5c31\u662f\u589e\u91cf\u7684\u65b9\u5f0f\u8fdb\u884c\u66f4\u65b0\u3002</p>"},{"location":"ES/3-%E6%96%87%E6%A1%A3%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/#_2","title":"\u5220\u9664","text":"<pre><code>DELETE /&lt;INDEX_NAME&gt;/_doc/&lt;_id&gt;\n</code></pre> Example ReqResp <pre><code>DELETE {{host}}/product/_doc/1 HTTP/1.1\n</code></pre> <pre><code>HTTP/1.1 200 OK\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 141\n\n{\n    \"_index\": \"product\",\n    \"_type\": \"_doc\",\n    \"_id\": \"1\",\n    \"_version\": 2,\n    \"result\": \"deleted\",\n    \"_shards\": {\n        \"total\": 1,\n        \"successful\": 1,\n        \"failed\": 0\n    },\n    \"_seq_no\": 7,\n    \"_primary_term\": 1\n}\n</code></pre>"},{"location":"ES/3-%E6%96%87%E6%A1%A3%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/#_3","title":"\u67e5\u770b","text":"<p>\u57fa\u4e8e ID \u67e5\u8be2 </p><pre><code>GET /&lt;INDEX_NAME&gt;/_doc/&lt;_id&gt;\n</code></pre><p></p> example1 ReqResp <pre><code>GET {{host}}/product/_doc/1 HTTP/1.1\n</code></pre> <pre><code>HTTP/1.1 200 OK\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 192\n\n{\n    \"_index\": \"product\",\n    \"_type\": \"_doc\",\n    \"_id\": \"1\",\n    \"_version\": 1,\n    \"_seq_no\": 4,\n    \"_primary_term\": 1,\n    \"found\": true,\n    \"_source\": {\n        \"title\": \"IPhone 11\",\n        \"price\": 7999.99,\n        \"description\": \"balabala11\",\n        \"create_at\": \"2022-07-19\"\n    }\n}\n</code></pre> example2 ReqResp <pre><code>GET {{host}}/product/_doc/gbxXC4IBc5NJpEpg9EmE HTTP/1.1\n</code></pre> <pre><code>HTTP/1.1 200 OK\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 208\n\n{\n    \"_index\": \"product\",\n    \"_type\": \"_doc\",\n    \"_id\": \"gbxXC4IBc5NJpEpg9EmE\",\n    \"_version\": 1,\n    \"_seq_no\": 3,\n    \"_primary_term\": 1,\n    \"found\": true,\n    \"_source\": {\n        \"title\": \"IPhone 12\",\n        \"price\": 8999.99,\n        \"description\": \"balabala\",\n        \"create_at\": \"2022-07-17\"\n    }\n}\n</code></pre>"},{"location":"ES/3-%E6%96%87%E6%A1%A3%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/#_bulk","title":"\u6279\u91cf\u64cd\u4f5c _bulk","text":"<p>\u6279\u91cf\u64cd\u4f5c\u7684\u5173\u952e\u5b57\u4e3a <code>_bulk</code>\u3002</p> <pre><code>POST /_bulk\n</code></pre> <p>\u6279\u91cf\u6709\u66f4\u65b0\u3001\u521b\u5efa\u3001\u5220\u9664\u7684\u64cd\u4f5c\u3002\u901a\u8fc7\u591a\u4e2a JSON \u6765\u8868\u793a\u3002\u8981\u6ce8\u610f\u7684\u662f JSON \u5185\u90e8\u4e0d\u53ef\u4ee5\u6362\u884c\uff0cJSON\u4e4b\u95f4\u5fc5\u987b\u6362\u884c\u3002</p> <ul> <li> <p>\u521b\u5efa\uff1a     </p><pre><code>POST /&lt;INDEX_NAME&gt;/_bulk\n{ \"index\": { \"_index\": &lt;_index&gt;, \"_id\": &lt;_id&gt; } }\n{ \"&lt;FIELD&gt;\": \"&lt;VALUE&gt;\", ...}\n</code></pre> <pre><code>POST /&lt;INDEX_NAME&gt;/_bulk\n{ \"create\": { \"_index\": &lt;_index&gt;, \"_id\": &lt;_id&gt; } }\n{ \"&lt;FIELD&gt;\": \"&lt;VALUE&gt;\", ...}\n</code></pre><p></p> </li> <li> <p>\u66f4\u65b0\uff1a     </p><pre><code>POST /&lt;INDEX_NAME&gt;/_bulk\n{ \"update\": { \"_id\": &lt;_id&gt;, \"_index\": &lt;_index&gt; } }\n{ \"doc\": { \"&lt;FIELD&gt;\": \"&lt;VALUE&gt;\", ... } }\n</code></pre><p></p> </li> <li> <p>\u5220\u9664\uff1a     </p><pre><code>POST /&lt;INDEX_NAME&gt;/_bulk\n{ \"delete\": { \"_id\": &lt;_id&gt;, \"_index\": &lt;_index&gt; } }\n</code></pre><p></p> </li> <li> <p>\u53ef\u4ee5\u6df7\u5728\u540c\u4e00\u4e2a\u8bf7\u6c42\u4e2d\uff1a     </p><pre><code>POST /&lt;INDEX_NAME&gt;/_bulk\n{ \"create\": { \"_index\": &lt;_index&gt;, \"_id\": &lt;_id&gt; } }\n  { \"&lt;FIELD&gt;\": \"&lt;VALUE&gt;\", ...}\n{ \"index\": { \"_index\": &lt;_index&gt;, \"_id\": &lt;_id&gt; } }\n  { \"&lt;FIELD&gt;\": \"&lt;VALUE&gt;\", ...}\n{ \"update\": { \"_id\": &lt;_id&gt;, \"_index\": &lt;_index&gt; } }\n  { \"doc\": { \"&lt;FIELD&gt;\": \"&lt;VALUE&gt;\", ... } }\n{ \"delete\": { \"_id\": &lt;_id&gt;, \"_index\": &lt;_index&gt; } }\n</code></pre><p></p> </li> </ul> Example ReqResp <p></p><pre><code>POST {{host}}/product/_bulk HTTP/1.1\nContent-Type: application/json\n\n&lt; req.json\n</code></pre> <pre><code>{ \"index\": { \"_id\": 1 } }\n{ \"title\": \"Andriod1\", \"price\": 1999.00, \"description\": \"Androd yyds\", \"create_at\": \"2022-06-06\"}\n{ \"create\": { \"_id\": 2 } }\n{ \"title\": \"Iphone1\", \"price\": 4999.00, \"description\": \"Iphone yyds\", \"create_at\": \"2022-06-06\"}\n</code></pre><p></p> <pre><code>HTTP/1.1 200 OK\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 189\n\n{\n\"took\": 11,\n\"errors\": false,\n\"items\": [\n    {\n        \"index\": {\n            \"_index\": \"product\",\n            \"_type\": \"_doc\",\n            \"_id\": \"1\",\n            \"_version\": 1,\n            \"result\": \"created\",\n            \"_shards\": {\n                \"total\": 1,\n                \"successful\": 1,\n                \"failed\": 0\n            },\n            \"_seq_no\": 1,\n            \"_primary_term\": 1,\n            \"status\": 201\n        }\n    },\n    {\n        \"create\": {\n            \"_index\": \"product\",\n            \"_type\": \"_doc\",\n            \"_id\": \"2\",\n            \"_version\": 1,\n            \"result\": \"created\",\n            \"_shards\": {\n                \"total\": 1,\n                \"successful\": 1,\n                \"failed\": 0\n            },\n            \"_seq_no\": 2,\n            \"_primary_term\": 1,\n            \"status\": 201\n        }\n    }\n]\n}\n</code></pre> <p>Warning</p> <p>\u6279\u91cf\u64cd\u4f5c\u4e0d\u4f1a\u56e0\u4e3a\u4e00\u4e2a\u5931\u8d25\u800c\u5168\u90e8\u5931\u8d25\uff0c\u800c\u662f\u7ee7\u7eed\u6267\u884c\u540e\u7eed\u64cd\u4f5c\uff0c\u6700\u540e\u8fd4\u56de\u6240\u6709\u5904\u7406\u7ed3\u679c\u3002</p>"},{"location":"ES/4-Query-DSL/","title":"4-Query-DSL","text":""},{"location":"ES/4-Query-DSL/#query-dsl","title":"Query DSL","text":"<p>Query DSL (Query Domain Specified Language \u7279\u6b8a\u9886\u57df\u67e5\u8be2\u8bed\u8a00)\uff0c\u5229\u7528 REST API \u4f20\u9012 JSON \u683c\u5f0f\u7684\u8bf7\u6c42\u6570\u636e\u4e0e ES \u8fdb\u884c\u4ea4\u4e92\u67e5\u8be2\u3002\u8fd9\u79cd\u65b9\u5f0f\u7684\u4e30\u5bcc\u67e5\u8be2\u65b9\u6cd5\u8ba9 ES \u68c0\u7d22\u66f4\u5f3a\u5927\u3001\u7b80\u6d01\u3002</p>"},{"location":"ES/4-Query-DSL/#syntax","title":"Syntax","text":"<pre><code>GET /&lt;INDEX_NAME&gt;/_doc/_search\n{\n    &lt;DSL&gt;\n}\n\n\nGET /&lt;INDEX_NAME&gt;/_search\n{\n    &lt;DSL&gt;\n}\n</code></pre> <p>Example</p> ReqResp <pre><code>GET {{host}}/product/_search HTTP/1.1\nContent-Type: application/json\n\n{\n    \"query\": {\n        \"match_all\": {}\n    }\n}\n</code></pre> <pre><code>HTTP/1.1 200 OK\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 313\n\n{\n    \"took\": 1,\n    \"timed_out\": false,\n    \"_shards\": {\n        \"total\": 1,\n        \"successful\": 1,\n        \"skipped\": 0,\n        \"failed\": 0\n    },\n    \"hits\": {\n        \"total\": {\n            \"value\": 3,\n            \"relation\": \"eq\"\n        },\n        \"max_score\": 1.0,\n        \"hits\": [\n            {\n                \"_index\": \"product\",\n                \"_type\": \"_doc\",\n                \"_id\": \"3\",\n                \"_score\": 1.0,\n                \"_source\": {\n                    \"title\": \"IPhone 11\",\n                    \"price\": 7999.99,\n                    \"description\": \"balabala11\",\n                    \"create_at\": \"2022-07-19\"\n                }\n            },\n            {\n                \"_index\": \"product\",\n                \"_type\": \"_doc\",\n                \"_id\": \"1\",\n                \"_score\": 1.0,\n                \"_source\": {\n                    \"title\": \"Andriod1\",\n                    \"price\": 1999.00,\n                    \"description\": \"Androd yyds\",\n                    \"create_at\": \"2022-06-06\"\n                }\n            },\n            {\n                \"_index\": \"product\",\n                \"_type\": \"_doc\",\n                \"_id\": \"2\",\n                \"_score\": 1.0,\n                \"_source\": {\n                    \"title\": \"Iphone1\",\n                    \"price\": 4999.00,\n                    \"description\": \"Iphone yyds\",\n                    \"create_at\": \"2022-06-06\"\n                }\n            }\n        ]\n    }\n}\n</code></pre>"},{"location":"ES/4-Query-DSL/#_1","title":"\u5e38\u89c1\u68c0\u7d22","text":""},{"location":"ES/4-Query-DSL/#_2","title":"\u57fa\u672c\u67e5\u8be2","text":""},{"location":"ES/4-Query-DSL/#match_all","title":"\u67e5\u8be2\u6240\u6709 match_all","text":"<p>Note</p> <p>\u8fd4\u56de\u7d22\u5f15\u4e2d\u5168\u90e8\u6587\u6863</p> <pre><code>GET /&lt;INDEX_NAME&gt;/_search\n{\n    \"query\": {\n        \"match_all:\" {}\n    }\n}\n</code></pre>"},{"location":"ES/4-Query-DSL/#term","title":"\u5173\u952e\u8bcd\u67e5\u8be2 term","text":"<p>Note</p> <p>\u4f7f\u7528\u5173\u952e\u8bcd\u67e5\u8be2</p> <pre><code>GET /&lt;INDEX_NAME&gt;/_search\n{\n    \"query\": {\n        \"term:\" {\n            \"&lt;FIELD&gt;\": {\n                \"value\": &lt;VALUE&gt;\n            }\n        }\n    }\n}\n</code></pre> <p>keyword\u3001integer\u3001double\u3001date \u8fd9\u4e9b\u90fd\u662f\u4e0d\u5206\u8bcd\u7684\u3002</p> <p>text \u7c7b\u578b\u9ed8\u8ba4\u4f7f\u7528 ES \u6807\u51c6\u5206\u8bcd\u5668\u3002\u6807\u51c6\u5206\u8bcd\u5668\u5bf9\u4e2d\u6587\u662f\u5355\u5b57\u5206\u8bcd\uff0c\u5bf9\u82f1\u6587\u662f\u5355\u8bcd\u5206\u8bcd\u3002</p> Example ReqResp <pre><code>GET {{host}}/product/_search HTTP/1.1\nContent-Type: application/json\n\n{\n    \"query\": {\n        \"term\": {\n            \"price\": {\n                \"value\": 4999.00\n            }\n        }\n    }\n}\n</code></pre> <pre><code>HTTP/1.1 200 OK\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 240\n\n{\n    \"took\": 2,\n    \"timed_out\": false,\n    \"_shards\": {\n        \"total\": 1,\n        \"successful\": 1,\n        \"skipped\": 0,\n        \"failed\": 0\n    },\n    \"hits\": {\n        \"total\": {\n        \"value\": 1,\n        \"relation\": \"eq\"\n        },\n        \"max_score\": 1.0,\n        \"hits\": [\n            {\n                \"_index\": \"product\",\n                \"_type\": \"_doc\",\n                \"_id\": \"2\",\n                \"_score\": 1.0,\n                \"_source\": {\n                    \"title\": \"Iphone1\",\n                    \"price\": 4999.00,\n                    \"description\": \"Iphone yyds\",\n                    \"create_at\": \"2022-06-06\"\n                }\n            }\n        ]\n    }\n}\n</code></pre>"},{"location":"ES/4-Query-DSL/#range","title":"\u8303\u56f4 range","text":"<p>Note</p> <p>\u7528\u4e8e\u6307\u5b9a\u67e5\u8be2\u8303\u56f4\u5185\u7684\u6587\u6863</p> <pre><code>GET /&lt;INDEX_NAME&gt;/_search\n{\n    \"query\": {\n        \"range:\" {\n            \"&lt;FIELD&gt;\": {\n                \"&lt;OPERATOR&gt;\": &lt;VALUE&gt;\n                \"relation\": \"&lt;INTERSECTS | CONTAINS | WITHIN&gt;\"\n                \"boost\": 1.0\n            }\n        }\n    }\n}\n</code></pre> <p>Operator \u64cd\u4f5c\u7b26\u5305\u62ec\uff1a</p> <ul> <li>gt: \u5927\u4e8e</li> <li>gte: \u5927\u4e8e\u7b49\u4e8e</li> <li>lt: \u5c0f\u4e8e</li> <li>lte: \u5c0f\u4e8e\u7b49\u4e8e</li> <li>format: VALUE\u4e3a\u5b57\u7b26\u4e32\uff0c\u5339\u914d data \u7528</li> <li>time_zone: \u6307\u5b9a\u65f6\u533a\u7684\u504f\u79fb\u91cf</li> </ul> <p>relation \u7528\u4e8e\u6307\u5b9a\u67e5\u8be2\u7b56\u7565\uff1a</p> <ul> <li>INTERSECTS(\u9ed8\u8ba4)\uff1a\u5c06\u6587\u6863\u4e0e\u67e5\u8be2\u7684\u8303\u56f4\u505a\u4ea4\u96c6\u8fd0\u7b97\u7136\u540e\u5339\u914d</li> <li>CONTAINS\uff1a\u5b8c\u5168\u5305\u542b\u67e5\u8be2\u8303\u56f4\u624d\u7b97\u547d\u4e2d</li> <li>WITHIN\uff1a\u5728\u67e5\u8be2\u8303\u56f4\u5185\u624d\u7b97\u547d\u4e2d</li> </ul> <p>boost \u6743\u91cd\uff1a\u7528\u4e8e\u63d0\u5347\u5728\u591a\u8303\u56f4\u67e5\u8be2\u65f6\uff0c\u5f53\u524d\u8303\u56f4\u7684\u6743\u91cd\uff0c\u9ed8\u8ba41.0</p> Example ReqResp <pre><code>GET {{host}}/product/_search HTTP/1.1\nContent-Type: application/json\n\n{\n    \"query\": {\n        \"range\": {\n            \"price\": {\n                \"gt\": 1000,\n                \"lt\": 5000,\n            }\n        }\n    }\n}\n</code></pre> <pre><code>HTTP/1.1 200 OK\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 266\n\n{\n    \"took\": 11,\n    \"timed_out\": false,\n    \"_shards\": {\n        \"total\": 1,\n        \"successful\": 1,\n        \"skipped\": 0,\n        \"failed\": 0\n    },\n    \"hits\": {\n        \"total\": {\n            \"value\": 2,\n            \"relation\": \"eq\"\n        },\n        \"max_score\": 1.0,\n        \"hits\": [\n            {\n                \"_index\": \"product\",\n                \"_type\": \"_doc\",\n                \"_id\": \"1\",\n                \"_score\": 1.0,\n                \"_source\": {\n                    \"title\": \"Andriod1\",\n                    \"price\": 1999.00,\n                    \"description\": \"Androd yyds\",\n                    \"create_at\": \"2022-06-06\"\n                }\n            },\n            {\n                \"_index\": \"product\",\n                \"_type\": \"_doc\",\n                \"_id\": \"2\",\n                \"_score\": 1.0,\n                \"_source\": {\n                    \"title\": \"Iphone1\",\n                    \"price\": 4999.00,\n                    \"description\": \"Iphone yyds\",\n                    \"create_at\": \"2022-06-06\"\n                }\n            }\n        ]\n    }\n}\n</code></pre>"},{"location":"ES/4-Query-DSL/#prefix","title":"\u524d\u7f00 prefix","text":"<p>Note</p> <p>\u4f7f\u7528\u524d\u7f00\u8fdb\u884c\u5339\u914d\u67e5\u8be2</p> <pre><code>GET /&lt;INDEX_NAME&gt;/_search\n\n{\n    \"query\": {\n        \"prefix\": {\n            \"&lt;FIELD&gt;: {\n                \"value\": &lt;VALUE&gt;\n            }\n        }\n    }\n}\n</code></pre> <pre><code>GET {{host}}/product/_search HTTP/1.1\nContent-Type: application/json\n\n{\n    \"query\": {\n        \"prefix\": {\n            \"title\": {\n                \"value\": \"Ip\"\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"ES/4-Query-DSL/#wildcard","title":"\u901a\u914d\u7b26 wildcard","text":"<p>Note</p> <p>\u901a\u914d\u7b26\u67e5\u8be2\uff0c<code>\uff1f</code> \u5339\u914d\u4e00\u4e2a\u4efb\u610f\u5b57\u7b26\uff0c<code>*</code> \u5339\u914d\u591a\u4e2a\u4efb\u610f\u5b57\u7b26</p> <pre><code>GET /&lt;INDEX_NAME&gt;/_search\n\n{\n    \"query\": {\n        \"wildcard\": {\n            \"&lt;FIELD&gt;: {\n                \"value\": &lt;VALUE&gt;\n            }\n        }\n    }\n}\n</code></pre> <pre><code>GET {{host}}/product/_search HTTP/1.1\nContent-Type: application/json\n\n{\n    \"query\": {\n        \"wildcard\": {\n            \"title\": {\n                \"value\": \"Ip*\"\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"ES/4-Query-DSL/#id-ids","title":"\u591aID\u67e5\u8be2 ids","text":"<pre><code>GET /&lt;INDEX_NAME&gt;/_search\n{\n    \"query\": {\n        \"ids\": {\n            \"values\": [\"&lt;ID&gt;\", &lt;ID&gt;, ...]\n        }\n    }\n}\n</code></pre> Example ReqResp <pre><code>GET {{host}}/product/_search HTTP/1.1\nContent-Type: application/json\n\n{\n    \"query\": {\n        \"ids\": {\n            \"values\": [\"1\", \"2\", \"3\"]\n        }\n    }\n}\n</code></pre> <pre><code>HTTP/1.1 200 OK\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 290\n\n{\n    \"took\": 27,\n    \"timed_out\": false,\n    \"_shards\": {\n        \"total\": 1,\n        \"successful\": 1,\n        \"skipped\": 0,\n        \"failed\": 0\n    },\n    \"hits\": {\n        \"total\": {\n            \"value\": 3,\n            \"relation\": \"eq\"\n        },\n        \"max_score\": 1.0,\n        \"hits\": [\n            {\n                \"_index\": \"product\",\n                \"_type\": \"_doc\",\n                \"_id\": \"1\",\n                \"_score\": 1.0,\n                \"_source\": {\n                    \"title\": \"Andriod1\",\n                    \"price\": 1999.00,\n                    \"description\": \"Andriod1 yyds\",\n                    \"create_at\": \"2022-06-06\"\n                }\n            },\n            {\n                \"_index\": \"product\",\n                \"_type\": \"_doc\",\n                \"_id\": \"2\",\n                \"_score\": 1.0,\n                \"_source\": {\n                    \"title\": \"Iphone1\",\n                    \"price\": 4999.00,\n                    \"description\": \"Iphone1 yyds\",\n                    \"create_at\": \"2022-06-07\"\n                }\n            },\n            {\n                \"_index\": \"product\",\n                \"_type\": \"_doc\",\n                \"_id\": \"3\",\n                \"_score\": 1.0,\n                \"_source\": {\n                    \"title\": \"Andriod2\",\n                    \"price\": 2999.00,\n                    \"description\": \"Andriod2 yyds\",\n                    \"create_at\": \"2022-06-08\"\n                }\n            }\n        ]\n    }\n}\n</code></pre>"},{"location":"ES/4-Query-DSL/#fuzzy","title":"\u6a21\u7cca\u67e5\u8be2 fuzzy","text":"<p>Note</p> <p>\u7528\u6765\u6a21\u7cca\u67e5\u8be2\u5305\u542b\u6709\u5173\u952e\u8bcd\u7684\u6587\u6863</p> <pre><code>GET /&lt;INDEX_NAME&gt;/_search\n{\n    \"query\": {\n        \"fuzzy\": {\n            \"&lt;FIELD&gt;\": \"&lt;VALUE&gt;\"\n        }\n    }\n}\n</code></pre> <p>Warning</p> <p>fuzzy \u6a21\u7cca\u67e5\u8be2\uff0c\u6700\u5927\u6a21\u7cca\u9519\u8bef\u5fc5\u987b\u5728 0-2 \u4e4b\u95f4</p> <ul> <li>\u641c\u7d22\u5173\u952e\u8bcd\u957f\u5ea6\u4e3a 2 \u4e0d\u5141\u8bb8\u5b58\u5728\u6a21\u7cca\u9519\u8bef</li> <li>\u641c\u7d22\u5173\u952e\u8bcd\u957f\u5ea6\u4e3a 3-5 \u5141\u8bb8\u4e00\u6b21\u6a21\u7cca\u9519\u8bef</li> <li>\u641c\u7d22\u5173\u952e\u8bcd\u957f\u5ea6\u5927\u4e8e 5 \u5141\u8bb8\u6700\u59272\u6b21\u6a21\u7cca\u9519\u8bef</li> </ul> \u5173\u952e\u8bcd\u957f\u5ea6\u4e3a6(&gt; 5)\u5141\u8bb8\u6700\u59272\u6b21\u6a21\u7cca\u9519\u8bef ReqResp <pre><code>GET {{host}}/product/_search HTTP/1.1\nContent-Type: application/json\n\n{\n    \"query\": {\n        \"fuzzy\": {\n            \"description\": \"Iphonew\"    // \u9519\u8bef\u4e86\u4e00\u4e2a\u5b57\u7b26 w\n        }\n    }\n}\n</code></pre> <pre><code>HTTP/1.1 200 OK\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 302\n\n{\n    \"took\": 14,\n    \"timed_out\": false,\n    \"_shards\": {\n        \"total\": 1,\n        \"successful\": 1,\n        \"skipped\": 0,\n        \"failed\": 0\n    },\n    \"hits\": {\n        \"total\": {\n            \"value\": 3,\n            \"relation\": \"eq\"\n        },\n        \"max_score\": 0.9241961,\n        \"hits\": [\n            {\n                \"_index\": \"product\",\n                \"_type\": \"_doc\",\n                \"_id\": \"2\",\n                \"_score\": 0.9241961,\n                \"_source\": {\n                    \"id\": 2,\n                    \"title\": \"Iphone1\",\n                    \"price\": 4999.00,\n                    \"description\": \"Iphone1 yyds\",\n                    \"create_at\": \"2022-06-07\"\n                }\n            },\n            {\n                \"_index\": \"product\",\n                \"_type\": \"_doc\",\n                \"_id\": \"4\",\n                \"_score\": 0.9241961,\n                \"_source\": {\n                    \"id\": 4,\n                    \"title\": \"Iphone2\",\n                    \"price\": 3999.00,\n                    \"description\": \"Iphone2 yyds\",\n                    \"create_at\": \"2022-06-09\"\n                }\n            },\n            {\n                \"_index\": \"product\",\n                \"_type\": \"_doc\",\n                \"_id\": \"5\",\n                \"_score\": 0.9241961,\n                \"_source\": {\n                    \"id\": 5,\n                    \"title\": \"Iphone3\",\n                    \"price\": 6978.00,\n                    \"description\": \"Iphone3 yyds\",\n                    \"create_at\": \"2022-06-10\"\n                }\n            }\n        ]\n    }\n}\n</code></pre>"},{"location":"ES/4-Query-DSL/#_3","title":"\u590d\u6742\u67e5\u8be2","text":""},{"location":"ES/4-Query-DSL/#bool","title":"\u5e03\u5c14\u67e5\u8be2 bool","text":"<p>Note</p> <p><code>bool</code> \u5173\u952e\u5b57\u7528\u6765\u7ec4\u5408\u591a\u4e2a\u6761\u4ef6\u5b9e\u73b0\u590d\u6742\u67e5\u8be2</p> <ul> <li><code>must</code>: \u76f8\u5f53\u4e8e <code>&amp;&amp;</code></li> <li><code>should</code>: \u76f8\u5f53\u4e8e <code>||</code></li> <li><code>must_not</code>: \u76f8\u5f53\u4e8e <code>!</code></li> </ul> <pre><code>GET /&lt;INDEX_NAME&gt;/_search\n{\n    \"query\": {\n        \"bool\": {\n            \"&lt; must | should | must_not &gt;\": [\n                { \n                    \"&lt;term | range | fuzzy | ...&gt;\": {\n                        \"&lt;FIELD&gt;\": &lt;VALUE&gt;\n                    }\n                },\n                ...other condition\n            ]\n        }\n    }\n}\n</code></pre> Example ReqResp <pre><code>GET {{host}}/product/_search HTTP/1.1\nContent-Type: application/json\n\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"price\": {\n                            \"gt\": 4999,\n                            \"lt\": 10000\n                        }\n                    }\n                }, {\n                    \"prefix\": {\n                        \"title\": {\n                            \"value\": \"Iph\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n</code></pre> <pre><code>HTTP/1.1 200 OK\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 246\n\n{\n    \"took\": 15,\n    \"timed_out\": false,\n    \"_shards\": {\n        \"total\": 1,\n        \"successful\": 1,\n        \"skipped\": 0,\n        \"failed\": 0\n    },\n    \"hits\": {\n        \"total\": {\n            \"value\": 1,\n            \"relation\": \"eq\"\n        },\n        \"max_score\": 2.0,\n        \"hits\": [\n            {\n                \"_index\": \"product\",\n                \"_type\": \"_doc\",\n                \"_id\": \"5\",\n                \"_score\": 2.0,\n                \"_source\": {\n                    \"id\": 5,\n                    \"title\": \"Iphone3\",\n                    \"price\": 6978.00,\n                    \"description\": \"Iphone3 yyds\",\n                    \"create_at\": \"2022-06-10\"\n                }\n            }\n        ]\n    }\n}\n</code></pre>"},{"location":"ES/4-Query-DSL/#multi_match","title":"\u591a\u5b57\u6bb5\u67e5\u8be2 multi_match","text":"<p>Note</p> <p>multi_match \u5728\u591a\u4e2a\u5b57\u6bb5\u4e2d\u68c0\u7d22\u80fd\u5339\u914d\u67e5\u8be2\u5173\u952e\u8bcd\u7684\u6587\u6863</p> <pre><code>GET /&lt;INDEX_NAME&gt;/_search\n{\n    \"query\": {\n        \"multi_match\": {\n            \"query\": \"&lt;QUERY_STRING&gt;\"\n            \"fields\": [\"&lt;FIELD&gt;\", \"&lt;FIELD&gt;\", ...]\n        }\n    }\n}\n</code></pre> <p>Warning</p> <p>\u5b57\u6bb5\u7c7b\u578b\u5982\u679c\u5206\u8bcd\uff0c\u5219\u5c06\u67e5\u8be2\u5173\u952e\u8bcd\u5206\u8bcd\u4e4b\u540e\u53bb\u6307\u5b9a\u7684\u90a3\u4e9b\u5b57\u6bb5\u68c0\u7d22</p> <p>\u5b57\u6bb5\u7c7b\u578b\u5982\u679c\u4e0d\u5206\u8bcd\uff0c\u5219\u5c06\u67e5\u8be2\u5173\u952e\u8bcd\u5206\u8bcd\u4f5c\u4e3a\u6574\u4f53\u53bb\u6307\u5b9a\u7684\u90a3\u4e9b\u5b57\u6bb5\u68c0\u7d22</p> Example ReqResp <p></p><pre><code>GET {{host}}/product/_search HTTP/1.1\nContent-Type: application/json\n\n{\n    \"query\": {\n        \"multi_match\": {\n            \"query\": \"\u4e94\u5206\u949f\",\n            \"fields\": [ \"title\", \"description\" ]\n        }\n    }\n}\n</code></pre> \u867d\u7136 title \u662f keyword \u7c7b\u578b\uff0c\u4e0d\u5206\u8bcd\uff0c\u4f46\u662f description \u662f text \u7c7b\u578b\uff0c\u5206\u8bcd\u7684\u3002<p></p> <p>ES \u4f1a\u5c06 \u201c\u4e94\u5206\u949f\u201d \u4f5c\u4e3a\u6574\u4f53\u53bb title \u4e2d\u68c0\u7d22\uff0c\u68c0\u7d22\u4e0d\u5230\u4f1a\u5206\u8bcd\u6210\u4e3a \u201c\u4e94\u201d\u3001\u201c\u5206\u201d\u3001\u201c\u949f\u201d\uff0c\u7136\u540e\u53bb description \u4e2d\u68c0\u7d22\u3002\u6700\u540e\u68c0\u7d22\u5230 id \u4e3a 4 \u7684\u6587\u6863\u3002</p> <pre><code>HTTP/1.1 200 OK\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 296\n\n{\n    \"took\": 2,\n    \"timed_out\": false,\n    \"_shards\": {\n        \"total\": 1,\n        \"successful\": 1,\n        \"skipped\": 0,\n        \"failed\": 0\n    },\n    \"hits\": {\n        \"total\": {\n            \"value\": 1,\n            \"relation\": \"eq\"\n        },\n        \"max_score\": 3.0841155,\n        \"hit\n            {\n                \"_index\": \"product\",\n                \"_type\": \"_doc\",\n                \"_id\": \"4\",\n                \"_score\": 3.0841155,\n                \"_source\": {\n                    \"id\": 4,\n                    \"title\": \"Oppo\",\n                    \"price\": 3999.00,\n                    \"description\": \"\u5145\u7535\u4e24\u5c0f\u65f6, \u901a\u8bdd\u4e94\u5206\u949f\",\n                    \"create_at\": \"2022-06-09\"\n                }\n            }\n        ]\n    }\n}\n</code></pre>"},{"location":"ES/4-Query-DSL/#query_string","title":"\u9ed8\u8ba4\u5b57\u6bb5\u5206\u8bcd\u67e5\u8be2 query_string","text":"<pre><code>GET /&lt;INDEX_NAME&gt;/_search\n{\n    \"query\": {\n        \"query_string\": {\n            \"default_field\": \"&lt;FIELD&gt;\"\n            \"query\": \"\"\n        }\n    }\n}\n</code></pre>"},{"location":"ES/4-Query-DSL/#_4","title":"\u8fc7\u6ee4\u67e5\u8be2","text":"<p><code>ES</code> \u7684\u67e5\u8be2\u64cd\u4f5c\u5206\u4e3a\u4e24\u79cd\uff1a</p> <ol> <li>\u5339\u914d\u67e5\u8be2 (query)</li> <li>\u8fc7\u6ee4\u67e5\u8be2 (filter)</li> </ol> <p>\u5339\u914d\u67e5\u8be2 query \u5c31\u662f\u4e0a\u9762\u7684\u5173\u952e\u8bcd\u3001\u8303\u56f4\u3001\u524d\u7f00\u3001\u901a\u914d\u7b26\u3001\u591aID\u3001\u6a21\u7cca\u67e5\u8be2\u7b49\uff0c\u8fd9\u79cd\u67e5\u8be2\u662f\u76f4\u63a5\u9001\u8fbe ES \u670d\u52a1\u7684\u3002 ES \u670d\u52a1\u4f1a\u8ba1\u7b97\u6bcf\u4e2a\u8fd4\u56de\u6587\u6863\u7684\u5f97\u5206\uff0c\u7136\u540e\u6839\u636e\u5f97\u5206\u6392\u5e8f\u3002</p> <p>\u8fc7\u6ee4\u67e5\u8be2\u5219\u4f1a\u5148\u7b5b\u9009\u51fa\u7b26\u5408\u7684\u6587\u6863\uff0c\u5e76\u4e0d\u8ba1\u7b97\u5f97\u5206\uff0c\u7136\u540e\u9001\u8fbe ES \u670d\u52a1\u3002\u800c\u4e14\u8fc7\u6ee4\u67e5\u8be2\u8fd8\u53ef\u4ee5\u7f13\u5b58\u8d77\u6765\u3002\u6240\u4ee5\u4ece\u6027\u80fd\u89d2\u5ea6\u8003\u8651\uff0c\u8fc7\u6ee4\u6bd4\u5339\u914d\u66f4\u5feb\u3002</p> <p>Tip</p> <p>\u8fc7\u6ee4\u67e5\u8be2\u9002\u5408\u5728\u5927\u8303\u56f4\u7b5b\u9009\u6570\u636e\uff0c\u800c\u5339\u914d\u67e5\u8be2\u9002\u5408\u7cbe\u786e\u5339\u914d\u6570\u636e\u3002\u4e00\u822c\u5e94\u7528\u65f6\uff0c\u5e94\u5148\u4f7f\u7528\u8fc7\u6ee4\u64cd\u4f5c\u8fc7\u6ee4\u6570\u636e\uff0c\u7136\u540e\u4f7f\u7528\u5339\u914d\u67e5\u8be2\u5339\u914d\u6570\u636e\u3002</p> <p>\u8fc7\u6ee4\u67e5\u8be2\u5fc5\u987b\u5728\u5e03\u5c14\u67e5\u8be2\u4e2d\u3002</p> <p>\u8fc7\u6ee4\u6709 <code>term</code>\u3001<code>terms</code>\u3001<code>exists</code>\u3001<code>range</code>\u3001<code>ids</code> \u51e0\u79cd\u3002</p> <pre><code>GET /&lt;INDEX_NAME&gt;/_search\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [ {...} ],\n            \"filter\": [ \n                {\n                    \"&lt;term | terms | exists | range | ids&gt;\": { ... }\n                } \n            ]\n        }\n    }\n}\n</code></pre> <p>Example</p> ReqResp <pre><code>GET {{host}}/product/_search HTTP/1.1\nContent-Type: application/json\n\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [{\"fuzzy\": {\"description\": {\"value\": \"yyds\"}}}],\n            \"filter\": [{\"range\": {\n                            \"create_at\": {\n                                \"gt\": \"2022-06-06\",\n                                \"lt\": \"2022-06-08\"\n                            }\n                        }}]\n        }\n    }\n}\n</code></pre> <pre><code>HTTP/1.1 200 OK\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 252\n\n{\n    \"took\": 2,\n    \"timed_out\": false,\n    \"_shards\": {\n        \"total\": 1,\n        \"successful\": 1,\n        \"skipped\": 0,\n        \"failed\": 0\n    },\n    \"hits\": {\n        \"total\": {\n            \"value\": 1,\n            \"relation\": \"eq\"\n        },\n        \"max_score\": 1.0700173,\n        \"hits\": [\n            {\n                \"_index\": \"product\",\n                \"_type\": \"_doc\",\n                \"_id\": \"2\",\n                \"_score\": 1.0700173,\n                \"_source\": {\n                    \"id\": 2,\n                    \"title\": \"Iphone\",\n                    \"price\": 4999.00,\n                    \"description\": \"Iphone just yyds\",\n                    \"create_at\": \"2022-06-07\"\n                }\n            }\n        ]\n    }\n}\n</code></pre>"},{"location":"ES/4-Query-DSL/#_5","title":"\u5176\u4ed6\u7279\u6027","text":""},{"location":"ES/4-Query-DSL/#highlight","title":"\u9ad8\u4eae\u67e5\u8be2 highlight","text":"<p>Warning</p> <p>ES7 \u4e2d\u53ea\u6709\u80fd\u5206\u8bcd\u7684\u624d\u80fd\u9ad8\u4eae</p> <pre><code>GET /&lt;INDEX_NAME&gt;/_search\n{\n    \"query:\" { ... },\n    \"highlight\": {\n        \"fields\": {\n            \"&lt;FIELD | *&gt;\": {},\n            \"pre_tags\": [\"&lt;PRE_TAGS&gt;\"],\n            \"post_tags\": [\"&lt;POST_TAGS&gt;\"],\n            \"requiree_field_match\": \"&lt;true | false&gt;\"    // \u5176\u4ed6\u5b57\u6bb5\u4e5f\u4e00\u8d77\u9ad8\u4eae\uff0cfalse\u5f00\u542f\uff0ctrue \u53ea\u9ad8\u4eae\u5bf9\u5e94\u5b57\u6bb5\n        }\n    }\n}\n</code></pre> Example ReqResp <pre><code>GET {{host}}/product/_search HTTP/1.1\nContent-Type: application/json\n\n{\n    \"query\": {\n        \"fuzzy\": {\n            \"description\": \"Iphonew\"\n        }\n    },\n     \"highlight\": {\n        \"fields\": {\n            \"*\": {}\n        }\n    }\n}\n</code></pre> <pre><code>HTTP/1.1 200 OK\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 278\n\n{\n    \"took\": 18,\n    \"timed_out\": false,\n    \"_shards\": {\n        \"total\": 1,\n        \"successful\": 1,\n        \"skipped\": 0,\n        \"failed\": 0\n    },\n    \"hits\": {\n        \"total\": {\n            \"value\": 1,\n            \"relation\": \"eq\"\n        },\n        \"max_score\": 1.129573,\n        \"hits\": [\n            {\n                \"_index\": \"product\",\n                \"_type\": \"_doc\",\n                \"_id\": \"2\",\n                \"_score\": 1.129573,\n                \"_source\": {\n                    \"id\": 2,\n                    \"title\": \"Iphone\",\n                    \"price\": 4999.00,\n                    \"description\": \"Iphone just yyds\",\n                    \"create_at\": \"2022-06-07\"\n                },\n                \"highlight\": {  // \u591a\u51fa\u8fd9\u4e00\u6bb5\u5373\u4e3a\u9ad8\u4eae\u68c0\u7d22\u8bcd\u7684\u7ed3\u679c\n                    \"description\": [\n                        \"&lt;em&gt;Iphone&lt;/em&gt; just yyds\"\n                    ]\n                }\n            }\n        ]\n    }\n}\n</code></pre> Example ReqResp <pre><code>GET {{host}}/product/_search HTTP/1.1\nContent-Type: application/json\n\n{\n    \"query\": {\n        \"fuzzy\": {\n            \"description\": \"Iphone\"\n        }\n    },\n    \"highlight\": {\n        \"fields\": { \"*\": {} },\n        \"pre_tags\": [\"&lt;span style='color:red;'&gt;\"],\n        \"post_tags\": [\"&lt;/span&gt;\"]\n    }\n}\n</code></pre> <pre><code>HTTP/1.1 200 OK\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 278\n\n{\n    \"took\": 18,\n    \"timed_out\": false,\n    \"_shards\": {\n        \"total\": 1,\n        \"successful\": 1,\n        \"skipped\": 0,\n        \"failed\": 0\n    },\n    \"hits\": {\n        \"total\": {\n            \"value\": 1,\n            \"relation\": \"eq\"\n        },\n        \"max_score\": 1.129573,\n        \"hits\": [\n            {\n                \"_index\": \"product\",\n                \"_type\": \"_doc\",\n                \"_id\": \"2\",\n                \"_score\": 1.129573,\n                \"_source\": {\n                    \"id\": 2,\n                    \"title\": \"Iphone\",\n                    \"price\": 4999.00,\n                    \"description\": \"Iphone just yyds\",\n                    \"create_at\": \"2022-06-07\"\n                },\n                \"highlight\": {  // \u591a\u51fa\u8fd9\u4e00\u6bb5\u5373\u4e3a\u9ad8\u4eae\u68c0\u7d22\u8bcd\u7684\u7ed3\u679c\n                    \"description\": [\n                        \"&lt;span style='color:red;'&gt;Iphone&lt;/span&gt; just yyds\"\n                    ]\n                }\n            }\n        ]\n    }\n}\n</code></pre>"},{"location":"ES/4-Query-DSL/#from-size","title":"\u5206\u9875 from, size","text":"<p>Note</p> <p><code>from</code> \u7528\u6765\u6307\u5b9a\u8d77\u59cb\u8fd4\u56de\u4f4d\u7f6e\uff0c\u9ed8\u8ba40\uff1b<code>size</code> \u7528\u6765\u6307\u5b9a\u8fd4\u56de\u6761\u6570\uff0c\u9ed8\u8ba410\u3002</p> <p><code>size</code> \u53ef\u4ee5\u5355\u72ec\u4f7f\u7528\uff0c\u4e24\u8005\u7ed3\u5408\u53ef\u4ee5\u5b9e\u73b0\u5206\u9875\u6548\u679c\u3002</p> <pre><code>GET /&lt;INDEX_NAME&gt;/_search\n{\n    \"query\": { ... },\n    \"size\": &lt;SIZE&gt;,\n    \"from\": &lt;FROM&gt;\n}\n</code></pre> Example ReqResp <pre><code>GET {{host}}/product/_search HTTP/1.1\nContent-Type: application/json\n\n{\n    \"query\": {\n        \"match_all\": {}\n    },\n    \"from\": 2,\n    \"size\": 10\n}\n</code></pre> <pre><code>HTTP/1.1 200 OK\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 381\n\n{\n    \"took\": 1,\n    \"timed_out\": false,\n    \"_shards\": {\n        \"total\": 1,\n        \"successful\": 1,\n        \"skipped\": 0,\n        \"failed\": 0\n    },\n    \"hits\": {\n        \"total\": {\n            \"value\": 5,\n            \"relation\": \"eq\"\n        },\n        \"max_score\": 1.0,\n        \"hits\": [\n            {\n                \"_index\": \"product\",\n                \"_type\": \"_doc\",\n                \"_id\": \"3\",\n                \"_score\": 1.0,\n                \"_source\": {\n                    \"id\": 3,\n                    \"title\": \"Xiaomi\",\n                    \"price\": 2999.00,\n                    \"description\": \"Xiaomi \u4e3a\u53d1\u70e7\u800c\u751f\",\n                    \"create_at\": \"2022-06-08\"\n                }\n            },\n            {\n                \"_index\": \"product\",\n                \"_type\": \"_doc\",\n                \"_id\": \"4\",\n                \"_score\": 1.0,\n                \"_source\": {\n                    \"id\": 4,\n                    \"title\": \"Oppo\",\n                    \"price\": 3999.00,\n                    \"description\": \"\u5145\u7535\u4e24\u5c0f\u65f6, \u901a\u8bdd\u4e94\u5206\u949f\",\n                    \"create_at\": \"2022-06-09\"\n                }\n            },\n            {\n                \"_index\": \"product\",\n                \"_type\": \"_doc\",\n                \"_id\": \"5\",\n                \"_score\": 1.0,\n                \"_source\": {\n                    \"id\": 5,\n                    \"title\": \"Vivo\",\n                    \"price\": 6978.00,\n                    \"description\": \"\u62cd\u51fa\u4f60\u7684\u7f8e\",\n                    \"create_at\": \"2022-06-10\"\n                }\n            }\n        ]\n    }\n}\n</code></pre>"},{"location":"ES/4-Query-DSL/#sort","title":"\u6392\u5e8f sort","text":"<p>\u9ed8\u8ba4\u964d\u5e8f desc</p> <pre><code>GET /&lt;INDEX_NAME&gt;/_search\n{\n    \"query\": { ... },\n    \"sort\": [\n        { \"&lt;FIELD&gt;\": \"&lt;desc | asc&gt;\" },\n        { \n            \"&lt;FIELD&gt;\": {\n                \"order\": \"&lt;desc | asc&gt;\",\n                \"format\": \"strict_date_optional_time_nanos\"\n            }\n        },\n        { \n            \"&lt;FIELD&gt;\": {\n                \"order\": \"&lt;desc | asc&gt;\",\n                \"mode\": \"&lt;min | max | sum | avg | median&gt;\"\n            }\n        }\n    ]\n}\n</code></pre>"},{"location":"ES/4-Query-DSL/#_source","title":"\u8fd4\u56de\u6307\u5b9a\u5b57\u6bb5 _source","text":"<pre><code>GET /&lt;INDEX_NAME&gt;/_search\n{\n    \"query\": { ... },\n    \"_source\": [\"&lt;FIELD&gt;\", \"&lt;FIELD&gt;\", ...]\n}\n</code></pre> Example ReqResp <pre><code>GET {{host}}/product/_search HTTP/1.1\nContent-Type: application/json\n\n{\n    \"query\": {\n        \"match_all\": {}\n    },\n    \"size\": 2,\n    \"_source\": [\"id\", \"title\"]\n}\n</code></pre> <pre><code>HTTP/1.1 200 OK\ncontent-type: application/json; charset=UTF-8\ncontent-encoding: gzip\ncontent-length: 213\n\n{\n    \"took\": 4,\n    \"timed_out\": false,\n    \"_shards\": {\n        \"total\": 1,\n        \"successful\": 1,\n        \"skipped\": 0,\n        \"failed\": 0\n    },\n    \"hits\": {\n        \"total\": {\n            \"value\": 5,\n            \"relation\": \"eq\"\n        },\n        \"max_score\": 1.0,\n        \"hits\": [\n            {\n                \"_index\": \"product\",\n                \"_type\": \"_doc\",\n                \"_id\": \"1\",\n                \"_score\": 1.0,\n                \"_source\": {    // \u53ea\u8fd4\u56de\u6307\u5b9a\u5b57\u6bb5\n                    \"id\": 1,\n                    \"title\": \"Andriod\"\n                }\n            },\n            {\n                \"_index\": \"product\",\n                \"_type\": \"_doc\",\n                \"_id\": \"2\",\n                \"_score\": 1.0,\n                \"_source\": {    // \u53ea\u8fd4\u56de\u6307\u5b9a\u5b57\u6bb5\n                    \"id\": 2,\n                    \"title\": \"Iphone\"\n                }\n            }\n        ]\n    }\n}\n</code></pre>"},{"location":"ES/4-Query-DSL/#_6","title":"\u53bb\u91cd","text":"<pre><code>GET /&lt;INDEX_NAME&gt;/_search\n{\n    \"query\": {\n        ...\n    }\n    \"collapse\": {\n        \"field\": \"&lt;FIELD&gt;\"\n    }\n}\n</code></pre>"},{"location":"ES/5-script/","title":"5-Script","text":""},{"location":"ES/5-script/#script","title":"Script","text":"<p>\u6709\u65f6\u5019\u7b80\u5355\u7684\u67e5\u8be2\u6216\u8005\u66f4\u65b0\u4e0d\u80fd\u6ee1\u8db3\u6211\u4eec\u7684\u9700\u6c42\uff0c\u6240\u4ee5 ES \u63d0\u4f9b\u4e86 Script \u8ba9\u6211\u4eec\u53ef\u4ee5\u5728\u64cd\u4f5c\u7684\u65f6\u5019\u4f7f\u7528\u7b80\u5355\u7684\u811a\u672c\u3002</p> <p>Script \u6a21\u677f\u5982\u4e0b\uff1a</p> <pre><code>{\n    \"script\": {\n        \"lang\": \"&lt;painless | expression&gt;\",   // (1)\n        \"source | id\": \"&lt;SCRIPT | SCRIPT_STORE_NAME&gt;\", // (2)\n        \"params\": { // (3)\n            \"&lt;PARAM&gt;\": &lt;VALUE&gt;,\n            ...\n        }\n    }\n}\n</code></pre> <ol> <li>lang: \u6307\u5b9a\u811a\u672c\u8bed\u8a00\uff0c\u8fd9\u4e2a\u5b57\u6bb5\u4e0d\u662f\u5fc5\u987b\u7684\uff0c\u9ed8\u8ba4\u503c\u4e3a ES \u5b98\u65b9\u7684\u811a\u672c\u8bed\u8a00 painless</li> <li>source: \u8fd9\u91cc\u662f\u811a\u672c\u7684\u5185\u5bb9\uff0c\u4e5f\u53ef\u4ee5\u662f\u5df2\u7ecf\u5b58\u50a8\u8d77\u6765\u7684\u811a\u672c stored script \u7684\u540d\u79f0</li> <li>params: \u8fd9\u91cc\u662f\u53c2\u6570\u5bf9\u8c61\uff0c\u53c2\u6570\u7684\u503c\u4f1a\u8d4b\u503c\u5230\u811a\u672c\u4e2d\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5728\u811a\u672c\u4e2d\u4f7f\u7528\u53c2\u6570\u3002</li> </ol> <p>Example</p> <pre><code>GET /product/_search HTTP/1.1\nContent-Type: application/json\n\n{\n    \"query\": {\n        \"bool\": {\n            \"filter\": [\n                {\n                    \"script\": {\n                        \"script\": {\n                            \"lang\": \"painless\",\n                            \"source\": \"doc['create_time'].value.dayOfMonth == params.day\",\n                            \"params\": {\"day\": 1 }\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n</code></pre> <p>\u811a\u672c\u6709\u4e24\u79cd\uff1a\u4e00\u79cd\u662f\u76f4\u63a5\u5199\u7684 <code>inline script</code>\uff1b\u4e00\u79cd\u662f\u811a\u672c\u6a21\u677f <code>stored script</code>\u3002</p>"},{"location":"ES/5-script/#inline-script","title":"inline script","text":"<pre><code>PUT /product/_update/1 HTTP/1.1\nContent-Type: application/json\n\n{\n    \"script\": {\n        \"source\": \"ctx._source.price += 10\"\n    }\n}\n</code></pre> \u4e0a\u9762\u7684\u6817\u5b50\u7528\u4e8e\u66f4\u65b0 product \u8fd9\u4e2a\u7d22\u5f15\u4e2d _id \u4e3a 1 \u7684\u6587\u6863\uff0c\u5176\u4f7f\u7528\u4e86\u811a\u672c\u7684\u65b9\u5f0f\u5c06 price \u5b57\u6bb5\u81ea\u589e\u4e86 10\u3002 <p>\u4e5f\u53ef\u4ee5\u4f7f\u7528\u53c2\u6570\u65b9\u5f0f\u6307\u5b9a\u81ea\u589e\u591a\u5c11\uff0c\u8fd9\u6837\u6211\u4eec\u53ef\u4ee5\u5728\u7f16\u7a0b\u8bed\u8a00\u4e2d\u52a8\u6001\u7684\u6307\u5b9a\u81ea\u589e 10 \u8fd8\u662f 20 \u8fd8\u662f\u591a\u5c11\u90fd\u53ef\u4ee5\u3002</p> <pre><code>PUT /product/_update/1 HTTP/1.1\nContent-Type: application/json\n\n{\n    \"script\": {\n        \"source\": \"ctx._source.price += params.step\",\n        \"params\": {\"step\": 20}\n    }\n}\n</code></pre>"},{"location":"ES/5-script/#stored-script","title":"stored script","text":"<p>\u9664\u4e86\u628a\u6a21\u677f\u5199\u5728 source \u4e2d\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u9884\u5148\u628a\u6a21\u677f\u5b58\u50a8\u8d77\u6765\u3002</p> <p>\u5728\u9700\u8981\u7684\u5730\u65b9\u628a <code>\"source\": \"SCRIPT\"</code> \u6362\u6210 <code>\"id\": \"STORED SCRIPT NAME\"</code></p>"},{"location":"ES/5-script/#stored","title":"\u5b9a\u4e49 stored \u811a\u672c","text":"<pre><code>PUT /_scripts/&lt;STORED SCRIPT NAME&gt;\n{\n    \"script\": {\n        \"lang\": \"&lt;painless | expression&gt;\", // (1)\n        \"source\": \"&lt;SCRIPT&gt;\"\n    }\n}\n</code></pre> <ol> <li>\u8fd9\u91cc lang \u5e76\u4e0d\u662f\u5fc5\u987b\u7684</li> </ol> <p>Example</p> <pre><code>PUT {{host}}/_scripts/add_price HTTP/1.1\nContent-Type: application/json\n\n{\n    \"script\": {\n        \"lang\": \"painless\",\n        \"source\": \"ctx._source.price += params.step\"\n    }\n}\n</code></pre>"},{"location":"ES/5-script/#stored_1","title":"\u4f7f\u7528 stored \u811a\u672c","text":"<pre><code>PUT /product/_update/1\n{\n    \"script\": {\n        \"id\": \"add_price\",  // (1)\n        \"params\": {\"step\": 10}  // (2)\n    }\n}\n</code></pre> <ol> <li>\u8fd9\u91cc\u4f7f\u7528\u7684\u662f\u6a21\u677f\u811a\u672c\u5b58\u50a8\u65f6\u7684\u540d\u79f0,\u6ce8\u610f\u952e\u7528\u7684\u662f id \u4e0d\u662f source</li> <li>\u6a21\u677f\u5b9a\u4e49\u65f6\u5e26\u6709\u53c2\u6570\uff0c\u6240\u4ee5\u8fd9\u91cc\u9700\u8981\u4f20\u9012\u53c2\u6570</li> </ol>"},{"location":"ES/5-script/#_1","title":"\u67e5\u770b\u6a21\u677f","text":"<pre><code>GET /_scripts/&lt;STORED SCRIPT NAME&gt;\n</code></pre>"},{"location":"ES/5-script/#_2","title":"\u5220\u9664\u6a21\u677f","text":"<pre><code>DELETE /_scripts/&lt;STORED SCRIPT NAME&gt;\n</code></pre>"},{"location":"ES/5-script/#_3","title":"\u5e38\u7528\u6a21\u677f","text":""},{"location":"ES/5-script/#1","title":"1. \u7ed9\u5df2\u6709\u7684\u6587\u6863\u6dfb\u52a0\u65b0\u5b57\u6bb5","text":"<pre><code>PUT /people/_update_by_query HTTP/1.1\nContent-Type: application/json\n\n{\n    \"script: {\n        \"source\": \"if (ctx._source.hobby == nill) {ctx._source.hobby = ['watch TV', 'coding']}\"\n    }\n}\n</code></pre> \u7ed9 people \u7d22\u5f15\u6240\u6709\u6587\u6863\u6dfb\u52a0\u4e00\u4e2a hobby \u5b57\u6bb5\u5e76\u8d4b\u503c\u3002"},{"location":"ES/5-script/#2","title":"2. \u79fb\u9664\u6570\u7ec4\u5b57\u6bb5\u67d0\u4e00\u9879","text":"<pre><code>PUT /people/_update/1 HTTP/1.1\nContent-Type: application/json\n\n{\n    \"script\": {\n        \"source\": \"if (ctx._source.hobby.contains(params.hobbyName)) {ctx._source.hobby.remove(ctx._source.hobby.indexOf(params.hobbyName))}\",\n        \"params\": {\"hobbyName\": \"watch TV\"}\n    }\n}\n</code></pre> \u5148\u5224\u65ad\u6570\u7ec4\u662f\u5426\u5305\u542b hobbyName \u8fd9\u4e2a\u503c\uff0c\u5305\u542b\u5219\u901a\u8fc7\u6570\u7ec4\u7d22\u5f15\u5220\u9664\u3002\u4e5f\u53ef\u4ee5\u6362\u6210\u4ee5\u4e0b\u5199\u6cd5\uff1a <pre><code>PUT /people/_update/1 HTTP/1.1\nContent-Type: application/json\n\n{\n    \"script\": {\n        \"source\": \"ctx._source.hobby.removeIf(it -&gt; it == params.hobbyName);\",\n        \"params\": {\"hobbyName\": \"watch TV\"}\n    }\n}\n</code></pre> \u9664\u4e86 removeIf(), \u8fd8\u6709\u4ee5\u4e0b\u8fd9\u4e9b\uff1a <pre><code>list.removeIf(item -&gt; item == 2);\nlist.removeIf((int item) -&gt; item == 2);\nlist.removeIf((int item) -&gt; { item == 2 });\nlist.sort((x, y) -&gt; x - y);\nlist.sort(Integer::compare);\nlist.sort(this::mycompare);\n</code></pre>"},{"location":"ES/5-script/#3","title":"3. \u81ea\u5b9a\u4e49\u8fd4\u56de\u811a\u672c","text":"Req <pre><code>POST /people/_search HTTP/1.1\nContent-Type: application/json\n\n{\n    \"script_fields\": {\n        \"year-asset\": {\n            \"script\": {\n                \"lang\": \"painless\",\n                \"source\": \"doc['asset'].value * params.value\",\n                \"params\": {\"value\": 12}\n            }\n        },\n        \"birthday-year\":{\n            \"script\":{\n                \"lang\":\"painless\",\n                \"source\":\"doc.birthday.value.year\"\n            }\n        }\n    }\n}\n</code></pre> <p>\"Resp\" </p><pre><code>{\n    \"took\": 8,\n    \"timed_out\": false,\n    \"_shards\": {\n        \"total\": 3,\n        \"successful\": 3,\n        \"skipped\": 0,\n        \"failed\": 0\n    },\n    \"hits\": {\n        \"total\": {\n            \"value\": 1,\n            \"relation\": \"eq\"\n        },\n        \"max_score\": 1.2039728,\n        \"hits\": [\n            {\n                \"_index\": \"people\",\n                \"_type\": \"_doc\",\n                \"_id\": \"4\",\n                \"_score\": 1.2039728,\n                \"fields\": {\n                    \"year-asset\": [\n                        226656.0\n                    ],\n                    \"birthday-year\": [\n                        1993\n                    ]\n                }\n            }\n        ]\n    }\n}\n</code></pre><p></p>"},{"location":"ES/5-script/#4","title":"4. \u81ea\u5b9a\u4e49\u811a\u672c\u6392\u5e8f","text":"<pre><code>POST /people/_search HTTP/1.1\nContent-Type: application/json\n\n{\n    \"query\": {\n        \"match_all\": {}\n    },\n    \"sort\": {\n        \"_script\": {\n            \"type\": \"number\",\n            \"order\": \"desc\",\n            \"script\":{\n                \"lang\": \"painless\",\n                \"source\": \"doc['asset'].value * doc['age'].value\"\n            }          \n        }\n    }\n}\n</code></pre> \u5c06 asset \u548c age \u76f8\u4e58\u540e\u518d\u6392\u5e8f\u3002"},{"location":"ES/5-script/#5","title":"5. \u67e5\u8be2\u811a\u672c\u8fc7\u6ee4","text":"<pre><code>POST  http://172.16.1.236:9201/people/_search\n{\n    \"query\": {\n        \"bool\": {\n            \"filter\": {\n                    \"script\": {\n                        \"script\": {\n                            \"lang\": \"painless\",\n                             \"source\": \"doc['age'].value &gt; 25\"\n                        }\n                    }\n            }\n        }\n    }\n}\n</code></pre> \u53ea\u67e5\u8be2\u5e74\u9f84\u5927\u4e8e 25 \u7684"},{"location":"ES/5-script/#lucene-expression","title":"Lucene expression \u8bed\u8a00\u7684\u4e00\u4e9b\u8868\u8fbe\u5f0f","text":""},{"location":"ES/5-script/#1_1","title":"1. \u6570\u503c\u5b57\u6bb5\u8868\u8fbe\u5f0f","text":"<pre><code>doc['field_name'].value     //\u5b57\u6bb5\u7684\u503c\uff0c\u4f5c\u4e3a double\ndoc['field_name'].empty     //\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u6307\u793a\u8be5\u5b57\u6bb5\u5728doc\u4e2d\u662f\u5426\u6ca1\u6709\u503c\u3002\ndoc['field_name'].length    //\u672c\u6587\u6863\u4e2d\u503c\u7684\u6570\u91cf\u3002\ndoc['field_name'].min()     //\u672c\u6587\u6863\u4e2d\u5b57\u6bb5\u7684\u6700\u5c0f\u503c\u3002\ndoc['field_name'].max()     //\u672c\u6587\u6863\u4e2d\u5b57\u6bb5\u7684\u6700\u5927\u503c\u3002\ndoc['field_name'].median()  //\u672c\u6587\u6863\u4e2d\u5b57\u6bb5\u7684\u4e2d\u95f4\u503c\u3002\ndoc['field_name'].avg()     //\u672c\u6587\u6863\u4e2d\u503c\u7684\u5e73\u5747\u503c\u3002\ndoc['field_name'].sum()     //\u672c\u6587\u6863\u4e2d\u503c\u7684\u603b\u548c\u3002\n</code></pre> <p>\u5f53\u6587\u6863\u5b8c\u5168\u7f3a\u5c11\u8be5\u5b57\u6bb5\u65f6\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u8be5\u503c\u5c06\u88ab\u89c6\u4e3a0\u3002\u60a8\u53ef\u4ee5\u5c06\u5176\u89c6\u4e3a\u53e6\u4e00\u4e2a\u503c\uff0c\u4f8b\u5982 <code>doc['myfield'].empty ? 100 : doc['myfield'].value</code>\u3002</p>"},{"location":"ES/5-script/#2_1","title":"2. \u65e5\u671f\u5b57\u6bb5\u8868\u8fbe\u5f0f","text":"<p>\u65e5\u671f\u5b57\u6bb5\u88ab\u89c6\u4e3a\u81ea1970\u5e741\u67081\u65e5\u4ee5\u6765\u7684\u6beb\u79d2\u6570</p> <pre><code>doc['field_name'].date.centuryOfEra         // \u4e16\u7eaa\uff081-2920000\uff09\ndoc['field_name'].date.dayOfMonth           // \u7b2c\u4e00\u5929\uff081-31\uff09\uff0c\u4f8b\u59821\u6bcf\u6708\u7684\u7b2c\u4e00\u5929\u3002\ndoc['field_name'].date.dayOfWeek            // \u661f\u671f\u51e0\uff081-7\uff09\uff0c\u4f8b\u59821\u661f\u671f\u4e00\u3002\ndoc['field_name'].date.dayOfYear            // \u4e00\u5e74\u4e2d\u7684\u4e00\u5929\uff0c\u4f8b\u598211\u67081\u65e5\u3002\ndoc['field_name'].date.era                  // \u65f6\u4ee3\uff1a0\u516c\u5143\u524d\uff0c1\u516c\u5143\u524d\u3002\ndoc['field_name'].date.hourOfDay            // \u5c0f\u65f6\uff080-23\uff09\u3002\ndoc['field_name'].date.millisOfDay          // \u4e00\u5929\u4e2d\u7684\u6beb\u79d2\u6570\uff080-86399999\uff09\u3002\ndoc['field_name'].date.millisOfSecond       // \u79d2\u5185\u7684\u6beb\u79d2\u6570\uff080-999\uff09\u3002\ndoc['field_name'].date.minuteOfDay          // \u5728\u4e00\u5929\u4e2d\u7684\u5206\u949f\uff080-1439\uff09\u3002\ndoc['field_name'].date.minuteOfHour         // \u4e00\u5c0f\u65f6\u5185\u7684\u5206\u949f\uff080-59\uff09\u3002\ndoc['field_name'].date.monthOfYear          // \u4e00\u5e74\u4e2d\u7684\u6708\u4efd\uff081-12\uff09\uff0c\u4f8b\u59821\u4e00\u6708\u3002\ndoc['field_name'].date.secondOfDay          // \u4e00\u5929\u4e2d\u7684\u7b2c\u4e8c\u4e2a\uff080-86399\uff09\u3002\ndoc['field_name'].date.secondOfMinute       // \u5206\u949f\u5185\uff080-59\uff09\u79d2\u3002\ndoc['field_name'].date.year                 // \u5e74\uff08-292000000-292000000\uff09\u3002\ndoc['field_name'].date.yearOfCentury        // \u672c\u4e16\u7eaa\u5185\u7684\u5e74\u4efd\uff081-100\uff09\u3002\ndoc['field_name'].date.yearOfEra            // \u65f6\u4ee3\u4ee5\u5185\uff081-292000000\uff09\u3002\n</code></pre>"},{"location":"ES/5-script/#geo_point","title":"geo_point \u7c7b\u578b\u8868\u8fbe\u5f0f","text":"<pre><code>doc['field_name'].empty     //\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u6307\u793a\u8be5\u5b57\u6bb5\u5728doc\u4e2d\u662f\u5426\u6ca1\u6709\u503c\u3002\ndoc['field_name'].lat       //\u5730\u7406\u4f4d\u7f6e\u7684\u7eac\u5ea6\u3002\ndoc['field_name'].lon       //\u5730\u7406\u4f4d\u7f6e\u7684\u7ecf\u5ea6\u3002\n</code></pre>"},{"location":"ES/6-%E8%81%9A%E5%90%88%E5%88%86%E6%9E%90/","title":"6-\u805a\u5408\u5206\u6790","text":""},{"location":"ES/6-%E8%81%9A%E5%90%88%E5%88%86%E6%9E%90/#_1","title":"\u805a\u5408\u5206\u6790","text":""},{"location":"ES/6-%E8%81%9A%E5%90%88%E5%88%86%E6%9E%90/#_2","title":"\u805a\u5408\u7b80\u4ecb","text":""},{"location":"ES/6-%E8%81%9A%E5%90%88%E5%88%86%E6%9E%90/#_3","title":"\u5565\u662f\u805a\u5408","text":"<p>\u805a\u5408\u5206\u6790\u662f\u6570\u636e\u5e93\u4e2d\u91cd\u8981\u7684\u529f\u80fd\u7279\u6027\uff0c\u4f8b\u5982\uff1a\u627e\u51fa\u67d0\u5b57\u6bb5\u7684<code>\u6700\u5927\u503c</code>\u3001<code>\u6700\u5c0f\u503c</code>\u3001<code>\u5e73\u5747\u503c</code>\u3001<code>\u603b\u548c</code>\u7b49\u7b49\u3002</p> <p>\u5bf9\u4e00\u4e2a\u6570\u636e\u96c6\u6c42 max\u3001min\u3001avg\u3001sum \u7b49\uff0c\u5728 ES \u4e2d\u79f0\u4e3a \u6307\u6807\u805a\u5408 metric\u3002</p> <p>\u800c\u5728\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d\u8fd8\u53ef\u4ee5\u5bf9\u67e5\u51fa\u6765\u7684\u6570\u636e\u8fdb\u884c\u5206\u7ec4 Group By\uff0c\u518d\u5728\u7ec4\u4e0a max\u3001min \u7b49\uff0c\u5728 ES \u4e2d\u79f0\u4e3a \u5206\u6876\u3001\u6876\u805a\u5408 bucketing\u3002</p> <p>\u9664\u6b64\u4e4b\u5916 ES \u8fd8\u63d0\u4f9b \u77e9\u9635\u805a\u5408 matrix\u3001\u7ba1\u9053\u805a\u5408 pipeline \u7b49\u3002</p>"},{"location":"ES/6-%E8%81%9A%E5%90%88%E5%88%86%E6%9E%90/#_4","title":"\u805a\u5408\u8bed\u6cd5","text":"<pre><code>{\n    \"aggregations\": {       // \u805a\u5408\u5173\u952e\u8bcd\uff0c\u53ef\u7b80\u5199\u4e3a aggs\n        \"&lt;AGG_NAME&gt;\": {     // \u805a\u5408\u540d\u79f0\n            \"&lt;AGG_TYPE&gt;\": { // \u805a\u5408\u7c7b\u578b\n                &lt;AGG_BODY&gt;  // \u805a\u5408\u4f53\uff1a\u5bf9\u54ea\u4e9b\u5b57\u6bb5\u805a\u5408\n            }\n            [, \"aggregations\": {[&lt;SUB_AGGREGATION&gt;]+ }]?    // \u805a\u5408\u91cc\u5b9a\u4e49\u5b50\u805a\u5408\n            [, \"meta\": {[&lt;META_DATA_BODY&gt;]}]?               // \u5b9a\u4e49\u5143\u4fe1\u606f\n        }\n    }\n    [, \"aggregations\": {...}]*  // \u5176\u4ed6\u805a\u5408\uff0c0\u6216N\u4e2a\n}\n</code></pre> <p><code>*</code>: 0 or N, <code>+</code>: 1 or N, <code>?</code>: 0 or 1.</p>"},{"location":"ES/6-%E8%81%9A%E5%90%88%E5%88%86%E6%9E%90/#_5","title":"\u805a\u5408\u503c\u7684\u6765\u6e90","text":"<p>\u805a\u5408\u8ba1\u7b97\u7684\u503c\u53ef\u4ee5\u53d6\u5b57\u6bb5\u7684\u503c\uff0c\u4e5f\u53ef\u662f\u811a\u672c\u8ba1\u7b97\u7684\u7ed3\u679c\u3002</p>"},{"location":"ES/6-%E8%81%9A%E5%90%88%E5%88%86%E6%9E%90/#_6","title":"\u6307\u6807\u805a\u5408","text":""},{"location":"ES/6-%E8%81%9A%E5%90%88%E5%88%86%E6%9E%90/#maxminsumavg","title":"max/min/sum/avg","text":"\u67e5\u8be2\u6240\u6709\u5ba2\u6237\u4e2d\u4f59\u989d\u7684\u6700\u5927\u503c ReqResp <pre><code>POST /bank/_search HTTP/1.1\nContent-Type: application/json\n\n{\n    \"size\": 0, \n    \"aggs\": {\n        \"maxbalance\": {\n            \"max\": {\"field\": \"balance\"}\n        }\n    }\n}\n</code></pre> <pre><code>{\n    ...\n    \"hits\": {\n        \"total\": 1000,\n        \"max_score\": 0,\n        \"hits\": []\n    },\n    \"aggregations\": {   // \u6570\u636e\u7ed3\u679c\u5728\u8fd9\n        \"masssbalance\": {\n            \"value\": 49989\n        }\n    }\n}\n</code></pre> \u67e5\u8be2\u5e74\u9f84\u4e3a24\u5c81\u7684\u5ba2\u6237\u4e2d\u7684\u4f59\u989d\u6700\u5927\u503c ReqResp <pre><code>POST /bank/_search HTTP/1.1\nContent-Type: application/json\n\n{\n    \"size\": 2, \n    \"query\": {\"match\": {\"age\": 24}},\n    \"sort\": [{\"balance\": {\"order\": \"desc\"}}],\n    \"aggs\": {\n        \"max_balance\": {\n            \"max\": {\"field\": \"balance\"}\n        }\n    }\n}\n</code></pre> <pre><code>{\n    \"aggregations\": {\n        \"max_balance\": {\n            \"value\": 48745\n        }\n    },\n    ...\n    \"hits\": {\n        \"total\": 42,\n        \"max_score\": null,\n        \"hits\": [\n            {\n                ...\n                \"_source\": {\n                    \"account_number\": 697,\n                    \"balance\": 48745,\n                    \"firstname\": \"Mallory\",\n                    \"lastname\": \"Emerson\",\n                    \"age\": 24,\n                    \"gender\": \"F\",\n                    \"address\": \"318 Dunne Court\",\n                    \"employer\": \"Exoplode\",\n                    \"email\": \"malloryemerson@exoplode.com\",\n                    \"city\": \"Montura\",\n                    \"state\": \"LA\"\n                },\n                \"sort\": [48745]\n            },\n            {\n                ...\n                \"_source\": {\n                    \"account_number\": 917,\n                    \"balance\": 47782,\n                    \"firstname\": \"Parks\",\n                    \"lastname\": \"Hurst\",\n                    \"age\": 24,\n                    \"gender\": \"M\",\n                    \"address\": \"933 Cozine Avenue\",\n                    \"employer\": \"Pyramis\",\n                    \"email\": \"parkshurst@pyramis.com\",\n                    \"city\": \"Lindcove\",\n                    \"state\": \"GA\"\n                },\n                \"sort\": [47782]\n            }\n        ]\n    }\n}\n</code></pre> \u503c\u6765\u6e90\u4e8e\u811a\u672c\uff0c\u67e5\u8be2\u6240\u6709\u5ba2\u6237\u7684\u5e73\u5747\u5e74\u9f84\u662f\u591a\u5c11\uff0c\u5e76\u5bf9\u5e73\u5747\u5e74\u9f84\u52a010 <p>===\"Req\"     </p><pre><code>POST /bank/_search?size=0 HTTP/1.1\nContent-Type: application/json\n\n{\n    \"aggs\": {\n        \"avg_age\": {\n            \"avg\": {\"script\": {\"source\": \"doc.age.value\"}}\n        },\n        \"avg_age10\": {\n            \"avg\": {\"script\": {\"source\": \"doc.age.value + 10\"}}\n        }\n    }\n}\n</code></pre><p></p> Resp <pre><code>{\n    ...\n    \"hits\": {\n        \"total\": 1000,\n        \"max_score\": 0,\n        \"hits\": []\n    },\n    \"aggregations\": {\n        \"avg_age\": {\"value\": 30.171},\n        \"avg_age10\": {\"value\": 40.171}\n    }\n}\n</code></pre>"},{"location":"ES/6-%E8%81%9A%E5%90%88%E5%88%86%E6%9E%90/#count","title":"count: \u6587\u6863\u8ba1\u6570","text":""},{"location":"ES/6-%E8%81%9A%E5%90%88%E5%88%86%E6%9E%90/#value-count","title":"Value count: \u7edf\u8ba1\u67d0\u5b57\u6bb5\u6709\u503c\u7684\u6587\u6863\u6570","text":""},{"location":"ES/6-%E8%81%9A%E5%90%88%E5%88%86%E6%9E%90/#cardinality","title":"cardinality: \u503c\u53bb\u91cd","text":"Example ReqResp <pre><code>POST /bank/_search HTTP/1.1\nContent-Type: application/json\n\n{\n    \"aggs\": {\n        \"age_count\": {\n            \"cardinality\": {\"field\": \"age\"}\n        },\n        \"state_count\": {\n            \"cardinality\": {\"field\": \"state.keyword\"}\n        }\n    }\n}\n</code></pre> <pre><code>{\n    ...\n    \"hits\": {\n        \"total\": 1000,\n        \"max_score\": 0,\n        \"hits\": []\n    },\n    \"aggregations\": {\n        \"state_count\": {\"value\": 51},\n        \"age_count\": { \"value\": 21}\n    }\n}\n</code></pre>"},{"location":"ES/6-%E8%81%9A%E5%90%88%E5%88%86%E6%9E%90/#stats-count-max-min-avg-sum-5","title":"stats: \u7edf\u8ba1 count max min avg sum 5\u4e2a\u503c","text":""},{"location":"ES/6-%E8%81%9A%E5%90%88%E5%88%86%E6%9E%90/#extended-stats","title":"Extended stats","text":"<p>\u6bd4stats\u591a4\u4e2a\u7edf\u8ba1\u7ed3\u679c\uff1a \u5e73\u65b9\u548c\u3001\u65b9\u5dee\u3001\u6807\u51c6\u5dee\u3001\u5e73\u5747\u503c\u52a0/\u51cf\u4e24\u4e2a\u6807\u51c6\u5dee\u7684\u533a\u95f4</p> Example ReqResp <pre><code>POST /bank/_search HTTP/1.1\nContent-Type: application/json\n\n{\n    \"aggs\": {\n        \"age_stats\": {\n            \"extended_stats\": {\"field\": \"age\"}\n        }\n    }\n}\n</code></pre> <pre><code>{\n    ...\n    \"hits\": {\n        \"total\": 1000,\n        \"max_score\": 0,\n        \"hits\": []\n    },\n    \"aggregations\": {\n        \"age_stats\": {\n        \"count\": 1000,\n        \"min\": 20,\n        \"max\": 40,\n        \"avg\": 30.171,\n        \"sum\": 30171,\n        \"sum_of_squares\": 946393,\n        \"variance\": 36.10375899999996,\n        \"std_deviation\": 6.008640362012022,\n            \"std_deviation_bounds\": {\n                \"upper\": 42.18828072402404,\n                \"lower\": 18.153719275975956\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"ES/6-%E8%81%9A%E5%90%88%E5%88%86%E6%9E%90/#percentiles","title":"Percentiles \u5360\u6bd4\u767e\u5206\u4f4d\u5bf9\u5e94\u7684\u503c\u7edf\u8ba1","text":""},{"location":"ES/6-%E8%81%9A%E5%90%88%E5%88%86%E6%9E%90/#percentiles-rank","title":"Percentiles rank \u7edf\u8ba1\u503c\u5c0f\u4e8e\u7b49\u4e8e\u6307\u5b9a\u503c\u7684\u6587\u6863\u5360\u6bd4","text":""},{"location":"ES/6-%E8%81%9A%E5%90%88%E5%88%86%E6%9E%90/#_7","title":"\u6876\u805a\u5408","text":""},{"location":"Go/Advanced/Golang-16-%E5%B9%B6%E5%8F%91/","title":"\u5e76\u53d1","text":""},{"location":"Go/Advanced/Golang-16-%E5%B9%B6%E5%8F%91/#_1","title":"\u5e76\u53d1","text":""},{"location":"Go/Advanced/Golang-16-%E5%B9%B6%E5%8F%91/#goroutine","title":"goroutine","text":"<p>Golang \u5e76\u53d1\u901a\u8fc7 <code>goroutine</code> \u5b9e\u73b0\uff0c\u7c7b\u4f3c\u4e8e\u7ebf\u7a0b\uff0c\u5c5e\u4e8e\u7528\u6237\u6001\u7684\u7ebf\u7a0b\u3002 <code>goroutine</code> \u5f00\u9500\u975e\u5e38\u5c0f\uff0c\u6240\u4ee5\u4e00\u4e2a\u7a0b\u5e8f\u5f00\u8f9f\u6570\u5343\u4e2a\u90fd\u6ca1\u95ee\u9898\u3002</p> <p>Golang \u5728\u8bed\u8a00\u5c42\u9762\u5df2\u7ecf\u5185\u7f6e\u4e86\u8c03\u5ea6\u548c\u4e0a\u4e0b\u6587\u5207\u6362\u7684\u673a\u5236\uff0c\u4f1a\u667a\u80fd\u5730\u5c06 <code>goroutine</code> \u79cd\u7684\u4efb\u52a1\u5408\u7406\u5730\u5206\u914d\u7ed9\u6bcf\u4e2aCPU\u3002</p> <p>\u5f53\u9700\u8981\u8ba9\u67d0\u4e2a\u4efb\u52a1\u5e76\u53d1\u7684\u6267\u884c\u65f6\uff0c\u53ea\u8981\u628a\u8fd9\u4e2a\u4efb\u52a1\u5305\u88c5\u6210\u4e00\u4e2a\u51fd\u6570\uff0c\u5f00\u542f\u4e00\u4e2a <code>goroutine</code> \u53bb\u6267\u884c\u8fd9\u4e2a\u51fd\u6570\u5373\u53ef\u3002</p>"},{"location":"Go/Advanced/Golang-16-%E5%B9%B6%E5%8F%91/#goroutine_1","title":"\u4e3b goroutine","text":"<p><code>main()</code> \u51fd\u6570\u81ea\u5df1\u672c\u8eab\u5c31\u5904\u4e8e <code>\u4e3b goroutine</code>\u3002 <code>\u4e3b goroutine</code> \u7ed3\u675f\u7684\u65f6\u5019\uff0c\u5176\u4ed6\u6267\u884c\u5b8c\u6bd5\u7684\u3001\u672a\u6267\u884c\u5b8c\u6bd5\u7684 <code>\u5b50 goroutine</code> \u4e5f\u4f1a\u4e00\u5e76\u88ab\u7ed3\u675f\u3002</p> <p><code>\u4e3b goroutine</code> \u7684\u4efb\u52a1\uff1a</p> <ol> <li>\u8bbe\u5b9a\u6bcf\u4e2a <code>goroutine</code> \u6240\u80fd\u7533\u8bf7\u7684\u6808\u7a7a\u95f4\u7684\u6700\u5927\u5c3a\u5bf8\u3002    \u5728 32 \u4f4d\u7cfb\u7edf\u4e2d\u6700\u5927\u5c3a\u5bf8\u4e3a 250MB\uff0c64 \u4f4d\u7cfb\u7edf\u4e2d\u6700\u5927\u5c3a\u5bf8\u4e3a 1GB\u3002\u5982\u679c\u67d0\u4e2a <code>goroutine</code> \u7684\u5360\u7a7a\u95f4\u5c3a\u5bf8\u5927\u4e8e\u8fd9\u4e2a\u9650\u5236\uff0c\u5219\u8fd0\u884c\u65f6\u7cfb\u7edf\u4f1a\u5f15\u53d1\u4e00\u4e2a\u6808\u6ea2\u51fa\uff08Stack Overflow\uff09\u7684 <code>panic</code>\uff0c\u968f\u540e\u8fd9\u4e2a\u7a0b\u5e8f\u4e5f\u4f1a\u7ec8\u6b62\u3002</li> <li>\u6267\u884c\u521d\u59cb\u5316\u5de5\u4f5c\uff1a<ol> <li>\u521b\u5efa\u4e00\u4e2a\u7279\u6b8a\u7684 <code>defer</code> \u8bed\u53e5\uff0c\u7528\u4e8e<code>\u4e3b goroutine</code> \u9000\u51fa\u65f6\u505a\u5fc5\u8981\u7684\u5584\u540e\u5904\u7406\u3002\u56e0\u4e3a <code>\u4e3b goroutine</code> \u4e5f\u53ef\u80fd\u975e\u6b63\u5e38\u7ed3\u675f\u3002</li> <li>\u542f\u52a8\u4e13\u7528\u4e8e <code>GC(Garbage Clean)</code> \u7684 <code>goroutine</code>\uff0c\u5e76\u8bbe\u7f6e GC \u53ef\u7528\u7684\u6807\u8bc6\u3002</li> <li>\u6267\u884c <code>main</code> \u5305\u4e2d\u7684 <code>init()</code> \u51fd\u6570\u3002</li> <li>\u6267\u884c <code>main()</code> \u51fd\u6570\u3002</li> </ol> </li> <li>\u5728 <code>main()</code> \u51fd\u6570\u7ed3\u675f\u540e\uff0c\u68c0\u67e5 <code>\u4e3b goroutine</code> \u662f\u5426\u5f15\u53d1\u4e86\u8fd0\u884c\u65f6 panic\uff0c\u5e76\u8fdb\u884c\u5fc5\u8981\u7684\u5904\u7406\u3002</li> <li>\u6700\u540e\uff0c\u7ed3\u675f\u81ea\u5df1\u53ca\u5f53\u524d\u8fdb\u7a0b\u7684\u8fd0\u884c\u3002</li> </ol>"},{"location":"Go/Advanced/Golang-16-%E5%B9%B6%E5%8F%91/#_2","title":"\u4f7f\u7528","text":"<p>\u4e00\u4e2a <code>goroutine</code> \u5fc5\u5bf9\u5e94\u4e00\u4e2a\u51fd\u6570\uff0c\u53ef\u4ee5\u521b\u5efa\u591a\u4e2a <code>goroutine</code> \u53bb\u6267\u884c\u76f8\u540c\u7684\u51fd\u6570\u3002 \u53ea\u9700\u8981\u5728\u51fd\u6570\u8c03\u7528\u5904\u52a0\u4e0a <code>go</code> \u5173\u952e\u5b57\u4fee\u9970\uff0c\u5373\u53ef\u4e3a\u4e00\u4e2a\u51fd\u6570\u521b\u5efa\u4e00\u4e2a <code>goroutine</code>\u3002</p> \u5355\u4e2agoroutine\u591a\u4e2agoroutine \u4e32\u884c\u7a0b\u5e8fgoroutine \u5e76\u53d1\u7a0b\u5e8f <pre><code>func hello() {\n    fmt.Println(\"Hello World\")\n}\n\nfunc main() {\n    hello()\n    fmt.Println(\"Main Function\")\n}\n</code></pre> <p>\u8f93\u51fa:</p> <pre><code>Hello World\nMain Function\n</code></pre> <pre><code>func hello() {\n    fmt.Println(\"Hello World\")\n}\n\nfunc main() {\n    go hello()    // \u4e3a hello() \u5f00\u542f\u4e00\u4e2a goroutine\n    fmt.Println(\"Main Function\")\n    time.Sleep(time.Second)    // \u8ba9\u4e3b\u7a0b\u5e8f\u4f11\u7720\u4e00\u4e0b\n}\n</code></pre> <p>\u8f93\u51fa:</p> <pre><code>Hello World\nMain Function\n</code></pre> <p>\u5728\u5355\u4e2a <code>goroutine</code> \u7684\u4f8b\u5b50\u4e2d\uff0c\u4e3a\u4e86\u9632\u6b62 <code>\u4e3b goroutine</code> \u5feb\u4e8e <code>\u5b50 goroutine</code> \u5b8c\u6210\uff0c\u5bfc\u81f4 <code>\u5b50 goroutine</code> \u6765\u4e0d\u53ca\u5b8c\u6210\u5c31\u9000\u51fa\u7a0b\u5e8f\uff0c\u5728 <code>main()</code> \u4e2d\u6dfb\u52a0\u4e86\u4e00\u6761 <code>time.Sleep()</code>\u3002\u867d\u7136\u6682\u65f6\u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u4f46\u662f\u4e0d\u4f18\u96c5\uff0c\u4e5f\u4e0d\u79d1\u5b66\u3002</p> <p>Info</p> <p>\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4f7f\u7528 <code>sync.WaitGroup</code> \u6765\u540c\u6b65\u591a\u4e2a <code>goroutine</code>\u3002</p> <p>\u4f7f\u7528\u6b65\u9aa4\uff1a</p> <ol> <li>\u58f0\u660e\u4e00\u4e2a <code>sync.WaitGroup</code> \u5bf9\u8c61</li> <li>\u6dfb\u52a0\u4e00\u4e2a\u8ba1\u6570\u5668</li> <li>\u8c03\u7528 <code>Wait()</code> \u7b49\u5f85</li> <li>\u5728 <code>goroutine</code> \u4e2d <code>defer</code> \u4fee\u9970 <code>sync.WaitGroup</code> \u7684 <code>Done()</code> \u65b9\u6cd5</li> </ol> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"sync\"\n)\n\nvar wg sync.WaitGroup    // \u58f0\u660e\u4e00\u4e2a WaitGroup \u5bf9\u8c61\n\nfunc main() {\n    wg.Add(10)    // \u6dfb\u52a0\u4e00\u4e2a\u8ba1\u6570\u5668\n    for i := 0; i &lt; 10; i++ {\n        go hello(i)\n    }\n    fmt.Println(\"Main Function\")\n    wg.Wait()    // \u7b49\u5f85\u8ba1\u6570\u5668\u5f52\u96f6\u518d\u5f80\u4e0b\u8d70\n}\n\nfunc hello(i int) {\n    defer wg.Done()    // \u8ba1\u6570\u5668 -1\n    fmt.Println(\"Hello \", i)\n}\n</code></pre> <p>\u8f93\u51fa:</p> <pre><code>Hello  1\nHello  2\nHello  3\nHello  4\nMain Function\nHello  9\nHello  6\nHello  7\nHello  8\nHello  0\nHello  5\n</code></pre>"},{"location":"Go/Advanced/Golang-17-Channel/","title":"Channel","text":""},{"location":"Go/Advanced/Golang-17-Channel/#channel","title":"channel","text":"<p>Warning</p> <p>\u901a\u9053 channel \u662f\u5f15\u7528\u7c7b\u578b\uff01\uff01\uff01</p> <p><code>channel</code> \u7684\u4f5c\u7528\uff1a \u5355\u7eaf\u7684\u5e76\u53d1\u6267\u884c\u51fd\u6570\u7684\u6ca1\u6709\u610f\u4e49\u7684\u3002\u51fd\u6570\u95f4\u9700\u8981\u4ea4\u6362\u6570\u636e\u624d\u80fd\u4f53\u73b0\u5e76\u53d1\u6267\u884c\u7684\u610f\u4e49\u3002 \u5c31\u50cf OS \u7684\u5e76\u53d1\u6027\u548c\u5171\u4eab\u6027\uff0c\u6ca1\u6709\u5e76\u53d1\u8c08\u4e0d\u4e0a\u5171\u4eab\uff0c\u6ca1\u6709\u5171\u4eab\u5e76\u53d1\u6ca1\u6709\u610f\u4e49\u3002 \u6240\u4ee5 <code>channel</code> \u5c31\u662f\u7528\u5728 <code>goroutine</code> \u4e4b\u95f4\u7684\u901a\u4fe1\u4e0a\u7684\u3002</p> <p>Communicate through shared memory rather than through shared memory.  ----- Golang</p> <p>Golang \u63d0\u5021 \u901a\u8fc7\u901a\u4fe1\u5171\u4eab\u5185\u5b58\u800c\u4e0d\u662f\u901a\u8fc7\u5171\u4eab\u5185\u5b58\u5b9e\u73b0\u901a\u4fe1\u3002</p> <p><code>goroutine</code> \u662f\u7a0b\u5e8f\u5e76\u53d1\u7684\u6267\u884c\u4f53\uff0c<code>channel</code> \u5c31\u662f\u5b83\u4eec\u4e4b\u95f4\u7684\u901a\u4fe1\u7ba1\u9053\u3002</p> <p><code>channel</code> \u6709\u65f6\u5019\u7b80\u5199\u4e3a\uff1a<code>chan</code>\uff0c\u9075\u5faa FIFO \u5148\u8fdb\u5148\u51fa \u7684\u89c4\u5219\uff0c\u4fdd\u8bc1\u4e86\u6536\u53d1\u6570\u636e\u7684\u987a\u5e8f\u3002</p> <p>\u6bcf\u4e00\u4e2a <code>chan</code> \u90fd\u662f\u4e00\u4e2a\u5177\u4f53\u7c7b\u578b\u7684\u7ba1\u9053\uff0c\u5373\u58f0\u660e <code>channel</code> \u65f6\u9700\u8981\u4e3a\u5176\u6307\u5b9a\u5143\u7d20\u7c7b\u578b\u3002</p>"},{"location":"Go/Advanced/Golang-17-Channel/#channel_1","title":"\u521b\u5efa channel","text":"<pre><code>var idn chan T\nidn = make(chan T[, size])\n\nidn := make(chan T[, size])    // \u77ed\u58f0\u660e\n</code></pre> <ol> <li><code>chan</code> \u7684\u521b\u5efa\u9700\u8981 <code>make()</code> \u5206\u914d\u5185\u5b58\u624d\u80fd\u4f7f\u7528\u3002\u5355\u7eaf\u7684\u58f0\u660e\u65f6\uff0c\u9ed8\u8ba4\u503c\u4e3a <code>nil</code>\u3002</li> <li>\u5206\u914d\u5185\u5b58\u65f6\u53ef\u4ee5\u6307\u5b9a\u901a\u9053\u5927\u5c0f\uff0c\u4e5f\u5c31\u662f\u8fd9\u6761\u7ba1\u5b50\u7684\u5bb9\u91cf\u3002</li> </ol> <p>Example</p> <pre><code>func main() {\n    var ch chan int          // \u58f0\u660e\u901a\u9053\u53d8\u91cf\n    fmt.Println(ch)          // nil\n    ch = make(chan int)      // \u65e0\u7f13\u51b2\u533a\uff0c\u5206\u914d\u5185\u5b58\n    fmt.Println(ch)          // 0xc0000d4000\n\n    ch2 := make(chan int, 2) // \u6709\u7f13\u51b2\u533a\n    fmt.Println(ch2)         // 0xc0000d5000\n}\n</code></pre> <p>\u5bf9\u4e8e\u65e0\u7f13\u51b2\u7684\u901a\u9053\uff1a</p> <ul> <li>\u4e00\u6b21\u53d1\u9001\u3001\u4e00\u6b21\u63a5\u6536\uff0c\u90fd\u662f\u963b\u585e\u7684</li> </ul> <p>\u5bf9\u4e8e\u6709\u7f13\u51b2\u7684\u901a\u9053\uff1a</p> <ul> <li>\u53d1\u9001-&gt;\u7f13\u51b2\u533a\u6ee1\u4e86\uff0c\u624d\u4f1a\u963b\u585e\uff1b</li> <li>\u63a5\u6536-&gt;\u7f13\u51b2\u533a\u7a7a\u4e86\uff0c\u624d\u4f1a\u963b\u585e\u3002</li> </ul> <p>\u65e0\u7f13\u51b2\u901a\u9053\u5c31\u597d\u50cf\u5feb\u9012\u5458\u9001\u5feb\u9012\uff0c\u53ea\u80fd\u5f53\u9762\u9001\u7ed9\u4f60\uff0c\u4f60\u7b7e\u6536\u4e4b\u524d\u4ed6\u5c31\u4e00\u76f4\u963b\u585e\u5728\u90a3\u91cc\u3002 \u6709\u7f13\u51b2\u901a\u9053\u5c31\u597d\u50cf\u6709\u4e86\u5feb\u9012\u67dc\uff0c\u653e\u5230\u5feb\u9012\u67dc\u91cc\u7b49\u4f60\u81ea\u5df1\u6765\u62ff\u3002\u5feb\u9012\u67dc\u6ee1\u4e86\u5feb\u9012\u5458\u4e5f\u53ea\u80fd\u7b49\u7740\uff0c\u963b\u585e\u5728\u90a3\u91cc\u3002</p>"},{"location":"Go/Advanced/Golang-17-Channel/#channel_2","title":"\u64cd\u4f5c channel","text":"<p>\u901a\u9053\u6709 \u53d1\u9001\uff08\u901a\u9053\u8bfb\u5165\u6570\u636e\uff09\u3001\u63a5\u6536\uff08\u901a\u9053\u5199\u51fa\u6570\u636e\uff09\u3001\u5173\u95ed \u4e09\u79cd\u64cd\u4f5c</p> <pre><code>ch := make(chan int)\n</code></pre> <p>Info</p> <p>\u53d1\u9001\u548c\u63a5\u6536\u6709\u70b9\u5bb9\u6613\u6df7\u6dc6\uff0c\u53ef\u4ee5\u8fd9\u4e48\u8bb0\uff1a\u5de6\u53d1\u53f3\u6536\u3001\u5de6\u5199\u53f3\u8bfb\u3002</p> <p>\u901a\u9053\u5728\u5de6\u8fb9\uff1a\u5411\u901a\u9053\u53d1\u9001\uff1b</p> <p>\u901a\u9053\u5728\u53f3\u8fb9\uff1a\u4ece\u901a\u9053\u63a5\u6536</p>"},{"location":"Go/Advanced/Golang-17-Channel/#_1","title":"\u53d1\u9001","text":"<p>\u5c06\u4e00\u4e2a\u503c\u53d1\u9001\u5230\u901a\u9053\u4e2d\uff08\u901a\u9053\u5199\u5165\u4e00\u4e2a\u503c\uff09\u3002 </p><pre><code>ch &lt;- 10    // \u628a 10 \u53d1\u9001\u5230 ch \u4e2d\n</code></pre><p></p>"},{"location":"Go/Advanced/Golang-17-Channel/#_2","title":"\u63a5\u6536","text":"<p>\u4ece\u4e00\u4e2a\u901a\u9053\u4e2d\u63a5\u6536\u503c\uff08\u901a\u9053\u8bfb\u51fa\u4e00\u4e2a\u503c\uff09\u3002 </p><pre><code>x := &lt;-ch     // \u4ece ch \u4e2d\u63a5\u6536\u503c\u5e76\u8d4b\u503c\u7ed9\u53d8\u91cf x\n&lt;- ch         // \u4ece ch \u4e2d\u63a5\u6536\u503c\uff0c\u5ffd\u7565\u7ed3\u679c\n</code></pre><p></p>"},{"location":"Go/Advanced/Golang-17-Channel/#_3","title":"\u5173\u95ed","text":"<p>\u8c03\u7528\u5185\u7f6e\u51fd\u6570 <code>close()</code> \u6765\u5173\u95ed\u901a\u9053\u3002 </p><pre><code>close(ch)\n</code></pre><p></p> <ul> <li>\u5df2\u5173\u95ed\u7684\u901a\u9053\u4ecd\u7136\u53ef\u4ee5\u83b7\u53d6\u6570\u636e\u76f4\u5230\u901a\u9053\u4e3a\u7a7a</li> <li>\u5df2\u5173\u95ed\u7684\u901a\u9053\u6570\u636e\u53d6\u5b8c\u53ea\u4f1a\u63a5\u6536\u5230\u96f6\u503c</li> <li>\u5df2\u5173\u95ed\u7684\u901a\u9053\u518d\u53d1\u9001\u503c\u4f1a\u5bfc\u81f4 <code>panic</code></li> <li>\u5173\u95ed\u5df2\u7ecf\u5173\u95ed\u7684\u901a\u9053\u4f1a\u5bfc\u81f4 <code>panic</code>\uff0c\u6700\u597d\u7528 <code>new(sync.Once).Do(func() { close(ch) })</code> \u5173\u95ed</li> </ul> <p>\u5173\u4e8e\u5173\u95ed\u901a\u9053\u9700\u8981\u6ce8\u610f\u7684\u4e8b\u60c5\u662f\uff1a</p> <ul> <li>\u53ea\u6709\u5728\u901a\u77e5\u63a5\u6536\u65b9goroutine\u6240\u6709\u7684\u6570\u636e\u90fd\u53d1\u9001\u5b8c\u6bd5\u7684\u65f6\u5019\u624d\u9700\u8981\u5173\u95ed\u901a\u9053\u3002</li> <li>\u901a\u9053\u662f\u53ef\u4ee5\u88ab\u5783\u573e\u56de\u6536\u673a\u5236\u56de\u6536\u7684\uff0c\u5b83\u548c\u5173\u95ed\u6587\u4ef6\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u5728\u7ed3\u675f\u64cd\u4f5c\u4e4b\u540e\u5173\u95ed\u6587\u4ef6\u662f\u5fc5\u987b\u8981\u505a\u7684\uff0c\u4f46\u5173\u95ed\u901a\u9053\u4e0d\u662f\u5fc5\u987b\u7684\u3002</li> </ul>"},{"location":"Go/Advanced/Golang-17-Channel/#_4","title":"\u5224\u65ad\u901a\u9053\u662f\u5426\u88ab\u5173\u95ed","text":"<p><code>x, ok := &lt;-ch</code> \u4ece\u901a\u9053\u4e2d\u63a5\u6536\u503c\u65f6\uff0c\u4f1a\u8fd4\u56de\u4e24\u4e2a\u503c\uff1a1\ufe0f\u20e3 \u4e00\u4e2a\u662f\u6570\u636e\uff0c2\ufe0f\u20e3 \u4e00\u4e2a\u662f\u901a\u9053\u5f00\u542f\u72b6\u6001\u3002</p> <p>\u901a\u9053\u88ab\u5173\u95ed\u540e <code>ok</code> \u4e3a <code>false</code>\u3002</p> <pre><code>func main() {\n    ch := make(chan int, 3)\n    ch &lt;- 10\n    ch &lt;- 20\n    ch &lt;- 30\n    close(ch)\n\n    for {\n        x, ok := &lt;-ch\n        if !ok {\n            break\n        }\n        fmt.Println(x)\n    }\n}\n\n// Output:\n10\n20\n30\n</code></pre>"},{"location":"Go/Advanced/Golang-17-Channel/#_5","title":"\u5355\u5411\u901a\u9053","text":"<p>\u6709\u65f6\u5019\u6211\u4eec\u4f1a\u5c06\u901a\u9053\u4f5c\u4e3a\u53c2\u6570\u5728\u591a\u4e2a\u4efb\u52a1\u51fd\u6570\u4e4b\u95f4\u4f20\u9012\uff0c\u901a\u5e38\u6211\u4eec\u5728\u4e0d\u540c\u7684\u4efb\u52a1\u51fd\u6570\u4e2d\u4f7f\u7528\u901a\u9053\u90fd\u4f1a\u5bf9\u5176\u8fdb\u884c\u9650\u5236\uff0c\u5982\u53ea\u80fd\u53d1\u9001\u6216\u63a5\u6536\u3002</p> <p>\u4e0a\u9762\u4ecb\u7ecd\u7684\u90fd\u662f \u53cc\u5411\u901a\u9053\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u4f7f\u7528 \u5355\u5411\u901a\u9053 \u53ef\u4ee5\u5904\u7406\u8fd9\u79cd\u60c5\u51b5\uff08\u5355\u5411\u901a\u9053 \u4e5f\u5e38\u7528\u4e8e\u53c2\u6570\uff09\u3002</p> <ul> <li><code>&lt;-chan T</code> \u662f\u4e00\u4e2a \u53ea\u8bfb \u5355\u5411\u901a\u9053\uff0c\u53ea\u80fd\u4ece\u901a\u9053\u4e2d\u8bfb\u53d6\u6570\u636e\uff0c\u901a\u9053\u53ef\u4ee5\u6267\u884c \u63a5\u6536 \u64cd\u4f5c\u4f46\u4e0d\u80fd\u6267\u884c\u53d1\u9001\u64cd\u4f5c\u3002</li> <li><code>chan&lt;- T</code> \u662f\u4e00\u4e2a \u53ea\u5199 \u5355\u9879\u901a\u9053\uff0c\u53ea\u80fd\u5411\u901a\u9053\u4e2d\u5199\u5165\u6570\u636e\uff0c\u901a\u9053\u53ef\u4ee5\u6267\u884c \u53d1\u9001 \u64cd\u4f5c\u4f46\u4e0d\u80fd\u6267\u884c\u8bfb\u53d6\u64cd\u4f5c\u3002</li> <li>\u5728\u51fd\u6570\u4f20\u53c2\u53ca\u4efb\u4f55\u8d4b\u503c\u64cd\u4f5c\u4e2d\u53ef\u4ee5\u5c06\u53cc\u5411\u901a\u9053\u8f6c\u6362\u4e3a\u5355\u5411\u901a\u9053\uff0c\u4f46\u53cd\u8fc7\u6765\u4e0d\u53ef\u4ee5\u3002</li> </ul> <pre><code>func producer(out chan&lt;- int) {    // \u751f\u4ea7\u8005\uff0c\u53ea\u80fd\u5411\u901a\u9053\u5199\u5165\u6570\u636e\n    for i := 0; i &lt; 100; i++ {\n        out &lt;- i\n    }\n    close(out)\n}\n\nfunc consumer(in &lt;-chan int) {    // \u6d88\u8d39\u8005\uff0c\u53ea\u80fd\u4ece\u901a\u9053\u8bfb\u53d6\u6570\u636e\n    for i := range in {\n        fmt.Println(i)\n    }\n}\n\nfunc main() {\n    ch := make(chan int, 100)\n    go producer(ch)\n    go consumer(ch)\n}\n</code></pre>"},{"location":"Go/Advanced/Golang-17-Channel/#_6","title":"\u901a\u9053\u603b\u7ed3","text":"<p><code>channel</code> \u5e38\u89c1\u5f02\u5e38\u603b\u7ed3\uff1a</p> <p></p> <p>\u5173\u95ed\u5df2\u7ecf\u5173\u95ed\u7684<code>channel</code>\u4e5f\u4f1a\u5f15\u53d1<code>panic</code>\u3002</p>"},{"location":"Go/Advanced/Golang-17-Channel/#worker-pool","title":"worker pool","text":"<p><code>Worker Pool</code> \u662f\u4e00\u79cd\u6a21\u578b\uff0c\u5176\u4e2d\u56fa\u5b9a\u6570\u91cf\u7684 m \u4e2a worker\uff0c\u901a\u8fc7 worker \u961f\u5217\u4e2d\u7684 n \u4e2a\u4efb\u52a1\u5de5\u4f5c\u3002 worker \u4e00\u76f4\u6392\u5728\u961f\u5217\u4e2d\uff0c\u76f4\u5230 worker \u5b8c\u6210\u5176\u5f53\u524d\u4efb\u52a1\u5e76\u63d0\u51fa\u65b0\u4efb\u52a1\u4e3a\u6b62\u3002 \u5728 Golang \u4e2d worker \u4f7f\u7528 <code>goroutine</code> \u5b9e\u73b0\uff0c\u4efb\u52a1\u4f7f\u7528\u901a\u9053\u5b9e\u73b0\u3002</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"time\"\n)\n\nfunc worker(id int, jobs &lt;-chan int, results chan&lt;- int) {\n    for j := range jobs {\n        fmt.Println(\"worker:\", id, \"start job:\", j)\n        time.Sleep(time.Second)\n        fmt.Println(\"worker:\", id, \"end job:\", j)\n        results &lt;- j * 2\n    }\n}\n\nfunc main() {\n    jobs := make(chan int, 100)\n    results := make(chan int, 100)\n\n    // \u5f00\u542f3\u4e2agoroutine\n    for w := 1; w &lt;= 3; w++ {\n        go worker(w, jobs, results)\n    }\n    // 5\u4e2a\u4efb\u52a1\n    for j := 1; j &lt;= 5; j++ {\n        jobs &lt;- j\n    }\n    close(jobs)\n    // close(results)\n\n    for a := 1; a &lt;= 5; a++ {\n        fmt.Println(&lt;-results)\n    }\n}\n</code></pre>"},{"location":"Go/Advanced/Golang-17-Channel/#select","title":"select \u591a\u8def\u590d\u7528","text":"<pre><code>select {\n    case communication clause:\n        statements\n    case communication clause:\n        statements\n    ...\n    default:    /* \u53ef\u9009 */\n        statements\n}\n</code></pre> <ul> <li>\u552f\u4e00\u4e00\u4e2a\u53ef\u7528\u7684\u901a\u9053\u4f1a\u88ab\u9009\u62e9\u3002</li> <li>\u5982\u679c\u591a\u4e2a\u901a\u9053\u53ef\u7528\uff0c\u4f1a\u968f\u673a\u516c\u5e73\u5730\u9009\u62e9\u4e00\u4e2a\uff0c\u5176\u4ed6\u4e0d\u4f1a\u6267\u884c\u3002</li> <li>\u5982\u679c\u6ca1\u6709\u901a\u9053\u53ef\u7528\uff0cdefault \u60c5\u51b5\u5c06\u88ab\u6267\u884c\u3002<ul> <li>\u5982\u679c\u6ca1\u6709 default\uff0cselect \u5c06\u4f1a\u963b\u585e\uff0c\u76f4\u5230\u67d0\u4e2a\u901a\u9053\u53ef\u4ee5\u8fd0\u884c\uff1bGolang \u4e0d\u4f1a\u91cd\u65b0\u5bf9 channel \u6216 \u503c\u8fdb\u884c\u6c42\u503c\u3002</li> </ul> </li> </ul> <p>Example</p> <pre><code>func main() {\n    ch := make(chan int)\n\n    go func() {\n        ch &lt;- 10\n        fmt.Println(\"\u6570\u636e\u5df2\u5199\u5165\")\n    }()\n\n    select {\n    case x := &lt;-ch:\n        fmt.Println(\"\u6570\u636e\u5df2\u8bfb\u51fa:\", x)\n    default:\n        fmt.Println(\"default..\")\n    }\n}\n</code></pre> <p>\u8f93\u51fa:</p> <pre><code>default..\n</code></pre> <p>\u7531\u4e8e <code>goroutine</code> \u6765\u4e0d\u53ca\u542f\u52a8\u5b8c\u6210\uff0c<code>select</code> \u5c31\u6267\u884c\u4e86\uff0c\u6b64\u65f6 <code>case</code> \u4e0d\u6ee1\u8db3\uff0c\u6240\u4ee5\u8fd0\u884c <code>default</code>\u3002 \u5982\u679c <code>select</code> \u4e4b\u524d\u7761\u7720\u4e00\u4e0b\uff0c\u7ed9 <code>goroutine</code> \u70b9\u65f6\u95f4\uff0c\u5c31\u53ef\u4ee5\u8fd0\u884c\u5230 <code>case</code> \u4e86\u3002</p> <p>Example</p> <pre><code>func main() {\n    ch := make(chan int)\n\n    go func() {\n        ch &lt;- 10\n        fmt.Println(\"\u6570\u636e\u5df2\u5199\u5165\")\n    }()\n\n    time.Sleep(500 * time.Millisecond)\n    select {\n    case x := &lt;-ch:\n        fmt.Println(\"\u6570\u636e\u5df2\u8bfb\u51fa:\", x)\n    default:\n        fmt.Println(\"default..\")\n    }\n}\n</code></pre> <p>\u8f93\u51fa:</p> <pre><code>\u6570\u636e\u5df2\u5199\u5165\n\u6570\u636e\u5df2\u8bfb\u51fa: 10\n</code></pre>"},{"location":"Go/Advanced/Golang-18-%E5%B9%B6%E5%8F%91%E5%AE%89%E5%85%A8/","title":"\u5e76\u53d1\u5b89\u5168","text":""},{"location":"Go/Advanced/Golang-18-%E5%B9%B6%E5%8F%91%E5%AE%89%E5%85%A8/#_1","title":"\u5e76\u53d1\u5b89\u5168","text":""},{"location":"Go/Advanced/Golang-18-%E5%B9%B6%E5%8F%91%E5%AE%89%E5%85%A8/#_2","title":"\u7ade\u6001","text":"<p>\u7ade\u6001 \u662f\u6307\u591a\u4e2a <code>goroutine</code> \u6309\u67d0\u4e9b\u4ea4\u9519\u987a\u5e8f\u6267\u884c\u65f6\uff0c\u4e89\u62a2\u4f7f\u7528\u540c\u4e00\u4efd\u4e34\u754c\u8d44\u6e90\uff0c\u5bfc\u81f4\u7a0b\u5e8f\u65e0\u6cd5\u7ed9\u51fa\u6b63\u786e\u7684\u7ed3\u679c\u3002 \u4e32\u884c\u7a0b\u5e8f \u4e2d\uff08\u4e00\u4e2a\u7a0b\u5e8f\u53ea\u6709\u4e00\u4e2a <code>goroutine</code>\uff09\uff0c\u7a0b\u5e8f\u4e2d\u5404\u4e2a\u6b65\u9aa4\u7684\u6267\u884c\u987a\u5e8f\u7531\u7a0b\u5e8f\u903b\u8f91\u51b3\u5b9a\uff0c\u6240\u4ee5\u5355\u4e2a <code>goroutine</code> \u4e0d\u4f1a\u5f15\u53d1\u7ade\u6001\u95ee\u9898\u3002 \u5e76\u53d1\u7a0b\u5e8f \u4e2d\uff08\u4e00\u4e2a\u7a0b\u5e8f\u6709\u591a\u4e2a <code>goroutine</code>\uff09\uff0c\u6bcf\u4e2a <code>goroutine</code> \u7684\u6267\u884c\u987a\u5e8f\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u56e0\u6b64\u53ef\u80fd\u4f1a\u5e26\u6765\u7ade\u6001\u95ee\u9898\u3002</p> <p>\u4f8b\u5982\uff1a </p><pre><code>package main\n\nimport \"fmt\"\n\nvar x int64\n\nfunc add() {\n    for i := 0; i &lt; 5_000_000; i++ {\n        x = x + 1\n    }\n}\n\nfunc main() {\n    add()\n    add()\n    fmt.Println(x)    // 10_000_000\n}\n</code></pre> \u8fd9\u662f\u4e00\u4e2a\u4e32\u884c\u7a0b\u5e8f\uff0c\u6240\u4ee5\u6700\u7ec8\u7684\u7ed3\u679c\u662f\u6b63\u786e\u7684\u3002<p></p> <p>\u4e0b\u9762\u5f00\u542f\u65b0\u7684 <code>goroutine</code> \u6267\u884c <code>add()</code> </p><pre><code>package main\n\nimport (\n    \"fmt\"\n    \"sync\"\n)\n\nvar (\n    x int64\n    wg sync.WaitGroup\n)\n\nfunc add() {\n    defer wg.Done()\n    for i := 0; i &lt; 5_000_000; i++ {\n        x = x + 1\n    }\n}\n\nfunc main() {\n    wg.Add(2)\n\n    go add()\n    go add()\n    fmt.Println(x)    // 5_872_265\n\n    wg.Wait()\n}\n</code></pre> \u4ece\u6253\u5370\u7ed3\u679c\u53ef\u4ee5\u770b\u51fa\u7ed3\u679c\u5e76\u4e0d\u6b63\u786e\uff0c\u8fd9\u662f\u56e0\u4e3a 3 \u4e2a <code>goroutine</code> \u4e89\u62a2\u7740\u4f7f\u7528 x \u8fd9\u4e2a\u4e34\u754c\u8d44\u6e90\uff0c\u6709\u53ef\u80fd\u6700\u7ec8\u7684 x \u7684\u7ed3\u679c\u662f\u6b63\u786e\u7684\uff0c\u4f46\u662f<code>main()</code> \u63d0\u524d\u62a2\u5230\u8d44\u6e90\u5c31\u6253\u5370\u51fa\u6765\u4e86\uff0c\u4e5f\u6709\u53ef\u80fd\u4e24\u4e2a <code>\u5b50goroutine</code> \u4e89\u62a2\u65f6\u5bfc\u81f4 x \u88ab\u5199\u4e71\u4e86\uff08\u53d1\u751f\u4e86\u7ade\u6001\uff09\u3002<p></p>"},{"location":"Go/Advanced/Golang-18-%E5%B9%B6%E5%8F%91%E5%AE%89%E5%85%A8/#_3","title":"\u907f\u514d\u7ade\u6001","text":"<ul> <li>\u7b2c\u4e00\u79cd\uff1a\u4e0d\u8981\u4fee\u6539\u53d8\u91cf\u3002\u8fd9\u79cd\u53ef\u4ee5\uff0c\u4f46\u4e0d\u73b0\u5b9e\uff0c\u56e0\u4e3a\u5b9e\u9645\u4e1a\u52a1\u4e2d\u5fc5\u7136\u6d89\u53ca\u540c\u65f6\u8bfb\u5199\u540c\u4e00\u4e2a\u53d8\u91cf\u7684\u573a\u666f\u3002\u53ea\u80fd\u8bf4\u5c3d\u91cf\u907f\u514d\u3002</li> <li>\u7b2c\u4e8c\u79cd\uff1a\u4e0a\u9501</li> </ul> <p>\u4e0a\u9501\u53ef\u4ee5\u5f88\u597d\u7684\u89e3\u51b3\u7ade\u6001\u95ee\u9898\uff0c\u4f46\u662f\u4f1a\u6709\u4e9b\u8bb8\u6027\u80fd\u4e0a\u7684\u635f\u5931\u3002</p> <p>Info</p> <p>\u53d1\u751f\u7ade\u6001\u7684\u4e3b\u8981\u539f\u56e0\u662f\u56e0\u4e3a\uff1a\u591a\u4e2a <code>goroutine</code> \u4e89\u62a2\u8bfb\u5199\u540c\u4e00\u4e2a\u4e34\u754c\u8d44\u6e90\u3002\u8fd9\u4e2a\u4e34\u754c\u8d44\u6e90\u53ef\u4ee5\u662f\u6253\u5370\u673a\u3001\u5168\u5c40\u53d8\u91cf\u7b49\u7b49\u3002</p> <p>\u4e3e\u4e2a\u6817\u5b50\uff0c \u4e00\u4e2a\u4eba\u5c31\u662f\u4e00\u4e2a <code>goroutine</code>\uff0c\u516c\u5171\u536b\u751f\u95f4\u5c31\u662f\u4e00\u79cd\u4e34\u754c\u8d44\u6e90\uff0c\u540c\u4e00\u65f6\u523b\u53ea\u80fd\u6709\u4e00\u4e2a\u4eba\u4f7f\u7528\uff08\u4e00\u4e2a\u4e34\u754c\u8d44\u6e90\uff0c\u540c\u4e00\u65f6\u523b\u53ea\u80fd\u6709\u4e00\u4e2a <code>goroutine</code> \u8bfb\u5199 \uff09\u3002\u591a\u4e2a\u4eba\u540c\u65f6\u4e89\u62a2\u4e00\u4e2a\u516c\u5171\u536b\u751f\u95f4\u80af\u5b9a\u51fa\u95ee\u9898\u3002</p> <p>\u6240\u4ee5\u536b\u751f\u95f4\u8981\u52a0\u4e2a\u9501\uff0c\u8fdb\u53bb\u4f7f\u7528\u7684\u4eba\u4e0a\u9501\uff0c\u4f7f\u7528\u5b8c\u4e86\u5f00\u9501\u3002 \u4f7f\u7528\u4e34\u754c\u8d44\u6e90\u7684 <code>goroutine</code> \u7ed9\u4e34\u754c\u8d44\u6e90\u4e0a\u9501\uff0c\u4f7f\u7528\u5b8c\u4e86\u628a\u9501\u91ca\u653e\u3002</p> <p>Golang \u4e2d\u7684 <code>sync</code> \u5305\u63d0\u4f9b\u4e86 <code>Mutex</code> \u548c <code>RWMutex</code> \u4e24\u79cd\u9501\u3002</p>"},{"location":"Go/Advanced/Golang-18-%E5%B9%B6%E5%8F%91%E5%AE%89%E5%85%A8/#syncmutex","title":"sync.Mutex \u4e92\u65a5\u9501","text":"<pre><code>type Mutex struct {\n    state int32\n    sema  uint32\n}\n\nfunc (m *Mutex) Lock() {}\nfunc (m *Mutex) Unlock() {}\n</code></pre> <code>Mutex</code> \u975e\u5e38\u7b80\u5355\uff0c\u53ea\u6709<code>Lock()</code> \u548c <code>Unlock()</code> \u4e24\u4e2a\u65b9\u6cd5\u3002 <p>Note</p> <p>\u52a0\u9501</p> <ul> <li><code>Lock()</code> \u7528\u4e8e\u52a0\u9501</li> <li>\u52a0\u9501\u89c4\u5219\uff1a<ul> <li>\u5982\u679c\u4e92\u65a5\u9501\u5df2\u7ecf\u88ab\u4e0a\u9501\u4e86\uff0c\u5219\u52a0\u9501\u64cd\u4f5c\u963b\u585e\uff0c\u76f4\u5230\u4e92\u65a5\u9501\u88ab\u89e3\u9501\u4ee5\u540e\u624d\u80fd\u4e0a\u9501\u3002</li> <li>\u5982\u679c\u4e92\u65a5\u9501\u6ca1\u6709\u88ab\u4e0a\u9501\uff0c\u90a3\u4e48\u4e0a\u9501\u6210\u529f\u3002</li> </ul> </li> </ul> <p>\u89e3\u9501</p> <ul> <li><code>Unlock()</code> \u7528\u4e8e\u89e3\u9501</li> <li>\u89e3\u9501\u89c4\u5219\uff1a\u91ca\u653e\u4e92\u65a5\u9501</li> </ul>"},{"location":"Go/Advanced/Golang-18-%E5%B9%B6%E5%8F%91%E5%AE%89%E5%85%A8/#_4","title":"\u4e0a\u9501","text":"<p>\u4e0b\u9762\u6211\u4eec\u5bf9\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u4e89\u62a2\u4e34\u754c\u8d44\u6e90\u7684\u90e8\u5206\u4e0a\u9501\u3002 </p><pre><code>package main\n\nimport (\n    \"fmt\"\n    \"sync\"\n)\n\nvar (\n    x    int64\n    wg   sync.WaitGroup\n    lock sync.Mutex\n)\n\nfunc add() {\n    defer wg.Done()\n    for i := 0; i &lt; 5_000_000; i++ {\n        lock.Lock()   // \u52a0\u9501\n        x = x + 1\n        lock.Unlock() // \u89e3\u9501\n    }\n}\n\nfunc main() {\n    wg.Add(2)\n\n    go add()\n    go add()\n    fmt.Println(x)    // 10_000_000\n\n    wg.Wait()\n}\n</code></pre> \u5982\u6b64\u4e00\u6765\uff0c\u4e0d\u7ba1\u54ea\u4e2a <code>\u5b50goroutine</code> \u5f97\u5230\u8fd0\u884c\u7684\u673a\u4f1a\uff0c\u522b\u7684 <code>goroutine</code> \u90fd\u4e0d\u80fd\u8bbf\u95ee\u4e34\u754c\u8d44\u6e90\uff0c\u5f97\u7b49\u5230\u4e0a\u4e86\u9501\u7684 <code>goroutine</code> \u91ca\u653e\uff0c\u522b\u7684 <code>goroutine</code> \u624d\u80fd\u8bbf\u95ee\u3002<p></p>"},{"location":"Go/Advanced/Golang-18-%E5%B9%B6%E5%8F%91%E5%AE%89%E5%85%A8/#_5","title":"\u5ef6\u8fdf\u89e3\u9501","text":"<p>\u5982\u679c\u4e00\u4e2a <code>goroutine</code> \u4e0a\u4e86\u9501\u4e4b\u540e\u5fd8\u8bb0\u91ca\u653e\u9501\uff0c\u522b\u7684 <code>goroutine</code> \u662f\u6c38\u8fdc\u62ff\u4e0d\u5230\u9501\u7684\uff0c\u8fd8\u4f1a\u5bfc\u81f4\u6b7b\u9501\u3002 \u5728\u590d\u6742\u7684\u4ee3\u7801\u4e2d\uff0c\u5f88\u96be\u786e\u5b9a\u6240\u6709\u5206\u652f\u4e2d\u7684 <code>Lock()</code> \u548c <code>Unlock()</code> \u6210\u5bf9\u51fa\u73b0\uff0c\u6240\u4ee5\uff0c\u6700\u597d\u517b\u6210 \u9501\u6210\u5bf9\u5199\u3001\u5ef6\u8fdf\u89e3\u9501 \u7684\u4e60\u60ef\u3002</p> <pre><code>var x int\nvar lock sync.Mutex\n\nfunc add() {\n    lock.Lock() // \u4e0a\u9501\n    x = x + 1\n\n    defer lock.Unlock() // \u5ef6\u8fdf\u89e3\u9501\uff0c\u5728\u51fd\u6570\u8fd0\u884c\u7ed3\u675f\u4e4b\u540e\u4f1a\u81ea\u52a8\u89e3\u9501\n    return x\n}\n</code></pre>"},{"location":"Go/Advanced/Golang-18-%E5%B9%B6%E5%8F%91%E5%AE%89%E5%85%A8/#syncrwmutex","title":"sync.RWMutex \u8bfb\u5199\u4e92\u65a5\u9501","text":"<pre><code>type RWMutex struct {\n    w           Mutex  // held if there are pending writers\n    writerSem   uint32 // semaphore for writers to wait for completing readers\n    readerSem   uint32 // semaphore for readers to wait for completing writers\n    readerCount int32  // number of pending readers\n    readerWait  int32  // number of departing readers\n}\n\n// \u5199\u9501\nfunc (rw *RWMutex) Lock() {}\nfunc (rw *RWMutex) Unlock() {}\n// \u8bfb\u9501\nfunc (rw *RWMutex) RLock() {}\nfunc (rw *RWMutex) RUnlock() {}\n\nfunc (rw *RWMutex) RLocker() Locker {}\n</code></pre> <p>\u8bfb\u5199\u4e92\u65a5\u9501\u9002\u7528\u4e8e \u8bfb\u591a\u5199\u5c11 \u7684\u573a\u666f\u3002\u56e0\u4e3a\u5728\u4f7f\u7528 <code>Mutex</code> \u4e92\u65a5\u9501\u7684\u65f6\u5019\uff0c\u4e0d\u7ba1\u662f\u56e0\u4e3a\u8981\u53bb\u8bfb\u4e0a\u7684\u9501\u8fd8\u662f\u8981\u53bb\u5199\u4e0a\u7684\u9501\uff0c\u53ea\u8981\u4e00\u4e0a\u4e86\u9501\uff0c\u522b\u7684 <code>goroutine</code> \u5c31\u4e0d\u80fd\u4e0a\u9501\uff0c\u4e5f\u4e0d\u80fd\u8bfb\u5199\u3002</p> <p>\u4e8e\u662f\u5728 \u8bfb\u591a\u5199\u5c11 \u7684\u573a\u666f\u4e0b\uff0c\u5bfc\u81f4\u5c11\u91cf\u5199\u64cd\u4f5c\u65f6\uff0c\u4e5f\u4e0d\u80fd\u8bfb\u3002\u6240\u4ee5\u8fd9\u79cd\u573a\u666f\u8981\u4f7f\u7528 \u8bfb\u5199\u4e92\u65a5\u9501\u3002</p> <p>Note</p> <p>\u5199\u9501</p> <ul> <li><code>Lock()</code> \u51fd\u6570\u7528\u4e8e\u4e0a\u5199\u9501</li> <li><code>Unlock()</code> \u51fd\u6570\u7528\u4e8e\u89e3\u5199\u9501</li> <li>\u52a0\u9501\u89c4\u5219\uff1a<ul> <li>\u5982\u679c\u5f53\u524d\u7684\u8bfb\u5199\u9501\u88ab\u4e0a\u9501\u4e86\uff0c\u5219 \u52a0\u5199\u9501 \u64cd\u4f5c\u963b\u585e\u76f4\u5230\u8bfb\u5199\u9501\u88ab\u91ca\u653e</li> <li>\u5982\u679c\u5f53\u524d\u7684\u8bfb\u5199\u9501\u6ca1\u6709\u88ab\u9501\uff0c\u5219 \u52a0\u5199\u9501 \u6210\u529f</li> </ul> </li> <li>\u91ca\u653e\u89c4\u5219\uff1a\u76f4\u63a5\u91ca\u653e</li> </ul> <p>\u8bfb\u9501</p> <ul> <li><code>RLock()</code> \u51fd\u6570\u7528\u4e8e\u4e0a\u8bfb\u9501</li> <li><code>RUnlock()</code> \u51fd\u6570\u7528\u4e8e\u89e3\u8bfb\u9501</li> <li>\u52a0\u9501\u89c4\u5219\uff1a<ul> <li>\u5982\u679c\u5f53\u524d\u7684\u8bfb\u5199\u9501 \u6ca1\u6709\u88ab\u9501\uff0c\u5219 \u52a0\u8bfb\u9501 \u64cd\u4f5c\u6210\u529f</li> <li>\u5982\u679c\u5f53\u524d\u7684\u8bfb\u5199\u9501 \u88ab\u4e0a\u4e86\u8bfb\u9501\uff0c\u5219 \u52a0\u8bfb\u9501 \u64cd\u4f5c\u6210\u529f</li> <li>\u5982\u679c\u5f53\u524d\u7684\u8bfb\u5199\u9501 \u88ab\u4e0a\u4e86\u5199\u9501\uff0c\u5219 \u52a0\u8bfb\u9501 \u64cd\u4f5c\u963b\u585e\uff0c\u76f4\u5230\u8bfb\u5199\u9501\u88ab\u91ca\u653e</li> </ul> </li> </ul> Example <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"sync\"\n    \"time\"\n)\n\nvar (\n    x      int64\n    wg     sync.WaitGroup\n    rwlock sync.RWMutex // \u8bfb\u5199\u9501\n)\n\nfunc read() {\n    defer wg.Done()\n\n    rwlock.RLock() // \u52a0\u8bfb\u9501\n    time.Sleep(time.Millisecond)\n    fmt.Println(x)\n    defer rwlock.RUnlock() // \u89e3\u8bfb\u9501\n}\n\nfunc write() {\n    defer wg.Done()\n\n    rwlock.Lock() // \u52a0\u5199\u9501\n    time.Sleep(time.Millisecond * 5)\n    x = x + 1\n    defer rwlock.Unlock() // \u89e3\u5199\u9501\n}\n\nfunc main() {\n    start := time.Now()\n    for i := 0; i &lt; 10; i++ {\n        wg.Add(1)\n        go write()\n    }\n\n    for i := 0; i &lt; 1000; i++ {\n        wg.Add(1)\n        go read()\n    }\n\n    wg.Wait()\n    fmt.Println(time.Now().Sub(start))\n}\n// --------------------------------------\n// Output:\n...\n1\n1\n1\n1\n215.9568ms\n</code></pre>"},{"location":"Go/Advanced/Golang-18-%E5%B9%B6%E5%8F%91%E5%AE%89%E5%85%A8/#mutex-rwmutex","title":"Mutex \u548c RWMutex \u7684\u9009\u62e9","text":"<ul> <li>\u4ec5\u5728\u7edd\u5927\u90e8\u5206goroutine\u90fd\u5728 \u83b7\u53d6\u8bfb\u9501\u5e76\u4e14\u9501\u7ade\u4e89\u6bd4\u8f83\u6fc0\u70c8\u65f6\uff08\u5373\uff0cgoroutine\u4e00\u822c\u90fd\u9700\u8981\u7b49\u5f85\u540e\u624d\u80fd\u83b7\u5230\u9501\uff09\uff0cRWMutex\u624d\u6709\u4f18\u52bf</li> <li>\u5426\u5219\uff0c\u4e00\u822c\u4f7f\u7528Mutex\u5373\u53ef</li> </ul> <p>Tip</p> <p>\u53ea\u8bfb\u573a\u666f\uff1async.map &gt; rwmutex &gt;&gt; mutex \u8bfb\u5199\u573a\u666f\uff08\u8fb9\u8bfb\u8fb9\u5199\uff09\uff1arwmutex &gt; mutex &gt;&gt; sync.map \u8bfb\u5199\u573a\u666f\uff08\u8bfb80% \u519920%\uff09\uff1async.map &gt; rwmutex &gt; mutex \u8bfb\u5199\u573a\u666f\uff08\u8bfb98% \u51992%\uff09\uff1async.map &gt; rwmutex &gt;&gt; mutex \u53ea\u5199\u573a\u666f\uff1async.map &gt;&gt; mutex &gt; rwmutex</p>"},{"location":"Go/Advanced/Golang-18-%E5%B9%B6%E5%8F%91%E5%AE%89%E5%85%A8/#synconce","title":"sync.Once","text":"<pre><code>type Once struct {\n    done uint32\n    m    Mutex\n}\n\nfunc (o *Once) Do(f func()) {\n    if atomic.LoadUint32(&amp;o.done) == 0 {\n        o.doSlow(f)\n    }\n}\n\nfunc (o *Once) doSlow(f func()) {\n    o.m.Lock()\n    defer o.m.Unlock()\n    if o.done == 0 {\n        defer atomic.StoreUint32(&amp;o.done, 1)\n        f()\n    }\n}\n</code></pre> <ul> <li><code>Once</code> \u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\uff0c\u91cc\u9762\u6709\u4e00\u628a <code>Mutex</code> \u9501 m\uff0c\u8fd8\u6709\u4e00\u4e2a <code>done</code> \u6807\u5fd7\u4f4d\u7528\u6765\u6807\u8bb0 <code>f</code> \u662f\u5426\u6267\u884c\u8fc7\u4e86\u3002\uff080\u672a\u6267\u884c\uff0c1\u5df2\u6267\u884c\uff09</li> <li><code>Once</code> \u53ea\u6709\u4e00\u4e2a <code>Do()</code> \u65b9\u6cd5\uff0c\u5176\u4e2d\u68c0\u67e5\u4e86\u4e00\u4e0b\u6807\u5fd7\u4f4d\uff0c\u5982\u679c\u4e3a 0 \u8868\u793a <code>f</code> \u672a\u6267\u884c\u8fc7\uff0c\u8c03\u7528 <code>doSlow()</code>\uff1b\u975e 0 \u8868\u793a\u6267\u884c\u8fc7\u4e86\uff0c\u76f4\u63a5\u8fd4\u56de <code>doSlow()</code> \u4e2d\uff0c\u5148\u662f\u4e0a\u9501\uff0c\u7136\u540e\u68c0\u67e5 <code>done</code> \u6807\u5fd7\u4f4d\uff0c\u770b\u770b <code>f</code> \u662f\u5426\u6267\u884c\u8fc7\uff0c\u5982\u679c\u6ca1\u6709\u6267\u884c\uff0c\u5c31\u6267\u884c\uff0c\u7136\u540e\u6807\u5fd7\u4f4d\u7f6e\u4e3a 1\u3002</li> </ul> <p>\u7528 <code>sync.Once</code> \u5199\u4e00\u4e2a\u5355\u4f8b\u6a21\u5f0f\uff1a</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"sync\"\n)\n\ntype person struct {\n    name string\n    age  int\n}\n\nvar (\n    p *person\n    once sync.Once\n)\n\n// \u6784\u9020\u65b9\u6cd5\u4f7f\u7528 Once \u7684 Do \u65b9\u6cd5\u5b9e\u73b0\nfunc NewSinglePerson(name string, age int) *person {\n    once.Do(func() {\n        p = &amp;person{name, age}\n    })\n    return p\n}\n\nfunc main() {\n    p1 := NewSinglePerson(\"Boii\", 18)\n    p2 := NewSinglePerson(\"Eva\", 20)\n    fmt.Printf(\"%p\\n\", p1)  // 0xc0000044a0\n    fmt.Printf(\"%p\\n\", p2)  // 0xc0000044a0\n    fmt.Printf(\"%v\\n\", p1) // &amp;{Boii 18}\n    fmt.Printf(\"%v\\n\", p2) // &amp;{Boii 18}\n}\n</code></pre>"},{"location":"Go/Advanced/Golang-18-%E5%B9%B6%E5%8F%91%E5%AE%89%E5%85%A8/#syncmap","title":"sync.Map","text":"<p>Info</p> <pre><code>type Map struct {\n    mu Mutex\n    read atomic.Value // readOnly\n    dirty map[interface{}]*entry\n    misses int\n}\n\n// set\nfunc (m *Map) Store(key, value interface{}) {}\n// get\nfunc (m *Map) Load(key interface{}) (value interface{}, ok bool) {}\n// \u5220\u9664\nfunc (m *Map) Delete(key interface{}) {}\n// \u5148\u52a0\u8f7d\u770b\uff0c\u6709\u518d\u5220\u9664\nfunc (m *Map) LoadAndDelete(key interface{}) (value interface{}, loaded bool) {}\n// \u5148\u52a0\u8f7d\u770b\uff0c\u6ca1\u6709\u518d\u5b58\uff0c\u6709\u5c31\u4e0d\u5b58\nfunc (m *Map) LoadOrStore(key, value interface{}) (actual interface{}, loaded bool) {}\n// \u904d\u5386\nfunc (m *Map) Range(f func(key, value interface{}) bool) {}\n</code></pre> <p>Golang \u4e2d\u5185\u7f6e\u7684 map \u4e0d\u662f\u5e76\u53d1\u5b89\u5168\u7684\uff0c\u5728\u5bf9 map \u5e76\u53d1\u5199\u7684\u65f6\u5019\u4f1a\u51fa\u73b0\u95ee\u9898\u3002</p> <p>Golang \u7684 <code>sync</code> \u5305\u4e2d\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5f00\u7bb1\u5373\u7528\u7684\u5e76\u53d1\u5b89\u5168\u7248map\uff1a<code>sync.Map</code>\u3002</p> <p>\u5f00\u7bb1\u5373\u7528\uff0c\u5373\u8868\u793a\u4e0d\u9700\u8981 <code>make()</code> \u51fd\u6570\u521d\u59cb\u5316\u5c31\u80fd\u76f4\u63a5\u4f7f\u7528\uff0c\u540c\u65f6\u5185\u7f6e\u4e86\u8bf8\u5982 <code>Store\u3001Load\u3001Delete\u3001Range</code> \u7b49\u64cd\u4f5c\u3002</p> <p>\u5148\u770b\u5bf9\u5185\u7f6e map \u5e76\u53d1\u5199\u4f1a\u53d1\u751f\u4ec0\u4e48\u3002</p> CodeOutput <pre><code>var m = make(map[string]int)\nvar wg sync.WaitGroup\n\nfunc get(key string) int {\n    return m[key]\n}\n\nfunc set(key string, value int) {\n    m[key] = value\n}\n\nfunc call (n int) {\n    defer wg.Done()\n    key := strconv.Itoa(n)\n    set(key, n)\n    fmt.Printf(\"k=:%v,v:=%v\\n\", key, get(key))\n}\n\nfunc main() {\n    for i := 0; i &lt; 20; i++ {\n        wg.Add(1)\n        go call(i)\n    }\n    wg.Wait()\n}\n</code></pre> <p>``` fatal error: k=:0,v:=0 concurrent map writes k=:19,v:=19 fatal error: concurrent map writes ...</p> <p>\u91c7\u7528 \u5e76\u53d1\u5b89\u5168\u7248\uff1a</p> CodeOutput <pre><code>var wg sync.WaitGroup\nvar sm = sync.Map{}    // \u58f0\u660e sync.Map \u53d8\u91cf\n\nfunc call(n int) {\n    defer wg.Done()\n\n    key := strconv.Itoa(n)\n\n    sm.Store(key, n)         // \u5199\n    value, _ := sm.Load(key) // \u8bfb\n\n    fmt.Printf(\"k=:%v,v:=%v\\n\", key, value)\n}\n\nfunc main() {\n    for i := 0; i &lt; 20; i++ {\n        wg.Add(1)\n        go call(i)\n    }\n    wg.Wait()\n}\n</code></pre> <pre><code>k=:19,v:=19\nk=:10,v:=10\nk=:11,v:=11\nk=:2,v:=2  \nk=:15,v:=15\nk=:3,v:=3  \nk=:12,v:=12\nk=:0,v:=0  \nk=:13,v:=13\nk=:18,v:=18\nk=:14,v:=14\nk=:6,v:=6  \nk=:4,v:=4  \nk=:5,v:=5  \nk=:8,v:=8\nk=:7,v:=7\nk=:9,v:=9\nk=:1,v:=1\nk=:17,v:=17\nk=:16,v:=16\n</code></pre>"},{"location":"Go/Advanced/Golang-18-%E5%B9%B6%E5%8F%91%E5%AE%89%E5%85%A8/#_6","title":"\u539f\u5b50\u64cd\u4f5c","text":"<p>\u4ee3\u7801\u4e2d\u7684\u52a0\u9501\u64cd\u4f5c\u56e0\u4e3a\u6d89\u53ca\u5185\u6838\u6001\u7684\u4e0a\u4e0b\u6587\u5207\u6362\u4f1a\u6bd4\u8f83\u8017\u65f6\u3001\u4ee3\u4ef7\u6bd4\u8f83\u9ad8\u3002</p> <p>\u9488\u5bf9\u57fa\u672c\u6570\u636e\u7c7b\u578b\u6211\u4eec\u8fd8\u53ef\u4ee5\u4f7f\u7528\u539f\u5b50\u64cd\u4f5c\u6765\u4fdd\u8bc1\u5e76\u53d1\u5b89\u5168\uff0c\u56e0\u4e3a\u539f\u5b50\u64cd\u4f5c\u662f Go \u8bed\u8a00\u63d0\u4f9b\u7684\u65b9\u6cd5\u5b83\u5728\u7528\u6237\u6001\u5c31\u53ef\u4ee5\u5b8c\u6210\uff0c</p> <p>\u56e0\u6b64\u6027\u80fd\u6bd4\u52a0\u9501\u64cd\u4f5c\u66f4\u597d\u3002Go\u8bed\u8a00\u4e2d\u539f\u5b50\u64cd\u4f5c\u7531\u5185\u7f6e\u7684\u6807\u51c6\u5e93 <code>sync/atomic</code> \u63d0\u4f9b\u3002</p>"},{"location":"Go/Advanced/Golang-18-%E5%B9%B6%E5%8F%91%E5%AE%89%E5%85%A8/#atomic","title":"atomic \u5305","text":"\u8bfb\u53d6\u64cd\u4f5c func LoadInt32(addr *int32) (val int32) func LoadInt64(addr *int64) (val int64) func LoadPointer(addr *unsafe.Pointer) (val unsafe.Pointer) func LoadUint32(addr *uint32) (val uint32) func LoadUint64(addr *uint64) (val uint64) func LoadUintptr(addr *uintptr) (val uintptr) \u5199\u5165\u64cd\u4f5c func StoreInt32(addr *int32, val int32) func StoreInt64(addr *int64, val int64) func StorePointer(addr *unsafe.Pointer, val unsafe.Pointer) func StoreUint32(addr *uint32, val uint32) func StoreUint64(addr *uint64, val uint64) func StoreUintptr(addr *uintptr, val uintptr) \u4fee\u6539\u64cd\u4f5c func AddInt32(addr *int32, delta int32) (new int32) func AddInt64(addr *int64, delta int64) (new int64) func AddUint32(addr *uint32, delta uint32) (new uint32) func AddUint64(addr *uint64, delta uint64) (new uint64) func AddUintptr(addr *uintptr, delta uintptr) (new uintptr) \u4ea4\u6362\u64cd\u4f5c func SwapInt32(addr *int32, new int32) (old int32) func SwapInt64(addr *int64, new int64) (old int64) func SwapPointer(addr *unsafe.Pointer, new unsafe.Pointer) (old unsafe.Pointer) func SwapUint32(addr *uint32, new uint32) (old uint32) func SwapUint64(addr *uint64, new uint64) (old uint64) func SwapUintptr(addr *uintptr, new uintptr) (old uintptr) \u6bd4\u8f83\u5e76\u4ea4\u6362\u64cd\u4f5c func CompareAndSwapInt32(addr *int32, old, new int32) (swapped bool) func CompareAndSwapInt64(addr *int64, old, new int64) (swapped bool) func CompareAndSwapPointer(addr *unsafe.Pointer, old, new unsafe.Pointer) (swapped bool) func CompareAndSwapUint32(addr *uint32, old, new uint32) (swapped bool) func CompareAndSwapUint64(addr *uint64, old, new uint64) (swapped bool) func CompareAndSwapUintptr(addr *uintptr, old, new uintptr) (swapped bool) <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"sync\"\n    \"sync/atomic\"\n    \"time\"\n)\n\nvar (\n    lock    sync.Mutex\n    x, y, z int64\n)\n\n// \u975e\u5e76\u53d1\u5b89\u5168\u7248\nfunc add() {\n    x++\n}\n\n// \u52a0\u9501\u7248\nfunc mutexAdd() {\n    lock.Lock()\n    defer lock.Unlock()\n    y++\n}\n\n// \u539f\u5b50\u7248\nfunc atomicAdd() {\n    atomic.AddInt64(&amp;z, 1)\n}\n\nfunc test(f func()) time.Duration {\n    var wg sync.WaitGroup\n\n    start := time.Now()\n    for i := 0; i &lt; 10000; i++ {\n        wg.Add(1)\n        go func() {\n            defer wg.Done()\n            f()\n        }()\n    }\n\n    wg.Wait()\n    return time.Now().Sub(start)\n}\n\nfunc main() {\n    fmt.Println(\"\u975e\u5e76\u53d1\u5b89\u5168\u7248:\", x, test(add))\n    fmt.Println(\"\u52a0\u9501\u7248     :\", y, test(mutexAdd))\n    fmt.Println(\"\u539f\u5b50\u64cd\u4f5c\u7248  :\", z, test(atomicAdd))\n}\n\n// -------------------------------\n// Output:\n\u975e\u5e76\u53d1\u5b89\u5168\u7248: 9604  4.9936ms\n\u52a0\u9501\u7248     : 10000 3.9898ms\n\u539f\u5b50\u64cd\u4f5c\u7248 : 10000 2.9909ms\n</code></pre> <p>\u4ece\u7ed3\u679c\u53ef\u4ee5\u770b\u51fa\uff0c\u975e\u5e76\u53d1\u5b89\u5168\u7248\u8fde\u7ed3\u679c\u90fd\u4e0d\u5bf9\uff0c\u52a0\u9501\u7248\u5b89\u5168\uff0c\u539f\u5b50\u7248\u5b89\u5168\u4e14\u6548\u7387\u66f4\u9ad8\u3002</p> <p><code>atomic</code> \u5305\u63d0\u4f9b\u4e86\u5e95\u5c42\u7684\u539f\u5b50\u7ea7\u5185\u5b58\u64cd\u4f5c\uff0c\u5bf9\u4e8e\u540c\u6b65\u7b97\u6cd5\u7684\u5b9e\u73b0\u5f88\u6709\u7528\u3002\u8fd9\u4e9b\u51fd\u6570\u5fc5\u987b\u8c28\u614e\u5730\u4fdd\u8bc1\u6b63\u786e\u4f7f\u7528\u3002\u9664\u4e86\u67d0\u4e9b\u7279\u6b8a\u7684\u5e95\u5c42\u5e94\u7528\uff0c\u4f7f\u7528\u901a\u9053\u6216\u8005sync\u5305\u7684\u51fd\u6570/\u7c7b\u578b\u5b9e\u73b0\u540c\u6b65\u66f4\u597d\u3002</p>"},{"location":"Go/Advanced/Golang-19-reflect/","title":"\u53cd\u5c04","text":""},{"location":"Go/Advanced/Golang-19-reflect/#reflect","title":"reflect","text":"<p>\u4ec0\u4e48\u662f\u53cd\u5c04\uff1f</p> <p>\u5b98\u65b9 Doc \u4e2d Rob Pike \u5b9a\u4e49\uff1a</p> <p>Cite</p> <p>Reflection in computing is the ability of a program to examine its own structure, particularly through types; it\u2019s a form of meta programming. It\u2019s also a great source of confusion.</p> <p>\u5728\u8ba1\u7b97\u673a\u9886\u57df\uff0c\u53cd\u5c04\u662f\u4e00\u79cd\u8ba9\u7a0b\u5e8f\u2014\u2014\u4e3b\u8981\u662f\u901a\u8fc7\u7c7b\u578b\u2014\u2014\u7406\u89e3\u5176\u81ea\u8eab\u7ed3\u6784\u7684\u4e00\u79cd\u80fd\u529b\u3002\u5b83\u662f\u5143\u7f16\u7a0b\u7684\u7ec4\u6210\u4e4b\u4e00\uff0c\u540c\u65f6\u5b83\u4e5f\u662f\u4e00\u5927\u5f15\u4eba\u56f0\u60d1\u7684\u96be\u9898\u3002</p> <p>\u7ef4\u57fa\u767e\u79d1 \u5b9a\u4e49\uff1a</p> <p>Cite</p> <p>\u5728\u8ba1\u7b97\u673a\u79d1\u5b66\u4e2d\uff0c\u53cd\u5c04\u662f\u6307\u8ba1\u7b97\u673a\u7a0b\u5e8f\u5728\u8fd0\u884c\u65f6\uff08Run time\uff09\u53ef\u4ee5\u8bbf\u95ee\u3001\u68c0\u6d4b\u548c\u4fee\u6539\u5b83\u672c\u8eab\u72b6\u6001\u6216\u884c\u4e3a\u7684\u4e00\u79cd\u80fd\u529b\u3002\u7528\u6bd4\u55bb\u6765\u8bf4\uff0c\u53cd\u5c04\u5c31\u662f\u7a0b\u5e8f\u5728\u8fd0\u884c\u7684\u65f6\u5019\u80fd\u591f\u201c\u89c2\u5bdf\u201d\u5e76\u4e14\u4fee\u6539\u81ea\u5df1\u7684\u884c\u4e3a\u3002</p> <p>\u300aGo \u8bed\u8a00\u5723\u7ecf\u300b \u4e2d\u8fd9\u6837\u5b9a\u4e49\uff1a</p> <p>Cite</p> <p>Go \u8bed\u8a00\u63d0\u4f9b\u4e86\u4e00\u79cd\u673a\u5236\u5728\u8fd0\u884c\u65f6\u66f4\u65b0\u53d8\u91cf\u548c\u68c0\u67e5\u5b83\u4eec\u7684\u503c\u3001\u8c03\u7528\u5b83\u4eec\u7684\u65b9\u6cd5\uff0c\u4f46\u662f\u5728\u7f16\u8bd1\u65f6\u5e76\u4e0d\u77e5\u9053\u8fd9\u4e9b\u53d8\u91cf\u7684\u5177\u4f53\u7c7b\u578b\uff0c\u8fd9\u79f0\u4e3a\u53cd\u5c04\u673a\u5236\u3002</p> <ul> <li>\u53cd\u5c04\u5e94\u7528\u573a\u666f<ol> <li>\u7531\u4e8e\u6ca1\u7ea6\u5b9a\u597d\uff0c\u6216\u8005\u4f20\u5165\u7684\u7c7b\u578b\u5f88\u591a\u3001\u8fd9\u4e9b\u7c7b\u578b\u4e0d\u80fd\u7edf\u4e00\u8868\u793a\uff0c\u5bfc\u81f4\u4e0d\u786e\u5b9a\u51fd\u6570\u53c2\u6570\u7c7b\u578b\uff0c\u5c31\u9700\u8981\u7528\u53cd\u5c04\u6765\u786e\u5b9a\u7c7b\u578b\u3002</li> <li>\u9700\u8981\u6839\u636e\u67d0\u4e9b\u6761\u4ef6\uff0c\u5982\u7528\u6237\u7684\u8f93\u5165\uff0c\u6765\u51b3\u5b9a\u8c03\u7528\u54ea\u4e2a\u51fd\u6570\uff0c\u5219\u9700\u8981\u5728\u8fd0\u884c\u671f\u52a8\u6001\u5730\u6267\u884c\u51fd\u6570\u3002</li> </ol> </li> <li>\u4e0d\u5efa\u8bae\u7528\u53cd\u5c04\u7684\u7406\u7531<ol> <li>\u53cd\u5c04\u4ee3\u7801\u96be\u4ee5\u9605\u8bfb\uff0c\u964d\u4f4e\u4ee3\u7801\u53ef\u8bfb\u6027\u3002</li> <li>\u9759\u6001\u8bed\u8a00\u7684\u4f18\u52bf\u4e4b\u4e00\u5728\u4e8e\u7f16\u8bd1\u671f\u5c31\u80fd\u53d1\u73b0\u4e00\u4e9b\u7c7b\u578b\u9519\u8bef\uff0c\u800c\u53cd\u5c04\u8fd9\u79cd\u8fd0\u884c\u671f\u7684\u602a\u7269\u4f1a\u5bfc\u81f4\u8fd9\u4e00\u4f18\u52bf\u7684\u5931\u53bb\u3002\u5305\u542b\u53cd\u5c04\u7684\u4ee3\u7801\u5f88\u53ef\u80fd\u8fd0\u884c\u5f88\u4e45\uff0c\u624d\u4f1a\u51fa\u9519\uff0c\u800c\u4e14\u7ecf\u5e38\u662f\u76f4\u63a5 <code>panic</code>\uff0c\u9020\u6210\u4e25\u91cd\u540e\u679c\u3002</li> <li>\u53cd\u5c04\u5bf9\u6027\u80fd\u5f71\u54cd\u8f83\u5927\uff0c\u76f8\u6bd4\u6b63\u5e38\u4ee3\u7801\u6162\u51fa\u4e00\u4e24\u4e2a\u6570\u91cf\u7ea7\u3002</li> </ol> </li> </ul>"},{"location":"Go/Advanced/Golang-19-reflect/#_1","title":"\u76f8\u5173\u57fa\u7840","text":""},{"location":"Go/Advanced/Golang-19-reflect/#golang","title":"Golang \u7684\u7c7b\u578b","text":"<p>Golang \u7684\u7c7b\u578b\uff1a</p> <ul> <li>\u53d8\u91cf\u5305\u62ec<code>\uff08type\uff0cvalue\uff09</code>\u4e24\u90e8\u5206</li> <li>type \u5305\u62ec static type \u548c concrete type\u3002<ul> <li>static type \u5c31\u662f\u5728\u7f16\u7801\u65f6\u770b\u5f97\u89c1\u7684\u7c7b\u578b\uff0c\u5982\uff1aint\u3001string</li> <li>concrete type \u662f runtime \u7cfb\u7edf\u770b\u5f97\u89c1\u7684\u7c7b\u578b\u3002</li> </ul> </li> <li>\u7c7b\u578b\u80fd\u5426\u65ad\u8a00\u6210\u529f\uff0c\u53d6\u51b3\u4e8e\u53d8\u91cf\u7684 concrete type\u3002\u56e0\u6b64\uff0c\u4e00\u4e2a reader \u53d8\u91cf\u5982\u679c\u5b83\u7684 concrete type \u5b9e\u73b0\u4e86 write \u65b9\u6cd5\uff0creader \u4e5f\u53ef\u4ee5\u88ab\u65ad\u8a00\u4e3a writer\u3002</li> </ul>"},{"location":"Go/Advanced/Golang-19-reflect/#_2","title":"\u9759\u6001\u7c7b\u578b\u548c\u52a8\u6001\u7c7b\u578b","text":"<p>\u5728\u53cd\u5c04\u7684\u6982\u5ff5\u4e2d\uff0c\u7f16\u8bd1\u65f6\u5c31\u77e5\u9053\u7684\u53d8\u91cf\u7c7b\u578b\u53eb \u9759\u6001\u7c7b\u578b\uff0c\u8fd0\u884c\u65f6\u624d\u77e5\u9053\u7684\u53d8\u91cf\u7c7b\u578b\u53eb \u52a8\u6001\u7c7b\u578b\u3002</p> <ul> <li> <p>\u9759\u6001\u7c7b\u578b\uff1a\u53d8\u91cf\u58f0\u660e\u65f6\u8d4b\u4e88\u7684\u7c7b\u578b\u3002     </p><pre><code>type Myint int    // int \u5c31\u662f\u9759\u6001\u7c7b\u578b\uff0ctype \u662f static type\n\ntype A struct {\n    Name string   // string \u5c31\u662f\u9759\u6001\u7c7b\u578b\uff0ctype \u662f static type\n}\n\nvar i *int        // *int \u5c31\u662f\u9759\u6001\u7c7b\u578b\uff0ctype \u662f static type\n</code></pre><p></p> </li> <li> <p>\u52a8\u6001\u7c7b\u578b\uff1a\u8fd0\u884c\u65f6\u7ed9\u8fd9\u4e2a\u53d8\u91cf\u8d4b\u503c\u65f6\uff0c\u8fd9\u4e2a\u503c\u7684\u7c7b\u578b\u3002\u5982\u679c\u503c\u4e3a <code>nil</code> \u5219\u6ca1\u6709\u52a8\u6001\u7c7b\u578b\u3002     \u4e00\u4e2a\u53d8\u91cf\u7684\u52a8\u6001\u7c7b\u578b\u5728\u8fd0\u884c\u65f6\u53ef\u80fd\u6539\u53d8\uff0c\u5219\u4e3b\u8981\u4f9d\u8d56\u4e8e\u5b83\u7684\u8d4b\u503c\uff0c\u524d\u63d0\u662f\u8fd9\u4e2a\u53d8\u91cf\u662f\u63a5\u53e3\u7c7b\u578b\u3002     </p><pre><code>var A interface{}    // \u9759\u6001\u7c7b\u578b interface{}\nA = 10               // \u9759\u6001\u7c7b\u578b interface{}    \u52a8\u6001\u7c7b\u578b int\nA = \"String\"         // \u9759\u6001\u7c7b\u578b interface{}    \u52a8\u6001\u7c7b\u578b string\nvar M *int\nA = M                // \u9759\u6001\u7c7b\u578b interface{}    \u52a8\u6001\u7c7b\u578b *int\n</code></pre><p></p> </li> </ul> <p>Info</p> <p>Golang \u7684\u53cd\u5c04\u5c31\u662f\u5efa\u7acb\u5728\u7c7b\u578b\u4e4b\u4e0a\u7684\u3002</p> <p>Golang \u53d8\u91cf\u7684\u6307\u5b9a\u7c7b\u578b\u662f\u9759\u6001\u7684\uff0c\u5728\u521b\u5efa\u53d8\u91cf\u7684\u65f6\u5019\u7c7b\u578b\u5c31\u5df2\u7ecf\u786e\u5b9a\uff0c\u5982\u6307\u5b9a <code>int\u3001string</code>\uff0c\u6240\u4ee5\u79f0\u4e4b\u4e3a static type\u3002</p> <p>Golang \u53d8\u91cf\u7684\u6307\u5b9a\u7c7b\u578b\u662f interface \u7c7b\u578b\u76f8\u5173\u7684\uff0c\u5219\u7c7b\u578b\u5728\u8fd0\u884c\u671f\u624d\u80fd\u786e\u5b9a\uff0c\u6240\u4ee5\u79f0\u4e4b\u4e3a concrete type\u3002</p> <p>\u53ea\u6709 interface \u7c7b\u578b\u624d\u6709\u53cd\u5c04\u4e00\u8bf4\u3002</p>"},{"location":"Go/Advanced/Golang-19-reflect/#interface","title":"interface \u7c7b\u578b","text":"<p>Golang \u662f\u901a\u8fc7\u63a5\u53e3\u5b9e\u73b0\u7684\uff0c\u4efb\u4f55 \u63a5\u53e3\u503c \u90fd\u662f\u7531\u4e00\u4e2a \u5b9e\u9645\u7c7b\u578b \u548c \u5b9e\u9645\u7c7b\u578b\u7684\u503c \u4e24\u4e2a\u90e8\u5206\u7ec4\u6210\u7684\u3002</p> <p>\u6bcf\u4e2a interface \u53d8\u91cf\u90fd\u6709\u4e00\u4e2a\u5bf9\u5e94\u7684 pair\uff0cpair \u4e2d\u8bb0\u5f55\u4e86 type \u7684\u7c7b\u578b\u548c\u503c\uff1a </p><pre><code>pair -&gt; (concrete type, value)\n</code></pre> <code>concrete type</code> \u662f\u5b9e\u9645\u53d8\u91cf\u7684\u7c7b\u578b\uff0c<code>concrete value</code> \u662f\u5b9e\u9645\u53d8\u91cf\u7684\u503c\u3002 \u4e00\u4e2a interface \u53d8\u91cf\u5305\u542b\u4e86 2 \u4e2a\u6307\u9488\uff0c\u4e00\u4e2a\u6307\u5411\u5b9e\u9645\u503c\u7684\u7c7b\u578b\uff0c\u4e00\u4e2a\u6307\u5411\u5b9e\u9645\u503c\u3002<p></p> <ul> <li> <p>eg\uff1a\u6253\u5f00\u6587\u4ef6\u4f1a\u8fd4\u56de\u4e00\u4e2a <code>*os.File</code> \u53d8\u91cf\u3002     </p><pre><code>f, err := os.OpenFile(\"/home/abc.txt\", os.O_RDWR, 0777)\nvar r io.Reader = f\n</code></pre>     \u63a5\u53e3\u53d8\u91cf r \u7684 pair \u4fe1\u606f\u8bb0\u5f55\u5982\u4e0b\uff1a<code>(f, *os.File)</code>\u3002<p></p> <p>pair \u5728\u63a5\u53e3\u53d8\u91cf\u7ba1\u9053\u8fde\u7eed\u8d4b\u503c\u8fc7\u7a0b\u4e2d\u662f\u4e0d\u53d8\u7684\uff0c\u5c06\u63a5\u53e3\u53d8\u91cf r \u8d4b\u503c\u7ed9\u53e6\u4e00\u4e2a\u63a5\u53e3\u53d8\u91cf w\uff0c\u4ed6\u4eec\u7684 pair \u662f\u76f8\u540c\u7684\u3002 </p><pre><code>var w io.Writer = r.(io.Writer)\n</code></pre> \u63a5\u53e3\u53d8\u91cf w \u7684 pair \u4fe1\u606f\u8bb0\u5f55\u5982\u4e0b\uff1a<code>(f, *os.File)</code>\u3002\u5373\u4f7f w \u662f\u7a7a\u63a5\u53e3\u7c7b\u578b\uff0c pair \u4e5f\u662f\u4e0d\u53d8\u7684\u3002<p></p> </li> </ul> <p>Info</p> <p>interface\u53ca\u5176pair\u7684\u5b58\u5728\uff0c\u662fGolang\u4e2d\u5b9e\u73b0\u53cd\u5c04\u7684\u524d\u63d0\uff0c\u7406\u89e3\u4e86pair\uff0c\u5c31\u66f4\u5bb9\u6613\u7406\u89e3\u53cd\u5c04\u3002</p> <p>\u53cd\u5c04\u5c31\u662f\u7528\u6765\u68c0\u6d4b\u5b58\u50a8\u5728\u63a5\u53e3\u53d8\u91cf\u5185\u90e8<code>(\u7c7b\u578bconcrete type, \u503cvalue)</code> pair\u5bf9\u7684\u4e00\u79cd\u673a\u5236\u3002</p>"},{"location":"Go/Advanced/Golang-19-reflect/#_3","title":"\u53cd\u5c04\u7684\u4f7f\u7528","text":"<ul> <li> <p>reflect\u5305\u63d0\u4f9b\u4e86\u51e0\u4e2a\u91cd\u8981\u7c7b\u578b\u548c\u51fd\u6570\uff1a</p> <ul> <li>reflect.Type\u63a5\u53e3 \u8868\u793a\u63a5\u53e3\u503c\u7684\"\u5177\u4f53\u7c7b\u578b\"\uff1b<code>reflect.TypeOf()</code>\u51fd\u6570\u8fd4\u56de\u7c7b\u578b\u7684\u540d\u79f0\uff0c\u4e5f\u5c31\u662f pair \u4e2d\u7684 type</li> <li>reflect.Value\u7ed3\u6784 \u8868\u793a\u63a5\u53e3\u503c\u7684\"\u5177\u4f53\u7c7b\u578b\u7684\u503c\"\uff1b<code>reflect.ValueOf()</code>\u51fd\u6570\u8fd4\u56de\u5177\u4f53\u7c7b\u578b\u7684\u503c\uff0c\u4e5f\u5c31\u662f pair \u4e2d\u7684 value</li> </ul> </li> <li> <p>\u5148\u6709\u4e00\u4e2a\u63a5\u53e3\u7c7b\u578b\u7684\u53d8\u91cf</p> </li> <li>\u628a\u63a5\u53e3\u53d8\u91cf\u8f6c\u5316\u6210 <code>reflect</code> \u5bf9\u8c61\uff08<code>reflect.Type</code> \u6216 <code>reflect.Value</code>\uff09</li> <li>\u6839\u636e\u4e0d\u540c\u60c5\u51b5\u8c03\u7528\u4e0d\u540c\u7684\u51fd\u6570</li> </ul> <p>\u6700\u7b80\u5355\u7684\u57fa\u672c\u4f7f\u7528\uff1a </p><pre><code>package main\n\nimport (\n    \"fmt\"\n    \"reflect\"\n)\nfunc main() {\n    var x float64 = 1.23\n\n    t := reflect.TypeOf(x)  /* \u5b9e\u4f8b\u5230type */\n    v := reflect.ValueOf(x) /* \u5b9e\u4f8b\u5230value */\n    fmt.Println(t)         // float64\n    fmt.Println(v)         // 1.23\n}\n</code></pre><p></p>"},{"location":"Go/Advanced/Golang-19-reflect/#reflecttype","title":"reflect.Type","text":"Note <pre><code>type Type interface {\n    // Kind\u8fd4\u56de\u8be5\u63a5\u53e3\u7684\u5177\u4f53\u5206\u7c7b\n    Kind() Kind\n\n    // Name\u8fd4\u56de\u8be5\u7c7b\u578b\u5728\u81ea\u8eab\u5305\u5185\u7684\u7c7b\u578b\u540d\uff0c\u5982\u679c\u662f\u672a\u547d\u540d\u7c7b\u578b\u4f1a\u8fd4\u56de\"\"\n    Name() string\n\n    // PkgPath\u8fd4\u56de\u7c7b\u578b\u7684\u5305\u8def\u5f84\uff0c\u5373\u660e\u786e\u6307\u5b9a\u5305\u7684import\u8def\u5f84\uff0c\u5982\"encoding/base64\"\n    // \u5982\u679c\u7c7b\u578b\u4e3a\u5185\u5efa\u7c7b\u578b(string, error)\u6216\u672a\u547d\u540d\u7c7b\u578b(*T, struct{}, []int)\uff0c\u4f1a\u8fd4\u56de\"\"\n    PkgPath() string\n\n    // \u8fd4\u56de\u7c7b\u578b\u7684\u5b57\u7b26\u4e32\u8868\u793a\u3002\u8be5\u5b57\u7b26\u4e32\u53ef\u80fd\u4f1a\u4f7f\u7528\u77ed\u5305\u540d\uff08\u5982\u7528base64\u4ee3\u66ff\"encoding/base64\"\uff09\n    // \u4e5f\u4e0d\u4fdd\u8bc1\u6bcf\u4e2a\u7c7b\u578b\u7684\u5b57\u7b26\u4e32\u8868\u793a\u4e0d\u540c\u3002\u5982\u679c\u8981\u6bd4\u8f83\u4e24\u4e2a\u7c7b\u578b\u662f\u5426\u76f8\u7b49\uff0c\u8bf7\u76f4\u63a5\u7528Type\u7c7b\u578b\u6bd4\u8f83\u3002\n    String() string\n\n    // \u8fd4\u56de\u8981\u4fdd\u5b58\u4e00\u4e2a\u8be5\u7c7b\u578b\u7684\u503c\u9700\u8981\u591a\u5c11\u5b57\u8282\uff1b\u7c7b\u4f3cunsafe.Sizeof\n    Size() uintptr\n\n    // \u8fd4\u56de\u5f53\u4ece\u5185\u5b58\u4e2d\u7533\u8bf7\u4e00\u4e2a\u8be5\u7c7b\u578b\u503c\u65f6\uff0c\u4f1a\u5bf9\u9f50\u7684\u5b57\u8282\u6570\n    Align() int\n\n    // \u8fd4\u56de\u5f53\u8be5\u7c7b\u578b\u4f5c\u4e3a\u7ed3\u6784\u4f53\u7684\u5b57\u6bb5\u65f6\uff0c\u4f1a\u5bf9\u9f50\u7684\u5b57\u8282\u6570\n    FieldAlign() int\n\n\n/* \u5224\u65ad\u76f8\u5173 */\n    // \u5982\u679c\u8be5\u7c7b\u578b\u5b9e\u73b0\u4e86u\u4ee3\u8868\u7684\u63a5\u53e3\uff0c\u4f1a\u8fd4\u56de\u771f\n    Implements(u Type) bool\n\n    // \u5982\u679c\u8be5\u7c7b\u578b\u7684\u503c\u53ef\u4ee5\u76f4\u63a5\u8d4b\u503c\u7ed9u\u4ee3\u8868\u7684\u7c7b\u578b\uff0c\u8fd4\u56de\u771f\n    AssignableTo(u Type) bool\n\n    // \u5982\u8be5\u7c7b\u578b\u7684\u503c\u53ef\u4ee5\u8f6c\u6362\u4e3au\u4ee3\u8868\u7684\u7c7b\u578b\uff0c\u8fd4\u56de\u771f\n    ConvertibleTo(u Type) bool\n\n\n/* \u7c7b\u578b\u76f8\u5173 */\n    // \u8fd4\u56de\u8be5\u7c7b\u578b\u7684\u5b57\u4f4d\u6570\u3002\u5982\u679c\u8be5\u7c7b\u578b\u7684Kind\u4e0d\u662fInt\u3001Uint\u3001Float\u6216Complex\uff0c\u4f1apanic\n    Bits() int\n\n    // \u8fd4\u56dearray\u7c7b\u578b\u7684\u957f\u5ea6\uff0c\u5982\u975e\u6570\u7ec4\u7c7b\u578b\u5c06panic\n    Len() int\n\n    // \u8fd4\u56de\u8be5\u7c7b\u578b\u7684\u5143\u7d20\u7c7b\u578b\uff0c\u5982\u679c\u8be5\u7c7b\u578b\u7684Kind\u4e0d\u662fArray\u3001Chan\u3001Map\u3001Ptr\u6216Slice\uff0c\u4f1apanic\n    Elem() Type\n\n    // \u8fd4\u56demap\u7c7b\u578b\u7684\u952e\u7684\u7c7b\u578b\u3002\u5982\u975e\u6620\u5c04\u7c7b\u578b\u5c06panic\n    Key() Type\n\n    // \u8fd4\u56de\u4e00\u4e2achannel\u7c7b\u578b\u7684\u65b9\u5411\uff0c\u5982\u975e\u901a\u9053\u7c7b\u578b\u5c06\u4f1apanic\n    ChanDir() ChanDir\n\n\n/* \u7ed3\u6784\u4f53\u76f8\u5173 */\n    // \u8fd4\u56destruct\u7c7b\u578b\u7684\u5b57\u6bb5\u6570\uff08\u533f\u540d\u5b57\u6bb5\u7b97\u4f5c\u4e00\u4e2a\u5b57\u6bb5\uff09\uff0c\u5982\u975e\u7ed3\u6784\u4f53\u7c7b\u578b\u5c06panic\n    NumField() int\n\n    // \u8fd4\u56destruct\u7c7b\u578b\u7684\u7b2ci\u4e2a\u5b57\u6bb5\u7684\u7c7b\u578b\uff0c\u5982\u975e\u7ed3\u6784\u4f53\u6216\u8005i\u4e0d\u5728[0, NumField())\u5185\u5c06\u4f1apanic\n    Field(i int) StructField\n\n    // \u8fd4\u56de\u7d22\u5f15\u5e8f\u5217\u6307\u5b9a\u7684\u5d4c\u5957\u5b57\u6bb5\u7684\u7c7b\u578b\uff0c\n    // \u7b49\u4ef7\u4e8e\u7528\u7d22\u5f15\u4e2d\u6bcf\u4e2a\u503c\u94fe\u5f0f\u8c03\u7528\u672c\u65b9\u6cd5\uff0c\u5982\u975e\u7ed3\u6784\u4f53\u5c06\u4f1apanic\n    FieldByIndex(index []int) StructField\n\n    // \u8fd4\u56de\u8be5\u7c7b\u578b\u540d\u4e3aname\u7684\u5b57\u6bb5\uff08\u4f1a\u67e5\u627e\u533f\u540d\u5b57\u6bb5\u53ca\u5176\u5b50\u5b57\u6bb5\uff09\uff0c\n    // \u5e03\u5c14\u503c\u8bf4\u660e\u662f\u5426\u627e\u5230\uff0c\u5982\u975e\u7ed3\u6784\u4f53\u5c06panic\n    FieldByName(name string) (StructField, bool)\n\n    // \u8fd4\u56de\u8be5\u7c7b\u578b\u7b2c\u4e00\u4e2a\u5b57\u6bb5\u540d\u6ee1\u8db3\u51fd\u6570match\u7684\u5b57\u6bb5\uff0c\u5e03\u5c14\u503c\u8bf4\u660e\u662f\u5426\u627e\u5230\uff0c\u5982\u975e\u7ed3\u6784\u4f53\u5c06\u4f1apanic\n    FieldByNameFunc(match func(string) bool) (StructField, bool) {}\n\n    // \u8fd4\u56de\u8be5\u7c7b\u578b\u7684\u65b9\u6cd5public\u65b9\u6cd5\u7684\u6570\u76ee\n    // \u533f\u540d\u5b57\u6bb5\u7684\u65b9\u6cd5\u4f1a\u88ab\u8ba1\u7b97\uff1b\u4e3b\u4f53\u7c7b\u578b\u7684\u65b9\u6cd5\u4f1a\u5c4f\u853d\u533f\u540d\u5b57\u6bb5\u7684\u540c\u540d\u65b9\u6cd5\uff1b\n    // \u533f\u540d\u5b57\u6bb5\u5bfc\u81f4\u7684\u6b67\u4e49\u65b9\u6cd5\u4f1a\u6ee4\u9664\n    NumMethod() int\n\n    // \u8fd4\u56de\u8be5\u7c7b\u578b\u65b9\u6cd5\u96c6\u4e2d\u7684\u7b2ci\u4e2a\u65b9\u6cd5\uff0ci\u4e0d\u5728[0, NumMethod())\u8303\u56f4\u5185\u65f6\uff0c\u5c06\u5bfc\u81f4panic\n    // \u5bf9\u975e\u63a5\u53e3\u7c7b\u578bT\u6216*T\uff0c\u8fd4\u56de\u503c\u7684Type\u5b57\u6bb5\u548cFunc\u5b57\u6bb5\u63cf\u8ff0\u65b9\u6cd5\u7684\u672a\u7ed1\u5b9a\u51fd\u6570\u72b6\u6001\n    // \u5bf9\u63a5\u53e3\u7c7b\u578b\uff0c\u8fd4\u56de\u503c\u7684Type\u5b57\u6bb5\u63cf\u8ff0\u65b9\u6cd5\u7684\u7b7e\u540d\uff0cFunc\u5b57\u6bb5\u4e3anil\n    Method(int) Method\n\n    // \u6839\u636e\u65b9\u6cd5\u540d\u8fd4\u56de\u8be5\u7c7b\u578b\u65b9\u6cd5\u96c6\u4e2d\u7684\u65b9\u6cd5\uff0c\u4f7f\u7528\u4e00\u4e2a\u5e03\u5c14\u503c\u8bf4\u660e\u662f\u5426\u53d1\u73b0\u8be5\u65b9\u6cd5\n    // \u5bf9\u975e\u63a5\u53e3\u7c7b\u578bT\u6216*T\uff0c\u8fd4\u56de\u503c\u7684Type\u5b57\u6bb5\u548cFunc\u5b57\u6bb5\u63cf\u8ff0\u65b9\u6cd5\u7684\u672a\u7ed1\u5b9a\u51fd\u6570\u72b6\u6001\n    // \u5bf9\u63a5\u53e3\u7c7b\u578b\uff0c\u8fd4\u56de\u503c\u7684Type\u5b57\u6bb5\u63cf\u8ff0\u65b9\u6cd5\u7684\u7b7e\u540d\uff0cFunc\u5b57\u6bb5\u4e3anil\n    MethodByName(string) (Method, bool)\n\n\n/* \u51fd\u6570\u76f8\u5173 */\n    // \u5982\u679c\u51fd\u6570\u7c7b\u578b\u7684\u6700\u540e\u4e00\u4e2a\u8f93\u5165\u53c2\u6570\u662f\"...\"\u5f62\u5f0f\u7684\u53c2\u6570\uff0cIsVariadic\u8fd4\u56de\u771f\n    // \u5982\u679c\u8fd9\u6837\uff0ct.In(t.NumIn() - 1)\u8fd4\u56de\u53c2\u6570\u7684\u9690\u5f0f\u7684\u5b9e\u9645\u7c7b\u578b\uff08\u58f0\u660e\u7c7b\u578b\u7684\u5207\u7247\uff09\n    // \u5982\u975e\u51fd\u6570\u7c7b\u578b\u5c06panic\n    IsVariadic() bool\n\n    // \u8fd4\u56defunc\u7c7b\u578b\u7684\u53c2\u6570\u4e2a\u6570\uff0c\u5982\u679c\u4e0d\u662f\u51fd\u6570\uff0c\u5c06\u4f1apanic\n    NumIn() int\n\n    // \u8fd4\u56defunc\u7c7b\u578b\u7684\u8fd4\u56de\u503c\u4e2a\u6570\uff0c\u5982\u679c\u4e0d\u662f\u51fd\u6570\uff0c\u5c06\u4f1apanic\n    NumOut() int\n\n    // \u8fd4\u56defunc\u7c7b\u578b\u7684\u7b2ci\u4e2a\u53c2\u6570\u7684\u7c7b\u578b\uff0c\u5982\u975e\u51fd\u6570\u6216\u8005i\u4e0d\u5728[0, NumIn())\u5185\u5c06\u4f1apanic\n    In(i int) Type\n\n    // \u8fd4\u56defunc\u7c7b\u578b\u7684\u7b2ci\u4e2a\u8fd4\u56de\u503c\u7684\u7c7b\u578b\uff0c\u5982\u975e\u51fd\u6570\u6216\u8005i\u4e0d\u5728[0, NumOut())\u5185\u5c06\u4f1apanic\n    Out(i int) Type\n}\n</code></pre> <p>Kind \u6709 <code>slice\u3001map\u3001ptr\u3001struct\u3001interface\u3001string\u3001Array\u3001Function\u3001int</code> \u6216\u5176\u4ed6\u57fa\u672c\u7c7b\u578b\u7ec4\u6210\u3002</p> <p>Kind \u548c Type \u4e4b\u95f4\u8981\u505a\u597d\u533a\u5206\u3002</p> <p>\u5982\uff1a\u5728 <code>main()</code> \u4e2d\u5b9a\u4e49 <code>type Person struct {}</code>\uff0c\u90a3\u4e48 Kind \u5c31\u662f <code>struct</code>\uff0cType \u5c31\u662f <code>main.Person</code>\u3002</p> <pre><code>type Person struct {\n    name string\n    age  int\n}\n\nfunc main() {\n    pers := person{\"Boii\", 18}\n    t := reflect.TypeOf(pers)\n    v := reflect.ValueOf(pers)\n    fmt.Println(v)             // {Boii 18}\n    fmt.Println(t)             // main.person\n    fmt.Println(t.Name())      // person\n    fmt.Println(t.Kind())      // struct\n}\n</code></pre>"},{"location":"Go/Advanced/Golang-19-reflect/#reflectvalue","title":"reflect.Value","text":"Note <pre><code>// \u7c7b\u578b\u76f8\u5173\nfunc (v Value) Addr() Value\nfunc (v Value) Bool() bool\nfunc (v Value) Bytes() []byte\nfunc (v Value) Complex() complex128\nfunc (v Value) Int() int64\nfunc (v Value) Slice(i, j int) Value\nfunc (v Value) Slice3(i, j, k int) Value\nfunc (v Value) String() string\nfunc (v Value) Uint() uint64\nfunc (v Value) Pointer() uintptr\nfunc (v Value) UnsafeAddr() uintptr\nfunc (v Value) Kind() Kind\nfunc (v Value) Type() Type\nfunc (v Value) InterfaceData() [2]uintptr\n\n\n// \u51fd\u6570\u76f8\u5173\nfunc (v Value) Call(in []Value) []Value\nfunc (v Value) CallSlice(in []Value) []Value\n\n\n// \u5224\u65ad\u76f8\u5173\nfunc (v Value) CanAddr() bool\nfunc (v Value) CanInterface() bool\nfunc (v Value) CanSet() bool\nfunc (v Value) IsNil() bool\nfunc (v Value) IsValid() bool\nfunc (v Value) IsZero() bool\nfunc (v Value) OverflowComplex(x complex128) bool\nfunc (v Value) OverflowFloat(x float64) bool\nfunc (v Value) OverflowInt(x int64) bool\nfunc (v Value) OverflowUint(x uint64) bool\n\n\n// \u8f6c\u6362\u76f8\u5173\nfunc (v Value) Convert(t Type) Value\nfunc (v Value) Interface() (i interface{})\nfunc (v Value) Elem() Value\n\n\n// struct \u76f8\u5173\nfunc (v Value) NumField() int\nfunc (v Value) NumMethod() int\nfunc (v Value) Field(i int) Value\nfunc (v Value) FieldByIndex(index []int) Value\nfunc (v Value) FieldByName(name string) Value\nfunc (v Value) FieldByNameFunc(match func(string) bool) Value\nfunc (v Value) Method(i int) Value\nfunc (v Value) MethodByName(name string) Value\n\n\n// Array\u3001Slice \u76f8\u5173\nfunc (v Value) Index(i int) Value\n\n\n// Map \u76f8\u5173\nfunc (v Value) MapIndex(key Value) Value\nfunc (v Value) MapKeys() []Value\nfunc (v Value) MapRange() *MapIter\n\n\n// Array\u3001Slice\u3001Map \u76f8\u5173\nfunc (v Value) Cap() int\nfunc (v Value) Len() int\n\n\n// \u901a\u9053\u76f8\u5173\nfunc (v Value) Recv() (x Value, ok bool)\nfunc (v Value) Send(x Value)\nfunc (v Value) TryRecv() (x Value, ok bool)\nfunc (v Value) TrySend(x Value) bool\nfunc (v Value) Close()\n\n\n// \u6539\u503c\u76f8\u5173\nfunc (v Value) Set(x Value)\nfunc (v Value) SetBool(x bool)\nfunc (v Value) SetBytes(x []byte)\nfunc (v Value) SetCap(n int)\nfunc (v Value) SetComplex(x complex128)\nfunc (v Value) SetFloat(x float64)\nfunc (v Value) SetInt(x int64)\nfunc (v Value) SetLen(n int)\nfunc (v Value) SetMapIndex(key, elem Value)\nfunc (v Value) SetPointer(x unsafe.Pointer)\nfunc (v Value) SetString(x string)\nfunc (v Value) SetUint(x uint64)\n</code></pre> <p><code>reflect</code>\u4e2d\u7684\u7ed3\u6784\u4f53\u4e3b\u8981\u5305\u62ec\uff1aType\uff0cValue\uff0cChanDir\uff0cKind\uff0cMapIter\uff0cMethod\uff0cSelectCase\uff0cSelectDir\uff0cSliceHeader\uff0cStringHeader\uff0cStructField\uff0cStructTag\uff0cValueError \u7b49\u3002\u5176\u4e2d\uff0cType \u548c Value \u4e4b\u524d\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\u4e86\u3002</p> <ul> <li><code>ChanDir</code>\uff1a\u7ba1\u9053\u7684\u65b9\u5411\uff0c\u6709\u4e09\u4e2a\u503c\uff1aRecvDir / SendDir / BothDir\uff0c\u5206\u522b\u4e3a \u63a5\u53d7\uff0c\u53d1\u9001\uff0c\u53cc\u5411\uff1b</li> <li><code>Kind</code>\uff1aType\u4e2d\u7684\u7c7b\u578b\u4fe1\u606f\uff0c\u5305\u62ec\uff1aInvalid, Bool, Int, Int8, Int16, Int32, Int64, Uint, Uint8, Uint16, Uint32, Uint64, Uintptr, Float32, Float64, Complex64, Complex128, Array, Chan, Func, Interface, Map, Ptr, Slice, String, Struct, UnsafePointer\uff0c</li> <li><code>MapIter</code>\uff1aMap\u7684\u8fed\u4ee3\u5668\uff0c\u5305\u62ec\u4e09\u4e2a\u65b9\u6cd5\uff1aKey\u3001Value\u3001Next\uff1b</li> <li><code>Method</code>\uff1a\u63cf\u8ff0\u65b9\u6cd5\u7684\u4fe1\u606f\uff0c\u5305\u62ec\uff1a\u65b9\u6cd5\u540d\uff0c\u5305\u8def\u5f84\uff0c\u7c7b\u578b\uff0c\u51fd\u6570\uff0c\u6240\u5904\u7684\u4e0b\u6807\uff1b</li> <li><code>SelectCase</code>\uff1a\u63cf\u8ff0select \u64cd\u4f5c\u7684\u4fe1\u606f\uff0ccase\u7684\u65b9\u5411SelectDir\uff0c\u4f7f\u7528\u7684Channel\uff0c\u53d1\u9001\u7684\u503cSend\uff1b</li> <li><code>SelectDir</code>\uff1a\u63cf\u8ff0SelectCase\u4e2d\u7684\u65b9\u5411\uff0c\u6709\u4e09\u4e2a\u503c\uff1aSelectSend / SelectRecv / SelectDefault</li> <li><code>SliceHeader</code>\uff1a\u63cf\u8ff0\u5207\u7247Slice\u7684\u4fe1\u606f\uff0c\u5305\u62ec**\u6307\u9488\uff0c\u957f\u5ea6\uff0c\u5bb9\u91cf**\uff1b</li> <li><code>StringHeader</code>\uff1a\u63cf\u8ff0\u5b57\u7b26\u4e32string\u7684\u4fe1\u606f\uff0c\u5305\u62ec**\u6307\u9488\uff0c\u957f\u5ea6**\uff1b</li> <li><code>StructField</code>\uff1a\u63cf\u8ff0\u7ed3\u6784\u4f53\u4e2d\u7684\u57dffield\u4e2d\u7684\u4fe1\u606f\uff0c\u5305\u62ec\uff1a\u57df\u540d\uff0c\u5305\u8def\u5f84\uff0c\u7c7b\u578b\uff0c\u6807\u7b7eTag\uff0c\u5728\u7ed3\u6784\u4f53\u4e2d\u7684\u504f\u79fb\u91cfoffset\uff0cType.FieldByIndex\u4e2d\u7684\u4e0b\u6807index\uff0c\u662f\u5426\u662f\u533f\u540d\uff1b</li> <li><code>StructTag</code>\uff1a\u63cf\u8ff0\u6807\u7b7e\u4fe1\u606f\uff0c\u6709\u4e24\u4e2a\u65b9\u6cd5\uff1aGet\u3001Lookup\uff1b</li> <li><code>ValueError</code>\uff1a\u5728\u8c03\u7528\u4e00\u4e2aValue\u4e0d\u652f\u6301\u7684\u65b9\u6cd5\u65f6\u4f1a\u62a5\u9519\uff0c\u5e76\u8bb0\u5f55\u5230ValueError\u4e2d\u3002</li> </ul>"},{"location":"Go/Advanced/Golang-19-reflect/#api","title":"\u53cd\u5c04API","text":"<p>\u4e0a\u56fe\u5f88\u597d\u7684\u6982\u62ec\u4e86 \u6240\u6709\u7684API</p> <p><code>Type</code> \u8868\u793a <code>reflect</code> \u7684 <code>Type</code> \u7c7b\u578b\uff1a <code>reflect.Type</code> <code>Value</code> \u8868\u793a <code>reflect</code> \u7684 <code>Value</code> \u7c7b\u578b\uff1a <code>reflect.Value</code> <code>interface{}</code> \u8868\u793a\u63a5\u53e3\u5b9e\u4f8b\u3001\u4efb\u610f\u7c7b\u578b <code>Special Type</code> \u8868\u793a\u5176\u4ed6\u7279\u6b8a\u7c7b\u578b</p> <ul> <li>Type -&gt; Value\uff1a\u901a\u8fc7 <code>reflect</code> \u5305\u7684\u9759\u6001\u65b9\u6cd5 <code>New()\u3001NewAt()\u3001Zero()</code></li> <li>Value -&gt; Type\uff1a\u901a\u8fc7 <code>reflect\u5bf9\u8c61</code>\u7684 <code>Type()</code> \u65b9\u6cd5</li> <li>interface{} -&gt; Type\uff1a\u901a\u8fc7 <code>reflect</code> \u5305\u7684\u9759\u6001\u65b9\u6cd5 <code>TypeOf()</code></li> <li>interface{} -&gt; Value\uff1a\u901a\u8fc7 <code>reflect</code> \u5305\u7684\u9759\u6001\u65b9\u6cd5 <code>ValueOf()</code></li> <li>Value -&gt; interface{}\uff1a\u901a\u8fc7  <code>reflect\u5bf9\u8c61</code>\u7684 <code>Interface()</code> \u65b9\u6cd5\uff0c\u5f97\u5230\u662f\u4e00\u4e2a\u9759\u6001\u7c7b\u578b</li> </ul>"},{"location":"Go/Advanced/Golang-19-reflect/#type","title":"\u4ece \u63a5\u53e3\u5b9e\u4f8b \u83b7\u53d6 Type","text":"<p>interface{} -&gt; Type\uff1a\u901a\u8fc7 <code>reflect</code> \u5305\u7684\u9759\u6001\u65b9\u6cd5 `TypeOf()``</p> <pre><code>func TypeOf(i interface{}) Type\n</code></pre> <p>Example</p> <pre><code>var x int = 10\nt := reflect.TypeOf(x)\n\nfmt.Printf(\"t\u7684\u503c\uff1a%v   \\n\", t)    // int\nfmt.Printf(\"t\u7684\u7c7b\u578b\uff1a%T \\n\", t)    // *reflect.rtype\n</code></pre>"},{"location":"Go/Advanced/Golang-19-reflect/#value","title":"\u4ece \u63a5\u53e3\u5b9e\u4f8b \u83b7\u53d6 Value","text":"<p>interface{} -&gt; Value\uff1a\u901a\u8fc7 <code>reflect</code> \u5305\u7684\u9759\u6001\u65b9\u6cd5 <code>ValueOf()</code></p> <pre><code>func ValueOf(i interface{}) Value\n</code></pre> <p>Example</p> <pre><code>var x int = 10\nv := reflect.ValueOf(x)\n\nfmt.Printf(\"t\u7684\u503c\uff1a%v \\n\", v)  // 10\nfmt.Printf(\"t\u7684\u7c7b\u578b\uff1a%T \\n\", v)  // reflect.Value\n</code></pre>"},{"location":"Go/Advanced/Golang-19-reflect/#type-value","title":"\u4ece Type \u83b7\u53d6 Value","text":"<p>Type -&gt; Value\uff1a\u901a\u8fc7 <code>reflect</code> \u5305\u7684\u9759\u6001\u65b9\u6cd5 <code>New()\u3001NewAt()\u3001Zero()</code></p> <p>Type \u91cc\u9762\u53ea\u6709\u7c7b\u578b\u4fe1\u606f\uff0c\u6240\u4ee5\u76f4\u63a5\u4ece\u4e00\u4e2a Type \u63a5\u53e3\u53d8\u91cf\u91cc\u9762\u662f\u65e0\u6cd5\u83b7\u5f97\u5b9e\u4f8b\u7684 Value \u7684\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7\u8be5 Type \u6784\u5efa\u4e00\u4e2a\u65b0\u5b9e\u4f8b\u7684 Value\u3002</p> <ul> <li> <p>New \u8fd4\u56de\u7684\u662f\u4e00\u4e2a Value\uff0c\u8be5 Value \u7684 type \u4e3a PtrTo(typ)\uff0c\u5373 Value \u7684 Type \u662f\u6307\u5b9a typ \u7684\u6307\u9488\u7c7b\u578b     </p><pre><code>func New(typ Type) Value\n</code></pre><p></p> </li> <li> <p>Zero \u8fd4\u56de\u7684\u662f\u4e00\u4e2a typ \u7c7b\u578b\u7684\u96f6\u503c\uff0c\u6ce8\u610f\u8fd4\u56de\u7684 Value \u4e0d\u80fd\u5bfb\u5740\uff0c\u4f4d\u4e0d\u53ef\u6539\u53d8     </p><pre><code>func Zero(typ Type) Value\n</code></pre><p></p> </li> <li> <p>\u5982\u679c\u77e5\u9053\u4e00\u4e2a\u7c7b\u578b\u503c\u7684\u5e95\u5c42\u5b58\u653e\u5730\u5740\uff0c\u5219\u8fd8\u6709\u4e00\u4e2a\u51fd\u6570\u662f\u53ef\u4ee5\u4f9d\u636e type \u548c\u8be5\u5730\u5740\u503c\u6062\u590d\u51fa Value \u7684\uff1a     </p><pre><code>func NewAt(typ Type, p unsafe.Pointer) Value\n</code></pre><p></p> </li> </ul> <p>Example</p> <pre><code>var x int = 10\nt := reflect.TypeOf(x)\nnewX := reflect.New(t)     // Type -&gt; Value\nzeroX := reflect.Zero(t)   // Type -&gt; Value\n\nfmt.Println(newX)          // 0xc000012090\nfmt.Printf(\"%v \\n\", newX)  // 0xc000012090\nfmt.Printf(\"%T \\n\", newX)  // reflect.Value\n\nfmt.Println(zeroX)         // 0\nfmt.Printf(\"%v \\n\", zeroX) // 0\nfmt.Printf(\"%T \\n\", zeroX) // reflect.Value\n</code></pre>"},{"location":"Go/Advanced/Golang-19-reflect/#value-type","title":"\u4ece Value \u83b7\u53d6 Type","text":"<p>Value -&gt; Type\uff1a\u901a\u8fc7 <code>reflect\u5bf9\u8c61</code>\u7684 <code>Type()</code> \u65b9\u6cd5</p> <pre><code>func (v Value) Type() Type\n</code></pre> <p>Example</p> <pre><code>var x int = 10\nv := reflect.ValueOf(x)\n\nt := v.Type()                     // value -&gt; type\nfmt.Printf(\"t\u7684\u503c\uff1a%v   \\n\", t)    // int\nfmt.Printf(\"t\u7684\u7c7b\u578b\uff1a%T \\n\", t)    // *reflect.rtype\n</code></pre>"},{"location":"Go/Advanced/Golang-19-reflect/#value_1","title":"\u4ece Value \u83b7\u53d6 \u63a5\u53e3\u5b9e\u4f8b","text":"<p>Value -&gt; interface{}\uff1a\u901a\u8fc7  <code>reflect\u5bf9\u8c61</code>\u7684 <code>Interface()</code> \u65b9\u6cd5\uff0c\u5f97\u5230\u662f\u4e00\u4e2a\u9759\u6001\u7c7b\u578b</p> <pre><code>//\u8be5\u65b9\u6cd5\u6700\u901a\u7528\uff0c\u7528\u6765\u5c06 Value \u8f6c\u6362\u4e3a\u7a7a\u63a5\u53e3\uff0c\u8be5\u7a7a\u63a5\u53e3\u5185\u90e8\u5b58\u653e\u5177\u4f53\u7c7b\u578b\u5b9e\u4f8b\n//\u53ef\u4ee5\u4f7f\u7528\u63a5\u53e3\u7c7b\u578b\u67e5\u8be2\u53bb\u8fd8\u539f\u4e3a\u5177\u4f53\u7684\u7c7b\u578b\nfunc (v Value) Interface() \uff08i interface{})\n\n//Value \u81ea\u8eab\u4e5f\u63d0\u4f9b\u4e30\u5bcc\u7684\u65b9\u6cd5\uff0c\u76f4\u63a5\u5c06 Value \u8f6c\u6362\u4e3a\u7b80\u5355\u7c7b\u578b\u5b9e\u4f8b\uff0c\u5982\u679c\u7c7b\u578b\u4e0d\u5339\u914d\uff0c\u5219\u76f4\u63a5\u5f15\u8d77 panic\nfunc (v Value) Bool () bool\nfunc (v Value) Float() float64\nfunc (v Value) Int() int64\nfunc (v Value) Uint() uint64\n</code></pre> <p>Example</p> <p>eg1\uff1a</p> <pre><code>var x int = 10\nv := reflect.ValueOf(x)\n\niInt := v.Interface()\nvType := iInt.(int)\nvInt := v.Int()\n\nfmt.Println(iInt)            // 10\nfmt.Printf(\"%T \\n\", iInt)    // int\nfmt.Println(vType)           // 10\nfmt.Printf(\"%T \\n\", vType)   // int\n\n\nfmt.Println(vInt)            // 10\nfmt.Printf(\"%T \\n\", vInt)    // int64\n</code></pre> <p>eg2\uff1a</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"reflect\"\n)\nfunc main() {\n    var x float64 = 1.23\n\n    t := reflect.TypeOf(x)  // \u83b7\u5f97 reflect.Type  \u5bf9\u8c61\n    v := reflect.ValueOf(x) // \u83b7\u5f97 reflect.Value \u5bf9\u8c61\n    fmt.Println(t)          // float64\n    fmt.Println(v)          // 1.23\n    fmt.Println(v.Kind())   // float64\n    fmt.Println(v.Type())   // float64  /* value \u5230 type */\n    fmt.Println(v.Float())  // 1.23     /* value \u5230 \u5b9e\u4f8b */\n\n    /* value \u5230 \u5b9e\u4f8b */\n    v = reflect.ValueOf(x)                 // \u63a5\u53e3\u7c7b\u578b\u53d8\u91cf -&gt; \u53cd\u5c04\u7c7b\u578b\u5bf9\u8c61\n    convertV := v.Interface().(float64)    // \u53cd\u5c04\u7c7b\u578b\u5bf9\u8c61 -&gt; \u63a5\u53e3\u7c7b\u578b\u53d8\u91cf, \u53ef\u4ee5\u7406\u89e3\u4e3a \u5f3a\u5236\u8f6c\u6362\n    fmt.Println(convertV)    // 1.23\n\n    p := reflect.ValueOf(&amp;x)\n    convertP := p.Interface().(*float64)\n    fmt.Println(convertP)    // 0xc000012090\n}\n</code></pre>"},{"location":"Go/Advanced/Golang-19-reflect/#_4","title":"\u6307\u9488\u7c7b\u578b \u4e0e \u503c\u7c7b\u578b\u7684\u8f6c\u6362","text":"<ul> <li>\u6307\u9488 -&gt; \u503c\uff1a<code>t.Elem()</code>\uff0ct \u53ea\u53ef\u4ee5\u662f\u5f15\u7528\u7c7b\u578b</li> <li> <p>\u6307\u9488 -&gt; \u503c\uff1a<code>v.Elem()</code>\uff0cv \u53ea\u53ef\u4ee5\u662f\u6307\u9488</p> <pre><code>// t \u5fc5\u987b\u662f Array\u3001Chan\u3001Map\u3001Ptr\u3001Slice\uff0c\u5426\u5219\u4f1a\u5f15\u8d77 panic\n// Elem \u8fd4\u56de\u7684\u662f\u5176\u5185\u90e8\u5143\u7d20\u7684 Type\nfunc (t *rtype) Elem() Type\n</code></pre> <p>Example</p> <p>eg\uff1a</p> <pre><code>func main() {\n    var x int = 10\n    var s []int = []int{10, 20, 30}\n\n// TypeOf\uff1a\u53ea\u63a5\u53d7\u5f15\u7528\u7c7b\u578b\n    t1 := reflect.TypeOf(s)\n    te1 := t1.Elem()\n    fmt.Println(te1)         // int\n    fmt.Printf(\"%T \\n\", te1) // *reflect.rtype\n\n    t2 := reflect.TypeOf(&amp;s)\n    te2 := t2.Elem()\n    fmt.Println(te2)         // []int\n    fmt.Printf(\"%T \\n\", te2) // *reflect.rtype\n\n    t3 := reflect.TypeOf(x)\n    te3 := t3.Elem() // panic: reflect: Elem of invalid type int\n\n\n    t4 := reflect.TypeOf(&amp;x)\n    te4 := t4.Elem()\n    fmt.Println(te4)         // int\n    fmt.Printf(\"%T \\n\", te4) // *reflect.rtype\n\n\n// ValueOf\uff1a\u53ea\u63a5\u53d7prt\u7c7b\u578b\n    v1 := reflect.ValueOf(s)\n    ve1 := v1.Elem() // panic: reflect: call of reflect.Value.Elem on slice Value\n\n\n    v2 := reflect.ValueOf(&amp;s)\n    ve2 := v2.Elem()\n    fmt.Println(ve2)         // [10 20 30]\n    fmt.Printf(\"%T \\n\", ve2) // reflect.Value\n\n    v3 := reflect.ValueOf(x)\n    ve3 := v3.Elem() // panic: reflect: call of reflect.Value.Elem on int Value\n\n\n    v4 := reflect.ValueOf(&amp;x)\n    ve4 := v4.Elem()\n    fmt.Println(ve4)         // 10\n    fmt.Printf(\"%T \\n\", ve4) // reflect.Value\n}\n</code></pre> </li> <li> <p>\u503c -&gt; \u6307\u9488\uff1a<code>PtrTo(t)</code> </p><pre><code>// PtrTo \u8fd4\u56de\u7684\u662f\u6307\u5411 t \u7684\u6307\u9488\u578b Type\nfunc PtrTo(t Type) Type\n</code></pre><p></p> <p>Example</p> <p>eg\uff1a</p> <pre><code>func main() {\n    var x int = 10\n    var s []int = []int{10, 20, 30}\n\n    xt := reflect.TypeOf(x)\n    st := reflect.TypeOf(s)\n\n    px := reflect.PtrTo(xt)\n    ps := reflect.PtrTo(st)\n\n    fmt.Println(px) // *int\n    fmt.Println(ps) // *[]int\n}\n</code></pre> </li> </ul>"},{"location":"Go/Advanced/Golang-19-reflect/#value_2","title":"Value \u7684\u53ef\u4fee\u6539\u6027","text":"<pre><code>//\u901a\u8fc7 CanSet \u5224\u65ad\u662f\u5426\u80fd\u4fee\u6539\nfunc (v Value) CanSet() bool {}\n//\u901a\u8fc7 Set \u8fdb\u884c\u4fee\u6539\nfunc (v Value) Set(x Value) {}\nfunc (v Value) SetBool(x bool) {}\nfunc (v Value) SetBytes(x []byte) {}\nfunc (v Value) SetCap(n int) {}\nfunc (v Value) SetComplex(x complex128) {}\nfunc (v Value) SetFloat(x float64) {}\nfunc (v Value) SetInt(x int64) {}\nfunc (v Value) SetLen(n int) {}\nfunc (v Value) SetMapIndex(key, elem Value) {}\nfunc (v Value) SetPointer(x unsafe.Pointer) {}\nfunc (v Value) SetString(x string) {}\nfunc (v Value) SetUint(x uint64) {}\n</code></pre> <p>Example</p> <pre><code>func main() {\n    var x int = 10\n    var s []int = []int{10, 20, 30}\n\n    vpx := reflect.ValueOf(&amp;x)\n    vepx := vpx.Elem()\n    if vepx.CanSet() == true {    // CanSet \u5224\u65ad\n        vepx.SetInt(20)           // Set \u8bbe\u7f6e\n    }\n    fmt.Println(x) // 20\n\n    vps := reflect.ValueOf(&amp;s)\n    veps := vps.Elem()\n    if veps.CanSet() == true {    // CanSet \u5224\u65ad\n        veps.Index(1).SetInt(345) // Index \u83b7\u53d6\u5143\u7d20\uff0c\u7136\u540e\u8bbe\u7f6e\n    }\n    fmt.Println(s) // [10 345 30]\n}\n</code></pre>"},{"location":"Go/Advanced/Golang-19-reflect/#_5","title":"\u53cd\u5c04\u7ed3\u6784\u4f53","text":"<p>\u7ed3\u6784\u4f53\u76f8\u6bd4\u57fa\u672c\u7c7b\u578b\u7a0d\u5fae\u591a\u4e00\u70b9\u6b65\u9aa4\u3002</p> <ul> <li>\u7b2c\u4e00\u6b65\uff0c\u4f20\u5165\u7ed3\u6784\u4f53\u6307\u9488\uff0c\u83b7\u53d6\u53ef\u4fee\u6539\u7684 <code>reflect</code> \u5bf9\u8c61</li> <li>\u7b2c\u4e8c\u6b65\uff0c\u4f7f\u7528 <code>Elem()</code> \u83b7\u5f97\u5b57\u6bb5\u5217\u8868</li> <li>\u7b2c\u4e09\u6b65\uff0c\u4f7f\u7528 <code>Field()</code>\u7cfb\u5217\u65b9\u6cd5 \u6216 <code>Method()</code> \u7cfb\u5217\u65b9\u6cd5\uff0c\u83b7\u5f97\u6307\u5b9a\u5b57\u6bb5\u6216\u65b9\u6cd5</li> <li>\u7b2c\u56db\u6b65\uff0c\u4f7f\u7528 <code>Set()</code>\u7cfb\u5217\u65b9\u6cd5\u4fee\u6539\u6570\u503c \u6216 \u4f7f\u7528 <code>Call()</code> \u8c03\u7528\u7ed3\u6784\u4f53\u65b9\u6cd5</li> </ul> <p>\u7ed3\u6784\u4f53\u7684 <code>Type</code> \u662f <code>main.person</code></p> <p>\u7ed3\u6784\u4f53\u7684 <code>Kind</code> \u662f <code>struct</code></p> <p>\u7ed3\u6784\u4f53\u7684 <code>Name</code> \u662f <code>person</code></p> <ul> <li><code>NumField()</code> \u53ef\u4ee5\u83b7\u5f97\u7ed3\u6784\u4f53\u5b57\u6bb5\u7684\u6570\u91cf</li> <li><code>NumMethod()</code> \u53ef\u4ee5\u83b7\u5f97\u7ed3\u6784\u4f53\u65b9\u6cd5\u7684\u6570\u91cf\uff0c\u4f46\u53ea\u80fd\u83b7\u53d6 public \u65b9\u6cd5</li> <li><code>Field(idx)</code> \u53ef\u4ee5\u901a\u8fc7\u4e0b\u6807\u83b7\u5f97\u6307\u5b9a\u7684\u5b57\u6bb5</li> <li><code>FieldByName(fieldName)</code> \u53ef\u4ee5\u901a\u8fc7\u5b57\u6bb5\u540d\u5b57\u83b7\u5f97\u6307\u5b9a\u7684\u5b57\u6bb5</li> <li><code>Method(idx)</code> \u53ef\u4ee5\u901a\u8fc7\u4e0b\u6807\u83b7\u5f97\u6307\u5b9a\u7684\u65b9\u6cd5</li> <li><code>MethodByName(methodName)</code> \u53ef\u4ee5\u901a\u8fc7\u65b9\u6cd5\u540d\u83b7\u5f97\u6307\u5b9a\u7684\u65b9\u6cd5</li> <li><code>NumIn()</code> \u53ef\u4ee5\u83b7\u5f97\u53c2\u6570\u4e2a\u6570</li> <li><code>NumOut()</code> \u53ef\u4ee5\u83b7\u5f97\u8fd4\u56de\u503c\u4e2a\u6570</li> </ul> \u8bbf\u95ee\u64cd\u4f5c\u4fee\u6539\u64cd\u4f5c <p>eg\uff1a\u8bbf\u95ee\u7ed3\u6784\u4f53\u7684\u5b57\u6bb5\u548c\u65b9\u6cd5</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"reflect\"\n)\n\ntype person struct {\n    name string\n    Age  int\n}\n\nfunc (p person) Eat() {\n    fmt.Println(\"eat\")\n}\n\nfunc (p person) Run() {\n    fmt.Println(\"run\")\n}\n\nfunc (p person) gogogo() {\n    fmt.Println(\"go\")\n}\n\nfunc main() {\n\n    pers := person{\"Boii\", 18}\n    t := reflect.TypeOf(pers)\n    v := reflect.ValueOf(pers)\n    fmt.Println(v)             // {Boii 18}\n    fmt.Println(t)             // main.person\n    fmt.Println(t.Name())      // person\n    fmt.Println(t.Kind())      // struct\n\n    // \u83b7\u53d6\u5b57\u6bb5\n    // { Name   PkgPath  Type   Tag  Offset Index  Anonymous}\n    // { name    main   string         0     [0]     false}\n    // { Age     main    int           16    [1]     false}\n    for i := 0; i &lt; t.NumField(); i++ {\n        field := t.Field(i)\n        value := v.Field(i)\n        fmt.Printf(\"\u5b57\u6bb5\u540d\u79f0: %s\\t\u5b57\u6bb5\u7c7b\u578b: %s\\t\u5b57\u6bb5\u6570\u503c: %v\\n\", field.Name, field.Type, value)\n    }\n    // \u5b57\u6bb5\u540d\u79f0: name  \u5b57\u6bb5\u7c7b\u578b: string \u5b57\u6bb5\u6570\u503c: Boii\n    // \u5b57\u6bb5\u540d\u79f0: Age   \u5b57\u6bb5\u7c7b\u578b: int    \u5b57\u6bb5\u6570\u503c: 18\n\n\n    for i := 0; i &lt; v.NumField(); i++ {\n        fmt.Println(v.Field(i))\n        // Boii\n        // 18\n    }\n\n\n    // \u83b7\u53d6\u65b9\u6cd5\uff0ct.NumMethod() \u53ea\u80fd\u83b7\u53d6\u5230 public \u65b9\u6cd5\n    // {Name  PkgPath           Type                          Func                  Index}\n    // {Eat            func(main.person, string)  &lt;func(main.person, string) Value&gt;   0}\n    // {Run            func(main.person)          &lt;func(main.person) Value&gt;           1}\n    for i := 0; i &lt; t.NumMethod(); i++ {\n        method := t.Method(i)\n        fmt.Printf(\"\u65b9\u6cd5\u540d\u79f0: %s\\t\u65b9\u6cd5\u7c7b\u578b: %v\\n\", method.Name, method.Type)\n    }\n    // \u65b9\u6cd5\u540d\u79f0: Eat   \u65b9\u6cd5\u7c7b\u578b: func(main.person)\n    // \u65b9\u6cd5\u540d\u79f0: Run   \u65b9\u6cd5\u7c7b\u578b: func(main.person)\n\n\n    for i := 0; i &lt; v.NumMethod(); i++ {\n        fmt.Println(v.Method(i))\n        // 0x433600\n        // 0x433600\n    }\n}\n</code></pre> <p>\u5982\u679c\u60f3\u8981\u5bf9\u7ed3\u6784\u4f53\u7684\u5b57\u6bb5\u7b49\u8fdb\u884c\u4fee\u6539\uff0c\u9700\u8981\u4f20\u5165\u7ed3\u6784\u4f53\u6307\u9488\u6765\u83b7\u5f97 <code>reflect</code> \u5bf9\u8c61\u3002</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"reflect\"\n)\n\ntype person struct {\n    name string\n    Age  int\n}\n\nfunc (p person) Eat(food string) {\n    fmt.Println(\"eat\", food)\n}\n\nfunc (p person) Run() {\n    fmt.Println(\"run\")\n}\n\nfunc (p person) go() {\n    fmt.Println(\"go\")\n}\n\nfunc main() {\n    pers := person{\"Boii\", 18}\n    v := reflect.ValueOf(&amp;pers).Elem()\n\n    // panic: reflect: reflect.Value.SetString using value obtained using unexported field\n    v.FieldByName(\"name\").SetString(\"Eva\")    // \u4f20\u5165\u7ed3\u6784\u4f53\u6307\u9488\u4ee5\u540e\uff0cField \u53ea\u80fd\u8bbf\u95ee\u5230 public \u5b57\u6bb5\n\n    v.Field(1).SetInt(20)\n    fmt.Println(pers) // {Boii 20}\n\n    // \u8c03\u7528\u6709\u53c2\u65b9\u6cd5\n    v.Method(0).Call([]reflect.Value{reflect.ValueOf(\"apple\")}) // eat apple\n    // \u8c03\u7528\u65e0\u53c2\u65b9\u6cd5\n    v.Method(1).Call(nil)                                       // run\n    v.Method(1).Call(make([]reflect.Value, 0))                  // run\n}\n</code></pre> <p>\u901a\u8fc7\u7ed3\u6784\u4f53\u6307\u9488\u83b7\u5f97\u7684 <code>reflect</code> \u5bf9\u8c61\uff0c\u8981\u6ce8\u610f2\u70b9</p> <ol> <li>\u9700\u8981 <code>Elem()</code> \u65b9\u6cd5\u83b7\u53d6\u5230\u5143\u7d20\u5217\u8868</li> <li>\u53ea\u80fd\u8bbf\u95ee\u5230 public \u7684 \u5b57\u6bb5\u548c\u65b9\u6cd5</li> </ol> <p>\u901a\u8fc7 <code>Call()</code> \u53ef\u4ee5\u8c03\u7528\u7ed3\u6784\u4f53\u7684\u65b9\u6cd5\uff0c \u5982\u679c\u65e0\u53c2\uff0c\u53ef\u4ee5\u4f20\u5165 <code>nil</code> \u6216\u8005\u7a7a\u5207\u7247 \u5982\u679c\u6709\u53c2\uff0c\u9700\u4f20\u5165Value\u5207\u7247 <code>[]reflect.Value</code></p> <pre><code>//\u6ca1\u6709\u53c2\u6570\uff0c\u76f4\u63a5\u5199nil\n.Call(nil)\n// \u6216\u8005\nargs1 := make([]reflect.Value, 0)\n.Call(args1)\n\n// \u6709\u53c2\u6570\nargs2 := []reflect.Value{ reflect.ValueOf(\"\u53cd\u5c04\u673a\u5236\"), reflect.ValueOf(100), ...}\n.Call(args2)\n</code></pre>"},{"location":"Go/Advanced/Golang-19-reflect/#_6","title":"\u53cd\u5c04\u8c03\u7528\u51fd\u6570","text":"<p>\u53cd\u5c04\u8c03\u7528\u51fd\u6570\u548c \u8c03\u7528\u65b9\u6cd5\u5176\u5b9e\u5dee\u4e0d\u591a\uff0c\u53ef\u4ee5\u901a\u8fc7\u51fd\u6570\u540d\u83b7\u5f97 <code>reflect</code> \u5bf9\u8c61\uff0c\u4f7f\u7528 <code>Call()</code> \u8c03\u7528</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"reflect\"\n)\n\nfunc main() {\n    //\u51fd\u6570\u7684\u53cd\u5c04\n    f1 := fun1\n    value := reflect.ValueOf(f1)\n    fmt.Printf(\"Kind : %s , Type : %s\\n\", value.Kind(), value.Type()) //Kind : func , Type : func()\n\n    value2 := reflect.ValueOf(fun2)\n    fmt.Printf(\"Kind : %s , Type : %s\\n\", value2.Kind(), value2.Type()) //Kind : func , Type : func(int, string)\n\n    //\u901a\u8fc7\u53cd\u5c04\u8c03\u7528\u51fd\u6570\n    value.Call(nil)\n\n    args := []reflect.Value{reflect.ValueOf(100), reflect.ValueOf(\"hello\")}\n    value2.Call(args)\n\n}\n\nfunc fun1(){\n    fmt.Println(\"\u6211\u662f\u51fd\u6570fun1()\uff0c\u65e0\u53c2\u7684\u3002\u3002\")\n}\n\nfunc fun2(i int, s string){\n    fmt.Println(\"\u6211\u662f\u51fd\u6570fun2()\uff0c\u6709\u53c2\u6570\u3002\u3002\",i,s)\n}\n</code></pre>"},{"location":"Go/Advanced/Golang-GPM%E6%A8%A1%E5%9E%8B/","title":"GPM","text":"<p>\u8c03\u5ea6\u6a21\u578b</p>"},{"location":"Go/Advanced/Golang-GPM%E6%A8%A1%E5%9E%8B/#_1","title":"\u524d\u7f6e\u57fa\u7840\u77e5\u8bc6","text":""},{"location":"Go/Advanced/Golang-GPM%E6%A8%A1%E5%9E%8B/#_2","title":"\u534f\u7a0b\u7684\u6765\u6e90","text":"<p>\u7ebf\u7a0b\u5206\u4e3a <code>\u7528\u6237\u6001\u7ebf\u7a0b</code> \u548c <code>\u5185\u6838\u6001\u7ebf\u7a0b</code>\u3002</p> <p>CPU \u80fd\u611f\u77e5\u7684\u53ea\u6709 \u5185\u6838\u6001\u7ebf\u7a0b\uff0c\u5b83\u8d1f\u8d23\u5185\u6838\u6001\u7ebf\u7a0b\u7684\u521b\u5efa\u3001\u521d\u59cb\u5316\u3001\u5207\u6362\u3001\u9500\u6bc1\u7b49\u4efb\u52a1\uff1b \u800c\u6211\u4eec\u7684\u4efb\u52a1\u662f\u653e\u5728\u7528\u6237\u6001\u7ebf\u7a0b\u53bb\u6267\u884c\u7684\uff0c\u6211\u4eec\u8d1f\u8d23\u7528\u6237\u6001\u7ebf\u7a0b\u7684\u521b\u5efa\u3001\u521d\u59cb\u5316\u3001\u5207\u6362\u3001\u9500\u6bc1\u7b49\uff1b \u6240\u4ee5\u7528\u6237\u6001\u7ebf\u7a0b\u5fc5\u987b\u548c\u5185\u6838\u6001\u7ebf\u7a0b\u5fc5\u987b\u7ed1\u5b9a\u8d77\u6765\uff0c\u4f7f\u5f97CPU\u53ef\u4ee5\u64cd\u4f5c\u7528\u6237\u6001\u7ebf\u7a0b\u3002</p> <p>\u53e6\u5916\uff0c\u7528\u6237\u6001\u7ebf\u7a0b\u7684\u521b\u5efa\u3001\u521d\u59cb\u5316\u3001\u5207\u6362\u3001\u9500\u6bc1\u7b49\u5de5\u4f5c\u7531<code>\u8c03\u5ea6\u5668</code>\u53bb\u505a\uff0c\u7528\u6237\uff08\u7a0b\u5e8f\u5458\uff09\u5e76\u4e0d\u9700\u8981\u4eb2\u81ea\u52a8\u624b\u3002</p> <p>\u65e2\u7136\u7528\u6237\u6001\u7ebf\u7a0b\u548c\u5185\u6838\u6001\u7ebf\u7a0b\u9700\u8981\u7ed1\u5b9a\u8d77\u6765\uff0c\u90a3\u4e5f\u5c31\u6709\u4e0d\u540c\u7684\u7ed1\u5b9a\u65b9\u5f0f\u3002\u4e00\u5171\u6709\u4e09\u79cd\uff1a</p> <ul> <li>1 : 1\uff08\u4e00\u5bf9\u4e00\uff09\u5176\u5b9e\u8ddf\u591a\u7ebf\u7a0b\u591a\u8fdb\u7a0b\u65e0\u5f02\uff0c\u5207\u6362\u7684\u6210\u672c\u6602\u8d35\u3002</li> <li>1 : N\uff08\u4e00\u5bf9\u591a\uff09\u65e0\u6cd5\u5229\u7528\u591a\u4e2a CPU\uff0c\u4e14\u5982\u679c\u4e00\u4e2a\u7528\u6237\u6001\u7ebf\u7a0b\u963b\u585e\u4e86\uff0c\u540e\u9762\u7684\u7528\u6237\u6001\u7ebf\u7a0b\u4e5f\u6267\u884c\u4e0d\u4e86\u3002</li> <li>M : N\uff08\u591a\u5bf9\u591a\uff09\u80fd\u591f\u5229\u7528\u591a\u6838\uff0c\u4f46\u662f\u8fc7\u4e8e\u4f9d\u8d56\u8c03\u5ea6\u5668\u7684\u4f18\u5316\u548c\u7b97\u6cd5\u3002</li> </ul> <p></p> <p>Golang \u4e2d\u7684\u5e76\u53d1\u65b9\u6848\uff0c\u91c7\u7528\u7684\u662f\u591a\u5bf9\u591a\u3002\u65e9\u671f Golang \u7684\u8c03\u5ea6\u5668\u5176\u5b9e\u6027\u80fd\u5f88\u5dee\uff0c\u76f4\u5230\u540e\u6765\u7ecf\u8fc7\u4f18\u5316\u4ee5\u540e\u6709\u4e86\u8d28\u7684\u98de\u8dc3\uff0c\u4e5f\u6210\u4e86 Golang \u7684\u4e00\u5f20\u540d\u7247\u3002</p> <p>\u7ecf\u8fc7\u4f18\u5316\u4ee5\u540e\uff0cGolang \u7684\u8c03\u5ea6\u5668\u5bf9 Goroutine \u8fdb\u884c\u4f18\u5316\uff0c\u4e00\u4e2a Goroutine \u7684\u5360\u7528\u4ec5\u51e0 KB\uff0c\u53ef\u4ee5\u968f\u610f\u5927\u91cf\u5f00\u8f9f\u3002\u800c\u73b0\u5728\u91c7\u7528\u7684 GPM \u6a21\u578b\uff0c\u8c03\u5ea6\u7075\u6d3b\uff0c\u5207\u6362\u6210\u672c\u4f4e\u3002 </p>"},{"location":"Go/Advanced/Golang-GPM%E6%A8%A1%E5%9E%8B/#gpm","title":"GPM \u7ebf\u7a0b\u8c03\u5ea6\u6a21\u578b","text":""},{"location":"Go/Advanced/Golang-GPM%E6%A8%A1%E5%9E%8B/#gpm_1","title":"GPM \u6a21\u578b","text":"<p>G \u5168\u79f0 Goroutine\uff0cP \u5168\u79f0 Processor\uff0cM \u5168\u79f0 Machine\u3002</p> <ul> <li> <p>G\uff1agoroutine\uff0c\u5373\u9700\u8981\u5206\u62c5\u51fa\u53bb\u7684\u4efb\u52a1\uff1b</p> </li> <li> <p>P\uff1a\u4e00\u4e2a\u88c5\u6ee1 G \u7684\u961f\u5217\uff0c\u7528\u4e8e\u7ef4\u62a4\u4e00\u4e9b\u4efb\u52a1\uff1b</p> </li> <li> <p>M\uff1a \u4e00\u4e2a\u64cd\u4f5c\u5668\uff0c\u7528\u4e8e\u5c06\u4e00\u4e2a G \u642c\u5230\u7ebf\u7a0b\u4e0a\u6267\u884c\uff1b</p> </li> </ul> <p></p> <ul> <li> <p>G \u662f Goroutine\uff0c\u88c5\u8f7d\u7740\u8981\u6267\u884c\u7684\u4efb\u52a1</p> </li> <li> <p>P \u662f\u5904\u7406\u5668\uff0c\u5b83\u7684\u4e2a\u6570\u7531 <code>GOMAXPROCS</code> \u51b3\u5b9a\uff0c\u8fd9\u4e2a\u4e2a\u6570\u662f\u771f\u6b63\u80fd\u591f\u5e76\u884c\u7684\u6570\u91cf\u3002</p> </li> <li> <p>M \u662f\u5185\u6838\u6001\u7ebf\u7a0b\uff0c\u60f3\u8981\u8fd0\u884c\u4efb\u52a1\u5c31\u5f97\u83b7\u53d6 P\uff1b</p> <ul> <li>\u83b7\u53d6\u9014\u5f84\uff1a\u4ece P-LRQ \u4e2d\u83b7\u53d6\uff0c\u82e5 P-LRQ \u4e3a\u7a7a\uff1a<ul> <li>\u5219\u4ece\u5168\u5c40\u961f\u5217 \u62ff \u4e00\u6279 G \u653e\u5230\u81ea\u5df1\u7684 P-LRQ</li> <li>\u6216\u4ece\u522b\u7684 P-LRQ \u4e2d \u5077 \u4e00\u534a\u5230\u81ea\u5df1\u7684 P-LRQ</li> </ul> </li> <li>M \u8fd0\u884c G\uff0cG \u6267\u884c\u5b8c\u540e\uff0cM \u4f1a\u4ece P-LRQ \u5217\u83b7\u53d6\u4e0b\u4e00\u4e2a G\uff0c\u4e00\u76f4\u91cd\u590d\uff1b</li> <li>\u5f53 M \u963b\u585e\u65f6\uff0cGolang \u4f1a\u81ea\u52a8\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 M \u5e76\u63a5\u624b\u963b\u585e M \u7684 P-LRQ</li> <li>\u5f53 M \u7a7a\u95f2\u65f6\uff0c\u6709\u53ef\u80fd\u4f1a\u56de\u6536\u6216\u7761\u7720</li> </ul> </li> <li> <p>\u5168\u5c40\u961f\u5217\uff08Global Queue\uff0cGQ\uff09\uff1a\u5b58\u653e\u7b49\u5f85\u8fd0\u884c\u7684 G</p> </li> <li> <p>P \u7684\u672c\u5730\u8fd0\u884c\u961f\u5217\uff08P's Local Running Queue\uff0cLRQ\uff09\uff1a</p> <ul> <li>\u5b58\u653e P \u5373\u5c06\u8981\u8fd0\u884c\u7684 G</li> <li>G \u7684\u6570\u91cf \\(\\le\\)\u200b\u200b 256 \u4e2a</li> <li>\u961f\u5217\u4e2d\u7684 G \u65b0\u521b\u5efa\u7684\u5b50 Goroutine \u2014\u2014 G' \u4f18\u5148\u653e\u5728 LRQ\uff08\u672c\u5730\u961f\u5217\uff09\uff0c\u5982\u679c LRQ \u6ee1\u4e86\uff0c\u4f1a\u628a\u672c\u5730\u961f\u5217\u4e2d\u4e00\u534a\u7684 G \u653e\u5230\u5168\u5c40\u961f\u5217\u3002</li> </ul> </li> <li>P \u5217\u8868\uff1a<ul> <li>P \u7684\u521b\u5efa\u65f6\u673a\uff1a\u7a0b\u5e8f\u542f\u52a8\u65f6\u521b\u5efa\uff0c\u5e76\u4fdd\u5b58\u5728\u6570\u7ec4\u4e2d\uff1b\u5728\u786e\u5b9a\u4e86 P \u7684\u6700\u5927\u6570\u91cf n \u540e\uff0c\u8fd0\u884c\u65f6\u7cfb\u7edf\u4f1a\u6839\u636e\u8fd9\u4e2a\u6570\u91cf\u521b\u5efa n \u4e2a P\u3002</li> <li>P \u7684\u6570\u91cf\uff1a\u6700\u591a\u6709\u73af\u5883\u53d8\u91cf <code>$GOMAXPROCS</code> \u4e2a\uff0c\u53ef\u901a\u8fc7 <code>runtime.GOMAXPROCS(num)</code> \u8bbe\u7f6e\uff0c\u4f46\u5b9e\u9645\u8fd0\u884c\u4e2d\u53d7\u9650\u4e8e\u8fd0\u884c\u673a\u5668\u4e0a\u7684 CPU \u6709\u51e0\u4e2a\u6838\u5fc3\u3002</li> </ul> </li> <li>M \u5217\u8868\uff1a<ul> <li>M \u7684\u521b\u5efa\u65f6\u673a\uff1a<ul> <li>\u539f\u672c\u7684 M \u963b\u585e\u4e86\uff0c\u5c31\u521b\u5efa\u65b0\u7684 M\uff1b</li> <li>P \u4e2d\u8fd8\u6709\u5f88\u591a\u5c31\u7eea\u4efb\u52a1\uff0c\u800c\u6ca1\u6709\u7a7a\u95f2\u7684 M \u6765\u6267\u884c\uff0c\u5c31\u521b\u5efa\u65b0\u7684 M\u3002</li> </ul> </li> <li>M \u7684\u6570\u91cf\uff1aGolang \u672c\u8eab\u9650\u5b9a M \u7684\u6700\u5927\u91cf\u662f 10000\uff0c\u4f46\u4e00\u822c\u7528\u4e0d\u5230\u90a3\u4e48\u591a\uff0c\u53ef\u901a\u8fc7 <code>runtime/debug.SetMaxThreads()</code> \u8bbe\u7f6e </li> </ul> </li> </ul>"},{"location":"Go/Advanced/Golang-GPM%E6%A8%A1%E5%9E%8B/#_3","title":"\u8c03\u5ea6\u7b56\u7565","text":"<p>Golang \u7684\u8c03\u5ea6\u5668\u7684\u8bbe\u8ba1\u7b56\u7565\u5927\u6982\u6709 4 \u70b9\uff1a<code>\u590d\u7528\u7ebf\u7a0b</code>\u3001<code>\u5229\u7528\u5e76\u884c</code>\u3001<code>\u62a2\u5360</code>\u3001<code>\u5168\u5c40 G \u961f\u5217</code>\u3002</p>"},{"location":"Go/Advanced/Golang-GPM%E6%A8%A1%E5%9E%8B/#_4","title":"\u590d\u7528\u7ebf\u7a0b","text":"<p>\u5173\u4e8e\u590d\u7528\u7ebf\u7a0b\uff0c\u6709\u4e24\u79cd\u673a\u5236\uff1a<code>Work Stealing (\u5077\u53d6)\u673a\u5236</code> \u548c <code>Hand Off (\u63a5\u624b)\u673a\u5236</code>\u3002</p> <ul> <li> <p>Work Stealing \u673a\u5236</p> <p></p> <p>\u5982\u4e0a\u56fe\uff0cM1 \u7684 P-LRQ \u4e2d\u6709\u597d\u51e0\u4e2a G \u51c6\u5907\u8fd0\u884c\uff0c\u800c M1 \u6b63\u5728\u8fd0\u884c\u7740 G1\uff1b\u53e6\u4e00\u8fb9 M2 \u5374\u6ca1\u4e8b\u5e72\uff0c\u60f3\u8fd0\u884c\u4f46\u6ca1\u6709 G\uff0c\u4e8e\u662f\u53bb M1 \u7684 P-LRQ \u4e2d\u4ece\u961f\u5c3e\u5077\u8d70 G4 \u8fc7\u6765\u7ed9\u81ea\u5df1\u6267\u884c\u3002\u8fd9\u5c31\u662f\u5077\u53d6\u673a\u5236\u3002</p> </li> <li> <p>Hand Off \u673a\u5236</p> <p></p> <p>\u5982\u4e0a\u56fe\u5de6\u8fb9\uff0cG1 \u6267\u884c\u4e86\u4e00\u4e2a\u963b\u585e\u64cd\u4f5c\u65f6\uff0c\u4f1a\u5bfc\u81f4 M1 \u8fdb\u5165\u963b\u585e\u6001\uff0c\u540e\u9762\u7684 G2\u3001G3 \u90fd\u65e0\u6cd5\u8fd0\u884c\u3002\u6b64\u65f6 Golang \u4f1a\u5411\u64cd\u4f5c\u7cfb\u7edf\u7533\u8bf7\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5185\u6838\u6001\u8fdb\u7a0b M3\uff0c\u7136\u540e\u628a M1 \u7684 P-LRQ \u63a5\u8fc7\u6765\u7ed9 M3 \u53bb\u6267\u884c\u3002\u8fd9\u5c31\u662f\u63a5\u624b\u673a\u5236\u3002</p> </li> </ul>"},{"location":"Go/Advanced/Golang-GPM%E6%A8%A1%E5%9E%8B/#_5","title":"\u5229\u7528\u5e76\u884c","text":"<p><code>GOMAXPROCS</code> \u8bbe\u7f6e P \u7684\u6570\u91cf\uff0c\u6700\u6709\u591a <code>GOMAXPROCS</code> \u4e2a\u7ebf\u7a0b\u5206\u5e03\u5728\u591a\u4e2a CPU \u4e0a\u540c\u65f6\u8fd0\u884c\u3002\u9ed8\u8ba4\u7684 <code>GOMAXPROCS</code> \u7b49\u4e8e\u8fd0\u884c\u673a\u5668\u4e0a\u7684\u6838\u5fc3\u6570\u3002</p>"},{"location":"Go/Advanced/Golang-GPM%E6%A8%A1%E5%9E%8B/#_6","title":"\u62a2\u5360","text":"<p>\u5728 coroutine \u4e2d\u8981\u7b49\u5f85\u4e00\u4e2a\u534f\u7a0b\u4e3b\u52a8\u8ba9\u51fa CPU \u624d\u6267\u884c\u4e0b\u4e00\u4e2a\u534f\u7a0b\uff0c\u5c5e\u4e8e\u534f\u4f5c\u5f0f\u8c03\u5ea6\uff0c\u5982\u679c\u5360\u7528\u7740 CPU \u7684 coroutine \u4e0d\u8ba9\u51fa\uff0c\u522b\u7684 coroutine \u5c31\u4e0d\u53ef\u80fd\u3002</p> <p>\u5728\u65e9\u671f\u7684 Golang \u4e2d\u4e5f\u662f\u5982\u6b64\uff0c\u4f46\u662f\u5728 go1.14 \u8d77\u5f15\u5165\u4e86\u5f02\u6b65\u62a2\u5360\u673a\u5236\uff0c\u5f53\u4e00\u4e2a Goroutine \u8fd0\u884c\u8d85\u8fc7 10 ms\uff0cGo \u4f1a\u5c1d\u8bd5\u62a2\u5360\u5b83\u7684\u8fd0\u884c\u8d44\u6e90\u5206\u914d\u7ed9\u522b\u7684 Goroutine\u3002</p>"},{"location":"Go/Advanced/Golang-GPM%E6%A8%A1%E5%9E%8B/#g","title":"\u5168\u5c40 G \u961f\u5217","text":"<p>\u5f53 M \u4ece\u5176\u4ed6 P \u4e2d\u5077\u4e0d\u5230 G \u65f6\uff0c\u53ef\u4ee5\u4ece\u5168\u5c40 G \u961f\u5217\u4e2d\u83b7\u53d6\u3002</p>"},{"location":"Go/Advanced/Golang-GPM%E6%A8%A1%E5%9E%8B/#go-func","title":"go func() \u7684\u6267\u884c\u8fc7\u7a0b","text":"<ol> <li>\u901a\u8fc7 <code>go func()</code> \u6765\u521b\u5efa\u4e00\u4e2a Goroutine\uff1b</li> <li>\u52a0\u5165\u961f\u5217\uff1a<ul> <li>\u5982\u679c\u672c\u5730\u961f\u5217 P-LRQ \u672a\u6ee1\uff0c\u5219\u5148\u52a0\u5165 P-LRQ\uff1b</li> <li>\u5982\u679c\u672c\u5730\u961f\u5217 P-LRQ \u5df2\u6ee1\uff0c\u5219\u52a0\u5165\u5168\u5c40\u961f\u5217 GQ\uff1b</li> </ul> </li> <li>M \u5904\u4e8e \u521d\u59cb\u6001\uff0c\u83b7\u53d6 G\uff1a<ul> <li>\u5982\u679c M \u5bf9\u5e94\u7684 P-LRQ \u4e2d\u6709 G\uff0c\u5219\u76f4\u63a5\u83b7\u53d6 G\uff1b</li> <li>\u5982\u679c M \u5bf9\u5e94\u7684 P-LRQ \u4e2d\u6ca1 G\uff0c\u5219\u53bb\u5077\u522b\u7684 M \u7684 P-LRQ \u4e2d\u7684 G\uff08\u4ece\u961f\u5c3e\u5077\u4e00\u534a\uff09\uff1b</li> <li>\u5982\u679c M \u5bf9\u5e94\u7684 P-LRQ \u4e2d\u6ca1 G\uff0c\u522b\u7684 P-LRQ \u4e5f\u6ca1 G\uff0c\u5219\u4ece\u5168\u5c40\u961f\u5217 GQ \u4e2d\u83b7\u53d6\uff1b</li> </ul> </li> <li>M \u8f6c\u4e3a \u5c31\u7eea\u6001\uff1a\u83b7\u53d6\u5230 G \u4e4b\u540e\u7ed1\u5b9a\u3001\u521d\u59cb\u5316\u3001\u5404\u79cd\u8d44\u6e90\u5c31\u7eea\uff0c\u51c6\u5907\u6267\u884c\uff1b</li> <li>M \u8f6c\u4e3a \u6267\u884c\u6001\uff1a\u83b7\u53d6\u5230 CPU \u8c03\u5ea6\uff0c\u5f00\u59cb\u6267\u884c G \u4e2d\u7684 <code>func()\u51fd\u6570</code><ul> <li>M \u5728\u6267\u884c\u5f53\u524d G \u65f6\u53d1\u751f\u963b\u585e\uff0c\u8be5 M \u8f6c\u4e3a \u963b\u585e\u6001\uff0cGo \u4f1a\u627e\u65b0\u7684 M \u6765\u63a5\u7ba1\u539f\u672c\u7684 P-LRQ\uff0c\u91cd\u590d\u6b65\u9aa4 4\uff1b</li> <li>\u65b0\u7684 M \u6765\u6e90\u4e8e\uff1a<ul> <li>\u4ece M \u6c60\u4e2d\u5bfb\u627e\u6b63\u5728\u4f11\u7720\u7684\u53ef\u7528\u7684 M\uff1b</li> <li>M \u6c60\u4e2d\u65e0\u53ef\u7528 M \u65f6\u521b\u5efa\u65b0\u7684 M\u3002</li> </ul> </li> <li>\u963b\u585e\u7684 M \u83b7\u5f97\u6761\u4ef6\u540e\u63a5\u89e6\u963b\u585e\uff0cG \u8fd4\u56de\u539f\u672c\u7684 P-LRQ \u961f\u5c3e\uff0cM \u8fdb\u5165 M \u6c60\u6216\u9500\u6bc1</li> </ul> </li> <li>M \u8f6c\u4e3a \u521d\u59cb\u6001\uff1a<ul> <li>\u5f53 M \u65f6\u95f4\u7247\u7ed3\u675f\u65f6\uff0c\u4f1a\u8f6c\u4e3a\u521d\u59cb\u6001\uff0cG \u91cd\u5165 LRQ \u961f\u5c3e\uff0cM \u83b7\u53d6\u5bf9\u5934\u7684 G\uff0c\u5373\u6b65\u9aa4 3\uff1b</li> <li>\u5f53 G \u7684\u4efb\u52a1\u7ed3\u675f\uff0cM \u8f6c\u4e3a \u521d\u59cb\u6001\uff0c\u5373\u6b65\u9aa4 3\uff1b</li> </ul> </li> </ol>"},{"location":"Go/Advanced/Golang-GPM%E6%A8%A1%E5%9E%8B/#m0g0","title":"\u300cM0\u300d\u548c\u300cG0\u300d","text":"<ul> <li> <p>M0\uff1a\u542f\u52a8\u7a0b\u5e8f\u540e\u7f16\u53f7\u4e3a 0 \u7684\u4e3b\u7ebf\u7a0b\uff0c\u662f\u8fdb\u7a0b\u4e2d\u552f\u4e00\u7684</p> <ul> <li>\u5728\u5168\u5c40\u53d8\u91cf <code>runtime.m0</code> \u4e2d\uff0c\u4e0d\u9700\u8981\u5728 heap \u4e0a\u5206\u914d\uff1b</li> <li>\u8d1f\u8d23\u6267\u884c\u521d\u59cb\u5316\u64cd\u4f5c\u548c\u542f\u52a8\u7b2c\u4e00\u4e2a G\uff1b</li> <li>\u542f\u52a8\u7b2c\u4e00\u4e2a G \u4e4b\u540e\uff0cM0 \u5c31\u548c\u5176\u4ed6\u7684 M \u4e00\u6837\u4e86\u3002</li> </ul> </li> <li> <p>G0\uff1a\u6bcf\u6b21\u542f\u52a8\u4e00\u4e2a M\uff0c\u90fd\u4f1a\u7b2c\u4e00\u4e2a\u521b\u5efa\u7684 goroutine\uff0c\u5c31\u662f G0\uff0c\u662f\u7ebf\u7a0b\u4e2d\u552f\u4e00\u7684</p> <ul> <li>\u6bcf\u4e2a M \u90fd\u6709\u81ea\u5df1\u7684 G0\uff1b</li> <li>G0 \u4ec5\u7528\u4e8e\u8d1f\u8d23\u8c03\u5ea6\u5176\u4ed6\u7684 G\uff1b</li> <li>G0 \u4e0d \u6307\u5411\u4efb\u4f55\u53ef \u6267\u884c \u7684\u51fd\u6570\uff1b</li> <li>\u5728\u8c03\u5ea6\u6216\u7cfb\u7edf\u8c03\u7528\u65f6\uff0cM \u4f1a\u5207\u6362\u5230 G0 \u6765\u8c03\u5ea6\uff0c\u4f7f\u7528\u7684\u662f G0 \u7684\u6808\u7a7a\u95f4 \uff1b</li> <li>M0 \u7684 G0 \u4f1a\u653e\u5728\u5168\u5c40\u7a7a\u95f4\uff1b</li> </ul> </li> </ul>"},{"location":"Go/Advanced/Golang-GPM%E6%A8%A1%E5%9E%8B/#go","title":"Go \u8c03\u5ea6\u5668\u6267\u884c\u8fc7\u7a0b","text":"<ol> <li>Go \u5148\u6839\u636e <code>$GOMAXPROCS\uff08\u9ed8\u8ba4\u4e3a\u672c\u673a\u7684\u903b\u8f91CPU\u6570\uff09</code> \u521b\u5efa\u4e0d\u540c\u7684P\uff0c\u5e76\u5c06\u5b83\u4eec\u5b58\u50a8\u5728\u7a7a\u95f2P\u5217\u8868\u4e2d\u3002</li> <li><code>\u65b0\u7684 goroutine</code> \u6216 <code>goroutine \u8fdb\u5165\u5c31\u7eea\u6001\u540e</code>\uff0c\u4f1a\u5524\u9192\u4e00\u4e2a P \u53bb\u5206\u914d\u8d44\u6e90\uff0c\u8fd9\u4e2a P \u4f1a\u521b\u5efa\u4e00\u4e2a\u5e26\u6709\u5173\u8054 OS \u7ebf\u7a0b\u7684 M\u3002</li> <li>\u4e0e P \u4e00\u6837\uff0cM \u7a7a\u95f2\u65f6\uff08\u5373 \u6ca1\u6709 goroutine \u7b49\u5f85\u8fd0\u884c\uff09\uff0c\u4f1a\u4ece\u7cfb\u7edf\u8c03\u7528\u8fd4\u56de\uff0c\u751a\u81f3\u88ab GC \u5f3a\u5236\u505c\u6b62\uff0c\u8f6c\u5230\u7a7a\u95f2M\u5217\u8868\u4e2d\u3002</li> </ol> <p>\u5728\u793a\u4f8b\u4e2d\uff0c\u6253\u5370 hello \u7684goroutine\u4f1a\u4f7f\u7528\u4e3b goroutine\uff0c\u6253\u5370 world \u7684goroutine \u4f1a\u4ece \u7a7a\u95f2\u5217\u8868\u4e2d \u83b7\u5f97 M \u548c P\u3002</p> <p>runtime \u521b\u5efa P -&gt; P \u521b\u5efa m0\u3001g0 -&gt; \u5173\u8054 m0\u548c g0</p>"},{"location":"Go/Advanced/Golang-GPM%E6%A8%A1%E5%9E%8B/#csp","title":"CSP \u6a21\u578b","text":"<p>Communicating Sequential Process \u901a\u4fe1\u987a\u5e8f\u8fdb\u7a0b\uff08\u7b80\u79f0CSP\uff09\uff0c\u662f\u4e00\u79cd\u5e76\u53d1\u7f16\u7a0b\u6a21\u578b\uff0c\u662f\u4e00\u4e2a\u5f88\u5f3a\u5927\u7684\u5e76\u53d1\u6570\u636e\u6a21\u578b\u3002\u4e8e\u4e0a\u4e2a\u4e16\u7eaa\u4e03\u5341\u5e74\u4ee3\u63d0\u51fa\uff0c\u7528\u4e8e\u63cf\u8ff0\u4e24\u4e2a\u72ec\u7acb\u7684\u5e76\u53d1\u5b9e\u4f53\u901a\u8fc7\u5171\u4eab\u7684\u901a\u8baf channel(\u7ba1\u9053)\u8fdb\u884c\u901a\u4fe1\u7684\u5e76\u53d1\u6a21\u578b\u3002</p> <p>\u76f8\u5bf9\u4e8eActor\u6a21\u578b\uff0cCSP\u4e2dchannel\u662f\u7b2c\u4e00\u7c7b\u5bf9\u8c61\uff0c\u5b83\u4e0d\u5173\u6ce8\u53d1\u9001\u6d88\u606f\u7684\u5b9e\u4f53\uff0c\u800c\u5173\u6ce8\u4e0e\u53d1\u9001\u6d88\u606f\u65f6\u4f7f\u7528\u7684channel\u3002</p> <p>\u4e25\u683c\u6765\u8bf4\uff0cCSP \u662f\u4e00\u95e8\u5f62\u5f0f\u8bed\u8a00\uff08\u7c7b\u4f3c\u4e8e \u2137 calculus\uff09\uff0c\u7528\u4e8e\u63cf\u8ff0\u5e76\u53d1\u7cfb\u7edf\u4e2d\u7684\u4e92\u52a8\u6a21\u5f0f\uff0c\u4e5f\u56e0\u6b64\u6210\u4e3a\u4e00\u4f17\u9762\u5411\u5e76\u53d1\u7684\u7f16\u7a0b\u8bed\u8a00\u7684\u7406\u8bba\u6e90\u5934\uff0c\u5e76\u884d\u751f\u51fa\u4e86 Occam/Limbo/Golang\u2026</p> <p>\u800c\u5177\u4f53\u5230\u7f16\u7a0b\u8bed\u8a00\uff0c\u5982 Golang\uff0c\u5176\u5b9e\u53ea\u7528\u5230\u4e86 CSP \u7684\u5f88\u5c0f\u4e00\u90e8\u5206\uff0c\u5373\u7406\u8bba\u4e2d\u7684 Process/Channel\uff08\u5bf9\u5e94\u5230\u8bed\u8a00\u4e2d\u7684 goroutine/channel\uff09\uff1a\u8fd9\u4e24\u4e2a\u5e76\u53d1\u539f\u8bed\u4e4b\u95f4\u6ca1\u6709\u4ece\u5c5e\u5173\u7cfb\uff0c Process \u53ef\u4ee5\u8ba2\u9605\u4efb\u610f\u4e2a Channel\uff0cChannel \u4e5f\u5e76\u4e0d\u5173\u5fc3\u662f\u54ea\u4e2a Process \u5728\u5229\u7528\u5b83\u8fdb\u884c\u901a\u4fe1\uff1bProcess \u56f4\u7ed5 Channel \u8fdb\u884c\u8bfb\u5199\uff0c\u5f62\u6210\u4e00\u5957\u6709\u5e8f\u963b\u585e\u548c\u53ef\u9884\u6d4b\u7684\u5e76\u53d1\u6a21\u578b\u3002</p>"},{"location":"Go/Advanced/Golang-GPM%E6%A8%A1%E5%9E%8B/#golang-csp","title":"Golang CSP","text":"<p>\u4e0e\u4e3b\u6d41\u8bed\u8a00\u901a\u8fc7\u5171\u4eab\u5185\u5b58\u6765\u8fdb\u884c\u5e76\u53d1\u63a7\u5236\u65b9\u5f0f\u4e0d\u540c\uff0cGo \u8bed\u8a00\u91c7\u7528\u4e86 CSP \u6a21\u5f0f\u3002\u8fd9\u662f\u4e00\u79cd\u7528\u4e8e\u63cf\u8ff0\u4e24\u4e2a\u72ec\u7acb\u7684\u5e76\u53d1\u5b9e\u4f53\u901a\u8fc7\u5171\u4eab\u7684\u901a\u8baf Channel\uff08\u7ba1\u9053\uff09\u8fdb\u884c\u901a\u4fe1\u7684\u5e76\u53d1\u6a21\u578b\u3002</p> <p>Golang \u5c31\u662f\u501f\u7528CSP\u6a21\u578b\u7684\u4e00\u4e9b\u6982\u5ff5\u4e3a\u4e4b\u5b9e\u73b0\u5e76\u53d1\u8fdb\u884c\u7406\u8bba\u652f\u6301\uff0c\u5176\u5b9e\u4ece\u5b9e\u9645\u4e0a\u51fa\u53d1\uff0cgo\u8bed\u8a00\u5e76\u6ca1\u6709\uff0c\u5b8c\u5168\u5b9e\u73b0\u4e86CSP\u6a21\u578b\u7684\u6240\u6709\u7406\u8bba\uff0c\u4ec5\u4ec5\u662f\u501f\u7528\u4e86 process\u548cchannel\u8fd9\u4e24\u4e2a\u6982\u5ff5\u3002</p> <p>process\u662f\u5728go\u8bed\u8a00\u4e0a\u7684\u8868\u73b0\u5c31\u662f goroutine \u662f\u5b9e\u9645\u5e76\u53d1\u6267\u884c\u7684\u5b9e\u4f53\uff0c\u6bcf\u4e2a\u5b9e\u4f53\u4e4b\u95f4\u662f\u901a\u8fc7channel\u901a\u8baf\u6765\u5b9e\u73b0\u6570\u636e\u5171\u4eab\u3002</p> <p>Go\u8bed\u8a00\u7684CSP\u6a21\u578b\u662f\u7531\u534f\u7a0bGoroutine\u4e0e\u901a\u9053Channel\u5b9e\u73b0\uff1a</p> <ul> <li> <p>Go\u534f\u7a0b goroutine: \u662f\u4e00\u79cd\u8f7b\u91cf\u7ebf\u7a0b\uff0c\u5b83\u4e0d\u662f\u64cd\u4f5c\u7cfb\u7edf\u7684\u7ebf\u7a0b\uff0c\u800c\u662f\u5c06\u4e00\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u7ebf\u7a0b\u5206\u6bb5\u4f7f\u7528\uff0c\u901a\u8fc7\u8c03\u5ea6\u5668\u5b9e\u73b0\u534f\u4f5c\u5f0f\u8c03\u5ea6\u3002\u662f\u4e00\u79cd\u7eff\u8272\u7ebf\u7a0b\uff0c\u5fae\u7ebf\u7a0b\uff0c\u5b83\u4e0eCoroutine\u534f\u7a0b\u4e5f\u6709\u533a\u522b\uff0c\u80fd\u591f\u5728\u53d1\u73b0\u5835\u585e\u540e\u542f\u52a8\u65b0\u7684\u5fae\u7ebf\u7a0b\u3002</p> </li> <li> <p>\u901a\u9053channel: \u7c7b\u4f3cUnix\u7684Pipe\uff0c\u7528\u4e8e\u534f\u7a0b\u4e4b\u95f4\u901a\u8baf\u548c\u540c\u6b65\u3002\u534f\u7a0b\u4e4b\u95f4\u867d\u7136\u89e3\u8026\uff0c\u4f46\u662f\u5b83\u4eec\u548cChannel\u6709\u7740\u8026\u5408\u3002</p> </li> </ul>"},{"location":"Go/Advanced/Golang-go%E5%B9%B6%E5%8F%91%E7%9A%84%E5%9D%91/","title":"\u5751","text":"<pre><code>func main() {\n\n    for i := 1; i &lt;= 3; i++ {\n        go func(){\n            fmt.Println(i)\n        }(i)\n    }\n}\n// \u8f93\u51fa 3 1 2\n</code></pre> <p>\u539f\u56e0\uff0c</p> <p>runnext \uff1a3</p> <p>runq \uff1a1 2</p> <p>\u5148\u6267\u884c runnext\uff0c\u5728\u6267\u884c runq\uff0c\u6240\u4ee5\u7ed3\u679c\u662f 3 1 2 </p> <p>\u5728 257 \u90fd\u662f\u8fd9\u4e2a\u89c4\u5f8b</p> <p>\u56e0\u4e3a\u672c\u5730 G\u961f\u5217 runq \u5bb9\u91cf\u53ea\u6709 256\uff0c\u52a0\u4e0a\u4e00\u4e2a runnext \u91cc\u7684\uff0c\u4e00\u5171 257</p> <p>\u8d85\u8fc7 256 runq \u91cc\u7684 1 2 3 ... \u5c31\u4f1a\u88ab\u642c\u5230 \u5168\u5c40G\u961f\u5217\u4e86\uff0c\u7136\u540e\u5728\u6267\u884c\u7684\u65f6\u5019\u5e76\u4e0d\u662f runq \u6267\u884c\u5b8c\u91c7\u6267\u884c\u5168\u5c40 G \u961f\u5217\u91cc\u7684\uff0c\u800c\u662f runq \u6267\u884c 61 \u4e2a\uff0c\u5c31\u53bb\u6267\u884c\u51e0\u4e2a\u5168\u5c40 G \u961f\u5217\u7684\u3002</p> <p>\u5e7c\u9e9f\u5b9e\u9a8c\u5ba4-\u5377\u5377\u9762\u8bd5\u9898</p>"},{"location":"Go/Advanced/Golang-%E5%B9%B6%E5%8F%91%E6%A8%A1%E5%9E%8B/","title":"\u5e76\u53d1\u6a21\u578b","text":""},{"location":"Go/Advanced/Golang-%E5%B9%B6%E5%8F%91%E6%A8%A1%E5%9E%8B/#_1","title":"\u5e76\u53d1\u6a21\u578b","text":""},{"location":"Go/Advanced/Golang-%E5%B9%B6%E5%8F%91%E6%A8%A1%E5%9E%8B/#mpsc-multiple-producers-and-single-customer","title":"MPSC (Multiple Producers and Single Customer) \u591a\u751f\u4ea7\u5355\u6d88\u8d39\u6a21\u578b","text":""},{"location":"Go/Advanced/Golang-%E5%B9%B6%E5%8F%91%E6%A8%A1%E5%9E%8B/#channel","title":"\u5171\u7528\u4e00\u4e2a channel","text":"<p>\u7edf\u4e00\u5728 main \u63a7\u5236\uff0c\u5148\u628a consumer \u8dd1\u8d77\u6765\uff0c\u8fd9\u65f6\u5019\u5b83\u4f1a\u4e00\u76f4\u5728\u90a3\u7b49\u5f85\u3002 \u7136\u540e\u5f00\u542f producer\uff0c\u8ba9 producer \u5b8c\u6210\u4efb\u52a1\u4e4b\u540e\u8c03\u7528 wg.Done(). \u5f00\u542f\u5b8c\u6240\u6709 producer \u4e4b\u540e\u5c31 Wait \u7b49\u5f85\u6240\u6709\u751f\u4ea7\u8005\u5b8c\u6210\u540e close \u6389 channel\u3002 \u8fd9\u6837 consumer \u6d88\u8d39\u5b8c\u4e86\u5c31\u9000\u51fa\u4e86\u3002 </p><pre><code>func producer(wg *sync.WaitGroup, sendChan chan string) {\n    for i := 0; i &lt; 10; i++ {\n        sendChan &lt;- \"prod\"\n    }\n    wg.Done()\n}\n\nfunc consumer(sendChan chan string) {\n    for v := range sendChan {\n        fmt.Println(v)\n    }\n}\n\nfunc main() {]\n    ch := make(chan string)\n\n    wg := sync.WaitGroup{}\n    wg.Add(2)\n    go producer(wg, sendChan)\n    go producer(wg, sendChan)\n\n    go func() {\n        wg.Wait()\n        close(sendChan)\n    }()\n\n    consumer(sendChan)\n}\n</code></pre><p></p>"},{"location":"Go/Advanced/Golang-%E5%B9%B6%E5%8F%91%E6%A8%A1%E5%9E%8B/#channel_1","title":"\u6bcf\u4e2a\u751f\u4ea7\u8005\u4e00\u4e2a channel","text":"<pre><code>func producer(in []int) chan Msg {\n    ch := make(chan Msg)\n    go func() {\n        for _, v := range in {\n            ch &lt;- Msg{in: v}\n        }\n        close(ch)\n    }()\n    return ch\n}\n\nfunc consumer(ch1, ch2 chan Msg) {\n    var v1 Msg\n    var v2 Msg\n    ok1 := true\n    ok2 := true\n\n    for ok1 || ok2 {\n        select {\n        case v1, ok1 = &lt;-ch1:\n            fmt.Println(v1)\n            if !ok1 { //\u901a\u9053\u5173\u95ed\u4e86\n                ch1 = nil\n            }\n        case v2, ok2 = &lt;-ch2:\n            fmt.Println(v2)\n            if !ok2 { //\u901a\u9053\u5173\u95ed\u4e86\n                ch2 = nil\n            }\n        }\n    }\n}\n\nfunc main() {\n    ch1 := producer([]int{1, 2, 3})\n    ch2 := producer([]int{4, 5, 6})\n\n    consumer(ch1, ch2)\n}\n</code></pre>"},{"location":"Go/Advanced/Golang-%E5%B9%B6%E5%8F%91%E6%A8%A1%E5%9E%8B/#mcsp-multiple-customers-and-single-producer","title":"MCSP (Multiple Customers and Single Producer) \u591a\u6d88\u8d39\u5355\u751f\u4ea7\u6a21\u578b","text":"<p>\u53ea\u6709\u4e00\u4e2a\u751f\u4ea7\u8005\uff0c\u90a3\u4e48\u4f7f\u7528\u4e00\u4e2a channel \u5c31\u591f\u4e86\u3002\u6240\u4ee5\u7531\u751f\u4ea7\u8005\u5173\u95ed channel \u5373\u53ef </p><pre><code>func producer(sendChan chan int) {\n    for _, v := range []int{1, 2, 3, 4, 5, 6, 7, 8, 9} {\n        sendChan &lt;- v\n    }\n    close(sendChan)\n}\n\nfunc consumer(wg *sync.WaitGroup, sendChan chan int) {\n    for v := range sendChan {\n        fmt.Println(v)\n    }\n    wg.Done()\n}\n\nfunc main() {\n    ch := make(chan int)\n    go producer(ch)\n    wg := sync.WaitGroup{}\n    wg.Add(2)\n    go consumer(wg, ch)\n    go consumer(wg, ch)\n    wg.Wait()\n}\n</code></pre><p></p>"},{"location":"Go/Advanced/Golang-%E5%B9%B6%E5%8F%91%E6%A8%A1%E5%9E%8B/#mpmc-multiple-producers-and-multiple-customer","title":"MPMC (Multiple Producers and Multiple Customer) \u591a\u751f\u4ea7\u591a\u6d88\u8d39\u6a21\u578b","text":""},{"location":"Go/Basic/Golang-0-%E6%80%BB%E5%8F%99/","title":"0.\u603b\u53d9","text":""},{"location":"Go/Basic/Golang-0-%E6%80%BB%E5%8F%99/#hello-go","title":"Hello Go","text":""},{"location":"Go/Basic/Golang-0-%E6%80%BB%E5%8F%99/#_1","title":"\u7279\u6027","text":"<ul> <li>\u7b80\u5316\u95ee\u9898\uff0c\u6613\u4e8e\u5b66\u4e60</li> <li>\u5185\u5b58\u7ba1\u7406\uff0c\u7b80\u6d01\u8bed\u6cd5\uff0c\u6613\u4e8e\u4f7f\u7528</li> <li>\u5feb\u901f\u7f16\u8bd1\uff0c\u9ad8\u6548\u5f00\u53d1</li> <li>\u9ad8\u6548\u6267\u884c</li> <li>\u5e76\u53d1\u652f\u6301\uff0c\u8f7b\u677e\u9a7e\u9a6d</li> <li>\u9759\u6001\u7c7b\u578b</li> <li>\u6807\u51c6\u7c7b\u5e93\uff0c\u89c4\u8303\u7edf\u4e00</li> <li>\u6613\u4e8e\u90e8\u7f72</li> <li>\u6587\u6863\u5168\u9762</li> <li>\u514d\u8d39\u5f00\u6e90</li> </ul>"},{"location":"Go/Basic/Golang-0-%E6%80%BB%E5%8F%99/#_2","title":"\u73af\u5883\u53d8\u91cf","text":"<ul> <li>GOROOT\uff1aGo\u7684\u5b89\u88c5\u4f4d\u7f6e\uff0c\u9ed8\u8ba4 <code>$HOME/go</code>\uff1b</li> <li>GOPATH\uff1a\u5de5\u4f5c\u76ee\u5f55\uff0c\u5728\u8fd9\u4e0b\u9762\u5199\u4ee3\u7801\uff1b</li> <li>GOBIN\uff1a\u7f16\u8bd1\u5668\u548c\u94fe\u63a5\u5668\u7684\u5b89\u88c5\u4f4d\u7f6e\uff0c\u9ed8\u8ba4 <code>$GOROOT/bin</code>\uff1b</li> <li>GOOS\uff1a\u8fd0\u884cGo\u7684\u64cd\u4f5c\u7cfb\u7edf\uff1b<ul> <li>\u53d6\u503c\uff1a[darwin | freebsd | linux | windows]</li> </ul> </li> <li>GOARCH\uff1a\u8fd0\u884cGo\u7684\u5904\u7406\u5668\u67b6\u6784\uff1b<ul> <li>\u53d6\u503c\uff1a[386 | amd64 | arm]</li> </ul> </li> <li>GOARM\uff1a\u4e13\u95e8\u9488\u5bf9\u57fa\u4e8e arm \u67b6\u6784\u7684\u5904\u7406\u5668\uff0c\u9ed8\u8ba4\u4e3a 6\uff1b<ul> <li>\u53d6\u503c\uff1a[5 | 6]</li> </ul> </li> </ul>"},{"location":"Go/Basic/Golang-0-%E6%80%BB%E5%8F%99/#hello-world","title":"Hello World","text":"<pre><code>// src/Hello/main.go\n\npackage main    // (1) \n\nimport \"fmt\"    // (2)\n\nfunc main() {    // (3)\n    fmt.Println(\"Hello World!\")    // (4)\n}\n</code></pre> <ol> <li><code>package main</code> \u5b9a\u4e49\u4e86\u5305\u540d\u3002\u5fc5\u987b\u5728\u6e90\u6587\u4ef6\u4e2d\u975e\u6ce8\u91ca\u7684\u7b2c\u4e00\u884c\u6307\u660e\u8fd9\u4e2a\u6587\u4ef6\u5c5e\u4e8e\u54ea\u4e2a\u5305\uff0c\u5982\uff1apackage main\u3002    package main \u8868\u793a\u4e00\u4e2a\u53ef\u72ec\u7acb\u6267\u884c\u7684\u7a0b\u5e8f\uff0c\u6bcf\u4e2a Go \u5e94\u7528\u7a0b\u5e8f\u90fd\u5305\u542b\u4e00\u4e2a\u540d\u4e3a main \u7684\u5305\u3002</li> <li><code>import \"fmt\"</code> \u544a\u8bc9 Go \u7f16\u8bd1\u5668\u8fd9\u4e2a\u7a0b\u5e8f\u9700\u8981\u4f7f\u7528 fmt \u5305\uff08\u7684\u51fd\u6570\uff0c\u6216\u5176\u4ed6\u5143\u7d20\uff09\uff0cfmt \u5305\u5b9e\u73b0\u4e86\u683c\u5f0f\u5316 IO\uff08\u8f93\u5165/\u8f93\u51fa\uff09\u7684\u51fd\u6570\u3002</li> <li><code>func main()</code> \u662f\u7a0b\u5e8f\u5f00\u59cb\u6267\u884c\u7684\u51fd\u6570\u3002main \u51fd\u6570\u662f\u6bcf\u4e00\u4e2a\u53ef\u6267\u884c\u7a0b\u5e8f\u6240\u5fc5\u987b\u5305\u542b\u7684\uff0c\u4e00\u822c\u6765\u8bf4\u90fd\u662f\u5728\u542f\u52a8\u540e\u7b2c\u4e00\u4e2a\u6267\u884c\u7684\u51fd\u6570\uff08\u5982\u679c\u6709 init() \u51fd\u6570\u5219\u4f1a\u5148\u6267\u884c init() \u51fd\u6570\uff09\u3002</li> <li><code>fmt.Println(...)</code> \u53ef\u4ee5\u5c06\u5b57\u7b26\u4e32\u8f93\u51fa\u5230\u63a7\u5236\u53f0\uff0c\u5e76\u5728\u6700\u540e\u81ea\u52a8\u589e\u52a0\u6362\u884c\u5b57\u7b26 \\n\u3002\u4f7f\u7528 fmt.Print(\"hello, world\\n\") \u53ef\u4ee5\u5f97\u5230\u76f8\u540c\u7684\u7ed3\u679c\u3002</li> </ol> <p>\u6ce8\u610f\uff1a</p> <ul> <li>\u5728 Go \u4e2d\uff0c\u5de6\u5927\u62ec\u53f7\u4e0d\u80fd\u5355\u72ec\u4e00\u884c\uff0c\u8fd9\u4f1a\u7f16\u8bd1\u4e0d\u4e86</li> <li>\u5bf9\u7f29\u8fdb\u6ca1\u6709\u8981\u6c42\uff0c\u53ef\u4ee5\u7528 <code>go fmt \u6587\u4ef6\u540d.go</code> \u547d\u4ee4\u5c06\u6587\u4ef6\u683c\u5f0f\u5316</li> <li>\u6bcf\u4e2a\u8bed\u53e5\u72ec\u5360\u4e00\u884c\uff0c\u4e0d\u9700\u8981\u52a0\u5206\u53f7</li> <li>\u5927\u90e8\u5206\u8bed\u53e5\u53ea\u80fd\u5199\u5728 {} \u5185\uff0c {} \u5916\u53ea\u80fd\u505a\u4e00\u4e9b\u58f0\u660e\u53d8\u91cf\u3001\u51fd\u6570\u3001\u7ed3\u6784\u4f53\u7684\u5de5\u4f5c\u3002</li> <li>\u53d8\u91cf\u58f0\u660e\u4e86\u4e0d\u4f7f\u7528\u4e5f\u662f \u4e0d\u5141\u8bb8 \u7684</li> </ul>"},{"location":"Go/Basic/Golang-0-%E6%80%BB%E5%8F%99/#_3","title":"\u8fd0\u884c","text":"<p>\u5728\u6587\u4ef6\u76ee\u5f55\u4e0b\uff0c\u53ef\u4ee5\u8fd0\u884c <code>go build</code> \u547d\u4ee4\uff0c\u7f16\u8bd1\u4e4b\u540e\u4f1a\u5728\u76ee\u5f55\u4e0b\u751f\u6210\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6 <code>Hello.exe</code>\uff0c\u8f93\u5165\u6587\u4ef6\u540d\u5373\u53ef\u4ee5\u8fd0\u884c\u3002</p> <pre><code>$ go build\n$ ./Hello\n\nHello World!\n</code></pre> <p>\u5982\u679c\u4e0d\u5728\u6587\u4ef6\u76ee\u5f55\u4e0b\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>go build \u9879\u76ee\u540d\u79f0</code> \u547d\u4ee4\uff0c\u7f16\u8bd1\u4e4b\u540e\u4f1a\u5728\u6240\u5728\u76ee\u5f55\u4e0b\u751f\u6210\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6 <code>Hello.exe</code>\u3002</p> <pre><code>$ cd ..\n$ go build Hello\n$ ./Hello\n\nHello World!\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u4f7f\u7528 -o \u53c2\u6570\u6765\u6307\u5b9a\u53ef\u6267\u884c\u6587\u4ef6\u7684\u540d\u5b57</p> <pre><code>$ go build -o haha.exe\n$ ./haha\n\nHello World!\n</code></pre> <p>\u8fd8\u53ef\u4ee5\u4f7f\u7528 <code>go run \u6587\u4ef6\u540d.go</code> \u547d\u4ee4\u6765\u6267\u884c\uff0c\u4f46\u4e0d\u4f1a\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6\u3002</p> <pre><code>$ cd src/Hello\n$ go run main.go\n\nHello World!\n</code></pre>"},{"location":"Go/Basic/Golang-0-%E6%80%BB%E5%8F%99/#init","title":"init \u51fd\u6570","text":"<p>\u6bcf\u4e2a\u6e90\u6587\u4ef6\u90fd\u53ea\u80fd\u5305\u542b\u4e00\u4e2a init \u51fd\u6570\u3002 \u5b83\u4e0d\u80fd\u88ab\u4eba\u4e3a\u8c03\u7528\uff0c\u800c\u662f\u5728\u6bcf\u4e2a\u5305\u5b8c\u6210\u521d\u59cb\u5316\u540e\u81ea\u52a8\u6267\u884c\uff0c\u5e76\u4e14\u6267\u884c\u4f18\u5148\u7ea7\u6bd4 main \u51fd\u6570\u9ad8\u3002 \u53ef\u4ee5\u5c06\u6570\u636e\u68c0\u9a8c\u6216\u4fee\u590d\u7684\u5de5\u4f5c\u653e\u5728 init\u51fd\u6570\u4e2d\uff0c\u8fd9\u6837\u7a0b\u5e8f\u5f00\u59cb\u6267\u884c\u4e4b\u524d\u5c31\u4f1a\u5148\u4fee\u590d\u6216\u68c0\u9a8c\u6570\u636e\uff0c\u4fdd\u8bc1\u7a0b\u5e8f\u72b6\u6001\u6b63\u786e\u6027\u3002</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"math\"\n)\n\nvar Pi float64\n\nfunc init() {\n    Pi = 4 * math.Atan(1)\n    fmt.Println(\"init()\")\n}\n\nfunc main() {\n    fmt.Println(\"main()\")\n}\n</code></pre> <p>\u8f93\u51fa\uff1a</p> <pre><code>$ go run main.go\ninit()\nmain()\n\n$\n</code></pre>"},{"location":"Go/Basic/Golang-1-%E5%9F%BA%E7%A1%80/","title":"1.\u57fa\u7840","text":""},{"location":"Go/Basic/Golang-1-%E5%9F%BA%E7%A1%80/#1-","title":"1-\u57fa\u7840","text":""},{"location":"Go/Basic/Golang-1-%E5%9F%BA%E7%A1%80/#_1","title":"\u6807\u8bc6\u7b26","text":"<ul> <li>[ _ | A-Z | a-z | 0-9 ]</li> <li>\u4e0d\u80fd\u6570\u5b57\u5f00\u5934</li> <li>\u4e0d\u80fd\u4e0e\u5173\u952e\u5b57\u548c\u4fdd\u7559\u5b57\u51b2\u7a81</li> </ul>"},{"location":"Go/Basic/Golang-1-%E5%9F%BA%E7%A1%80/#_2","title":"\u5173\u952e\u5b57","text":"<p>Go \u4e2d\u670925\u4e2a\u5173\u952e\u5b57</p> <pre><code>    break        default      func         interface    select\n    case         defer        go           map          struct\n    chan         else         goto         package      switch\n    const        fallthrough  if           range        type\n    continue     for          import       return       var\n</code></pre> <p>37\u4e2a\u4fdd\u7559\u5b57</p> <pre><code>Constants:  true  false  iota  nil\n\n    Types:  int  int8  int16  int32  int64\n            uint  uint8  uint16  uint32  uint64  uintptr\n            float32  float64  complex128  complex64\n            bool  byte  rune  string  error\n\nFunctions:  make  len  cap  new  append  copy  close  delete\n                complex  real  imag\n                panic  recover\n</code></pre>"},{"location":"Go/Basic/Golang-1-%E5%9F%BA%E7%A1%80/#_3","title":"\u53d8\u91cf","text":""},{"location":"Go/Basic/Golang-1-%E5%9F%BA%E7%A1%80/#_4","title":"\u58f0\u660e","text":"<pre><code>var \u53d8\u91cf\u540d \u53d8\u91cf\u7c7b\u578b\n</code></pre> <p>\u53d8\u91cf\u58f0\u660e\u4ee5\u5173\u952e\u5b57 <code>var</code> \u5f00\u5934\uff0c\u7c7b\u578b\u653e\u5728\u540e\u9762\uff0c\u65e0\u9700\u5206\u53f7</p> <pre><code>var name string\nvar age int\nvar isEmpty bool\n</code></pre>"},{"location":"Go/Basic/Golang-1-%E5%9F%BA%E7%A1%80/#_5","title":"\u6279\u91cf\u58f0\u660e","text":"<p>\u6bcf\u4e2a\u53d8\u91cf\u5199\u4e00\u4e2a var \u592a\u9ebb\u70e6\uff0cgo \u652f\u6301\u6279\u91cf\u58f0\u660e</p> <pre><code>var (\n    name string\n    age int\n    isEmpty bool\n)\n\nvar num1, num2, num3 int\n</code></pre>"},{"location":"Go/Basic/Golang-1-%E5%9F%BA%E7%A1%80/#_6","title":"\u521d\u59cb\u5316","text":"<p>Note</p> <p>go \u58f0\u660e\u53d8\u91cf\u65f6\uff0c\u4f1a\u81ea\u52a8\u5bf9\u53d8\u91cf\u5bf9\u5e94\u7684\u5185\u5b58\u533a\u57df\u8fdb\u884c\u521d\u59cb\u5316\uff0c\u6bcf\u4e2a\u53d8\u91cf\u90fd\u4f1a\u88ab\u521d\u59cb\u5316\u6210\u9ed8\u8ba4\u503c\u3002</p> <p>eg\uff1a\u6574\u578b\u548c\u6d6e\u70b9\u578b\u53d8\u91cf\u9ed8\u8ba4\u503c\u662f <code>0</code>\uff0c\u5b57\u7b26\u4e32\u53d8\u91cf\u9ed8\u8ba4\u503c\u662f <code>\u7a7a\u5b57\u7b26\u4e32</code>\uff0c\u5e03\u5c14\u7c7b\u578b\u53d8\u91cf\u9ed8\u8ba4\u503c\u662f<code>false</code>\uff0c\u5207\u7247\u3001\u51fd\u6570\u3001\u6307\u9488\u53d8\u91cf\u9ed8\u8ba4\u662f <code>nil</code>\u3002</p> <p>\u540c\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u58f0\u660e\u53d8\u91cf\u65f6\u4e3a\u5176\u6307\u5b9a\u521d\u59cb\u503c\uff0c\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>var \u53d8\u91cf\u540d \u7c7b\u578b = \u8868\u8fbe\u5f0f\n</code></pre> <p>eg\uff1a</p> <pre><code>var name string = \"Boii\"\nvar age  int    = 18\n</code></pre> <p>\u6216\u8005\u4e00\u6b21\u521d\u59cb\u5316\u591a\u4e2a\u53d8\u91cf\u3002eg\uff1a</p> <pre><code>var name, age = \"Boii\", 18\n</code></pre> <p>Tip</p> <p>Go \u8bed\u8a00\u5177\u6709\u7684\u8fd9\u79cd\u7279\u6027\uff0c\u4f7f\u5f97\u4ea4\u6362\u4e24\u4e2a\u53d8\u91cf\u975e\u5e38\u65b9\u4fbf\uff0c\u53ef\u4ee5\u7b80\u5355\u5730\u4f7f\u7528 <code>a, b = b, a</code> \u5b8c\u6210\u4ea4\u6362\u4e24\u4e2a\u53d8\u91cf\u7684\u503c\u3002</p>"},{"location":"Go/Basic/Golang-1-%E5%9F%BA%E7%A1%80/#_7","title":"\u7c7b\u578b\u63a8\u5bfc","text":"<p>\u7c7b\u578b\u63a8\u5bfc\u6307\u7684\u662f \u6ca1\u6709\u663e\u793a\u7684\u5199\u660e\u7c7b\u578b\uff0c\u7f16\u8bd1\u5668\u4f1a\u901a\u8fc7\u7b49\u53f7\u53f3\u8fb9\u7684\u503c\u6765\u63a8\u5bfc\u51fa\u7c7b\u578b\uff0c\u7136\u540e\u5b8c\u6210\u521d\u59cb\u5316\u5de5\u4f5c\u3002</p> <pre><code>var name = \"Boii\"\nvar age = 18\nheight := 180\n</code></pre>"},{"location":"Go/Basic/Golang-1-%E5%9F%BA%E7%A1%80/#_8","title":"\u4ea4\u6362\u53d8\u91cf","text":"<pre><code>a, b := 10, 15\na, b = b, a\nfmt.Println(a, b)    // 15 10\n</code></pre>"},{"location":"Go/Basic/Golang-1-%E5%9F%BA%E7%A1%80/#_9","title":"\u77ed\u53d8\u91cf\u58f0\u660e","text":"<p>\u5728\u51fd\u6570\u5185\u90e8\uff0c\u53ef\u4ee5\u7528\u66f4\u7b80\u7565\u7684\u65b9\u5f0f <code>:=</code> \u58f0\u660e\u5e76\u521d\u59cb\u5316\u53d8\u91cf\uff0c\u4f46\u8fd9\u79cd\u65b9\u5f0f**\u53ea\u80fd\u58f0\u660e\u5c40\u90e8\u53d8\u91cf**</p> <pre><code>package main\n\nimport \"fmt\"\n\nvar m = 100    // \u58f0\u660e\u5168\u5c40\u53d8\u91cf m\n\nfunc main() {\n    n := 10    // \u58f0\u660e\u5c40\u90e8\u53d8\u91cf n\n    m := 200   // \u58f0\u660e\u5c40\u90e8\u53d8\u91cf m\n    fmt.Println(m ,n)\n}\n\n// ----------------------------------------\n// Output:\n200 10\n</code></pre>"},{"location":"Go/Basic/Golang-1-%E5%9F%BA%E7%A1%80/#_10","title":"\u533f\u540d\u53d8\u91cf","text":"<p>\u4f7f\u7528\u591a\u91cd\u8d4b\u503c\u65f6\uff0c\u60f3\u8981\u5ffd\u7565\u67d0\u4e2a\u503c\uff0c\u53ef\u4ee5\u4f7f\u7528 \u533f\u540d\u53d8\u91cf\uff0c\u4e5f\u5c31\u662f\u4e00\u4e2a\u4e0b\u5212\u7ebf <code>_</code> \u8868\u793a\u3002eg\uff1a</p> <pre><code>func foo() (int, string) {\n    return 18, \"Boii\"\n}\n\nfunc main() {\n    x, _ := foo()\n    fmt.Println(\"x =\", x)\n}\n// ----------------------------------------\n// Output:\n18\n</code></pre> <p>\u533f\u540d\u53d8\u91cf\u4e0d\u5360\u7528\u547d\u540d\u7a7a\u95f4\uff0c\u4e0d\u4f1a\u5206\u914d\u5185\u5b58\uff0c\u6240\u4ee5\u533f\u540d\u53d8\u91cf\u4e4b\u95f4\u4e0d\u5b58\u5728\u91cd\u590d\u58f0\u660e\uff0c\u4e14\u533f\u540d\u53d8\u91cf\u65e0\u6cd5\u62ff\u6765\u4f7f\u7528\uff0c\u53ea\u80fd\u7528\u6765\u627f\u63a5\u4e0d\u60f3\u8981\u7684\u503c\u3002</p>"},{"location":"Go/Basic/Golang-1-%E5%9F%BA%E7%A1%80/#_11","title":"\u603b\u7ed3","text":"<ol> <li>\u51fd\u6570\u5916\u7684\u6bcf\u4e2a\u8bed\u53e5\u90fd\u5fc5\u987b\u4ee5\u5173\u952e\u5b57\u5f00\u59cb\uff08var\u3001const\u3001func\u7b49\uff09</li> <li><code>:=</code> \u4e0d\u80fd\u5728\u51fd\u6570\u5916\u4f7f\u7528</li> <li><code>_</code> \u591a\u7528\u4e8e\u5360\u4f4d\uff0c\u8868\u793a\u5ffd\u7565\u503c</li> </ol>"},{"location":"Go/Basic/Golang-1-%E5%9F%BA%E7%A1%80/#_12","title":"\u5e38\u91cf","text":"<p>\u5e38\u91cf\u662f\u7a0b\u5e8f\u8fd0\u884c\u671f\u95f4\u4e0d\u4f1a\u6539\u53d8\u7684\u90a3\u4e9b\u503c\u3002 \u53d8\u91cf\u58f0\u660e\u662f\u7528 <code>var</code>\uff0c\u5e38\u91cf\u58f0\u660e\u662f\u7528 <code>const</code></p> <p>\u5e38\u91cf\u5728\u5b9a\u4e49\u7684\u65f6\u5019\u5fc5\u987b\u8d4b\u503c</p> <pre><code>const PI = 3.14156\nconst E  = 2.7182\n</code></pre> <p>\u6279\u91cf\u58f0\u660e</p> <pre><code>const (\n    PI = 3.14156\n    E  = 2.7182\n)\n</code></pre> <p>\u6279\u91cf\u58f0\u660e\u65f6\uff0c\u5982\u679c\u7701\u7565\u4e86\u8d4b\u503c\u5219\u8868\u793a\u4e0e\u4e0a\u9762\u4e00\u884c\u7684\u503c\u76f8\u540c\u3002eg\uff1a</p> <pre><code>const (\n    a = 100\n    b\n    c = 3.33\n    d\n    e\n)\n</code></pre> <p>\u4f8b\u5b50\u4e2d\uff0c\u5e38\u91cf <code>a</code> \u548c <code>b</code> \u7684\u503c\u90fd\u662f 100\uff0c<code>c</code>\u3001<code>d</code>\u3001<code>e</code> \u7684\u503c\u90fd\u662f 3.33</p>"},{"location":"Go/Basic/Golang-1-%E5%9F%BA%E7%A1%80/#iota","title":"iota","text":"<p><code>iota</code> \u662fgo\u8bed\u8a00\u4e2d\u7684 \u5e38\u91cf\u8ba1\u6570\u5668\uff0c\u53ea\u80fd\u5728\u5e38\u91cf\u7684\u8868\u8fbe\u5f0f\u4e2d\u4f7f\u7528\u3002</p> <p><code>iota</code> \u5728const \u5173\u952e\u5b57\u51fa\u73b0\u65f6\u5c06\u88ab\u91cd\u7f6e\u4e3a 0\u3002</p> <p>const \u4e2d\u6bcf\u65b0\u589e\u4e00\u884c\u5e38\u91cf\u58f0\u660e\uff0c\u5c06\u4f7f <code>iota +1</code>\u3002</p> <p>iota \u53ef\u7406\u89e3\u4e3aconst \u5757\u4e2d\u7684\u884c\u7d22\u5f15\u3002</p> <p>\u4f7f\u7528iota\u80fd\u7b80\u5316\u5b9a\u4e49\uff0c\u5728\u679a\u4e3e\u65f6\u5f88\u65b9\u4fbf\u3002</p> <pre><code>const (\n    n1 = iota    // 0\n    n2           // 1\n    n3           // 2\n    n4           // 3\n)\n\nfunc main() {\n    fmt.Println(n1, n2, n3, n4)\n}\n\n// ----------------------------------------\n// Output:\n0 1 2 3\n</code></pre> <p>\u8fd8\u6709\u51e0\u4e2a\u6bd4\u8f83\u7ecf\u5178\u7684\u4f8b\u5b50:</p> <ul> <li> <p>\u533f\u540d\u53d8\u91cf\u63d2\u961f</p> <pre><code>const (\n    n1 = iota // 0\n    n2        // 1\n    _\n    n4        // 3\n)\n</code></pre> </li> <li> <p>\u58f0\u660e\u4e2d\u95f4\u63d2\u961f</p> <pre><code>const (\n    n1 = iota    // 0\n    n2 = 100     // 100\n    n3 = iota    // 2\n    n4           // 3\n    n5           // 4\n)\nconst n6 = iota  // 0\n</code></pre> </li> <li> <p>\u5b9a\u4e49\u6570\u91cf\u7ea7</p> <pre><code>const (\n    _  = iota\n    KB = 1 &lt;&lt; (10 * iota)    // 10*1 == 10\n    MB = 1 &lt;&lt; (10 * iota)    // 10*2 == 20\n    GB = 1 &lt;&lt; (10 * iota)    // 10*3 == 30\n    TB = 1 &lt;&lt; (10 * iota)    // 10*4 == 40\n    PB = 1 &lt;&lt; (10 * iota)    // 10*5 == 50\n)\n</code></pre> </li> <li> <p>\u591a\u4e2a <code>iota</code> \u5b9a\u4e49\u5728\u4e00\u884c</p> <pre><code>const (\n    a, b = iota + 1, iota + 2 //1,2\n    c, d                      //2,3\n    e, f                      //3,4\n)\n\nfunc main() {\n    fmt.Println(a, b, c, d, e, f)\n}\n\n// ----------------------------------------\n// Output:\n1 2 2 3 3 4\n</code></pre> </li> <li> <p>iota \u53ea\u6709\u5728\u65b0\u8d77\u4e00\u884c\u624d\u4f1a\u81ea\u589e</p> </li> <li>iota \u53ea\u6709\u9047\u5230\u65b0\u7684 const \u624d\u4f1a\u91cd\u7f6e</li> <li>iota \u662f\u4ece 0 \u5f00\u59cb\u7684\u3002 </li> </ul>"},{"location":"Go/Basic/Golang-1-%E5%9F%BA%E7%A1%80/#_13","title":"\u503c\u7c7b\u578b\u548c\u5f15\u7528\u7c7b\u578b","text":"j = i <p>\u503c\u7c7b\u578b\uff1a<code>int float bool string \u6307\u9488</code>\uff0c\u4f7f\u7528\u8fd9\u4e9b\u7c7b\u578b\u7684\u53d8\u91cf\u76f4\u63a5\u6307\u5411\u5b58\u5728\u5185\u5b58\u4e2d\u7684\u503c\uff0c\u5b58\u50a8\u5728\u6808\u4e2d\u3002</p> <p> </p> r1 =  r2 <p>\u5f15\u7528\u7c7b\u578b\uff1a<code>slices\u3001maps\u3001channel</code>\uff0c\u88ab\u5f15\u7528\u7684\u53d8\u91cf\u4f1a\u5b58\u50a8\u5728\u5806\u4e2d\uff0c\u4ee5\u4fbf\u5783\u573e\u56de\u6536\u3002</p>"},{"location":"Go/Basic/Golang-10-%E7%BB%93%E6%9E%84%E4%BD%93/","title":"10.\u7ed3\u6784\u4f53","text":""},{"location":"Go/Basic/Golang-10-%E7%BB%93%E6%9E%84%E4%BD%93/#10-","title":"10-\u7ed3\u6784\u4f53","text":"<p>Go\u8bed\u8a00\u4e2d\u6ca1\u6709\u201c\u7c7b\u201d\u7684\u6982\u5ff5\uff0c\u4e5f\u4e0d\u652f\u6301\u201c\u7c7b\u201d\u7684\u7ee7\u627f\u7b49\u9762\u5411\u5bf9\u8c61\u7684\u6982\u5ff5\u3002Go\u8bed\u8a00\u4e2d\u901a\u8fc7\u7ed3\u6784\u4f53\u7684\u5185\u5d4c\u518d\u914d\u5408\u63a5\u53e3\u6bd4\u9762\u5411\u5bf9\u8c61\u5177\u6709\u66f4\u9ad8\u7684\u6269\u5c55\u6027\u548c\u7075\u6d3b\u6027\u3002</p> <p>\u5f53\u6211\u4eec\u60f3\u8868\u793a\u4e00\u4e9b\u4e8b\u7269\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u57fa\u672c\u6570\u636e\u7c7b\u578b\u8868\u793a\u5176\u5404\u9879\u57fa\u672c\u5c5e\u6027\uff0c\u901a\u8fc7\u7ed3\u6784\u4f53\u5c06\u5176\u7ec4\u5408\u8d77\u6765\u3002\u5728 Go \u4e2d\u53ef\u4ee5\u901a\u8fc7 <code>struct</code> \u5b9e\u73b0\u9762\u5411\u5bf9\u8c61\u3002</p> <p>Warning</p> <p>\u7ed3\u6784\u4f53\u662f\u503c\u7c7b\u578b\uff01\uff01\uff01</p>"},{"location":"Go/Basic/Golang-10-%E7%BB%93%E6%9E%84%E4%BD%93/#_1","title":"\u5b9a\u4e49","text":"<p>\u4f7f\u7528 <code>type</code> \u548c <code>struct</code> \u6765\u5b9a\u4e49\u7ed3\u6784\u4f53\u3002</p> <p>\u57fa\u672c\u8bed\u6cd5\u5982\u4e0b\uff1a </p><pre><code>type structT struct {\n    field1 T\n    field2 T\n    ...\n}\n</code></pre> <code>structT</code>\uff1a\u6807\u8bc6\u53ea\u5b9a\u4e49\u7ed3\u6784\u4f53\u540d\u79f0\uff0c\u540c\u4e00\u5305\u5185\u4e0d\u80fd\u91cd\u590d\u3002<p></p> <p><code>field</code>\uff1a\u7ed3\u6784\u7684\u57fa\u672c\u5c5e\u6027\u7684\u540d\u5b57\uff0c\u7ed3\u6784\u4f53\u4e2d\u7684\u5b57\u6bb5\u540d\u4e0d\u80fd\u91cd\u590d</p> <p><code>T</code>\uff1a\u5b57\u6bb5\u7684\u5177\u4f53\u7c7b\u578b</p> <p>Example</p> <p></p><pre><code>type person struct {\n    name string\n    age int8\n    city string\n}\n</code></pre> \u540c\u7c7b\u578b\u5b57\u6bb5\u53ef\u4ee5\u5199\u5728\u4e00\u884c <pre><code>type person struct {\n    name, city string\n    age int8\n}\n</code></pre><p></p> <p>\u901a\u8fc7\u4ee5\u4e0a\u4ee3\u7801\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a <code>person</code> \u7684\u81ea\u5b9a\u4e49\u7c7b\u578b\uff0c\u5b83\u6709 <code>name</code>\u3001<code>age</code>\u3001<code>city</code> \u4e09\u4e2a\u5b57\u6bb5\uff0c\u8868\u793a\u4eba\u7684\u59d3\u540d\u3001\u5e74\u9f84\u3001\u57ce\u5e02\u4e09\u4e2a\u5c5e\u6027\u3002 \u8fd9\u6837\u5c31\u53ef\u4ee5\u901a\u8fc7 <code>person</code> \u8fd9\u4e2a\u7ed3\u6784\u4f53\u5f88\u65b9\u4fbf\u7684\u5728\u7a0b\u5e8f\u4e2d\u8868\u793a\u548c\u5b58\u50a8\u4eba\u7684\u4fe1\u606f\u4e86\u3002</p> <p>Tip</p> <p>\u5728\u5b9a\u4e49\u7ed3\u6784\u4f53\u65f6\uff0c\u5efa\u8bae\u5404\u4e2a\u5b57\u6bb5\u6309\u5b57\u6bb5\u7c7b\u578b\u4ece\u5c0f\u5230\u5927\u6392\u5e8f\uff0c\u6709\u52a9\u4e8e\u5185\u5b58\u5bf9\u9f50\u3002 \u7c7b\u578b\u5927\u5c0f\u53c2\u8003\u300a\u6570\u636e\u7c7b\u578b\u300b\u4e00\u7ae0</p> <p>Go \u5185\u7f6e\u7684\u57fa\u672c\u6570\u636e\u7c7b\u578b\u7528\u6765\u63cf\u8ff0\u4e00\u4e2a\u503c\uff0c\u800c\u7ed3\u6784\u4f53\u7528\u6765\u63cf\u8ff0\u4e00\u7ec4\u503c\uff0c\u672c\u8d28\u4e0a\u662f\u4e00\u79cd\u805a\u5408\u578b\u6570\u636e\u7c7b\u578b\u3002 \u4e00\u4e2a\u7ed3\u6784\u4f53\u5c31\u50cf Java \u4e2d\u7684\u4e00\u4e2a\u7c7b\uff0c\u4e0d\u8fc7 Java \u4e2d\u7684\u7c7b\u8fd8\u6709\u6784\u9020\u51fd\u6570\u3001\u65b9\u6cd5\u7b49\uff0c\u8fd9\u4e9b Go \u7684\u7ed3\u6784\u4f53\u4e00\u6837\u53ef\u4ee5\u5b9e\u73b0\uff0c\u65b9\u5f0f\u6709\u4e9b\u4e0d\u540c</p>"},{"location":"Go/Basic/Golang-10-%E7%BB%93%E6%9E%84%E4%BD%93/#_2","title":"\u5b9e\u4f8b\u5316","text":"<p>\u53ea\u6709\u5f53\u7ed3\u6784\u4f53\u5b9e\u4f8b\u5316\u65f6\uff0c\u624d\u4f1a\u771f\u6b63\u5730\u5206\u914d\u5185\u5b58\u3002\u5373\u5fc5\u987b\u5b9e\u4f8b\u5316\u540e\u624d\u80fd\u4f7f\u7528\u7ed3\u6784\u4f53\u7684\u5b57\u6bb5\u3002 \u7ed3\u6784\u4f53\u672c\u8eab\u4e5f\u662f\u4e00\u79cd\u6570\u636e\u7c7b\u578b\uff0c\u6211\u4eec\u53ef\u4ee5\u50cf\u58f0\u660e\u57fa\u672c\u6570\u636e\u7c7b\u578b\u4e00\u6837\u58f0\u660e\u7ed3\u6784\u4f53</p> <pre><code>// \u65b9\u5f0f1\nvar idn structT\nidn.field1 = value1\nidn.field2 = value2\n...\n</code></pre> <p><code>idn</code>\uff1a\u7ed3\u6784\u4f53\u5b9e\u4f8b\u540d\u79f0</p> <p><code>structT</code>\uff1a\u7ed3\u6784\u4f53\u7c7b\u578b</p> <p><code>field</code>\uff1a\u7ed3\u6784\u4f53\u5b57\u6bb5</p>"},{"location":"Go/Basic/Golang-10-%E7%BB%93%E6%9E%84%E4%BD%93/#1","title":"\u65b9\u5f0f1\uff1a\u57fa\u672c\u5b9e\u4f8b\u5316","text":"<pre><code>type person struct {\n    name string\n    city string\n    age int8\n}\n\nfunc main() {\n    // \u65b9\u5f0f1\n    var p1 person\n    p1.city = \"SWA\"\n    p1.name = \"Boii\"\n\n    fmt.Printf(\"p1 = %v \\n\", p1)    // p1 = {Boii 0 SWA}\n    fmt.Printf(\"p1 = %#v \\n\", p1)   // p1 = main.person{name:\"Boii\", age:0, city:\"SWA\"}\n}\n</code></pre> \u4ed4\u7ec6\u89c2\u5bdf\uff1a <ul> <li>\u65b9\u5f0f1\u58f0\u660e\u4ee5\u540e\u9010\u4e00\u7ed9\u6bcf\u4e2a\u5b57\u6bb5\u8d4b\u503c\uff0c\u53ef\u4ee5\u7ed3\u6784\u4f53\u4e2d\u5b9a\u4e49\u5b57\u6bb5\u65f6\u7684\u987a\u5e8f\uff0c\u6ca1\u6709\u8d4b\u503c\u7684\u5b57\u6bb5\u9ed8\u8ba4\u4e3a\u96f6\u503c</li> <li>\u65b9\u5f0f2 \u548c \u65b9\u5f0f3\u5728\u8d4b\u503c\u7684\u65f6\u5019\u9700\u8981\u6240\u6709\u5b57\u6bb5\u90fd\u8d4b\u503c\uff0c\u4e14\u9700\u8981\u6309\u987a\u5e8f\u3002</li> <li>\u901a\u8fc7<code>.</code>\u53ef\u4ee5\u8bbf\u95ee\u7ed3\u6784\u4f53\u4e2d\u7684\u5b57\u6bb5\uff0c\u4f8b\u5982<code>p1.city</code>.</li> </ul>"},{"location":"Go/Basic/Golang-10-%E7%BB%93%E6%9E%84%E4%BD%93/#2newt","title":"\u65b9\u5f0f2\uff1anew(T) \u7ed3\u6784\u4f53\u6307\u9488","text":"<p>\u901a\u8fc7 <code>new()</code> \u53ef\u4ee5\u5bf9\u7ed3\u6784\u4f53\u5b9e\u4f8b\u5316\uff0c\u5f97\u5230\u7684\u662f\u7ed3\u6784\u4f53\u6307\u9488\uff0c\u5176\u5404\u4e2a\u5b57\u6bb5\u90fd\u4e3a\u96f6\u503c\u3002</p> <pre><code>type person struct {\n    name string\n    city string\n    age  int8\n}\nfunc main() {\n\n    var p1 = new(person)\n    fmt.Printf(\"%T \\n\", p1)      // *main.person\n    fmt.Printf(\"p1 = %#v \\n\", p1) // p1 = &amp;main.person{name:\"\", age:0, city:\"\"}\n\n    p1.name = \"Boii\"\n    fmt.Printf(\"p1 = %#v \\n\", p1) // p1 = &amp;main.person{name:\"Boii\", age:0, city:\"\"}\n}\n</code></pre> <p>\u6ce8\u610f\uff1aGo \u4e2d\u7684\u7ed3\u6784\u4f53\u6307\u9488\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528<code>.</code>\u6765\u8bbf\u95ee\u7ed3\u6784\u4f53\u6210\u5458\u3002</p> <p><code>p1.name = \"Boii\"</code> \u76f8\u5f53\u4e8e <code>(*p1).name = \"Boii\"</code>\uff0c\u8fd9\u662f Go \u7684\u8bed\u6cd5\u7cd6\u3002</p>"},{"location":"Go/Basic/Golang-10-%E7%BB%93%E6%9E%84%E4%BD%93/#3t","title":"\u65b9\u5f0f3\uff1a&amp;T{} \u53d6\u7ed3\u6784\u4f53\u5730\u5740","text":"<p>\u4f7f\u7528 <code>&amp;</code> \u5bf9\u7ed3\u6784\u4f53\u53d6\u5730\u5740\u64cd\u4f5c\u76f8\u5f53\u4e8e\u5bf9\u8be5\u7ed3\u6784\u4f53\u7c7b\u578b\u8fdb\u884c\u4e86\u4e00\u6b21 <code>new</code>\u5b9e\u4f8b\u5316\u64cd\u4f5c\u3002 </p><pre><code>type person struct {\n    name string\n    city string\n    age  int8\n}\nfunc main() {\n    var p2 = &amp;person{\"Boii\", 10, \"SWA\"}\n    fmt.Printf(\"%T \\n\", p2)       // *main.person\n    fmt.Printf(\"p2 = %#v \\n\", p2) // p = &amp;main.person{name:\"Boii\", age:10, city:\"SWA\"}\n\n    p3 := &amp;person{}\n    p3.name = \"Candy\"\n    p3.age = 10\n    p3.city = \"SWA\"\n    fmt.Printf(\"%T \\n\", p3)       // *main.person\n    fmt.Printf(\"p3 = %#v \\n\", p3) // p = &amp;main.person{name:\"Candy\", age:10, city:\"SWA\"}\n\n}\n</code></pre><p></p> <p>\u6240\u4ee5\uff1a<code>new(Type)</code> \u548c <code>&amp;Type{}</code> \u662f\u7b49\u4ef7\u7684\u3002</p> <p></p> <p></p>"},{"location":"Go/Basic/Golang-10-%E7%BB%93%E6%9E%84%E4%BD%93/#_3","title":"\u533f\u540d\u7ed3\u6784\u4f53","text":"<p>\u5728\u5b9a\u4e49\u4e00\u4e9b\u4e34\u65f6\u6570\u636e\u7ed3\u6784\u7b49\u573a\u666f\u4e0b\u8fd8\u53ef\u4ee5\u4f7f\u7528\u533f\u540d\u7ed3\u6784\u4f53\u3002 </p><pre><code>func main() {\n    var user struct{name string; age int8}  // (1)\n\n    // \u901a\u8fc7\u7ed3\u6784\u4f53\u5b9e\u4f8b\u4f7f\u7528\u533f\u540d\u7ed3\u6784\u4f53\n    user.name = \"Boii\"\n    user.age = 18\n\n    fmt.Printf(\"%v \\n\", user)  // {Boii 18}\n    fmt.Printf(\"%#v \\n\", user) // struct { name string; age int8 }{name:\"Boii\", age:18}\n\n    // \u76f8\u540c\u7c7b\u578b\u53ef\u4ee5\u7b80\u5199\n    var stu struct{name string; ID, age int}\n\n    // \u89c4\u8303\u5199\u6cd5\n    var stud struct {\n        name    string\n        ID, age int\n    }\n}\n</code></pre><p></p> <ol> <li>\u5b9a\u4e49\u533f\u540d\u7ed3\u6784\u4f53\uff0c\u5b57\u6bb5\u4e4b\u95f4\u7528 \u5206\u53f7 \u9694\u5f00</li> </ol>"},{"location":"Go/Basic/Golang-10-%E7%BB%93%E6%9E%84%E4%BD%93/#_4","title":"\u521d\u59cb\u5316","text":"<p>\u7ed3\u6784\u4f53\u6ca1\u6709\u521d\u59cb\u5316\u7684\u65f6\u5019\uff0c\u6210\u5458\u53d8\u91cf\u90fd\u662f\u5bf9\u5e94\u7c7b\u578b\u7684\u96f6\u503c\uff0c\u8fd9\u70b9\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\u5df2\u7ecf\u6709\u6240\u4f53\u73b0\u3002 </p><pre><code>type stu struct {\n    name string\n    age  int8\n    ID   int8\n}\n\nfunc main() {\n    var s1 stu\n    fmt.Printf(\"s1 = %#v \\n\", s1) // s1 = main.stu{name:\"\", age:0, ID:0}\n}\n</code></pre><p></p>"},{"location":"Go/Basic/Golang-10-%E7%BB%93%E6%9E%84%E4%BD%93/#_5","title":"\u4f7f\u7528\u952e\u503c\u5bf9\u7684\u65b9\u5f0f\u521d\u59cb\u5316","text":"<pre><code>idn := structT{\n    field1: value1,\n    field2: value2,\n    ...\n}\n\n\nvar idn = structT{\n    field1: value1,\n    field2: value2,\n    ...\n}\n</code></pre> <p>Example</p> <pre><code>s2 := stu{\n    name: \"Boii\",\n    age:  18,\n}\nfmt.Printf(\"s2 = %#v \\n\", s2) // s2 = main.stu{name:\"Boii\", age:18, ID:0}\n\nvar s3 = stu{\n    name: \"Eva\",\n    age:  18,\n}\nfmt.Printf(\"s3 = %#v \\n\", s3) // s3 = main.stu{name:\"Eva\", age:18, ID:0}\n</code></pre> <p>\u4f7f\u7528\u952e\u503c\u5bf9\u7684\u65b9\u5f0f\u53ef\u4ee5\u4e0d\u6309\u7ed3\u6784\u4f53\u5b9a\u4e49\u65f6\u5b57\u6bb5\u7684\u987a\u5e8f\uff0c\u53ef\u4ee5\u4e0d\u521d\u59cb\u5316\u6bcf\u4e00\u4e2a\u5b57\u6bb5\uff0c\u6ca1\u88ab\u521d\u59cb\u5316\u7684\u5b57\u6bb5\u5c31\u9ed8\u8ba4\u4e3a\u96f6\u503c\u3002 \u6ce8\u610f\u6700\u540e\u4e00\u4e2a\u5b57\u6bb5\u4e5f\u8981\u52a0\u4e0a\u9017\u53f7<code>,</code>\u3002</p> <p></p><pre><code>s3 := &amp;stu{\n    age: 18,\n    ID:  101,\n}\nfmt.Printf(\"s3 = %#v \\n\", s3) // s3 = &amp;main.stu{name:\"\", age:18, ID:101}\n</code></pre> \u4e5f\u53ef\u4ee5\u5bf9\u7ed3\u6784\u4f53\u6307\u9488\u8fdb\u884c\u952e\u503c\u5bf9\u521d\u59cb\u5316<p></p>"},{"location":"Go/Basic/Golang-10-%E7%BB%93%E6%9E%84%E4%BD%93/#_6","title":"\u4f7f\u7528\u503c\u5217\u8868\u7684\u65b9\u5f0f\u521d\u59cb\u5316","text":"<p>\u521d\u59cb\u5316\u7ed3\u6784\u4f53\u7684\u65f6\u5019\u53ef\u4ee5\u7b80\u5199\uff0c\u4e0d\u5199\u952e\uff0c\u53ea\u5199\u503c\u3002 </p><pre><code>idn := structT{\n    value1,\n    value2,\n    ...\n}\n\nvar idn = structT{\n    value1,\n    value2,\n    ...\n}\n</code></pre><p></p> <p>Example</p> <pre><code>s4 := stu{\n    \"Boii\",\n    18,\n    102,\n}\nfmt.Printf(\"s4 = %#v \\n\", s4) // s4 = main.stu{name:\"Boii\", age:18, ID:102}\n</code></pre> <p>\u4f7f\u7528\u8fd9\u79cd\u8981\u6ce8\u610f\uff1a</p> <ol> <li>\u5fc5\u987b\u521d\u59cb\u5316\u7ed3\u6784\u4f53\u91cc\u6240\u6709\u5b57\u6bb5</li> <li>\u521d\u59cb\u503c\u586b\u5145\u987a\u5e8f\u5fc5\u987b\u548c\u5b57\u6bb5\u5728\u7ed3\u6784\u4f53\u4e2d\u58f0\u660e\u7684\u987a\u5e8f\u4e00\u81f4</li> <li>\u4e0d\u80fd\u548c\u952e\u503c\u5bf9\u7684\u521d\u59cb\u5316\u65b9\u5f0f\u6df7\u7528</li> </ol>"},{"location":"Go/Basic/Golang-10-%E7%BB%93%E6%9E%84%E4%BD%93/#_7","title":"\u4e00\u70b9\u7ec6\u8282","text":"<p>\u521d\u59cb\u5316\u65f6\uff0c\u5982\u679c\u503c\u5199\u6210\u591a\u884c\uff0c\u5219\u6700\u540e\u4e00\u4e2a\u4e5f\u8981\u5e26\u4e0a\u9017\u53f7 <code>,</code> ;</p> <p>\u5982\u679c\u5199\u6210\u4e00\u884c\uff0c\u5219\u6700\u540e\u4e00\u4e2a\u53ef\u4ee5\u4e0d\u5e26\u9017\u53f7 <code>,</code> ; \u4e5f\u53ef\u4ee5\u5e26\u4e0a\u9017\u53f7\u3002</p> <pre><code>type Person struct {\n    name string\n    age  int\n    sex  string\n}\n\nfunc main() {\n    p1 := Person{\n        \"Boii\",\n        18,\n        \"male\",\n    }\n\n    p2 := Person{\n        name: \"Boii\",\n        sex:  \"male\",\n        age:  18,\n    }\n\n    p3 := Person{ \"Boii\", 18, \"male\" }\n\n    p4 := Person{ name: \"Boii\", sex: \"male\", age: 18, }\n}\n</code></pre>"},{"location":"Go/Basic/Golang-10-%E7%BB%93%E6%9E%84%E4%BD%93/#_8","title":"\u65b9\u6cd5\u548c\u63a5\u6536\u8005","text":"<p>\u4f8b\u5982\u4e0b\u9762\u7684\u901a\u5f0f\uff0c\u65b9\u6cd5\u540d\u524d\u9762\u7684**\u63a5\u6536\u8005\u53d8\u91cf\u548c\u63a5\u6536\u8005\u7c7b\u578b**\uff0c\u5c31\u662f\u4e00\u79cd\u9650\u5b9a\u3002 </p><pre><code>// \u65b9\u6cd5\nfunc (\u63a5\u6536\u8005\u53d8\u91cf \u63a5\u6536\u8005\u7c7b\u578b) \u65b9\u6cd5\u540d(\u53c2\u6570\u5217\u8868) (\u8fd4\u56de\u53c2\u6570) {\n    \u65b9\u6cd5\u4f53\n}\n\n// \u5bf9\u6bd4\uff1a\u51fd\u6570\nfunc \u51fd\u6570\u540d(\u53c2\u6570\u5217\u8868) (\u8fd4\u56de\u53c2\u6570) {\n    \u51fd\u6570\u4f53\n}\n</code></pre> \u63a5\u6536\u8005\u6307\u7684\u5c31\u662f\u88ab\u5141\u8bb8\u8c03\u7528\u7684\u8c03\u7528\u8005\u3002\u6ce8\u610f\u7406\u89e3\uff1a\u4e0b\u9762\u5c06\u4ee5\u63a5\u6536\u8005\u4ee3\u66ff\u8c03\u7528\u8005\u7684\u8bf4\u6cd5\u3002<p></p> <ul> <li>\u63a5\u6536\u8005\u53d8\u91cf\uff1a\u547d\u540d\u65f6\uff0c\u5b98\u65b9\u5efa\u8bae\u4f7f\u7528\u63a5\u6536\u8005\u7c7b\u578b\u9996\u4e2a\u5b57\u6bcd\u5c0f\u5199\u3002eg\uff1a<code>p Person</code>\u3001<code>c Connector</code></li> <li>\u63a5\u6536\u8005\u7c7b\u578b\uff1a\u63a5\u6536\u8005\u7c7b\u578b\u548c\u53c2\u6570\u76f8\u4f3c\uff0c\u53ef\u4ee5\u662f\u6307\u9488\u7c7b\u578b\u6216\u975e\u6307\u9488\u7c7b\u578b</li> <li>\u65b9\u6cd5\u540d\u3001\u53c2\u6570\u5217\u8868\u3001\u8fd4\u56de\u53c2\u6570\uff1a\u5177\u4f53\u683c\u5f0f\u4e0e\u51fd\u6570\u5b9a\u4e49\u76f8\u540c</li> </ul> <pre><code>// Dog \u7ed3\u6784\u4f53\ntype Dog struct {\n    name string\n    age  int8\n}\n\n// NewDog \u6784\u9020\u51fd\u6570\nfunc NewDog(name string, age int8) *Dog {\n    return &amp;Dog{name, age}\n}\n\n// Run Dog\u5954\u8dd1\u7684\u65b9\u6cd5\n// \u9650\u5b9a\u4e86 Dog \u7ed3\u6784\u4f53\u7c7b\u578b\u624d\u53ef\u4ee5\u8c03\u7528\u6b64\u65b9\u6cd5\nfunc (d Dog) Run(distance int) {\n    fmt.Printf(\"%d \u5c81\u7684\u72d7\u72d7 %s \u8dd1\u4e86 %d \u7c73\\n\", d.age, d.name, distance)\n}\n\nfunc main() {\n    boby := NewDog(\"Boby\", 2)\n    boby.Run(100)\n    doge := Dog{\"Doge\", 3}\n    doge.Run(12)\n}\n\n// -------------------------------------------------\n// Output:\n2 \u5c81\u7684\u72d7\u72d7 Boby \u8dd1\u4e86 100 \u7c73\n3 \u5c81\u7684\u72d7\u72d7 Doge \u8dd1\u4e86 12 \u7c73\n</code></pre>"},{"location":"Go/Basic/Golang-10-%E7%BB%93%E6%9E%84%E4%BD%93/#_9","title":"\ud83e\udd77\u6307\u9488\u7c7b\u578b\u7684\u63a5\u6536\u8005","text":"<p>Note</p> <p>\u5982\u679c\u6307\u5b9a\u6307\u9488\u7c7b\u578b\u7684\u63a5\u6536\u8005\uff0c\u5728\u65b9\u6cd5\u5185\u4fee\u6539\u63a5\u6536\u8005\u7684\u6210\u5458\u53d8\u91cf\uff0c\u5219 \u7ed3\u675f\u65b9\u6cd5\u540e\u4fee\u6539\u4f9d\u7136\u6709\u6548\u3002</p> <p>\u4f8b\u5982\u6211\u4eec\u4e3a <code>Dog</code> \u6dfb\u52a0\u4e00\u4e2a <code>setAge</code> \u65b9\u6cd5\uff1a </p><pre><code>func (d *Dog) SetAge(newAge int8) {\n    d.age = newAge\n}\n\nfunc main() {\n    boby := NewDog(\"Boby\", 2)\n    fmt.Println(boby.age) // 2\n    boby.SetAge(10)\n    fmt.Println(boby.age) // 10\n}\n</code></pre><p></p>"},{"location":"Go/Basic/Golang-10-%E7%BB%93%E6%9E%84%E4%BD%93/#_10","title":"\ud83d\udc68\u200d\ud83d\udcbb\u503c\u7c7b\u578b\u7684\u63a5\u6536\u8005","text":"<p>Note</p> <p>\u5f53\u65b9\u6cd5\u4f5c\u7528\u4e8e\u503c\u7c7b\u578b\u63a5\u6536\u8005\u65f6\uff0cGo \u4f1a\u5728\u8fd0\u884c\u65f6\u5c06\u63a5\u6536\u8005\u7684\u503c\u590d\u5236\u4e00\u4efd\u3002\u4e0d\u8fc7 \u5728\u65b9\u6cd5\u5185\u5bf9\u63a5\u6536\u8005\u7684\u4fee\u6539\u53ea\u662f\u5bf9\u526f\u672c\u7684\u4fee\u6539\uff0c\u4e0d\u4f1a\u5f71\u54cd\u63a5\u6536\u8005\u3002</p> <p>\u4f46\u662f\u5728\u7f16\u8bd1\u5668\u4e2d\uff0c\u4e00\u4e2a\u7ed3\u6784\u4f53\u201c\u503c\u5b9e\u73b0\u201d\u4e86\u4e00\u4e2a\u65b9\u6cd5\uff0c\u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u5e2e\u4f60\u591a\u6765\u4e00\u6b21\u201c\u6307\u9488\u5b9e\u73b0\u201d\u3002</p> <p>\u5373\uff1a</p> <ul> <li>\u503c\u5b9e\u73b0 = \u503c\u5b9e\u73b0 + \u6307\u9488\u5b9e\u73b0\uff1b</li> <li>\u6307\u9488\u5b9e\u73b0 = \u6307\u9488\u5b9e\u73b0\u3002</li> </ul> <p>\u8fd9\u4e00\u70b9\u5728\u63a5\u53e3\u4e2d\u6709\u533a\u522b\u3002</p> <pre><code>func (d Dog) SetAge(newAge int8) {\n    d.age = newAge\n}\n\nfunc main() {\n    boby := NewDog(\"Boby\", 2)\n    fmt.Println(boby.age) // 2\n    boby.SetAge(10)\n    fmt.Println(boby.age) // 2\n}\n</code></pre>"},{"location":"Go/Basic/Golang-10-%E7%BB%93%E6%9E%84%E4%BD%93/#_11","title":"\u4e24\u79cd\u7c7b\u578b\u63a5\u6536\u8005\u7684\u5dee\u5f02","text":"<p>\ud83d\udc68\u200d\ud83d\udcbb\u503c\u63a5\u6536\u8005\u65b9\u6cd5\uff08Value receiver method\uff09\u548c\ud83e\udd77\u6307\u9488\u63a5\u6536\u8005\u65b9\u6cd5\uff08Pointer receiver method\uff09\uff0c\u90fd\u53ef\u4ee5\u88ab\u7ed3\u6784\u4f53\u53d8\u91cf\uff08struct variable\uff09\u6216\u7ed3\u6784\u4f53\u6307\u9488\uff08struct pointer\uff09\u8c03\u7528\u3002</p> <p>\ud83d\udc68\u200d\ud83d\udcbb\u503c\u63a5\u6536\u8005\u65b9\u6cd5\u4e2d\uff0c\u5bf9\u63a5\u6536\u8005\u7684\u4fee\u6539\uff0c\u274e \u4e0d\u4f1a \u5f71\u54cd\u8c03\u7528\u8005\u3002</p> <p>\ud83e\udd77\u6307\u9488\u63a5\u6536\u8005\u65b9\u6cd5\u4e2d\uff0c\u5bf9\u63a5\u6536\u8005\u7684\u4fee\u6539\uff0c\u2705 \u4f1a \u5f71\u54cd\u8c03\u7528\u8005\u3002</p> <pre><code>type A struct {\n    age int\n}\n\nfunc (a A) read() {\n    a.age = 50\n}\n\nfunc (a *A) write(n int) {\n    a.age = n\n}\n\nfunc main() {\n    aV := A{age: 10}\n    aP := &amp;A{age: 10}\n\n    aV.read()\n    fmt.Println(aV.age) // 10\n    aV.write(15)\n    fmt.Println(aV.age) // 15\n\n    aP.read()\n    fmt.Println(aP.age) // 10\n    aP.write(18)\n    fmt.Println(aP.age) // 18\n}\n</code></pre> <p>\u5728\u4e0a\u8ff0\u6817\u5b50\u4e2d\uff0c</p> <ul> <li> <p>aP \u662f\u7ed3\u6784\u4f53\u6307\u9488\uff0c\u5728 aP \u8c03\u7528\u503c\u65b9\u6cd5 <code>aP.read()</code> \u65f6\uff0c\u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u8f6c\u6362\u4e3a <code>(*aP).read()</code>\uff1b</p> </li> <li> <p>aV \u662f\u7ed3\u6784\u4f53\u53d8\u91cf\uff0c\u5728 aV \u8c03\u7528\u6307\u9488\u65b9\u6cd5 <code>aV.write()</code> \u65f6\uff0c\u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u8f6c\u6362\u4e3a <code>(&amp;aV).write(15)</code>\u3002</p> </li> </ul> \u503c\u63a5\u6536\u8005\u65b9\u6cd5 \u6307\u9488\u63a5\u6536\u8005\u65b9\u6cd5 \u7ed3\u6784\u4f53\u53d8\u91cf\u8c03\u7528\u8005 \u53ef\u4ee5\u8c03\u7528\uff0c\u7c7b\u4f3c\u4e8e\u4f20\u503c \u53ef\u4ee5\u8c03\u7528\uff0c\u76f8\u5f53\u4e8e <code>(&amp;aV).write(15)</code> \u7ed3\u6784\u4f53\u6307\u9488\u8c03\u7528\u8005 \u53ef\u4ee5\u8c03\u7528\uff0c\u76f8\u5f53\u4e8e <code>(*aP).read()</code> \u53ef\u4ee5\u8c03\u7528\uff0c\u7c7b\u4f3c\u4e0e\u4f20\u6307\u9488\uff0c\u6240\u4ee5\u4f1a\u5f71\u54cd\u8c03\u7528\u8005 \u4fee\u6539 \u4e0d\u5f71\u54cd\u8c03\u7528\u8005 \u5f71\u54cd\u8c03\u7528\u8005"},{"location":"Go/Basic/Golang-10-%E7%BB%93%E6%9E%84%E4%BD%93/#_12","title":"\u5982\u4f55\u9009\u62e9","text":"<p>\u8981\u770b\u7c7b\u578b\u7684\u672c\u8d28\u3002\u5982\u679c\u4e00\u4e2a\u7ed3\u6784\u4f53\u7c7b\u578b\u7684\u5b9e\u4f8b\uff0c\u5e94\u8be5\u662f\u72ec\u4e00\u4efd\u7684\uff0c\u90a3\u4e48\u5c31\u5e94\u8be5\u7528\u6307\u9488\u63a5\u6536\u8005\u65b9\u6cd5\u3002</p> <p>\u4f8b\u5982\uff0c\u6587\u4ef6\u7ed3\u6784\u4f53\u3002\u6bcf\u4e2a\u6587\u4ef6\u90fd\u662f\u72ec\u4e00\u4efd\u7684\uff0c\u5bf9\u5e94\u5730\uff0c\u6587\u4ef6\u7ed3\u6784\u4f53\u8fd4\u56de\u4e00\u4e2a\u6587\u4ef6\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u5e94\u8be5\u552f\u4e00\u7684\u4ee3\u8868\u8fd9\u4e2a\u6587\u4ef6\uff0c\u6240\u4ee5\u6587\u4ef6\u7ed3\u6784\u4f53\u7684\u65b9\u6cd5\u5e94\u8be5\u4f7f\u7528\u6307\u9488\u63a5\u6536\u8005\u65b9\u6cd5\u3002</p>"},{"location":"Go/Basic/Golang-10-%E7%BB%93%E6%9E%84%E4%BD%93/#_13","title":"\u4efb\u610f\u7c7b\u578b\u6dfb\u52a0\u65b9\u6cd5","text":"<p>\u5728 Go \u4e2d\uff0c\u63a5\u6536\u8005\u7c7b\u578b\u53ef\u4ee5\u662f\u4efb\u4f55\u7c7b\u578b\uff0c\u4e0d\u4ec5\u4ec5\u662f\u7ed3\u6784\u4f53\uff0c\u4efb\u4f55\u7c7b\u578b\u90fd\u53ef\u4ee5\u62e5\u6709\u65b9\u6cd5\u3002</p> <pre><code>type Status int    // \u81ea\u5b9a\u4e49\u7c7b\u578b\n\nfunc (s Status) say() {\n    fmt.Println(\"OK\")\n}\n\nfunc main() {\n    var s Status\n    s.say()\n}\n</code></pre> <p>\u6ce8\u610f\uff1a \u975e\u672c\u5730\u7c7b\u578b\u4e0d\u80fd\u5b9a\u4e49\u65b9\u6cd5\uff0c\u4e5f\u5c31\u662f\u8bf4\u6211\u4eec\u4e0d\u80fd\u7ed9\u522b\u7684\u5305\u7684\u7c7b\u578b\u5b9a\u4e49\u65b9\u6cd5\u3002</p>"},{"location":"Go/Basic/Golang-10-%E7%BB%93%E6%9E%84%E4%BD%93/#_14","title":"\u5185\u5b58\u5e03\u5c40","text":"<p>\u5728 Go \u4e2d\uff0c\u7ed3\u6784\u4f53\u548c\u5b83\u6240\u5305\u542b\u7684\u6570\u636e\u5728\u5185\u5b58\u4e2d\u662f\u4ee5\u8fde\u7eed\u5757\u7684\u5f62\u5f0f\u5b58\u5728\u7684\uff0c\u5373\u4f7f\u7ed3\u6784\u4f53\u4e2d\u5d4c\u5957\u4e86\u7ed3\u6784\u4f53\u4e5f\u4e00\u6837\u3002</p> <p></p><pre><code>type person struct {\n    name string\n    age  int8\n}\n\ntype stu1 struct {\n    ID     int8\n    info   person\n    depart string\n}\n\ntype stu2 struct {\n    ID     int8\n    info   *person\n    depart string\n}\n</code></pre> <p></p>"},{"location":"Go/Basic/Golang-10-%E7%BB%93%E6%9E%84%E4%BD%93/#_15","title":"\u533f\u540d\u5b57\u6bb5","text":"<p>Go \u4e2d\u7684\u7ed3\u6784\u4f53\u5141\u8bb8\u58f0\u660e\u65f6\u53ea\u6709\u7c7b\u578b\u800c\u6ca1\u6709\u540d\u5b57\uff0c\u8fd9\u6837\u7684\u5b57\u6bb5\u53eb\u505a\u533f\u540d\u5b57\u6bb5</p> <pre><code>type stu struct {\n    string\n    int8\n}\n\nfunc main() {\n    s1 := stu{\n        \"Boii\",\n        18,\n    }\n    fmt.Printf(\"%#v\\n\", s1)         // main.stu{string:\"Boii\", int8:18}\n    fmt.Println(s1.string, s1.int8) // Boii 18\n}\n</code></pre> <p>\u533f\u540d\u5b57\u6bb5\u9ed8\u8ba4\u91c7\u7528\u7c7b\u578b\u4f5c\u4e3a\u5b57\u6bb5\u540d\uff0c\u540c\u4e00\u4e2a\u7ed3\u6784\u4f53\u4e2d\u4e00\u79cd\u7c7b\u578b\u53ea\u80fd\u6709\u4e00\u4e2a\u533f\u540d\u5b57\u6bb5\u3002</p> <p>\u6240\u4ee5\u4e0a\u9762\u7684\u7ed3\u6784\u4f53\u7b49\u4ef7\u4e8e\uff1a </p><pre><code>type stu struct {\n    string string\n    int8   int8\n}\n</code></pre><p></p>"},{"location":"Go/Basic/Golang-10-%E7%BB%93%E6%9E%84%E4%BD%93/#_16","title":"\u5d4c\u5957\u7ed3\u6784\u4f53","text":"<p>\u5d4c\u5957\u7ed3\u6784\u4f53\uff0c\u7b80\u5355\u8bf4\u5c31\u662f\u5957\u5a03 </p><pre><code>type person struct {\n    name string\n    age  int8\n}\n\n// \u5a03\u5a032\ntype stu struct {\n    ID     int8\n    info   person  // \u5957\u5a03\u5a031\n    depart string\n}\n\nfunc main() {\n    stuA := stu{\n        ID: 101,\n        info: person{\n            \"Alice\",\n            18,\n        },\n        depart: \"CA\",\n    }\n    fmt.Printf(\"%#v\\n\", stuA) // main.stu{ID:1, info:main.person{name:\"Boii\", age:18}, depart:\"CA\"}\n}\n</code></pre><p></p> <p>\u5982\u679c\u7ed3\u6784\u4f53\u592a\u5927\uff0c\u62c5\u5fc3\u5f00\u9500\u7684\u8bdd\uff0c\u53ef\u4ee5\u7528\u7ed3\u6784\u4f53\u6307\u9488 </p><pre><code>// \u5a03\u5a031\ntype person struct {\n    name string\n    age  int8\n}\n\n// \u5a03\u5a032\ntype stu2 struct {\n    ID     int8\n    info   *person // \u5957\u5a03\u5a031\u7684\u6307\u9488\n    depart string\n}\n\nfunc main() {\n    stuB := stu2{\n        ID: 102,\n        info: &amp;person{\n            \"Boii\",\n            20,\n        },\n        depart: \"SE\",\n    }\n    fmt.Printf(\"%#v\\n\", stuB) // main.stu2{ID:1, info:(*main.person)(0xc0000044a0), depart:\"CA\"}\n}\n</code></pre><p></p> <p>\u7528\u7ed3\u6784\u4f53\u548c\u7ed3\u6784\u4f53\u6307\u9488\u7684\u5dee\u522b\u5982\u4e0b\u56fe\uff1a </p> <p>\u663e\u7136\u5f53\u7ed3\u6784\u4f53\u8f83\u5927\u7684\u65f6\u5019\uff0c\u4f7f\u7528\u7ed3\u6784\u4f53\u6307\u9488\u7684\u64cd\u4f5c\u5f00\u9500\u4f1a\u5f88\u5c0f\u3002</p>"},{"location":"Go/Basic/Golang-10-%E7%BB%93%E6%9E%84%E4%BD%93/#_17","title":"\u5d4c\u5957\u7ed3\u6784\u4f53\u7684\u533f\u540d\u5b57\u6bb5","text":"<pre><code>type addr struct {\n    province string\n    city     string\n}\n\ntype user struct {\n    name string\n    age  int8\n    addr // \u533f\u540d\u5b57\u6bb5\n}\n\nfunc main() {\n    var userA user\n    userA.name = \"Boii\"\n    userA.age = 18\n    userA.addr.province = \"GD\" // \u533f\u540d\u5b57\u6bb5\u9ed8\u8ba4\u4f7f\u7528\u7c7b\u578b\u540d\u4f5c\u4e3a\u5b57\u6bb5\u540d\n    userA.city = \"SWA\"         // \u533f\u540d\u5b57\u6bb5\u53ef\u4ee5\u7701\u7565\n\n    fmt.Printf(\"%#v \\n\", userA) // main.user{name:\"Boii\", age:18, addr:main.addr{province:\"GD\", city:\"SWA\"}}\n}\n</code></pre>"},{"location":"Go/Basic/Golang-10-%E7%BB%93%E6%9E%84%E4%BD%93/#_18","title":"\u5d4c\u5957\u7ed3\u6784\u4f53\u547d\u540d\u51b2\u7a81","text":"<p>\u5f53\u5d4c\u5957\u7ed3\u6784\u4f53\u51fa\u73b0\u547d\u540d\u51b2\u7a81\u7684\u65f6\u5019\uff0c\u53ea\u8981\u4e0d\u7701\u7565\uff0c\u628a\u5173\u7cfb\u94fe\u5199\u6e05\u695a\u5c31\u6ca1\u4e8b\u4e86\u3002</p> <pre><code>type addr struct {\n    province   string\n    city       string\n    createTime string    // \u547d\u540d\u51b2\u7a81\n}\n\ntype user struct {\n    name       string\n    age        int8\n    addr       // \u533f\u540d\u5b57\u6bb5\n    createTime string    // \u547d\u540d\u51b2\u7a81\n}\n\nfunc main() {\n    var userA user\n    userA.name = \"Boii\"\n    userA.age = 18\n    userA.addr.province = \"GD\"\n    userA.city = \"SWA\"\n    // \u547d\u540d\u51b2\u7a81\u5b57\u6bb5\n    userA.createTime = \"2020\"        // \u5173\u7cfb\u94fe\u5199\u6e05\u695a\n    userA.addr.createTime = \"2021\"   // \u5173\u7cfb\u94fe\u5199\u6e05\u695a\n\n    fmt.Printf(\"%#v \\n\", userA)\n    // main.user{name:\"Boii\", age:18, addr:main.addr{province:\"GD\", city:\"SWA\", createTime:\"2021\"}, createTime:\"2020\"}\n}\n</code></pre>"},{"location":"Go/Basic/Golang-10-%E7%BB%93%E6%9E%84%E4%BD%93/#_19","title":"\u7ed3\u6784\u4f53\u7684\u7ee7\u627f","text":"<p>\u5728\u9762\u5411\u5bf9\u8c61\u4e2d\uff0c\u7ee7\u627f\u6307\u7684\u662f\u5b50\u7c7b\u53ef\u4ee5\u62e5\u6709\u7236\u7c7b\u6240\u6709\u975e\u79c1\u6709\u5c5e\u6027\u548c\u65b9\u6cd5\u3002</p> <p>Go \u4e2d\u4f7f\u7528\u7ed3\u6784\u4f53\u5d4c\u5957\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00\u4e2d\u9762\u5411\u5bf9\u8c61\u7684\u7ee7\u627f\u3002 \u65b9\u6cd5\u662f\u901a\u8fc7\u5728 \"\u5b50\u7ed3\u6784\u4f53\" \u4e2d\u5d4c\u5957 \"\u7236\u7ed3\u6784\u4f53\" \uff0c\u8fd9\u6837 \"\u5b50\u7ed3\u6784\u4f53\" \u5c31\u62e5\u6709 \"\u7236\u7ed3\u6784\u4f53\" \u7684\u5c5e\u6027\u4e86</p> <p>\u7ed3\u5408\u4e0a\u9762 \u201c\u5d4c\u5957\u7ed3\u6784\u4f53\u7684\u533f\u540d\u5b57\u6bb5\u201d \u4e2d\u7684\u4f8b\u5b50\uff0c\u65e0\u547d\u540d\u51b2\u7a81\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>\u5b50\u7ed3\u6784\u4f53\u5b9e\u4f8b.\u7236\u7ed3\u6784\u4f53\u5c5e\u6027</code>\u8c03\u7528\u7684\u7279\u6027\uff0c\u53ef\u4ee5\u5f88\u5bb9\u6613\u7684\u7f16\u5199\u51fa\u9002\u5408 \"\u5b50\u7ed3\u6784\u4f53\" \u7684\u65b9\u6cd5\u3002</p> <pre><code>// animal \u52a8\u7269\ntype animal struct {\n    name string\n}\n\n// dog \u72d7\ntype dog struct {\n    variety string\n    *animal // \u5b50\u7ed3\u6784\u4f53\u5d4c\u5957\u7236\u7ed3\u6784\u4f53\u5b9e\u73b0\u7ee7\u627f\uff0c\u5fc5\u987b\u4f7f\u7528\u533f\u540d\u5b57\u6bb5\n}\n\nfunc (d *dog) bark() {\n    // dog \u6ca1\u6709 name \u5c5e\u6027\uff0c\u4f46\u662f\u5185\u5d4c\u7684 animal \u6709\n    fmt.Printf(\"%s \u6b63\u5728\u6c6a\u6c6a\u6c6a~\", d.name)\n}\n\nfunc main() {\n    doge := &amp;dog{\n        variety: \"Doge\",\n        animal: &amp;animal{ // \u6ce8\u610f\u5d4c\u5957\u7684\u662f\u7ed3\u6784\u4f53\u6307\u9488\n            name: \"Boby\",\n        },\n    }\n    doge.bark() // Boby \u6b63\u5728\u6c6a\u6c6a\u6c6a~\n}\n</code></pre>"},{"location":"Go/Basic/Golang-10-%E7%BB%93%E6%9E%84%E4%BD%93/#tag","title":"\u7ed3\u6784\u4f53\u6807\u7b7e Tag","text":"<p><code>Tag</code> \u662f\u7ed3\u6784\u4f53\u7684\u5143\u4fe1\u606f\uff0c\u53ef\u4ee5\u5728\u8fd0\u884c\u7684\u65f6\u5019\u901a\u8fc7\u53cd\u5c04\u673a\u5236\u8bfb\u53d6\u3002\u6240\u4ee5\u53ea\u6709\u9996\u5b57\u6bcd\u5927\u5199\u7684\u53ef\u88ab\u5bfc\u51fa\u7684\u53d8\u91cf\u80fd\u88ab\u53cd\u5c04\u8bfb\u53d6\uff0c\u8f6c\u6210JSON\u3002 <code>Tag</code> \u5728\u7ed3\u6784\u4f53\u5b57\u6bb5\u7684\u540e\u65b9\u5b9a\u4e49\uff0c\u7531\u4e00\u5bf9 \u53cd\u5f15\u53f7 \u5305\u8d77\u6765\u3002</p> <p>eg\uff1a </p><pre><code>type person struct {\n    Name string `json:\"name\"`\n}\n</code></pre><p></p> <ul> <li>\u4e00\u4e2a Tag \u7531\u4e00\u4e2a\u6216\u591a\u4e2a\u952e\u503c\u5bf9\u7ec4\u6210\u3002</li> <li>\u952e\u503c\u5bf9 \u4e4b\u95f4\u4f7f\u7528\u7a7a\u683c\u5206\u9694</li> <li>\u952e \u4e0e \u503c \u4e4b\u95f4\u4f7f\u7528\u5192\u53f7\u5206\u9694\uff0c\u4e0d\u80fd\u6709\u7a7a\u683c</li> <li>\u503c\u4f7f\u7528\u53cc\u5f15\u53f7\u62ec\u8d77\u6765\u3002</li> <li>\u503c\u4e3a <code>-</code> \u65f6\u8be5\u5b57\u6bb5\u4e0d\u4f1a\u88ab\u5e8f\u5217\u5316</li> </ul> <p>\u7f16\u5199 <code>Tag</code> \u65f6\u5fc5\u987b\u4e25\u683c\u9075\u5b88\u952e\u503c\u5bf9\u7684\u89c4\u5219\u3002\u7ed3\u6784\u4f53\u6807\u7b7e\u7684\u89e3\u6790\u5bb9\u9519\u80fd\u529b\u5f88\u5dee\uff0c\u5199\u9519\u4e86\u7f16\u8bd1\u671f\u548c\u8fd0\u884c\u671f\u90fd\u4e0d\u4f1a\u63d0\u793a\u4efb\u4f55\u9519\u8bef\uff0c\u53cd\u5c04\u4e5f\u65e0\u6cd5\u6b63\u786e\u53d6\u503c\u3002</p>"},{"location":"Go/Basic/Golang-10-%E7%BB%93%E6%9E%84%E4%BD%93/#_20","title":"\u7ed3\u6784\u4f53\u5e8f\u5217\u5316","text":"<p>\u5e8f\u5217\u5316\uff08struct -&gt; JSON\uff09\uff1a\u7ed3\u6784\u4f53\u5bf9\u8c61 \u8f6c\u6210 JSON\u683c\u5f0f\u5b57\u7b26\u4e32</p> <p>\u53cd\u5e8f\u5217\u5316\uff08JSON -&gt; struct\uff09\uff1aJSON\u683c\u5f0f\u5b57\u7b26\u4e32 \u8f6c\u6210 \u7ed3\u6784\u4f53\u5bf9\u8c61</p> <p>\u4f7f\u7528 <code>encoding/json</code> \u5b8c\u6210\u3002 </p><pre><code>import \"encoding/json\"\n</code></pre><p></p> <pre><code>// \u5e8f\u5217\u5316\u51fd\u6570\uff0cstruct -&gt; JSON\nfunc Marshal(v interface{}) ([]byte, error) {}\n\n// \u53cd\u5e8f\u5217\u5316\u51fd\u6570\uff0cJSON -&gt; struct\nfunc Unmarshal(data []byte, v interface{}) error {}\n</code></pre> <p>Example</p> <pre><code>package main\n\nimport (\n    \"encoding/json\"\n    \"fmt\"\n)\n\n// 1. \u5e8f\u5217\u5316 encode\uff1a\u628a\u7ed3\u6784\u4f53\u53d8\u91cf -&gt; json\u683c\u5f0f\u7684\u5b57\u7b26\u4e32\n// 2. \u53cd\u5e8f\u5217\u5316 decode\uff1ajson\u683c\u5f0f\u7684\u5b57\u7b26\u4e32 -&gt; \u7ed3\u6784\u4f53\u53d8\u91cf\n\ntype person struct {\n    Name string `json:\"name\" db:\"name\" ini:\"name\"`\n    Age  int    `json:\"age\"`\n    Sex  string\n    Addr string `json:\"-\"`    // value \u4e3a \"-\" \u65f6\u4e0d\u5e8f\u5217\u5316\n}\n\nfunc main() {\n    p1 := person{\"Boii\", 18, \"male\"}\n\n    /* \u5e8f\u5217\u5316 */\n    b, err := json.Marshal(p1)\n    if err != nil {\n        fmt.Println(err)\n    }\n    fmt.Println(string(b))          // {\"name\":\"Boii\",\"age\":18,\"Sex\":\"male\"}\n    fmt.Printf(\"%T \\n\", b)          // []uint8\n\n    /* \u53cd\u5e8f\u5217\u5316 */\n    str := `{\"name\":\"Eva\",\"age\":18}`\n    var p2 person\n    json.Unmarshal([]byte(str), &amp;p2)\n    fmt.Printf(\"%#v \\n\", p2)        // main.person{Name:\"Eva\", Age:18, Sex:\"\"}\n    fmt.Printf(\"%T \\n\", p2)         // main.person\n}\n</code></pre> <p>\u5e8f\u5217\u5316\u65f6\uff0ckey \u4f1a\u4f18\u5148\u9009\u62e9\u5b57\u6bb5\u7684 Tag \u4e2d\u6307\u5b9a\u7684 key</p> <p>Warning</p> <p>\u7ed3\u6784\u4f53\u4e2d\u975e public \u7684\u5b57\u6bb5\uff08\u9996\u5b57\u6bcd\u5c0f\u5199\u7684\u5b57\u6bb5\uff09\u4e0d\u4f1a\u88ab\u5e8f\u5217\u5316</p>"},{"location":"Go/Basic/Golang-10-%E7%BB%93%E6%9E%84%E4%BD%93/#_21","title":"\u7ed3\u6784\u4f53\u7684\u6df1\u6d45\u62f7\u8d1d","text":"<p>Note</p> <p>\u6df1\u62f7\u8d1d\uff1a\u5373 \u4e3a\u65b0\u7684\u5bf9\u8c61\u5206\u914d\u4e86\u5185\u5b58\uff0c\u5bf9\u65b0\u5bf9\u8c61\u7684\u4fee\u6539 \u274e \u4e0d\u4f1a \u5f71\u54cd\u65e7\u5bf9\u8c61</p> <p>\u6d45\u62f7\u8d1d\uff1a\u5373 \u590d\u5236\u4e86\u65e7\u5bf9\u8c61\u7684\u5730\u5740\uff0c\u5bf9\u65b0\u5bf9\u8c61\u7684\u4fee\u6539 \u2705 \u4f1a \u5f71\u54cd\u65e7\u5bf9\u8c61</p> <p>\u503c\u7c7b\u578b\u90fd\u662f\u6df1\u62f7\u8d1d</p> <p>\u5f15\u7528\u7c7b\u578b\u90fd\u662f\u6d45\u62f7\u8d1d</p> <p>\u770b\u61c2\u4ee5\u4e0a\u4e24\u53e5\u8bdd\uff0c\u7ed3\u6784\u4f53\u7684\u6df1\u6d45\u62f7\u8d1d\u5c31\u5f88\u5bb9\u6613\u5b9e\u73b0\u4e86</p> <p></p><pre><code>package main\n\nimport \"fmt\"\n\ntype Person struct {\n    name string\n    age  int\n}\n\nfunc main() {\n    // \u7ed3\u6784\u4f53\u7684\u6df1\u62f7\u8d1d\n    person1 := Person{\"Boii\", 18}\n    person2 := person1   // \u6df1\u62f7\u8d1d\n    fmt.Println(person1) // {Boii 18}\n    fmt.Println(person2) // {Boii 18}\n\n    person2.age = 20\n\n    fmt.Println(person1) // {Boii 18}\n    fmt.Println(person2) // {Boii 20}\n\n    // \u7ed3\u6784\u4f53\u7684\u6d45\u62f7\u8d1d\n    person3 := &amp;person1 // \u6d45\u62f7\u8d1d\n    person3.age = 20\n    fmt.Println(person1) // {Boii 20}\n    fmt.Println(person3) // &amp;{Boii 20}\n}\n</code></pre> \u7ed3\u6784\u4f53\u662f\u503c\u7c7b\u578b\uff0c\u76f4\u63a5\u8d4b\u503c\u7684\u65f6\u5019\u662f\u6df1\u62f7\u8d1d\uff0c\u8d4b\u503c\u4e00\u4e2a\u6307\u9488\u5219\u662f\u6d45\u62f7\u8d1d<p></p>"},{"location":"Go/Basic/Golang-11-%E5%8C%85/","title":"11.\u5305","text":""},{"location":"Go/Basic/Golang-11-%E5%8C%85/#11-","title":"11-\u5305","text":"<p>\u5728\u5de5\u7a0b\u5316\u7684Go\u8bed\u8a00\u5f00\u53d1\u9879\u76ee\u4e2d\uff0cGo\u8bed\u8a00\u7684\u6e90\u7801\u590d\u7528\u662f\u5efa\u7acb\u5728\u5305\uff08package\uff09\u57fa\u7840\u4e4b\u4e0a\u7684\u3002\u672c\u6587\u4ecb\u7ecd\u4e86Go\u8bed\u8a00\u4e2d\u5982\u4f55\u5b9a\u4e49\u5305\u3001\u5982\u4f55\u5bfc\u51fa\u5305\u7684\u5185\u5bb9\u53ca\u5982\u4f55\u5bfc\u5165\u5176\u4ed6\u5305\u3002</p> <p>\u5305\uff08package\uff09\u662f\u591a\u4e2a Go \u6e90\u7801\u7684\u96c6\u5408\uff0c\u662f\u4e00\u79cd\u9ad8\u7ea7\u7684\u4ee3\u7801\u590d\u7528\u65b9\u6848\uff0c\u4f8b\u5982 Go \u5c31\u63d0\u4f9b\u4e86\u5f88\u591a\u5185\u7f6e\u5305\uff0c\u5982<code>fmt</code>\u3001<code>os</code>\u3001<code>io</code>\u7b49\u3002</p>"},{"location":"Go/Basic/Golang-11-%E5%8C%85/#_1","title":"\u5b9a\u4e49\u5305","text":"<p>\u4e00\u4e2a\u5305\u53ef\u4ee5\u7b80\u5355\u7406\u89e3\u4e3a\u4e00\u4e2a\u5b58\u653e <code>.go</code> \u6587\u4ef6\u7684\u76ee\u5f55\u3002 \u8be5\u76ee\u5f55\u4e0b\u9762\u6240\u6709\u7684go\u6587\u4ef6\u90fd\u8981\u518d\u4ee3\u7801\u7b2c\u4e00\u884c\u6dfb\u52a0 <code>package \u5305\u540d</code>\uff0c\u58f0\u660e\u8be5\u6587\u4ef6\u5f52\u5c5e\u7684\u5305\u3002</p> <p>\u6ce8\u610f</p> <ol> <li>\u4e00\u4e2a\u76ee\u5f55\u4e0b\u9762\u76f4\u63a5\u5305\u542b\u7684\u6587\u4ef6\u53ea\u80fd\u5f52\u5c5e\u4e00\u4e2a <code>package</code></li> <li>\u540c\u4e00\u4e2a <code>package</code> \u7684\u6587\u4ef6\u4e0d\u80fd\u653e\u5728\u591a\u4e2a\u76ee\u5f55\u4e0b</li> <li>\u5305\u540d\u53ef\u4ee5\u4e0d\u548c\u76ee\u5f55\u540d\u4e00\u6837\uff0c\u4f46\u4e0d\u80fd\u5305\u542b <code>-</code> \u7b26\u53f7</li> <li><code>main \u5305</code> \u4e3a\u7a0b\u5e8f\u7684\u5165\u53e3\u5305\uff0c\u8fd9\u79cd\u5305\u7f16\u8bd1\u540e\u4f1a\u5f97\u5230\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6</li> <li>\u7f16\u8bd1\u4e0d\u542b <code>main \u5305</code> \u7684\u6e90\u4ee3\u7801\u4e0d\u4f1a\u5f97\u5230\u53ef\u6267\u884c\u6587\u4ef6</li> </ol> <pre><code>demo\n\u251c\u2500\u2500 utils\n\u2502   \u251c\u2500\u2500 calc.go     // package utils\n\u2502   \u2514\u2500\u2500 data.go     // package utils\n\u251c\u2500\u2500 log\n\u2502   \u251c\u2500\u2500 debug.go    // package log\n\u2502   \u2514\u2500\u2500 info.go     // package log\n\u251c\u2500\u2500 main.go    // package main\n\u2514\u2500\u2500 test.go    // package main\n</code></pre>"},{"location":"Go/Basic/Golang-11-%E5%8C%85/#_2","title":"\u53ef\u89c1\u6027","text":"<p>\u5728\u4e00\u4e2a\u5305\u4e2d\u5f15\u7528\u53e6\u5916\u4e00\u4e2a\u5305\u91cc\u7684\u6807\u8bc6\u7b26\uff08\u53d8\u91cf\u3001\u51fd\u6570\u3001\u7c7b\u578b\u7b49\uff09\uff0c\u8be5\u6807\u8bc6\u7b26\u5fc5\u987b\u662f\u5bf9\u5916\u53ef\u89c1\u7684\uff0c\u5373\u9996\u5b57\u6bcd\u5927\u5199\u7684\u3002</p> <pre><code>package model\n\nimport \"fmt\"\n\nvar a = 100             // \u9996\u5b57\u6bcd\u5c0f\u5199\uff0c\u5916\u90e8\u5305\u4e0d\u53ef\u89c1\uff0c\u53ea\u80fd\u5728\u5f53\u524d\u5305\u5185\u4f7f\u7528\n\nconst PI = 3.14         // \u9996\u5b57\u6bcd\u5927\u5199\uff0c\u5916\u90e8\u5305\u53ef\u89c1\uff0c\u53ef\u5728\u5176\u4ed6\u5305\u4e2d\u4f7f\u7528\n\ntype person struct {    // \u9996\u5b57\u6bcd\u5c0f\u5199\uff0c\u5916\u90e8\u5305\u4e0d\u53ef\u89c1\uff0c\u53ea\u80fd\u5728\u5f53\u524d\u5305\u5185\u4f7f\u7528\n    Name string         // \u9996\u5b57\u6bcd\u5927\u5199\uff0c\u5916\u90e8\u5305\u53ef\u89c1\uff0c\u53ef\u5728\u5176\u4ed6\u5305\u4e2d\u4f7f\u7528\n    age  int8           // \u4ec5\u9650\u5305\u5185\u8bbf\u95ee\u7684\u5b57\u6bb5\n}\n\ntype Payer interface {  // \u9996\u5b57\u6bcd\u5927\u5199\uff0c\u5916\u90e8\u5305\u53ef\u89c1\uff0c\u53ef\u5728\u5176\u4ed6\u5305\u4e2d\u4f7f\u7528\n    init()              // \u4ec5\u9650\u5305\u5185\u8bbf\u95ee\u7684\u65b9\u6cd5\n    Pay()               // \u53ef\u5728\u4fdd\u5916\u8bbf\u95ee\u7684\u65b9\u6cd5\n}\n\nfunc Add(x, y int) int { // \u9996\u5b57\u6bcd\u5927\u5199\uff0c\u5916\u90e8\u5305\u53ef\u89c1\uff0c\u53ef\u5728\u5176\u4ed6\u5305\u4e2d\u4f7f\u7528\n    return x + y\n}\n\nfunc age() {             // \u9996\u5b57\u6bcd\u5c0f\u5199\uff0c\u5916\u90e8\u5305\u4e0d\u53ef\u89c1\uff0c\u53ea\u80fd\u5728\u5f53\u524d\u5305\u5185\u4f7f\u7528\n    var Age = 18         // \u51fd\u6570\u5c40\u90e8\u53d8\u91cf\uff0c\u5916\u90e8\u5305\u4e0d\u53ef\u89c1\uff0c\u53ea\u80fd\u5728\u5f53\u524d\u51fd\u6570\u5185\u4f7f\u7528\n    fmt.Println(age)\n}\n</code></pre>"},{"location":"Go/Basic/Golang-11-%E5%8C%85/#_3","title":"\u5bfc\u5165\u5305","text":"<pre><code>import \"\u5305\u7684\u8def\u5f84\"\n</code></pre> <p>\u6ce8\u610f</p> <ol> <li>import \u8bed\u53e5\u901a\u5e38\u653e\u5728\u6587\u4ef6\u5f00\u5934\u3001\u5305\u58f0\u660e\u8bed\u53e5\u4e0b\u9762\u3002</li> <li>\u5305\u7684\u8def\u5f84\u9700\u8981\u53cc\u5f15\u53f7\u62ec\u8d77\u6765</li> <li>\u5305\u540d\u662f\u4ece <code>$GOPATH/src/</code> \u540e\u9762\u5f00\u59cb\u8ba1\u7b97\u7684\uff0c\u4f7f\u7528 <code>/</code> \u5206\u5272\u8def\u5f84\uff0c\u8fd9\u662f\u7edd\u5bf9\u8def\u5f84\uff1b\u4e5f\u53ef\u4ee5\u4f7f\u7528\u76f8\u5bf9\u8def\u5f84</li> <li>\u7981\u6b62\u4e92\u76f8\u5bfc\u5305</li> </ol>"},{"location":"Go/Basic/Golang-11-%E5%8C%85/#_4","title":"\u5355\u884c\u5bfc\u5165","text":"<pre><code>import \"\u53051\"\nimport \"\u53052\"\n</code></pre>"},{"location":"Go/Basic/Golang-11-%E5%8C%85/#_5","title":"\u591a\u884c\u5bfc\u5165","text":"<pre><code>import (\n    \"\u53051\"\n    \"\u53052\"\n)\n</code></pre>"},{"location":"Go/Basic/Golang-11-%E5%8C%85/#go-module","title":"GO MODULE \u6a21\u5f0f\u4e0b\u5bfc\u5165\u81ea\u5df1\u7684\u5305","text":"<p>\u4f7f\u7528 Go Module \u6a21\u5f0f\u7ba1\u7406\u5305\u65f6\uff0c\u5982\u679c\u60f3\u5bfc\u5165\u81ea\u5df1\u5199\u7684\u5305\uff0c\u8def\u5f84\u5e94\u4e3a <code>module\u540d/\u8def\u5f84...</code></p> <p>eg\uff1a</p> <pre><code>\u251c\u2500\u2500 go.mod     // module Stack\n\u251c\u2500\u2500 main.go    // package main\n\u2514\u2500\u2500 seqStack\n    \u2514\u2500\u2500 SeqStack.go    // package seqStack\n</code></pre> <p>\u4ece\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u5f00\u59cb\uff0c\u6709\u4e00\u4e2a <code>main.go</code> \u6587\u4ef6\uff0c\u8fd8\u6709\u4e00\u4e2a\u5b50\u5305 <code>seqStack</code>\u3002 \u73b0\u5728\u6211\u60f3\u5728 <code>main.go</code> \u4e2d\u4f7f\u7528 <code>SeqStack.go</code> \u4e2d\u7684\u51fd\u6570\uff0c\u9700\u8981\u5728 <code>main.go</code> \u4e2d\u5bfc\u5165 <code>seqStack</code> \u8fd9\u4e2a\u5305\u3002</p> <p>\u5206\u4e3a\u4ee5\u4e0b\u4e09\u6b65\uff1a</p> <ol> <li>\u5728 <code>go.mod</code> \u4e2d\u5199\u4e0b\uff1a</li> </ol> <p></p><pre><code>module Stack    // \u58f0\u660e module \u540d\n\ngo 1.16\n\n...\n</code></pre> 2. \u5728 <code>SeqStack.go</code> \u4e2d\u58f0\u660e\uff1a<p></p> <pre><code>package seqStack    // \u58f0\u660e\u5b50\u5305\u540d\n\n...\n</code></pre> <ol> <li>\u5728 <code>main.go</code> \u4e2d\u5bfc\u5165\uff1a</li> </ol> <pre><code>package main    // \u58f0\u660e main \u5305\n\nimport \"Stack/seqStack\"    // \u6b63\u786e\u5bfc\u5165\n\n...\n</code></pre>"},{"location":"Go/Basic/Golang-11-%E5%8C%85/#_6","title":"\u522b\u540d","text":"<p>\u5bfc\u5305\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u7ed9\u5305\u8bbe\u7f6e\u522b\u540d\u3002\u5e38\u7528\u4e8e\u5904\u7406\u5305\u540d\u592a\u957f\u6216\u5305\u540d\u51b2\u7a81\u7684\u60c5\u51b5\u3002 </p><pre><code>import \u522b\u540d \"\u5305\u7684\u8def\u5f84\"\n</code></pre><p></p>"},{"location":"Go/Basic/Golang-11-%E5%8C%85/#_7","title":"\u5355\u884c","text":"<pre><code>import \"fmt\"\nimport t \"tcp404.com/study/go/test\"\n\nfunc main() {\n    fmt.Println(t.Add(10, 20))\n}\n</code></pre>"},{"location":"Go/Basic/Golang-11-%E5%8C%85/#_8","title":"\u591a\u884c","text":"<pre><code>import (\n    . \"fmt\"    // \u4f7f\u7528 . \u4f5c\u4e3a\u522b\u540d\uff0c\u5219\u4f7f\u7528\u65f6\u53ef\u4ee5\u7701\u7565\u5305\u540d\n    t \"tcp404.com/study/go/test\"\n)\n\nfunc main() {\n    Println(t.Add(10, 20))\n}\n</code></pre>"},{"location":"Go/Basic/Golang-11-%E5%8C%85/#_9","title":"\u7701\u7565\u5305\u540d","text":"<p>\u5728\u7ed9\u5305\u8d77\u522b\u540d\u7684\u65f6\u5019\uff0c\u522b\u540d\u4e3a <code>.</code> \uff0c\u5728\u540e\u9762\u4f7f\u7528\u65f6\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u5305\u4e2d\u7684\u53d8\u91cf\u548c\u65b9\u6cd5\u7b49\uff0c\u4e0d\u9700\u8981\u52a0\u5305\u540d\u3002</p> <pre><code>import . \"fmt\"\n\nfunc main() {\n    Println(\"Hello!\")\n}\n</code></pre>"},{"location":"Go/Basic/Golang-11-%E5%8C%85/#init","title":"init() \u521d\u59cb\u5316\u51fd\u6570","text":"<p>Note</p> <ul> <li>Go \u5728\u6267\u884c\u5bfc\u5305\u4e4b\u524d\uff0c\u4f1a\u81ea\u52a8\u89e6\u53d1\u5305\u5185\u7684 <code>init()</code> \u51fd\u6570\u7684\u8c03\u7528\u3002</li> <li><code>init()</code> \u6ca1\u6709\u53c2\u6570\u4e5f\u6ca1\u6709\u8fd4\u56de\u503c\uff0c\u81ea\u52a8\u88ab\u8c03\u7528\uff0c\u4e0d\u80fd\u4e3b\u52a8\u8c03\u7528\uff0c<code>main()</code> \u4e5f\u662f\u3002</li> <li>\u4e00\u4e2a\u5305\u5185\u7684<code>init()</code> \u53ef\u4ee5\u6709\u591a\u4e2a\uff0c<code>main()</code> \u53ea\u80fd\u6709\u4e00\u4e2a\u3002</li> <li>\u4e00\u4e2a\u5305\u53ef\u4ee5\u88ab\u591a\u4e2a\u5305\u5bfc\u5165\uff0c\u4f46\u662f <code>init()</code> \u53ea\u4f1a\u6267\u884c\u4e00\u6b21\u3002</li> <li>\u5305\u5185\u591a\u4e2a <code>init()</code> \u7684\u6267\u884c\u987a\u5e8f\u4e0d\u56fa\u5b9a\uff0c\u76ee\u524d\uff08Go 1.16.5\uff09\u662f\u6309\u7167\u6587\u4ef6\u540d\u5347\u5e8f\uff0ca\u6700\u5148\u6267\u884c\uff0cz\u6700\u540e\u6267\u884c\u3002</li> </ul> <p>\u6bcf\u4e2a <code>.go</code> \u6587\u4ef6\u90fd\u53ef\u4ee5\u6709\u81ea\u5df1\u7684 <code>init()</code> \uff0c</p> <pre><code>package main\n\nimport \"fmt\"\n\n// \u5168\u5c40\u53d8\u91cf\nvar age int8 = 18\nconst E = 2.78\n\n// init\u51fd\u6570\nfunc init() {\n    fmt.Println(E)\n}\n\n// main\u51fd\u6570\nfunc main() {\n    fmt.Println(\"Hello World\")\n}\n</code></pre> <p>\u4e00\u4e2a\u5305\u4e2d\u7684\u6267\u884c\u987a\u5e8f\u4e3a\uff1a</p> <p>1. \u5168\u5c40\u58f0\u660e(const -&gt; var) -&gt; 2. init() -&gt; 3. main()</p> <p>\u591a\u4e2a\u5305\u6709\u5bfc\u5165\u5173\u7cfb\u65f6\uff0cinit() \u6267\u884c\u987a\u5e8f\uff1a\u4ecemain \u5305\u5f00\u59cb\uff0c\u6309\u7167 main \u5305\u7684 import \u7684\u987a\u5e8f \u5e7f\u5ea6\u4f18\u5148 \u4e00\u5c42\u5c42\u5f80\u4e0b\u627e </p>"},{"location":"Go/Basic/Golang-11-%E5%8C%85/#_10","title":"\u533f\u540d\u5bfc\u5305","text":"<p>\u6709\u65f6\u5019\u53ea\u60f3\u5bfc\u5165\u4e00\u4e2a\u5305\u6267\u884c\u4e00\u4e0b\u5b83\u7684 <code>init()</code> \u51fd\u6570\uff0c\u5e76\u4e0d\u4f7f\u7528\u5305\u91cc\u7684\u4e1c\u897f\uff0c\u53ef\u4ee5\u4f7f\u7528\u533f\u540d\u5bfc\u5305\u3002 </p><pre><code>import _ \"\u5305\u7684\u8def\u5f84\"\n</code></pre> \u533f\u540d\u5bfc\u5165\u7684\u5305\u4e0e\u5176\u4ed6\u65b9\u5f0f\u5bfc\u5165\u7684\u5305\u4e00\u6837\u90fd\u4f1a\u88ab\u7f16\u8bd1\u5230\u53ef\u6267\u884c\u6587\u4ef6\u4e2d\u3002<p></p>"},{"location":"Go/Basic/Golang-12-%E6%8E%A5%E5%8F%A3/","title":"12.\u63a5\u53e3","text":""},{"location":"Go/Basic/Golang-12-%E6%8E%A5%E5%8F%A3/#12-","title":"12-\u63a5\u53e3","text":"<p>Go \u4e2d\u7684\u63a5\u53e3 <code>interface</code>\u662f\u4e00\u79cd\u7c7b\u578b\uff0c\u4e00\u79cd\u62bd\u8c61\u7684\u7c7b\u578b\u3002</p> <p><code>interface</code> \u662f\u4e00\u7ec4\u65b9\u6cd5\u7684\u96c6\u5408\uff0c\u662f <code>duck-type programming</code> \u7684\u4e00\u79cd\u4f53\u73b0\u3002 \u63a5\u53e3\u505a\u7684\u4e8b\u60c5\u5c31\u50cf\u662f\u5b9a\u4e49\u4e00\u4e2a\u534f\u8bae\uff08\u89c4\u5219\uff09\uff0c\u53ea\u8981\u4e00\u53f0\u673a\u5668\u5177\u6709\u6d17\u8863\u670d\u548c\u7529\u5e72\u7684\u529f\u80fd\uff0c\u6211\u5c31\u79f0\u5176\u4e3a\u6d17\u8863\u673a\u3002 \u63a5\u53e3\u4e0d\u5173\u5fc3\u5c5e\u6027\uff08\u6570\u636e\uff09\uff0c\u53ea\u5173\u5fc3\u884c\u4e3a\uff08\u65b9\u6cd5\uff09\u3002</p> <p>\u53ea\u8981\u4e00\u4e2a\u7ed3\u6784\u4f53 X \u5b9e\u73b0\u4e86\u63a5\u53e3 A \u4e2d\u6240\u6709\u7684\u65b9\u6cd5\uff0c\u5c31\u79f0\u8fd9\u4e2a\u7ed3\u6784\u4f53 X \u4e3a\u63a5\u53e3 A \u7684\u5b9e\u73b0\u7c7b\uff0c\u79f0\u7ed3\u6784\u4f53 X \u5b9e\u73b0\u4e86\u63a5\u53e3 A\u3002\u8fd8\u53ef\u79f0\u7ed3\u6784\u4f53 X \u662f A \u7c7b\u578b\u3002</p> <p>Warning</p> <p>\u4e3a\u4e86\u4fdd\u62a4\u4f60\u7684Go\u8bed\u8a00\u804c\u4e1a\u751f\u6daf\uff0c\u8bf7\u7262\u8bb0\u63a5\u53e3\uff08interface\uff09\u662f\u4e00\u79cd\u7c7b\u578b\u3002</p>"},{"location":"Go/Basic/Golang-12-%E6%8E%A5%E5%8F%A3/#_1","title":"\u5b9a\u4e49\u63a5\u53e3","text":"<p>\u57fa\u672c\u8bed\u6cd5\u5982\u4e0b\uff1a</p> <p></p><pre><code>type identifier interface {\n    methodName1([param])[(return)]\n    methodName2([param])[(return)]\n    methodName3([param])[(return)]\n    ...\n}\n</code></pre> <code>identifier</code>\uff1a\u63a5\u53e3\u540d\uff0c\u547d\u540d\u65f6\u6309\u7167\u89c4\u8303\u5e94\u8be5\u52a0\u4e0a <code>er</code>\uff0c\u5982 \u6709\u5b57\u7b26\u4e32\u529f\u80fd\u7684 <code>Stringer</code>\u3001\u6709\u8bfb\u53d6\u529f\u80fd\u7684 <code>Reader</code>\u3002<p></p> <p><code>methodName</code>\uff1a\u65b9\u6cd5\u540d</p> <p><code>param</code>: \u65b9\u6cd5\u53c2\u6570\uff0c\u975e\u5fc5\u586b</p> <p><code>return</code>: \u65b9\u6cd5\u8fd4\u56de\u503c\uff0c\u975e\u5fc5\u586b</p> <p>Example</p> <pre><code>type USBer interface {\n    start()\n    end()\n}\n</code></pre>"},{"location":"Go/Basic/Golang-12-%E6%8E%A5%E5%8F%A3/#_2","title":"\u5b9e\u73b0\u63a5\u53e3","text":"<pre><code>// \u5b9a\u4e49\u4e00\u4e2a\u63a5\u53e3\ntype USBer interface {\n    start()\n    end()\n}\n// \u5b9a\u4e49\u4e00\u4e2a\u7ed3\u6784\u4f53\ntype Mouse struct {\n    name  string\n}\n\n// \u5b9e\u73b0\u4e24\u4e2a\u63a5\u53e3\u4e2d\u7684\u65b9\u6cd5\uff0c\u63a5\u6536\u8005\u4e3a\u7ed3\u6784\u4f53 Mouse\uff0c\u8fd9\u6837 Mouse \u5c31\u662f\u4e00\u4e2a\u5b9e\u73b0\u7c7b\nfunc (m Mouse) start() {\n    fmt.Println(m.name, \"starts working.\")\n}\n\nfunc (m Mouse) end() {\n    fmt.Println(m.name, \"end working.\")\n}\n</code></pre> <p>\u7ed3\u6784\u4f53 <code>Mouse</code> \u5b9e\u73b0\u4e86 <code>USBer</code> \u7684\u6240\u6709\u65b9\u6cd5 <code>start()</code> \u548c <code>end()</code>\uff0c\u6240\u4ee5 <code>Mouse</code> \u5c31\u662f <code>USBer</code> \u7684\u4e00\u4e2a\u5b9e\u73b0\u7c7b\u3002</p>"},{"location":"Go/Basic/Golang-12-%E6%8E%A5%E5%8F%A3/#_3","title":"\u4f7f\u7528\u63a5\u53e3","text":"<p>\u5b9e\u73b0\u4e86\u63a5\u53e3\u7684\u7ed3\u6784\u4f53\uff08\u5b9e\u73b0\u7c7b\uff09\u548c\u6ca1\u5b9e\u73b0\u63a5\u53e3\u7684\u7ed3\u6784\u4f53\uff0c\u533a\u522b\u5728\u4e8e \u5f53\u4e00\u4e2a\u51fd\u6570\u9700\u8981\u4f20\u9012\u4e00\u4e2a\u63a5\u53e3\u7c7b\u578b\u7684\u53c2\u6570\u65f6\uff0c\u53ef\u4ee5\u4f20\u9012\u4e00\u4e2a\u63a5\u53e3\u53d8\u91cf\u8fdb\u53bb\uff0c\u4e5f\u53ef\u4ee5\u4f20\u4e00\u4e2a\u5b9e\u73b0\u7c7b\u5bf9\u8c61\u8fdb\u53bb\u3002</p> <pre><code>func test(usb USBer) {    // \u9700\u8981\u4f20\u9012\u4e00\u4e2a\u63a5\u53e3\u7c7b\u578b\u7684\u53c2\u6570\n    usb.start()\n    usb.end()\n}\n\nfunc main() {\n    m1 := Mouse{\"\u7f57\u6280\"}\n    test(m1)    // \u4f20\u9012\u4e00\u4e2a\u5b9e\u73b0\u7c7b\u5bf9\u8c61\n\n    var u1 USBer = m1\n    test(u1)    // \u4f20\u9012\u4e00\u4e2a\u63a5\u53e3\u53d8\u91cf\n}\n</code></pre> <p>Warning</p> <p>\u6ce8\u610f\uff0c \u63a5\u53e3\u53d8\u91cf\u4f7f\u7528\u4e4b\u524d\uff0c\u9700\u8981\u5148\u8d4b\u4e00\u4e2a\u5b9e\u73b0\u7c7b\u5bf9\u8c61\u3002 \u63a5\u53e3\u53d8\u91cf\u53ef\u4ee5\u8c03\u7528\u63a5\u53e3\u4e2d\u7684\u65b9\u6cd5\uff0c\u4f46\u4e0d\u53ef\u4ee5\u8c03\u7528\u5b9e\u73b0\u7c7b\u7684\u5c5e\u6027\u548c\u65b9\u6cd5</p> <pre><code>package main\n\nimport \"fmt\"\n\n// \u5b9a\u4e49\u4e00\u4e2a\u63a5\u53e3\ntype iUSBer interface {\n    start()\n    end()\n}\n// \u5b9a\u4e49\u4e00\u4e2a\u7ed3\u6784\u4f53\ntype Mouse struct {\n    name  string\n}\n\n// \u5b9e\u73b0\u4e24\u4e2a\u63a5\u53e3\u4e2d\u7684\u65b9\u6cd5\uff0c\u63a5\u6536\u8005\u4e3a\u7ed3\u6784\u4f53 Mouse\uff0c\u8fd9\u6837 Mouse \u5c31\u662f\u4e00\u4e2a\u5b9e\u73b0\u7c7b\nfunc (m Mouse) start() {\n    fmt.Println(m.name, \"starts working.\")\n}\n\nfunc (m Mouse) end() {\n    fmt.Println(m.name, \"end working.\")\n}\n\n// \u5b9a\u4e49\u7ed3\u6784\u4f53 Mouse \u81ea\u5df1\u7684\u65b9\u6cd5\nfunc (m Mouse) selfMethod() {\n    fmt.Println(m.name, \"selfMethod\")\n}\n\n// \u5b9a\u4e49\u4e00\u4e2a\u6d4b\u8bd5\u65b9\u6cd5\uff0c\u9700\u8981\u63a5\u6536\u4e00\u4e2a USB \u63a5\u53e3\u53d8\u91cf\u3002\u53ef\u4ee5\u4f20\u9012 USB \u53d8\u91cf\uff0c\u4e5f\u53ef\u4ee5\u4f20\u9012 USB \u5b9e\u73b0\u7c7b\u7684\u5bf9\u8c61\nfunc test(usb iUSBer) {    // \u9700\u8981\u4f20\u9012\u4e00\u4e2a\u63a5\u53e3\u7c7b\u578b\u7684\u53c2\u6570\n    usb.start()\n    usb.end()\n}\n\nfunc main() {\n    m1 := Mouse{\"\u7f57\u6280\"}\n    // Mouse\u662f\u4e00\u4e2a\u5b9e\u73b0\u7c7b\uff0c\u53ef\u4ee5\u4f20\u9012\u5b9e\u73b0\u7c7b\u5bf9\u8c61\u7ed9 test()\n    test(m1)\n\n    // \u63a5\u53e3\u53d8\u91cf\u4f7f\u7528\u4e4b\u524d\u8981\u5148\u8d4b\u4e00\u4e2a\u5b9e\u73b0\u7c7b\u5bf9\u8c61\n    var u1 iUSBer = m1\n    // \u4f20\u9012\u4e00\u4e2a\u63a5\u53e3\u53d8\u91cf\u7ed9 test()\n    test(u1)\n\n    m1.start()           // \u7f57\u6280 starts working.\n    m1.end()             // \u7f57\u6280 end working.\n    m1.selfMethod()      // \u7f57\u6280 selfMethod\n\n    u1.start()           // \u7f57\u6280 starts working.\n    u1.end()             // \u7f57\u6280 end working.\n\n    // u1.selfMethod()   // \u9519\u8bef\uff0c\u63a5\u53e3\u53d8\u91cf\u4e0d\u53ef\u4ee5\u8c03\u7528\u5b9e\u73b0\u7c7b\u7684\u65b9\u6cd5\n    // u1.name           // \u9519\u8bef\uff0c\u63a5\u53e3\u53d8\u91cf\u4e0d\u53ef\u4ee5\u8c03\u7528\u5b9e\u73b0\u7c7b\u7684\u5c5e\u6027\n}\n</code></pre>"},{"location":"Go/Basic/Golang-12-%E6%8E%A5%E5%8F%A3/#_4","title":"\u7a7a\u63a5\u53e3","text":"<p>\u4e0d\u5305\u542b\u4efb\u4f55\u65b9\u6cd5\u7684\u63a5\u53e3\uff0c\u79f0\u4e3a\u7a7a\u63a5\u53e3\u3002 \u6211\u4eec\u53ef\u4ee5\u8ba4\u4e3a \u4efb\u610f\u7c7b\u578b\u90fd\u5b9e\u73b0\u4e86\u7a7a\u63a5\u53e3</p> <pre><code>interface {}\n\ntype T interface {}\n</code></pre> <p>eg\uff1a </p><pre><code>type T interface{}\n\ntype person struct {\n    name string\n}\n\nvar t1 T = person{\"Boii\"}\nvar t2 T = \"str\"\nvar t3 T = 100\nvar t4 T = []int{1, 2, 3}\n\nfmt.Println(t1)    // {Boii}\nfmt.Println(t2)    // str\nfmt.Println(t3)    // 100\nfmt.Println(t4)    // [1 2 3]\n</code></pre><p></p> <p>Info</p> <p>\u7a7a\u63a5\u53e3\u7684\u4f5c\u7528\u5728\u4e8e \u4efb\u610f\u7c7b\u578b\u3002 \u5f53\u6211\u4eec\u60f3\u8981\u63a5\u53d7\u4e00\u4e2a\u4efb\u610f\u7c7b\u578b\u7684\u53c2\u6570\uff0c\u6216\u8005\u5b9a\u4e49\u4e00\u4e2a\u63a5\u6536\u4efb\u610f\u7c7b\u578b\u7684\u5bb9\u5668\uff0c\u90fd\u53ef\u4ee5\u4f7f\u7528\u7a7a\u63a5\u53e3\u6765\u4ee3\u66ff\u3002</p> <pre><code>func test (a interface{}) {\n    ...\n}\n\ntest(\"string\")\ntest(123)\ntest([]int{1, 2, 3, 4})\n</code></pre> <pre><code>a := []interface{}{1, 3, \"str\", true}\nfmt.Println(a)    // {1 3 str true}\n\ntype T interface{}\nb := []T{1, 3, \"str\", true}\nfmt.Println(b)    // {1 3 str true}\n</code></pre>"},{"location":"Go/Basic/Golang-12-%E6%8E%A5%E5%8F%A3/#_5","title":"\u63a5\u53e3\u5d4c\u5957","text":"<p>\u63a5\u53e3\u4e2d\u4e0d\u4ec5\u53ef\u4ee5\u5b9a\u4e49\u65b9\u6cd5\u7b7e\u540d\uff0c\u8fd8\u53ef\u4ee5\u5b9a\u4e49\u5176\u4ed6\u7684\u63a5\u53e3\u3002\u8fd9\u79cd\u65b9\u5f0f\u6211\u4eec\u79f0\u4e3a \u63a5\u53e3\u5d4c\u5957\u3002</p> <p></p><pre><code>// \u63a5\u53e3A\ntype A interface {\n    method1()\n}\n\n// \u63a5\u53e3B\ntype B interface {\n    method2()\n}\n\n// \u63a5\u53e3C\uff0c\u5d4c\u5957\u4e86\u63a5\u53e3 A \u548c B\ntype C interface {\n    A\n    B\n    method3()\n}\n\n// \u7ed3\u6784\u4f53\ntype person struct {\n    name string\n}\n\nfunc (p person) method1() { // \u4f7f person \u6210\u4e3a \u63a5\u53e3A \u7684\u5b9e\u73b0\u7c7b\n    ...\n}\n\nfunc (p person) method2() { // \u4f7f person \u6210\u4e3a \u63a5\u53e3B \u7684\u5b9e\u73b0\u7c7b\n    ...\n}\n\nfunc (p person) method3() { // \u4f7f person \u6210\u4e3a \u63a5\u53e3C \u7684\u5b9e\u73b0\u7c7b\uff0c\u524d\u63d0\u662f\u5b9e\u73b0\u4e86\u524d\u9762\u4e24\u4e2a\n    ...\n}\n</code></pre> \u5d4c\u5957\u4e86\u63a5\u53e3\uff0c\u4e0d\u4ec5\u8981\u5b9e\u73b0\u63a5\u53e3\u672c\u8eab\u7684\u65b9\u6cd5\uff0c\u8fd8\u8981\u5b9e\u73b0\u63a5\u53e3\u4e2d\u7684\u5d4c\u5957\u63a5\u53e3\u7684\u65b9\u6cd5\uff0c\u624d\u80fd\u8ba4\u4e3a\u5b9e\u73b0\u4e86\u6700\u5916\u4fa7\u7684\u63a5\u53e3\u3002<p></p> <p>\u5982\u4e0a\u9762\u4f8b\u5b50\uff0cperson \u8981\u6210\u4e3a C \u7684\u5b9e\u73b0\u7c7b\uff0c\u4e0d\u4ec5\u8981\u5b9e\u73b0 C \u7684 <code>method3()</code> \u65b9\u6cd5\uff0c\u8fd8\u5f97\u5b9e\u73b0 A \u7684 <code>method1()</code> \u548c B \u7684<code>method2()</code>\u3002</p> <pre><code>func main() {\n    p := person{\"Boii\"}\n    p.method1()\n    p.method2()\n    p.method3()\n\n    var a1 A = p\n    a1.method1()\n    // a1.method2() // !\u62a5\u9519\n    // a1.method3() // !\u62a5\u9519\n\n    var b1 B = p\n    b1.method2()\n    // b1.method1() // !\u62a5\u9519\n    // b1.method3() // !\u62a5\u9519\n\n    var c1 C = p\n    c1.method1() // \u6b63\u786e\n    c1.method2() // \u6b63\u786e\n    c1.method3() // \u6b63\u786e\n\n    var a2 A = c1   // \u63a5\u53e3C\u53d8\u91cf\u770b\u6210\u662f\u63a5\u53e3A\u7c7b\u578b\uff0c\u8fd9\u662f\u53ef\u4ee5\u7684\n    a2.method1()    // \u4f46\u662f\u53ea\u80fd\u8c03\u7528\u63a5\u53e3A\u7684 method1()\n    // a2.method2() // !\u62a5\u9519\n    // a2.method3() // !\u62a5\u9519\n\n    var c2 C = a1   // !\u62a5\u9519\uff0c\u63a5\u53e3A\u53d8\u91cf\u770b\u6210\u662f\u63a5\u53e3C\u7c7b\u578b\uff0c\u8fd9\u662f\u9519\u8bef\u7684\n}\n</code></pre>"},{"location":"Go/Basic/Golang-12-%E6%8E%A5%E5%8F%A3/#_6","title":"\u63a5\u53e3\u65ad\u8a00","text":"<p>\u8bbe \u5b9a\u4e49\u4e86\u4e00\u4e2a\u63a5\u53e3A\uff0c\u8fd8\u6709\u4e24\u4e2a\u7ed3\u6784\u4f53 X\u3001Y\uff0c\u4e24\u4e2a\u7ed3\u6784\u4f53\u90fd\u5b9e\u73b0\u4e86\u63a5\u53e3A\uff0c\u5f53\u4e00\u4e2a\u51fd\u6570\u6216\u65b9\u6cd5\u60f3\u8981\u63a5\u6536 X \u6216 Y \u4e24\u79cd\u7c7b\u578b\u65f6\uff0c\u53ef\u4ee5\u5c06\u5f62\u53c2\u8bbe\u7f6e\u4e3a \u63a5\u53e3A \u7c7b\u578b\uff0c\u8fd9\u6837\u4f20\u9012\u7684\u65f6\u5019\u4e0d\u7ba1\u662f X \u7684\u5bf9\u8c61\u8fd8\u662f Y \u7684\u5bf9\u8c61\u90fd\u53ef\u4ee5\u4f20\u9012\u8fdb\u6765\u3002</p> <p>Faq</p> <p>\u3010Q\u3011\uff1a\u90a3\u5982\u679c\u5728\u65b9\u6cd5\u6216\u51fd\u6570\u91cc\uff0c\u6211\u9700\u8981\u786e\u5b9a\u5230\u5e95\u662f X \u8fd8\u662f Y \u600e\u4e48\u529e\uff1f</p> <pre><code>type A interface {\n    aMethod()\n}\n\ntype X struct {\n    name string\n    age  int\n}\n\ntype Y struct {\n    name string\n    sex  string\n}\n\n// \u5b9e\u73b0\u63a5\u53e3A\nfunc (x X) aMethod() {\n    fmt.Println(\"I am \", x)\n}\n\nfunc (y Y) aMethod() {\n    fmt.Println(\"I am\", y)\n}\n\n// \u5b9a\u4e49\u4e00\u4e2a\u63a5\u6536 X \u548c Y \u5bf9\u8c61\u7684\u51fd\u6570\nfunc test(a A) {\n    a.aMethod()\n}\n</code></pre> <p>\u3010A\u3011\uff1a\u8fd9\u65f6\u5019\u6211\u4eec\u9700\u8981\u7528\u5230\u63a5\u53e3\u7c7b\u578b\u65ad\u8a00\u6765\u786e\u5b9a\u4f20\u8fdb\u6765\u7684\u5230\u5e95\u662f x \u8fd8\u662f y\u3002</p> <ul> <li> <p>\u65b9\u5f0f1\uff1a</p> <ol> <li><code>instance := \u63a5\u53e3\u5bf9\u8c61.(\u5b9e\u9645\u7c7b\u578b)</code>\uff0c\u8fd9\u79cd\u4e0d\u5b89\u5168\uff0c\u4f1a\u5f15\u53d1 panic()</li> <li><code>instance, ok := \u63a5\u53e3\u5bf9\u8c61.(\u5b9e\u9645\u7c7b\u578b)</code>\uff0c\u8fd9\u79cd\u5c31\u5b89\u5168\u3002\u63a5\u53e3\u5bf9\u8c61\u662f\u5b9e\u9645\u7c7b\u578b\u65f6\uff0cok \u4e3a true</li> </ol> </li> <li> <p>\u65b9\u5f0f2\uff1aswitch</p> <pre><code>switch instance := \u63a5\u53e3\u5bf9\u8c61.(type) {\ncase \u5b9e\u9645\u7c7b\u578b1: ...\ncase \u5b9e\u9645\u7c7b\u578b2: ...\n...\n}\n</code></pre> </li> </ul> <p>\u4e8e\u662f\u5728 <code>test()</code> \u51fd\u6570\u4e2d\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u5199\uff1a </p><pre><code>func test (a A) {\n    if ins, ok := a.(X); ok {\n        fmt.Println(ins.age)\n    } else if ins, ok := a.(Y); ok {\n        fmt.Println(ins.sex)\n    }\n}\n</code></pre><p></p> <p>\u6216\u8005\u8fd9\u6837\u5199\uff1a </p><pre><code>// \u5b9a\u4e49\u4e00\u4e2a\u63a5\u6536 X \u548c Y \u5bf9\u8c61\u7684\u51fd\u6570\nfunc test(a A) {\n    switch ins := a.(type) {\n    case X:\n        fmt.Println(ins.age)\n    case Y:\n        fmt.Println(ins.sex)\n    }\n}\n</code></pre><p></p>"},{"location":"Go/Basic/Golang-12-%E6%8E%A5%E5%8F%A3/#vs","title":"\u503c\u7c7b\u578b\u5b9e\u73b0 VS \u6307\u9488\u7c7b\u578b\u5b9e\u73b0","text":"<p>\u6211\u4eec\u5148\u5b9a\u4e49\u4e00\u4e2a\u63a5\u53e3\uff0c\u548c\u4e24\u4e2a\u7ed3\u6784\u4f53</p> <pre><code>type Aer interface {\n    method()\n}\n\ntype X struct {}\ntype Y struct {}\n</code></pre> <p>\u7136\u540e\u5206\u522b\u4f7f\u7528 \u503c\u7c7b\u578b \u548c \u6307\u9488\u7c7b\u578b \u5b9e\u73b0\u63a5\u53e3</p> <p></p><pre><code>// \u503c\u7c7b\u578b\u5b9e\u73b0\nfunc (x X) method() {}\n\n// \u6307\u9488\u7c7b\u578b\u5b9e\u73b0\nfunc (y *Y) method() {}\n</code></pre> \u6b64\u65f6\u5b9e\u73b0\u63a5\u53e3\u7684\u662f <code>X</code> \u7c7b\u578b\u3001<code>*X</code> \u7c7b\u578b \u548c <code>*Y</code> \u7c7b\u578b\u3002<p></p> <p>\u63a5\u7740\u6211\u4eec\u6765\u4f7f\u7528\u4e00\u4e0b\uff1a </p><pre><code>func main() {\n    x := X{}\n    y := Y{}\n\n    var a1 Aer = x    // a1 \u53ef\u4ee5\u63a5\u6536 x \u7c7b\u578b\n    var a2 Aer = &amp;x   // a2 \u53ef\u4ee5\u63a5\u6536 *X \u7c7b\u578b\n\n    var a3 Aer = y    // !\u62a5\u9519\uff0ca3 \u4e0d\u53ef\u4ee5\u63a5\u6536 y \u7c7b\u578b\n    var a4 Aer = &amp;y   // a4 \u53ef\u4ee5\u63a5\u6536 *y \u7c7b\u578b\n}\n</code></pre> \u5728\u4f7f\u7528\u503c\u7c7b\u578b\u5b9e\u73b0\u63a5\u53e3\u4e4b\u540e\uff0c\u4e0d\u7ba1\u662f <code>X \u7ed3\u6784\u4f53\u7c7b\u578b</code> \u8fd8\u662f <code>*X \u7ed3\u6784\u4f53\u6307\u9488\u7c7b\u578b</code>\uff0c\u90fd\u53ef\u4ee5\u8d4b\u503c\u7ed9\u8be5\u63a5\u53e3\u53d8\u91cf\u3002 \u56e0\u4e3a\u5728 Go \u8bed\u8a00\u4e2d\u6709\u5bf9\u6307\u9488\u7c7b\u578b\u53d8\u91cf\u6c42\u503c\u7684\u8bed\u6cd5\u7cd6\uff0cX \u6307\u9488 <code>&amp;x</code> \u5185\u90e8\u4f1a\u81ea\u52a8\u6c42\u503c\u3002 <code>var a2 Aer = &amp;x</code> \u4f1a\u53d8\u6210 <code>var a2 Aer = *(&amp;x)</code>\u3002<p></p> <p>\u800c Y \u662f\u7528\u6307\u9488\u7c7b\u578b\u5b9e\u73b0\u7684\uff0c\u6240\u4ee5\u53ea\u80fd\u4f20\u9012\u6307\u9488 <code>&amp;y</code> \u7ed9 Aer \u63a5\u53e3\u53d8\u91cf\u3002</p> <p>\u53ef\u4ee5\u8fd9\u4e48\u7406\u89e3\uff0c\u7ed3\u6784\u4f53\u901a\u8fc7\u503c\u63a5\u6536\u8005\uff08Value receiver\uff09\u5b9e\u73b0\u4e86\u65b9\u6cd5\uff0c\u7f16\u8bd1\u5668\u9ed8\u8ba4\u5e2e\u7740\u5b9e\u73b0\u4e86\u4e00\u4e2a\u6307\u9488\u63a5\u6536\u8005\uff08Pointer receiver\uff09\u3002</p> <ul> <li> <p>\u6240\u4ee5\u5f53\u4e00\u4e2a\u7ed3\u6784\u4f53\u201c\u503c\u5b9e\u73b0\u201d\u4e86\u4e00\u4e2a\u63a5\u53e3\u65f6\uff0c\u8fd9\u4e2a\u7ed3\u6784\u4f53\u4e0d\u7ba1\u662f\u53d8\u91cf\u8fd8\u662f\u6307\u9488\u90fd\u53ef\u4ee5\u4f20\u7ed9\u8fd9\u4e2a\u63a5\u53e3\u7c7b\u578b\u3002</p> </li> <li> <p>\u5f53\u4e00\u4e2a\u7ed3\u6784\u4f53\u201c\u6307\u9488\u5b9e\u73b0\u201d\u4e86\u4e00\u4e2a\u63a5\u53e3\u65f6\uff0c\u8fd9\u4e2a\u7ed3\u6784\u4f53\u53ea\u6709\u6307\u9488\u53ef\u4ee5\u4f20\u7ed9\u63a5\u53e3\u7c7b\u578b\u3002</p> </li> </ul> <p>\u5982\u679c\u4e00\u4e2a\u7ed3\u6784\u4f53\u5728\u5b9e\u73b0\u4e00\u4e2a\u63a5\u53e3\u7684\u65f6\u5019\u6709\u7684\u201c\u503c\u5b9e\u73b0\u201d\uff0c\u6709\u7684\u201c\u6307\u9488\u5b9e\u73b0\u201d\uff0c\u90a3\u4e48\u53ea\u6709\u7ed3\u6784\u4f53\u6307\u9488\uff08struct pointer\uff09\u5b9e\u73b0\u4e86\u8fd9\u4e2a\u63a5\u53e3\u3002\u4f8b\u5982\uff1a</p> <pre><code>type Ber interface {\n    f1()\n    f2()\n    f3()\n}\n\ntype B1 struct{}\n\nfunc (b *B1) f1() {}\nfunc (b *B1) f2() {}\nfunc (b B1)  f3() {}\n\nfunc inter2(b Ber) {}\n\nfunc main() {\n\n    b1v := B1{}\n    b1p := &amp;B1{}\n\n    inter2(b1p) // \u53ef\u4ee5\u901a\u8fc7\u7f16\u8bd1\n    inter2(b1v) // cannot use b1v (variable of type B1) as Ber value in argument to inter2: missing method f1 (f1 has pointer receiver)\n\n}\n</code></pre>"},{"location":"Go/Basic/Golang-12-%E6%8E%A5%E5%8F%A3/#_7","title":"\u7ed3\u6784\u4f53\u5d4c\u5957\u63a5\u53e3","text":"<p>\u6211\u4eec\u8bf4\u5f53\u4e00\u4e2a\u7ed3\u6784\u4f53 <code>S</code> \u5b9e\u73b0\u4e86\u63a5\u53e3 <code>Ier</code> \u7684\u6240\u6709\u65b9\u6cd5\u65f6\uff0c\u5219\u7ed3\u6784\u4f53 <code>S</code> \u5b9e\u73b0\u4e86 <code>Ier</code> \u63a5\u53e3\u3002\u5b9e\u73b0\u4e86\u63a5\u53e3\u4ee5\u540e\uff0c\u53ef\u4ee5\u5c06\u7ed3\u6784\u4f53\u53d8\u91cf <code>s1</code> \u4f20\u9012\u7ed9\u63a5\u53e3\u53d8\u91cf <code>ier1</code>\uff0c\u4e5f\u53ef\u4ee5\u8c03\u7528\u63a5\u53e3 <code>Ier</code> \u4e2d\u7684\u65b9\u6cd5\uff0c\u5f53\u7136\u5177\u4f53\u6267\u884c\u7684\u662f <code>s1</code> \u5b9e\u73b0\u7684\u5185\u5bb9\u3002</p> <pre><code>type Ier interface {    // \u63a5\u53e3 Ier\n    method1()\n    method2()\n}\n\ntype S struct {}        // \u7ed3\u6784\u4f53 S\n\nfunc (s S) method1() {  // \u7ed3\u6784\u4f53 S \u5b9e\u73b0\u4e86 Ier \u63a5\u53e3\n    fmt.Println(\"Hello1\")\n}\n\nfunc (s S) method2() {  // \u7ed3\u6784\u4f53 S \u5b9e\u73b0\u4e86 Ier \u63a5\u53e3\n    fmt.Println(\"Hello2\")\n}\n\nfunc main() {\n    s1 := S{}           // \u7ed3\u6784\u4f53\u53d8\u91cf s1\n    var ier1 Ier = s1   // \u7ed3\u6784\u4f53\u53d8\u91cf s1 \u53ef\u4ee5\u4f20\u9012\u7ed9\u63a5\u53e3\u53d8\u91cf ier1\n\n    s1.method1()        // \u7ed3\u6784\u4f53\u53d8\u91cf s1 \u53ef\u4ee5\u8c03\u7528 Ier \u4e2d\u7684\u65b9\u6cd5\uff0c\u6267\u884c\u7ed3\u679c\u6253\u5370 Hello1\n    s1.method2()        // \u7ed3\u6784\u4f53\u53d8\u91cf s1 \u53ef\u4ee5\u8c03\u7528 Ier \u4e2d\u7684\u65b9\u6cd5\uff0c\u6267\u884c\u7ed3\u679c\u6253\u5370 Hello2\n}\n</code></pre> <p>\u90a3\u5982\u679c\u5728\u7ed3\u6784\u4f53\u4e2d\u5d4c\u5165\u4e00\u4e2a\u63a5\u53e3\u53d8\u91cf\u5462\uff1f</p> <pre><code>type Ier interface {    // \u63a5\u53e3 Ier\n    method1()\n    method2()\n}\n\ntype S struct {         // \u7ed3\u6784\u4f53 S\n    Ier         // \u5d4c\u5165\u63a5\u53e3\u53d8\u91cf\n    name string\n}\n</code></pre> <p>\u5728\u7ed3\u6784\u4f53\u4e2d\u533f\u540d\u5d4c\u5165\u522b\u7684\u7ed3\u6784\u4f53\u76f8\u5f53\u4e8e\u7ee7\u627f\u4e86\u8fd9\u4e2a\u7ed3\u6784\u4f53\uff0c\u662f\u4e00\u79cd <code>is-a</code> \u7684\u5173\u7cfb\uff0c\u4e0a\u9762\u7684\u5199\u6cd5\u8868\u660e\u4e86\uff1a</p> <p>\u7ed3\u6784\u4f53 <code>S</code> is a <code>Ier</code> \u7c7b\u578b\u3002</p> <p>\u8fd9\u6837\u5199\uff0c\u53ef\u4ee5\u5c06\u7ed3\u6784\u4f53\u53d8\u91cf <code>s1</code> \u8d4b\u503c\u7ed9\u63a5\u53e3\u53d8\u91cf <code>ier1</code>\uff0c\u4f46**\u65e0\u6cd5\u8c03\u7528\u63a5\u53e3\u4e2d\u7684\u65b9\u6cd5**\uff0c\u56e0\u4e3a\u7ed3\u6784\u4f53 <code>S</code> \u6ca1\u6709\u5b9e\u73b0\u3002\u5f53\u7136\u5982\u679c\u7ed3\u6784\u4f53 <code>S</code> \u5b9e\u73b0\u4e86\u65b9\u6cd5\uff0c\u8fd8\u662f\u53ef\u4ee5\u8c03\u7528\u7684\u3002</p> <pre><code>func main() {\n    s1 := S{}           // \u7ed3\u6784\u4f53\u53d8\u91cf s1\n    var ier1 Ier = s1   // \u7ed3\u6784\u4f53\u53d8\u91cf s1 \u53ef\u4ee5\u4f20\u9012\u7ed9\u63a5\u53e3\u53d8\u91cf ier1\n\n    s1.method1()        // x \u7ed3\u6784\u4f53\u53d8\u91cf s1 \u4e0d\u80fd\u8c03\u7528 Ier \u4e2d\u7684\u65b9\u6cd5\uff0c\u56e0\u4e3a\u6ca1\u6709\u5b9e\u73b0\n    s1.method2()        // x \u7ed3\u6784\u4f53\u53d8\u91cf s1 \u4e0d\u80fd\u8c03\u7528 Ier \u4e2d\u7684\u65b9\u6cd5\uff0c\u56e0\u4e3a\u6ca1\u6709\u5b9e\u73b0\n}\n</code></pre> <p>\u7531\u6b64\u6211\u4eec\u4e5f\u53ef\u4ee5\u8fd9\u4e48\u7406\u89e3\uff1a</p> <p>\u5f53\u4e00\u4e2a\u7ed3\u6784\u4f53 <code>S</code> \u5b9e\u73b0\u4e86\u63a5\u53e3 <code>Ier</code> \u4e2d\u7684\u6240\u6709\u65b9\u6cd5\uff0c \u76f8\u5f53\u4e8e\u9690\u5f0f\u5730\u5728 <code>S</code> \u4e2d\u5d4c\u5165\u4e00\u4e2a\u533f\u540d\u5b57\u6bb5 <code>Ier</code>\uff0c \u4f7f\u5f97 <code>S is a Ier</code>\uff0c \u4e8e\u662f\u7ed3\u6784\u4f53\u53d8\u91cf <code>s1</code> \u53ef\u4ee5\u8d4b\u503c\u7ed9\u63a5\u53e3\u53d8\u91cf <code>ier1</code>\uff0c\u53ef\u4ee5\u8c03\u7528\u63a5\u53e3\u65b9\u6cd5\u3002</p>"},{"location":"Go/Basic/Golang-13-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/","title":"13.\u9762\u5411\u5bf9\u8c61","text":""},{"location":"Go/Basic/Golang-13-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/#13-","title":"13-\u9762\u5411\u5bf9\u8c61","text":"<p>\u9762\u5411\u5bf9\u8c61\u4e09\u5927\u7279\u6027\uff1a\u5c01\u88c5\u3001\u7ee7\u627f\u3001\u591a\u6001</p> <p>Golang \u6ca1\u6709\u7c7b\u7684\u6982\u5ff5\uff0c\u4e5f\u6ca1\u6709\u9762\u5411\u5bf9\u8c61\u7684\u6982\u5ff5\u3002 \u51c6\u786e\u7684\u8bf4\uff0c\u9762\u5411\u5bf9\u8c61\u3001\u5c01\u88c5\u3001\u7ee7\u627f\u3001\u591a\u6001\u3001\u62bd\u8c61\u7b49\u7b49\uff0c\u8fd9\u4e9b\u90fd\u662f\u7f16\u7a0b\u601d\u60f3\uff0c\u4e0d\u540c\u7684\u8bed\u8a00\u5b9e\u73b0\u8fd9\u4e9b\u7279\u6027\u7684\u65b9\u5f0f\u4e0d\u540c\u3002 \u4f8b\u5982 <code>Java</code>\uff0c\u7528\u7684\u662f\u7c7b <code>class</code>\uff0c\u8bbf\u95ee\u4fee\u9970\u7b26 <code>public\u3001protected\u3001default\u3001private</code> \u7b49\u6765\u5b9e\u73b0\uff1b \u5728 Golang \u4e2d\uff0c\u7528\u7684\u662f\u7ed3\u6784\u4f53 <code>struct</code>\u3001\u6807\u8bc6\u7b26\u9996\u5b57\u6bcd\u5927\u5c0f\u5199 \u7b49\u6765\u5b9e\u73b0\u3002</p> <p>\u9762\u5411\u8fc7\u7a0b\u3001\u9762\u5411\u5bf9\u8c61\u3001\u4e00\u5207\u7686\u5bf9\u8c61\u3001\u4e00\u5207\u7686\u6587\u4ef6 \u7b49\u8bf8\u5982\u6b64\u7c7b\u7684\u6982\u5ff5\uff0c \u5728\u5b66\u4e60\u4e4b\u521d\u53ef\u80fd\u4f1a\u6210\u4e3a\u521d\u5b66\u8005\u7684\u4e00\u9053\u574e\uff0c\u4e5f\u53ef\u80fd\u662f\u5e2e\u52a9\u65b0\u624b\u66f4\u5feb\u5165\u95e8\u7684\u597d\u5e2e\u624b\uff1b \u7b49\u5230\u5b66\u5230\u4e00\u5b9a\u7a0b\u5ea6\u4ee5\u540e\uff0c\u8fd9\u4e9b\u601d\u60f3\u80fd\u5e2e\u52a9\u6211\u4eec\u5feb\u901f\u89e3\u51b3\u4e00\u4e9b\u95ee\u9898\uff0c\u4e5f\u53ef\u80fd\u5f00\u59cb\u7981\u9522\u6211\u4eec\u7684\u601d\u60f3\uff1b \u5584\u4e8e\u53d8\u901a\u8005\u4f1a\u6162\u6162\u770b\u900f\u672c\u8d28\uff0c\u8131\u79bb\u8fd9\u4e9b\u601d\u60f3\u7684\u67b7\u9501\uff0c\u5bf9\u7f16\u7a0b\u5f62\u6210\u81ea\u5df1\u7684\u8ba4\u77e5\u3002 \u53d8\u901a\u8005\u548c\u4e0d\u53d8\u901a\u8005\u7684\u533a\u522b\u5728\u4e8e\uff1a\u662f\u5426\u613f\u610f\u6df1\u5165\u5e95\u5c42\uff08\u6c47\u7f16\u3001\u7ec4\u539f\u7b49\u7b49\uff09\uff0c\u662f\u5426\u613f\u610f\u6452\u5f03\u8bed\u8a00\u6267\u5ff5\u3002</p> <ol> <li> <p>\u5c01\u88c5</p> <ul> <li>\u5c01\u88c5\u4e5f\u53eb \u4fe1\u606f\u9690\u85cf\u3001\u6570\u636e\u8bbf\u95ee\u4fdd\u62a4\u3002\u901a\u8fc7\u66b4\u9732\u6709\u9650\u7684\u8bbf\u95ee\u63a5\u53e3\uff0c\u5916\u90e8\u4ec5\u80fd\u901a\u8fc7\u7c7b\u63d0\u4f9b\u7684\u65b9\u5f0f\u6765\u8bbf\u95ee\u5185\u90e8\u4fe1\u606f\u6216\u6570\u636e\u3002</li> <li>\u9700\u8981\u7f16\u7a0b\u8bed\u8a00\u63d0\u4f9b\u6743\u9650\u8bbf\u95ee\u63a7\u5236\u8bed\u6cd5\u6765\u652f\u6301\u3002\u5982\uff1a<ul> <li>Java \u4e2d\u7684 <code>public\u3001protected\u3001private</code></li> <li>Python \u4e2d\u6807\u8bc6\u7b26\u7684\u53cc\u4e0b\u5212\u7ebf\u524d\u7f00 <code>__xxx</code>\u6216<code>__slots__</code> \u767d\u540d\u5355</li> <li>Golang \u4e2d\u6807\u8bc6\u7b26\u9996\u5b57\u6bcd\u5927\u5c0f\u5199\u3002</li> </ul> </li> <li>\u5c01\u88c5\u5b58\u5728\u7684\u610f\u4e49\uff0c<ul> <li>\u4e00\u65b9\u9762\u662f\u4fdd\u62a4\u6570\u636e\u4e0d\u88ab\u968f\u610f\u4fee\u6539\uff0c\u63d0\u9ad8\u4ee3\u7801\u53ef\u7ef4\u62a4\u6027\uff1b</li> <li>\u4e00\u65b9\u9762\u662f\u4ec5\u66b4\u9732\u6709\u9650\u7684\u5fc5\u8981\u63a5\u53e3\uff0c\u63d0\u9ad8\u6613\u7528\u6027\u3002</li> </ul> </li> </ul> </li> <li> <p>\u62bd\u8c61</p> <ul> <li>\u5c01\u88c5\u8bb2\u7684\u662f\u5982\u4f55\u9690\u85cf\u4fe1\u606f\u3001\u4fdd\u62a4\u6570\u636e\uff0c\u62bd\u8c61\u8bb2\u7684\u5c31\u662f\u5982\u4f55\u9690\u85cf\u7684\u5177\u4f53\u5b9e\u73b0\u3002</li> <li>\u62bd\u8c61\u53ef\u4ee5\u901a\u8fc7\u63a5\u53e3\u7c7b\u6216\u8005\u62bd\u8c61\u7c7b\u6765\u5b9e\u73b0\uff0c\u4f46\u4e0d\u9700\u8981\u7279\u6b8a\u7684\u8bed\u6cd5\u673a\u5236\u6765\u652f\u6301\u3002</li> <li>\u62bd\u8c61\u5b58\u5728\u7684\u610f\u4e49\uff0c<ul> <li>\u4e00\u65b9\u662f\u662f\u63d0\u9ad8\u4ee3\u7801\u7684\u53ef\u6269\u5c55\u6027\u3001\u7ef4\u62a4\u6027\uff0c\u4fee\u6539\u5b9e\u73b0\u4e0d\u9700\u8981\u4fee\u6539\u5b9a\u4e49\uff0c\u51cf\u5c11\u4ee3\u7801\u6539\u52a8\u8303\u56f4\uff1b</li> <li>\u53e6\u4e00\u65b9\u9762\uff0c\u62bd\u8c61\u4e5f\u662f\u5904\u7406\u590d\u6742\u7cfb\u7edf\u7684\u6709\u6548\u624b\u6bb5\uff0c\u80fd\u6709\u6548\u8fc7\u6ee4\u6389\u4e0d\u5fc5\u5173\u6ce8\u7684\u4fe1\u606f\u3002</li> </ul> </li> </ul> </li> <li> <p>\u7ee7\u627f</p> <ul> <li>\u7ee7\u627f\u662f\u7528\u6765\u8868\u793a\u7c7b\u4e4b\u95f4\u7684 <code>is-a</code> \u548c <code>has-a</code> \u7684\u5173\u7cfb\uff0c\u5206\u4e3a\u4e24\u79cd\u6a21\u5f0f\uff1a\u5355\u7ee7\u627f\u548c\u591a\u7ee7\u627f\u3002</li> <li>\u5355\u7ee7\u627f\u8868\u793a\u4e00\u4e2a\u5b50\u7c7b\u53ea\u80fd\u7ee7\u627f\u4e00\u4e2a\u7236\u7c7b\uff0c\u591a\u7ee7\u627f\u8868\u793a\u4e00\u4e2a\u5b50\u7c7b\u53ef\u4ee5\u7ee7\u627f\u591a\u4e2a\u7236\u7c7b\u3002</li> <li>\u9700\u8981\u7f16\u7a0b\u8bed\u8a00\u63d0\u4f9b\u7279\u6b8a\u8bed\u6cd5\u673a\u5236\u6765\u652f\u6301\u3002\u5982\uff1a<ul> <li>Java \u4e2d\u7684 <code>extends</code> \u5173\u952e\u5b57</li> <li>Python \u4e2d\u7c7b\u540d\u540e\u7684\u62ec\u53f7</li> <li>Go \u4e2d\u7684\u7ed3\u6784\u4f53\u5d4c\u5957</li> </ul> </li> <li>\u7ee7\u627f\u5b58\u5728\u7684\u610f\u4e49\uff0c\u662f\u7528\u6765\u89e3\u51b3\u4ee3\u7801\u590d\u7528\u7684\u95ee\u9898\u3002</li> </ul> </li> <li> <p>\u591a\u6001</p> <ul> <li>\u591a\u6001\u662f\u6307\u5b50\u7c7b\u53ef\u4ee5\u66ff\u4ee3\u7236\u7c7b\u3002\u5728\u5b9e\u9645\u4ee3\u7801\u8fd0\u884c\u8fc7\u7a0b\u4e2d\uff0c\u8c03\u7528\u5b50\u7c7b\u7684\u65b9\u6cd5\u5b9e\u73b0\u3002</li> <li>\u9700\u8981\u7f16\u7a0b\u8bed\u8a00\u63d0\u4f9b\u7279\u6b8a\u8bed\u6cd5\u673a\u5236\u6765\u652f\u6301\u3002\u5982\uff1a\u7ee7\u627f\u3001\u63a5\u53e3\u3001duck-typing\u3002</li> <li>\u591a\u6001\u53ef\u4ee5\u63d0\u9ad8\u4ee3\u7801\u7684\u6269\u5c55\u6027\u548c\u590d\u7528\u6027\uff0c\u662f\u5f88\u591a\u8bbe\u8ba1\u6a21\u5f0f\u3001\u8bbe\u8ba1\u539f\u5219\u3001\u7f16\u7a0b\u6280\u5de7\u7684\u4ee3\u7801\u5b9e\u73b0\u7684\u57fa\u7840\u3002</li> </ul> </li> </ol>"},{"location":"Go/Basic/Golang-13-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/#_1","title":"\u5c01\u88c5","text":"<p>\u5728 Java \u7b49\u9762\u5411\u5bf9\u8c61\u4e2d\uff0c\u4f1a\u5c06\u4e00\u7c7b\u4e8b\u7269\u62bd\u8c61\u51fa<code>\u5c5e\u6027</code>\u548c<code>\u884c\u4e3a</code>\uff0c\u5e76\u901a\u8fc7\u8bed\u8a00\u5c42\u9762\u9650\u5b9a <code>\u8bbf\u95ee\u6027</code>\u3002</p> <p>\u5c5e\u6027 \u4f7f\u7528\u57fa\u672c\u6570\u636e\u7c7b\u578b\u6216\u590d\u5408\u7c7b\u578b\u63cf\u8ff0\uff1b \u884c\u4e3a \u901a\u8fc7\u51fd\u6570\u63cf\u8ff0\uff0c\u5e76\u79f0\u4e4b\u4e3a<code>\u65b9\u6cd5</code>\uff1b <code>\u5c5e\u6027+\u65b9\u6cd5</code>\u7ec4\u6210\u4e00\u4e2a\u7c7b<code>class</code>\uff1b \u8bbf\u95ee\u6027\u5404\u4e2a\u8bed\u8a00\u5b9e\u73b0\u4e0d\u540c\u3002</p> <p>\u5728 Go \u4e2d\u6ca1\u6709\u7c7b\u7684\u6982\u5ff5\uff0c \u800c\u662f\u5c06\u4e8b\u7269\u7684 \u5c5e\u6027 \u4f7f\u7528\u57fa\u672c\u6570\u636e\u7c7b\u578b\u6216\u590d\u5408\u6570\u636e\u7c7b\u578b \u5c01\u88c5\u5728\u7ed3\u6784\u4f53\u4e2d\uff0c \u800c \u884c\u4e3a \u662f\u901a\u8fc7 \u7ed9\u51fd\u6570\u9650\u5b9a\u8c03\u7528\u8005\u7684\u65b9\u5f0f \u5b9e\u73b0\u3002 \u8bbf\u95ee\u6027 \u662f\u901a\u8fc7\u9996\u5b57\u6bcd\u5927\u5199\u4e3a <code>public</code>\uff0c\u9996\u5b57\u6bcd\u5c0f\u5199\u4e3a <code>private</code>\u3002</p> <p>\u8fd9\u79cd\u9650\u5b9a\u4e86\u8c03\u7528\u8005\u7684\u51fd\u6570\uff0c\u6211\u4eec\u79f0\u4e4b\u4e3a \u65b9\u6cd5\u3002</p> <p>\u800c\u62e5\u6709\u65b9\u6cd5\u7684\u7ed3\u6784\u4f53\uff0c\u6211\u5c06\u5176\u79f0\u4e4b\u4e3a \u7c7b\u3002</p> <p>Info</p> <p>Golang \u4e2d\uff0c\u7c7b = \u7ed3\u6784\u4f53 + \u9650\u5b9a\u8c03\u7528\u8005\u7684\u51fd\u6570 + \u8bbf\u95ee\u6027</p> <pre><code>// class A\n\ntype A struct {\n    fieldA\n}\n\nfunc (a A) aMethod() {\n    ...\n}\n</code></pre>"},{"location":"Go/Basic/Golang-13-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/#_2","title":"\u6784\u9020\u51fd\u6570","text":"<p>Go \u4e0d\u652f\u6301\u50cf Java \u90a3\u6837\u7684\u6784\u9020\u51fd\u6570\uff0c\u4f46\u662f\u53ef\u4ee5\u901a\u8fc7 <code>\u6807\u8bc6\u7b26\u9996\u5b57\u6bcd\u5927\u5c0f\u5199 + \u5de5\u5382\u51fd\u6570</code> \u5b9e\u73b0\u6784\u9020\u51fd\u6570\u3002</p> <p>\u4e00\u822c\u5206\u4e3a4\u6b65\uff1a</p> <ol> <li>\u5c06\u7ed3\u6784\u4f53\u3001\u5b57\u6bb5\u7684\u9996\u5b57\u6bcd\u5c0f\u5199</li> <li>\u7ed3\u6784\u4f53\u6240\u5728\u7684\u5305\u63d0\u4f9b\u4e00\u4e2a\u5de5\u5382\u6a21\u5f0f\u7684\u51fd\u6570\uff0c\u9996\u5b57\u6bcd\u5927\u5199\uff0c\u6a21\u62df\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u3002\u6309\u7167\u89c4\u8303\uff0c\u6784\u9020\u51fd\u6570\u7684\u540d\u5b57\u4ee5 <code>new</code> \u6216 <code>New</code> \u5f00\u5934\u3002\u6ce8\u610f\u8fd4\u56de\u503c\u5fc5\u987b\u662f\u7ed3\u6784\u4f53\u6307\u9488\uff0c\u56e0\u4e3a\u7ed3\u6784\u4f53\u662f\u503c\u7c7b\u578b\u3002</li> <li>\u63d0\u4f9b\u9996\u5b57\u6bcd\u5927\u5199\u7684 Get \u65b9\u6cd5\uff0c\u7528\u4e8e\u83b7\u53d6\u5c5e\u6027\u7684\u503c\uff0c\u5efa\u8bae\u547d\u540d\u89c4\u5219\uff1a\u5c5e\u6027\u540d\u9996\u5b57\u6bcd\u5927\u5199\uff0c\u5982\u5c5e\u6027 <code>sex</code> \u7684 Get \u65b9\u6cd5\u4e3a <code>Sex()</code>\u3001\u5c5e\u6027 <code>name</code> \u7684 Get \u65b9\u6cd5\u4e3a <code>Name()</code>\u3002</li> <li>\u63d0\u4f9b\u9996\u5b57\u6bcd\u5927\u5199\u7684 Set \u65b9\u6cd5\uff0c\u7528\u4e8e\u8bbe\u7f6e\u5c5e\u6027\u7684\u503c\uff0c\u5efa\u8bae\u547d\u540d\u89c4\u5219\uff1aSet+\u5c5e\u6027\u540d\u9996\u5b57\u6bcd\u5927\u5199\uff0c\u5982\u5c5e\u6027 <code>sex</code> \u7684 Set \u65b9\u6cd5\u4e3a <code>SetSex()</code>\u3001\u5c5e\u6027 <code>name</code> \u7684 Set \u65b9\u6cd5\u4e3a <code>SetName()</code>\u3002</li> </ol> <p>eg\uff1a </p><pre><code>type person struct {\n    name string\n    age  int\n}\n\n// \u5199\u4e00\u4e2a\u5de5\u5382\u51fd\u6570\uff0c\u9996\u5b57\u6bcd\u5927\u5199\uff0c\u5176\u4ed6\u65b9\u5c31\u53ef\u4ee5\u8bbf\u95ee\uff0c\u76f8\u5f53\u4e8e\u6784\u9020\u51fd\u6570\nfunc NewPerson (name string, age int) *person {\n    if age &lt;= 0 || name == \"\" { return nil }\n    return &amp;person{name, age}\n}\n\n// Get \u65b9\u6cd5\nfunc (p person) Name() string{\n    return p.name\n}\n\nfunc (p person) Age() int {\n    return p.age\n}\n// Set \u65b9\u6cd5\nfunc (p person) SetName(name string) {\n    if name == \"\" { return }\n    p.name = name\n}\n\nfunc (p person) SetAge(age int) {\n    if age &lt;= 0 { return }\n    p.age = age\n}\n\n\nfunc main() {\n    // \u7136\u540e\u8fd9\u6837\u521b\u5efa\u5bf9\u8c61\uff1a\n    p := NewPerson(\"Boii\", 18)\n    fmt.Println(p)    // &amp;{Boii 18}\n\n    p.Name()           // Boii\n    p.SetAge(20)    // p.age == 20\n}\n</code></pre><p></p>"},{"location":"Go/Basic/Golang-13-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/#tostring","title":"toString","text":"<p>\u5728\u9762\u5411\u5bf9\u8c61\u4e2d\uff0c\u6bcf\u4e2a\u7c7b\u9ed8\u8ba4\u7ee7\u627f\u81ea Object\uff0c\u6253\u5370\u4e00\u4e2a\u5bf9\u8c61\u7684\u65f6\u5019\uff0c\u4f1a\u8c03\u7528\u8fd9\u4e2a\u5bf9\u8c61\u7684 <code>toString()</code> \u65b9\u6cd5\uff0c\u5982\u679c\u8fd9\u4e2a\u5bf9\u8c61\u6ca1\u6709\u91cd\u5199 <code>toString()</code>\uff0c\u4f1a\u627e\u5176\u7236\u7c7b\uff0c\u4e00\u5c42\u5c42\u5f80\u4e0a\uff0c\u627e\u5230\u4e86\u6267\u884c <code>toString()</code>\uff0c\u627e\u4e0d\u5230\u5c31\u6267\u884c Object \u7684 <code>toString()</code>\u3002</p> <p>\u60f3\u8981\u6253\u5370\u5bf9\u8c61\u4fe1\u606f\uff0c \u5728 Java \u4e2d\u662f <code>.toString()</code>\uff0c \u5728 Python \u4e2d\u662f <code>.__str__()</code></p> <p>Info</p> <p>\u5728 Go \u4e2d\u662f <code>.String()</code></p> <p>\u5728 Go \u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>%v</code> \u6253\u5370\u7ed3\u6784\u4f53\u4fe1\u606f\u3002</p> <p><code>fmt.Printf(\"%v \\n\", t)</code> \u8fd9\u53e5\u8bdd\u7b49\u4ef7\u4e8e <code>fmt.Printf(\"%v \\n\", t.String())</code>\uff0c\u4e5f\u7b49\u4ef7\u4e8e <code>fmt.Println(t)</code>\u3002</p> <p>\u90a3\u4e48\u60f3\u8981\u6253\u5370\u7ed3\u6784\u4f53\u4fe1\u606f\u65f6\u6309\u7167\u81ea\u5df1\u60f3\u6cd5\u6765\uff0c\u5c31\u53ef\u4ee5\u4e3a\u7ed3\u6784\u4f53\u5199\u4e00\u4e2a <code>String()</code> \u65b9\u6cd5\u3002</p> <pre><code>type car struct {\n    band  string\n    model string\n}\n\nfunc (c car) String() string {\n    return c.band + \"-\" + \"c.model\"\n}\n\nfunc main() {\n    c1 := &amp;car{\"Benz\", \"S600\"}\n    fmt.Printf(\"%v \\n\", c1)           // Benz-S600\n    fmt.Printf(\"%v \\n\", c1.String())  // Benz-S600\n    fmt.Println(c1)                   // Benz-S600\n}\n</code></pre>"},{"location":"Go/Basic/Golang-13-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/#_3","title":"\u7ee7\u627f","text":""},{"location":"Go/Basic/Golang-13-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/#_4","title":"\u9762\u5411\u5bf9\u8c61\u4e2d\u7684\u7ee7\u627f\u6027","text":"<p>\u5982\u679c\u4e24\u4e2a\u7c7b class \u5b58\u5728\u7ee7\u627f\u5173\u7cfb\uff0c\u5176\u4e2d\u4e00\u4e2a\u662f\u5b50\u7c7b\uff0c\u53e6\u4e00\u4e2a\u4f5c\u4e3a\u7236\u7c7b\uff0c\u90a3\u4e48\uff1a</p> <ol> <li>\u5b50\u7c7b\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u7236\u7c7b\u7684\u5c5e\u6027\u548c\u65b9\u6cd5</li> <li>\u5b50\u7c7b\u53ef\u4ee5\u65b0\u589e\u81ea\u5df1\u7684\u5c5e\u6027\u548c\u65b9\u6cd5</li> <li>\u5b50\u7c7b\u53ef\u4ee5\u91cd\u5199\u7236\u7c7b\u7684\u65b9\u6cd5\uff08override\uff0c\u5c31\u662f\u5c06\u7236\u7c7b\u5df2\u6709\u7684\u65b9\u6cd5\uff0c\u91cd\u65b0\u5b9e\u73b0\uff09</li> </ol> <p>Golang \u8bed\u6cd5\u4e0a\u4e0d\u652f\u6301\u7ee7\u627f\uff0c\u4f46\u662f\u901a\u8fc7\u7ed3\u6784\u4f53\u5d4c\u5957\u5374\u53ef\u4ee5\u5b9e\u73b0\u7ee7\u627f\uff0c\u800c\u4e14\u53ef\u4ee5\u591a\u7ee7\u627f\uff0c \u4e14\u901a\u8fc7 \u533f\u540d\u5b57\u6bb5 \u548c \u975e\u533f\u540d\u5b57\u6bb5 \u8fd8\u53ef\u4ee5\u8fdb\u4e00\u6b65\u533a\u5206 <code>is-a</code> \u7ee7\u627f\u5173\u7cfb \u548c <code>has-a</code> \u805a\u5408\u5173\u7cfb</p>"},{"location":"Go/Basic/Golang-13-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/#golang","title":"Golang \u7684\u7ed3\u6784\u4f53\u5d4c\u5957","text":""},{"location":"Go/Basic/Golang-13-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/#is-a","title":"\u6a21\u62df\u7ee7\u627f\u6027\uff1ais - a","text":"<pre><code>type Base struct {\n    fieldB\n}\ntype Son struct {\n    fieldS\n    Base // \u533f\u540d\u5b57\u6bb5\uff0c\u6a21\u62df\u7684\u662f \u7ee7\u627f\u5173\u7cfb\n}\n\nfunc (b Base) baseMethod() { // A\u7684\u65b9\u6cd5\n    fmt.Println(\"base method\")\n}\n\nfunc (s Son) sonMethod() { // B\u7684\u65b9\u6cd5\n    fmt.Println(\"son method\")\n}\n\nfunc main() {\n    base := Base{}\n    son := Son{}\n\n    base.fieldB     // \u6b63\u786e\u4f7f\u7528\n    son.fieldS      // \u6b63\u786e\u4f7f\u7528\n    son.fieldB      // \u6b63\u786e\u4f7f\u7528\n    son.Base.fieldB // \u6b63\u786e\u4f7f\u7528\n    base.fieldS     // !\u62a5\u9519\n    base.Son.fieldS // !\u62a5\u9519\n\n    base.baseMethod()     // \u6b63\u786e\u4f7f\u7528\n    son.sonMethod()       // \u6b63\u786e\u4f7f\u7528\n    son.baseMethod()      // \u6b63\u786e\u4f7f\u7528\n    son.Base.baseMethod() // \u6b63\u786e\u4f7f\u7528\n    base.sonMethod()      // !\u62a5\u9519\n    base.Son.sonMethod()  // !\u62a5\u9519\n}\n</code></pre>"},{"location":"Go/Basic/Golang-13-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/#has-a","title":"\u6a21\u62df\u805a\u5408\u5173\u7cfb\uff1ahas - a","text":"<pre><code>type C struct {\n    fieldC\n}\ntype D struct {\n    fieldD\n    c C    // \u975e\u533f\u540d\u5b57\u6bb5\uff0c\u6a21\u62df\u7684\u662f \u805a\u5408\u5173\u7cfb\n}\n\nfunc (c C) cMethod() {\n    fmt.Println(\"C method\")\n}\n\nd := D{...}\n\nd.fieldC      // !\u62a5\u9519\nd.C.fieldC    // !\u62a5\u9519\nd.c.fieldC    // \u6b63\u786e\u4f7f\u7528\nd.c.cMethod() // \u6b63\u786e\u4f7f\u7528\n</code></pre>"},{"location":"Go/Basic/Golang-13-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/#_5","title":"\u5c0f\u7ed3","text":"<p>\u5728\u7ed3\u6784\u4f53\u4e2d\u5d4c\u5957\u4e86\u5176\u4ed6\u7ed3\u6784\u4f53\uff0c\u4f1a\u51fa\u73b0\u4e24\u79cd\u60c5\u51b5\uff0c\u4e00\u79cd\u662f is - a \u7684\u5173\u7cfb\uff0c\u4e00\u79cd\u7684 has - a \u7684\u5173\u7cfb\u3002</p> <p>is - a \u662f\u4e00\u79cd\u7ee7\u627f\u5173\u7cfb\uff0c\u5b50\u7c7b\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u7236\u7c7b\uff08\u88ab\u5d4c\u5957\u7c7b\uff09\u7684\u53d8\u91cf\uff0c\u5982\u4e0a\u9762\u4f8b\u5b50\u4e2d\u7684 <code>b.fieldA</code> has - a \u662f\u4e00\u79cd\u805a\u5408\u5173\u7cfb\uff0c\u5f53\u524d\u7c7b\u4f7f\u7528\u805a\u5408\u7c7b\uff08\u88ab\u5d4c\u5957\u7c7b\uff09\u7684\u53d8\u91cf\u5fc5\u987b\u901a\u8fc7\u805a\u5408\u7c7b\u7684\u540d\u5b57\uff0c\u5982\u4e0a\u9762\u4f8b\u5b50\u4e2d\u7684 <code>d.c.fieldC</code>\uff0c\u5176\u4ed6\u4e24\u79cd\u65b9\u5f0f\u4f1a\u62a5\u9519\u3002</p>"},{"location":"Go/Basic/Golang-13-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/#_6","title":"\u591a\u6001","text":"<p>Golang \u4e2d\u7684\u591a\u6001\u662f\u901a\u8fc7 \u63a5\u53e3 \u548c Duck-typing \u5b9e\u73b0\u7684\u3002</p> <p><code>Duck-typing</code> \u4e5f\u662f\u4e00\u79cd\u7f16\u7a0b\u601d\u60f3\uff1a\u53ea\u8981\u4e00\u4e2a\u4e1c\u897f\u770b\u8d77\u6765\u50cf\u9e2d\u5b50\uff0c\u8d70\u8def\u50cf\u9e2d\u5b50\uff0c\u5403\u8d77\u6765\u50cf\u9e2d\u5b50...\uff0c\u90a3\u5b83\u5c31\u662f\u9e2d\u5b50\u3002 \u53cd\u6620\u5728\u7f16\u7a0b\u8bed\u8a00\u4e2d\u5c31\u662f\uff0c\u53ea\u8981\u4e00\u4e2a\u7ed3\u6784\u4f53\u6216\u8005\u4e00\u4e2a\u7c7b\uff0c\u5177\u6709\u67d0\u4e2a\u65b9\u6cd5\u7684\u5177\u4f53\u5b9e\u73b0\uff0c\u90a3\u5b83\u5c31\u53ef\u4ee5\u88ab\u6211\u8fd9\u4e2a\u51fd\u6570/\u65b9\u6cd5\u63a5\u53d7\u3002</p> <p>Golang \u4e2d\u7684\u63a5\u53e3\u662f\u975e\u4fb5\u5165\u5f0f\u7684\uff0c\u4e0d\u50cf<code>Java</code> \u90a3\u6837\u9700\u8981\u663e\u5f0f\u7684\u5728\u7c7b\u58f0\u660e\u4e2d\u52a0\u4e0a <code>implement xxer</code>\uff0c Golang \u4e0d\u9700\u8981\u7ed3\u6784\u4f53\u663e\u793a\u7684\u58f0\u660e\u5b9e\u73b0\u67d0\u4e2a\u63a5\u53e3\uff0c\u53ea\u8981\u4f60\u8fd9\u4e2a\u7ed3\u6784\u4f53\u6709\u6211\u8fd9\u4e2a\u63a5\u53e3\u6240\u6709\u65b9\u6cd5\u7684\u5177\u4f53\u5b9e\u73b0\uff0c\u90a3\u8fd9\u4e2a\u7ed3\u6784\u4f53\u5c31\u5b9e\u73b0\u662f\u6211\u8fd9\u4e2a\u63a5\u53e3\uff0c\u5c31\u662f\u6211\u7684\u5b9e\u73b0\u7c7b\uff0c\u5c31\u662f\u6211\u8fd9\u79cd\u7c7b\u578b\u3002</p> <pre><code>type Aer interface {\n    show() string\n}\n\ntype X struct {}\ntype Y struct {}\ntype Z struct {}\n\nfunc (x X) show() string {\n    return \"I'm X\"\n}\n\nfunc (x X) add(a, b int) int {\n    return a + b\n}\n\nfunc (x Y) show() string {\n    return \"I'm Y\"\n}\n\nfunc PrintStruct(a Aer){\n    fmt.Println(a.show())\n}\n\nfunc main() {\n    x := X{}\n    y := Y{}\n    z := Z{}\n\n    PrintStruct(x)    // I'm X\n    PrintStruct(y)    // I'm Y\n    PrintStruct(z)    // !\u62a5\u9519, \u56e0\u4e3a Z \u6ca1\u6709\u5b9e\u73b0 Aer \u7684\u65b9\u6cd5 show()\uff0c\u4e0d\u662f Aer \u7c7b\u578b\n}\n</code></pre>"},{"location":"Go/Basic/Golang-13-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/#_7","title":"\u91cd\u5199","text":"<p>\u91cd\u5199\uff0c\u8bf4\u5927\u767d\u8bdd\u5c31\u662f\uff1a\u7239\u6709\u7684\uff0c\u513f\u5b50\u4e0d\u6ee1\u610f\uff0c\u513f\u5b50\u81ea\u5df1\u6765\u3002</p> <p>Golang \u4e2d\u901a\u8fc7\u5d4c\u5957\u7ed3\u6784\u4f53\u6a21\u62df\u7ee7\u627f\uff0c\u5982\u679c\u5b50\u7ed3\u6784\u4f53\u6709\u548c\u7236\u7ed3\u6784\u4f53 \u540c\u540d\u540c\u53c2\u7684\u65b9\u6cd5\uff0c\u5219\u79f0\u4f5c\u91cd\u5199\u3002</p> <p>Golang \u4e2d\u4e0d\u652f\u6301\u540c\u540d\u4e0d\u540c\u53c2\u3002</p> <pre><code>type base struct {    // \u7236\u7c7b\n    name string\n}\n\ntype son struct {    // \u5b50\u7c7b\n    base             // \u7ee7\u627f\u4e86\u7236\u7c7b\n    age int\n}\n\nfunc (b base) say() {    // \u7236\u7c7b\u65b9\u6cd5\n    fmt.Println(\"Base said.\")\n}\n\nfunc (b base) run() {    // \u7236\u7c7b\u65b9\u6cd5\n    fmt.Println(\"Base ran.\")\n}\n\nfunc (s son) say() {    // \u5b50\u7c7b\u65b9\u6cd5\uff0c\u91cd\u5199\u4e86\u7236\u7c7b\u65b9\u6cd5\n    fmt.Println(\"Son said.\")\n}\n\n\nfunc main() {\n    b := base{\"Eva\"}            // \u5b9e\u4f8b\u5316\u7236\u7c7b\n    s := son{base{\"Boii\"}, 64}  // \u5b9e\u4f8b\u5316\u5b50\u7c7b\n    b.say()         // Base said.\n    s.say()         // Son said.\n    b.run()         // Base ran.\n    s.run()         // Base ran.\n}\n</code></pre>"},{"location":"Go/Basic/Golang-13-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/#_8","title":"\u4e3e\u4e2a\u6817\u5b50","text":"<p>\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u4f8b\u5b50\u770b\u770b</p> <p>Example</p> JavaGo <p>\u73b0\u5728\u6211\u4eec\u7528 Java \u6765\u5b9a\u4e49\u4e00\u4e2a\u7c7b </p><pre><code>public class Dog{\n    // \u5c5e\u6027\n    private String name;\n    private int age;\n\n    // \u6784\u9020\u51fd\u6570\n    public Dog(String name, int age){\n        this.name = name;\n        this.age = age;\n    }\n\n    // getter\n    public String getName() {\n        return this.name;\n    }\n    public int getAge() {\n        return this.age;\n    }\n\n    // setter\n    public void setName(String newName) {\n        this.name = newName;\n    }\n    public void setAge(int newAge){\n        this.age = newAge;\n    }\n\n    // toString\n    @Override\n    public String toString() {\n        return this.name + \"-\" + this.age;\n    }\n}\n</code></pre> \u4ee5\u4e0a\u5c31\u662f\u7528 Java \u5b9a\u4e49\u7684\u4e00\u4e2a\u6700\u7b80\u5355\u7684\u7c7b\u4e86\u3002\u7c7b\u4e2d\u6709<code>\u5c5e\u6027</code>\u3001<code>\u6784\u9020\u51fd\u6570</code>\u3001<code>getter \u548c setter</code> \u548c <code>toString()</code>\u3002<p></p> <p>\u4f7f\u7528\u7684\u65f6\u5019\u662f\u8fd9\u6837\u5b50\u7684\uff1a </p><pre><code>Dog doge = new Dog(\"Doge\", 2);\nSystem.out.println(doge.getName());    // Doge\nSystem.out.println(doge.getAge());     // 2\n\ndoge.setAge(3);\nSystem.out.println(doge.getAge());     // 3\nSystem.out.println(doge)               // Doge-3\n</code></pre><p></p> <p>\u4e0b\u9762\u6211\u4eec\u6765\u770b\u770b\u7528 Go \u600e\u4e48\u505a\uff1a </p><pre><code>//$GOPATH/src/dog/myDog.go\n\npackage dog\n\nimport (\n    \"fmt\"\n    \"strconv\"\n)\n\n// \u5b9a\u4e49 Dog \u7ed3\u6784\u4f53\uff0c\u5305\u542b\u4e86\u5c5e\u6027\ntype dog struct {\n    name string\n    age  int8\n}\n\n// \u6784\u9020\u51fd\u6570\nfunc NewDog(name string, age int8) *dog {\n    return &amp;dog{name, age}\n}\n\n// getter\nfunc (d *dog) Name() string {\n    return d.name\n}\nfunc (d *dog) Age() int8 {\n    return d.age\n}\n\n// setter\nfunc (d *dog) SetName(newName string) {\n    d.name = newName\n}\nfunc (d *dog) SetAge(newAge int8) {\n    d.age = newAge\n}\n\n// toString\nfunc (d *dog) String() string {\n    return d.name + \"-\" + strconv.Itoa(int(d.age))\n}\n</code></pre> \u540c\u6837\u5b9e\u73b0\u4e86<code>\u5c5e\u6027</code>\u3001<code>\u6784\u9020\u51fd\u6570</code>\u3001<code>getter \u548c setter</code>\u3002<p></p> <p>\u4f7f\u7528\u7684\u65f6\u5019\u662f\u8fd9\u6837\u5b50\u7684\uff1a </p><pre><code>//$GOPATH/src/Hello/main.go\n\npackage main\n\nimport (\n    \"dog\"\n    \"fmt\"\n)\n\nfunc main() {\n    doge := NewDog(\"Doge\", 2)\n    fmt.Println(doge.Name()) // Doge\n    fmt.Println(doge.GetAge())  // 2\n\n    doge.SetAge(3)\n    fmt.Println(doge.Age()) // 3\n    fmt.Printf(\"%v \\n\", doge)  // Doge-3\n    fmt.Println(doge) // Doge-3\n}\n</code></pre><p></p>"},{"location":"Go/Basic/Golang-13-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/#_9","title":"\u62bd\u8c61\u7c7b","text":"<p>\u62bd\u8c61\u7c7b\u5176\u5b9e\u548c\u63a5\u53e3\u7684\u6027\u8d28\u662f\u4e00\u6837\u7684\uff0c\u4f46\u662f\u53c8\u591a\u4e86\u4e00\u4e9b\u5177\u4f53\u7684\u5b9e\u73b0\u3002</p> <p>\u5f53\u4e00\u4e2a\u63a5\u53e3\u4e2d\u7684\u67d0\u4e9b\u65b9\u6cd5\uff0c\u6240\u6709\u5b50\u7c7b\u7684\u5b9e\u73b0\u90fd\u4e00\u6837\u65f6\uff0c\u53ef\u4ee5\u6362\u6210\u62bd\u8c61\u7c7b\u6765\u5b9e\u73b0\uff0c\u5c06\u8fd9\u4e9b\u5171\u540c\u7684\u5b9e\u73b0\u5199\u5728\u62bd\u8c61\u7c7b\u4e2d\uff0c\u5269\u4e0b\u4e0d\u540c\u7684\u5b9e\u73b0\u7eed\u96c6\u4fdd\u6301\u62bd\u8c61\u3002</p>"},{"location":"Go/Basic/Golang-13-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/#java","title":"\u4ee5 Java \u4e3a\u6817","text":"<p>eg\uff1a</p> <pre><code>// \u5b9a\u4e49\u4e00\u4e2a\u62bd\u8c61\u7c7b\npublic abstract class Animal {\n    // \u5b9e\u73b0\u5171\u540c\u65b9\u6cd5\n    public void run() {\n        System.out.println(this.name() + \" is running!\");\n    }\n\n    // \u5b9a\u4e49\u62bd\u8c61\u65b9\u6cd5\n    public abstract String kind();\n}\n\n// \u7ee7\u627f\u62bd\u8c61\u7c7b\npublic class cat extends Animal {\n    // \u5b9e\u73b0\u62bd\u8c61\u65b9\u6cd5\n    public String kind() {\n        return \"cat\";\n    }\n}\n\n// \u7ee7\u627f\u62bd\u8c61\u7c7b\npublic class dog extends Animal() {\n    // \u5b9e\u73b0\u62bd\u8c61\u65b9\u6cd5\n    public String kind() {\n        return \"dog\";\n    }\n}\n</code></pre> <p>\u4e0a\u9762\u62bd\u8c61\u4e86\u4e00\u4e2a\u52a8\u7269\u7c7b <code>Animal</code>\uff0c\u6211\u4eec\u5b9e\u73b0\u4e86\u5171\u540c\u7684\u65b9\u6cd5 <code>run()</code>\uff0c\u5e76\u5b9a\u4e49\u4e86\u9700\u8981\u5b50\u7c7b\u81ea\u5df1\u5b9e\u73b0\u7684\u62bd\u8c61\u65b9\u6cd5 <code>kind()</code>\u3002</p> <p>\u63a5\u7740\u5b9a\u4e49\u4e86\u4e24\u4e2a\u5177\u4f53\u7c7b <code>cat</code> \u548c <code>dog</code> \u7ee7\u627f <code>Animal</code>\uff0c\u5e76\u5404\u81ea\u5177\u4f53\u5b9e\u73b0\u62bd\u8c61\u65b9\u6cd5 <code>kind()</code>\u3002</p>"},{"location":"Go/Basic/Golang-13-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/#go","title":"Go \u5b9e\u73b0\u62bd\u8c61\u7c7b","text":"<p>Go \u5e76\u6ca1\u6709\u62bd\u8c61\u7c7b\u7684\u6982\u5ff5\uff0c\u4f46\u662f\u901a\u8fc7 <code>struct</code> \u548c <code>interface</code> \u53ef\u4ee5\u5b9e\u73b0\u51fa\u62bd\u8c61\u7c7b\u3002</p> <p>\u601d\u8003\u4e00\u4e0b\uff1aJava \u4e2d\u62bd\u8c61\u7c7b\u548c\u63a5\u53e3\u7684\u533a\u522b\u5728\u54ea\uff1f</p> <p>\u5176\u5b9e\u5c31\u662f\u62bd\u8c61\u7c7b\u4e2d\u9700\u8981\u5177\u4f53\u5b9e\u73b0\u4e00\u4e9b \u516c\u5171\u65b9\u6cd5\uff0c\u5269\u4e0b\u7684\u90a3\u4e9b\u62bd\u8c61\u65b9\u6cd5\uff0c\u7528 Java \u4e2d\u7684\u63a5\u53e3\u5b9e\u73b0\u4e5f\u662f\u4e00\u6837\u7684\u3002</p> <p>\u53ea\u4e0d\u8fc7 Java \u6709\u62bd\u8c61\u7c7b\u7684\u6982\u5ff5\uff0c\u53ef\u4ee5\u4f18\u96c5\u7684\u5b9e\u73b0\u3002</p> <p>\u90a3\u4e48\u6211\u4eec\u4e5f\u53ef\u4ee5\u5728 Golang \u4e2d\uff0c\u5b9a\u4e49\u4e00\u4e2a\u63a5\u53e3IAer\uff0c\u63a5\u53e3\u4e2d\u5b9a\u4e49\u4e00\u4e9b\u62bd\u8c61\u65b9\u6cd5\uff1b</p> <p>\u7136\u540e\u5b9a\u4e49\u4e00\u4e2a Aer \u4f5c\u4e3a\u516c\u5171\u7684\u7ed3\u6784\u4f53\uff08\u7c7b\uff09\uff0c\u7531\u5b83\u6765\u5b9e\u73b0\u516c\u5171\u7684\u90e8\u5206</p> <p>\u7136\u540e\u5176\u4ed6\u7ed3\u6784\u4f53\u5d4c\u5957\u8fd9\u4e2a\u516c\u5171\u7ed3\u6784\u4f53\uff0c\u5e76\u5b9e\u73b0\u63a5\u53e3 IAer \u7684\u65b9\u6cd5\uff0c\u8fd9\u6837\u5c31\u80fd\u8fbe\u5230\u4e0e\u62bd\u8c61\u7c7b\u76f8\u540c\u7684\u6548\u679c\u3002</p> <pre><code>// -- \u62bd\u8c61\u7c7b -- start\ntype IAbsClass interface {\n    absMethod1()\n    absMethod2()\n}\n\nfunc AbsClass struct {} // \u516c\u5171\u7ed3\u6784\u4f53\nfunc (a AbsClass) commonMethod1() { // \u516c\u5171\u7ed3\u6784\u4f53\u5b9e\u73b0\u516c\u5171\u65b9\u6cd51\n    fmt.Println(\"AbsClass commonMethod1\")\n}\nfunc (a AbsClass) commonMethod2() { // \u516c\u5171\u7ed3\u6784\u4f53\u5b9e\u73b0\u516c\u5171\u65b9\u6cd52\n    fmt.Println(\"AbsClass commonMethod2\")\n}\n// -- \u62bd\u8c61\u7c7b -- end\n\n\n\n// -- \u5b50\u7c7b\u7ee7\u627f\u62bd\u8c61\u7c7b\ntype subClass1 struct {\n    AbsClass    // \u7ee7\u627f\u62bd\u8c61\u7c7b\n}\n// \u5b50\u7c7b\u5b9e\u73b0\u62bd\u8c61\u65b9\u6cd5\nfunc (s subClass1) absMethod1() {   // \u5b50\u7c7b\u5b9e\u73b0\u62bd\u8c61\u65b9\u6cd51\n    fmt.Println(\"subClass1 absMethod1\")\n}\nfunc (s subClass1) absMethod2() {   // \u5b50\u7c7b\u5b9e\u73b0\u62bd\u8c61\u65b9\u6cd52\n    fmt.Println(\"subClass1 absMethod2\")\n}\n\n// \u6b64\u65f6\u5b50\u7c7b subClass1 \u62e5\u6709 4 \u79cd\u65b9\u6cd5\uff1a\n// absClass.commonMethod1()\n// absClass.commonMethod2()\n// subClass1.absMethod1()\n// subClass1.absMethod2()\n\n\n\n// -- \u5b50\u7c7b\u7ee7\u627f\u62bd\u8c61\u7c7b\ntype subClass2 struct {\n    AbsClass    // \u7ee7\u627f\u62bd\u8c61\u7c7b\n}\n// \u5b50\u7c7b\u5b9e\u73b0\u62bd\u8c61\u65b9\u6cd5\nfunc (s subClass2) absMethod1() {   // \u5b50\u7c7b\u5b9e\u73b0\u62bd\u8c61\u65b9\u6cd51\n    fmt.Println(\"subClass2 absMethod1\")\n}\nfunc (s subClass2) absMethod2() {   // \u5b50\u7c7b\u5b9e\u73b0\u62bd\u8c61\u65b9\u6cd52\n    fmt.Println(\"subClass2 absMethod2\")\n}\n// \u5b50\u7c7b\u91cd\u5199\u516c\u5171\u65b9\u6cd52\nfunc (s subClass2) commonMethod2() {\n    fmt.Println(\"subClass2 commonMethod1\")\n}\n\n// \u6b64\u65f6\u5b50\u7c7b subClass2 \u62e5\u6709 4 \u79cd\u65b9\u6cd5\uff1a\n// absClass.commonMethod1()\n// subClass2.commonMethod2()\n// subClass2.absMethod1()\n// subClass2.absMethod2()\n</code></pre> <p>\u63a5\u53e3\u5b9a\u4e49 \u62bd\u8c61\u65b9\u6cd5\uff1b \u516c\u5171\u7ed3\u6784\u4f53\u5b9e\u73b0 \u516c\u5171\u65b9\u6cd5\uff1b \u5176\u4ed6\u8981\u7ee7\u627f\u62bd\u8c61\u7c7b\u7684\u5b50\u7c7b\u53ea\u8981 \u533f\u540d\u5d4c\u5957 \u516c\u5171\u7ed3\u6784\u4f53\u5373\u53ef\u3002</p> <p>\u8c03\u7528\uff1a</p> <pre><code>func main() {\n    c := &amp;cat{}\n    c.run(c)\n\n    d := &amp;dog{}\n    d.run(d)\n    fmt.Println(\"kind(): \", d.kind())\n\n    s1 := subClass1{}\n    s1.commonMethod1()  // \u6253\u5370\uff1aAbsClass commonMethod1\n    s1.commonMethod2()  // \u6253\u5370\uff1aAbsClass commonMethod2\n    s1.absMethod1()     // \u6253\u5370\uff1asubClass1 absMethod1\n    s1.absMethod2()     // \u6253\u5370\uff1asubClass1 absMethod2\n\n    s2 := subClass2{}\n    s2.commonMethod1()  // \u6253\u5370\uff1aAbsClass commonMethod1\n    s2.commonMethod2()  // \u6253\u5370\uff1asubClass2 commonMethod2\n    s2.absMethod1()     // \u6253\u5370\uff1asubClass2 absMethod1\n    s2.absMethod2()     // \u6253\u5370\uff1asubClass2 absMethod2\n}\n</code></pre>"},{"location":"Go/Basic/Golang-13-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/#_10","title":"\u5c0f\u7ed3","text":"<p>Golang \u4e2d\u5b9e\u73b0\u62bd\u8c61\u7c7b\uff1a</p> <ol> <li>\u62bd\u8c61\u7684\u65b9\u6cd5 \u653e\u5728 \u63a5\u53e3 \u4e2d</li> <li>\u516c\u5171\u7684\u65b9\u6cd5 \u5b9a\u4e49\u4e00\u4e2a \u516c\u5171\u7ed3\u6784\u4f53 \u53bb\u5b9e\u73b0\uff0c\u9700\u8981\u7528\u5230 <code>this</code> \u7684\u5730\u65b9\u4f7f\u7528\u63a5\u53e3\u53d8\u91cf</li> <li>\u7ee7\u627f\u62bd\u8c61\u7c7b\u7684\u5b50\u7c7b\u8981\u505a\u4e24\u4ef6\u4e8b\uff1a<ul> <li>\u533f\u540d\u5d4c\u5957\u516c\u5171\u7ed3\u6784\u4f53</li> <li>\u5b9e\u73b0\u63a5\u53e3\u4e2d\u7684\u6240\u6709\u65b9\u6cd5</li> </ul> </li> <li>\u5728\u8c03\u7528\u516c\u5171\u65b9\u6cd5\u65f6\uff0c\u9700\u8981 <code>this</code> \u7684\u5730\u65b9\uff0c\u5c06\u5b50\u7c7b\u81ea\u5df1\u4f20\u8fdb\u53bb\u3002</li> </ol>"},{"location":"Go/Basic/Golang-13-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/#_11","title":"\u6cdb\u578b","text":"<p>\u636e\u8bf4\u5728 Go 1.18 \u51fa</p>"},{"location":"Go/Basic/Golang-13-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/#_12","title":"\u5355\u4f8b\u6a21\u5f0f","text":"\u997f\u6c49\u5f0f\u61d2\u6c49\u5f0f\u4f7f\u7528 sync.Once \u5b9e\u73b0\u7684\u61d2\u6c49\u5f0f <pre><code>type singleton struct{}\n\nvar single *singleton = new(singleton)\n\nfunc GetPersonInstance() *singleton {\n    return single\n}\n</code></pre> \u6d4b\u8bd5\u4e00\u4e0b <pre><code>func main() {\n    s3 := GetPersonInstance()\n    s4 := GetPersonInstance()\n    fmt.Printf(\"%p\\n\", s3) // 0x104d5b8\n    fmt.Printf(\"%p\\n\", s4) // 0x104d5b8\n}\n</code></pre> <pre><code>type singleton struct{}\n\nvar single *singleton\n\nfunc GetPersonInstance() *singleton {\n    if single == nil {\n        single = new(singleton)\n    }\n    return single\n}\n</code></pre> \u6d4b\u8bd5\u4e00\u4e0b <pre><code>func main() {\n    s3 := GetPersonInstance()\n    s4 := GetPersonInstance()\n    fmt.Printf(\"%p\\n\", s3) // 0x104d5b8\n    fmt.Printf(\"%p\\n\", s4) // 0x104d5b8\n}\n</code></pre> <pre><code>type singleton struct{}\n\nvar (\n    single *singleton\n    once   sync.Once\n)\n\nfunc GetPersonInstance() *singleton {\n    once.Do(func() {\n        single = new(singleton)\n    })\n    return single\n}\n</code></pre> \u6d4b\u8bd5\u4e00\u4e0b\uff1a <pre><code>func main() {\n    s1 := GetPersonInstance()\n    s2 := GetPersonInstance()\n    fmt.Printf(\"%p\\n\", s1) // 0xdbd5b8\n    fmt.Printf(\"%p\\n\", s2) // 0xdbd5b8\n}\n</code></pre>"},{"location":"Go/Basic/Golang-14-%E9%94%99%E8%AF%AF%E4%B8%8E%E5%BC%82%E5%B8%B8/","title":"14.\u9519\u8bef\u4e0e\u5f02\u5e38","text":""},{"location":"Go/Basic/Golang-14-%E9%94%99%E8%AF%AF%E4%B8%8E%E5%BC%82%E5%B8%B8/#_1","title":"\u9519\u8bef\u4e0e\u5f02\u5e38","text":"<p>Info</p> <p>\u610f\u6599\u4e4b\u4e2d\u7684\u53eb \u9519\u8bef \u610f\u6599\u4e4b\u5916\u7684\u53eb \u5f02\u5e38</p> <p>\u9519\u8bef\uff1a\u662f\u6307\u53ef\u80fd\u51fa\u73b0\u95ee\u9898\u7684\u5730\u65b9\u51fa\u73b0\u4e86\u95ee\u9898\uff0c\u6bd4\u5982\u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\u65f6\u5931\u8d25\uff0c\u8fd9\u79cd\u60c5\u51b5\u662f\u5728\u610f\u6599\u4e4b\u4e2d\u7684\u3002</p> <p>\u5f02\u5e38\uff1a\u662f\u6307\u4e0d\u5e94\u8be5\u51fa\u73b0\u95ee\u9898\u7684\u5730\u65b9\u51fa\u73b0\u4e86\u95ee\u9898\uff0c\u6bd4\u5982\u5f15\u7528\u4e86\u7a7a\u6307\u9488\uff0c\u8fd9\u79cd\u60c5\u51b5\u5728\u4eba\u4eec\u7684\u610f\u6599\u4e4b\u5916\u3002</p> <p>\u6240\u4ee5\u9519\u8bef\u662f\u4e1a\u52a1\u8fc7\u7a0b\u7684\u4e00\u90e8\u5206\uff0c\u800c\u5f02\u5e38\u4e0d\u662f\u3002</p>"},{"location":"Go/Basic/Golang-14-%E9%94%99%E8%AF%AF%E4%B8%8E%E5%BC%82%E5%B8%B8/#_2","title":"\u9519\u8bef","text":"<p>Go \u4e2d\u9519\u8bef\u662f\u4e00\u79cd\u7c7b\u578b\u3002 \u9519\u8bef\u7528\u5185\u7f6e\u7684 <code>error</code>\u7c7b\u578b\u8868\u793a\u3002\u548c <code>int\u3001float64</code> \u662f\u7b49\u4ef7\u7684\u3002</p> <p><code>error</code> \u662f\u4e00\u4e2a\u63a5\u53e3\uff0c\u63a5\u53e3\u662f\u4e00\u79cd\u7c7b\u578b\uff0c\u6240\u4ee5\u8bf4 <code>error</code> \u662f\u4e00\u79cd\u7c7b\u578b\u3002</p> <p></p><pre><code>type error interface {\n    Error() string\n}\n</code></pre> <code>error</code>\u7c7b\u578b\u53ef\u4ee5\u5b58\u50a8\u9519\u8bef\u503c\uff0c\u4ece\u51fd\u6570\u4e2d\u8fd4\u56de\u7b49\u7b49\u3002<p></p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"os\"\n)\n\nfunc main() {\n    f, err := os.Open(\"test.txt\")\n    if err != nil {\n        fmt.Println(err)\n        return\n    }\n    // \u6839\u636ef\u8fdb\u884c\u6587\u4ef6\u8bfb\u5199\n    fmt.Println(f.Name(), \"opened successfully\")\n}\n</code></pre>"},{"location":"Go/Basic/Golang-14-%E9%94%99%E8%AF%AF%E4%B8%8E%E5%BC%82%E5%B8%B8/#_3","title":"\u629b\u51fa\u9519\u8bef","text":"<p>\u5728\u7f16\u5199\u6869\u6a21\u5757\u4f9b\u4eba\u8c03\u7528\u65f6\uff0c\u6211\u4eec\u4e0d\u77e5\u9053\u8c03\u7528\u8005\u4f1a\u4f20\u8fdb\u6765\u4ec0\u4e48\u53c2\u6570\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u5bf9\u4f20\u8fdb\u6765\u7684\u53c2\u6570\u505a\u5224\u65ad\u3002 \u5982\u679c\u53d1\u751f\u9519\u8bef\u6211\u4eec\u9700\u8981\u8fdb\u884c\u5904\u7406\uff0c\u6216\u8005 \u629b\u51fa\u9519\u8bef\u3002</p> <p>\u8981\u629b\u51fa\u9519\u8bef\uff0c\u90a3\u5f97\u5148\u4f1a\u521b\u5efa\u9519\u8bef\u3002</p> <p>\u521b\u5efa\u9519\u8bef\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a</p> <ol> <li>\u901a\u8fc7 <code>errors</code> \u5305\u7684 <code>New()</code> \u51fd\u6570\u521b\u5efa\uff1a<code>func New(errMsg string) error</code></li> <li>\u901a\u8fc7 <code>fmt</code> \u5305\u7684 <code>Errorf()</code> \u51fd\u6570\u521b\u5efa\uff1a<code>func Errorf(format string, a ...interface{}) error</code></li> </ol> <p>\u521b\u5efa\u9519\u8bef </p><pre><code>errors.New(string)\nfmt.Errorf(string, ...interface{})\n</code></pre><p></p> <p>\u8fd9\u4e24\u79cd\u65b9\u5f0f\u533a\u522b\u5728\u4e8e\uff1a <code>fmt.Errorf()</code> \u53ef\u4ee5\u4f7f\u7528\u683c\u5f0f\u5316\u5b57\u7b26\u6765\u8fd4\u56de\u9519\u8bef\u4fe1\u606f\uff0c\u800c <code>errors.New()</code> \u4e0d\u80fd\u3002</p> <p>Example</p> errors.New()fmt.Errorf() <p></p><pre><code>func div(a, b float64) (float64, error) {\n    if b == 0 {\n        return 0, errors.New(\"\u9664\u6570\u5c0f\u4e8e0\")\n    }\n    return a / b, nil\n}\n</code></pre> \u8c03\u7528\u7684\u6548\u679c\uff1a <pre><code>fmt.Println(div(10, 0))    // \u9664\u6570\u5c0f\u4e8e0\n</code></pre><p></p> <p></p><pre><code>func div(a, b float64) (float64, error) {\n    if b == 0 {\n        return 0, fmt.Errorf(\"\u9519\u8bef\u7801: [%d] \\t \u9664\u6570\u5c0f\u4e8e0\", 100)\n    }\n    return a / b, nil\n}\n</code></pre> \u8c03\u7528\u7684\u6548\u679c\uff1a <pre><code>fmt.Println(div(10, 0))    // 0 \u9519\u8bef\u7801: [100]          \u9664\u6570\u5c0f\u4e8e0\n</code></pre><p></p>"},{"location":"Go/Basic/Golang-14-%E9%94%99%E8%AF%AF%E4%B8%8E%E5%BC%82%E5%B8%B8/#_4","title":"\u6355\u83b7\u9519\u8bef","text":"<p>\u5f53\u6211\u4eec\u5199\u9a71\u52a8\u6a21\u5757\u7684\u65f6\u5019\uff0c\u5728\u8c03\u7528\u6869\u6a21\u5757\u65f6\u6709\u53ef\u80fd\u8fd4\u56de\u9519\u8bef\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5224\u65ad \u6700\u540e\u4e00\u4e2a\u8fd4\u56de\u503c err \uff08\u6700\u540e\u4e00\u4e2a\u8fd4\u56de\u503c\u8fd4\u56de\u9519\u8bef\u7c7b\u578b\uff0c\u8fd9\u662f\u7ea6\u5b9a\u4fd7\u6210\u7684\uff09\u6765\u5224\u65ad\u662f\u5426\u6709\u8fd4\u56de\u9519\u8bef\u3002 </p><pre><code>func main() {\n    quotient, err := div(10, 0)\n    if err != nil {    // \u6355\u83b7\u9519\u8bef\n        fmt.Println(err)\n        return\n    }\n    fmt.Println(quotient)\n}\n</code></pre><p></p>"},{"location":"Go/Basic/Golang-14-%E9%94%99%E8%AF%AF%E4%B8%8E%E5%BC%82%E5%B8%B8/#_5","title":"\u81ea\u5b9a\u4e49\u9519\u8bef","text":"<p>\u7b80\u7b80\u5355\u5355\u7684 <code>Error.New()</code> \u548c <code>fmt.Errorf()</code> \u6709\u65f6\u5019\u5e76\u4e0d\u80fd\u6ee1\u8db3\u6211\u4eec\u7684\u9700\u6c42\uff0c\u6240\u4ee5\u6211\u4eec\u8fd8\u5f97\u81ea\u5b9a\u4e49\u9519\u8bef\u3002</p> <p>\u81ea\u5b9a\u4e49\u9519\u8bef\u5206\u4e3a\u4e09\u6b65\uff1a</p> <ol> <li>\u521b\u5efa\u4e00\u4e2a\u7ed3\u6784\u4f53</li> <li>\u5b9e\u73b0 <code>error</code> \u63a5\u53e3</li> <li>\u5b9a\u4e49\u5176\u4ed6\u65b9\u6cd5</li> </ol> <p>\u5176\u4e2d\u7b2c\u4e00\u6b65\u548c\u7b2c\u4e8c\u6b65\u662f\u5fc5\u9009\u7684\uff0c\u7b2c\u4e09\u6b65\u662f\u53ef\u9009\u7684\u3002</p> <p>Example</p> \u81ea\u5b9a\u4e49\u9519\u8bef\u629b\u51fa\u9519\u8bef\u6355\u83b7\u9519\u8bef\u8f93\u51fa\u7ed3\u679c <pre><code>// \u521b\u5efa\u4e00\u4e2a\u7ed3\u6784\u4f53\ntype dataError struct {\n    Err    string\n    height int\n    weight int\n    age    int\n}\n// \u5b9e\u73b0 error \u63a5\u53e3\uff0c\u4f7f dataError \u6210\u4e3a error \u7c7b\u578b\nfunc (d *dataError) Error() string { return d.Err }\n\n// \u5b9a\u4e49\u5176\u4ed6\u65b9\u6cd5\nfunc (d *dataError) heightNegativeError() bool { return d.height &lt; 0 }\nfunc (d *dataError) weightNegativeError() bool { return d.weight &lt; 0 }\nfunc (d *dataError) ageNegativeError() bool { return d.age &lt;= 0 }\n</code></pre> <pre><code>type status = bool\n\nconst (\n    SUCCESS = true  // SUCCESS \u9a8c\u8bc1\u901a\u8fc7\n    FAIL    = false // FAIL    \u9a8c\u8bc1\u672a\u901a\u8fc7\n)\n\ntype Person struct {\n    height int\n    weight int\n    age    int\n}\n// \u9a8c\u8bc1\u4e0d\u901a\u8fc7\u65f6\uff0c\u629b\u51fa\u9519\u8bef\nfunc variety(p Person) (status, error) {\n    if p.height &lt; 0 || p.weight &lt; 0 || p.age &lt; 0 {\n        return FAIL, &amp;dataError{\"\u6570\u636e\u6709\u8bef\", p.height, p.weight, p.age}    // \u629b\u51fa\u9519\u8bef\n    }\n    return SUCCESS, nil\n}\n</code></pre> <pre><code>func main() {\n    p := Person{178, 120, -18}\n    s, err := variety(p)\n\n    if err != nil {    // \u6355\u83b7\u9519\u8bef\n        fmt.Println(\"Error:\", err)\n        return\n    }\n    fmt.Println(s, p)\n}\n</code></pre> <pre><code>$ go run main.go\nError: \u6570\u636e\u6709\u8bef\n</code></pre> <p>\u5982\u679c\u6355\u83b7\u5230\u4e86\u9519\u8bef\uff0c\u800c\u6211\u4eec\u53c8\u60f3\u8fdb\u4e00\u6b65\u5224\u65ad\u662f\u4ec0\u4e48\u9519\u8bef\uff0c\u9700\u8981\u7528\u5230 \u7c7b\u578b\u65ad\u8a00\u3002 </p><pre><code>func main() {\n    p := Person{178, 120, -18}\n    s, err := variety(p)\n\n    if err != nil {    // \u6355\u83b7\u9519\u8bef\n        if ins, ok := err.(*dataError); ok {    // \u7c7b\u578b\u65ad\u8a00\uff0c\u5224\u65ad\u662f\u54ea\u79cd\u9519\u8bef\n            switch {    // \u6355\u83b7\u540e\u7684\u5904\u7406\uff0c\u53ef\u4ee5\u6253\u5370\u9519\u8bef\u4fe1\u606f\uff0c\u4e5f\u53ef\u4ee5\u53d6\u4e2a\u7edd\u5bf9\u503c\u7b49\u5176\u4ed6\u64cd\u4f5c\u3002\n            case ins.heightNegativeError(): ins.Err = \"\u8eab\u9ad8\u4e3a\u8d1f\"\n            case ins.weightNegativeError(): ins.Err = \"\u4f53\u91cd\u4e3a\u8d1f\"\n            case ins.ageNegativeError():    ins.Err = \"\u5e74\u9f84\u4e3a\u8d1f\"\n            }\n            fmt.Println(\"Error:\", ins)\n        }\n        return\n    }\n    fmt.Println(s, p)\n}\n</code></pre> \u8f93\u51fa\u7ed3\u679c\uff1a <pre><code>$ go run main.go\nError: \u5e74\u9f84\u4e3a\u8d1f\n</code></pre><p></p>"},{"location":"Go/Basic/Golang-14-%E9%94%99%E8%AF%AF%E4%B8%8E%E5%BC%82%E5%B8%B8/#_6","title":"\u5f02\u5e38","text":"<p>\u5f53\u4e00\u4e2a\u7a0b\u5e8f\u9047\u5230\u610f\u6599\u4e4b\u5916\u7684\u9519\u8bef\u65f6\uff0c\u5e94\u8be5\u629b\u51fa\u5f02\u5e38\uff0c\u505c\u6b62\u7a0b\u5e8f\u7684\u8fd0\u884c\u3002 Go \u4e2d\u5f15\u5165\u4e24\u4e2a\u5185\u7f6e\u51fd\u6570 <code>panic()</code> \u548c <code>recover()</code> \u6765\u51fa\u53d1\u548c\u7ec8\u6b62\u5f02\u5e38\u5904\u7406\u6d41\u7a0b\uff0c\u540c\u65f6\u5f15\u5165\u5173\u952e\u5b57 <code>defer</code> \u6765\u5ef6\u8fdf\u6267\u884c\u5ef6\u8fdf\u51fd\u6570\u3002</p>"},{"location":"Go/Basic/Golang-14-%E9%94%99%E8%AF%AF%E4%B8%8E%E5%BC%82%E5%B8%B8/#defer","title":"\u590d\u4e60\u4e00\u4e0b defer","text":"<pre><code>func fn() {\n    fmt.Println(\"start\")\n    defer fmt.Println(1)\n    defer fmt.Println(2)\n    defer fmt.Println(3)\n    fmt.Println(\"end\")\n}\n// ---------------------\n// Output:\nstart\nend\n3\n2\n1\n</code></pre> \u5148 <code>defer</code> \u7684\u540e\u6267\u884c\uff0c\u540e <code>defer</code> \u7684\u5148\u6267\u884c"},{"location":"Go/Basic/Golang-14-%E9%94%99%E8%AF%AF%E4%B8%8E%E5%BC%82%E5%B8%B8/#panic","title":"panic","text":"<ol> <li>\u5185\u7f6e\u51fd\u6570</li> <li>\u53d1\u751f <code>panic</code> \u7684\u60c5\u51b5\u6709\u4e24\u79cd\uff1a<ol> <li>\u624b\u52a8\u629b\u51fa\uff0c\u5373\u7f16\u5199 <code>panic</code> \u8bed\u53e5</li> <li>\u7a0b\u5e8f\u53d1\u751f\u9519\u8bef\u7531\u7cfb\u7edf\u629b\u51fa\u3002</li> </ol> </li> <li>\u5982\u679c\u51fd\u6570\u4e2d\u51fa\u73b0\u4e86 <code>panic</code> \u8bed\u53e5\uff0c\u5219\u4e0d\u4f1a\u7ee7\u7eed\u6267\u884c <code>panic</code> \u4e0b\u9762\u7684\u4ee3\u7801\uff0c\u800c\u662f\u4f1a\u9006\u5e8f\u6267\u884c <code>defer</code> \u4fee\u9970\u7684\u51fd\u6570\uff0c\u7136\u540e\u8fd4\u56de\u8c03\u7528\u5904</li> <li>\u5982\u679c\u4e00\u8def\u90fd\u6ca1\u6709\u9047\u5230 <code>recover()</code>\uff0c\u5219\u4e00\u8def\u4f20\u9012\u56de\u6240\u5728\u534f\u7a0b\u7684\u8d77\u70b9\uff0c\u7136\u540e\u8be5\u534f\u7a0b\u7ed3\u675f\uff0c\u7ec8\u6b62\u5176\u4ed6\u6240\u6709\u534f\u7a0b\uff08\u5305\u62ec\u4e3b\u534f\u7a0b\uff09\u3002</li> <li>\u6700\u7ec8\u6574\u4e2a goroutine \u9000\u51fa\uff0c\u62a5\u544a\u9519\u8bef\u3002</li> </ol> <p><code>panic</code> \u7684\u7b7e\u540d\u5982\u4e0b\uff1a </p><pre><code>func panic(v interface{})\n</code></pre> <code>panic</code> \u4e2d\u63a5\u53d7\u4e00\u4e2a\u4efb\u4f55\u7c7b\u578b\u7684\u53c2\u6570\uff0c\u53ef\u4ee5\u4f20\u9012\u4e00\u4e2a\u9519\u8bef\u6d88\u606f\u7684\u5b57\u7b26\u4e32\uff0c\u4e5f\u53ef\u4ee5\u4f20\u9012\u4e00\u4e2a\u9519\u8bef\u7801\u3002<p></p> <p>Example</p> <pre><code>func fn() {\n    fmt.Println(\"start\")\n    defer fmt.Println(1)\n    defer fmt.Println(2)\n\n    panic(100)\n\n    defer fmt.Println(3)\n    fmt.Println(\"end\")\n}\n\nfunc main() {\n    defer fmt.Println(\"main defer...\")\n    fn()\n    fmt.Println(\"After fn()...\")\n}\n\n// ---------------------\n// Output:\nstart\n2\n1\nmain defer...\npanic: 100\n\ngoroutine 1 [running]:\nmain.fn()    e:/---CODE/GO/root/src/boii.xyz/study/HelloWorld/main.go:19 +0x166\nmain.main()  e:/---CODE/GO/root/src/boii.xyz/study/HelloWorld/main.go:26 +0x27\nexit status 2\n</code></pre> <p>\u53ef\u4ee5\u770b\u51fa\u53d1\u751f <code>panic</code> \u4e4b\u540e\uff0c\u5728 <code>panic</code> \u4e4b\u524d <code>defer</code> \u7684\u4ee3\u7801\u4f9d\u7136\u4f1a\u9006\u5e8f\u6267\u884c\uff0c\u7136\u540e\u56de\u5230\u8c03\u7528\u5904\u3002 \u4e0a\u9762\u7684\u4f8b\u5b50\u6267\u884c\u5b8c <code>fn()</code> \u4e2d <code>defer</code> \u51fd\u6570\u540e\uff0c\u4fbf\u8fd4\u56de\u4e86 <code>main()</code> \u51fd\u6570\uff0c \u63a5\u7740\u6267\u884c \u65e9\u5728\u8c03\u7528 <code>fn()</code> \u4e4b\u524d\u5c31 <code>defer</code> \u7684 \u6253\u5370\u8bed\u53e5\uff0c\u7136\u540e\u5c31\u7ec8\u6b62\u7a0b\u5e8f\u4e86\u3002</p> <p>\u7ed3\u8bba</p> <p><code>defer\u51fd\u6570</code>\u7684\u6267\u884c \u4f18\u5148\u4e8e <code>panic</code></p>"},{"location":"Go/Basic/Golang-14-%E9%94%99%E8%AF%AF%E4%B8%8E%E5%BC%82%E5%B8%B8/#recover","title":"recover","text":"<ol> <li>\u5185\u7f6e\u51fd\u6570</li> <li>\u7528\u6765\u7ec8\u6b62\u4e00\u4e2a\u534f\u7a0b\u4e2d\u7684 panicking \u884c\u4e3a\uff0c\u6355\u83b7 <code>panic</code>\uff0c\u4ece\u800c\u5f71\u54cd\u5e94\u7528\u7684\u884c\u4e3a\u3002</li> <li><code>recover</code> \u9700\u8981\u7528 <code>defer</code> \u4fee\u9970\u3002</li> <li>\u4e00\u822c\u7684\u8c03\u7528\u5efa\u8bae\uff1a<ol> <li>\u5728 defer \u51fd\u6570\u4e2d\uff0c\u901a\u8fc7 <code>recover</code> \u6765\u7ec8\u6b62\u4e00\u4e2a \u534f\u7a0b\u7684 panicking \u8fc7\u7a0b\uff0c\u4ece\u800c\u6062\u590d\u6b63\u5e38\u4ee3\u7801\u7684\u6267\u884c</li> <li>\u53ef\u4ee5\u83b7\u53d6\u901a\u8fc7 <code>panic</code> \u4f20\u9012\u7684 <code>error</code></li> </ol> </li> </ol> <p>\u7b80\u800c\u8a00\u4e4b\uff0cgo\u4e2d\u53ef\u4ee5\u629b\u51fa\u4e00\u4e2a <code>panic</code>\u7684\u5f02\u5e38\uff0c\u7136\u540e\u5728 <code>defer</code> \u4e2d\u901a\u8fc7 <code>recover</code> \u6355\u83b7\u8fd9\u4e2a\u5f02\u5e38\uff0c\u7136\u540e\u6b63\u5e38\u5904\u7406\u3002</p> <p>Faq</p> <p>Q\uff1a\u4e3a\u4ec0\u4e48 <code>recover</code> \u9700\u8981 <code>defer</code> \u4fee\u9970\uff1f</p> <p>A\uff1a\u56e0\u4e3a\u53d1\u751f <code>panic</code> \u540e\uff0c\u53ea\u4f1a\u6267\u884c <code>defer</code> \u4fee\u9970\u7684\u51fd\u6570\uff0c\u7136\u540e\u8fd4\u56de\u51fd\u6570\u8c03\u7528\u5904\u3002     \u800c <code>recover</code> \u662f\u4e13\u95e8\u7528\u6765\u6062\u590d <code>panic</code> \u7684\uff0c\u6240\u4ee5\u5fc5\u987b\u7528  <code>defer</code> \u4fee\u9970 <code>recover</code>\uff0c     \u4e14 <code>recover</code> \u9700\u653e\u7f6e\u5728\u51fa\u73b0\u6216\u53ef\u80fd\u51fa\u73b0 <code>panic</code> \u7684\u5730\u65b9 \u4e4b\u524d\uff0c\u5426\u5219\u4e00\u65e6\u53d1\u751f <code>panic</code>\uff0c\u7a0b\u5e8f\u63a7\u5236\u6d41\u5c31\u5f00\u59cb\u5f80\u56de\u8d70\uff0c<code>panic</code> \u4e0b\u65b9\u7684\u4efb\u4f55\u4ee3\u7801\u5305\u62ec <code>defer</code> \u4fee\u9970\u7684\u5730\u65b9\u4e5f\u4e0d\u4f1a\u6267\u884c\uff0c\u8fd9\u6837\u5c31\u6355\u83b7\u4e0d\u5230 <code>panic</code> \u4e86\u3002</p> <p>Example</p> <p>\u53d1\u751f\u6570\u7ec4\u4e0b\u6807\u8d8a\u754c</p> \u6ca1\u6709 recover\u65f6\u4f7f\u7528\u4e86 recover \u7684\u6548\u679c <p></p><pre><code>func traverse(a [5]int) {\n    for i := 0; i &lt;= 5; i++ {\n        fmt.Println(a[i])\n    }\n    fmt.Println(\"under for\")\n}\n\nfunc main() {\n    defer fmt.Println(\"main defer...\")\n\n    a := [5]int{1, 2, 3, 4, 5}\n    traverse(a)\n\n    fmt.Println(\"After div()...\")\n}\n</code></pre> \u8f93\u51fa\uff1a  <pre><code>1\n2\n3\n4\n5\nmain defer...\npanic: runtime error: index out of range [5] with length 5\n\ngoroutine 1 [running]:\nmain.traverse(0x1, 0x2, 0x3, 0x4, 0x5)\n        e:/---CODE/GO/root/src/boii.xyz/study/HelloWorld/main.go:17 +0xbe\nmain.main()\n        e:/---CODE/GO/root/src/boii.xyz/study/HelloWorld/main.go:25 +0x105\nexit status 2\n</code></pre> \u6700\u540e\u7684 <code>exit status 2</code>\u8bf4\u660e\u7a0b\u5e8f\u662f\u975e\u6b63\u5e38\u9000\u51fa\u7684\u3002<p></p> <p></p><pre><code>func traverse(a [5]int) {\n    defer func() {\n        if msg := recover(); msg != nil {\n            fmt.Println(msg)\n        }\n    }()\n    for i := 0; i &lt;= 5; i++ {    // \u8fd9\u91cc\u4f1a\u53d1\u751f\u6570\u7ec4\u4e0b\u6807\u8d8a\u754c\uff0c\u5f15\u53d1panic\n        fmt.Println(a[i])\n    }\n    fmt.Println(\"under for\")\n}\n\nfunc main() {\n    defer fmt.Println(\"main defer...\")\n\n    a := [5]int{1, 2, 3, 4, 5}\n    traverse(a)\n\n    fmt.Println(\"After div()...\")\n}\n</code></pre> \u8f93\u51fa\uff1a <pre><code>1\n2\n3\n4\n5\nruntime error: index out of range [5] with length 5\nAfter div()...\nmain defer...\n</code></pre><p></p> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u53d1\u751f\u6570\u7ec4\u4e0b\u6807\u8d8a\u754c\u65f6\uff0c\u7a0b\u5e8f\u4f1a\u5f15\u53d1 <code>panic</code>\uff0c\u7136\u540e\u5f00\u59cb\u6267\u884c <code>defer</code> \u51fd\u6570\uff1b \u5728 <code>defer</code> \u51fd\u6570\u91cc\u9047\u5230\u4e86 <code>recover</code>\uff0c\u4f7f\u5f97\u7a0b\u5e8f\u6062\u590d\u6b63\u5e38\u8fd0\u884c\uff0c\u6253\u5370\u4e86\u9519\u8bef\u4fe1\u606f\u540e\uff0c\u56de\u5230\u4e3b\u51fd\u6570\u7ee7\u7eed\u6267\u884c \u4f46\u662f\u6211\u4eec\u4f1a\u53d1\u73b0\u867d\u7136\u88ab <code>recover</code> \u6062\u590d\u4e86\uff0c\u4f46\u662f for \u5faa\u73af\u4e0b\u9762\u7684 \u8bed\u53e5\u4f9d\u7136\u4e0d\u4f1a\u6267\u884c\u3002</p> <p>\u7ed3\u8bba</p> <p><code>recover</code> \u5fc5\u987b\u7528 <code>defer</code> \u4fee\u9970 <code>recover</code> \u5fc5\u987b\u653e\u5728\u53ef\u80fd\u5f15\u53d1 <code>panic</code> \u7684\u5730\u65b9\u4e4b\u524d \u5373\u4f7f <code>recover</code> \u4e86\uff0c\u5728\u51fd\u6570\u91cc\uff0c\u5f15\u53d1 <code>panic</code> \u7684\u5730\u65b9\u4e0b\u9762\u90a3\u4e9b\u4ee3\u7801\u4f9d\u7136\u6ca1\u6709\u673a\u4f1a\u8fd0\u884c\u3002</p> <p></p>"},{"location":"Go/Basic/Golang-15-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/","title":"15.\u5355\u5143\u6d4b\u8bd5","text":""},{"location":"Go/Basic/Golang-15-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#_1","title":"\u5355\u5143\u6d4b\u8bd5","text":"<p>Golang \u7684\u5355\u5143\u6d4b\u8bd5\u4f9d\u8d56 <code>go test</code> \u547d\u4ee4\uff0c\u7f16\u5199\u6d4b\u8bd5\u4ee3\u7801\u548c\u7f16\u5199\u666e\u901a\u4ee3\u7801\u4e00\u6837\uff0c\u53ea\u9700\u8981\u9075\u5faa\u4e00\u5b9a\u7684\u89c4\u5219\u5373\u53ef\u3002</p> <p><code>go test</code> \u547d\u4ee4\u662f\u4e00\u4e2a\u6309\u7167\u4e00\u5b9a\u7ea6\u5b9a\u548c\u7ec4\u7ec7\u7684\u6d4b\u8bd5\u4ee3\u7801\u7684\u9a71\u52a8\u7a0b\u5e8f\u3002</p> <p>\u6240\u6709\u4ee5 <code>_text.go</code> \u4e3a\u540e\u7f00\u7684\u6e90\u4ee3\u7801\u6587\u4ef6\u90fd\u662f <code>go test</code> \u6d4b\u8bd5\u7684\u4e00\u90e8\u5206\uff0c\u4e0d\u4f1a\u88ab <code>go build</code> \u7f16\u8bd1\u5230\u53ef\u6267\u884c\u6587\u4ef6\u4e2d\uff1b</p> <p>\u6d4b\u8bd5\u6587\u4ef6 <code>xxx_test.go</code> \u4e2d\u6709\u4e09\u79cd\u7c7b\u578b\u51fd\u6570\uff1a<code>\u5355\u5143\u6d4b\u8bd5\u51fd\u6570</code>\u3001<code>\u57fa\u51c6\u6d4b\u8bd5\u51fd\u6570</code>\u3001<code>\u793a\u4f8b\u51fd\u6570</code>.</p> \u7c7b\u578b \u524d\u7f00 \u683c\u5f0f \u4f5c\u7528 \u5355\u5143\u6d4b\u8bd5\u51fd\u6570 Test TestTTT(t *testing.T) \u6d4b\u8bd5\u7a0b\u5e8f\u7684\u903b\u8f91\u6027\u4e3a\u662f\u5426\u6b63\u786e \u57fa\u51c6\u6d4b\u8bd5\u51fd\u6570 Benchmark BenchmarkBBB(b *testing.B) \u6d4b\u8bd5\u7a0b\u5e8f\u7684\u6027\u80fd \u793a\u4f8b\u51fd\u6570 Example ExampleEEE() \u4e3a\u6587\u6863\u63d0\u4f9b\u793a\u4f8b <p>\u5728 <code>go test</code> \u547d\u4ee4\u6267\u884c\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u904d\u5386\u6240\u6709 <code>_text.go</code> \u6587\u4ef6\u4e2d\u6240\u6709\u5e26\u6709\u4e0a\u8ff0\u524d\u7f00\u7684\u51fd\u6570\uff0c\u751f\u6210\u4e00\u4e2a\u4e34\u65f6 <code>main</code> \u5305\u7528\u4e8e\u8c03\u7528\u76f8\u5e94\u7684\u6d4b\u8bd5\u51fd\u6570\uff0c\u7136\u540e\u7f16\u8bd1\u3001\u8fd0\u884c\u3001\u62a5\u544a\u6d4b\u8bd5\u7ed3\u679c\u3001\u6e05\u7406\u4e34\u65f6\u6587\u4ef6\u3002</p>"},{"location":"Go/Basic/Golang-15-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#go-test","title":"go test \u547d\u4ee4","text":"<p>\u57fa\u672c\u547d\u4ee4\u662f <code>go test</code>\uff0c\u6709\u5f88\u591a\u53c2\u6570\u53ef\u9009\uff0c</p> <pre><code>go test [build/flags] [packages] [build/test flags &amp; test binary flags]\n</code></pre> <ul> <li> <p>flags:     <code>-v</code>: \u6253\u5370\u6d4b\u8bd5\u8fc7\u7a0b     <code>-cover</code>: \u6253\u5370\u6d4b\u8bd5\u8986\u76d6\u7387     <code>-bench</code>: \u6267\u884c\u57fa\u51c6\u6d4b\u8bd5     ...</p> </li> <li> <p>packages: packages \u4e5f\u5c31\u662f\u8981\u6267\u884c\u6d4b\u8bd5\u7684\u6587\u4ef6\uff0c\u6709\u4e24\u79cd\u6a21\u5f0f\uff1a<code>\u5f53\u524d\u76ee\u5f55\u6a21\u5f0f\uff08local directory mode\uff09</code> \u548c <code>\u5305\u5217\u8868\u6a21\u5f0f\uff08package list mode\uff09</code></p> <ul> <li> <p>\u5f53\u524d\u76ee\u5f55\u6a21\u5f0f\uff1a\u6ca1\u6709\u586b\u5199\u5177\u4f53\u7684\u5305\u540d\u65f6\u5c31\u662f\u8fd9\u4e2a\u6a21\u5f0f\u3002</p> <p>\u6bd4\u5982\u6267\u884c\u547d\u4ee4 <code>go test</code> \u6216 <code>go test -v</code> \u65f6\uff0c\u5c31\u662f\u8fd9\u79cd\u6a21\u5f0f\u3002</p> <p>\u8fd9\u79cd\u6a21\u5f0f\u4e0b\u4f1a\u6267\u884c\u5f53\u524d\u76ee\u5f55\u4e0b\u7684 <code>*_test.go</code> \u6587\u4ef6\u7684\u6d4b\u8bd5\u7528\u4f8b\u3002</p> <p>\u9ed8\u8ba4\u4e0d\u5f00\u542f\u7f13\u5b58\uff0c\u4e5f\u5c31\u662f\u4e0d\u4f1a\u7f13\u5b58\u4e0a\u6b21\u6d4b\u8bd5\u7684\u7ed3\u679c\u3002</p> </li> <li> <p>\u5305\u5217\u8868\u6a21\u5f0f\uff1a\u586b\u5199\u4e86\u5177\u4f53\u7684\u5305\u540d\u65f6\u5c31\u662f\u8fd9\u4e2a\u6a21\u5f0f\u3002</p> <p>\u6bd4\u5982\u6267\u884c\u547d\u4ee4 <code>go test .</code>\u3001<code>go test ./.../...</code> \u6216 <code>go test package_name</code></p> <p>\u8fd9\u79cd\u6a21\u5f0f\u4e0b\u4f1a\u6267\u884c\u6307\u5b9a\u7684\u5305\u4e2d\u7684\u6d4b\u8bd5\u6587\u4ef6\u3002</p> <p>\u9ed8\u8ba4\u5f00\u542f\u7f13\u5b58\uff0c\u4e5f\u5c31\u662f\u4f1a\u7f13\u5b58\u4e0a\u6b21\u6d4b\u8bd5\u7684\u7ed3\u679c\u3002\u53ef\u4ee5\u901a\u8fc7 <code>-count=1</code> \u5173\u95ed\u7f13\u5b58\u3002</p> </li> </ul> </li> </ul>"},{"location":"Go/Basic/Golang-15-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#_2","title":"\u5355\u5143\u6d4b\u8bd5","text":""},{"location":"Go/Basic/Golang-15-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#_3","title":"\u57fa\u672c\u683c\u5f0f","text":"<ol> <li>\u6d4b\u8bd5\u51fd\u6570\u5fc5\u987b\u4ee5 <code>Test</code> \u5f00\u5934</li> <li>\u6d4b\u8bd5\u51fd\u6570\u53c2\u6570\u5fc5\u987b\u5305\u542b\u4e00\u4e2a\u5f62\u53c2 <code>*testing.T</code></li> <li>\u6d4b\u8bd5\u51fd\u6570\u6ca1\u6709\u8fd4\u56de\u503c</li> </ol> <pre><code>func TestFib(t *testing.T) {\n    // ...\n}\n\nfunc TestSiztFmt(t *testing.T, n int) {\n    // ...\n}\n</code></pre> <p>\u53c2\u6570 <code>t</code> \u7528\u4e8e\u62a5\u544a\u6d4b\u8bd5\u6210\u529f\u3001\u5931\u8d25\u3001\u65e5\u5fd7\u7b49\u4fe1\u606f\uff0c\u5176\u5305\u542b\u5982\u4e0b\u65b9\u6cd5\uff1a</p> <pre><code>func (c *T) Error(args ...interface{})\nfunc (c *T) Errorf(format string, args ...interface{})\nfunc (c *T) Fail()\nfunc (c *T) FailNow()\nfunc (c *T) Failed() bool\nfunc (c *T) Fatal(args ...interface{})\nfunc (c *T) Fatalf(format string, args ...interface{})\nfunc (c *T) Log(args ...interface{})\nfunc (c *T) Logf(format string, args ...interface{})\nfunc (c *T) Name() string\nfunc (t *T) Parallel()\nfunc (t *T) Run(name string, f func(t *T)) bool\nfunc (c *T) Skip(args ...interface{})\nfunc (c *T) SkipNow()\nfunc (c *T) Skipf(format string, args ...interface{})\nfunc (c *T) Skipped() bool\n</code></pre>"},{"location":"Go/Basic/Golang-15-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#_4","title":"\u6700\u7b80\u5355\u7684\u5355\u5143\u6d4b\u8bd5","text":"<p>\u7f16\u5199\u4e00\u4e2a\u6590\u6ce2\u90a3\u5951\u6570\u5217\uff0c\u7136\u540e\u7f16\u5199\u5355\u5143\u6d4b\u8bd5\u3002</p> <pre><code>// fib.go\npackage fib\n\nfunc Fib(n int) int {\n    if n &lt; 2 {\n        return n\n    }\n    return Fib(n-1) + Fib(n-2)\n}\n</code></pre> <pre><code>// fib_test.go\npackage fib\n\nimport \"testing\"\n\n// \u5355\u5143\u6d4b\u8bd5\u51fd\u6570\uff0c\u4ee5 Test\u5f00\u5934\nfunc TestFib(t *testing.T) {\n    var (\n        input    = 7    // \u8f93\u5165\u6570\u636e\n        expected = 13   // \u671f\u671b\u7ed3\u679c\n    )\n    actual := Fib(input)    // \u7a0b\u5e8f\u6267\u884c\u7ed3\u679c\n       // \u5982\u679c\u4e0e\u671f\u671b\u7ed3\u679c\u4e0d\u4e00\u81f4\uff0c\u5219\u8f93\u51fa\u9519\u8bef\u63d0\u793a\u3002\n    if actual != expected {\n        t.Errorf(\"Fib(%d) = %d; expected %d\", input, actual, expected)\n    }\n}\n</code></pre> <pre><code>$ go test\nPASS\nok      goTest  0.002s\n\n$ pwd\n~/---FILE---/---CODE/GoProject/playground/goTest\n\n$ tree -L 2 .\ngoTest\n\u251c\u2500\u2500 fib.go\n\u251c\u2500\u2500 fib_test.go\n\u2514\u2500\u2500 go.mod\n</code></pre> <p>\u8fd9\u662f\u6d4b\u8bd5\u901a\u8fc7\u7684\u7ed3\u679c\uff0c\u5982\u679c\u6211\u4eec\u7684 <code>Fib()</code> \u5199\u9519\u4e86\uff0c\u5219\u4f1a\u8f93\u51fa\u4e0e\u671f\u671b\u503c\u4e0d\u540c\u7684\u7ed3\u679c\uff0c\u5e76\u62a5\u544a\u9519\u8bef\u3002</p> <p>\u73b0\u5728\u5c06 <code>Fib()</code> \u7a0d\u5fae\u4fee\u6539\u4e00\u4e0b\uff0c\u6d4b\u8bd5\u6587\u4ef6\u4e0d\u52a8\uff0c\u518d\u6b21\u6267\u884c <code>go test</code></p> <pre><code>// fib.go\npackage fib\n\nfunc Fib(n int) int {\n    if n &lt; 2 {\n        return n\n    }\n    // return Fib(n-1) + Fib(n-2)\n    return Fib(n-1) + Fib(n-1)  // \u4fee\u6539\u4e00\u4e0b\n}\n</code></pre> <pre><code>$ go test\n--- FAIL: TestFib (0.00s)\n    fib_test.go:12: Fib(7) = 64; expected 13\nFAIL\nexit status 1\nFAIL    goTest  0.002s\n</code></pre>"},{"location":"Go/Basic/Golang-15-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#_5","title":"\u6d4b\u8bd5\u7ec4","text":"<p>\u5355\u5355\u6d4b\u8bd5\u4e00\u4e2a\u4f8b\u5b50\u4e0d\u591f\uff0c\u6211\u4eec\u9700\u8981\u591a\u6d4b\u8bd5\u51e0\u79cd\u60c5\u51b5\uff0c\u624d\u80fd\u66f4\u597d\u7684\u4fdd\u8bc1\u6211\u4eec\u7a0b\u5e8f\u7684\u5065\u58ee\u6027\u3002</p> <p>\u5728\u5355\u5143\u6d4b\u8bd5\u51fd\u6570\u91cc\uff0c\u6211\u4eec\u53ef\u4ee5\u6309\u7167\u6d4b\u8bd5\u7528\u4f8b\u5b9a\u4e49\u4e00\u4e2a\u7ed3\u6784\u4f53\uff0c\u7136\u540e\u521b\u5efa\u4e00\u4e2a\u7ed3\u6784\u4f53\u5207\u7247\uff0c\u5c06\u6d4b\u8bd5\u7528\u4f8b\u90fd\u653e\u5728\u91cc\u9762\u3002</p> <p>\u904d\u5386\u8fd9\u4e2a\u5207\u7247\u5c31\u53ef\u4ee5\u6d4b\u8bd5\u8fd9\u4e00\u6574\u7ec4\u6d4b\u8bd5\u7528\u4f8b\u3002</p> <pre><code>// fib_test.go\npackage fib\n\nimport \"testing\"\n\nfunc TestFib(t *testing.T) {\n    type test struct { // \u5b9a\u4e49\u4e00\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u7ed3\u6784\u4f53\n        in   int\n        want int\n    }\n    // \u521b\u5efa\u4e00\u4e2a\u7ed3\u6784\u4f53\u5207\u7247\u5b58\u653e\u6240\u6709\u6d4b\u8bd5\u7528\u4f8b\n    tests := []test{\n        {in: 7, want: 13},\n        {in: 10, want: 55},\n        {in: 1, want: 1},\n        {in: 2, want: 1},\n        {in: -1, want: -1},\n    }\n    // \u904d\u5386\u7ed3\u6784\u4f53\u5207\u7247\uff0c\u9010\u4e00\u6d4b\u8bd5\u6bcf\u4e2a\u6d4b\u8bd5\u7528\u4f8b\n    for _, tc := range tests {\n        if got := Fib(tc.in); got != tc.want {\n            t.Errorf(\"Fib(%d) = %d; expected %d\", tc.in, got, tc.want)\n        }\n    }\n}\n</code></pre> <ol> <li>\u5b9a\u4e49\u6d4b\u8bd5\u7528\u4f8b\u7ed3\u6784\u4f53</li> <li>\u521b\u5efa\u6d4b\u8bd5\u7528\u4f8b\u7ed3\u6784\u4f53\u5207\u7247\uff0c\u653e\u7f6e\u6240\u6709\u6d4b\u8bd5\u7528\u4f8b</li> <li>\u904d\u5386\u5207\u7247\u9010\u4e00\u6d4b\u8bd5\u6bcf\u4e2a\u6d4b\u8bd5\u7528\u4f8b</li> </ol> <pre><code># \u6d4b\u8bd5\u6210\u529f\n$ go test\nPASS\nok      goTest  0.002s\n</code></pre> <p>\u63a5\u7740\u4fee\u6539 <code>Fib()</code> \u8ba9\u5176\u51fa\u9519\uff0c\u518d\u8fdb\u884c\u6d4b\u8bd5</p> <pre><code># \u6d4b\u8bd5\u5931\u8d25\n$ go test\n--- FAIL: TestFib (0.00s)\n    fib_test.go:21: Fib(7) = 64; expected 13\n    fib_test.go:21: Fib(10) = 512; expected 55\n    fib_test.go:21: Fib(2) = 2; expected 1\nFAIL\nexit status 1\nFAIL    goTest  0.002s\n</code></pre>"},{"location":"Go/Basic/Golang-15-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#_6","title":"\u5b50\u6d4b\u8bd5","text":"<p>\u6d4b\u8bd5\u7ec4\u5728\u6d4b\u8bd5\u7528\u4f8b\u5c11\u7684\u65f6\u5019\u8fd8\u6bd4\u8f83\u597d\u5904\u7406\uff0c\u4f46\u662f\u7528\u4f8b\u591a\u8d77\u6765\u7684\u65f6\u5019\u5c31\u6ca1\u6cd5\u76f4\u63a5\u770b\u51fa\u662f\u54ea\u4e9b\u7528\u4f8b\u4e0d\u901a\u8fc7\u4e86\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5b98\u65b9\u63d0\u4f9b\u7684\u5b50\u6d4b\u8bd5\u3002</p> <p>\u8fd8\u662f\u4e00\u6837\u5b9a\u4e49\u4e00\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u7ed3\u6784\u4f53\uff0c\u4f46\u63a5\u7740\u6211\u4eec\u4e0d\u662f\u521b\u5efa\u7ed3\u6784\u4f53\u5207\u7247\uff0c\u800c\u662f\u521b\u5efa\u7ed3\u6784\u4f53 map \u5b58\u653e\u6240\u6709\u6d4b\u8bd5\u7528\u4f8b\uff0c\u904d\u5386\u7ed3\u6784\u4f53 map\uff0c\u9010\u4e00\u8c03\u7528 <code>t.Run()</code> \u6765\u6d4b\u8bd5\u6bcf\u4e00\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u3002</p> <pre><code>// fib_test.go\npackage fib\n\nimport \"testing\"\n\nfunc TestFib(t *testing.T) {\n    type test struct { // \u5b9a\u4e49\u4e00\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u7ed3\u6784\u4f53\n        in   int\n        want int\n    }\n    // \u521b\u5efa\u4e00\u4e2a\u7ed3\u6784\u4f53\u5207\u7247\u5b58\u653e\u6240\u6709\u6d4b\u8bd5\u7528\u4f8b\n    tests := map[string]test{\n        \"case7\":         {in: 7, want: 13},\n        \"case10\":        {in: 10, want: 55},\n        \"case1\":         {in: 1, want: 1},\n        \"case2\":         {in: 2, want: 1},\n        \"case_negative\": {in: -1, want: -1},\n    }\n\n    for name, tc := range tests {\n        t.Run(name, func(t *testing.T) {\n            if got := Fib(tc.in); got != tc.want {\n                t.Errorf(\"Fib(%d) = %d; expected %d\", tc.in, got, tc.want)\n            }\n        })\n    }\n}\n</code></pre> <p><code>t.Run()</code> \u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u4e00\u4e2a\u662f\u6d4b\u8bd5\u7528\u4f8b\u7684\u540d\u5b57\uff0c\u4e5f\u5c31\u662f map \u4e2d\u7684 key\uff0c\u53e6\u4e00\u4e2a\u662f\u4e00\u4e2a <code>func(t *testing.T)</code> \u51fd\u6570\uff0c\u5728\u51fd\u6570\u4e2d\u5199\u4e0a\u5177\u4f53\u7684\u6d4b\u8bd5\u4ee3\u7801\u3002</p> <p>\u6267\u884c\u65f6\u5e26\u4e0a <code>-v</code> \u53c2\u6570\uff0c\u53ef\u4ee5\u5f88\u76f4\u89c2\u770b\u51fa\u54ea\u4e9b\u7528\u4f8b\u901a\u8fc7\u4e86 (PASS) \u54ea\u4e9b\u6ca1\u901a\u8fc7 (FAIL)</p> <pre><code>$ go test -v\n=== RUN   TestFib\n=== RUN   TestFib/case7\n    fib_test.go:22: Fib(7) = 64; expected 13\n=== RUN   TestFib/case10\n    fib_test.go:22: Fib(10) = 512; expected 55\n=== RUN   TestFib/case1\n=== RUN   TestFib/case2\n    fib_test.go:22: Fib(2) = 2; expected 1\n=== RUN   TestFib/case_negative\n--- FAIL: TestFib (0.00s)\n    --- FAIL: TestFib/case7 (0.00s)\n    --- FAIL: TestFib/case10 (0.00s)\n    --- PASS: TestFib/case1 (0.00s)\n    --- FAIL: TestFib/case2 (0.00s)\n    --- PASS: TestFib/case_negative (0.00s)\nFAIL\nexit status 1\nFAIL    goTest  0.002s\n</code></pre> <p>\u6267\u884c\u65f6\u5e26\u4e0a <code>-run</code> \u53c2\u6570\u8fd8\u53ef\u4ee5\u6307\u5b9a\u8fd0\u884c\u54ea\u4e00\u4e2a\u6d4b\u8bd5\u7528\u4f8b</p> <pre><code>$ go test . -v -run=TestFib/case7\n=== RUN   TestFib\n=== RUN   TestFib/case7\n    fib_test.go:22: Fib(7) = 64; expected 13\n--- FAIL: TestFib (0.00s)\n    --- FAIL: TestFib/case7 (0.00s)\nFAIL\nexit status 1\nFAIL    goTest  0.002s\n\n$ go test . -v -run=Fib/case_negative\n=== RUN   TestFib\n=== RUN   TestFib/case_negative\n--- PASS: TestFib (0.00s)\n    --- PASS: TestFib/case_negative (0.00s)\nPASS\nok      goTest  0.002s\n</code></pre> <p><code>-run=RegExp</code>\uff0c <code>-run</code> \u53c2\u6570\u540e\u5e26\u7684\u662f\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u4f46\u662f\u4e00\u822c\u90fd\u50cf\u8fd9\u6837\u4f7f\u7528\uff1a<code>-run=X/Y</code>\uff0c\u5176\u4e2d\uff1a</p> <ul> <li> <p>X \u662f <code>TestAAA</code> \u4e2d\u7684 <code>AAA</code>\uff0c\u6216\u8005\u76f4\u63a5\u5199\u5168: <code>TestAAA</code> \uff0c</p> </li> <li> <p>Y \u662f\u6d4b\u8bd5\u7528\u4f8b\u7ed3\u6784\u4f53 map \u7684 key\u3002\u5982\u4e0a\u9762\u4f8b\u5b50\u4e2d <code>-run=Fib/case_negative</code> \u7684 <code>case_negative</code> \u5c31\u662f key\u3002</p> </li> </ul>"},{"location":"Go/Basic/Golang-15-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#_7","title":"\u8986\u76d6\u7387","text":"<p>\u8986\u76d6\u7387\u5c31\u662f\u4f60\u7684\u4ee3\u7801\u88ab\u6d4b\u8bd5\u7528\u4f8b\u8986\u76d6\u7684\u767e\u5206\u6bd4\u3002\u901a\u5e38\u8fd9\u4e2a\u8986\u76d6\u6307 \u8bed\u53e5\u8986\u76d6\u3002</p> <p>\u8f93\u51fa\u8986\u76d6\u7387\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a<code>-cover</code>\u3001<code>-coverprofile=outfile</code></p> <ul> <li>\u4f7f\u7528 <code>-cover</code> \u53ef\u4ee5\u6253\u5370\u4ee3\u7801\u8986\u76d6\u7387\u3002</li> <li>\u4f7f\u7528 <code>-coverprofile</code> \u53ef\u4ee5\u5c06\u66f4\u8be6\u7ec6\u7684\u8986\u76d6\u4fe1\u606f\u8f93\u51fa\u5230\u6307\u5b9a\u6587\u4ef6\u4e2d\u3002</li> </ul> <p>-cover</p> <pre><code>$ go test -cover\nPASS\ncoverage: 100.0% of statements\nok      goTest  0.002s\n</code></pre> <p>-coverprofile</p> <pre><code>$ go test -coverprofile=fib.cover\n$ tree -L 2 .\ngoTest\n\u251c\u2500\u2500 fib.cover\n\u251c\u2500\u2500 fib.go\n\u251c\u2500\u2500 fib_test.go\n\u2514\u2500\u2500 go.mod\n\n$ go tool cover -html=fib.cover\n</code></pre> <p>\u4f7f\u7528 <code>go tool cover -html=\u5236\u5b9a\u6587\u4ef6</code> \u547d\u4ee4\u4f1a\u6253\u5f00\u9ed8\u8ba4\u6d4f\u89c8\u5668\u663e\u793a\u5177\u4f53\u7684\u8986\u76d6\u7387\u4fe1\u606f\u3002</p> <p></p> <p>\u5982\u4e0a\u56fe\uff0c\u7eff\u8272\u8868\u793a\u88ab\u8986\u76d6\u7684\u8bed\u53e5\uff0c\u7ea2\u8272\u8868\u793a\u672a\u88ab\u8986\u76d6\u7684\u8bed\u53e5\uff0c\u7070\u8272\u8868\u793a\u672a\u8ffd\u8e2a\u7684\u8bed\u53e5\u3002</p>"},{"location":"Go/Basic/Golang-15-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#_8","title":"\u57fa\u51c6\u6d4b\u8bd5","text":""},{"location":"Go/Basic/Golang-15-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#_9","title":"\u57fa\u672c\u683c\u5f0f","text":"<ol> <li>\u6d4b\u8bd5\u51fd\u6570\u5fc5\u987b\u4ee5 <code>Benchmark</code> \u5f00\u5934</li> <li>\u6d4b\u8bd5\u51fd\u6570\u53c2\u6570\u53ea\u80fd\u5305\u542b\u4e00\u4e2a\u5f62\u53c2 <code>*testing.B</code></li> <li>\u6d4b\u8bd5\u51fd\u6570\u6ca1\u6709\u8fd4\u56de\u503c</li> </ol> <pre><code>func BenchmarkFib(b *testing.B) {\n    // ...\n}\n\nfunc BenchmarkSiztFmt(b *testing.B) {\n    // ...\n}\n</code></pre> <p>\u53c2\u6570 <code>t</code> \u7528\u4e8e\u62a5\u544a\u6d4b\u8bd5\u6210\u529f\u3001\u5931\u8d25\u3001\u65e5\u5fd7\u7b49\u4fe1\u606f\uff0c\u5176\u5305\u542b\u5982\u4e0b\u65b9\u6cd5\uff1a</p> <pre><code>func (c *B) Error(args ...interface{})\nfunc (c *B) Errorf(format string, args ...interface{})\nfunc (c *B) Fail()\nfunc (c *B) FailNow()\nfunc (c *B) Failed() bool\nfunc (c *B) Fatal(args ...interface{})\nfunc (c *B) Fatalf(format string, args ...interface{})\nfunc (c *B) Log(args ...interface{})\nfunc (c *B) Logf(format string, args ...interface{})\nfunc (c *B) Name() string\nfunc (b *B) ReportAllocs()\nfunc (b *B) ResetTimer()\nfunc (b *B) Run(name string, f func(b *B)) bool\nfunc (b *B) RunParallel(body func(*PB))\nfunc (b *B) SetBytes(n int64)\nfunc (b *B) SetParallelism(p int)\nfunc (c *B) Skip(args ...interface{})\nfunc (c *B) SkipNow()\nfunc (c *B) Skipf(format string, args ...interface{})\nfunc (c *B) Skipped() bool\nfunc (b *B) StartTimer()\nfunc (b *B) StopTimer()\n</code></pre>"},{"location":"Go/Basic/Golang-15-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#_10","title":"\u6700\u7b80\u5355\u7684\u57fa\u51c6\u6d4b\u8bd5","text":"<p>\u7f16\u5199\u4e00\u4e2a\u5bb9\u91cf\u683c\u5f0f\u5316\u51fd\u6570\uff0c\u7136\u540e\u7f16\u5199\u5bf9\u5e94\u7684\u57fa\u51c6\u6d4b\u8bd5\u51fd\u6570\u3002</p> <pre><code>// sizefmt.go\npackage sizefmt\n\nimport \"strconv\"\n\nfunc sizeFmt(bit int64) string {\n    const ( // \u5b9a\u4e49\u51e0\u4e2a\u6570\u91cf\u7ea7\n        _        = iota\n        KB int64 = 1 &lt;&lt; (10*iota + 3)\n        MB\n        GB\n    )\n    sizeFloat := float64(bit)\n    unit := \"b\"\n    switch {    // \u6839\u636e bit \u53c2\u6570\u7684\u5927\u5c0f\u683c\u5f0f\u5316\u4e0d\u540c\u7684\u5355\u4f4d\n    case bit &lt; KB:\n        return strconv.FormatInt(bit, 10) + unit\n    case bit &gt;= KB &amp;&amp; bit &lt; MB:\n        sizeFloat /= 1 &lt;&lt; 10\n        unit = \"K\"\n    case bit &gt;= MB &amp;&amp; bit &lt; GB:\n        sizeFloat /= 1 &lt;&lt; 20\n        unit = \"M\"\n    case bit &gt;= GB:\n        sizeFloat /= 1 &lt;&lt; 30\n        unit = \"G\"\n    }\n    return strconv.FormatFloat(sizeFloat, 'f', 2, 64) + unit\n}\n</code></pre> <p>\u7136\u540e\u7f16\u5199\u57fa\u51c6\u6d4b\u8bd5\u51fd\u6570\u3002</p> <pre><code>// sizefmt_test.go\npackage sizefmt\n\nimport \"testing\"\n// \u57fa\u51c6\u6d4b\u8bd5\u51fd\u6570\u4ee5 Benchmark \u5f00\u5934\nfunc BenchmarkSizefmt(b *testing.B) {\n    for i := 0; i &lt; b.N; i++ {  // b.N \u4e0d\u662f\u4e00\u4e2a\u56fa\u5b9a\u7684\u503c\uff0c\u5b83\u4f1a\u4e0d\u65ad\u8fed\u4ee3\n        sizeFmt(1&lt;&lt;20 + 554)\n    }\n}\n</code></pre> <p>\u5728 for \u5faa\u73af\u4e2d\u4f7f\u7528\u5230\u4e86\u4e00\u4e2a <code>b.N</code>\uff0c\u8fd9\u4e2a\u53d8\u91cf \u4e0d\u662f\u4e00\u4e2a\u56fa\u5b9a\u7684\u503c\uff0c\u5b83\u4f1a\u4ece 1 \u4e0d\u65ad\u7684\u8fed\u4ee3\uff0c\u4f8b\u5982 1\u30012\u30015\u300110\u300120\u300150...\uff0c\u4fdd\u8bc1\u57fa\u51c6\u6d4b\u8bd5\u51fd\u6570\u7684\u6267\u884c\u65f6\u95f4\u81f3\u5c11\u8d85\u8fc7 1 \u79d2\u949f\u3002\u8fd9\u6837\u5f97\u5230\u7684\u6570\u636e\u624d\u6bd4\u8f83\u6709\u53c2\u8003\u6027\u3002</p> <p>\u4ece 1 \u5f00\u59cb\u662f\u4fdd\u8bc1\u88ab\u6d4b\u8bd5\u51fd\u6570 <code>sizeFmt</code> \u81f3\u5c11\u6ca1\u95ee\u9898\u80fd\u8dd1\u5f97\u52a8\u3002</p> <p>\u4f7f\u7528 <code>-bench=RegExp</code> \u6765\u6307\u5b9a\u53ea\u6267\u884c\u57fa\u51c6\u6d4b\u8bd5\u3002</p> <pre><code>$ go test . -bench=Sizefmt\ngoos: linux\ngoarch: amd64\npkg: goTest\ncpu: Intel(R) Core(TM) i5-7300HQ CPU @ 2.50GHz\nBenchmarkSizefmt-4       3589545               330.4 ns/op\nPASS\nok      goTest  1.528s\n</code></pre> <ul> <li>goos: \u5f53\u524d\u64cd\u4f5c\u7cfb\u7edf</li> <li>goarch: \u5f53\u524d\u82af\u7247\u67b6\u6784</li> <li>pkg: \u57fa\u51c6\u6d4b\u8bd5\u51fd\u6570\u6240\u5728\u7684\u5305</li> <li>cpu: \u5f53\u524d\u673a\u5668\u4e0a CPU \u4fe1\u606f</li> <li><code>BenchmarkSizefmt-4</code>: \u5bf9 <code>sizeFmt</code> \u51fd\u6570\u8fdb\u884c\u57fa\u51c6\u6d4b\u8bd5\uff0c\u5f53\u524d <code>GOMAXPROCS</code> \u7684\u503c\uff0c\u8fd9\u4e2a\u5bf9\u4e8e\u5f00\u53d1\u57fa\u51c6\u6d4b\u8bd5\u5f88\u91cd\u8981\u3002</li> <li><code>3589545</code>: \u6267\u884c\u4e863\u767e\u591a\u4e07\u6b21</li> <li><code>330.4 ns/op</code>: \u5728\u8fd93\u767e\u591a\u4e07\u6b21\u8c03\u7528\u91cc\u5e73\u5747\u6bcf\u6b21\u8c03\u7528 <code>sizeFmt</code> \u51fd\u6570\u8017\u65f6 330.4 \u7eb3\u79d2\u3002</li> <li><code>PASS</code>: \u7528\u4e8e\u57fa\u51c6\u6d4b\u8bd5\u7684\u7528\u4f8b\u6267\u884c\u901a\u8fc7</li> <li><code>ok      goTest  1.528s</code>: \u5171\u8017\u65f6 1.528 \u79d2</li> </ul> <p>\u4f7f\u7528 <code>-benchmem</code> \u53c2\u6570\u53ef\u4ee5\u83b7\u5f97\u5185\u5b58\u5206\u914d\u7684\u7edf\u8ba1\u6570\u636e</p> <pre><code>$ go test . -bench=Sizefmt -benchmem\ngoos: linux\ngoarch: amd64\npkg: goTest\ncpu: Intel(R) Core(TM) i5-7300HQ CPU @ 2.50GHz\nBenchmarkSizefmt-4   3589545     330.4 ns/op    40 B/op     3 allocs/op\nPASS\nok      goTest  1.528s\n</code></pre> <ul> <li><code>40 B/op</code>: \u5e73\u5747\u6bcf\u6b21\u8c03\u7528 <code>sizeFmt</code> \u51fd\u6570\u5360\u7528 40 \u4e2a\u5b57\u8282</li> <li><code>3 allocs/op</code>: \u6bcf\u6b21\u8c03\u7528 <code>sizeFmt</code> \u9700\u8981\u7533\u8bf7 3 \u6b21\u5185\u5b58</li> </ul>"},{"location":"Go/Basic/Golang-15-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#_11","title":"\u6027\u80fd\u6bd4\u8f83\u51fd\u6570","text":"<p>\u4e0a\u8ff0\u4f8b\u5b50\u6211\u4eec\u5f97\u5230\u7684\u662f\u7ed9\u5b9a\u4f8b\u5b50\u7684\u7edd\u5bf9\u8017\u65f6\uff0c\u4f46\u6709\u4e9b\u95ee\u9898\uff0c\u4f8b\u5982\u6590\u6ce2\u90a3\u5951\u6570\u5217\uff0c\u6570\u91cf\u4e0d\u591a\u7684\u65f6\u5019\u8017\u65f6\u8fd8\u4e0d\u4f1a\u592a\u957f\uff0c\u4f46\u662f\u5f53\u8ba1\u7b97\u5230 40 \u5de6\u53f3\u7684\u65f6\u5019\u5c31\u5df2\u7ecf\u6162\u7684\u4e0d\u884c\u4e86\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u60f3\u8981\u77e5\u9053\uff0c\u5f53 <code>Fib(n)</code> \u7684 n \u4e3a 1\u300110\u300120\u300140\u300145 \u7684\u65f6\u5019\u4ed6\u4eec\u7684\u6027\u80fd\u3002</p> <p>\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u7f16\u5199\u4e00\u4e2a\u57fa\u51c6\u6d4b\u8bd5\u51fd\u6570\uff0c\u4e0d\u4ec5\u63a5\u53d7 <code>b *testing.B</code>\uff0c\u8fd8\u63a5\u53d7\u53e6\u5916\u4e00\u4e2a\u53c2\u6570 <code>n</code>\uff0c\u7136\u540e\u7f16\u5199\u51e0\u4e2a\u57fa\u51c6\u6d4b\u8bd5\u51fd\u6570\u6765\u6d4b\u8bd5\u3002\u5982\u4e0b\uff1a</p> <pre><code>// fib.go\npackage fib\n\nfunc Fib(n int) int {\n    if n &lt; 2 {\n        return n\n    }\n    return Fib(n-1) + Fib(n-2)\n}\n</code></pre> <pre><code>// fib_test.go\npackage fib\n\nimport \"testing\"\n\n// \u628a\u539f\u672c\u7684\u57fa\u51c6\u51fd\u6570\u53d8\u6210\u5c0f\u5199\u5f00\u5934\uff0c\u8fd9\u6837 -bench=Fib \u7684\u65f6\u5019\u4e5f\u4e0d\u4f1a\u76f4\u63a5\u5339\u914d\u5230\n// \u7136\u540e\u5e26\u4e0a\u4e00\u4e2a\u53c2\u6570 n\nfunc benchmarkFib(b *testing.B, n int) {\n    for i := 0; i &lt; b.N; i++ {\n        fib(n)\n    }\n}\n\n// \u7f16\u5199\u51e0\u4e2a\u4e0d\u540c n \u7684\u57fa\u51c6\u6d4b\u8bd5\u51fd\u6570\uff0c\u6bcf\u6b21\u53bb\u8c03\u7528\u539f\u672c\u7684\u57fa\u51c6\u6d4b\u8bd5\u51fd\u6570\nfunc BenchmarkFib1(b *testing.B)  { benchmarkFib(b, 1) }\nfunc BenchmarkFib10(b *testing.B) { benchmarkFib(b, 10) }\nfunc BenchmarkFib20(b *testing.B) { benchmarkFib(b, 20) }\nfunc BenchmarkFib40(b *testing.B) { benchmarkFib(b, 40) }\nfunc BenchmarkFib45(b *testing.B) { benchmarkFib(b, 45) }\n</code></pre> <p>\u7136\u540e\u6267\u884c\u547d\u4ee4\uff1a</p> <pre><code>$ go test -bench=Fib -benchmem\ngoos: linux\ngoarch: amd64\npkg: goTest\ncpu: Intel(R) Core(TM) i5-7300HQ CPU @ 2.50GHz\nBenchmarkFibGreedy1-4    457008499         2.601 ns/op   0 B/op    0 allocs/op\nBenchmarkFibGreedy10-4   2589387           462.6 ns/op   0 B/op    0 allocs/op\nBenchmarkFibGreedy20-4   19940             57224 ns/op   0 B/op    0 allocs/op\nBenchmarkFibGreedy40-4   2              865527961 ns/op   0 B/op    0 allocs/op\nBenchmarkFibGreedy45-4   1            9598796528 ns/op   0 B/op    0 allocs/op\nPASS\nok      goTest  17.082s\n</code></pre> <p>\u53ef\u4ee5\u770b\u51fa\uff0cn \u6bd4\u8f83\u5c11\u7684\u65f6\u5019\uff0c\u6267\u884c\u7684\u6b21\u6570\u6bd4\u8f83\u591a\uff0c\u6bcf\u6b21\u8017\u8d39\u7684\u65f6\u95f4\u4e5f\u4e0d\u591a\u3002\u5f53 n \u8d85\u8fc7 40 \u4ee5\u540e\uff0c\u673a\u5668\u6709\u70b9\u53d7\u4e0d\u4e86\u4e86\uff0c 45 \u4ec5\u4ec5\u53ea\u6267\u884c\u4e86\u4e00\u6b21\uff0c\u8fd8\u8017\u65f6 9 \u79d2\u591a\u3002</p> <p>\u4e3b\u8981\u7684\u539f\u56e0\u662f\u91c7\u7528\u4e86\u9012\u5f52\u6c42\u6590\u6ce2\u90a3\u5951\u6570\u5217\uff0c\u8c03\u7528\u6808\u5f88\u5feb\u5c31\u7206\u6ee1\u4e86\u3002</p> <p>\u5f97\u5230\u6027\u80fd\u6570\u636e\u4fe1\u606f\u4ee5\u540e\uff0c\u6211\u4eec\u5c31\u5f97\u77e5\u8fd9\u4e2a <code>Fib</code> \u5728 n \u7a0d\u5927\u65f6\u6548\u679c\u4e0d\u7406\u60f3\uff0c\u5e94\u505a\u6539\u8fdb\u3002</p> <p>\u9012\u5f52\u5c5e\u4e8e\u5206\u6cbb\u6cd5\u4e2d\u7684\u4e00\u79cd\uff0c\u6211\u4eec\u53ef\u4ee5\u6362\u6210\u52a8\u6001\u89c4\u5212\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002</p> <pre><code>// fib.go\npackage fib\n\n// \u7528\u9012\u5f52\u6c42\u6590\u6ce2\u90a3\u5951\u6570\u5217\nfunc fibDAC(n int) int {\n    if n &lt; 2 {\n        return n\n    }\n    return fibDAC(n-1) + fibDAC(n-2)\n}\n\n// \u7528\u52a8\u6001\u89c4\u5212\u6c42\nfunc fibDP(n int) int {\n    if n &lt; 2 {\n        return n\n    }\n    slice := make([]int, n)\n    slice[0] = 1\n    slice[1] = 1\n    for i := 2; i &lt; n; i++ {\n        slice[i] = slice[i-1] + slice[i-2]\n    }\n    return slice[n-1]\n}\n</code></pre> <pre><code>// fib_test.go\npackage fib\n\nimport \"testing\"\n\nfunc benchmarkFibDAC(b *testing.B, n int) {\n    for i := 0; i &lt; b.N; i++ {\n        fibDAC(n)\n    }\n}\n\nfunc BenchmarkFibDAC1(b *testing.B)  { benchmarkFibDAC(b, 1) }\nfunc BenchmarkFibDAC10(b *testing.B) { benchmarkFibDAC(b, 10) }\nfunc BenchmarkFibDAC20(b *testing.B) { benchmarkFibDAC(b, 20) }\nfunc BenchmarkFibDAC40(b *testing.B) { benchmarkFibDAC(b, 40) }\nfunc BenchmarkFibDAC45(b *testing.B) { benchmarkFibDAC(b, 45) }\n\nfunc benchmarkFibDP(b *testing.B, n int) {\n    for i := 0; i &lt; b.N; i++ {\n        fibDP(n)\n    }\n}\n\nfunc BenchmarkFibDP1(b *testing.B)    { benchmarkFibDP(b, 1) }\nfunc BenchmarkFibDP10(b *testing.B)   { benchmarkFibDP(b, 10) }\nfunc BenchmarkFibDP100(b *testing.B)  { benchmarkFibDP(b, 100) }\nfunc BenchmarkFibDP1000(b *testing.B) { benchmarkFibDP(b, 1000) }\n</code></pre> <p>\u6267\u884c\u6d4b\u8bd5\uff1a</p> <pre><code>$ go test -bench=FibDP -benchmem\ngoos: linux\ngoarch: amd64\npkg: goTest\ncpu: Intel(R) Core(TM) i5-7300HQ CPU @ 2.50GHz\nBenchmarkFibDP1-4       1000000000   0.4029 ns/op     0 B/op   0 allocs/op\nBenchmarkFibDP10-4      20096688      51.87 ns/op    80 B/op   1 allocs/op\nBenchmarkFibDP100-4     3030915       380.3 ns/op   896 B/op   1 allocs/op\nBenchmarkFibDP1000-4    328071         3656 ns/op  8192 B/op   1 allocs/op\nPASS\nok      goTest  5.356s\n\n$ go test -bench=FibDAC -benchmem\ngoos: linux\ngoarch: amd64\npkg: goTest\ncpu: Intel(R) Core(TM) i5-7300HQ CPU @ 2.50GHz\nBenchmarkFibGreedy1-4    457008499         2.601 ns/op   0 B/op    0 allocs/op\nBenchmarkFibGreedy10-4   2589387           462.6 ns/op   0 B/op    0 allocs/op\nBenchmarkFibGreedy20-4   19940             57224 ns/op   0 B/op    0 allocs/op\nBenchmarkFibGreedy40-4   2              865527961 ns/op   0 B/op    0 allocs/op\nBenchmarkFibGreedy45-4   1            9598796528 ns/op   0 B/op    0 allocs/op\nPASS\nok      goTest  17.082s\n</code></pre> <p>\u4e0a\u9762 FibDP \u662f\u5bf9\u52a8\u6001\u89c4\u5212\u5b9e\u73b0\u7684\u57fa\u51c6\u6d4b\u8bd5\uff0c\u4e0b\u9762 FibDAC \u662f\u5bf9\u9012\u5f52\u5b9e\u73b0\u7684\u57fa\u51c6\u6d4b\u8bd5\u3002\u53ef\u4ee5\u770b\u5230\u5dee\u8ddd\u5341\u5206\u5de8\u5927\u3002</p> <p>\u6ce8\u610f\u4e0d\u8981\u62ff b.N \u5f53\u53c2\u6570</p> <pre><code>// \u9519\u8bef\u793a\u83031\nfunc BenchmarkFibWrong(b *testing.B) {\n    for n := 0; n &lt; b.N; n++ {\n        Fib(n)\n    }\n}\n\n// \u9519\u8bef\u793a\u83032\nfunc BenchmarkFibWrong2(b *testing.B) {\n    Fib(b.N)\n}\n</code></pre>"},{"location":"Go/Basic/Golang-15-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#_12","title":"\u91cd\u7f6e\u65f6\u95f4","text":"<p><code>b.ResetTime()</code> \u53ef\u4ee5\u91cd\u7f6e\u8ba1\u65f6\u5668\uff0c\u4e5f\u5c31\u662f\u8fd9\u53e5\u8bed\u53e5\u524d\u9762\u7684\u8017\u65f6\u4e0d\u8ba1\u5165\u3002\u6240\u4ee5\u53ef\u4ee5\u6267\u884c\u4e00\u4e9b\u4e0d\u53c2\u4e0e\u65f6\u95f4\u6d4b\u8bd5\u7684\u5de5\u4f5c\uff0c\u7136\u540e <code>b.ResetTimer()</code>.</p> <pre><code>func BenchmarkFib(b *testing.B) {\n    fmt.Println(\"Start Benchmark test of Fib()\")\n    time.Sleep(time.Second)\n\n    for i:=0; i&lt;b.N; i++ {\n        Fib(10)\n    }\n}\n</code></pre>"},{"location":"Go/Basic/Golang-15-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#_13","title":"\u5e76\u884c\u6d4b\u8bd5","text":""},{"location":"Go/Basic/Golang-15-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#testmainsetup-teardown","title":"TestMain\u3001Setup \u548c Teardown","text":""},{"location":"Go/Basic/Golang-15-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#testmain","title":"TestMain \u57fa\u672c\u683c\u5f0f","text":"<ol> <li>\u51fd\u6570\u540d\u4e3a <code>TestMain</code></li> <li>\u51fd\u6570\u53c2\u6570\u5fc5\u987b\u5305\u542b\u4e00\u4e2a\u5f62\u53c2 <code>*testing.M</code></li> <li>\u51fd\u6570\u6ca1\u6709\u8fd4\u56de\u503c</li> </ol> <pre><code>func TestMain(m *testing.M) {\n    // ...\n}\n</code></pre> <p>\u53c2\u6570 <code>m</code> \u7528\u4e8e\u542f\u52a8\u6d4b\u8bd5\uff0c\u542f\u52a8\u65b9\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>func (m *M) Run() (code int)\n</code></pre> <p>\u6709\u65f6\u5019\u9047\u5230\u6d4b\u8bd5\u4e4b\u524d\u9700\u8981\u505a\u4e00\u4e9b\u521d\u59cb\u5316\u5de5\u4f5c\u6216\u8005\u6d4b\u8bd5\u4e4b\u540e\u9700\u8981\u505a\u4e00\u4e9b\u6536\u5c3e\u5de5\u4f5c\uff0c\u5c31\u53ef\u4ee5\u7528 <code>TestMain()</code> \u3002</p> <p>\u5982\u679c\u6d4b\u8bd5\u6587\u4ef6\u4e2d\u5305\u542b<code>TestMain()</code>\uff0c\u90a3\u4e48\u751f\u6210\u7684\u6d4b\u8bd5\u5c06\u8c03\u7528 <code>TestMain(m)</code>\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u5176\u4ed6\u8fd0\u884c\u6d4b\u8bd5\u3002</p> <p><code>m.Run()</code> \u88ab\u8c03\u7528\u540e\uff0c\u5c06\u4f1a\u8fd0\u884c\u6d4b\u8bd5\u6587\u4ef6\u4e2d\u6240\u6709\u7684\u6d4b\u8bd5\u51fd\u6570\u3002</p> <p><code>TestMain</code> \u8fd0\u884c\u5728\u4e3b goroutine \u4e2d , \u53ef\u4ee5\u5728\u8c03\u7528 <code>m.Run</code> \u524d\u540e\u505a\u4efb\u4f55 Setup \u548c Teardown \u3002</p> <p>\u6ce8\u610f\uff0c\u5728 <code>TestMain</code> \u51fd\u6570\u7684\u6700\u540e\uff0c\u5e94\u8be5\u4f7f\u7528 <code>m.Run</code> \u7684\u8fd4\u56de\u503c\u4f5c\u4e3a\u53c2\u6570\u53bb\u8c03\u7528 <code>os.Exit</code>\u3002</p> <p>\u53e6\u5916\uff0c\u5728\u8c03\u7528 <code>TestMain</code> \u65f6 , <code>flag.Parse</code> \u5e76\u6ca1\u6709\u88ab\u8c03\u7528\u3002</p> <p>\u6240\u4ee5\uff0c\u5982\u679c <code>TestMain</code> \u4f9d\u8d56\u4e8e command-line \u6807\u5fd7\uff08\u5305\u62ec <code>testing</code> \u5305\u7684\u6807\u5fd7\uff09\uff0c\u5219\u5e94\u8be5\u663e\u5f0f\u5730\u8c03\u7528 <code>flag.Parse</code>\u3002\u6ce8\u610f\uff0c\u8fd9\u91cc\u7684\u4f9d\u8d56\u662f\u6307\uff0c\u82e5 <code>TestMain</code> \u51fd\u6570\u5185\u9700\u8981\u7528\u5230 command-line \u6807\u5fd7\uff0c\u5219\u5fc5\u987b\u663e\u5f0f\u5730\u8c03\u7528 <code>flag.Parse</code>\uff0c\u5426\u5219\u4e0d\u9700\u8981\uff0c\u56e0\u4e3a <code>m.Run</code> \u4e2d\u8c03\u7528 <code>flag.Parse</code>\u3002</p>"},{"location":"Go/Basic/Golang-15-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#_14","title":"\u793a\u4f8b","text":"<pre><code>// fib.go\npackage fib\n\nfunc Fib(n int) int {\n    if n &lt; 2 {\n        return n\n    }\n    return Fib(n-1) + Fib(n-2)\n}\n</code></pre> <pre><code>// fib_test.go\npackage fib\n\nimport \"testing\"\n\n// \u5355\u5143\u6d4b\u8bd5\u51fd\u6570\uff0c\u4ee5 Test\u5f00\u5934\nfunc TestFib(t *testing.T) {\n    var (\n        input    = 7    // \u8f93\u5165\u6570\u636e\n        expected = 13   // \u671f\u671b\u7ed3\u679c\n    )\n    actual := Fib(input)      // \u7a0b\u5e8f\u6267\u884c\u7ed3\u679c\n    if actual != expected {  // \u5982\u679c\u4e0e\u671f\u671b\u7ed3\u679c\u4e0d\u4e00\u81f4\uff0c\u5219\u8f93\u51fa\u9519\u8bef\u63d0\u793a\u3002\n        t.Errorf(\"Fib(%d) = %d; expected %d\", input, actual, expected)\n    }\n}\n\nfunc setup() {\n    fmt.Println(\"\u8bbe\u7f6e\u4e00\u4e9b\u4e1c\u897f\")\n}\n\nfunc teardown() {\n    fmt.Println(\"\u6e05\u7406\u4e00\u4e9b\u4e1c\u897f\")\n}\n\nfunc TestMain(m *testing.M) {\n    setup()\n    code := m.Run()\n    teardown()\n    os.Exit(code)\n}\n</code></pre> <pre><code>$ go test\n\u8bbe\u7f6e\u4e00\u4e9b\u4e1c\u897f\nPASS\n\u6e05\u7406\u4e00\u4e9b\u4e1c\u897f\nok      goTest  0.002s\n</code></pre>"},{"location":"Go/Basic/Golang-15-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#setup-teardown","title":"\u5b50\u6d4b\u8bd5\u7684 Setup \u548c Teardown","text":"<p>\u6709\u65f6\u5019\u4e0d\u53ea\u662f\u5168\u5c40\u8fdb\u884c\u6d4b\u8bd5\u7684\u65f6\u5019\u9700\u8981 Setup \u548c Teardown\uff0c\u6709\u53ef\u80fd\u6bcf\u4e2a\u5b50\u6d4b\u8bd5\u5728\u6d4b\u8bd5\u7684\u65f6\u5019\u4e5f\u9700\u8981 Setup \u548c Teardown\u3002\u90a3\u53ef\u4ee5\u5bf9 Setup \u548c Teardown \u5c1d\u8bd5\u4ee5\u4e0b\u8fd9\u79cd\u4f18\u96c5\u7684\u5199\u6cd5\uff1a</p> <pre><code>func setup() func() {\n    fmt.Println(\"Setup\")\n    return func() {\n        fmt.Println(\"Teardown\")\n    }\n}\n</code></pre> <p>\u7136\u540e\u5728\u5b50\u6d4b\u8bd5\u4e2d\u8fd9\u6837\u4f7f\u7528\uff1a</p> <pre><code>func TestFibDP(t *testing.T) {\n    // 1 1 2 3 5 8 13 21 34 55\n    tests := map[string]test{\n        \"case1\": {1, 1},\n        \"case2\": {2, 1},\n        \"case3\": {3, 2},\n        \"case4\": {7, 13},\n        \"case9\": {9, 34},\n    }\n\n    for name, tc := range tests {\n        t.Run(name, func(t *testing.T) {\n            teardown := setup()\n            defer teardown()\n            if got := fibDP(tc.in); got != tc.want {\n                t.Errorf(\"want: %v, got: %v\", tc.want, got)\n            } else {\n                fmt.Println(\"yes!!!\")\n            }\n        })\n    }\n}\n</code></pre> <p>\u6548\u679c\u5982\u4e0b\uff1a</p> <pre><code>$ go test -run=FibDP -v                                                                                     \u2500\u2500(\u65e5,7\u670811)\u2500\u2518\n=== RUN   TestFibDP\n=== RUN   TestFibDP/case1\nSetup\nyes!!!\nTeardown\n=== RUN   TestFibDP/case2\nSetup\nyes!!!\nTeardown\n=== RUN   TestFibDP/case3\nSetup\nyes!!!\nTeardown\n=== RUN   TestFibDP/case4\nSetup\nyes!!!\nTeardown\n=== RUN   TestFibDP/case9\nSetup\nyes!!!\nTeardown\n--- PASS: TestFibDP (0.00s)\n    --- PASS: TestFibDP/case1 (0.00s)\n    --- PASS: TestFibDP/case2 (0.00s)\n    --- PASS: TestFibDP/case3 (0.00s)\n    --- PASS: TestFibDP/case4 (0.00s)\n    --- PASS: TestFibDP/case9 (0.00s)\nPASS\nok      goTest  0.002s\n</code></pre> <p>\u53c2\u8003\uff1a</p> <p>[\u674e\u6587\u5468\u535a\u5ba2] : https://www.liwenzhou.com/posts/Go/16_test/#autoid-3-1-0</p>"},{"location":"Go/Basic/Golang-16-%E6%B3%9B%E5%9E%8B/","title":"16.\u6cdb\u578b","text":""},{"location":"Go/Basic/Golang-16-%E6%B3%9B%E5%9E%8B/#_1","title":"\u6cdb\u578b","text":"<p>Tip</p> <p>2022\u5e743\u670815\u65e5\uff0cgo1.18\u53d1\u5e03\uff0c\u5e26\u6765\u4e86\u6cdb\u578b\u3001\u6a21\u7cca\u6d4b\u8bd5\u3001\u5de5\u4f5c\u533a\u7b49\u65b0\u7279\u6027</p> <p>\u591a\u4e86\u51e0\u4e2a\u5173\u952e\u5b57\uff1acomparable\u3001any\uff0c\u4e00\u4e2a\u7b26\u53f7 <code>~</code></p>"},{"location":"Go/Basic/Golang-16-%E6%B3%9B%E5%9E%8B/#_2","title":"\u6cdb\u578b\u662f\u5565","text":"<p>\u7b80\u5355\u8bf4\uff0c\u6cdb\u578b\u5c31\u662f\u67d0\u79cd\u7c7b\u578b\uff0c\u6211\u4eec\u53ef\u4ee5\u5bf9\u201c\u67d0\u79cd\u7c7b\u578b\u201d\u52a0\u4ee5\u9650\u5b9a\u3002\u4f8b\u5982\u5f53\u4e00\u4e2a\u51fd\u6570\u63a5\u6536\u4e00\u4e2a\u53c2\u6570\uff0c\u8fd9\u4e2a\u53c2\u6570\u7684\u7c7b\u578b\u53ea\u8981\u652f\u6301\u76f8\u52a0\u5373\u53ef\uff0c\u8fd9\u5728\u5f31\u7c7b\u578b\u8bed\u8a00\u4e2d\u5f88\u597d\u89e3\u51b3\uff0c\u4f46\u662f\u5728\u5f3a\u7c7b\u578b\u8bed\u8a00\u4e2d\u5c31\u4e0d\u592a\u597d\u786e\u5b9a\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u5199N\u4e2a\u51fd\u6570\u63a5\u6536N\u4e2d\u7c7b\u578b\u3002</p> <p>\u5728\u4ee5\u524d Go \u8bed\u8a00\u7684\u5b9e\u8df5\u4e2d\uff0c\u901a\u5e38\u662f\u7528 <code>interface{} + \u5728\u51fd\u6570\u4e2d\u8fdb\u884c\u7c7b\u578b\u65ad\u8a00</code> \u5b9e\u73b0\uff0c\u73b0\u5728\u6709\u4e86\u6cdb\u578b\u4e4b\u540e\u5c31\u7b80\u5355\u591a\u4e86\u3002</p>"},{"location":"Go/Basic/Golang-16-%E6%B3%9B%E5%9E%8B/#_3","title":"\u6cdb\u578b\u51fd\u6570","text":""},{"location":"Go/Basic/Golang-16-%E6%B3%9B%E5%9E%8B/#_4","title":"\u975e\u6cdb\u578b\u7684\u6817\u5b50","text":"<p>Example</p> <pre><code>package main\n\nfunc SumInt(params []int) int {\n    var sum int \n    for _, v := range params {\n        sum += v\n    }\n    return sum\n}\n\nfunc SumFloat(params []float64) float64 {\n    var sum float64\n    for _, v := range params {\n        sum += v\n    }\n    return sum\n}\n\nfunc main() {\n    ints   := []int{1, 2, 4}\n    floats := []float64{1.1, 2.2, 4.4}\n\n    resultInt   := SumInt(ints)\n    resultFloat := SumFloat(floats)\n\n    fmt.Printf(\"Not-Generic: resultInt- %v, resultFloat- %v\", resultInt, resultFloat)\n}\n\n// Output:\nNot-Generic: resultInt- 7, resultFloat- 7.7\n</code></pre> <p>\u4e0a\u9762\u7684\u6817\u5b50\u8981\u505a\u7684\u4e8b\u60c5\u662f\u63a5\u6536\u4e00\u4e2a\u5207\u7247\uff0c\u5207\u7247\u7c7b\u578b\u9700\u8981\u662f\u53ef\u4ee5\u76f8\u52a0\u7684\uff0c\u4f46\u662f\u53ea\u80fd\u5199\u6210\u4e24\u4e2a\u51fd\u6570\u53bb\u8c03\u7528\u3002</p> <p>\u7528\u6cdb\u578b\u51fd\u6570\u53ef\u4ee5\u53ea\u5199\u4e00\u4e2a\u3002</p>"},{"location":"Go/Basic/Golang-16-%E6%B3%9B%E5%9E%8B/#_5","title":"\u6cdb\u578b\u7684\u6817\u5b50","text":"<p>Example</p> <pre><code>package main\n\nfunc Sum[T int | float64](params []T) T {\n    var sum T \n    for _, v := range params {\n        sum += v\n    }\n    return sum\n}\n\nfunc main() {\n    ints   := []int{1, 2, 4}\n    floats := []float64{1.1, 2.2, 4.4}\n\n    // \u663e\u5f0f,\u6307\u660e\u7c7b\u578b\u7684\u8c03\u7528\n    resultInt   := Sum[int](ints)\n    resultFloat := Sum[float64](floats)\n\n    // \u9690\u5f0f, \u901a\u8fc7\u7f16\u8bd1\u5668\u81ea\u52a8\u63a8\u5bfc\u7c7b\u578b\n    // resultInt   := Sum(ints)\n    // resultFloat := Sum(floats)\n\n    fmt.Printf(\"Generic: resultInt- %v, resultFloat- %v\", resultInt, resultFloat)\n}\n</code></pre> <p>\u6539\u9020\u6b65\u9aa4\uff0c\u5728\u539f\u6709\u7684\u57fa\u7840\u4e0a\uff1a</p> <ul> <li> <p>\u5728 \u51fd\u6570\u540d \u540e \u53c2\u6570\u5217\u8868 \u524d\uff0c\u901a\u8fc7 <code>[\u6cdb\u578b\u540d \u7c7b\u578b\u5217\u8868]</code> \u7684\u65b9\u5f0f\u6307\u5b9a\u6b64\u51fd\u6570\u63a5\u53d7\u54ea\u79cd\u7c7b\u578b\uff0c\u4f8b\u5982\u4e0a\u9762\u7684 <code>[T int | float64]</code> \u8868\u793a Sum() \u51fd\u6570\u63a5\u53d7 int \u548c float64 \u4e24\u79cd\u7c7b\u578b\uff0c\u5e76\u53d6\u540d\u4e3a T\u3002</p> <p>\u53ea\u8981\u4e00\u4e2a\u53d8\u91cf\u662f int \u6216 float64\uff0c\u90a3\u5728\u8fd9\u4e2a\u51fd\u6570\u91cc\u5c31\u662f T \u7c7b\u578b\uff0c\u90a3\u4e48\u8fd9\u4e2a\u51fd\u6570\u7684\u4f5c\u7528\u57df\u5185\u90fd\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a T \u7c7b\u578b\u53bb\u6307\u4ee3\u67d0\u4e00\u79cd\u7c7b\u578b\u3002</p> </li> <li> <p>\u7136\u540e\u5728\u5f62\u53c2\u548c\u8fd4\u56de\u503c\u4e24\u4e2a\u5730\u65b9\uff0c\u4f7f\u7528 T \u53bb\u66ff\u4ee3\u539f\u672c\u7684\u7c7b\u578b\uff0c\u8868\u793a\u63a5\u6536 int \u6216 float64 \u7c7b\u578b\u7684\u53c2\u6570\uff0c\u5e76\u8fd4\u56de int \u6216 float64 \u7c7b\u578b\u7684\u8fd4\u56de\u503c\u3002</p> </li> <li> <p>\u5728\u8c03\u7528\u7684\u65f6\u5019\uff0c\u653e\u5fc3\u5927\u80c6\u7684\u4f20\u9012\u7b26\u5408\u7c7b\u578b\u5b9a\u4e49\u7684\u5b9e\u53c2\u5373\u53ef\u3002</p> <p>\u5728\u8c03\u7528\u5904\uff0c\u53ef\u4ee5 \u663e\u5f0f \u7684\u5199\u51fa\u4f20\u5165\u7684\u5b9e\u53c2\u662f\u7c7b\u578b\u5217\u8868\u4e2d\u7684\u54ea\u79cd\u7c7b\u578b\uff0c\u5982 <code>Sum[int](ints)</code> \u4e2d\u7684 <code>[int]</code>\uff1b</p> <p>\u4e5f\u53ef\u4ee5\u4e0d\u5199\uff08\u9690\u5f0f\uff09\uff0c\u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u63a8\u5bfc\u7c7b\u578b\u3002\u4f8b\u5982\uff1a<code>resultInt := Sum(ints)</code>\u3001<code>resultFloat := Sum(floats)</code>\u3002</p> </li> </ul>"},{"location":"Go/Basic/Golang-16-%E6%B3%9B%E5%9E%8B/#_6","title":"\u5c0f\u7ed3","text":"<ul> <li> <p>\u975e\u6cdb\u578b\u51fd\u6570\uff1a</p> <p>\u58f0\u660e\uff1a<code>func \u51fd\u6570\u540d (\u5f62\u53c2\u5217\u8868) \u8fd4\u56de\u503c</code></p> <p>\u8c03\u7528\uff1a<code>\u51fd\u6570\u540d(\u5b9e\u53c2\u5217\u8868)</code></p> </li> <li> <p>\u6cdb\u578b\u51fd\u6570\uff1a</p> <p>\u58f0\u660e\uff1a<code>func \u51fd\u6570\u540d [\u6cdb\u578b\u540d \u7c7b\u578b\u5217\u8868] (\u5f62\u53c2\u5217\u8868) \u8fd4\u56de\u503c</code></p> <p>\u8c03\u7528\uff1a<code>\u51fd\u6570\u540d[\u7c7b\u578b](\u5b9e\u53c2\u5217\u8868)</code> \u6216 <code>\u51fd\u6570\u540d(\u5b9e\u53c2\u5217\u8868)</code></p> </li> <li> <p>\u81ea\u52a8\u63a8\u5bfc\u4e0d\u662f\u4e07\u80fd\u7684\uff0c\u5982\u679c\u6cdb\u578b\u51fd\u6570\u7684\u5f62\u53c2\u5217\u8868\u4e3a\u7a7a\uff0c\u90a3\u4e48\u5728\u8c03\u7528\u65f6\u9700\u8981\u663e\u5f0f\u5199\u660e\u7c7b\u578b\u3002</p> <pre><code>func Foo[T int | foat64]() T {\n    i := getNumber()\n    return i\n}\n\n...\n    num := Foo[int]()\n    // num := Foo(), \u8fd9\u79cd\u4e0d\u884c\uff0c\u6ca1\u6709\u5f62\u53c2\u7f16\u8bd1\u5668\u65e0\u6cd5\u63a8\u5bfc\n...\n</code></pre> </li> </ul>"},{"location":"Go/Basic/Golang-16-%E6%B3%9B%E5%9E%8B/#_7","title":"\u6cdb\u578b\u6570\u636e\u7ed3\u6784","text":""},{"location":"Go/Basic/Golang-16-%E6%B3%9B%E5%9E%8B/#_8","title":"\u6cdb\u578b\u5207\u7247","text":"<p>\u6cdb\u578b\u5207\u7247\u662f\u8fd9\u4e48\u5b9a\u4e49\u7684\uff1a</p> <pre><code>type \u81ea\u5b9a\u4e49\u6cdb\u578b\u5207\u7247\u540d[\u6cdb\u578b\u540d \u7c7b\u578b\u5217\u8868] []\u6cdb\u578b\u540d\n</code></pre> Example <pre><code>type vector[T any] []T\ntype vector[T int | float64] []T\n</code></pre> <p>\u90a3\u4e48\u5728\u58f0\u660e\u7684\u65f6\u5019\u662f\u8fd9\u4e48\u5b9a\u4e49\u7684\uff1a</p> <pre><code>var \u53d8\u91cf\u540d \u81ea\u5b9a\u4e49\u6cdb\u578b\u5207\u7247\u540d[\u7c7b\u578b]\n</code></pre> Example <pre><code>type vector[T any] []T\n\nfunc main() {\n    var v1 vector[int]\n    v1 = vector[int]{1, 2, 4}\n\n    v2 := vector[string]{\"a\", \"b\", \"d\"}\n}\n</code></pre>"},{"location":"Go/Basic/Golang-16-%E6%B3%9B%E5%9E%8B/#map","title":"\u6cdb\u578b map","text":"<p>\u6cdb\u578b map \u662f\u8fd9\u4e48\u5b9a\u4e49\u7684\uff1a</p> <pre><code>type \u81ea\u5b9a\u4e49\u6cdb\u578bmap\u540d[\u6cdb\u578b\u540d \u7c7b\u578b\u5217\u8868] map[\u6cdb\u578b\u540d]\u6cdb\u578b\u540d \n</code></pre> Example <pre><code>type M[T any] map[string]T\n\ntype M[T comparable] map[T]T\ntype M[K comparable, V any] map[K]V\n</code></pre> <p>\u8981\u6ce8\u610f\u4e00\u70b9\u5c31\u662f\uff0cmap \u7684 key \u8981\u6c42\u662f\u53ef\u54c8\u5e0c\u7684\uff08Hashable\uff09\uff0c\u6216\u8005\u8bf4\u53ef\u6bd4\u8f83\u7684\uff0c\u6240\u4ee5\u4e0d\u53ef\u80fd\u51fa\u73b0\u8fd9\u79cd\u6cdb\u578b map\uff1a<code>type M[T any] map[T]T</code>\u3002\u8fd9\u79cd\u662f\u975e\u6cd5\u7684\uff0c\u56e0\u4e3a any \u8868\u793a\u4efb\u4f55\u7c7b\u578b\uff0c\u800c map \u7684 key \u4e0d\u662f\u5565\u7c7b\u578b\u90fd\u53ef\u4ee5\u3002</p> <p>\u90a3\u4e48\u5728\u58f0\u660e\u7684\u65f6\u5019\u662f\u8fd9\u6837\u7684\uff1a</p> <pre><code>var \u53d8\u91cf\u540d \u81ea\u5b9a\u4e49\u6cdb\u578bmap\u540d[key\u7684\u7c7b\u578b, value\u7684\u7c7b\u578b]\n</code></pre> Example <pre><code>type M[K comparable, V any] map[K]V\n\nvar m1 M[string, float64]\nm1 = make(M[string, float64])\n\nm1[\"a\"] = 1.1\nm1[\"b\"] = 2.2\n</code></pre>"},{"location":"Go/Basic/Golang-16-%E6%B3%9B%E5%9E%8B/#_9","title":"\u6cdb\u578b\u901a\u9053","text":"<p>\u6cdb\u578b\u901a\u9053\u8fd9\u4e48\u5b9a\u4e49\uff1a</p> <pre><code>type \u81ea\u5b9a\u4e49\u6cdb\u578b\u901a\u9053\u540d[\u6cdb\u578b\u540d \u7c7b\u578b\u5217\u8868] chan \u6cdb\u578b\u540d\n</code></pre> Example <pre><code>type C[T any] chan T\ntype C[T int | bool] chan T\ntype C[T comparable] chan T\n</code></pre> <p>\u5728\u4f7f\u7528\u7684\u65f6\u5019\u662f\u8fd9\u6837\u7684\uff1a</p> <pre><code>var \u53d8\u91cf\u540d \u81ea\u5b9a\u4e49\u6cdb\u578b\u901a\u9053\u540d[\u7c7b\u578b]\n</code></pre> Example <pre><code>type C[T any] chan T\n\nc1 := make(C[int],2)\n\nc1 &lt;- 1\nc2 &lt;- 2\n\nc2 := make(C[byte], 2)\n\nc2 &lt;- 'a'\nc2 &lt;- 'b'\n</code></pre>"},{"location":"Go/Basic/Golang-16-%E6%B3%9B%E5%9E%8B/#_10","title":"\u6cdb\u578b\u7ed3\u6784\u4f53","text":"<p>\u6cdb\u578b\u7ed3\u6784\u4f53\u662f\u8fd9\u4e48\u5b9a\u4e49\u7684\uff1a</p> <pre><code>type \u81ea\u5b9a\u4e49\u6cdb\u578b\u7ed3\u6784\u4f53\u540d[\u6cdb\u578b\u540d \u7c7b\u578b\u5217\u8868] struct {\n    \u5b57\u6bb5\u540d \u5b57\u6bb5\u7c7b\u578b\n    ...\n}\n</code></pre> Example <pre><code>type Tree[T any] struct {\n    data T\n    l, r *Tree[T]\n}\n</code></pre> <p>\u8fd9\u6837\u5c31\u5b9a\u4e49\u4e86\u4e00\u4e2a\u63a5\u53d7\u4efb\u610f\u7c7b\u578b\u7684\u4e8c\u53c9\u6811\u7684\u7ed3\u70b9\u3002</p> <p>\u5728\u4f7f\u7528\u7684\u65f6\u5019\u662f\u8fd9\u6837\u7684\uff1a</p> <pre><code>var \u53d8\u91cf\u540d \u81ea\u5b9a\u4e49\u6cdb\u578b\u7ed3\u6784\u4f53\u540d[\u7c7b\u578b]\n</code></pre> Example <pre><code>type Tree[T any] struct {\n    data T\n    l, r *Tree[T]\n}\n\nvar leaf1, leaf2 Tree[int]\nroot := Tree[int]{\n    data: 1,\n    l:    &amp;leaf1,\n    r:    &amp;leaf2,\n}\n\nleaf1 = Tree[int]{\n    data: 2,\n    l:    nil,\n    r:    nil,\n}\n\nleaf2 = Tree[int]{\n    data: 3,\n    l:    nil,\n    r:    nil,\n}\n</code></pre>"},{"location":"Go/Basic/Golang-16-%E6%B3%9B%E5%9E%8B/#_11","title":"\u5c0f\u7ed3","text":"<p>\u53ef\u4ee5\u53d1\u73b0\uff0c\u5b9a\u4e49\u6cdb\u578b\u6570\u636e\u7ed3\u6784\u7684\u65f6\u5019\uff0c\u90fd\u662f\u5148\u662f\u81ea\u5b9a\u4e49\u7684\u6570\u636e\u7ed3\u6784\u540d\uff0c\u7136\u540e\u65c1\u8fb9\u52a0\u4e0a\u7c7b\u578b\u7ea6\u675f\uff1b\u5728\u58f0\u660e\u6cdb\u578b\u6570\u636e\u7ed3\u6784\u7684\u65f6\u5019\uff0c\u90fd\u662f\u81ea\u5b9a\u4e49\u7684\u6570\u636e\u7ed3\u6784\u540d\uff0c\u7136\u540e\u65c1\u8fb9\u52a0\u4e0a\u6307\u5b9a\u7c7b\u578b\u3002</p> <pre><code>type \u81ea\u5b9a\u4e49\u6cdb\u578b\u5207\u7247\u540d[\u6cdb\u578b\u540d \u7c7b\u578b\u5217\u8868] []\u6cdb\u578b\u540d\ntype \u81ea\u5b9a\u4e49\u6cdb\u578bmap\u540d[\u6cdb\u578b\u540d \u7c7b\u578b\u5217\u8868] map[\u6cdb\u578b\u540d]\u6cdb\u578b\u540d \ntype \u81ea\u5b9a\u4e49\u6cdb\u578b\u901a\u9053\u540d[\u6cdb\u578b\u540d \u7c7b\u578b\u5217\u8868] chan \u6cdb\u578b\u540d\ntype \u81ea\u5b9a\u4e49\u6cdb\u578b\u7ed3\u6784\u4f53\u540d[\u6cdb\u578b\u540d \u7c7b\u578b\u5217\u8868] struct {\n    ...\n    \u5b57\u6bb5\u540d \u5b57\u6bb5\u7c7b\u578b\n}\n\nvar \u53d8\u91cf\u540d \u81ea\u5b9a\u4e49\u6cdb\u578b\u5207\u7247\u540d[\u7c7b\u578b]\nvar \u53d8\u91cf\u540d \u81ea\u5b9a\u4e49\u6cdb\u578bmap\u540d[key\u7684\u7c7b\u578b, value\u7684\u7c7b\u578b]\nvar \u53d8\u91cf\u540d \u81ea\u5b9a\u4e49\u6cdb\u578b\u901a\u9053\u540d[\u7c7b\u578b]\nvar \u53d8\u91cf\u540d \u81ea\u5b9a\u4e49\u6cdb\u578b\u7ed3\u6784\u4f53\u540d[\u7c7b\u578b]\n</code></pre>"},{"location":"Go/Basic/Golang-16-%E6%B3%9B%E5%9E%8B/#_12","title":"\u6cdb\u578b\u7ea6\u675f","text":"<p>\u4e0a\u9762\u4e3e\u4e86\u6cdb\u578b\u51fd\u6570\uff0c\u8fd8\u6709\u6cdb\u578b\u7684\u6570\u636e\u7ed3\u6784\u600e\u4e48\u5b9a\u4e49\u548c\u58f0\u660e\u4f7f\u7528\uff0c\u4e0b\u9762\u6211\u4eec\u5173\u6ce8\u6cdb\u578b\u7684\u7ea6\u675f\u3002</p> <p>\u5bf9\u6bd4\u6cdb\u578b\u51fd\u6570\u548c\u975e\u6cdb\u578b\u51fd\u6570\uff0c\u5c31\u662f\u5dee\u4e86\u4e2a\u7c7b\u578b\u5217\u8868\u800c\u5df2\uff0c\u4ed6\u4eec\u7684\u5b9a\u4e49\u5927\u6982\u662f\u8fd9\u6837\u7684\uff1a</p> <pre><code>[X, Y constraint1, Z constraint2]\n</code></pre> <p>\u8fd9\u4e2a\u53eb \u7c7b\u578b\u53c2\u6570\u5217\u8868\uff08type paramter list\uff09\uff0c</p> <ul> <li>\u7528\u4e2d\u62ec\u53f7 <code>[ ]</code> \u5305\u88f9</li> <li>X\uff0cY\uff0cZ \u90fd\u662f\u7c7b\u578b\u53c2\u6570\uff0c\u6216\u8005\u53eb\u6cdb\u578b\u540d\uff0c\u5efa\u8bae\u91c7\u7528\u5927\u9a7c\u5cf0\u547d\u540d\u6cd5\uff0c\u4f53\u73b0\u5b83\u662f\u4e00\u4e2a\u7c7b\u578b</li> <li>constraint1\uff0cconstraint2 \u90fd\u662f\u7c7b\u578b\u7ea6\u675f\uff08type constraint\uff09\uff0c\u6216\u8005\u53eb\u7c7b\u578b\u5217\u8868\u3001\u7c7b\u578b\u96c6</li> </ul> <p>\u5728\u4f7f\u7528\u7684\u65f6\u5019\uff0c\u9664\u4e86\u4e0a\u9762\u90a3\u4e9b\u7528\u6cd5\uff0c\u8fd8\u6709\u5176\u4ed6\u7528\u6cd5\uff0c\u4e0b\u9762\u6162\u6162\u8bf4\u3002</p> <p>\u4e3e\u4e2a\u6817\u5b50\uff0c\u73b0\u5728\u8981\u5199\u4e00\u4e2a max \u51fd\u6570\uff0c</p> <ul> <li> <p>\u975e\u6cdb\u578b\u5199\u6cd5\uff1a</p> <pre><code>func max(a, b int) int {\n    if a &gt; b {\n        return a\n    }\n    return b\n}\n</code></pre> <p>\u8fd9\u6837\u53ea\u63a5\u6536 int \u7c7b\u578b\uff0c\u5982\u679c\u662f int8\u3001int64 \u8fd9\u4e9b\u4e5f\u4e0d\u80fd\u4f20\u8fdb\u6765</p> </li> <li> <p>\u6cdb\u578b\u5199\u6cd5\uff1a</p> <pre><code>func max[T int | int8 | int16 | int32 | int64](a, b T) T {\n    if a &gt; b {\n        return a\n    }\n    return b\n}\n</code></pre> <p>\u8fd9\u6837\u5c31\u53ef\u4ee5\u4f20 int \u7cfb\u5217\u7c7b\u578b\u7684\u53c2\u6570\u8fdb\u53bb\u3002</p> <p>\u4f46\u662f\u6709\u4e2a\u95ee\u9898\uff0c\u5982\u679c\u8fd8\u8981\u52a0\u4e0a uint \u7cfb\u5217\u5462\uff0c\u63a5\u7740\u5217\u51fa\u6765\uff1f\u5f88\u4e11\uff01\uff01\uff01</p> <p>\u90a3\u4e48\u53ef\u4ee5\u7528 interface \u7684\u65b9\u5f0f\u53bb\u5b9a\u4e49\u3002</p> </li> <li> <p>interface \u7684\u65b9\u5f0f</p> <pre><code>type Num interface{\n    int | int8 | int16 | int32 | int64 | uint | uint8 | uint16 | uint32 | uint64 | float32 | float64\n}\n\nfunc max[T Num](a, b T) T {\n    if a &gt; b {\n        return a\n    }\n    return b\n}\n\nfunc min[T Num](a, b T) T {\n    if a &lt; b {\n        return a\n    }\n    return b\n}\n\n// \u8c03\u7528\nfunc main() {\n    max(1, 2)\n    max(1.0, 2.2)\n}\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\u6cdb\u578b\u51fd\u6570\u7684\u5b9a\u4e49\u4e00\u4e0b\u5b50\u53d8\u5f97\u7b80\u6d01\uff0c\u800c\u4e14 Num \u8fd9\u4e2a interface \u8fd8\u80fd\u590d\u7528\u7ed9 min \u51fd\u6570\u3002</p> <p>\u4f46\u662f\u6709\u4e2a\u95ee\u9898\uff0c\u5982\u679c\u6211\u57fa\u4e8e int \u7c7b\u578b\u81ea\u5b9a\u4e49\u4e86\u4e00\u4e2a\u7c7b\u578b\uff0c\u5e95\u5c42\u7c7b\u578b\u4e5f\u662f int\uff0c\u4f46\u662f\u7f16\u8bd1\u4e0d\u901a\u8fc7\u5440\u3002</p> <p>\u6ca1\u4e8b\uff0c\u7528 <code>~</code> \u7b26\u53f7\uff0c\u8fd9\u4e2a\u7b26\u53f7\u8ddf\u7c7b\u578b\u4e00\u8d77\uff0c\u8868\u793a\u5e95\u5c42\u7c7b\u578b\u662f\u8be5\u7c7b\u578b\u7684\u90fd\u80fd\u63a5\u53d7\u3002\u4f8b\u5982 <code>~int</code> \u8868\u793a int \u548c\u5e95\u5c42\u7c7b\u578b\u662f int \u7684\u6240\u6709\u7c7b\u578b\u3002</p> </li> <li> <p><code>~</code> \u7b26\u53f7</p> <pre><code>type Num interface {\n    ~int | ~int8 | ~int16 | ~int32 | ~int64 |\n    ~uint | ~uint8 | ~uint16 | ~uint32 | ~uint64 |\n    ~float32 | ~float64\n}\n\nfunc max[T Num](a, b T) T {\n    if a &gt; b {\n        return a\n    }\n    return b\n}\n\nfunc min[T Num](a, b T) T {\n    if a &lt; b {\n        return a\n    }\n    return b\n}\n\n// \u8c03\u7528\ntype MyInt int\n\nfunc main() {\n    var a, b MyInt = 1, 2\n    max(a, b)\n    max(1, 2)\n}\n</code></pre> <p>\u5728\u8c03\u7528\u5904\uff0c\u5148\u662f\u5b9a\u4e49\u4e86\u4e00\u4e2a\u57fa\u4e8e int \u7684\u81ea\u5b9a\u4e49\u7c7b\u578b MyInt\uff0c\u7136\u540e\u58f0\u660e\u4e86\u4e24\u4e2a\u81ea\u5b9a\u4e49\u7c7b\u578b\u7684\u53c2\u6570\uff0c\u4e00\u6837\u53ef\u4ee5\u4f20\u8fdb\u53bb\u3002</p> <p>\u4f46\u662f\u6211\u61d2\uff0c\u6211\u4e0d\u60f3\u624b\u52a8\u5199\uff0c\u90a3\u5c31\u7528 constraints \u5305\u3002</p> </li> <li> <p>constraints \u5305</p> <pre><code>import (\n    \"golang.org/x/exp/constraints\"\n    ...\n)\n\nfunc max[T constraints.Order](a, b T) T {\n    if a &gt; b {\n        return a\n    }\n    return b\n}\n\nfunc min[T constraints.Order](a, b T) T {\n    if a &lt; b {\n        return a\n    }\n    return b\n}\n</code></pre> <p>constraints \u662f\u5b98\u65b9\u7ed9\u51fa\u7684\u4e00\u4e2a\u5f88\u7b80\u5355\u7684\u5305\uff0c\u4e3b\u8981\u5c31\u662f\u5b9a\u4e49\u4e86\u51e0\u4e2a\u6cdb\u578b\uff0c\u4ed6\u4eec\u7684\u5173\u7cfb\u5982\u4e0b\u56fe\u3002\u4e0d\u8fc7\u8fd9\u4e2a\u5305\u5728 Go 1.18 \u6b63\u5f0f\u53d1\u5e03\u65f6\u5e76\u6ca1\u6709\u5e26\u4e0a\u3002\u4f7f\u7528\u547d\u4ee4 <code>go get golang.org/x/exp/constraints</code> \u53ef\u4ee5\u4e0b\u8f7d\u5230\u3002</p> <p></p> </li> </ul> <p>\u4e0a\u9762\u7684\u6817\u5b50\u5f15\u51fa\u8bb8\u591a\u4e2a\u8ddf\u6cdb\u578b\u76f8\u5173\u7684\u70b9\uff1a</p> <ul> <li>\u4f7f\u7528 <code>|</code> \u5b9a\u4e49\u4e00\u4e2a\u7c7b\u578b\u96c6</li> <li>\u4f7f\u7528 <code>~T</code> \u63a5\u53d7\u6240\u6709\u5e95\u5c42\u7c7b\u578b\u4e3a T \u7684\u7c7b\u578b</li> <li>\u4f7f\u7528 interface \u65b9\u5f0f\u4f7f\u5f97\u6cdb\u578b\u7ea6\u675f\u53ef\u4ee5\u590d\u7528</li> <li>\u4f7f\u7528 constraints \u5305\u53ef\u4ee5\u7701\u53bb\u5b9a\u4e49\u4e00\u4e9b\u57fa\u7840\u7c7b\u578b\u7684\u6cdb\u578b\u7684\u5de5\u4f5c</li> </ul> <p>\u4e0b\u9762\u7ee7\u7eed\u8865\u5145\u4e00\u4e0b interface \u65b9\u5f0f\u3001\u5173\u952e\u5b57 comparable \u548c any\u3001\u7c7b\u578b\u7ea6\u675f\u5b57\u9762\u503c\u3002</p>"},{"location":"Go/Basic/Golang-16-%E6%B3%9B%E5%9E%8B/#interface","title":"interface \u65b9\u5f0f","text":"<p>\u7b80\u5355\u7684 interface \u7ea6\u675f</p> <pre><code>type Signed interface{\n    ~int | ~int8 | ~int16 | ~int32 | ~int64\n}\n</code></pre> <p>Go 1.18\u4ee5\u524d\u5b9a\u4e49\u63a5\u53e3</p> <pre><code>type Stringer interface{\n    String()\n}\n</code></pre> <p>\u5728\u5b9a\u4e49 interface \u7ea6\u675f\u7684\u65f6\u5019\u662f\u53ef\u4ee5\u52a0\u4e0a\u65b9\u6cd5\u96c6\u7684\uff0c\u56e0\u4e3a Go \u4e2d interface \u5b9a\u4e49\u7684\u662f\u4e00\u79cd\u7c7b\u578b\uff0c\u90a3\u4e48\u4e0a\u6817\u5b50\u4e2d\uff0c</p> <ul> <li>Signed \u662f\u57fa\u7840\u7c7b\u578b\u4e3a int \u7cfb\u5217\u7c7b\u578b\u7684\u4e00\u79cd\u7c7b\u578b\uff1b</li> <li>Writer \u662f\u5b9e\u73b0\u4e86 Write \u65b9\u6cd5\u7684\u4e00\u79cd\u7c7b\u578b\uff1b</li> </ul> <p>\u4e24\u4e2a\u90fd\u662f\u7c7b\u578b\uff0c\u5b83\u4eec\u53ef\u4ee5\u540c\u65f6\u7528\uff1a</p> <pre><code>type Foo interface{\n    ~int | ~int8 | ~int16 | ~int32 | ~int64\n    String()\n}\n\nfunc AddAndPrint[T Foo](param T) {\n    param++\n    param.String()\n}\n</code></pre>"},{"location":"Go/Basic/Golang-16-%E6%B3%9B%E5%9E%8B/#comparable-any","title":"\u5173\u952e\u5b57 comparable \u548c any","text":"<p>Go 1.18 \u65b0\u589e\u4e86\u4e24\u4e2a\u5173\u952e\u5b57 comparable \u548c any\uff0c\u4ed6\u4eec\u5b9a\u4e49\u5982\u4e0b\uff1a</p> <pre><code>// any is an alias for interface{} and is equivalent to interface{} in all ways.\ntype any = interface{}\n\n// comparable is an interface that is implemented by all comparable types\n// (booleans, numbers, strings, pointers, channels, arrays of comparable types,\n// structs whose fields are all comparable types).\n// The comparable interface may only be used as a type parameter constraint,\n// not as the type of a variable.\ntype comparable interface{ comparable }\n</code></pre> <p>any \u53ea\u662f interface{} \u7684\u522b\u540d\uff0c\u6240\u4ee5\u4ee5\u540e\u5199\u4ee3\u7801\u65f6\u5982\u679c\u9700\u8981\u7528\u5230 interface{} \u8fd9\u79cd\u7c7b\u578b\u65f6\uff0c\u53ef\u4ee5\u76f4\u63a5\u7528 any \u66ff\u4ee3\u3002</p> <p>comparable \u662f\u4e00\u4e9b\u53ef\u4ee5\u7528 <code>==</code> \u548c <code>!=</code> \u6bd4\u8f83\u7684\u7c7b\u578b\uff08\u4e0d\u5305\u62ec <code>&gt;</code>\u3001<code>&gt;=</code>\u3001<code>&lt;</code>\u3001<code>&lt;=</code> \u8fd9\u4e9b\u54e6\uff09\uff0c\u53ef\u4ee5\u662f\u5e03\u5c14\u7c7b\u578b\u3001\u6570\u503c\u7c7b\u578b\u3001\u5b57\u7b26\u4e32\u7c7b\u578b\u3001\u6307\u9488\u7c7b\u578b\u3001\u901a\u9053\u7c7b\u578b\u3001comparable\u7c7b\u578b\u7684\u6570\u7ec4\u3001\u53ef\u6bd4\u8f83\u7684\u7ed3\u6784\u4f53\uff08\u5b57\u6bb5\u4e2d\u6ca1\u6709slice\u3001map\u7c7b\u578b\uff09\u3002</p> <p>comparable \u53ea\u80fd\u7528\u5728\u6cdb\u578b\u7ea6\u675f\u4e2d\uff0c\u4e0d\u80fd\u7528\u4f5c\u58f0\u660e\u4e00\u4e2a\u53d8\u91cf\u7684\u7c7b\u578b\u3002</p>"},{"location":"Go/Basic/Golang-16-%E6%B3%9B%E5%9E%8B/#_13","title":"\u7c7b\u578b\u7ea6\u675f\u5b57\u9762\u503c","text":"<pre><code>[S interface{~[]E}, E interface{}]\n\n[S ~[]E, E interface{}]\n\n[S ~[]E, E any]\n</code></pre> <p>\u7c7b\u578b\u7ea6\u675f\u53ef\u4ee5\u63d0\u524d\u5b9a\u4e49\u597d\uff0c\u4e5f\u53ef\u4ee5\u5728\u7ea6\u675f\u5217\u8868\u4e2d\u5b9a\u4e49\uff0c\u4f8b\u5982\u4e0a\u9762\u7684\u4e09\u4e2a\u7c7b\u578b\u7ea6\u675f\uff0c\u867d\u7136\u8bfb\u53d6\u5230 S \u7684\u65f6\u5019\u4e0d\u77e5\u9053 E \u662f\u4ec0\u4e48\u7c7b\u578b\uff0c\u5728\u7c7b\u578b\u7ea6\u675f\u7ed3\u675f\u524d\u5c31\u8bfb\u53d6\u5230 E \u662f interface{}\uff0c\u6240\u4ee5\u8fd9\u6837\u7684\u7c7b\u578b\u7ea6\u675f\u662f\u53ef\u4ee5\u7684\uff0c\u800c E \u5c31\u662f**\u7c7b\u578b\u7ea6\u675f\u5b57\u9762\u503c**\u3002</p> <p>\u5728\u7c7b\u578b\u9650\u5236\u7684\u4f4d\u7f6e\uff0c<code>interface{E}</code>\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5199\u4e3a<code>E</code>\uff0c\u56e0\u6b64\u5c31\u53ef\u4ee5\u7406\u89e3<code>interface{~[]E}</code>\u53ef\u4ee5\u5199\u4e3a<code>~[]E</code>\u3002</p>"},{"location":"Go/Basic/Golang-16-%E6%B3%9B%E5%9E%8B/#_14","title":"\u4f7f\u7528\u573a\u666f","text":"<ul> <li> <p>\u9700\u8981\u4f7f\u7528 slice\u3001map\u3001channel \u7c7b\u578b\u65f6\uff0c\u4f46\u662f slice\u3001map\u3001channel \u4e2d\u7684\u5143\u7d20\u53ef\u80fd\u6709\u591a\u79cd\uff1b</p> </li> <li> <p>\u5b9a\u4e49\u4e00\u4e9b\u6bd4\u8f83\u901a\u7528\u7684\u6570\u636e\u7ed3\u6784\u65f6\uff0c\u6bd4\u5982\u901a\u7528\u7684\u94fe\u8868\u3001\u6811\u7b49\u7b49\uff1b</p> </li> <li> <p>\u5f53\u4e00\u4e2a\u65b9\u6cd5\u7684\u5b9e\u73b0\u5bf9\u6240\u6709\u67d0\u4e9b\u7c7b\u578b\u90fd\u4e00\u6837\u65f6\u3002</p> </li> <li> <p>\u4e0d\u8981\u4e3a\u4e86\u6cdb\u578b\u800c\u4f7f\u7528\u6cdb\u578b</p> <pre><code>// good\nfunc foo(w io.Writer) {\n   b := getBytes()\n   _, _ = w.Write(b)\n}\n\n// bad\nfunc foo[T io.Writer](w T) {\n   b := getBytes()\n   _, _ = w.Write(b)\n}\n</code></pre> <p>\u5355\u7eaf\u662f\u8c03\u7528<code>io.Writer</code>\u7684<code>Write</code>\u65b9\u6cd5\uff0c\u628a\u5185\u5bb9\u5199\u5230\u6307\u5b9a\u5730\u65b9\u3002\u4f7f\u7528<code>interface</code>\u4f5c\u4e3a\u53c2\u6570\u66f4\u5408\u9002\uff0c\u53ef\u8bfb\u6027\u66f4\u5f3a\u3002</p> </li> </ul> <p>Avoid boilerplate.</p> <p>Corollary: Don't use type parameters prematurely; wait until you are about to write boilerplate code.</p> <p>@Ian \u7ed9\u7684\u5efa\u8bae\u662f\uff1a\u5f53\u4f60\u53d1\u73b0\u9488\u5bf9\u4e0d\u540c\u7c7b\u578b\uff0c\u4f1a\u5199\u51fa\u540c\u6837\u7684\u4ee3\u7801\u903b\u8f91\u65f6\uff0c\u624d\u53bb\u4f7f\u7528\u6cdb\u578b\u3002\u4e5f\u5c31\u662f <code>Avoid boilerplate code</code>\u3002</p>"},{"location":"Go/Basic/Golang-2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/","title":"2.\u6570\u636e\u7c7b\u578b","text":""},{"location":"Go/Basic/Golang-2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#2-","title":"2-\u6570\u636e\u7c7b\u578b","text":""},{"location":"Go/Basic/Golang-2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_1","title":"\u6574\u578b","text":"<p>\u6574\u578b\u5206\u4e3a\u4e24\u5927\u7c7b\uff1a<code>\u6709\u7b26\u53f7</code>\u548c<code>\u65e0\u7b26\u53f7</code></p> <p>\u6309\u957f\u5ea6\u5206\u4e3a\uff1a<code>int8</code>\u3001<code>int16</code>\u3001<code>int32</code>\u3001<code>int64</code>\uff1b<code>uint8</code>\u3001<code>uint16</code>\u3001<code>uint32</code>\u3001<code>uint64</code></p> \u7c7b\u578b \u8303\u56f4 \u63cf\u8ff0 \u5bf9\u5e94C\u8bed\u8a00 int8 -128~127 \u6709\u7b26\u53f78\u4f4d\u6574\u578b byte int16 -32768~32767 \u6709\u7b26\u53f716\u4f4d\u6574\u578b short int32 -2147483648~2147483647 \u6709\u7b26\u53f732\u4f4d\u6574\u578b int int64 -9223372036854775808~9223372036854775807 \u6709\u7b26\u53f764\u4f4d\u6574\u578b long uint8 0~255 \u65e0\u7b26\u53f78\u4f4d\u6574\u578b unsigned byte uint16 0\u00b765535 \u65e0\u7b26\u53f716\u4f4d\u6574\u578b unsigned short uint32 0~4294967295 \u65e0\u7b26\u53f732\u4f4d\u6574\u578b unsigned int uint64 0~18446744073709551615 \u65e0\u7b26\u53f764\u4f4d\u6574\u578b unsigned long"},{"location":"Go/Basic/Golang-2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_2","title":"\u7279\u6b8a\u6574\u578b","text":"\u7c7b\u578b \u63cf\u8ff0 uint 32\u4f4dOS\u4e0a\u5c31\u662fuint32\uff0c64\u4f4dOS\u4e0a\u5c31\u662fuint64 int 32\u4f4dOS\u4e0a\u5c31\u662fint32\uff0c64\u4f4dOS\u4e0a\u5c31\u662fint64 uintptr \u65e0\u7b26\u53f7\u6574\u578b\uff0c\u7528\u4e8e\u5b58\u653e\u4e00\u4e2a\u6307\u9488 <p>\u6ce8\u610f</p> <p>\u5728\u4f7f\u7528 <code>int</code> \u548c <code>uint</code> \u7c7b\u578b\u65f6\uff0c\u4e0d\u80fd\u5047\u5b9a\u5b83\u662f32\u4f4d\u621664\u4f4d\u7684\u6574\u578b\uff0c\u800c\u8981\u8003\u8651<code>int</code>\u548c<code>uint</code>\u53ef\u80fd\u5728\u4e0d\u540c\u5e73\u53f0\u4e0a\u7684\u5dee\u5f02\u3002 \u5728\u6d89\u53ca\u5230 \u4e8c\u8fdb\u5236\u4f20\u8f93\u3001\u8bfb\u5199\u6587\u4ef6\u7684\u7ed3\u6784\u63cf\u8ff0 \u65f6\uff0c\u4e3a\u4e86\u4fdd\u6301\u6587\u4ef6\u7684\u7ed3\u6784\u4e0d\u4f1a\u53d7\u5230\u4e0d\u540c\u7f16\u8bd1\u76ee\u6807\u5e73\u53f0\u5b57\u8282\u957f\u5ea6\u7684\u5f71\u54cd\uff0c\u4e0d\u8981\u4f7f\u7528<code>int</code>\u548c<code>uint</code>\u3002</p>"},{"location":"Go/Basic/Golang-2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_3","title":"\u6570\u5b57\u5b57\u9762\u91cf\u8bed\u6cd5","text":"<p>\u5b57\u9762\u91cf\u8bed\u6cd5\u4f7f\u5f97\u5f00\u53d1\u8005\u53ef\u4ee5\u7528 \u4e8c\u8fdb\u5236\u3001\u516b\u8fdb\u5236\u3001\u5341\u516d\u8fdb\u5236\u7684\u683c\u5f0f\u5b9a\u4e49\u6570\u5b57</p> <ul> <li><code>v := 0b101110</code>\uff0c0b\u524d\u7f00\uff1b\u4ee3\u8868\u4e8c\u8fdb\u5236\u7684 101110\uff0c\u76f8\u5f53\u4e8e\u516b\u8fdb\u5236\u768456\uff0c\u5341\u8fdb\u5236\u768446\uff0c\u5341\u516d\u8fdb\u5236\u7684 2E</li> <li><code>v := 0o56</code>\uff0c0o\u524d\u7f00\uff1b\u4ee3\u8868\u516b\u8fdb\u5236\u7684 56</li> <li><code>v := 46</code>\uff0c\u65e0\u524d\u7f00\uff1b\u4ee3\u8868\u5341\u8fdb\u5236\u7684 46</li> <li><code>v := 0x2e</code>\uff0c0x\u524d\u7f00\uff1b\u4ee3\u8868\u5341\u516d\u8fdb\u5236\u7684 2E</li> <li><code>v := 0x1p-2</code>\uff0c\u4ee3\u8868\u5341\u516d\u8fdb\u5236\u7684 1 \u9664\u4ee5 \\(2^2\\)\uff0c\u4e5f\u5c31\u662f 0.25</li> </ul> <p>\u8fd8\u53ef\u4ee5\u7528 <code>_</code> \u6765\u5206\u9694\u6570\u5b57\u3002\u6bd4\u5982 <code>v := 1_000_000</code> \u8868\u793a v \u7684\u503c\u7b49\u4e8e \u4e00\u767e\u4e07 1000000\u3002</p> <p>\u501f\u52a9 <code>Printf()</code> \u53ef\u4ee5\u5c06\u4e00\u4e2a\u6574\u6570\u4ee5\u4e0d\u540c\u8fdb\u5236\u5f62\u5f0f\u5c55\u793a </p><pre><code>func main() {\n    num := 0b101110\n    fmt.Printf(\"%b \\t %#b \\n\", num, num)\n    fmt.Printf(\"%o \\t\\t %#o \\n\", num, num)\n    fmt.Printf(\"%d \\t\\t %#d \\n\", num, num)\n    fmt.Printf(\"%x \\t\\t %#x \\t %#X \\n\", num, num, num)\n}\n\n// ----------------------------------------\n// Output:\n101110   0b101110\n56       056\n46       46\n2e       0x2e    0X2E\n</code></pre><p></p> <p>Tip</p> <p>\u6574\u578b\u652f\u6301\u7b97\u672f\u8fd0\u7b97\u548c\u4f4d\u64cd\u4f5c\uff0c\u7b97\u672f\u8868\u8fbe\u5f0f\u548c\u4f4d\u64cd\u4f5c\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\u8fd8\u662f\u6574\u578b\u3002 <code>var a int = 1000 &gt;&gt; 2</code></p>"},{"location":"Go/Basic/Golang-2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_4","title":"\u6d6e\u70b9\u578b","text":"<p>Go \u8bed\u8a00\u652f\u6301\u4e24\u79cd\u6d6e\u70b9\u578b\u6570\uff1a<code>float32</code>\u548c<code>float64</code>\u3002 \u8fd9\u4e24\u79cd\u6d6e\u70b9\u578b\u6570\u636e\u683c\u5f0f\u9075\u5faa <code>IEEE754</code>\u6807\u51c6\uff1a</p> <ul> <li><code>float32</code>\u7684\u6d6e\u70b9\u6570\u6700\u5927\u8303\u56f4\u7ea6\u4e3a<code>3.4e38</code>\uff0c\u53ef\u4ee5\u4f7f\u7528\u5e38\u91cf\u5b9a\u4e49 <code>math.MaxFloat32</code></li> <li><code>float64</code>\u7684\u6d6e\u70b9\u6570\u6700\u5927\u8303\u56f4\u7ea6\u4e3a<code>1.8e308</code>\uff0c\u53ef\u4ee5\u4f7f\u7528\u5e38\u91cf\u5b9a\u4e49 <code>math.MaxFloat64</code></li> </ul> <p>\u6253\u5370\u6d6e\u70b9\u6570\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u5360\u4f4d\u7b26 <code>%f</code>: </p><pre><code>package main\nimport \"math\"\nimport \"fmt\"\n\nfunc main() {\n    fmt.Printf(\"%f \\n\", math.Pi)\n    fmt.Printf(\"%.2f \\n\", math.Pi)\n}\n\n// ----------------------------------------\n// Output:\n3.141593\n3.14\n</code></pre><p></p> \u63d0\u793a <ol> <li>\u6d6e\u70b9\u578b\u5b57\u9762\u91cf\u4f1a\u88ab\u81ea\u52a8\u7c7b\u578b\u63a8\u65ad\u4e3a float64 \u7c7b\u578b     <pre><code>b := 10.00\nfmt.Printf(\"%T\", b)    // float64\n</code></pre></li> <li>\u8ba1\u7b97\u673a\u5f88\u96be\u8fdb\u884c\u6d6e\u70b9\u6570\u7684\u7cbe\u786e\u8868\u793a\u548c\u5b58\u50a8\uff0c\u56e0\u6b64\u4e24\u4e2a\u6d6e\u70b9\u6570\u4e4b\u95f4\u4e0d\u5e94\u8be5\u4f7f\u7528 <code>==</code> \u6216 <code>!=</code> \u6765\u6bd4\u8f83\uff0c\u9ad8\u7cbe\u5ea6\u79d1\u5b66\u8ba1\u7b97\u5e94\u8be5\u4f7f\u7528 math \u6807\u51c6\u5e93</li> </ol>"},{"location":"Go/Basic/Golang-2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_5","title":"\u590d\u6570","text":"<p><code>complex64</code> \u548c <code>complex128</code></p> <p></p><pre><code>var c1 complex64 = 1 + 2i\nvar c2 complex128 = 2 + 3i\n\nfmt.Println(c1)\nfmt.Println(c2)\n\n// ----------------------------------------\n// Output:\n(1+2i)\n(2+3i)\n</code></pre> \u590d\u6570\u6709\u5b9e\u90e8\u548c\u865a\u90e8 complex64\u7684\u5b9e\u90e8\u548c\u865a\u90e8\u4e3a32\u4f4d complex128\u7684\u5b9e\u90e8\u548c\u865a\u90e8\u4e3a64\u4f4d\u3002<p></p> <p>Tip</p> <p>Go \u6709\u4e09\u4e2a\u5185\u7f6e\u51fd\u6570\u5904\u7406\u590d\u6570\uff1acomplex\u3001real\u3001imag</p> <pre><code>var v = complex(2.1, 3) // \u6784\u9020\u4e00\u4e2a\u590d\u6570 (2.1+3i)\na := real(v)            // \u8fd4\u56de\u590d\u6570\u5b9e\u90e8 2.1\nb := imag(v)            // \u8fd4\u56de\u590d\u6570\u865a\u90e8 3\n</code></pre>"},{"location":"Go/Basic/Golang-2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_6","title":"\u5e03\u5c14\u503c","text":"<p>Go \u8bed\u8a00\u4e2d\u4ee5 <code>bool</code> \u7c7b\u578b\u8fdb\u884c\u58f0\u660e\u5e03\u5c14\u578b\uff0c\u5e03\u5c14\u578b\u6570\u636e\u53ea\u6709 <code>true</code> \u548c <code>false</code> \u4e24\u4e2a\u503c\u3002</p> <ol> <li>\u5e03\u5c14\u7c7b\u578b\u53d8\u91cf\u9ed8\u8ba4\u503c\u4e3a false</li> <li>Go \u8bed\u8a00\u4e2d \u4e0d\u5141\u8bb8\u5c06\u6574\u578b\u5f3a\u5236\u8f6c\u6362\u4e3a\u5e03\u5c14\u578b\uff08integer !-&gt; bool\uff09</li> <li>\u5e03\u5c14\u578b\u65e0\u6cd5\u53c2\u4e0e\u6570\u503c\u8fd0\u7b97\uff0c\u65e0\u6cd5\u4e0e\u5176\u4ed6\u7c7b\u578b\u8fdb\u884c\u8f6c\u6362</li> </ol>"},{"location":"Go/Basic/Golang-2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_7","title":"\u5b57\u7b26\u4e32","text":"<p>Go \u8bed\u8a00\u4e2d\u7684\u5b57\u7b26\u4e32\u662f\u539f\u751f\u6570\u636e\u7c7b\u578b\uff0c\u4f7f\u7528\u5b57\u7b26\u4e32\u5c31\u50cf\u4f7f\u7528\u5176\u4ed6\u539f\u751f\u6570\u636e\u7c7b\u578b\uff08int\u3001bool\u3001float32\u7b49\uff09\u4e00\u6837 Go \u8bed\u8a00\u4e2d\u5b57\u7b26\u4e32\u5185\u90e8\u5b9e\u73b0\u4f7f\u7528 <code>UTF-8</code> \u7f16\u7801\uff0c\u8fd9\u4f7f\u5f97 go \u4e0d\u9700\u8981\u4e13\u95e8\u4f7f\u7528 UTF-8 \u5b57\u7b26\u96c6\u7684\u6587\u672c\u8fdb\u884c\u7f16\u7801\u548c\u89e3\u7801\uff0c\u53ef\u4ee5\u5728Go\u8bed\u8a00\u4e2d\u76f4\u63a5\u6dfb\u52a0\u975eASCII\u7801\u5b57\u7b26</p> <p>\u5b57\u7b26\u4e32\u662f\u4e00\u79cd\u503c\u7c7b\u578b\uff0c\u4e14\u503c\u4e0d\u53ef\u53d8\uff1b\u5373\u521b\u5efa\u67d0\u4e2a\u6587\u672c\u540e\u4f60\u65e0\u6cd5\u518d\u6b21\u4fee\u6539\u8fd9\u4e2a\u6587\u672c\u7684\u5185\u5bb9\uff0c\u5373\u4f7f\u4f60\u6539\u53d8\u4e86\uff0c\u4f60\u4f1a\u53d1\u73b0\u90a3\u5df2\u7ecf\u4e0d\u662f\u539f\u6765\u7684\u90a3\u4e32\u5b57\u7b26\u4e32\u4e86\u3002 \u66f4\u6df1\u5165\u7684\u8bb2\uff0c\u5b57\u7b26\u4e32\u662f \u5b57\u8282\u7684\u5b9a\u957f\u6570\u7ec4\u3002</p> <ol> <li> <p>Go \u652f\u6301\u4ee5\u4e0b2\u79cd\u5f62\u5f0f\u7684\u5b57\u9762\u503c</p> <ul> <li> <p>\u89e3\u91ca\u5b57\u7b26\u4e32</p> <p>\u8be5\u7c7b\u5b57\u7b26\u4e32\u4f7f\u7528\u53cc\u62ec\u53f7 <code>\"\"</code> \u5f15\u8d77\u6765\uff0c\u5176\u4e2d\u8f6c\u4e49\u5b57\u7b26\uff08<code>\\n\u3001\\r\u3001 \\t\u3001 \\\\</code>\uff09\u4f1a\u88ab\u66ff\u6362\u3002eg\uff1a</p> <pre><code>str1 := \"Hello\"\nstr2 := \"Boii\"\n</code></pre> </li> <li> <p>\u975e\u89e3\u91ca\u5b57\u7b26\u4e32</p> <p>\u8be5\u7c7b\u5b57\u7b26\u4e32\u4f7f\u7528\u53cd\u5f15\u53f7\u62ec\u8d77\u6765  ``\uff0c\u652f\u6301\u6362\u884c\u3002eg\uff1a</p> <pre><code>// \u4e0b\u9762\u7684 \\n \u4f1a\u88ab\u539f\u6837\u8f93\u51fa\nstr := `This is a\nraw string \\n`\n</code></pre> </li> </ul> </li> <li> <p>Go \u4e2d\u7684\u5b57\u7b26\u4e32\u662f\u6839\u636e\u957f\u5ea6\u9650\u5b9a\uff0c\u800c\u975e\u7279\u6b8a\u5b57\u7b26 <code>\\0</code>\u3002</p> </li> <li>string \u7c7b\u578b\u7684\u96f6\u503c\uff1a\u957f\u5ea6\u4e3a 0 \u7684\u5b57\u7b26\u4e32\uff0c\u5373\u7a7a\u5b57\u7b26\u4e32 <code>\"\"</code></li> <li>\u53ef\u4ee5\u901a\u8fc7 <code>len()</code> \u51fd\u6570\u6765\u83b7\u53d6\u5b57\u7b26\u4e32\u5b57\u7b26\u4e2a\u6570</li> <li> <p>\u5b57\u7b26\u4e32\u4e2d\u7684\u5185\u5bb9\uff08\u7eaf\u5b57\u8282\uff09\u53ef\u4ee5\u901a\u8fc7\u6807\u51c6\u7d22\u5f15\u6cd5\u6765\u83b7\u53d6     </p><pre><code>func main() {\n    str := \"hello Boii\"\n    c1 := str[0]\n    c4 := str[4]\n    cEnd := str[len(str)-1]\n    fmt.Println(c1)        // 104\n    fmt.Println(c4)        // 111\n    fmt.Println(cEnd)      // 105\n}\n</code></pre>     \u8f93\u51fa\u7684\u662f\u5b57\u7b26\u7684 Ascii \u7801<p></p> </li> <li> <p>\u5b57\u7b26\u4e32\u7c7b\u578b\u5e95\u5c42\u5b9e\u73b0\u662f\u4e00\u4e2a\u4e8c\u5143\u7684\u6570\u636e\u7ed3\u6784\uff0c\u4e00\u4e2a\u662f\u6307\u5411\u5b57\u8282\u6570\u7ec4\u7684\u8d77\u70b9\uff0c\u53e6\u4e00\u4e2a\u662f\u957f\u5ea6\u3002     eg\uff1a</p> <pre><code>// runtime/string.go\ntype stringStruct struct {\n    str unsafe.Pointer    // \u6307\u5411\u5e95\u5c42\u5b57\u8282\u6570\u7ec4\u7684\u6307\u9488\n    len int               // \u5b57\u8282\u6570\u7ec4\u957f\u5ea6\n}\n</code></pre> </li> <li> <p>\u57fa\u4e8e\u5b57\u7b26\u4e32\u521b\u5efa\u7684\u5207\u7247 \u548c \u539f\u5b57\u7b26\u4e32 \u6307\u5411\u76f8\u540c\u7684 \u5e95\u5c42\u5b57\u7b26\u6570\u7ec4\uff0c\u4e00\u6837\u4e0d\u80fd\u4fee\u6539\uff0c\u5bf9\u5b57\u7b26\u4e32\u7684\u5207\u7247\u64cd\u4f5c\u8fd4\u56de\u7684\u4ecd\u7136\u662f string\uff0c\u800c\u975e slice\u3002     </p><pre><code>a := \"Hello World\"\nb := a[0:4]\nc := a[1:]\nfmt.Printf(\"b -&gt; %s, b -&gt; type: %T\\n\", b, b) // b -&gt; Hell, b -&gt; type: string\nfmt.Printf(\"c -&gt; %s, c -&gt; type: %T\\n\", c, c) // c -&gt; ello World, c -&gt; type: string\n</code></pre><p></p> </li> </ol>"},{"location":"Go/Basic/Golang-2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_8","title":"\u5b57\u7b26\u4e32\u5e38\u7528\u64cd\u4f5c","text":"\u65b9\u6cd5 \u63cf\u8ff0 \u8fd4\u56de\u503c len(str) \u6c42\u5b57\u7b26\u4e32\u957f\u5ea6 int + \u6216 fmt.Sprintf(\"%s %s\", str1, str2) \u62fc\u63a5\u5b57\u7b26\u4e32 string strings.Split(str, \u5206\u9694\u7b26) \u5206\u5272\u5b57\u7b26\u4e32 []string strings.Contains(str, \u76ee\u6807\u5185\u5bb9) \u5224\u65adstr\u662f\u5426\u5305\u542b\u76ee\u6807\u5b50\u4e32 bool strings.HasPrefix(str, \u76ee\u6807\u5185\u5bb9) \u5224\u65adstr\u662f\u5426\u4ee5\u76ee\u6807\u5185\u5bb9\u5f00\u5934 bool strings.HasSuffix(str, \u76ee\u6807\u5185\u5bb9) \u5224\u65adstr\u662f\u5426\u4ee5\u76ee\u6807\u5185\u5bb9\u7ed3\u5c3e bool strings.Index(str, \u76ee\u6807\u5185\u5bb9) \u8fd4\u56destr\u7b2c\u4e00\u6b21\u51fa\u73b0\u76ee\u6807\u5185\u5bb9\u7684\u9996\u4e2a\u5b57\u7b26\u7684\u4e0b\u6807 int strings.LastIndex(str, \u76ee\u6807\u5185\u5bb9) \u8fd4\u56destr\u6700\u540e\u4e00\u6b21\u51fa\u73b0\u76ee\u6807\u5185\u5bb9\u7684\u9996\u4e2a\u5b57\u7b26\u7684\u4e0b\u6807 int strings.Join(strArr, \u62fc\u63a5\u7b26\u53f7) \u8fd4\u56de\u7528\u62fc\u63a5\u7b26\u53f7\u62fc\u63a5strArr\u7684\u5b57\u7b26\u4e32 string <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"strings\"\n)\n\nfunc main() {\n\n    // \u6c42\u5b57\u7b26\u4e32\u957f\u5ea6\n    str1 := `hello Boii`\n    fmt.Println(len(str1))    // 10\n    str2 := \"Hello \u4e2d\u56fd\"\n    fmt.Println(len(str2))    // 12\n\n    fmt.Println()\n\n    // \u62fc\u63a5\u5b57\u7b26\u4e32\n    fmt.Println(str1 + str2)  // hello BoiiHello \u4e2d\u56fd\n    str3 := fmt.Sprintf(\"%s | %s\", str1, str2)\n    fmt.Println(str3)         // hello Boii | Hello \u4e2d\u56fd\n\n    fmt.Println()\n\n    // \u5b57\u7b26\u4e32\u5206\u5272\n    str4 := `How do you do`\n    fmt.Println(strings.Split(str4, \" \"))         // [How do you do]\n    fmt.Printf(\"%T \\n\", strings.Split(str4, \" \")) // []string\n\n    fmt.Println()\n\n    // \u5224\u65ad\u662f\u5426\u5305\u542b\n    fmt.Println(strings.Contains(str4, \"do\"))     // true\n    // \u5224\u65ad\u524d\u7f00\n    fmt.Println(strings.HasPrefix(str4, \"How\"))   // true\n    // \u5224\u65ad\u540e\u7f00\n    fmt.Println(strings.HasSuffix(str4, \"How\"))   // false\n\n    fmt.Println()\n\n    // \u5224\u65ad\u5b50\u4e32\u4f4d\u7f6e\n    fmt.Println(strings.Index(str4, \"do\"))        // 4\n    // \u6700\u540e\u5b50\u4e32\u51fa\u73b0\u7684\u4f4d\u7f6e\n    fmt.Println(strings.LastIndex(str4, \"do\"))    // 11\n\n    fmt.Println()\n\n    // join\n    str5 := []string{\"how\", \"do\", \"you\", \"do\"}\n    fmt.Println(str5)                            // [how do you do]\n    fmt.Println(strings.Join(str5, \"-\"))         // how-do-you-do\n\n}\n</code></pre>"},{"location":"Go/Basic/Golang-2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_9","title":"\u5b57\u7b26","text":"<p>Go \u7684\u5b57\u7b26\u6709\u4ee5\u4e0b\u4e24\u79cd\uff1a</p> <ol> <li>uint8\u7c7b\u578b\uff0c\u522b\u540d byte\uff0c\u4ee3\u8868\u4e00\u4e2a ASCII \u7801\u5b57\u7b26</li> <li>int32\u7c7b\u578b\uff0c\u522b\u540d rune\uff0c\u4ee3\u8868\u4e00\u4e2a UTF-8 \u5b57\u7b26</li> </ol> <p>\u6ce8\u610f\uff1a\u5b57\u7b26\u7528\u5355\u5f15\u53f7( ' ' )\u62ec\u8d77\u6765</p> <p></p><pre><code>func main() {\n    var c1 byte = 'a'\n    var c2 rune = 'a'\n    fmt.Println(c1, c2)\n    fmt.Printf(\"c1 type: %T, c2 type: %T \\n\", c1, c2)\n}\n\n// ----------------------------------------\n// Output:\n97 97\nc1 type: uint8, c2 type: int32\n</code></pre> \u5728\u7f16\u5199\u4ee3\u7801\u7684\u65f6\u5019\uff0c\u4f7f\u7528\u522b\u540d byte\u3001rune \u53ef\u4ee5\u4f7f\u5f97\u4ee3\u7801\u66f4\u52a0\u6e05\u6670\uff0c\u4e0d\u8fc7\u8fd9\u4e24\u4e2a\u522b\u540d\u5728\u7ecf\u8fc7\u7f16\u8bd1\u540e\u8fd8\u662f\u4f1a\u8fd8\u539f\u6210 unit8 \u548c int32\u3002<p></p> <p>\u5f53\u9700\u8981\u5904\u7406\u4e2d\u6587\u3001\u65e5\u6587\u6216\u8005\u4e2d\u82f1\u6df7\u6742\u7684\u5b57\u7b26\u65f6\uff0c\u5219\u9700\u8981\u7528\u5230 rune \u7c7b\u578b\uff0c\u56e0\u4e3a byte \u578b\u53ea\u67098\u4f4d\uff0c\u53ea\u80fd\u663e\u793a ASCII \u7801\uff0c\u800c rune \u578b\u670932\u4f4d\u3002</p> <p></p><pre><code>func main() {\n    s := `Hello \u4e2d\u56fd`\n\n    for i := 0; i &lt; len(s); i++ {\n        fmt.Printf(\"%v[%c]\\t\", s[i], s[i])\n    }\n\n    fmt.Println()\n\n    for _, char := range s {\n        fmt.Printf(\"%v[%c]\\t\", char, char)\n    }\n\n    fmt.Println()\n}\n\n// ----------------------------------------\n// Output:\n72[H]   101[e]  108[l]  108[l]  111[o]  32[ ]   228[\u00e4]  184[\u00b8]  173[\u00ad]  229[\u00e5]  155[\u009b]  189[\u00bd]  \n72[H]   101[e]  108[l]  108[l]  111[o]  32[ ]   20013[\u4e2d]    22269[\u56fd]\n</code></pre> \u904d\u5386\u4e00\u4e2a\u4e2d\u82f1\u6df7\u6742\u7684\u5b57\u7b26\u4e32\u540e\u6211\u4eec\u4f1a\u53d1\u73b0\uff0c\u4e2d\u6587\u4e00\u4e2a\u5b57\u5360\u597d\u51e0\u4e2a\u5b57\u8282\u3002 \u56e0\u4e3a go \u4e2d\u5b57\u7b26\u4e32\u662f\u6309\u7167 UTF-8 \u7f16\u7801\u7684\uff0c\u800c UTF-8 \u7f16\u7801\u4e0b\u4e00\u4e2a\u4e2d\u6587\u6c49\u5b57\u7531 3~4 \u4e2a\u5b57\u8282\u7ec4\u6210\u3002 len(str) \u8fd4\u56de\u7684\u662f\u5b57\u7b26\u4e32\u7684\u5b57\u8282\u6570\uff0c\u800c\u4e0d\u662f\u5b57\u7b26\u4e32\u7684\u4e2a\u6570\uff0c\u6240\u4ee5\u7b2c\u4e00\u4e2a\u5faa\u73af\u4e2d\u4f1a\u51fa\u73b0\u4e71\u7801\u7684\u60c5\u51b5\u3002<p></p> <p>\u7b2c\u4e8c\u79cd\u65b9\u5f0f <code>for...range</code> \u5219\u53ef\u4ee5\u6b63\u786e\u7684\u8fd4\u56de\u5b57\u7b26\u4e32\u4e2d\u6bcf\u4e2a\u5b57\u7b26\uff0c\u56e0\u4e3a\u5b83\u662f\u6309 rune \u7c7b\u578b\u8ba1\u7b97\u7684\uff0c\u6240\u4ee5\u6253\u5370\u7684\u65f6\u5019\u6ca1\u6709\u4e71\u7801\u3002</p> <p>\u603b\u7ed3</p> <ul> <li>\u5b57\u7b26\u4e32\u7684\u5e95\u5c42\u662f\u4e00\u4e2a byte \u6570\u7ec4\uff0c\u6240\u4ee5\u5b57\u7b26\u4e32\u53ef\u4ee5\u548c <code>[]byte</code> \u578b\u4e92\u76f8\u8f6c\u6362\u3002</li> <li>\u5b57\u7b26\u4e32\u662f\u4e0d\u80fd\u4fee\u6539\u7684</li> <li>\u5b57\u7b26\u4e32\u662f\u7531 byte \u5b57\u8282\u7ec4\u6210\u7684</li> <li>\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\u662f byte \u5b57\u8282\u7684\u957f\u5ea6</li> <li>rune \u7c7b\u578b\u7528\u6765\u8868\u793a utf8 \u5b57\u7b26</li> <li>\u4e00\u4e2a\u5b57\u7b26\u7531\u4e00\u4e2a\u6216\u591a\u4e2a byte \u7ec4\u6210</li> </ul>"},{"location":"Go/Basic/Golang-2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_10","title":"\u4fee\u6539\u5b57\u7b26\u4e32","text":"<ol> <li>\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u6210 <code>[]byte</code> \u6216 <code>[]rune</code> \u7c7b\u578b\uff1b\u4f8b\u5982<code>[]byte(str)</code> \u6216 <code>[]rune(str)</code></li> <li>\u4fee\u6539\u5b57\u7b26\u4e32</li> <li>\u8f6c\u56de <code>string</code></li> </ol> <p>\u6ce8\u610f</p> <p>\u65e0\u8bba\u54ea\u79cd\u8f6c\u6362\uff0c\u90fd\u4f1a\u91cd\u65b0\u5206\u914d\u5185\u5b58\uff0c\u5e76\u590d\u5236\u5b57\u8282\u6570\u7ec4\u3002</p> <pre><code>func main() {\n    str1 := \"big\"\n\n    byteS = []byte(str1)    // \u8f6c\u6210[]byte\u5207\u7247\n    byteS[0] = 'p'          // \u4fee\u6539\n    str1 = string(byteS)    // \u8f6c\u56de string\n    fmt.Println(str1)\n\n    str2 = \"\u9752\u83dc\"\n\n    runeS = []rune(str2)    // \u8f6c\u6210[]rune\u5207\u7247\n    runeS[0] = '\u767d'         // \u4fee\u6539\n    str2 = string(runeS)    // \u8f6c\u56de string\n    fme.Println(str2)\n}\n\n// ----------------------------------------\n// Output:\npig\n\u767d\u83dc\n</code></pre>"},{"location":"Go/Basic/Golang-2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_11","title":"\u7c7b\u578b\u8f6c\u6362","text":"<p>Go\u8bed\u8a00\u4e2d\u53ea\u6709\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\uff0c\u6ca1\u6709\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362\u3002\u8be5\u8bed\u6cd5\u53ea\u80fd\u5728\u4e24\u4e2a\u7c7b\u578b\u4e4b\u95f4\u652f\u6301\u76f8\u4e92\u8f6c\u6362\u7684\u65f6\u5019\u4f7f\u7528</p> <p>\u57fa\u672c\u8bed\u6cd5\u5982\u4e0b\uff1a </p><pre><code>Type(expression)\n</code></pre> Type \u8868\u793a\u8981\u8f6c\u7684\u7c7b\u578b\uff0cexpression \u8868\u793a\u53d8\u91cf\u3001\u590d\u6742\u7b97\u5f0f\u3001\u51fd\u6570\u8fd4\u56de\u503c\u7b49<p></p> <pre><code>var i int = 10\nvar f float32 = float32(i)\n</code></pre> <p>\u8be6\u89c1\u7c7b\u578b\u8f6c\u6362</p>"},{"location":"Go/Basic/Golang-2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_12","title":"\u7c7b\u578b\u5927\u5c0f","text":"<p>Tip</p> <p>\u4f7f\u7528 <code>unsafe.Sizeof(v)</code> \u53ef\u4ee5\u5f97\u5230 v \u5360\u7528\u5185\u5b58\u5927\u5c0f\u3002</p> \u7c7b\u578b bit\u6570 \u6307\u9488 32\u4f4d -&gt; 4bit\uff0c64\u4f4dC -&gt; 8bit uintptr 32\u4f4d -&gt; 4bit\uff0c64\u4f4dC -&gt; 8bit bool 8 byte 8 int8 8 uint8 8 int16 16 uint16 16 int32 32 rune 32 uint32 32 float32 32 int64 64 uint64 64 float64 64 complex64 64 complex128 128 int \u4e0eCPU\u4f4d\u6570\u76f8\u540c uint \u4e0eCPU\u4f4d\u6570\u76f8\u540c string ASCII\u8303\u56f48bit\uff0c\u4e2d\u658724bit"},{"location":"Go/Basic/Golang-2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_13","title":"\u7c7b\u578b\u522b\u540d\u3001\u81ea\u5b9a\u4e49\u7c7b\u578b","text":""},{"location":"Go/Basic/Golang-2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_14","title":"\u7c7b\u578b\u522b\u540d","text":"<p>\u4e3a\u7c7b\u578b\u8d77\u4e2a\u522b\u540d\uff0c\u65b9\u4fbf\u4ee3\u7801\u7f16\u5199\u8fc7\u7a0b\u4e2d\u4f7f\u7528\uff0c</p> <p></p><pre><code>type alias = T\n</code></pre> <code>type</code>\uff1a\u5173\u952e\u5b57\u3001<code>alias</code>\uff1a\u7c7b\u578b\u522b\u540d\u3001<code>T</code>\uff1a\u7c7b\u578b<p></p> <p>\u4f8b\u5982\u6570\u636e\u7c7b\u578b\u4e2d\u63d0\u5230\u7684Unicode\u5b57\u7b26\u578b <code>rune</code> \u548cASCII\u5b57\u7b26\u578b <code>byte</code>\u5c31\u662f\u7c7b\u578b\u522b\u540d </p><pre><code>type rune = int32\ntype byte = uint8\n</code></pre><p></p>"},{"location":"Go/Basic/Golang-2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_15","title":"\u81ea\u5b9a\u4e49\u7c7b\u578b","text":"<p>\u5728 Go \u4e2d\u6709\u4e00\u4e9b\u57fa\u672c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u5982<code>string</code>\u3001<code>int</code>\u3001<code>bool</code>\u7b49\u6570\u636e\u7c7b\u578b\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5173\u952e\u5b57 <code>type</code> \u6765\u5b9a\u4e49\u81ea\u5b9a\u4e49\u7c7b\u578b</p> <p>\u81ea\u5b9a\u4e49\u7c7b\u578b\u662f\u5b9a\u4e49\u4e86\u4e00\u4e2a\u5168\u65b0\u7684\u7c7b\u578b\uff0c\u6211\u4eec\u53ef\u4ee5\u57fa\u4e8e\u5185\u7f6e\u57fa\u672c\u7c7b\u578b\u5b9a\u4e49\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7 struct \u5b9a\u4e49\u3002 eg\uff1a </p><pre><code>type Status bool\n</code></pre> \u901a\u8fc7 <code>type</code> \u5173\u952e\u5b57\u7684\u5b9a\u4e49\uff0c<code>Status</code>\u5c31\u662f\u4e00\u79cd\u65b0\u7684\u7c7b\u578b\uff0c\u5b83\u5177\u6709 <code>bool</code> \u7684\u7279\u6027<p></p>"},{"location":"Go/Basic/Golang-2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_16","title":"\u533a\u522b","text":"<p>\u4ece\u5b9a\u4e49\u4e0a\u770b\uff0c\u7c7b\u578b\u522b\u540d\u6709 <code>=</code> \uff0c\u81ea\u5b9a\u4e49\u7c7b\u578b\u6ca1\u6709\u3002</p> <p></p><pre><code>func main() {\n    type abc = string\n    type Status bool\n\n    var OK Status\n    var ss abc\n\n    fmt.Printf(\"Type of OK: %T\\n\", OK)  // Type of OK: main.Status\n    fmt.Printf(\"Type of ss: %T\\n\", ss)  // Type of ss: string\n}\n</code></pre> OK \u7684\u7c7b\u578b\u662f main.Status\uff0c\u8868\u793a\u5728 main \u5305\u4e0b\u5b9a\u4e49\u7684<code>Status</code>\u7c7b\u578b ss \u7684\u7c7b\u578b\u662f string\u3002<code>abc</code>\u7c7b\u578b\u53ea\u4f1a\u5728\u4ee3\u7801\u4e2d\u5b58\u5728\uff0c\u7f16\u8bd1\u524d\u7f16\u8bd1\u5668\u4f1a\u5c06\u5176\u66ff\u6362\u56de\u6765\u3002<p></p>"},{"location":"Go/Basic/Golang-3-%E8%BF%90%E7%AE%97%E7%AC%A6/","title":"3.\u8fd0\u7b97\u7b26","text":""},{"location":"Go/Basic/Golang-3-%E8%BF%90%E7%AE%97%E7%AC%A6/#_1","title":"\u8fd0\u7b97\u7b26","text":""},{"location":"Go/Basic/Golang-3-%E8%BF%90%E7%AE%97%E7%AC%A6/#_2","title":"\u5b98\u65b9\u5b9a\u4e49\u7684\u6240\u6709\u8fd0\u7b97\u7b26","text":"<pre><code>+    &amp;     +=    &amp;=     &amp;&amp;    ==    !=    (    )\n-    |     -=    |=     ||    &lt;     &lt;=    [    ]\n*    ^     *=    ^=     &lt;-    &gt;     &gt;=    {    }\n/    &lt;&lt;    /=    &lt;&lt;=    ++    =     :=    ,    ;\n%    &gt;&gt;    %=    &gt;&gt;=    --    !     ...   .    :\n     &amp;^          &amp;^=\n</code></pre>"},{"location":"Go/Basic/Golang-3-%E8%BF%90%E7%AE%97%E7%AC%A6/#_3","title":"\u7b97\u672f\u8fd0\u7b97\u7b26","text":"\u8fd0\u7b97\u7b26 \u63cf\u8ff0 + \u52a0 - \u51cf * \u4e58 / \u9664 % \u6c42\u4f59 <p>Go \u4e2d <code>++</code> \u548c <code>--</code> \u662f\u5355\u72ec\u7684\u8bed\u53e5\uff0c\u4e0d\u662f\u8fd0\u7b97\u7b26\u3002\u5373 <code>a++</code> \u540e\u9762\u4e0d\u80fd\u6709\u5176\u4ed6\u4e1c\u897f\u4e86\uff0c\u4e14\u53ea\u6709\u540e\u7f6e\uff0c\u6ca1\u6709\u524d\u7f6e</p> <pre><code>func main() {\n    a := 10\n    a++          // \u6b63\u786e\uff0ca\u7684\u503c\u4e3a11\n    a++ + 10     // \u9519\u8bef\n    ++a          // \u9519\u8bef\uff0c\u53ea\u6709\u540e\u7f6e\u81ea\u589e\u548c\u540e\u7f6e\u81ea\u51cf\n}\n</code></pre>"},{"location":"Go/Basic/Golang-3-%E8%BF%90%E7%AE%97%E7%AC%A6/#_4","title":"\u5173\u7cfb\u8fd0\u7b97\u7b26","text":"\u8fd0\u7b97\u7b26 \u63cf\u8ff0 == \u7b49\u4e8e != \u4e0d\u7b49\u4e8e &gt; \u5927\u4e8e &gt;= \u5927\u4e8e\u7b49\u4e8e &lt; \u5c0f\u4e8e &lt;= \u5c0f\u4e8e\u7b49\u4e8e"},{"location":"Go/Basic/Golang-3-%E8%BF%90%E7%AE%97%E7%AC%A6/#_5","title":"\u903b\u8f91\u8fd0\u7b97\u7b26","text":"\u8fd0\u7b97\u7b26 \u63cf\u8ff0 &amp;&amp; \u903b\u8f91\u4e0e || \u903b\u8f91\u6216 ! \u903b\u8f91\u975e"},{"location":"Go/Basic/Golang-3-%E8%BF%90%E7%AE%97%E7%AC%A6/#_6","title":"\u4f4d\u8fd0\u7b97\u7b26","text":"\u8fd0\u7b97\u7b26 \u542b\u4e49 &amp; \u6309\u4f4d\u4e0e \u4e24\u4f4d\u5747\u4e3a1\u624d\u4e3a1 | \u6309\u4f4d\u6216 \u4e24\u4f4d\u6709\u4e00\u4e2a\u4e3a1\u5c31\u4e3a1 ^ \u6309\u4f4d\u5f02\u6216 \u4e24\u4f4d\u4e0d\u540c\u5219\u4e3a1 &lt;&lt; \u5de6\u79fb \u5de6\u79fbn\u4f4d == \u4e58\u4ee52\u7684n\u6b21\u65b9\uff0c\u9ad8\u4f4d\u4e22\u5f03\uff0c\u4f4e\u4f4d\u88650 &gt;&gt; \u53f3\u79fb \u53f3\u79fbn\u4f4d == \u9664\u4ee52\u7684n\u6b21\u65b9\uff0c\u9ad8\u4f4d\u88650\uff0c\u4f4e\u4f4d\u4e22\u5f03"},{"location":"Go/Basic/Golang-3-%E8%BF%90%E7%AE%97%E7%AC%A6/#_7","title":"\u8d4b\u503c\u8fd0\u7b97\u7b26","text":"\u8fd0\u7b97\u7b26 \u63cf\u8ff0 = \u5c06\u53f3\u8fb9\u8d4b\u503c\u7ed9\u5de6\u8fb9 += \u76f8\u52a0\u540e\u8d4b\u503c -= \u76f8\u51cf\u540e\u8d4b\u503c *= \u76f8\u4e58\u540e\u8d4b\u503c /= \u76f8\u9664\u540e\u8d4b\u503c %= \u6c42\u4f59\u540e\u8d4b\u503c &amp;= \u6309\u4f4d\u4e0e\u540e\u8d4b\u503c |= \u6309\u4f4d\u6216\u540e\u8d4b\u503c ^= \u6309\u4f4d\u5f02\u6216\u540e\u8d4b\u503c &lt;&lt;= \u5de6\u79fb\u540e\u8d4b\u503c &gt;&gt;= \u53f3\u79fb\u540e\u8d4b\u503c"},{"location":"Go/Basic/Golang-3-%E8%BF%90%E7%AE%97%E7%AC%A6/#_8","title":"\u4f18\u5148\u7ea7","text":"<p>\u4ece\u9ad8\u5230\u4f4e</p> \u5206\u7c7b \u63cf\u8ff0 \u5173\u8054\u6027 \u540e\u7f00 <code>()</code> <code>[]</code> <code>.</code> <code>++</code> <code>--</code> \u5de6\u5230\u53f3 \u4e00\u5143 <code>+</code> <code>-</code> <code>!</code> <code>~</code> <code>++</code> <code>--</code> <code>(type)</code> <code>*</code> <code>&amp;</code> <code>sizeof</code> \u53f3\u5230\u5de6 \u4e58\u9664 <code>*</code> <code>/</code> <code>%</code> \u5de6\u5230\u53f3 \u52a0\u51cf <code>+</code> <code>-</code> \u5de6\u5230\u53f3 \u79fb\u4f4d <code>&lt;&lt;</code> <code>&gt;&gt;</code> \u5de6\u5230\u53f3 \u5173\u7cfb <code>&lt;</code> <code>&lt;=</code> <code>&gt;</code> <code>&gt;=</code> \u5de6\u5230\u53f3 \u76f8\u7b49 <code>==</code> <code>!=</code> \u5de6\u5230\u53f3 \u6309\u4f4dAND <code>&amp;</code> \u5de6\u5230\u53f3 \u6309\u4f4dXOR <code>^</code> \u5de6\u5230\u53f3 \u6309\u4f4dOR <code>|</code> \u5de6\u5230\u53f3 \u903b\u8f91AND <code>&amp;&amp;</code> \u5de6\u5230\u53f3 \u903b\u8f91OR <code>||</code> \u5de6\u5230\u53f3 \u8d4b\u503c <code>=</code> <code>+=</code> <code>-=</code> <code>*=</code> <code>/=</code> <code>%=</code> <code>&gt;&gt;=</code> <code>&lt;&lt;=</code> <code>&amp;=</code> <code>^=</code> \u53f3\u5230\u5de6 \u9017\u53f7 <code>,</code> \u5de6\u5230\u53f3"},{"location":"Go/Basic/Golang-4-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/","title":"Golang [\u57fa\u7840] 4-\u6d41\u7a0b\u63a7\u5236","text":"<p>\u57fa\u672c\u6d41\u7a0b\u63a7\u5236</p>","tags":["Golang"]},{"location":"Go/Basic/Golang-4-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/#4-","title":"4-\u6d41\u7a0b\u63a7\u5236","text":"","tags":["Golang"]},{"location":"Go/Basic/Golang-4-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/#_1","title":"\u5206\u652f\u7ed3\u6784","text":"","tags":["Golang"]},{"location":"Go/Basic/Golang-4-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/#if","title":"if \u57fa\u672c\u5199\u6cd5","text":"<pre><code>if \u8868\u8fbe\u5f0f1 {\n    \u5206\u652f1\n} else if \u8868\u8fbe\u5f0f2 {\n    \u5206\u652f2\n} else{\n    \u5206\u652f3\n}\n</code></pre> <p>eg\uff1a </p><pre><code>func main() {\n    score := 65\n\n    if score &gt;= 90 {\n        fmt.Println(\"A\")\n    } else if score &gt; 75 {\n        fmt.Println(\"B\")\n    } else {\n        fmt.Println(\"C\")\n    }\n}\n</code></pre><p></p>","tags":["Golang"]},{"location":"Go/Basic/Golang-4-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/#if_1","title":"if \u7279\u6b8a\u5199\u6cd5","text":"<p>\u5728 if \u8868\u8fbe\u5f0f\u4e4b\u524d\u6dfb\u52a0\u4e00\u4e2a\u6267\u884c\u8bed\u53e5\uff0c\u518d\u6839\u636e\u53d8\u91cf\u503c\u8fdb\u884c\u5224\u65ad </p><pre><code>func main() {\n\n    if score := 65; score &gt;= 90 {\n        fmt.Println(\"A\")\n    } else if score &gt; 75 {\n        fmt.Println(\"B\")\n    } else {\n        fmt.Println(\"C\")\n    }\n}\n</code></pre> \u6ce8\u610f\u4e0a\u8ff0\u4ee3\u7801\u4e2d\u7684 score \u662f\u5728 if \u8bed\u53e5\u4e2d\u521b\u5efa\u5e76\u521d\u59cb\u5316\u7684\uff0c\u5176\u4f5c\u7528\u57df\u4ec5\u9650\u4e8e if \u8bed\u53e5\u5757\uff08\u5305\u62ec\u540c\u5c5e\u7684 else if \u8bed\u53e5\u3001else \u8bed\u53e5\uff09<p></p> <p>\u4f46\u662f\u5982\u679c\u58f0\u660e\u662f\u5728 if \u8bed\u53e5\u5916\uff0c\u5219\u5176\u4f5c\u7528\u57df\u4e0d\u9650\u4e8e if \u8bed\u53e5\u4e2d </p><pre><code>func main() {\n    var score int\n\n    if score := 65; score &gt;= 90 {\n        fmt.Println(\"A\")\n    } else if score &gt; 75 {\n        fmt.Println(\"B\")\n    } else {\n        fmt.Println(\"C\")\n    }\n\n    // score \u5728if\u5916\u90e8\u58f0\u660e\uff0c\u6240\u4ee5\u51fa\u4e86 if \u4f9d\u7136\u6709\u6548\n    fmt.Println(score)\n}\n</code></pre><p></p>","tags":["Golang"]},{"location":"Go/Basic/Golang-4-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/#switch-case","title":"switch case","text":"<pre><code>switch [\u5224\u65ad\u53d8\u91cf] {\n    case \u5e38\u91cf1 \u6216 \u8868\u8fbe\u5f0f1:\n        \u6267\u884c\u8bed\u53e51\n    case \u5e38\u91cf2 \u6216 \u8868\u8fbe\u5f0f2:\n        \u6267\u884c\u8bed\u53e52\n    case \u5e38\u91cf3 \u6216 \u8868\u8fbe\u5f0f3:\n        \u6267\u884c\u8bed\u53e53\n    case \u5e38\u91cf4 \u6216 \u8868\u8fbe\u5f0f4:\n        \u6267\u884c\u8bed\u53e54\n    default:\n        \u6267\u884c\u8bed\u53e5N\n}\n</code></pre> \u4e00\u4e2aswitch \u53ef\u6709\u591a\u4e2a\u5206\u652f\uff0c\u4f46\u53ea\u80fd\u6709\u4e00\u4e2a<code>default \u5206\u652f</code>\uff0c\u4e14 defalut \u5206\u652f\u4e0d\u662f\u5fc5\u987b\u7684\u3002 <p>eg\uff1a </p><pre><code>func main() {\n    num := 2\n\n    switch num {\n    case 1:\n        fmt.Println(\"It is 1.\")\n    case 2:\n        fmt.Println(\"It is 2.\")\n    case 3:\n        fmt.Println(\"It is 3.\")\n    default:\n        fmt.Println(\"It is more than 3.\")\n    }\n}\n\n// ----------------------------------------\n// Output:\nIt is 2.\n</code></pre><p></p> <p>\u4e00\u4e2a\u5206\u652f\u53ef\u4ee5\u6709\u591a\u4e2a\u503c\uff0c\u6bcf\u4e2a\u503c\u4e4b\u95f4\u7528\u9017\u53f7\u5206\u5f00</p> <p>eg\uff1a </p><pre><code>func main() {\n    switch n := 7; n {\n    case 1, 3, 5, 7, 9:\n        fmt.Println(\"Odd\")\n    case 2, 4, 6, 8, 10:\n        fmt.Println(\"Even\")\n    default\n    }\n}\n</code></pre><p></p> <p>\u5206\u652f\u4e5f\u53ef\u4ee5\u7528\u8868\u8fbe\u5f0f\uff0c\u8fd9\u65f6 switch \u540e\u9762\u4e0d\u9700\u8981\u8ddf\u5224\u65ad\u53d8\u91cf</p> <p>eg\uff1a </p><pre><code>func main() {\n    age := 25\n    switch {    // switch \u540e\u4e0d\u5e26\u5224\u65ad\u53d8\u91cf\uff0c\u5219case \u53ea\u80fd\u5224\u65ad true \u6216 false\n    case age &lt; 25:\n        fmt.Println(\"\u597d\u597d\u5b66\u4e60\uff01\")\n    case age &gt; 25 &amp;&amp; age &lt; 35:\n        fmt.Println(\"\u597d\u597d\u5de5\u4f5c\uff01\")\n    case age &gt; 60:\n        fmt.Println(\"\u597d\u597d\u4eab\u53d7\uff01\")\n    default:\n        fmt.Println(\"\u597d\u597d\u6d3b\u7740\uff01\")\n    }\n}\n</code></pre> \u6216\u8005 <pre><code>func main() {\n\n    switch age := 25; {\n    case age &lt; 25:\n        fmt.Println(\"\u597d\u597d\u5b66\u4e60\uff01\")\n    case age &gt; 25 &amp;&amp; age &lt; 35:\n        fmt.Println(\"\u597d\u597d\u5de5\u4f5c\uff01\")\n    case age &gt; 60:\n        fmt.Println(\"\u597d\u597d\u4eab\u53d7\uff01\")\n    default:\n        fmt.Println(\"\u597d\u597d\u6d3b\u7740\uff01\")\n    }\n}\n</code></pre><p></p> <p>switch \u4e2d\u7684 case \u9ed8\u8ba4\u4e0d\u4f1a\u7a7f\u900f\uff0c\u6267\u884c\u5b8c\u8fd9\u4e2a case \u4e4b\u540e\u5c31\u8df3\u51faswitch\uff0c\u4f46\u662f\u53ef\u4ee5\u4f7f\u7528 <code>fallthrough</code> \u51fb\u7a7f case\u3002</p> <p><code>fallthrough</code> \u8bed\u53e5\u53ef\u4ee5\u6267\u884c\u6ee1\u8db3\u6761\u4ef6\u7684 case \u7684\u4e0b\u4e00\u4e2a case\uff0c\u8fd9\u662f\u4e3a\u4e86\u517c\u5bb9 C \u8bed\u8a00\u4e2d\u7684 case \u8bbe\u8ba1\u7684\u3002</p> <pre><code>func switchDemo5() {\n    s := \"a\"\n    switch {\n    case s == \"a\":\n        fmt.Println(\"a\")\n        fallthrough\n    case s == \"b\":\n        fmt.Println(\"b\")\n    case s == \"c\":\n        fmt.Println(\"c\")\n    default:\n        fmt.Println(\"...\")\n    }\n}\n// ----------------------------------------\n// Output:\na\nb\n</code></pre>","tags":["Golang"]},{"location":"Go/Basic/Golang-4-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/#_2","title":"\u5faa\u73af\u7ed3\u6784","text":"","tags":["Golang"]},{"location":"Go/Basic/Golang-4-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/#for","title":"for \u5faa\u73af","text":"<pre><code>for \u521d\u59cb\u5316\u8bed\u53e5; \u6761\u4ef6\u8bed\u53e5; \u8fed\u4ee3\u8bed\u53e5 {\n    ...\n}\n</code></pre> \u6216 <pre><code>\u521d\u59cb\u5316\u8bed\u53e5\nfor \u6761\u4ef6\u8bed\u53e5 {\n    ...\n    \u8fed\u4ee3\u8bed\u53e5\n}\n</code></pre> <p>eg\uff1a </p><pre><code>for i := 0; i &lt; 5; i++ {\n    fmt.Println(i)\n}\n</code></pre> \u6216 <pre><code>i := 0\nfor i &lt; 5 {\n    fmt.Println(i)\n    i++\n}\n</code></pre><p></p>","tags":["Golang"]},{"location":"Go/Basic/Golang-4-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/#_3","title":"\u65e0\u9650\u5faa\u73af","text":"<pre><code>for {\n    \u5faa\u73af\u4f53\n}\n</code></pre> for \u5faa\u73af\u53ef\u4ee5\u901a\u8fc7 <code>break\u3001continue\u3001return\u3001panic</code>\u8bed\u53e5\u5f3a\u5236\u9000\u51fa\u5faa\u73af\u3002","tags":["Golang"]},{"location":"Go/Basic/Golang-4-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/#for-range","title":"for range \u952e\u503c\u5faa\u73af","text":"<p>\u4f7f\u7528 <code>for range</code> \u53ef\u4ee5\u904d\u5386\u6570\u7ec4\u3001\u5207\u7247\u3001\u5b57\u7b26\u4e32\u3001map \u548c\u901a\u9053channel\u3002</p> <p>\u901a\u8fc7 <code>for range</code> \u904d\u5386\u7684\u8fd4\u56de\u503c\u6709\u4ee5\u4e0b\u89c4\u5f8b\uff1a</p> <ol> <li>\u6570\u7ec4\u3001\u5207\u7247\u3001\u5b57\u7b26\u4e32 \u8fd4\u56de \u7d22\u5f15 \u548c \u503c</li> <li>map \u8fd4\u56de \u952e \u548c \u503c</li> <li>\u901a\u9053 channel \u53ea\u8fd4\u56de \u901a\u9053\u5185\u7684\u503c</li> </ol> <p>\u57fa\u672c\u8bed\u6cd5\u4e3a\uff1a </p><pre><code>for idx, val := range iter {\n    ...\n}\n</code></pre><p></p> <p>eg\uff1a </p><pre><code>func main() {\n    numbers := [6]int{1, 2, 3, 5}\n\n    for i, x := range numbers {\n        fmt.Printf(\"\u7b2c %d \u4f4d x \u7684\u503c\u4e3a %d \\n\",i ,x)\n    }\n}\n\n// ----------------------------------------\n// Output:\n\u7b2c 0 \u4f4d x \u7684\u503c\u4e3a 1\n\u7b2c 1 \u4f4d x \u7684\u503c\u4e3a 2\n\u7b2c 2 \u4f4d x \u7684\u503c\u4e3a 3\n\u7b2c 3 \u4f4d x \u7684\u503c\u4e3a 5\n\u7b2c 4 \u4f4d x \u7684\u503c\u4e3a 0\n\u7b2c 5 \u4f4d x \u7684\u503c\u4e3a 0\n</code></pre><p></p> <p>\u6ce8\u610f</p> <p><code>val</code> \u59cb\u7ec8\u4e3a<code>iter</code>\u4e2d\u5bf9\u5e94\u7d22\u5f15\u7684\u503c\u62f7\u8d1d\uff0c\u56e0\u6b64\u5b83\u4e00\u822c\u53ea\u5177\u6709\u53ea\u8bfb\u6027\u8d28\uff0c\u5bf9\u5b83\u6240\u505a\u7684\u4efb\u4f55\u4fee\u6539\u90fd\u4e0d\u4f1a\u5f71\u54cd\u5230\u96c6\u5408\u4e2d\u539f\u6709\u7684\u503c\u3002\u5982\u679c <code>val</code> \u4e3a\u6307\u9488\uff0c\u5219\u4f1a\u4ea7\u751f\u6307\u9488\u7684\u62f7\u8d1d\uff0c\u4f9d\u65e7\u53ef\u4ee5\u4fee\u6539\u96c6\u5408\u4e2d\u7684\u539f\u503c\u3002</p> <p>\u53ef\u4ee5\u8fd9\u4e48\u7406\u89e3\uff1a </p><pre><code>for i, val := range iter {\n    ...\n}\n\n// \u7b49\u4ef7\u4e8e\nvar val someType\nfor i, val = range iter {\n    ...\n}\n\n// \u7b49\u4ef7\u4e8e\nvar val someType\nfor i := 0; i &lt; len(iter); i++ {\n    val...\n}\n</code></pre><p></p> <p>eg\uff1a </p><pre><code>func main() {\n    a, b, c := 1, 2, 3\n    d, e, f := 4, 5, 6\n\n    pointer := [3]*int{&amp;a, &amp;b, &amp;c}\n    valuer := [3]int{d, e, f}\n\n    fmt.Println(a, b, c) // 1 2 3\n    fmt.Println(d, e, f) // 4 5 6\n\n    for _, p := range pointer {\n        *p = *p + 10\n    }\n\n    for _, v := range valuer {\n        v = v + 1\n    }\n\n    fmt.Println(a, b, c) // 11 12 13\n    fmt.Println(d, e, f) // 4 5 6\n}\n</code></pre><p></p>","tags":["Golang"]},{"location":"Go/Basic/Golang-4-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/#goto","title":"goto \u8df3\u8f6c","text":"<p><code>goto\u8bed\u53e5</code> \u901a\u8fc7\u6807\u7b7e\u8fdb\u884c\u4ee3\u7801\u95f4\u7684\u65e0\u6761\u4ef6\u8df3\u8f6c\u3002 \u6807\u7b7e\u5373\u67d0\u4e00\u884c\u7b2c\u4e00\u4e2a\u4e00\u5192\u53f7\uff08<code>:</code>\uff09\u7ed3\u5c3e\u7684\u5355\u8bcd,\u4e3a\u4e86\u63d0\u5347\u53ef\u8bfb\u6027\uff0c\u4e00\u822c\u5efa\u8bae\u6807\u7b7e\u540d\u79f0\u4f7f\u7528\u5168\u5927\u5199\u3002</p> <p><code>goto\u8bed\u53e5</code>\u53ef\u4ee5\u5728\u5feb\u901f\u8df3\u51fa\u5faa\u73af\u3001\u907f\u514d\u91cd\u590d\u9000\u51fa\u4e0a\u6709\u4e00\u5b9a\u7684\u5e2e\u52a9\u3002 Go \u8bed\u8a00\u4e2d\u4f7f\u7528 goto \u8bed\u53e5\u80fd\u7b80\u5316\u4e00\u4e9b\u4ee3\u7801\u7684\u5b9e\u73b0\u8fc7\u7a0b\u3002</p> <pre><code>func main() {\n    for i := 0; i &lt; 10; i++ {\n        if i == 6 {\n            goto GOTOTAG\n        }\n        fmt.Println(i)\n    }\n\nGOTOTAG:\n    fmt.Println(\"I'm break.\")\n}\n\n// ----------------------------------------\n// Output:\n0\n1\n2\n3\n4\n5\nI'm break.\n</code></pre> <p>\u4f7f\u7528 goto \u8bed\u53e5\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u5faa\u73af\uff0c\u4f46\u662f\u4e0d\u5efa\u8bae\u8fd9\u4e48\u505a\uff0c\u56e0\u4e3a\u6ee5\u7528 goto \u8bed\u53e5\u4f1a\u5199\u51fa\u610f\u5927\u5229\u9762\u6761\u4ee3\u7801 </p><pre><code>func main() {\n    a := 1\nL:\n    if a &lt; 10 {\n        fmt.Println(a)\n        a++\n        goto L\n    }\n}\n</code></pre><p></p> <p>\u5982\u679c\u60a8\u5fc5\u987b\u4f7f\u7528 goto\uff0c\u5e94\u5f53\u53ea\u4f7f\u7528\u6b63\u5e8f\u7684\u6807\u7b7e\uff08\u6807\u7b7e\u4f4d\u4e8e goto \u8bed\u53e5\u4e4b\u540e\uff09\uff0c\u4f46\u6ce8\u610f\u6807\u7b7e\u548c goto \u8bed\u53e5\u4e4b\u95f4\u4e0d\u80fd\u51fa\u73b0\u5b9a\u4e49\u65b0\u53d8\u91cf\u7684\u8bed\u53e5\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u7f16\u8bd1\u5931\u8d25\u3002</p> <p>\u5f53\u7136\u5982\u679c\u4f7f\u7528\u9006\u5e8f\u7684\u6807\u7b7e\uff08\u6807\u7b7e\u4f4d\u4e8e goto \u8bed\u53e5\u4e4b\u524d\uff09\u4e5f\u662f\u53ef\u4ee5\u7684\uff0c\u7f16\u8bd1\u5668\u5e76\u6ca1\u6709\u9650\u5236\uff0c\u4f8b\u5982 Gin \u6846\u67b6\u7684\u8def\u7531\u4e2d\u7684\u5b9e\u73b0\u5c31\u662f\u9006\u5e8f\u7684\u3002</p>","tags":["Golang"]},{"location":"Go/Basic/Golang-4-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/#breakcontinue","title":"break\u3001continue","text":"<p>break\uff1a\u8df3\u51fa\u6574\u4e2a\u5faa\u73af continue\uff1a\u8df3\u51fa\u672c\u6b21\u5faa\u73af</p> <p>break \u548c continue \u8bed\u53e5\u540e\u9762\u90fd\u53ef\u4ee5\u6dfb\u52a0\u6807\u7b7e\u3002\u4e0d\u8fc7\u6807\u7b7e\u5fc5\u987b\u4f4d\u4e8e <code>for\u3001switch\u3001select</code>\u4ee3\u7801\u5757\u4e4b\u4e0a\u3002 eg\uff1a </p><pre><code>func main() {\nbreakTag:\n    for i := 0; i &lt; 10; i++ {\n        if i == 5 {\n            break breakTag\n        }\n        fmt.Println(i)\n    }\n}\n\n// ----------------------------------------\n// Output:\n0\n1\n2\n3\n4\n</code></pre><p></p>","tags":["Golang"]},{"location":"Go/Basic/Golang-5-%E6%95%B0%E7%BB%84/","title":"5.\u6570\u7ec4","text":""},{"location":"Go/Basic/Golang-5-%E6%95%B0%E7%BB%84/#5-","title":"5-\u6570\u7ec4","text":"<p>\u6570\u7ec4\u662f\u540c\u4e00\u79cd\u6570\u636e\u7c7b\u578b\u5143\u7d20\u7684\u96c6\u5408\u3002</p> <p>\u5728 Go \u4e2d \u6570\u7ec4\u4ece\u58f0\u660e\u65f6\u5c31\u786e\u5b9a\uff0c\u4f7f\u7528\u65f6\u53ef\u4ee5\u4fee\u6539\u6570\u7ec4\u6210\u5458\uff0c\u4f46\u4e0d\u80fd\u4fee\u6539\u6570\u7ec4\u5927\u5c0f\u3002</p>"},{"location":"Go/Basic/Golang-5-%E6%95%B0%E7%BB%84/#_1","title":"\u6570\u7ec4\u5b9a\u4e49","text":"<p>\u6ce8\u610f</p> <p>\u6570\u7ec4\u662f\u503c\u7c7b\u578b\uff01\uff01\uff01</p> <p></p><pre><code>var idn [len]T\n</code></pre> <code>idn</code>\uff1a\u6570\u7ec4\u540d\u3001<code>len</code>\uff1a\u6570\u7ec4\u957f\u5ea6\u3001<code>T</code>\uff1a\u6570\u7ec4\u7c7b\u578b<p></p> <p>\u6570\u7ec4\u957f\u5ea6\u5fc5\u987b\u662f\u5e38\u91cf\uff0c\u4e14\u4e00\u65e6\u5b9a\u4e49\u5c31\u4e0d\u80fd\u66f4\u6539\u3002 <code>[5]int</code>\u548c<code>[10]int</code>\u662f\u4e0d\u540c\u7684\u7c7b\u578b\u3002</p> <p></p><pre><code>var arr1 [5]int\nvar arr2 [8]int\narr1 = arr2     // \u7981\u6b62\u8fd9\u6837\u505a\uff0c\u56e0\u4e3a\u6b64\u65f6 arr1 \u548c arr2 \u662f\u4e0d\u540c\u7684\u7c7b\u578b\n</code></pre> arr2 \u4e0d\u53ef\u4ee5\u8d4b\u503c\u7ed9 arr2\uff0c\u56e0\u4e3a\u5b83\u4fe9\u7c7b\u578b\u4e0d\u540c\u3002<p></p> <p>\u5982\u679c\u6362\u6210 <code>var arr1 [5]int</code> \u548c <code>var arr2 [5]int</code> \u8fd9\u6837\u5c31\u53ef\u4ee5\u3002</p> <pre><code>func main() {\n    var arr1 = [3]int{12, 3}\n    var arr2 [3]int\n\n    arr2 = arr1\n    for _, e := range arr2 {\n        fmt.Println(e)\n    }\n}\n\n// ----------------------------------------\n// Output:\n12\n3\n0\n</code></pre>"},{"location":"Go/Basic/Golang-5-%E6%95%B0%E7%BB%84/#_2","title":"\u6570\u7ec4\u521d\u59cb\u5316","text":"<p>\u521d\u59cb\u5316\u65b9\u5f0f\u6709\u5f88\u591a\u79cd</p>"},{"location":"Go/Basic/Golang-5-%E6%95%B0%E7%BB%84/#1","title":"\u65b9\u6cd51","text":"<p>\u4f7f\u7528\u521d\u59cb\u5316\u5217\u8868\u8bbe\u7f6e\u6570\u7ec4\u5143\u7d20\u7684\u503c </p><pre><code>var idn [len]T\nvar idn = [len]T{initial list}\n</code></pre><p></p> <p>eg: </p><pre><code>var a [3]int\nvar b = [3]int{1, 2}\nvar c = [3]string{\"Alice\", \"Boii\"}\n\nfmt.Println(a)    // [0 0 0]\nfmt.Println(b)    // [1 2 0]\nfmt.Println(c)    // [Alice Boii]\n</code></pre><p></p>"},{"location":"Go/Basic/Golang-5-%E6%95%B0%E7%BB%84/#2","title":"\u65b9\u6cd52","text":"<p>\u8ba9\u7f16\u8bd1\u5668\u6839\u636e\u521d\u59cb\u503c\u4e2a\u6570\u81ea\u884c\u63a8\u65ad\u6570\u7ec4\u957f\u5ea6 </p><pre><code>var idn = [...]T{initial list}\n</code></pre><p></p> <p>eg: </p><pre><code>var b = [...]int{1, 2, 3, 4}\nfmt.Println(b)                    // [1 2 3 4]\nfmt.Printf(\"Type of b: %T \\n\", b) // Type of b: [4]int\n</code></pre><p></p>"},{"location":"Go/Basic/Golang-5-%E6%95%B0%E7%BB%84/#3","title":"\u65b9\u6cd53","text":"<p>\u901a\u8fc7\u6307\u5b9a\u7d22\u5f15\u503c\u6765\u521d\u59cb\u5316\u6570\u7ec4\uff0c\u6570\u7ec4\u957f\u5ea6\u4e3a <code>\u6700\u5927\u7684\u4e0b\u6807+1</code>\u3002</p> <p>\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u7684\u53ef\u4ee5\u4e0d\u6307\u5b9a\u6570\u7ec4\u957f\u5ea6\uff0c\u5982\u679c\u6307\u5b9a\u4e86\u6570\u7ec4\u957f\u5ea6\u4e14\u6ca1\u6709\u66f4\u5927\u7684\u4e0b\u6807\uff0c\u5219\u4ee5\u6307\u5b9a\u957f\u5ea6\u4e3a\u6700\u5927\u957f\u5ea6\u3002 </p><pre><code>var idn = [...]T{idx: elem, idx: elem}\n</code></pre><p></p> <p>eg: </p><pre><code>func main() {\n    a := [...]rune{1: 'i', 5: 'v'}\n    b := [7]int{0: 2, 4: 5}\n\n    fmt.Println(a)    // [0 i 0 0 0 v]\n    fmt.Println(b)    // [2 0 0 0 5 0 0]\n\n    fmt.Printf(\"Type of a: %T \\n\", a) // Type of a: [6]rune\n    fmt.Printf(\"Type of b: %T \\n\", b) // Type of b: [7]int\n\n    // b := [3]int{0: 2, 4: 5}\n    // \u4e0a\u9762\u8fd9\u53e5\u4f1a\u62a5\u9519\uff0c\u6307\u5b9a\u957f\u5ea63\uff0c\u5374\u53c8\u6307\u5b9a\u4e86\u7d22\u5f154\n}\n</code></pre><p></p>"},{"location":"Go/Basic/Golang-5-%E6%95%B0%E7%BB%84/#_3","title":"\u6570\u7ec4\u904d\u5386","text":"<p>\u6570\u7ec4\u904d\u5386\u53ef\u4ee5\u901a\u8fc7 <code>for</code> \u5faa\u73af\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7 <code>for...range</code>\uff0c\u6bd4\u8f83\u63a8\u8350 <code>for...range</code></p> <pre><code>func main() {\n    str := [...]string{\"\u5e7f\u5dde\", \"\u6df1\u5733\", \"\u4e1c\u839e\"}\n\n    for i := 0; i &lt; len(str); i++ {\n        fmt.Println(str[i])\n    }\n\n    for idx, value := range str {\n        fmt.Println(idx, value)\n    }\n}\n</code></pre>"},{"location":"Go/Basic/Golang-5-%E6%95%B0%E7%BB%84/#_4","title":"\u591a\u7ef4\u6570\u7ec4","text":"<p>Go \u4e2d\u652f\u6301\u591a\u7ef4\u6570\u7ec4\uff0c\u8fd9\u91cc\u4ee5\u4e8c\u7ef4\u6570\u7ec4\u4e3a\u4f8b\u3002</p>"},{"location":"Go/Basic/Golang-5-%E6%95%B0%E7%BB%84/#_5","title":"\u5b9a\u4e49","text":"<pre><code>func main() {\n    a := [3][2]string{\n        {\"\u5e7f\u4e1c\", \"\u5e7f\u5dde\"},\n        {\"\u6d59\u6c5f\", \"\u676d\u5dde\"},\n        {\"\u56db\u5ddd\", \"\u6210\u90fd\"},\n    }\n    fmt.Println(a)          // [[\u5e7f\u4e1c \u5e7f\u5dde] [\u6d59\u6c5f \u676d\u5dde] [\u56db\u5ddd \u6210\u90fd]]\n    fmt.Println(a[1][1])    // \u652f\u6301\u7d22\u5f15\u53d6\u503c\uff1a \u676d\u5dde\n}\n</code></pre>"},{"location":"Go/Basic/Golang-5-%E6%95%B0%E7%BB%84/#_6","title":"\u904d\u5386","text":"<pre><code>func main() {\n    a := [3][2]string{\n        {\"\u5e7f\u4e1c\", \"\u5e7f\u5dde\"},\n        {\"\u6d59\u6c5f\", \"\u676d\u5dde\"},\n        {\"\u56db\u5ddd\", \"\u6210\u90fd\"},\n    }\n\n    for _, v1 := range a {\n        for _, v2 := range v1 {\n            fmt.Printf(\"%s \\t\", v2)\n        }\n        fmt.Println()\n    }\n}\n\n// ----------------------------------------\n// Output:\n\u5e7f\u4e1c  \u5e7f\u5dde\n\u6d59\u6c5f  \u676d\u5dde\n\u56db\u5ddd  \u6210\u90fd\n</code></pre> <p>\u6ce8\u610f</p> <p>\u6ce8\u610f\uff1a \u591a\u7ef4\u6570\u7ec4\u53ea\u6709\u7b2c\u4e00\u5c42\u53ef\u4ee5\u7701\u7565\u957f\u5ea6\u3002</p> <p>eg\uff1a</p> <pre><code>// \u5408\u6cd5\u5199\u6cd5\na := [...][2]string{\n    {\"\u5e7f\u4e1c\", \"\u5e7f\u5dde\"},\n    {\"\u6d59\u6c5f\", \"\u676d\u5dde\"},\n    {\"\u56db\u5ddd\", \"\u6210\u90fd\"},\n}\n\n// \u975e\u6cd5\u5199\u6cd5\na := [...][...]string{\n    {\"\u5e7f\u4e1c\", \"\u5e7f\u5dde\"},\n    {\"\u6d59\u6c5f\", \"\u676d\u5dde\"},\n    {\"\u56db\u5ddd\", \"\u6210\u90fd\"},\n}\n</code></pre>"},{"location":"Go/Basic/Golang-5-%E6%95%B0%E7%BB%84/#_7","title":"\u6570\u7ec4\u662f\u503c\u7c7b\u578b","text":"<p>\u6570\u7ec4\u662f\u503c\u7c7b\u578b\uff0c\u8d4b\u503c\u548c\u4f20\u53c2\u4f1a\u8d4b\u503c\u6574\u4e2a\u6570\u7ec4\u3002\u56e0\u6b64\u6539\u53d8\u526f\u672c\u7684\u503c\uff0c\u4e0d\u4f1a\u6539\u53d8\u672c\u8eab\u7684\u503c\u3002</p> <pre><code>func modifyArray(x [3]int) {\n    x[0] = 100\n}\n\nfunc modifyArray2(x [3][2]int) {\n    x[2][0] = 100\n}\nfunc main() {\n    a := [3]int{10, 20, 30}\n    modifyArray(a) //\u5728modify\u4e2d\u4fee\u6539\u7684\u662fa\u7684\u526f\u672cx\n    fmt.Println(a) //[10 20 30]\n    b := [3][2]int{\n        {1, 1},\n        {1, 1},\n        {1, 1},\n    }\n    modifyArray2(b) //\u5728modify\u4e2d\u4fee\u6539\u7684\u662fb\u7684\u526f\u672cx\n    fmt.Println(b)  //[[1 1] [1 1] [1 1]]\n}\n</code></pre> <p>\u6ce8\u610f\uff1a</p> <ol> <li>\u6570\u7ec4\u652f\u6301 <code>==</code>\u3001<code>!=</code> \u64cd\u4f5c\u7b26\uff0c\u56e0\u4e3a\u5185\u5b58\u603b\u662f\u88ab\u521d\u59cb\u5316\u8fc7\u7684\u3002</li> <li><code>[len]*T</code> \u8868\u793a\u6307\u9488\u6570\u7ec4\uff0c\u672c\u8d28\u662f \u6570\u7ec4\uff0c\u5b58\u653e\u6307\u9488\u7684\u6570\u7ec4</li> <li><code>*[len]T</code> \u8868\u793a\u6570\u7ec4\u6307\u9488\uff0c\u672c\u8d28\u662f \u6307\u9488\uff0c\u6307\u5411\u6570\u7ec4\u7684\u6307\u9488</li> </ol>"},{"location":"Go/Basic/Golang-6-slice/","title":"6.slice","text":""},{"location":"Go/Basic/Golang-6-slice/#6-","title":"6-\u5207\u7247","text":"<p>\u5207\u7247\u662f\u4e00\u4e2a\u62e5\u6709\u76f8\u540c\u6570\u636e\u7c7b\u578b\u5143\u7d20\u7684\u53ef\u53d8\u957f\u5ea6\u7684\u5e8f\u5217\u3002</p> <p>\u6570\u7ec4\u662f \u56fa\u5b9a \u957f\u5ea6\uff0c\u5207\u7247\u662f \u53ef\u53d8 \u957f\u5ea6 \u6570\u7ec4\u662f \u503c\u7c7b\u578b\uff0c\u5207\u7247\u662f \u5f15\u7528\u7c7b\u578b</p> <p>\u6570\u7ec4\u6709\u5f88\u591a\u5c40\u9650\u6027\uff0c\u5207\u7247\u975e\u5e38\u7075\u6d3b\uff0c\u652f\u6301\u81ea\u52a8\u6269\u5bb9</p> <p>\u5207\u7247\u5185\u90e8\u7ed3\u6784\u5305\u542b <code>\u5730\u5740</code>\u3001<code>\u957f\u5ea6</code>\u3001<code>\u5bb9\u91cf</code>\uff0c\u4e00\u822c\u7528\u4e8e\u5feb\u901f\u64cd\u4f5c\u4e00\u5757\u6570\u636e\u96c6\u5408\u3002</p>"},{"location":"Go/Basic/Golang-6-slice/#_1","title":"\u521b\u5efa\u5207\u7247","text":"<p>\u6ce8\u610f</p> <p>\u5207\u7247\u662f\u5f15\u7528\u7c7b\u578b\uff01\uff01\uff01</p> <p></p><pre><code>// \u5207\u7247\nvar idn []T\nvar idn = []T{initial value}\nidn := []T{initial value}\n\n// \u6570\u7ec4\nvar idn [len]T\nvar idn = [...]T{initial value}\n</code></pre> <code>idn</code>\uff1a\u5207\u7247\u540d\u3001<code>T</code>\uff1a\u5207\u7247\u6570\u636e\u7c7b\u578b<p></p> <p>\u533a\u522b\u4e8e\u6570\u7ec4\uff0c\u5207\u7247\u5728\u5b9a\u4e49\u65f6\u4e0d\u7528\u586b\u5199 len\u3002</p> <p>\u5b83\u548c\u521d\u59cb\u5316\u6570\u7ec4\u65f6\u7701\u7565 len \u4e0d\u540c\uff0c\u6570\u7ec4\u7701\u7565 len \u65f6\u8981\u5199 <code>...</code>\uff0c\u5207\u7247\u5565\u4e5f\u4e0d\u7528\u5199\u3002</p> <p>Example</p> <pre><code>func main() {\n    var a []string               // \u58f0\u660e\u4e00\u4e2a\u5b57\u7b26\u4e32\u5207\u7247\n    var b = []int{1, 2, 3, 4, 5} // \u58f0\u660e\u4e00\u4e2a\u6574\u578b\u5207\u7247,\u5e76\u521d\u59cb\u5316\n    c := []bool{false, true}     // \u58f0\u660e\u4e00\u4e2a\u5e03\u5c14\u578b\u5207\u7247,\u5e76\u521d\u59cb\u5316\n    fmt.Println(a)               // []\n    fmt.Println(b)               // [1 2 3 4 5]\n    fmt.Println(c)               // [false, true]\n}\n</code></pre> <p>Slice \u7684\u521b\u5efa\u65b9\u5f0f\u6709\u4e09\u79cd\uff1a</p> <ol> <li>\u901a\u8fc7\u4e0b\u6807\u7684\u65b9\u5f0f\u83b7\u5f97\u6570\u7ec4\u6216\u5207\u7247\u7684\u4e00\u90e8\u5206</li> <li>\u4f7f\u7528\u5b57\u9762\u91cf\u521d\u59cb\u5316\u65b0\u7684\u5207\u7247</li> <li>\u4f7f\u7528\u5173\u952e\u5b57 <code>make</code> \u521b\u5efa\u5207\u7247</li> </ol> <pre><code>arr := [8]int{1, 2, 3, 4, 5, 6, 7, 8}\n\ns1 := arr[2:6]              // 1. \u901a\u8fc7\u4e0b\u6807\u57fa\u4e8e\u6570\u7ec4\u6216\u5207\u7247\u521b\u5efa\ns2 := []int{11, 22, 33}     // 2. \u901a\u8fc7\u5b57\u9762\u91cf\u521b\u5efa\ns3 := make([]int, 10, 20)   // 3. \u901a\u8fc7\u5173\u952e\u5b57 make \u521b\u5efa\n</code></pre>"},{"location":"Go/Basic/Golang-6-slice/#_2","title":"\u57fa\u4e8e\u6570\u7ec4\u521b\u5efa","text":"<p>\u5207\u7247\u5e95\u5c42\u662f\u6570\u7ec4\uff0c\u5f53\u5e95\u5c42\u6570\u7ec4\u4e0d\u591f\u7684\u65f6\u5019\uff0c\u5207\u7247\u5c31\u4f1a\u6269\u5bb9\u3002</p> <p>\u4e0a\u9762\u7684\u5b9a\u4e49\u662f\u521b\u5efa\u4e00\u4e2a\u533f\u540d\u6570\u7ec4\uff0c\u8ba9\u5207\u7247\u6307\u5411\u8fd9\u4e2a\u533f\u540d\u6570\u7ec4\uff0c</p> <p>\u4e0b\u9762\u662f\u57fa\u4e8e\u6570\u7ec4\u5b9a\u4e49\u5207\u7247: <code>idn := array[start_with:end:max]</code></p> <pre><code>func main() {\n    // \u57fa\u4e8e\u6570\u7ec4\u5b9a\u4e49\u5207\u7247\n    arr := [8]int{55, 56, 57, 58, 59, 60, 61, 62}\n    b := arr[1:5]          // \u5176\u8303\u56f4\u7528\u6570\u5b66\u8868\u793a\u4e3a\uff1a[1,5) \u4ecearr[1]\u53d6\u5230arr[4]\u4e0d\u5305\u542barr[5]\n    fmt.Println(b)         // [55 56 57 58 59]\n    fmt.Printf(\"%T \\n\", b) // []int\n\n    // \u5207\u7247\u518d\u6b21\u5207\u7247\n    c := b[0:len(b)]       // len(b)\u4e3a5\uff0c\u6240\u4ee5\u53d6\u4e86b[0]\u3001b[1]\u3001b[2]\u3001b[3]\u3001b[4]\uff0c\u76f8\u5f53\u4e8e\u590d\u5236\u4e00\u6574\u4e2a\u5207\u7247\n    fmt.Println(c)         // [55 56 57 58 59]\n    fmt.Printf(\"%T \\n\", c) // []int\n}\n</code></pre> <p>\u76f4\u63a5\u5b9a\u4e49\u5207\u7247 \u548c \u6307\u5b9a\u6570\u7ec4\u5b9a\u4e49\u5207\u7247 \u7684\u533a\u522b\u5728\u4e8e\uff1a</p> <ol> <li>\u76f4\u63a5\u5b9a\u4e49\u5207\u7247\u4f1a\u5f15\u7528\u4e00\u4e2a\u533f\u540d\u6570\u7ec4\uff0c\u6307\u5b9a\u6570\u7ec4\u5b9a\u4e49\u5207\u7247\u4f1a\u5f15\u7528\u6307\u5b9a\u6570\u7ec4</li> <li>\u76f4\u63a5\u5b9a\u4e49\u5207\u7247<code>\u957f\u5ea6=\u5bb9\u91cf</code>\uff0c\u6307\u5b9a\u6570\u7ec4\u5b9a\u4e49\u5207\u7247\u957f\u5ea6\u548c\u5bb9\u91cf\u89c6\u5177\u4f53\u60c5\u51b5</li> </ol> <p>\u76f4\u63a5\u5b9a\u4e49\u5207\u7247 \u2193 </p> <p>\u6307\u5b9a\u6570\u7ec4\u5b9a\u4e49\u5207\u7247 \u2193 </p> <p></p> <p>\u5bb9\u91cf\u6307\u7684\u662f\u4ece\u63a5\u7247\u7b2c\u4e00\u4e2a\u5143\u7d20\u5230\u5e95\u5c42\u6570\u7ec4\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20</p> <p>\u4f8b\u5982\u4e0a\u9762\u7b2c\u4e09\u5f20\u56fe\u4e2d\uff1a</p> <p>Example</p> <pre><code>arr := [8]int{55, 56, 57, 58, 59, 60, 61, 62}\nc := arr[3:6]\n\nlen(c)    // 3\ncap(c)    // 5\n</code></pre>"},{"location":"Go/Basic/Golang-6-slice/#make","title":"\u4f7f\u7528make()\u521b\u5efa","text":"<p>\u5982\u679c\u9700\u8981 \u52a8\u6001 \u7684\u521b\u5efa\u4e00\u4e2a\u5207\u7247\uff0c\u53ef\u4ee5\u4f7f\u7528\u5185\u7f6e\u7684<code>make()</code>\u51fd\u6570 \u57fa\u672c\u8bed\u6cd5\u4e3a\uff1a</p> <p></p><pre><code>make([]T, len, cap)\n\nvar idn []T = make([]T, len, cap)\nidn := make([]T, len, cap)\n</code></pre> <code>T</code>\uff1a\u5207\u7247\u6570\u636e\u7c7b\u578b\u3001<code>len</code>\uff1a\u957f\u5ea6\u3001<code>cap</code>\uff1a\u5bb9\u91cf cap \u53ef\u4ee5\u4e0d\u586b\uff0c\u9ed8\u8ba4\u548c len \u76f8\u540c<p></p> <pre><code>func main() {\n    // make\u51fd\u6570\u6784\u9020\u5207\u7247\n    // make([]T, len, cap)\n\n    d := make([]int, 4, 10) // \u6784\u9020\u4e00\u4e2a\u6574\u578b\u5207\u7247\uff0c\u586b\u51455\u4e2a\u5143\u7d20\uff0c\u6700\u5927\u5bb9\u91cf10\n    fmt.Println(d)          // [0 0 0 0]\n    fmt.Printf(\"%T \\n\", d)  // []int\n    fmt.Println(len(d))     // 4\n    fmt.Println(cap(d))     // 10\n}\n</code></pre> <p>\u52a8\u6001\u5c31\u52a8\u6001\u5728\u4e8e\u5b83\u80fd\u4f7f\u7528\u53d8\u91cf\u54c8\u54c8\u54c8 </p><pre><code>func fn(a int, b int) []int {\n    return make([]int, a, b)\n}\n</code></pre><p></p>"},{"location":"Go/Basic/Golang-6-slice/#_3","title":"\u5207\u7247\u662f\u5f15\u7528\u7c7b\u578b","text":""},{"location":"Go/Basic/Golang-6-slice/#_4","title":"\u5224\u7a7a","text":"<p>\u68c0\u67e5\u5207\u7247\u662f\u5426\u4e3a\u7a7a\uff0c\u4e0d\u80fd\u7528 <code>s == nil</code>\uff0c\u800c\u662f\u5e94\u8be5\u4f7f\u7528 <code>len(s) == 0</code></p> <p>Note</p> <p>\u5207\u7247\u662f\u4e00\u79cd\u5f15\u7528\u7c7b\u578b\uff0c\u5f53\u5b83\u88ab\u58f0\u660e\u7684\u65f6\u5019\uff0c\u6ca1\u6709\u6307\u5411\u4efb\u4f55\u6570\u7ec4\uff0c\u5305\u62ec\u533f\u540d\u6570\u7ec4\u4e5f\u6ca1\u6709\uff0c\u6b64\u65f6\u5207\u7247\u4e2d\u6307\u9488\u4e3a <code>nil</code> </p><pre><code>var s []int    // s == nil\n</code></pre><p></p> <p>\u5f53\u5207\u7247\u88ab\u521d\u59cb\u5316\u7684\u65f6\u5019\uff0c\u5b83\u5c31\u6307\u5411\u4e86\u4e00\u4e2a\u6570\u7ec4\uff0c\u8fd9\u65f6\u5207\u7247\u4e2d\u7684\u6307\u9488\u4e0d\u4e3a <code>nil</code>\u3002 </p><pre><code>var s = []int{}    // s != nil\n</code></pre><p></p>"},{"location":"Go/Basic/Golang-6-slice/#_5","title":"\u5207\u7247\u4e0d\u80fd\u76f4\u63a5\u6bd4\u8f83","text":"<p>\u5207\u7247\u662f\u4e00\u79cd\u5f15\u7528\u7c7b\u578b\uff0c\u6211\u4eec\u4e0d\u80fd\u7528 <code>==</code> \u64cd\u4f5c\u7b26\u6765\u5224\u65ad\u4e24\u4e2a\u5207\u7247\u662f\u5426\u542b\u6709\u5168\u90e8\u76f8\u7b49\u5143\u7d20\u3002 \u5207\u7247\u552f\u4e00\u5408\u6cd5\u7684\u6bd4\u8f83\u64cd\u4f5c\u662f\u548c <code>nil</code> \u6bd4\u8f83\u3002</p> <p>\u4e00\u4e2a<code>nil</code>\u503c\u7684\u5207\u7247\u5e76\u6ca1\u6709\u5e95\u5c42\u6570\u7ec4\uff0c\u4e00\u4e2a<code>nil</code>\u503c\u7684\u5207\u7247\u7684\u957f\u5ea6\u548c\u5bb9\u91cf\u90fd\u662f0\u3002  \u4f46\u662f\u6211\u4eec\u4e0d\u80fd\u8bf4\u4e00\u4e2a\u957f\u5ea6\u548c\u5bb9\u91cf\u90fd\u662f0\u7684\u5207\u7247\u4e00\u5b9a\u662f<code>nil</code></p> <p></p><pre><code>var s1 []int         //len(s1)=0; cap(s1)=0; s1==nil\ns2 := []int{}        //len(s2)=0; cap(s2)=0; s2!=nil\ns3 := make([]int, 0) //len(s3)=0; cap(s3)=0; s3!=nil\n</code></pre> \u6240\u4ee5\u8981\u5224\u65ad\u4e00\u4e2a\u5207\u7247\u662f\u5426\u662f\u7a7a\u7684\uff0c\u8981\u662f\u7528<code>len(s) == 0</code>\u6765\u5224\u65ad\uff0c\u4e0d\u5e94\u8be5\u4f7f\u7528<code>s == nil</code>\u6765\u5224\u65ad\u3002<p></p>"},{"location":"Go/Basic/Golang-6-slice/#_6","title":"\u5207\u7247\u7684\u62f7\u8d1d\u8d4b\u503c","text":"<p>\u4e0b\u9762\u7684\u4ee3\u7801\u4e2d\u6f14\u793a\u4e86\u62f7\u8d1d\u524d\u540e\u4e24\u4e2a\u53d8\u91cf\u5171\u4eab\u5e95\u5c42\u6570\u7ec4\uff0c\u5bf9\u4e00\u4e2a\u5207\u7247\u7684\u4fee\u6539\u4f1a\u5f71\u54cd\u53e6\u4e00\u4e2a\u5207\u7247\u7684\u5185\u5bb9\uff0c\u8fd9\u70b9\u9700\u8981\u7279\u522b\u6ce8\u610f\u3002</p> <p>Example</p> <pre><code>func main() {\n    s1 := make([]int, 3) //[0 0 0]\n    s2 := s1             //\u5c06s1\u76f4\u63a5\u8d4b\u503c\u7ed9s2\uff0cs1\u548cs2\u5171\u7528\u4e00\u4e2a\u5e95\u5c42\u6570\u7ec4\n    s2[0] = 100\n    fmt.Println(s1) //[100 0 0]\n    fmt.Println(s2) //[100 0 0]\n}\n</code></pre>"},{"location":"Go/Basic/Golang-6-slice/#_7","title":"\u5207\u7247\u904d\u5386","text":"<p>\u5207\u7247\u7684\u904d\u5386\u65b9\u5f0f\u548c\u6570\u7ec4\u662f\u4e00\u81f4\u7684\uff0c\u652f\u6301\u7d22\u5f15\u904d\u5386\u548c<code>for range</code>\u904d\u5386\u3002 </p><pre><code>func main() {\n    s := []int{1, 3, 5}\n\n    for i := 0; i &lt; len(s); i++ {\n        fmt.Println(i, s[i])\n    }\n\n    for index, value := range s {\n        fmt.Println(index, value)\n    }\n}\n</code></pre><p></p>"},{"location":"Go/Basic/Golang-6-slice/#append","title":"append()","text":"<p>Go \u4e2d\u7684\u5185\u5efa\u51fd\u6570 <code>append()</code> \u53ef\u4ee5\u4e3a\u5207\u7247\u52a8\u6001\u6dfb\u52a0\u5143\u7d20\uff0c\u53ef\u4ee5\u4e00\u6b21\u6dfb\u52a0\u4e00\u4e2a\u6216\u591a\u4e2a\u5143\u7d20\u3002 </p><pre><code>append(slice, elem_arr_or_slice)\n</code></pre><p></p> <p>eg\uff1a </p><pre><code>func main() {\n    s := []int{1, 2, 3, 4, 5}   // [1 2 3 4 5]\n    s = append(s, 11)           // [1 2 3 4 5 11]\n    s = append(s, 12, 13, 14)   // [1 2 3 4 5 11 12 13 14]\n}\n</code></pre><p></p> <p><code>append()</code> \u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e5f\u53ef\u4ee5\u662f\u53e6\u4e00\u4e2a\u5207\u7247\uff0c\u4e0d\u8fc7\u8bb0\u5f97\u52a0\u4e0a <code>...</code></p> <p>Example</p> <pre><code>func main() {\n    s2 := []int{55, 56, 57}\n    s = append(s, s2...)\n}\n</code></pre> <p>\u6ce8\u610f\uff1a \u901a\u8fc7var\u58f0\u660e\u7684\u96f6\u503c\u5207\u7247\u53ef\u4ee5\u5728 <code>append()</code> \u51fd\u6570\u76f4\u63a5\u4f7f\u7528\uff0c\u65e0\u9700\u521d\u59cb\u5316\u3002 </p><pre><code>// \u221a \u6b63\u786e\nvar s []int\ns = append(s, 1, 2, 3)\n\n// X \u6ca1\u5fc5\u8981\nvar s = []int{}\ns = append(s, 1, 2, 3)\n// X \u6ca1\u5fc5\u8981\nvar s = make([]int)\ns = append(s, 1, 2, 3)\n</code></pre><p></p>"},{"location":"Go/Basic/Golang-6-slice/#copy","title":"copy()","text":"<p>\u5207\u7247\u662f\u5f15\u7528\u7c7b\u578b\uff0c\u5982\u679c\u76f4\u63a5 <code>s1 = s2</code> \uff0c\u5176\u5b9e\u662f\u5c06 s2 \u4e2d\u7684\u6570\u7ec4\u5730\u5740\u8d4b\u503c\u7ed9 s1 \u7684\u6307\u9488\uff0cs1 \u4fee\u6539\u7684\u65f6\u5019 s2 \u4e5f\u4f1a\u53d7\u5f71\u54cd\u3002 \u8981\u5b9e\u73b0\u771f\u6b63\u7684\u590d\u5236\uff0c\u9700\u8981\u4f7f\u7528\u5185\u5efa\u51fd\u6570 <code>copy()</code> \u8fdb\u884c\u590d\u5236\u3002 </p><pre><code>copy(destSlice, srcSlice)\n</code></pre> <code>destSlice</code>\uff1a\u76ee\u6807\u5207\u7247\u3001<code>srcSlice</code>\uff1a\u6570\u636e\u6765\u6e90\u5207\u7247<p></p> <pre><code>func main() {\n    s1 := []int{1, 2, 3, 4}\n    s2 := []int{12, 13, 14}\n    copy(s1, s2)\n    fmt.Println(s1)    // [12 13 14 4]\n    fmt.Println(s2)    // [12 13 14]\n\n    s3 := []int{1, 2, 3, 4}\n    s4 := []int{12, 13, 14}\n    copy(s4, s3)\n    fmt.Println(s3)    // [1 2 3 4]\n    fmt.Println(s4)    // [1 2 3]\n\n    s5 := []int{1, 2, 3, 4}\n    s6 := make([]int, 4)\n    copy(s5, s6)\n    fmt.Println(s5)    // [0 0 0 0]\n    fmt.Println(s6)    // [0 0 0 0]\n\n    s7 := []int{1, 2, 3, 4}\n    s8 := make([]int, 4)\n    copy(s8, s7)\n    fmt.Println(s7)    // [1 2 3 4]\n    fmt.Println(s8)    // [1 2 3 4]\n    s8[0] = 100\n    fmt.Println(s7)    // [1 2 3 4]\n    fmt.Println(s8)    // [100 2 3 4]\n}\n</code></pre>"},{"location":"Go/Basic/Golang-6-slice/#_8","title":"[:] \u8bed\u6cd5","text":"<p>Note</p> <p>\u8fd9\u91cc\u9700\u8981\u8bf4\u660e\u4e00\u4e0b\uff0c\u65e0\u8bba\u4efb\u4f55\u8bed\u8a00\u7684 <code>[:]</code> \u8bed\u6cd5\u90fd\u662f\u5de6\u95ed\u53f3\u5f00\u7684\uff0c\u7528\u6570\u5b66\u8868\u8fbe\u5c31\u662f \\([start, end)\\)\uff0c\u56e0\u4e3a\u8fd9\u6837\u5199\u8d77\u6765\u4f1a\u5f88\u65b9\u4fbf\u3002</p> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff1a\u5f53\u6211\u60f3\u8981\u57fa\u4e8e\u67d0\u4e2a\u6570\u7ec4\uff0c\u4ece\u4e0b\u6807 2 \u5207\u5230\u672b\u5c3e\u7ed3\u675f\uff0c\u90a3\u4e48\u5199\u8d77\u6765\u5c31\u662f\u8fd9\u6837\u7684\uff1a </p><pre><code>var arr [8]{0, 1, 2, 3, 4, 5, 6, 7}\ns := arr[2:len(arr)]\n</code></pre> \u56e0\u4e3a\u4e0b\u6807\u662f\u4ece 0 \u5f00\u59cb\u7684\uff0c\u800c len() \u7684\u8ba1\u7b97\u662f\u4ece 1 \u5f00\u59cb\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u6570\u7ec4 arr \u7684\u957f\u5ea6\u662f 8\uff0c\u4e0b\u6807\u662f\u4ece 0 ~ 7.<p></p> <p>\u90a3\u4e48 <code>s:= arr[2:len(arr)]</code> \u5c31\u76f8\u5f53\u4e8e <code>s := arr[2:8]</code>\u3002</p> <p>\u4e0b\u6807\u662f  8 \u5c31\u5df2\u7ecf\u8d8a\u754c\u4e86\uff0c\u4f46\u662f <code>[:]</code> \u8bed\u6cd5\u662f\u5de6\u95ed\u53f3\u5f00\uff0c\u6240\u4ee5\u5c31\u662f\u53d6 arr \u7684\u4e0b\u6807 2 \u5230\u4e0b\u6807 7\u3002</p> <p>\u5728 Python \u4e2d\uff0c<code>[:]</code>\u7684\u8bed\u6cd5\u89c4\u5219\u662f <code>[low:high:step]</code>\uff1b</p> <p>\u800c\u5728 Golang \u4e2d\u5219\u662f <code>[low:high:max]</code>\uff0c\u5176\u89c4\u5219\u662f\uff1a</p> <p><code>0 &lt;= low &lt;= len(arr) &lt;= high &lt;= max &lt;= cap(arr)</code>\u3002</p> <ul> <li><code>low</code>\u7684\u53d6\u503c\u5728 <code>0 \u81f3 \u5e95\u5c42\u7ed3\u6784\u957f\u5ea6</code>\uff0c\u53d6\u5e95\u5c42\u7ed3\u6784\u957f\u5ea6\u65f6\u4e3a\u7a7a\u5207\u7247</li> <li><code>high</code>\u7684\u53d6\u503c\u5728<code>low \u81f3 max</code>\uff0c\u53d6 low \u65f6\u4e3a\u7a7a\u5207\u7247</li> <li><code>max</code>\u7684\u53d6\u503c\u5728<code>high \u81f3 \u5e95\u5c42\u7ed3\u6784\u5bb9\u91cf</code>\uff0c\u53d6 high \u65f6\u65b0\u5207\u7247 len==cap</li> </ul> <p>\u4e3e\u4e2a\u6817\u5b50\uff1a</p> <pre><code>func main() {\n    a := [10]int{0, 1, 2, 3, 4, 5, 6, 7, 8, 9}\n    s := a[2:6:10]  // [low:high:max]\n\n    fmt.Printf(\"a: %v\\n\", a)          // a: [0 1 2 3 4 5 6 7 8 9]\n    fmt.Printf(\"a len: %d\\n\", len(a)) // a len: 10\n    fmt.Printf(\"a cap: %d\\n\", cap(a)) // a cap: 10\n\n    fmt.Printf(\"s: %v\\n\", s)          // s: [2 3 4 5]\n    fmt.Printf(\"s len: %d\\n\", len(s)) // s len: 4\n    fmt.Printf(\"s cap: %d\\n\", cap(s)) // s cap: 8\n}\n</code></pre> <p>\u603b\u7ed3\u4e00\u4e0b\u5c31\u662f</p> <ul> <li>\u65b0\u5207\u7247\u7684\u5bb9\u91cf <code>cap(s) = max - low</code></li> <li>\u65b0\u5207\u7247\u7684\u957f\u5ea6 <code>len(s) = high - low</code></li> <li><code>low \u53d6\u503c\u5728 [0, len(arr)]</code></li> <li><code>high \u53d6\u503c\u5728 [low, max]</code></li> <li><code>max \u53d6\u503c\u5728 [hign, cap(arr)]</code></li> </ul>"},{"location":"Go/Basic/Golang-6-slice/#_9","title":"\u5220\u9664","text":"<p>Go \u5e76\u6ca1\u6709\u63d0\u4f9b\u5220\u9664\u5207\u7247\u5143\u7d20\u7684\u65b9\u6cd5\uff0c\u6211\u4eec\u53ef\u4ee5\u5229\u7528\u5176\u672c\u8eab\u7684\u7279\u6027\u6765\u5220\u9664\u5143\u7d20 \u5207\u7247\u53ef\u4ee5\u53d6\u81ea\u5207\u7247\uff0c\u90a3\u6211\u4eec\u5c31\u5c06\u88ab\u5220\u9664\u5143\u7d20\u4e4b\u524d\u7684\u5143\u7d20\u5207\u4e0b\u6765\uff0c\u518d\u628a\u88ab\u5220\u9664\u5143\u7d20\u4e4b\u540e\u7684\u5143\u7d20\u5207\u4e0b\u6765\uff0c\u7136\u540e\u7528<code>append()</code>\u62fc\u63a5</p> <p></p><pre><code>func main() {\n    a := []int{30, 31, 32, 33, 34, 35, 36, 37}\n    // \u5220\u9664\u4e0b\u6807\u4e3a2\u7684\u5143\u7d20\n    a = append(a[:2], a[3:]...)\n    fmt.Println(a)    // [30, 31, 33, 34, 35, 36, 37]\n}\n</code></pre> \u7b80\u5355\u8bf4\u5c31\u662f <code>a = append(a[:index], a[index+1:]...)</code><p></p>"},{"location":"Go/Basic/Golang-6-slice/#_10","title":"\u5176\u4ed6\u64cd\u4f5c","text":"<pre><code>// append slice\nslice = append(slice, slice2...)\n\n// copy\ndest := make([]int, len(src))\ncopy(dest, src)\n\n// \u5220\u9664\u591a\u4e2a\u8fde\u7eed\u7684\u5143\u7d20\na = append(a[:i], a[j:]...)\n\n// \u5220\u9664\u4e00\u4e2a\u5143\u7d20 i\na = append(a[:i], a[i+1:]...)\n\n// \u6269\u5c55 j \u4e2a\u5143\u7d20\na = append(a, make([]T, j)...)\n\n// \u63d2\u5165\u5143\u7d20 x \u5230 i \u7684\u4f4d\u7f6e\u4e0a\na = append(a[:i], append([]T{x}, a[i:]...)...)\n\n// push\uff0c\u8ffd\u52a0\u5230\u5c3e\u90e8\na = append(a, x)\n\n// pop\uff0c\u5c3e\u90e8\u5f39\u51fa\nx, a = a[len(a)-1], a[:len(a)-1]\n\n// dequeue\uff0c\u961f\u5934\u51fa\u961f\nx, a = a[0], a[1:]\n\n// enqueue\uff0c\u961f\u5c3e\u5165\u961f\na = append(a, x)\n\n\n// shift\uff0c\u5934\u90e8\u53d6\u51fa\nx, a = a[0], a[1:]\n\n// unshift\uff0c\u5934\u90e8\u52a0\u5165\na = append([]T{x}, a...)\n</code></pre>"},{"location":"Go/Basic/Golang-6-slice/#_11","title":"\u603b\u7ed3","text":"<p>\u5207\u7247\u548c\u6570\u7ec4 \u4e4b\u95f4\u6709\u90a3\u4e48\u70b9\u50cf\u6570\u636e\u5e93\u4e2d\u7684 \u57fa\u672c\u8868\u548c\u89c6\u56fe\u3002</p> <p>\u57fa\u672c\u8868\u662f\u5b58\u50a8\u6570\u636e\u5b9a\u4e49\u548c\u6570\u636e\u7684\uff0c\u89c6\u56fe\u53ea\u5b58\u50a8\u6570\u636e\u5b9a\u4e49\u3002\u6240\u4ee5\u57fa\u672c\u8868\u6539\u53d8\u65f6\u89c6\u56fe\u4e5f\u6539\u53d8\u3002</p> <p>\u6570\u7ec4\u662f\u5b58\u50a8\u5b9a\u4e49\u548c\u6570\u636e\u7684\uff0c\u5207\u7247\u53ea\u5b58\u50a8\u5b9a\u4e49\u3002\u6240\u4ee5\u6570\u7ec4\u5143\u7d20\u6539\u53d8\u65f6\u5207\u7247\u4e5f\u6539\u53d8\u3002</p> <p>\u8fd9\u4e2a\u4f8b\u5b50\u53ef\u80fd\u4e0d\u662f\u5f88\u8d34\u5207\uff0c\u4f46\u8054\u7cfb\u4e00\u4e0b\u8fd9\u53e5\u8bdd\uff1a\u6570\u7ec4\u662f\u503c\u7c7b\u578b\uff0c\u5207\u7247\u662f\u5f15\u7528\u7c7b\u578b\u3002 \u4e5f\u5c31\u662f\u8bf4\uff0c\u6570\u7ec4\u662f\u5b9e\u5b9e\u5728\u5728\u5b58\u6570\u636e\u7684\u5730\u65b9\uff0c\u5207\u7247\u53ea\u662f\u5bf9\u67d0\u4e2a\u6570\u7ec4\u7684\u5f15\u7528\uff0c\u81ea\u5df1\u5e76\u6ca1\u6709\u6570\u636e\u3002</p>"},{"location":"Go/Basic/Golang-7-map/","title":"7.map","text":""},{"location":"Go/Basic/Golang-7-map/#7-map","title":"7-map","text":"<p>Note</p> <p>map \u662f Go \u63d0\u4f9b\u7684\u4e00\u79cd\u6620\u5c04\u5173\u7cfb\u5bb9\u5668\uff0c\u5176\u5185\u90e8\u4f7f\u7528<code>\u6563\u5217\u8868(hash)</code>\u5b9e\u73b0 map \u662f\u4e00\u79cd\u65e0\u5e8f\u7684\u57fa\u4e8e <code>key-value</code> \u7684\u6570\u636e\u7ed3\u6784 Go \u4e2d\u7684 map \u662f\u5f15\u7528\u7c7b\u578b\uff0c\u5fc5\u987b\u521d\u59cb\u5316\u624d\u80fd\u4f7f\u7528\u3002</p> <ul> <li>key \u53ef\u4ee5\u662f\u4efb\u610f\u53ef\u7528 <code>== \u6216 !=</code> \u6bd4\u8f83\u7684\u7c7b\u578b\uff0c\u5982\uff1astring\u3001int\u3001float</li> <li>\u6570\u7ec4\u3001\u5207\u7247\u4e0d\u80fd\u4f5c\u4e3a key</li> <li>\u6307\u9488\u548c\u63a5\u53e3\u7c7b\u578b\u53ef\u4ee5\u4f5c\u4e3a key</li> <li>\u5305\u542b\u6570\u7ec4\u5207\u7247\u7684\u7ed3\u6784\u4f53\u4e0d\u80fd\u4f5c\u4e3a key\uff0c\u53ea\u5305\u542b\u539f\u751f\u7c7b\u578b\u7684\u7ed3\u6784\u4f53\u53ef\u4ee5\u4f5c\u4e3a key</li> <li>value \u53ef\u4ee5\u662f\u4efb\u610f\u7c7b\u578b</li> <li>\u901a\u8fc7 key \u5728map \u4e2d\u67e5\u627e\u662f\u5f88\u5feb\u7684\uff0c\u4f46\u662f\u8fd8\u662f\u6bd4\u6570\u7ec4\u548c\u5207\u7247\u6162100\u500d\u3002\u5982\u679c\u6027\u80fd\u5f88\u91cd\u8981\u7684\u8bdd\u8fd8\u662f\u7528\u5207\u7247\u6765\u89e3\u51b3\u95ee\u9898\u3002</li> <li>\u5982\u679c\u7ed3\u6784\u4f53\u8981\u4f5c\u4e3a key \u53ef\u4ee5\u63d0\u4f9b <code>Key()</code> \u548c <code>Hash()</code> \u65b9\u6cd5</li> <li>map\u53ef\u4ee5\u7528\u51fd\u6570\u4f5c\u4e3a\u503c\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u7528\u6765\u505a\u5206\u652f\u7ed3\u6784\uff1a\u7528key\u6765\u9009\u62e9\u8981\u6267\u884c\u7684\u51fd\u6570\u3002</li> </ul> <p>\u6ce8\u610f</p> <p>map \u662f\u5f15\u7528\u7c7b\u578b\uff01\uff01\uff01</p>"},{"location":"Go/Basic/Golang-7-map/#_1","title":"\u58f0\u660e","text":"<p>\u5b9a\u4e49\u8bed\u6cd5\u5982\u4e0b </p><pre><code>var map1 map[keyT]valueT\n\n// \u793a\u4f8b\nvar map1 map[string]int\nvar map2 map[int]rune\n</code></pre><p></p> <p>\u58f0\u660e\u65f6\u4e0d\u9700\u8981\u76f4\u5230map\u957f\u5ea6\uff0cmap\u662f\u53ef\u4ee5\u52a8\u6001\u589e\u957f\u7684 \u672a\u521d\u59cb\u5316\u7684map\u7684\u503c\u662f nil\uff0c\u9700\u8981\u4f7f\u7528 <code>make()</code> \u51fd\u6570\u6765\u5206\u914d\u5185\u5b58</p> <p></p><pre><code>make(map[keyT]valueT, cap)\n</code></pre> <code>cap</code> \u662f\u53ef\u9009\u7684\uff0c\u4f46\u662f\u6211\u4eec\u5e94\u8be5\u5728\u521d\u59cb\u5316map\u7684\u65f6\u5019\u5c31\u4e3a\u5176\u6307\u5b9a\u4e00\u4e2a\u5408\u9002\u7684\u5bb9\u91cf\u3002<p></p> <p>Example</p> <pre><code>func main() {\n    var m1 map[int]string\n    m2 := make(map[int]string)\n\n    fmt.Println(m1)         // map[]\n    fmt.Println(m2)         // map[]\n    fmt.Printf(\"%T \\n\", m1) // map[int]string\n    fmt.Printf(\"%T \\n\", m2) // map[int]string\n}\n</code></pre>"},{"location":"Go/Basic/Golang-7-map/#_2","title":"\u58f0\u660e\u5e76\u521d\u59cb\u5316","text":"<pre><code>func main() {\n    m1 := map[int]string{\n        1: \"Alice\",\n        2: \"Boii\",\n        3: \"Candy\",\n        4: \"Danish\",\n    }\n    fmt.Println(m1)            // map[1:Alice 2:Boii 3:Candy 4:Danish]\n    fmt.Printf(\"%T \\n\", m1)    // map[int]string\n}\n</code></pre> <p>Warning</p> <p>\u8fd9\u79cd\u65b9\u5f0f\uff0c\u6bcf\u4e00\u5bf9 <code>k-v</code>\u540e\u9762\u90fd\u8981\u6709<code>,</code>\uff0c\u6700\u540e\u4e00\u5bf9\u4e5f\u8981\u6709</p>"},{"location":"Go/Basic/Golang-7-map/#_3","title":"\u5355\u72ec\u8d4b\u503c","text":"<pre><code>func main() {\n    m1 := make(map[int]string)\n\n    m1[1] = \"Alice\"\n    m1[2] = \"Boii\"\n    m1[5] = \"Eva\"\n\n    fmt.Println(m1)     // map[1:Alice 2:Boii 5:Eva]\n}\n</code></pre>"},{"location":"Go/Basic/Golang-7-map/#_4","title":"\u5224\u65ad\u952e\u662f\u5426\u5b58\u5728","text":"<p>Go \u4e2d\u6709\u4e2a\u5224\u65ad map \u4e2d\u952e\u662f\u5426\u5b58\u5728\u7684\u7279\u6b8a\u5199\u6cd5\uff0c\u57fa\u672c\u683c\u5f0f\u4e3a\uff1a </p><pre><code>val, ok := map[key]\n</code></pre><p></p> <p>Example</p> <pre><code>func main() {\n    m1 := map[byte]string{\n        'a': \"Alice\",\n        'b': \"Boii\",\n        'c': \"Candy\",\n        'd': \"Danish\",\n    }\n\n    val, ok := m1['a']\n    fmt.Println(val) // Alice\n    fmt.Println(ok)  // true\n\n    if val, ok := m1['b']; ok {\n        fmt.Println(\"I got\", val)\n    } else {\n        fmt.Println(\"None.\")\n    }\n}\n</code></pre>"},{"location":"Go/Basic/Golang-7-map/#_5","title":"\u904d\u5386","text":"<p>\u53ef\u4ee5\u4f7f\u7528 <code>for...range</code> \u904d\u5386 </p><pre><code>func main() {\n    m1 := map[byte]string{\n        'a': \"Alice\",\n        'b': \"Boii\",\n        'c': \"Candy\",\n        'd': \"Danish\",\n    }\n\n    for k, v := range m1 {\n        fmt.Println(k, v)\n    }\n}\n</code></pre><p></p> <p>\u53ea\u60f3\u904d\u5386 key \u7684\u65f6\u5019\u53ef\u4ee5 </p><pre><code>for k := range m1 {\n    fmt.Println(k)\n}\n</code></pre><p></p> <p>\u53ea\u60f3\u904d\u5386 value \u7684\u65f6\u5019\u53ef\u4ee5 </p><pre><code>for _, v := range m1 {\n    fmt.Println(v)\n}\n</code></pre><p></p> <p>Tip</p> <p>\u904d\u5386 map \u65f6\u5143\u7d20\u987a\u5e8f\u4e0e\u6dfb\u52a0\u952e\u503c\u5bf9\u987a\u5e8f\u65e0\u5173\u3002\u5b98\u65b9\u7684\u8bf4\u6cd5\u662f\u65e0\u5173\uff0c\u4f46\u662f\u6709\u4eba\u4e13\u95e8\u53bb\u8bd5\u4e86\u4ee5\u540e\u53d1\u73b0\u5176\u5b9e\u662f\u6709\u5173\u7684\uff0c\u7136\u540e\u5b98\u65b9\u5c31\u5728\u4e0b\u4e00\u7248\u672c\u4e2d\u6545\u610f\u6253\u4e71\u987a\u5e8f\u4e86\u3002</p>"},{"location":"Go/Basic/Golang-7-map/#delete","title":"delete()","text":"<p>Go \u7684\u5185\u5efa\u51fd\u6570 <code>delete()</code> \u53ef\u4ee5\u4ece map \u4e2d\u5220\u9664\u4e00\u5bf9\u952e\u503c\u5bf9\uff0c\u683c\u5f0f\u5982\u4e0b\uff1a </p><pre><code>delete(map, key)\n</code></pre><p></p> <p>Example</p> <pre><code>func main() {\n    m1 := map[int]byte{\n        1: 'A',\n        2: 'B',\n        3: 'C',\n    }\n    fmt.Println(m1) // map[1:65 2:66 3:67]\n    delete(m1, 2)\n    fmt.Println(m1) // map[1:65 3:67]\n}\n</code></pre>"},{"location":"Go/Basic/Golang-7-map/#map","title":"\u503c\u4e3a\u5207\u7247\u7684map","text":"<p>map \u4e2d value \u53ef\u4ee5\u662f\u4efb\u4f55\u7c7b\u578b\uff0c\u6240\u4ee5\u4e5f\u53ef\u4ee5\u662f\u5207\u7247\u7c7b\u578b</p> <p></p><pre><code>var sm map[keyT][]T\n\nsm := make(map[keyT][]T, cap)\n\nsm := map[keyT][]T{initial value}\n</code></pre> <code>[]T</code>\uff1a\u67d0\u79cd\u7c7b\u578b\u7684\u5207\u7247<p></p> <p>Example</p> <pre><code>func main() {\n    // \u521b\u5efa\u4e00\u4e2amap, key \u4e3a string, value \u4e3a []int\uff0c\u5bb9\u91cf\u4e3a5\n    sliceMap1 := make(map[string][]int, 5)\n\n    // var sliceMap1 map[string][]int \u7528\u8fd9\u79cd\u58f0\u660e\u65b9\u5f0f\u4e5f\u884c\n\n    // \u4e3a map \u4e2d\u6bcf\u4e00\u5bf9 k-v \u521d\u59cb\u5316\n    sliceMap1[\"A\"] = make([]int, 3, 3)\n    sliceMap1[\"B\"] = make([]int, 3, 3)\n    sliceMap1[\"C\"] = make([]int, 3, 3)\n    sliceMap1[\"D\"] = make([]int, 3, 3)\n    sliceMap1[\"E\"] = make([]int, 3, 3)\n\n    fmt.Println(\"1: \",sliceMap1)    // 1:  map[A:[0 0 0] B:[0 0 0] C:[0 0 0] D:[0 0 0] E:[0 0 0]]\n    for k, v := range sliceMap1 {\n        fmt.Println(k, v)\n    }\n    // A [0 0 0]\n    // B [0 0 0]\n    // C [0 0 0]\n    // D [0 0 0]\n    // E [0 0 0]\n\n    // \u7528\u8fd9\u79cd\u65b9\u5f0f\u521d\u59cb\u5316\u6548\u679c\u4e00\u6837\n    sliceMap2 := map[string][]int{\n        \"A\": {1, 2, 3},\n        \"B\": make([]int, 3),\n        \"C\": {2, 4, 0, 9},\n        \"D\": make([]int, 3),\n        \"E\": make([]int, 3),\n    }\n    fmt.Println(\"2: \",sliceMap2)    // 2:  map[A:[1 2 3] B:[0 0 0] C:[2 4 0 9] D:[0 0 0] E:[0 0 0]]\n    for k, v := range sliceMap2 {\n        fmt.Println(k, v)\n    }\n    // A [1 2 3]\n    // B [0 0 0]\n    // C [2 4 0 9]\n    // D [0 0 0]\n    // E [0 0 0]\n}\n</code></pre>"},{"location":"Go/Basic/Golang-7-map/#map_1","title":"\u503c\u4e3amap\u7684\u5207\u7247","text":"<p>\u770b\u8d77\u6765\u597d\u50cf\u6709\u70b9\u7ed5\uff0c\u4f46\u662f\u634b\u6e05\u695a\u5c31\u597d\u529e\u4e86 <code>map[keyT]valT</code>\u662fmap\u7c7b\u578b\uff0c<code>[]T</code>\u662f\u5207\u7247\u7c7b\u578b\uff0c\u90a3\u4e48<code>[]map[keyT]valT</code>\u5c31\u662fmap\u7c7b\u578b\u5207\u7247\u4e86 </p><pre><code>// \u7c7b\u578b\u5b9a\u4e49\n[]map[keyT]valT\n\n// \u58f0\u660e\nvar idn []map[keyT]valT\n\n// \u58f0\u660e\u5e76\u521d\u59cb\u5316\nvar idn = []map[keyT]valT{\n    {map1key1: val, map1key2: val, map1key3: val},\n    {map2key1: val, map2key2: val, map2key3: val},\n    {map3key1: val, map3key2: val, map3key3: val},\n}\n\n// \u58f0\u660e\u5e76\u521d\u59cb\u5316\nidn := []map[keyT]valT{\n    {map1key1: val, map1key2: val, map1key3: val},\n    {map2key1: val, map2key2: val, map2key3: val},\n    {map3key1: val, map3key2: val, map3key3: val},\n}\n\n// \u4f7f\u7528make\nidn := make([]map[keyT]valT, cap)\nidn[skey] = make(map[keyT]valT)\nidn[skey][mkey] = val\nidn[skey] = map[keyT]valT{mkey1: val, mkey2: val}\n</code></pre><p></p> <p>Example</p> <pre><code>var ms []map[int]string\n</code></pre> <pre><code>func main() {\n    // \u58f0\u660e\u4e00\u4e2a\u5207\u7247\uff0cmap[int]string \u7c7b\u578b\u7684\uff0c\u5e76\u521d\u59cb\u5316\n    ms := []map[int]string{\n        {1: \"A\", 2: \"B\", 3: \"C\"},\n        {4: \"I\", 6: \"N\", 9: \"G\"},\n        {3: \"R\", 7: \"Y\", 5: \"Q\"},\n        make(map[int]string),\n    }\n    for _, v := range ms {\n        fmt.Println(v)\n    }\n    // map[1:A 2:B 3:C]\n    // map[4:I 6:N 9:G]\n    // map[3:R 5:Q 7:Y]\n    // map[]\n}\n</code></pre> <pre><code>func main() {\n    // make \u4e00\u4e2a\u5207\u7247\uff0c\u7c7b\u578b\u4e3a map[int]string, \u957f\u5ea6\u548c\u5bb9\u91cf\u90fd\u4e3a 3\n    mapSlice := make([]map[int]string, 3)\n    // \u4e3a\u5207\u7247\u7b2c\u4e00\u4e2a\u5143\u7d20\u521b\u5efa\u4e00\u4e2a map\uff0c\u7136\u540e\u4e3a\u5176\u9010\u4e2a\u6dfb\u52a0 k-v\n    mapSlice[0] = make(map[int]string)\n    mapSlice[0][1] = \"A\"\n    mapSlice[0][2] = \"B\"\n    mapSlice[0][3] = \"C\"\n\n    // \u4e3a\u5207\u7247\u7b2c\u4e8c\u4e2a\u5143\u7d20 \u521b\u5efa\u5e76\u521d\u59cb\u5316\u4e00\u4e2a map\n    mapSlice[1] = map[int]string{4: \"I\", 6: \"N\", 9: \"G\"}\n\n    for _, v := range mapSlice {\n        fmt.Println(v)\n    }\n    // map[1:A 2:B 3:C]\n    // map[4:I 6:N 9:G]\n    // map[]\n}\n</code></pre> <p>Danger</p> <ul> <li>Go \u5185\u7f6e\u7684 map \u4e0d\u662f\u5e76\u53d1\u5b89\u5168\u7684\uff0c\u5e76\u53d1\u5b89\u5168\u7684 map \u53ef\u4ee5\u4f7f\u7528\u6807\u51c6\u5305 sync \u4e2d\u7684 map</li> <li>\u4e0d\u8981\u76f4\u63a5\u4fee\u6539 map value \u4e2d\u67d0\u4e2a\u6210\u5458\u7684\u503c\u3002\u5982\u679c\u60f3\u4fee\u6539 map value \u4e2d\u7684\u67d0\u4e2a\u6210\u5458\u7684\u503c\uff0c\u5fc5\u987b\u6574\u4f53\u8d4b\u503c\u3002</li> </ul> <p>eg\uff1a </p><pre><code>type User struct {\n    name string\n    age  int\n}\n\nfunc main() {\n    ma := make(map[rune]User)\n    boii := User{\"Boii\", 18}\n    ma['a'] = boii\n\n    // ma['a'].age = 19  // ERROR\uff0c\u4e0d\u80fd\u901a\u8fc7 map \u5f15\u7528\u76f4\u63a5\u4fee\u6539\n\n    boii.age = 19\n    ma['a'] = boii  // \u5fc5\u987b\u6574\u4f53\u66ff\u6362\n}\n</code></pre><p></p>"},{"location":"Go/Basic/Golang-7-map/#_6","title":"\u7ec3\u4e60","text":"<ol> <li>\u5199\u4e00\u4e2a\u7a0b\u5e8f\uff0c\u7edf\u8ba1\u4e00\u4e2a\u5b57\u7b26\u4e32\u4e2d\u6bcf\u4e2a\u5355\u8bcd\u51fa\u73b0\u7684\u6b21\u6570\u3002\u6bd4\u5982\uff1a\u201dhow do you do\u201d \u4e2d how=1 do=2 you=1\u3002</li> </ol> <p>\u601d\u8def\uff1a \u5148\u7528 <code>strings.Split</code> \u628a\u5355\u8bcd\u5207\u5272\u51fa\u6765 \u7136\u540e\u5229\u7528 map \uff0c\u628a\u5355\u8bcd\u4f5c\u4e3a key\uff0c\u51fa\u73b0\u9891\u6b21\u4f5c\u4e3a value\uff0c\u904d\u5386\u4e00\u4e0b\u5c31\u80fd\u5f97\u5230\u7b54\u6848</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"strings\"\n)\n\nfunc main() {\n    str := \"how do you do I do not know how to tell you\"\n    strSplit := strings.Split(str, \" \")\n    strMap := make(map[string]int)\n    for _, word := range strSplit {\n        strMap[word] += 1\n    }\n    fmt.Println(strMap)\n}\n\n// -----------------------------------------\n// Output:\nmap[I:1 do:3 how:2 know:1 not:1 tell:1 to:1 you:2]\n</code></pre>"},{"location":"Go/Basic/Golang-8-%E5%87%BD%E6%95%B0/","title":"8.\u51fd\u6570","text":""},{"location":"Go/Basic/Golang-8-%E5%87%BD%E6%95%B0/#8-","title":"8-\u51fd\u6570","text":"<p>\u5982\u679c\u4e00\u4e2a\u52a8\u4f5c\u9700\u8981\u91cd\u590d\u6267\u884c\uff0c\u90a3\u5c31\u5e94\u8be5\u628a\u8fd9\u4e2a\u52a8\u4f5c\u5c01\u88c5\u5230\u51fd\u6570\u4e2d\u3002</p> <p>\u5728 Go \u4e2d\uff0c\u51fd\u6570\u662f\u4e00\u7b49\u516c\u6c11</p> <p>Warning</p> <p>\u51fd\u6570\u662f\u5f15\u7528\u7c7b\u578b\uff01\uff01\uff01</p>"},{"location":"Go/Basic/Golang-8-%E5%87%BD%E6%95%B0/#_1","title":"\u5b9a\u4e49","text":"<p>Go \u8bed\u8a00\u4e2d\u51fd\u6570\u7684\u57fa\u672c\u5f62\u5f0f\uff1a </p><pre><code>func \u51fd\u6570\u540d(\u53c2\u6570\u5217\u8868)(\u8fd4\u56de\u503c){\n    \u51fd\u6570\u4f53\n}\n</code></pre><p></p> <ul> <li>\u51fd\u6570\u540d\uff1a\u7531\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf\u7ec4\u6210\uff0c\u4f46\u4e0d\u80fd\u6570\u5b57\u5f00\u5934\uff1b\u540c\u4e00\u4e2a\u5305\u5185\uff0c\u51fd\u6570\u540d\u4e0d\u80fd\u91cd\u540d</li> <li>\u53c2\u6570\uff1a\u7531\u53c2\u6570\u53d8\u91cf\u548c\u53d8\u91cf\u7c7b\u578b\u7ec4\u6210\uff0c\u591a\u4e2a\u53c2\u6570\u4f7f\u7528<code>,</code> \u5206\u9694</li> <li>\u8fd4\u56de\u503c\uff1a\u7531\u8fd4\u56de\u53d8\u91cf\u548c\u53d8\u91cf\u7c7b\u578b\uff0c\u4e5f\u53ef\u53ea\u5199\u53d8\u91cf\u7c7b\u578b\uff0c\u591a\u4e2a\u8fd4\u56de\u503c\u5fc5\u987b\u7528<code>()</code>\u5305\u88f9\uff0c\u5e76\u7528<code>,</code>\u5206\u9694</li> <li>\u51fd\u6570\u4f53\uff1a\u5b9e\u73b0\u6307\u5b9a\u529f\u80fd\u7684\u4ee3\u7801</li> </ul> <p>Example</p> <p>\u6c42\u4e24\u6570\u4e4b\u548c </p><pre><code>func sum(a int, b int) int {\n    return a + b\n}\n</code></pre><p></p> <p>\u65e0\u53c2\u6570\u65e0\u8fd4\u56de\u503c\u7684\u51fd\u6570 </p><pre><code>func sayHello() {\n    fmt.Println(\"Hello\")\n}\n</code></pre><p></p>"},{"location":"Go/Basic/Golang-8-%E5%87%BD%E6%95%B0/#_2","title":"\u8c03\u7528","text":"<p>\u901a\u8fc7<code>\u51fd\u6570\u540d(\u53c2\u6570)</code>\u7684\u65b9\u5f0f\u8c03\u7528\uff0c\u5982\u679c\u5b9a\u4e49\u7684\u51fd\u6570\u6ca1\u6709\u8981\u6c42\u53c2\u6570\uff0c\u5219\u8c03\u7528\u65f6\u4e0d\u9700\u8981\u7ed9\u53c2\u6570</p> <p>Example</p> <pre><code>func main() {\n    res := sum(1, 3)\n    fmt.Println(res)\n}\n</code></pre> <p>\u8c03\u7528\u6709\u8fd4\u56de\u503c\u7684\u51fd\u6570\u65f6\u53ef\u4ee5\u4e0d\u63a5\u53d7\u5176\u8fd4\u56de\u503c\u3002</p>"},{"location":"Go/Basic/Golang-8-%E5%87%BD%E6%95%B0/#_3","title":"\u53c2\u6570","text":""},{"location":"Go/Basic/Golang-8-%E5%87%BD%E6%95%B0/#_4","title":"\u7c7b\u578b\u7b80\u5199","text":"<p>\u5982\u679c\u76f8\u90bb\u53d8\u91cf\u7c7b\u578b\u76f8\u540c\uff0c\u53ef\u4ee5\u53ea\u5199\u4e00\u4e2a</p> <p>eg\uff1a </p><pre><code>func fn(x, y int, p, q string) {\n    fmt.Println(x, y, p, q)\n}\n</code></pre> x \u548c y \u5747\u4e3a int \u578b\uff0cx \u540e\u9762\u5c31\u53ef\u7701\u7565\uff1bp \u548c q \u90fd\u662f string \u578b\uff0cp \u540e\u9762\u5c31\u53ef\u4ee5\u7701\u7565<p></p>"},{"location":"Go/Basic/Golang-8-%E5%87%BD%E6%95%B0/#_5","title":"\u53ef\u53d8\u53c2\u6570","text":"<p>\u5982\u679c\u53c2\u6570\u6570\u91cf\u4e0d\u56fa\u5b9a\uff0c\u53ef\u4ee5\u5728\u7c7b\u578b\u524d\u9762\u52a0\u4e0a<code>...</code>\uff0c\u4f46\u662f\u53ea\u80fd\u63a5\u6536\u8fd9\u79cd\u7c7b\u578b\u7684\u53c2\u6570\uff0c\u4e14\u6b64\u65f6\u8981\u6ce8\u610f\u7c7b\u578b\u7b80\u5199\u7684\u65b9\u6cd5</p> <p>\u6ce8\u610f</p> <p>\u548c\u56fa\u5b9a\u53c2\u6570\u642d\u914d\u65f6\uff0c\u53ef\u53d8\u53c2\u6570\u8981\u653e\u5728\u56fa\u5b9a\u53c2\u6570\u540e\u9762</p> <p>Example</p> <pre><code>func fn(x int, y ...int) {\n    fmt.Println(x)            // 1\n    fmt.Println(y)            // [2 3 5]\n    fmt.Printf(\"%T \\n\", y)    // []int\n}\n\nfn(1, 2, 3, 5)\n// \u9519\u8bef\uff0c\u53ea\u80fd\u4f20\u9012int\u578b\uff1afn(1, 2, \"B\", \"C\")\n// \u9519\u8bef\uff0c\u5168\u90fd\u8981int\u578b\uff1a  fn(1, \"A\", \"B\", \"C\")\n</code></pre> <p>\u53ef\u53d8\u53c2\u6570\u5b9e\u9645\u4e0a\u662f\u901a\u8fc7\u5207\u7247\u5b9e\u73b0\u7684\u3002</p> <ul> <li> <p>\u5173\u4e8e\u7c7b\u578b\u7b80\u5199\uff1a     </p><pre><code>// \u9519\u8bef\nfunc fn(x, y ...int) {}\n\n// \u6b63\u786e\nfunc fn(x ...int) {}\nfunc fn(x int, y ...int) {}\nfunc fn(x, z int, y ...int) {}\n</code></pre><p></p> </li> <li> <p>\u5173\u4e8e\u53ef\u53d8\u53c2\u6570\u4f4d\u7f6e     </p><pre><code>// \u9519\u8bef\nfunc fn(y ...int, x int) {}\nfunc fn(x int, y ...int, s string) {}\n\n// \u6b63\u786e\nfunc fn(x int, y ...int) {}\n</code></pre><p></p> </li> </ul>"},{"location":"Go/Basic/Golang-8-%E5%87%BD%E6%95%B0/#_6","title":"\u8fd4\u56de\u503c","text":""},{"location":"Go/Basic/Golang-8-%E5%87%BD%E6%95%B0/#_7","title":"\u591a\u8fd4\u56de\u503c","text":"<p>Go \u4e2d\u652f\u6301\u591a\u8fd4\u56de\u503c\uff0c\u5982\u679c\u6709\u591a\u4e2a\u8fd4\u56de\u503c\u65f6\uff0c\u5fc5\u987b\u7528<code>()</code>\u5305\u88f9\u8d77\u6765</p> <p>Example</p> <pre><code>func calc(x, y int) (int, int) {\n    return x + y, x - y\n}\n</code></pre> <p>\u8c03\u7528\u4e4b\u540e\u53ef\u4ee5\u63a5\u6536\u8fd4\u56de\u503c\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u63a5\u6536\uff0c\u5982\u679c\u6307\u5411\u63a5\u6536\u4e00\u4e2a\uff0c\u53e6\u4e00\u4e2a\u53ef\u4ee5\u7528\u533f\u540d\u53d8\u91cf <code>_</code> \u53bb\u63a5</p> <pre><code>// \u4e24\u4e2a\u90fd\u63a5\u6536\nsum, sub := calc(10, 5)\n\n// \u4e24\u4e2a\u90fd\u4e0d\u63a5\u6536\ncalc(10, 5)\n\n// \u53ea\u63a5\u6536\u4e00\u4e2a\n_, sub := calc(10, 5)\nsum, _ := calc(10, 5)\n</code></pre>"},{"location":"Go/Basic/Golang-8-%E5%87%BD%E6%95%B0/#_8","title":"\u8fd4\u56de\u503c\u547d\u540d","text":"<p>\u51fd\u6570\u5b9a\u4e49\u65f6\u53ef\u4ee5\u7ed9\u8fd4\u56de\u503c\u547d\u540d\uff0c\u5e76\u5728\u51fd\u6570\u4f53\u4e2d\u76f4\u63a5\u4f7f\u7528\u8fd9\u4e9b\u53d8\u91cf\uff0c\u6700\u540e\u901a\u8fc7<code>return</code> \u8fd4\u56de</p> <pre><code>func calc(x, y int) (sum, sub int){\n    sum = x + y\n    sub = x - y\n    return\n}\n</code></pre> <p>\u5982\u679c\u7ed9\u8fd4\u56de\u503c\u547d\u540d\u4e86\uff0c\u4f46\u662f\u53c8 return \u4e86\u522b\u7684\u53d8\u91cf\uff0c\u4ee5\u522b\u7684\u53d8\u91cf\u4e3a\u51c6 </p><pre><code>func calc(x, y int) (sum int, diff int) {\n    sum = x + y\n    diff = x - y\n    mul := x * y\n    div := x / y\n    return mul, div\n}\n\nfmt.Println(calc(10, 5))    // 50 2\n</code></pre> \u4e0a\u9762\u7684 <code>return mul, div</code> \u53ef\u4ee5\u770b\u6210 <code>mul, div = sum, diff; return sum, diff</code><p></p>"},{"location":"Go/Basic/Golang-8-%E5%87%BD%E6%95%B0/#_9","title":"\u51fd\u6570\u8fdb\u9636","text":""},{"location":"Go/Basic/Golang-8-%E5%87%BD%E6%95%B0/#_10","title":"\u53d8\u91cf\u4f5c\u7528\u57df","text":""},{"location":"Go/Basic/Golang-8-%E5%87%BD%E6%95%B0/#_11","title":"\u51fd\u6570\u7c7b\u578b","text":"<p>\u51fd\u6570\u53ef\u4ee5\u6709\u7c7b\u578b\uff0c\u4f7f\u7528\u5173\u952e\u5b57<code>type</code>\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\u7c7b\u578b</p> <p>eg\uff1a </p><pre><code>type calculation func(int, int) int\n</code></pre> \u4e0a\u9762\u7684\u4f8b\u5b50\u5b9a\u4e49\u4e86\u4e00\u4e2a <code>calculation</code> \u7c7b\u578b\uff0c\u5b83\u662f\u4e00\u79cd\u51fd\u6570\u7c7b\u578b\uff0c\u4e00\u79cd\u63a5\u6536\u4e24\u4e2aint\u53c2\u6570\u8fd4\u56de\u4e00\u4e2aint\u503c\u7684\u51fd\u6570\u7c7b\u578b\u3002 \u65b9\u5f0f\u6ee1\u8db3\u4e0a\u9762\u7279\u70b9\u7684\u51fd\u6570\u90fd\u662f calculation \u7c7b\u578b\u3002<p></p> <p>Example</p> <pre><code>func add(x int, y int) int {\n    return x + y\n}\n\nfunc sub(x, y int) int {\n    return x - y\n}\n</code></pre> <p>add() \u548c sub() \u90fd\u662f calculation \u7c7b\u578b\uff0c\u90fd\u53ef\u4ee5\u8d4b\u503c\u7ed9 calculation \u7c7b\u578b\u53d8\u91cf</p> <pre><code>var c calculation\nc = add\n\nres := c(10, 5)\nfmt.Println(res)    // 15\n\ns := sub\nfmt.Println(s(20, 55))    // -35\n</code></pre>"},{"location":"Go/Basic/Golang-8-%E5%87%BD%E6%95%B0/#_12","title":"\u51fd\u6570\u53d8\u91cf","text":"<p>\u5728 Go \u4e2d\uff0c\u51fd\u6570\u88ab\u770b\u4f5c\u662f\u7b2c\u4e00\u7c7b\u503c\uff0c\u8fd9\u610f\u5473\u7740\u51fd\u6570\u50cf\u53d8\u91cf\u4e00\u6837\uff0c\u6709\u7c7b\u578b\u3001\u6709\u503c\uff0c\u666e\u901a\u53d8\u91cf\u80fd\u505a\u7684\u4e8b\u51fd\u6570\u4e5f\u80fd\u505a\u3002</p> <p>\u4f8b\u5982\u51fd\u6570\u7c7b\u578b\u7684\u4f8b\u5b50\uff0c\u5373\u4f7f\u4e0d\u5b9a\u4e49\u51fd\u6570\u7c7b\u578b\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5c06\u51fd\u6570\u8d4b\u503c\u7ed9\u53d8\u91cf </p><pre><code>func add(x, y int) int {\n    return x + y\n}\n\nfunc main() {\n    a := add\n    fmt.Println(a(10, 20))    // 30\n}\n</code></pre><p></p> <ul> <li>\u8c03\u7528 <code>nil</code> \u7684\u51fd\u6570\u53d8\u91cf\u4f1a\u5bfc\u81f4 panic</li> <li>\u51fd\u6570\u53d8\u91cf\u7684\u96f6\u503c <code>nil</code>\uff0c\u6240\u4ee5\u51fd\u6570\u53d8\u91cf\u53ef\u4ee5\u8ddf <code>nil</code> \u6bd4\u8f83\uff0c\u4f46\u51fd\u6570\u53d8\u91cf\u4e4b\u95f4\u4e0d\u80fd\u6bd4\u8f83\u3002</li> </ul> <pre><code>package main\n\nimport \"fmt\"\n\ntype processFunc func(int) bool // \u58f0\u660e\u4e00\u4e2a\u51fd\u6570\u7c7b\u578b\n\nfunc isOdd(i int) bool { // \u5b9a\u4e49\u8fd9\u79cd\u7c7b\u578b\u7684\u51fd\u6570\n    return i%2 != 0\n}\n\nfunc isEven(i int) bool { // \u5b9a\u4e49\u8fd9\u79cd\u7c7b\u578b\u7684\u51fd\u6570\n    return i%2 == 0\n}\n\nfunc filter(slice []int, f processFunc) []int { // \u63a5\u6536\u8fd9\u79cd\u7c7b\u578b\u7684\u51fd\u6570\n    var res []int\n    for _, v := range slice {\n        if f(v) {\n            res = append(res, v)\n        }\n    }\n    return res\n}\n\nfunc main() {\n    s := []int{1, 2, 3, 4, 5, 7}\n    fmt.Println(\"s = \", s) // s =  [1 2 3 4 5 7]\n\n    odd := filter(s, isOdd)   // \u8c03\u7528\u8fd9\u79cd\u7c7b\u578b\u7684\u51fd\u6570\n    even := filter(s, isEven) // \u8c03\u7528\u8fd9\u79cd\u7c7b\u578b\u7684\u51fd\u6570\n\n    fmt.Println(\"Odd slice\", odd)   // Odd slice [1 3 5 7]\n    fmt.Println(\"Even slice\", even) // Even slice [2 4]\n}\n</code></pre>"},{"location":"Go/Basic/Golang-8-%E5%87%BD%E6%95%B0/#_13","title":"\u533f\u540d\u51fd\u6570","text":"<p>\u6ca1\u6709\u540d\u5b57\u7684\u51fd\u6570\u5c31\u53eb\u533f\u540d\u51fd\u6570 \u57fa\u672c\u8bed\u6cd5\uff1a </p><pre><code>func (\u51fd\u6570) (\u8fd4\u56de\u503c) {\n    \u51fd\u6570\u4f53\n}\n</code></pre><p></p> <p>\u533f\u540d\u51fd\u6570\u6ca1\u6709\u51fd\u6570\u540d\uff0c\u6240\u4ee5\u9700\u8981\u53d8\u91cf\u6765\u4fdd\u5b58\uff0c\u6216\u8005\u4f5c\u4e3a\u7acb\u5373\u6267\u884c\u51fd\u6570</p> <pre><code>func main() {\n    // \u5c06\u533f\u540d\u51fd\u6570\u4fdd\u5b58\u5230\u53d8\u91cf\n    add := func (x, y int) int {\n        return x + y\n    }\n    add(10, 20)    // \u901a\u8fc7\u53d8\u91cf\u8c03\u7528\u533f\u540d\u51fd\u6570\n}\n</code></pre> <pre><code>func main() {\n    // \u81ea\u6267\u884c\u51fd\u6570\uff1a\u533f\u540d\u51fd\u6570\u5b9a\u4e49\u5b8c\u52a0()\u76f4\u63a5\u6267\u884c\n    func (x, y int) {\n        fmt.Println(x + y)\n    }(10, 20)\n}\n</code></pre>"},{"location":"Go/Basic/Golang-8-%E5%87%BD%E6%95%B0/#_14","title":"\u9ad8\u9636\u51fd\u6570","text":"<p>\u9ad8\u9636\u51fd\u6570\u5206\u4e3a <code>\u51fd\u6570\u4f5c\u53c2\u6570</code> \u548c <code>\u51fd\u6570\u4f5c\u8fd4\u56de\u503c</code></p>"},{"location":"Go/Basic/Golang-8-%E5%87%BD%E6%95%B0/#_15","title":"\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570","text":"<pre><code>// \u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\uff0c\u4f7f\u7528\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\n// @param x       int                 \u64cd\u4f5c\u65701\n// @param y       int                 \u64cd\u4f5c\u65702\n// @param operate func(int, int) int  \u64cd\u4f5c\u51fd\u6570\n// @return        int                 \u7ecf\u8fc7\u64cd\u4f5c\u51fd\u6570\u64cd\u4f5c\u7684\u7ed3\u679c\nfunc calc (x int, y int, operate func(int, int) int) int {\n    return operate(x, y)\n}\n\n// \u5b9a\u4e49\u4e00\u4e2a\u64cd\u4f5c\u51fd\u6570\n// @param  x \u64cd\u4f5c\u65701\n// @param  y \u64cd\u4f5c\u65702\n// @return \u4e24\u4e2a\u64cd\u4f5c\u6570\u76f8\u52a0\u7684\u7ed3\u679c\nfunc add(x, y int) int {\n    return x + y\n}\n\nfunc main() {\n    // \u8c03\u7528 calc \u51fd\u6570\uff0c\u628a add \u51fd\u6570\u4f20\u8fdb\u53bb\n    res := calc(10, 20, add)\n    fmt.Println(res)    // 30\n}\n</code></pre>"},{"location":"Go/Basic/Golang-8-%E5%87%BD%E6%95%B0/#_16","title":"\u51fd\u6570\u4f5c\u4e3a\u8fd4\u56de\u503c","text":"<pre><code>func add(x, y int) int {\n    return x + y\n}\n\nfunc sub(x, y int) int {\n    return x - y\n}\n\n// \u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\uff0c\u6839\u636e\u4f20\u5165\u7684\u64cd\u4f5c\u7b26\u8fd4\u56de\u76f8\u5e94\u7684\u64cd\u4f5c\u51fd\u6570\n// @param s string \u64cd\u4f5c\u7b26\n// @return func(int, int) int, error \u64cd\u4f5c\u51fd\u6570\nfunc do(s string) (func(int, int) int, error) {\n    switch s {\n    case \"+\":\n        return add, nil\n    case \"-\":\n        return sub, nil\n    default:\n        return nil, errors.New(\"\u975e\u6cd5\u64cd\u4f5c\u7b26\")\n    }\n}\n\nfunc main() {\n    fn, err := do(\"+\")\n    if err == nil {\n        fmt.Println(fn(10, 20))    // 20\n    }\n}\n</code></pre>"},{"location":"Go/Basic/Golang-8-%E5%87%BD%E6%95%B0/#_17","title":"\u95ed\u5305","text":"<p>Info</p> <p>a closure is a record storing a function together with an environment.</p> <p>\u95ed\u5305 \u662f\u7531 \u51fd\u6570 \u548c\u4e0e\u5176\u76f8\u5173\u7684\u5f15\u7528 \u73af\u5883 \u7ec4\u5408\u800c\u6210\u7684\u5b9e\u4f53 \u3002</p> <p></p> <p>\u95ed\u5305\u80fd\u5c06\u5c40\u90e8\u53d8\u91cf\u5e26\u51fa\u5176\u4f5c\u7528\u57df</p> <pre><code>func adder() func() int {\n    var x int\n    return func() int {\n                x++\n                return x\n            }\n}\n\nfunc main() {\n    i := adder()\n    fmt.Println(i()) // 1\n    fmt.Println(i()) // 2\n    fmt.Println(i()) // 3\n}\n</code></pre> <p>\u76f8\u5f53\u4e8e\uff1a </p><pre><code>func adder() func() int {\n    var x int\n    f := func() int {\n        x++\n        return x\n    }\n    return f\n}\n\nfunc main() {\n    i := adder()\n    i() // 1\n    i() // 2\n    i() // 3\n}\n</code></pre><p></p> <p>\u7b49\u4e8e\u8bf4\uff0c\u5728 <code>adder()</code> \u4e2d\u58f0\u660e\u7684\u53d8\u91cf<code>x</code>\uff0c\u672c\u8be5\u5728<code>adder()</code>\u8c03\u7528\u5b8c\u5c31\u88ab\u9500\u6bc1\uff0c\u5374\u88ab\u95ed\u5305\u5e26\u51fa\u4e86<code>x</code>\u7684\u4f5c\u7528\u57df\uff08adder\u51fd\u6570\u5185\uff09\uff0c\u4f7f\u5f97\u5c40\u90e8\u53d8\u91cf<code>x</code>\u6ca1\u6709\u88ab\u9500\u6bc1\u3002</p> <p>\u5373\u5c40\u90e8\u53d8\u91cf<code>x</code>\u9003\u9038\u4e86\uff0c\u5b83\u7684\u751f\u547d\u5468\u671f\u6ca1\u6709\u968f\u7740\u5b83\u7684\u4f5c\u7528\u57df\u7ed3\u675f\u800c\u7ed3\u675f\u3002</p>"},{"location":"Go/Basic/Golang-8-%E5%87%BD%E6%95%B0/#defer","title":"defer \u8bed\u53e5","text":"<p>defer \u5c31\u662f\u5ef6\u8fdf\u7684\u610f\u601d\uff0c\u88ab <code>defer</code> \u5173\u952e\u5b57\u4fee\u9970\u7684\u51fd\u6570\u6216\u65b9\u6cd5\u4f1a\u5ef6\u8fdf\u6267\u884c\u3002</p> <p></p><pre><code>func main() {\n    fmt.Println(\"start\")\n    defer fmt.Println(1)\n    fmt.Println(\"end\")\n}\n\n// ---------------------\n// Output:\nstart\nend\n1\n</code></pre> \u7a0b\u5e8f\u5148\u6267\u884c\u7b2c\u4e00\u53e5\u6253\u5370\u4e86 start\uff0c\u5f80\u4e0b\u9047\u5230 <code>defer</code>\uff0c\u4e8e\u662f\u628a\u7b2c\u4e8c\u53e5\u5148\u538b\u5165\u6808\uff0c\u7136\u540e\u7ee7\u7eed\u6267\u884c\u7b2c\u4e09\u53e5\u6253\u5370\u4e86 end\u3002 \u518d\u7ee7\u7eed\u5f80\u4e0b\u5df2\u7ecf\u6ca1\u6709\uff0c\u51fd\u6570\u51c6\u5907\u7ed3\u675f\uff1b\u4f46\u662f\u5728\u7ed3\u675f\u4e4b\u524d\u9700\u5148\u51fa\u6808\uff0c\u4e5f\u5c31\u6267\u884c\u4e86\u7b2c\u4e8c\u53e5\uff0c\u6253\u5370\u4e86 1\u3002\u6700\u540e\u7ed3\u675f\u3002<p></p> <p>\u8fd9\u5c31\u662f <code>defer</code> \u8bed\u53e5\u3002</p> <p>Info</p> <p>\u7531\u4e8e <code>defer</code> \u8bed\u53e5\u5ef6\u8fdf\u8c03\u7528\u7684\u7279\u6027\uff0c\u6240\u4ee5 <code>defer</code> \u8bed\u53e5\u80fd\u975e\u5e38\u65b9\u4fbf\u7684\u5904\u7406\u8d44\u6e90\u91ca\u653e\u7684\u95ee\u9898\u3002\u6bd4\u5982\uff1a\u5173\u95ed\u6587\u4ef6\u3001\u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5\u3001\u8d44\u6e90\u6e05\u7406\u3001\u91ca\u653e\u9501\u3001\u8bb0\u5f55\u65f6\u95f4\u7b49\u7b49\u3002</p> <p>eg \uff1a </p><pre><code>func fn() {\n    f, err := os.Open(\"./main.go\")    // \u6253\u5f00\u6587\u4ef6\n    defer f.Close()                   // \u51fd\u6570\u9000\u51fa\u4e4b\u524d\u5173\u95ed\u6587\u4ef6\n\n    if err != nil {\n        fmr.Println(err)\n        return\n    }\n}\n</code></pre><p></p>"},{"location":"Go/Basic/Golang-8-%E5%87%BD%E6%95%B0/#defer_1","title":"\u591a\u4e2a defer \u7684\u6267\u884c\u987a\u5e8f","text":"<p>\u5f53\u6709\u591a\u4e2a <code>defer</code>\u65f6\uff0c\u6309\u7167\u6808\u7684\u65b9\u5f0f\u6267\u884c\u3002\u5373\u5148<code>defer</code>\u7684\u540e\u6267\u884c\u3002 eg\uff1a </p><pre><code>func fn() {\n    fmt.Println(\"start\")\n    defer fmt.Println(1)\n    defer fmt.Println(2)\n    defer fmt.Println(3)\n    fmt.Println(\"end\")\n}\n// ---------------------\n// Output:\nstart\nend\n3\n2\n1\n</code></pre><p></p>"},{"location":"Go/Basic/Golang-8-%E5%87%BD%E6%95%B0/#defer_2","title":"defer \u6267\u884c\u65f6\u673a","text":"<p>Go \u4e2d\u7684 <code>return</code>\u8bed\u53e5\u5e76\u4e0d\u662f\u539f\u5b50\u64cd\u4f5c\uff0c\u5b83\u5206\u4e3a \u7ed9\u8fd4\u56de\u503c\u8d4b\u503c \u548c RET\u6307\u4ee4 \u4e24\u6b65\u3002 \u800c <code>defer</code> \u8bed\u53e5\u6267\u884c\u7684\u65f6\u673a\u5728\u8fd4\u56de\u503c\u8d4b\u503c\u4e4b\u540e\uff0cRET\u6307\u4ee4\u6267\u884c\u4e4b\u524d\u3002</p> <p></p>"},{"location":"Go/Basic/Golang-9-%E6%8C%87%E9%92%88/","title":"9.\u6307\u9488","text":""},{"location":"Go/Basic/Golang-9-%E6%8C%87%E9%92%88/#9-","title":"9-\u6307\u9488","text":"<p>\u533a\u522b\u4e8eC/C++\u4e2d\u7684\u6307\u9488\uff0cGo\u4e2d\u7684\u6307\u9488\u4e0d\u80fd\u8fdb\u884c\u504f\u79fb\u548c\u8fd0\u7b97\uff0c\u662f\u5b89\u5168\u6307\u9488\uff0c</p> <p>\u4efb\u4f55\u7a0b\u5e8f\u6570\u636e\u8f7d\u5165\u5185\u5b58\u540e\uff0c\u5728\u5185\u5b58\u90fd\u6709\u4ed6\u4eec\u7684\u5730\u5740\uff0c\u8fd9\u5c31\u662f\u6307\u9488\u3002 \u4e3a\u4e86\u4fdd\u5b58\u4e00\u4e2a\u6570\u636e\u5728\u5185\u5b58\u4e2d\u7684\u5730\u5740\uff0c\u6211\u4eec\u5c31\u9700\u8981\u6307\u9488\u3002</p> <p>Go \u4e2d\u7684\u6307\u9488\u64cd\u4f5c\u975e\u5e38\u7b80\u5355\uff1a<code>&amp;</code>\u53d6\u5730\u5740\u7b26\u3001<code>*</code>\u6839\u636e\u5730\u5740\u53d6\u503c\u3002</p> <p>Warning</p> <p>\u6307\u9488\u662f\u503c\u7c7b\u578b\uff01\uff01\uff01</p>"},{"location":"Go/Basic/Golang-9-%E6%8C%87%E9%92%88/#_1","title":"\u5b9a\u4e49\u6307\u9488\u3001\u6307\u9488\u53d6\u5730\u5740","text":"<pre><code>var idn *T\nvar idn *T = &amp;variable\nidn := &amp;variable\n</code></pre> <code>idn</code>\uff1a\u6307\u9488\u540d\u3001<code>T</code>\u6307\u9488\u57fa\u7c7b\u578b\u3001<code>*T</code>\u67d0\u7c7b\u578b\u6307\u9488\u3001<code>variable</code>\uff1a\u53d8\u91cf\u3001<code>&amp;variable</code>\uff1a\u53d6\u53d8\u91cf\u5730\u5740 <p>Go \u4e2d\u7684\u503c\u7c7b\u578b\uff08int\u3001float\u3001bool\u3001string\u3001\u6570\u7ec4\u3001struct\u7ed3\u6784\u4f53\uff09\u90fd\u6709\u5bf9\u5e94\u7c7b\u578b\u6307\u9488\uff0c\u5982 <code>*int\u3001*float\u3001*string\u3001*bool\u3001*[5]int</code>\u3002</p> <pre><code>func main() {\n    i := 1\n    var p *int = &amp;i\n\n    fmt.Printf(\"i:     %d \\n\", i)      // i:    1 \n    fmt.Printf(\"iaddr: %p \\n\", &amp;i)     // addr: 0xc000012090 \n    fmt.Printf(\"p:     %p \\n\", p)      // p:    0xc000012090\n    fmt.Printf(\"paddr: %p \\n\", &amp;p)     // addr: 0xc000006028 \n    fmt.Printf(\"pint Type: %T \\n\", p)  // pint Type: *int\n}\n</code></pre> <p></p>"},{"location":"Go/Basic/Golang-9-%E6%8C%87%E9%92%88/#_2","title":"\u6307\u9488\u53d6\u503c","text":"<p>\u5b9a\u4e49\u6307\u9488\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u5bf9\u6307\u9488\u8fdb\u884c\u64cd\u4f5c\u4e86\u3002 \u6307\u9488\u7684\u64cd\u4f5c\u6709\u4e24\u79cd\uff1a<code>&amp;</code>\u53d6\u5730\u5740\u3001<code>*</code>\u6839\u636e\u5730\u5740\u53d6\u503c</p> <p></p><pre><code>func main() {\n\n    // \u6307\u9488\u53d6\u503c\n    a := 10\n    b := &amp;a\n    fmt.Println(b)  // b \u4e2d\u4fdd\u5b58\u7740 a \u7684\u5730\u5740\n    fmt.Println(&amp;a) // \u53d6 a \u7684\u5730\u5740\n    fmt.Println(a)  // a \u7684\u503c\n    fmt.Println(*b) // \u53d6 b\n}\n\n// ------------------------------------\n// Output:\n0xc000012090\n0xc000012090\n10\n10\n</code></pre> \u53d6\u5730\u5740\u64cd\u4f5c\u7b26<code>&amp;</code>\u548c\u53d6\u503c\u64cd\u4f5c\u7b26<code>*</code>\u662f\u4e00\u5bf9\u4e92\u8865\u64cd\u4f5c\u7b26\uff0c<code>&amp;</code>\u53d6\u51fa\u5730\u5740\uff0c<code>*</code>\u6839\u636e\u5730\u5740\u53d6\u51fa\u5730\u5740\u6307\u5411\u7684\u503c\u3002<p></p> <p>\u53d8\u91cf\u3001\u6307\u9488\u5730\u5740\u3001\u6307\u9488\u53d8\u91cf\u3001\u53d6\u5730\u5740\u3001\u53d6\u503c\u7684\u76f8\u4e92\u5173\u7cfb\u548c\u7279\u6027\u5982\u4e0b\uff1a</p> <ul> <li>\u5bf9\u53d8\u91cf\u8fdb\u884c\u53d6\u5730\u5740\uff08&amp;\uff09\u64cd\u4f5c\uff0c\u53ef\u4ee5\u83b7\u5f97\u8fd9\u4e2a\u53d8\u91cf\u7684\u6307\u9488\u53d8\u91cf\u3002</li> <li>\u6307\u9488\u53d8\u91cf\u7684\u503c\u662f\u6307\u9488\u5730\u5740\u3002</li> <li>\u5bf9\u6307\u9488\u53d8\u91cf\u8fdb\u884c\u53d6\u503c\uff08*\uff09\u64cd\u4f5c\uff0c\u53ef\u4ee5\u83b7\u5f97\u6307\u9488\u53d8\u91cf\u6307\u5411\u7684\u539f\u53d8\u91cf\u7684\u503c\u3002</li> </ul>"},{"location":"Go/Basic/Golang-9-%E6%8C%87%E9%92%88/#_3","title":"\u7ed3\u6784\u4f53\u6307\u9488","text":"<p>\u7ed3\u6784\u4f53\u6307\u9488\u8bbf\u95ee\u7ed3\u6784\u4f53\u5b57\u6bb5 \u540c \u7ed3\u6784\u4f53\u53d8\u91cf\u8bbf\u95ee\u7ed3\u6784\u4f53\u5b57\u6bb5\u4e00\u6837\uff0c\u4f7f\u7528 <code>.</code> \u70b9\u64cd\u4f5c\u7b26\uff0cGo \u6ca1\u6709 <code>-&gt;</code> \u64cd\u4f5c\u7b26\u3002</p> <p>eg:</p> <pre><code>type User struct {    // \u5b9a\u4e49\u7ed3\u6784\u4f53\n    name string\n    age  int\n}\n\nBoii := User {    // \u5b9a\u4e49\u7ed3\u6784\u4f53\u53d8\u91cf\n    name: \"Boii\",\n    age:  18\n}\n\np := &amp;Boii    // \u5b9a\u4e49\u7ed3\u6784\u4f53\u6307\u9488\n\nfmt.Println(p.name)    // \u7528 . \u70b9\u64cd\u4f5c\u7b26\u8bbf\u95ee\u6210\u5458 Boii\n</code></pre>"},{"location":"Go/Basic/Golang-9-%E6%8C%87%E9%92%88/#_4","title":"\u6307\u9488\u505a\u5f62\u53c2","text":"<pre><code>func fn1(x int) {\n    x = 100\n}\n\nfunc fn2(x *int) {\n    *x = 100\n}\n\nfunc main() {\n    var a int = 10\n    fn1(a)\n    fmt.Println(a) // 10\n\n    var b *int = &amp;a\n    fn2(b)\n    fmt.Println(a) // 100\n}\n</code></pre>"},{"location":"Go/Basic/Golang-9-%E6%8C%87%E9%92%88/#_5","title":"\u6307\u9488\u505a\u8fd4\u56de\u503c","text":"<p>Go \u5141\u8bb8\u4f7f\u7528\u201c\u6808\u9003\u9038\u201d\u673a\u5236\u5c06\u5c40\u90e8\u53d8\u91cf\u7684\u7a7a\u95f4\u5206\u914d\u5728\u5806\u4e0a\u3002 \u4f7f\u7528\u8fd9\u79cd\u673a\u5236\uff0c\u9700\u8981\u8fd4\u56de\u6307\u9488</p> <p>eg\uff1a </p><pre><code>func add(a, b int) *int {\n    sum := a + b\n    return &amp;sum\n}\n\nfunc main() {\n    psum := add(10, 20)\n    fmt.Println(psum)  // 0xc000012090\n    fmt.Println(*psum) // 30\n}\n</code></pre><p></p>"},{"location":"Go/Basic/Golang-9-%E6%8C%87%E9%92%88/#new-make","title":"new \u548c make","text":""},{"location":"Go/Basic/Golang-9-%E6%8C%87%E9%92%88/#new","title":"new","text":"<p>new \u662f\u4e00\u4e2a\u5185\u7f6e\u51fd\u6570\uff0c\u5b83\u7684\u51fd\u6570\u7b7e\u540d\u5982\u4e0b\uff1a </p><pre><code>func new(Type) *Type\n</code></pre> <code>Type</code> \u8868\u793a\u7c7b\u578b\uff0cnew\u51fd\u6570\u53ea\u63a5\u6536\u4e00\u4e2a\u53c2\u6570\uff0c\u8fd9\u4e2a\u53c2\u6570\u53ea\u80fd\u662f\u7c7b\u578b <code>*Type</code> \u8868\u793a\u7c7b\u578b\u6307\u9488\uff0cnew \u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u6307\u5411\u8be5\u7c7b\u578b\u5185\u5b58\u5730\u5740\u7684\u6307\u9488<p></p> <p>new\u51fd\u6570\u53ef\u4ee5\u63a5\u53d7\u6240\u6709\u7c7b\u578b\uff0c\u4f7f\u7528new\u51fd\u6570\u53ef\u4ee5\u5f97\u5230\u7c7b\u578b\u7684\u6307\u9488\uff0c\u5e76\u4e14\u8fd9\u4e2a\u6307\u9488\u6307\u5411\u7684\u5185\u5b58\u5730\u5740\u4e2d\u5b58\u7740\u8be5\u7c7b\u578b\u7684\u96f6\u503c\u3002 </p><pre><code>func main() {\n    a := new(int)\n    b := new([5]int)\n    c := new([]string)\n    d := new(map[int]string)\n    fmt.Printf(\"a type: %T \\n\", a) // a type: *int\n    fmt.Printf(\"b type: %T \\n\", b) // b type: *[5]int\n    fmt.Printf(\"c type: %T \\n\", c) // c type: *[]string\n    fmt.Printf(\"d type: %T \\n\", d) // d type: *map[int]string\n\n    fmt.Println(*a) // 0\n    fmt.Println(*b) // [0 0 0 0 0]\n    fmt.Println(*c) // []\n    fmt.Println(*d) // map[]\n}\n</code></pre> new \u51fd\u6570\u4f1a\u5f00\u8f9f\u4e00\u5757\u7a7a\u95f4\uff0c\u7136\u540e\u628a\u8fd9\u5757\u7a7a\u95f4\u7684\u5730\u5740\u8fd4\u56de\u51fa\u53bb\uff0c\u8fd9\u6837\u5916\u9762\u7684\u6307\u9488\u53d8\u91cf\uff08a\u3001b\u3001c\u3001d\uff09\u5c31\u53ef\u4ee5\u64cd\u4f5c\u4e86\u3002 \u5982\u679c\u4ec5\u4ec5\u53ea\u662f\u58f0\u660e\u4e00\u4e2a\u6307\u9488\u53d8\u91cf\uff0c\u800c\u6ca1\u6709\u5f00\u8f9f\u5185\u5b58\u7a7a\u95f4\uff0c\u8fd9\u4e2a\u6307\u9488\u53d8\u91cf\u662f\u65e0\u6cd5\u4f7f\u7528\u7684\u3002<p></p> <ul> <li> <p>\u4ee5\u4e0b\u4e3a\u9519\u8bef\u793a\u4f8b\uff1a</p> <p></p><pre><code>func main() {\n    var i *int\n    fmt.Println(i)\n    *i = 10    // \u8fd9\u91cc\u4f1a\u5f15\u53d1 panic\n}\n\n// ------------------------------------\n// Output:\n&lt;nil&gt;\npanic: runtime error: invalid memory address or nil pointer dereference\n[signal 0xc0000005 code=0x1 addr=0x0 pc=0x97581b]\n\ngoroutine 1 [running]:\nmain.main()\n    e:/---CODE/GO/src/Hello/main.go:23 +0x7b\nexit status 2\n</code></pre> \u4ece\u4e0a\u9762\u4f8b\u5b50\u53ef\u4ee5\u770b\u5230\uff0c\u58f0\u660e\u4e86\u4e00\u4e2a\u6307\u9488\uff0c\u9ed8\u8ba4\u503c\u4e3a <code>nil</code>\u3002 \u5728\u6ca1\u6709\u5206\u914d\u5185\u5b58\u7684\u60c5\u51b5\u4e0b\u53bb\u4f7f\u7528\u6307\u9488\uff0c\u4f1a\u5bfc\u81f4 <code>panic</code>\u3002<p></p> </li> <li> <p>\u4ee5\u4e0b\u4e3a\u6b63\u786e\u793a\u4f8b\uff1a     </p><pre><code>func main() {\n    var i *int          // \u58f0\u660e\u4e00\u4e2a\u6307\u9488\u53d8\u91cf\n    fmt.Println(i)      // &lt;nil&gt; | \u9ed8\u8ba4\u503c\u4e3a nil\n    i = new(int)        // \u7ed9\u8fd9\u4e2a\u6307\u9488\u5206\u914d\u5185\u5b58\n    *i = 10             // \u5b58\u4e2a\u503c\u8fdb\u53bb\n    fmt.Println(i)      // 0xc000012098 | \u5df2\u7ecf\u6709\u5185\u5b58\u7a7a\u95f4\u4e86\n    fmt.Println(*i)     // 10 | \u6b63\u5e38~~\n}\n</code></pre><p></p> </li> </ul>"},{"location":"Go/Basic/Golang-9-%E6%8C%87%E9%92%88/#make","title":"make","text":"<p>make \u4e5f\u662f\u7528\u4e8e\u5206\u914d\u5185\u5b58\uff0c\u4f46\u662f\u53ea\u80fd\u7528\u4e8e<code>slice\u5207\u7247\u3001map\u5b57\u5178\u3001chan\u901a\u9053</code>\u7684\u5185\u5b58\u521b\u5efa\uff0c\u800c\u4e14\u5b83\u8fd4\u56de\u7684\u7c7b\u578b \u5c31\u662f\u8fd9\u4e09\u4e2a\u7c7b\u578b\u672c\u8eab\uff0c\u56e0\u4e3a\u8fd9\u4e09\u79cd\u7c7b\u578b\u5c31\u662f\u5f15\u7528\u7c7b\u578b\uff0c\u6240\u4ee5\u6ca1\u5fc5\u8981\u8fd4\u56de\u4ed6\u4eec\u7684\u6307\u9488\u4e86\u3002</p> <p>make \u7684\u51fd\u6570\u7b7e\u540d\u5982\u4e0b\uff1a </p><pre><code>func make(t Type, size ...IntegerType) Type\n</code></pre><p></p> <p>\u5728\u4f7f\u7528 <code>slice\u3001map\u3001chan</code>\u7684\u65f6\u5019\uff0c\u90fd\u9700\u8981\u4f7f\u7528 make \u8fdb\u884c\u521d\u59cb\u5316\uff0c\u7136\u540e\u624d\u53ef\u4ee5\u5bf9\u5b83\u4eec\u8fdb\u884c\u64cd\u4f5c</p> <pre><code>func main() {\n    c := new([]string)\n    s := make([]string, 10)\n    d := new(map[int]string)\n    e := make(map[int]string)\n\n    fmt.Printf(\"c type: %T \\n\", c) // c type: *[]string    | string\u5207\u7247\u7c7b\u578b\u7684\u6307\u9488\n    fmt.Printf(\"s type: %T \\n\", s) // s type: []string     | string\u5207\u7247\n    fmt.Printf(\"d type: %T \\n\", d) // d type: *map[int]string | map\u7c7b\u578b\u7684\u6307\u9488\n    fmt.Printf(\"e type: %T \\n\", e) // e type: map[int]string  | map\n}\n</code></pre>"},{"location":"Go/Basic/Golang-9-%E6%8C%87%E9%92%88/#new-make_1","title":"new \u548c make \u7684\u533a\u522b","text":"<ul> <li>new \u8fd4\u56de\u7684\u662f \u6307\u9488\uff0cmake\u8fd4\u56de\u7684\u662f \u7c7b\u578b\u672c\u8eab</li> <li>new \u53ef\u4ee5\u7ed9\u6240\u6709\u7c7b\u578b\u7684 \u6307\u9488\u5f00\u8f9f\u7a7a\u95f4\uff0cmake \u53ea\u80fd\u7528\u4e8e <code>slice\u3001map\u3001chan</code>\u7684 \u521d\u59cb\u5316</li> </ul>"},{"location":"Go/Basic/Golang-Go-Module/","title":"Go Module","text":""},{"location":"Go/Basic/Golang-Go-Module/#go-module","title":"Go Module","text":""},{"location":"Go/Basic/Golang-Go-Module/#go111module","title":"\u542f\u7528 GO111MODULE","text":"<p>\u7248\u672c\u8981\u6c42\uff1ago 1.11+\uff0c1.13\u8d77\u9ed8\u8ba4\u5f00\u542f</p> <p>\u542f\u7528 go module \u652f\u6301\u9996\u5148\u8981\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff0c\u6709\u4e09\u4e2a\u53ef\u9009\u503c\uff1a</p> <ul> <li>auto</li> <li>on</li> <li>off</li> </ul> <p>\u9ed8\u8ba4\u662f auto</p> <ol> <li><code>GO111MODULE=off</code> \u7981\u7528\u6a21\u5757\u652f\u6301\uff0c\u7f16\u8bd1\u65f6\u4f1a\u4ece <code>GOPATH</code> \u548c <code>vendor</code> \u6587\u4ef6\u5939\u4e2d\u67e5\u627e\u5305\u3002</li> <li><code>GO111MODULE=on</code> \u5f00\u542f\u6a21\u5757\u652f\u6301\uff0c\u7f16\u8bd1\u65f6\u4f1a\u5ffd\u7565 <code>GOPATH</code> \u548c <code>vendor</code> \u6587\u4ef6\u5939\uff0c\u53ea\u6839\u636e <code>go.mod</code> \u4e0b\u8f7d\u4f9d\u8d56\u3002</li> <li><code>GO111MODULE=auto</code>\uff0c\u5f53\u9879\u76ee\u5728 <code>$GOPATH/src</code> \u5916\u4e14\u9879\u76ee\u6839\u76ee\u5f55\u6709 <code>go.mod</code> \u6587\u4ef6\u65f6\uff0c\u5f00\u542f\u6a21\u5757\u652f\u6301\u3002</li> </ol> <p>\u8bbe\u7f6e <code>GO111MODULE=on</code> \u4e4b\u540e\u5c31\u53ef\u4ee5\u4f7f\u7528 <code>go module</code> \u4e86\uff0c\u4ee5\u540e\u5c31\u6ca1\u5fc5\u8981\u5728 <code>GOPATH</code> \u4e2d\u521b\u5efa\u9879\u76ee\u4e86\u3002</p> <p>\u4f7f\u7528 go module \u7ba1\u7406\u4f9d\u8d56\u540e\u4f1a\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u751f\u6210\u4e24\u4e2a\u6587\u4ef6 <code>go.mod</code> \u548c <code>go.sum</code>\u3002</p> <p>\u5f00\u542f\u65b9\u5f0f\uff1a</p> WindowsLinux <p>\u5728\u73af\u5883\u53d8\u91cf\u4e2d\u6dfb\u52a0\u4e00\u6761\u503c</p> <p></p> <p>\u76f4\u63a5\u6267\u884c\u547d\u4ee4\u5230 <code>/etc/profile</code> \u6216 <code>$HOME/.profile</code></p> <p></p><pre><code>$ echo \"export GO111MODULE=auto\" &gt;&gt; /etc/profile\n</code></pre> \u6216\u8005 <pre><code>$ go env -w GO111MODULE=auto\n</code></pre><p></p>"},{"location":"Go/Basic/Golang-Go-Module/#go-mod","title":"go mod \u547d\u4ee4","text":"<p>\u5e38\u7528 <code>go mod</code> \u547d\u4ee4\u5982\u4e0b\uff1a</p> <pre><code>go mod init     \u521d\u59cb\u5316\u5f53\u524d\u6587\u4ef6\u5939\uff0c\u521b\u5efa go.mod \u6587\u4ef6\ngo mod download \u4e0b\u8f7d\u4f9d\u8d56\u7684 module \u5230\u672c\u5730cache\uff08\u9ed8\u8ba4\u4e3a $GOPATH/pkg/mod\uff0c\u4f7f\u7528\u547d\u4ee4 go env GOMODCACHE \u53ef\u67e5\u770b\uff09\ngo mod edit     \u7f16\u8f91 go.mod \u6587\u4ef6\ngo mod graph    \u6253\u5370\u6a21\u5757\u4f9d\u8d56\u56fe\ngo mod tidy     \u589e\u52a0\u7f3a\u5c11\u7684 module\uff0c\u5220\u9664\u65e0\u7528\u7684 module\ngo mod vendor   \u5c06\u4f9d\u8d56\u590d\u5236\u5230 vendor \u4e0b\uff0cvendor \u76ee\u5f55\u4e0d\u5b58\u5728\u65f6\u4f1a\u81ea\u52a8\u521b\u5efa\ngo mod verify   \u68c0\u9a8c\u4f9d\u8d56\ngo mod why      \u89e3\u91ca\u4e3a\u4ec0\u4e48\u8981\u4f9d\u8d56\n</code></pre>"},{"location":"Go/Basic/Golang-Go-Module/#go-mod-init","title":"go mod init \u521d\u59cb\u5316","text":"<p>\u521d\u59cb\u5316\u5f53\u524d\u6587\u4ef6\u5939\uff0c\u521b\u5efa go.mod \u6587\u4ef6\u3002</p> <p>\u7b2c\u4e00\u6b65\uff0c\u5207\u6362\u5230\u9879\u76ee\u76ee\u5f55\u4e2d \u7b2c\u4e8c\u6b65\uff0c\u6267\u884c\u547d\u4ee4 <code>go mod init module\u540d</code></p> <p>eg\uff1a</p> <p></p>"},{"location":"Go/Basic/Golang-Go-Module/#go-mod-tidy","title":"go mod tidy \u6574\u7406\u4f9d\u8d56","text":"<p>\u6211\u4eec\u5728\u4ee3\u7801\u4e2d\u5220\u9664\u4f9d\u8d56\u4ee3\u7801\u540e\uff0c\u76f8\u5173\u7684\u4f9d\u8d56\u5e93\u5e76\u4e0d\u4f1a\u5728 <code>go.mod</code> \u6587\u4ef6\u4e2d\u81ea\u52a8\u79fb\u9664\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>go mod tidy</code> \u547d\u4ee4\u66f4\u65b0 <code>go.mod</code> \u4e2d\u7684\u4f9d\u8d56\u5173\u7cfb\u3002</p> <pre><code>$ go mod tidy\n</code></pre>"},{"location":"Go/Basic/Golang-Go-Module/#go-mod-edit-mod","title":"go mod edit \u7f16\u8f91mod\u6587\u4ef6","text":""},{"location":"Go/Basic/Golang-Go-Module/#_1","title":"\u683c\u5f0f\u5316","text":"<p>\u56e0\u4e3a\u6211\u4eec\u53ef\u4ee5\u624b\u52a8\u4fee\u6539go.mod\u6587\u4ef6\uff0c\u6240\u4ee5\u6709\u4e9b\u65f6\u5019\u9700\u8981\u683c\u5f0f\u5316\u8be5\u6587\u4ef6\u3002Go\u63d0\u4f9b\u4e86\u4e00\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>$ go mod edit -fmt\n</code></pre>"},{"location":"Go/Basic/Golang-Go-Module/#_2","title":"\u6dfb\u52a0\u4f9d\u8d56\u9879","text":"<pre><code>$ go mod edit -require=\u8981\u6dfb\u52a0\u7684\u6a21\u5757\n</code></pre> <p>eg\uff1a </p><pre><code>$ go mod edit -require=rsc.io/quote\n</code></pre><p></p>"},{"location":"Go/Basic/Golang-Go-Module/#_3","title":"\u79fb\u9664\u4f9d\u8d56\u9879","text":"<pre><code>$ go mod edit -droprequire=\u8981\u79fb\u9664\u7684\u6a21\u5757\n</code></pre> <p>eg\uff1a </p><pre><code>$ go mod edit -require=github.com/sirupsen/logrus@v1.7.1\n</code></pre><p></p>"},{"location":"Go/Basic/Golang-Go-Module/#go-get","title":"go get","text":"<p>\u5728\u9879\u76ee\u4e2d\u6267\u884c <code>go get</code> \u547d\u4ee4\u53ef\u4ee5\u4e0b\u8f7d\u4f9d\u8d56\u5305\uff0c\u5e76\u4e14\u8fd8\u53ef\u4ee5\u6307\u5b9a\u4e0b\u8f7d\u7684\u7248\u672c\u3002</p> <ol> <li>\u8fd0\u884c <code>go get -u</code> \u5c06\u4f1a\u5347\u7ea7\u5230\u6700\u65b0\u7684\u6b21\u8981\u7248\u672c\u6216\u8005\u4fee\u8ba2\u7248\u672c(x.y.z, z\u662f\u4fee\u8ba2\u7248\u672c\u53f7\uff0c y\u662f\u6b21\u8981\u7248\u672c\u53f7)</li> <li>\u8fd0\u884c <code>go get -u=patch</code> \u5c06\u4f1a\u5347\u7ea7\u5230\u6700\u65b0\u7684\u4fee\u8ba2\u7248\u672c</li> <li>\u8fd0\u884c <code>go get package@version</code> \u5c06\u4f1a\u5347\u7ea7\u5230\u6307\u5b9a\u7684\u7248\u672c\u53f7 version</li> </ol> <pre><code>$ go get \n</code></pre> <p>\u5982\u679c\u4e0b\u8f7d\u6240\u6709\u4f9d\u8d56\u53ef\u4ee5\u4f7f\u7528 <code>go mod download</code> \u547d\u4ee4\u3002</p>"},{"location":"Go/Basic/Golang-Go-Module/#gomod","title":"go.mod \u6587\u4ef6","text":"<p><code>go.mod</code> \u6709 5 \u79cd\u6307\u4ee4\uff1a<code>module</code>\u3001<code>go</code>\u3001<code>require</code>\u3001<code>exclude</code>\u3001<code>replace</code></p> <ul> <li>module\uff1a\u5b9a\u4e49\u6a21\u5757\u8def\u5f84</li> <li>go\uff1a\u8bbe\u7f6e\u9884\u671f\u7684\u8bed\u8a00\u7248\u672c</li> <li>require\uff1a\u4f9d\u8d56\u5305\u5217\u8868\u53ca\u7248\u672c</li> <li>exclude\uff1a\u7981\u6b62\u4f9d\u8d56\u5305\u5217\u8868\uff08\u4ec5\u5728\u5f53\u524d\u6a21\u5757\u4e3a\u4e3b\u6a21\u5757\u65f6\u751f\u6548\uff09</li> <li>replace\uff1a\u66ff\u6362\u4f9d\u8d56\u5305\u5217\u8868\uff08\u4ec5\u5728\u5f53\u524d\u6a21\u5757\u4e3a\u4e3b\u6a21\u5757\u65f6\u751f\u6548\uff09</li> </ul> <pre><code>module my/thing\n\ngo 1.16\n\nrequire other/thing v1.0.2 // \u8fd9\u662f\u6ce8\u91ca\nrequire new/thing/v2 v2.3.4 // indirect\nrequire\uff08\n  new/thing v2.3.4\n  old/thing v0.0.0-20190603091049-60506f45cf65\n\uff09\n\nexclude old/thing v1.2.3\n\nreplace bad/thing v1.4.5 =&gt; good/thing v1.4.5\n</code></pre>"},{"location":"Go/Basic/Golang-Go-Module/#_4","title":"\u8bed\u4e49\u5316\u7248\u672c","text":"<p>\u8bed\u4e49\u5316\u7248\u672c\u53f7\u683c\u5f0f\u4e3a\uff1a<code>X.Y.Z</code>\uff08\u4e3b\u7248\u672c\u53f7.\u6b21\u7248\u672c\u53f7.\u4fee\u8ba2\u53f7\uff09\uff0c\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff1a</p> <ul> <li>\u8fdb\u884c\u4e0d\u5411\u4e0b\u517c\u5bb9\u7684\u4fee\u6539\u65f6\uff0c\u9012\u589e\u4e3b\u7248\u672c\u53f7\u3002</li> <li>API \u4fdd\u6301\u5411\u4e0b\u517c\u5bb9\u7684\u65b0\u589e\u53ca\u4fee\u6539\u65f6\uff0c\u9012\u589e\u6b21\u7248\u672c\u53f7\u3002</li> <li>\u4fee\u590d\u95ee\u9898\u4f46\u4e0d\u5f71\u54cd API \u65f6\uff0c\u9012\u589e\u4fee\u8ba2\u53f7\u3002</li> </ul> <p>\u4f8b\u5982\uff1a \u6709\u4e00\u4e2a\u8bed\u4e49\u5316\u7248\u672c\u53f7\u4e3a\uff1a<code>v0.1.2</code>\uff0c\u5219\u5176\u4e3b\u7248\u672c\u53f7\u4e3a 0\uff0c\u6b21\u7248\u672c\u4e3a 1\uff0c\u4fee\u8ba2\u53f7\u4e3a 2\u3002</p> <p>\u800c\u524d\u9762\u7684 v \u662f version\uff08\u7248\u672c\uff09\u7684\u9996\u5b57\u6bcd\uff0c\u662f Go \u8bed\u8a00\u60ef\u4f8b\u4f7f\u7528\u7684\uff0c\u6807\u51c6\u7684\u8bed\u4e49\u5316\u7248\u672c\u6ca1\u6709\u8fd9\u4e2a\u7ea6\u5b9a\u3002</p> <p>\u6240\u4ee5\u5728\u4f7f\u7528 Go \u547d\u4ee4\u884c\u5de5\u5177\u6216 go.mod \u6587\u4ef6\u65f6\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528\u8bed\u4e49\u5316\u7248\u672c\u53f7\u6765\u8fdb\u884c\u6a21\u5757\u67e5\u8be2\uff0c\u5177\u4f53\u89c4\u5219\u5982\u4e0b\uff1a</p> <ul> <li>\u9ed8\u8ba4\u503c\uff08<code>@latest</code>\uff09\uff1a\u5c06\u5339\u914d**\u6700\u65b0\u53ef\u7528**\u7684\u6807\u7b7e\u7248\u672c\u6216\u6e90\u7801\u5e93\u7684\u6700\u65b0\u672a\u6807\u7b7e\u7248\u672c\u3002</li> <li>\u6307\u5b9a\u67d0\u4e2a commit\uff08<code>@c854792</code>\uff09\uff1a\u5c06\u5339\u914d\u8be5 commit \u65f6\u7684\u7248\u672c\u3002</li> <li>\u6307\u5b9a\u67d0\u4e2a\u5206\u652f\uff08<code>@master</code>\uff09\uff1a\u5c06\u5339\u914d\u8be5**\u5206\u652f**\u7248\u672c\u3002</li> <li>\u5b8c\u5168\u6307\u5b9a\u7248\u672c\uff08<code>@v1.2.3</code>\uff09\uff1a\u5c06\u5339\u914d\u8be5**\u6307\u5b9a**\u7248\u672c\u3002</li> <li>\u7248\u672c\u524d\u7f00\uff08<code>@v1 \u6216 @v1.2</code>\uff09\uff1a\u5c06\u5339\u914d\u5177\u6709\u8be5**\u524d\u7f00**\u7684**\u6700\u65b0\u53ef\u7528**\u6807\u7b7e\u7248\u672c\u3002</li> <li>\u7248\u672c\u6bd4\u8f83\uff08<code>@&lt;v1.2.3 \u6216 @&gt;=v1.5.6</code>\uff09\uff1a\u5c06\u5339\u914d**\u6700\u63a5\u8fd1\u6bd4\u8f83\u76ee\u6807**\u7684\u53ef\u7528\u6807\u7b7e\u7248\u672c\u3002&lt; \u5219\u4e3a\u5c0f\u4e8e\u8be5\u7248\u672c\u7684\u6700\u65b0\u7248\u672c\uff0c&gt; \u5219\u4e3a\u5927\u4e8e\u7248\u672c\u7684\u6700\u65e7\u7248\u672c\u3002\u5f53\u4f7f\u7528\u7c7b Unix \u7cfb\u7edf\u65f6\uff0c\u9700\u7528\u5f15\u53f7\u5c06\u5b57\u7b26\u4e32\u5305\u88f9\u8d77\u6765\u4ee5\u9632\u6b62\u5927\u4e8e\u5c0f\u4e8e\u53f7\u88ab\u89e3\u91ca\u4e3a\u91cd\u5b9a\u5411\u3002     \u5982\uff1a<code>go get 'github.com/gin-gonic/gin@&lt;v1.2.3'</code>\u3002</li> </ul> <p></p> <p>\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u4e3a\u4e86\u80fd\u8ba9 Go Modules \u7684\u4f7f\u7528\u8005\u80fd\u591f\u4ece\u65e7\u7248\u672c\u66f4\u65b9\u4fbf\u5730\u5347\u7ea7\u81f3\u65b0\u7248\u672c\uff0cGo \u8bed\u8a00\u5b98\u65b9\u63d0\u51fa\u4e86\u4e24\u4e2a\u91cd\u8981\u7684\u89c4\u5219\uff1a</p> <ol> <li>\u5bfc\u5165\u517c\u5bb9\u6027\u89c4\u5219\uff08import compatibility rule\uff09\uff1a\u5982\u679c\u65e7\u5305\u548c\u65b0\u5305\u5177\u6709\u76f8\u540c\u7684\u5bfc\u5165\u8def\u5f84\uff0c\u5219\u65b0\u5305\u5fc5\u987b\u5411\u540e\u517c\u5bb9\u65e7\u5305\u3002</li> <li>\u8bed\u4e49\u5316\u5bfc\u5165\u7248\u672c\u89c4\u5219\uff08semantic import versioning rule\uff09\uff1a\u6bcf\u4e2a\u4e0d\u540c\u4e3b\u7248\u672c\uff08\u5373\u4e0d\u517c\u5bb9\u7684\u5305 v1 \u6216 v2\uff09\u4f7f\u7528\u4e0d\u540c\u7684\u5bfc\u5165\u8def\u5f84\uff0c\u4ee5\u4e3b\u7248\u672c\u7ed3\u5c3e\uff0c\u4e14\u6bcf\u4e2a\u4e3b\u7248\u672c\u4e2d\u6700\u591a\u4e00\u4e2a\u3002\u5982\uff1a\u4e00\u4e2a rsc.io/quote\u3001\u4e00\u4e2a rsc.io/quote/v2\u3001\u4e00\u4e2a rsc.io/quote/v3\u3002</li> </ol> <p>\u800c\u4e0e Git \u5206\u652f\u7684\u96c6\u6210\u5982\u4e0b\uff1a</p> <p></p> <p>\u53c2\u8003 Go Modules \u8be6\u89e3</p>"},{"location":"Go/Basic/Golang-Go-Module/#go-module_1","title":"\u5728\u9879\u76ee\u4e2d\u4f7f\u7528 go module","text":"\u65e2\u6709\u9879\u76ee\u65b0\u9879\u76ee <p>\u5982\u679c\u9700\u8981\u5bf9\u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684\u9879\u76ee\u542f\u7528 <code>go module</code>\uff0c\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u64cd\u4f5c\uff1a</p> <ol> <li>\u5728\u9879\u76ee\u76ee\u5f55\u4e0b\u6267\u884c <code>go mod init</code>\uff0c\u751f\u6210\u4e00\u4e2ago.mod\u6587\u4ef6\u3002</li> <li>\u6267\u884c <code>go get</code>\uff0c\u67e5\u627e\u5e76\u8bb0\u5f55\u5f53\u524d\u9879\u76ee\u7684\u4f9d\u8d56\uff0c\u540c\u65f6\u751f\u6210\u4e00\u4e2ago.sum\u8bb0\u5f55\u6bcf\u4e2a\u4f9d\u8d56\u5e93\u7684\u7248\u672c\u548c\u54c8\u5e0c\u503c\u3002</li> </ol> <p>\u5bf9\u4e8e\u4e00\u4e2a\u65b0\u521b\u5efa\u7684\u9879\u76ee\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u9879\u76ee\u6587\u4ef6\u5939\u4e0b\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u64cd\u4f5c\uff1a</p> <ol> <li>\u6267\u884c <code>go mod init \u9879\u76ee\u540d</code> \u547d\u4ee4\uff0c\u5728\u5f53\u524d\u9879\u76ee\u6587\u4ef6\u5939\u4e0b\u521b\u5efa\u4e00\u4e2a <code>go.mod</code> \u6587\u4ef6\u3002</li> <li>\u624b\u52a8\u7f16\u8f91 <code>go.mod</code> \u4e2d\u7684 require \u4f9d\u8d56\u9879\u6216\u6267\u884c <code>go get</code> \u81ea\u52a8\u53d1\u73b0\u3001\u7ef4\u62a4\u4f9d\u8d56\u3002</li> <li>\u5982\u679c\u6ca1\u53cd\u5e94\uff0c\u53ef\u4ee5\u8bd5\u8bd5 <code>go mod tidy</code></li> </ol>"},{"location":"Go/Basic/Golang-Go-Module/#vscode-go","title":"VSCode-go \u7684\u5751","text":"\u5f00\u542f GOMODULE \u5c31\u62a5\u9519go tools \u4e0b\u8f7d\u5931\u8d25 <p>\u62a5\u9519\u4fe1\u606f\uff1a<code>found module \"golang.org/x/tools\" twice in the workspace</code></p> <p>\u4e00\u5f00\u59cb\u7684\u65f6\u5019\u6211\u662f\u5728 VSC \u91cc\u5efa\u4e86\u4e00\u4e2a\u5de5\u4f5c\u533a\uff0c\u628a GOPATH \u6240\u5728\u76ee\u5f55\u6dfb\u52a0\u5728\u5de5\u4f5c\u533a\u91cc\uff0c\u7136\u540e\u5f00\u542f GO111MODULE=auto\uff0c\u7ed3\u679c\u5c31\u4e00\u76f4\u62a5\u9519\u3002</p> <p>\u540e\u6765 \u65b0\u5efa\u4e00\u4e2a\u5de5\u4f5c\u533a\uff0c\u628a\u81ea\u5df1\u653e\u9879\u76ee\u7684\u6587\u4ef6\u5939\u6dfb\u52a0\u5230\u5de5\u4f5c\u533a\uff0c\u5c31\u6ca1\u4e8b\u4e86\u3002</p> <p>\u6211\u7684 GOPATH\uff1a<code>GOPATH=E:\\---CODE\\GO\\root</code></p> <p>GOPATH \u653e\u8fdb\u53bb\u7684\u5de5\u4f5c\u533a\uff1a </p> <p>\u6ca1\u6709 GOPATH \u7684\u5de5\u4f5c\u533a</p> <p></p> <p>\u76f8\u5b89\u65e0\u4e8b</p> <p>\u89e3\u51b3\u529e\u6cd5\uff1a\u628a GOPROXY \u6539\u5230 https://goproxy.cn\u3002\u963f\u91cc\u4e91\u90a3\u4e2a\u6709\u65f6\u5019\u4e0d\u884c\uff0c\u5b98\u7f51\u88ab\u5899\u3002 \u6211\u8bd5\u4e86\u53ea\u6709\u8fd9\u4e2a\u5730\u5740\u4e00\u6b21\u8fc7\u3002</p> <ul> <li> <p>\u7b2c\u4e00\u6b65\uff1a\u4fee\u6539\u73af\u5883\u53d8\u91cf GOPROXY     </p> </li> <li> <p>\u7b2c\u4e8c\u6b65\uff1a\u786e\u4fdd GOPATH \u4e0b\u6709<code>bin</code>\u3001<code>pkg</code>\u3001<code>src</code> \u4e09\u4e2a\u76ee\u5f55</p> </li> <li> <p>\u7b2c\u4e09\u6b65\uff1a\u5728 VSC \u4e2d\u6309\u4e0b <code>Ctrl+Shift+P</code> \u5524\u9192\u5feb\u6377\u547d\u4ee4\u884c\uff0c\u8f93\u5165\uff1a<code>Go:install/Update Tools</code>\uff0c\u56de\u8f66\u3002     </p> </li> <li> <p>\u7b2c\u56db\u6b65\uff1a\u5168\u9009\uff0c\u7136\u540e\u70b9\u51fb OK \u5f00\u59cb\u4e0b\u8f7d     </p> </li> <li> <p>\u7b2c\u56db\u6b65\uff1a\u4e1d\u6ed1\u987a\u7545\u4e00\u6b21\u8fc7     </p> </li> </ul>"},{"location":"Go/Basic/Golang-Go-Workspace/","title":"Go Workspace","text":""},{"location":"Go/Basic/Golang-Go-Workspace/#go-work","title":"Go Work","text":"<p>\u7248\u672c\u8981\u6c42\uff1aGo 1.18+</p>"},{"location":"Go/Basic/Golang-Go-Workspace/#_1","title":"\u8d77\u56e0\uff08\u9002\u7528\u573a\u666f\uff09","text":""},{"location":"Go/Basic/Golang-Go-Workspace/#_2","title":"\u524d\u7f6e","text":"<p>\u9879\u76ee\uff08\u6a21\u5757\uff09 -&gt; \u5305\uff08package\uff09</p> <ul> <li>\u9879\u76ee\uff08\u6a21\u5757\uff09\u6307\u76ee\u5f55\u4e0b\u6709 go.mod \u6587\u4ef6\u7684\u90a3\u4e2a\u76ee\u5f55\uff0c\u4ee5 go.mod \u6587\u4ef6\u6240\u5728\u7684\u76ee\u5f55\u4e3a\u9879\u76ee\u6839\u76ee\u5f55</li> <li>\u5305\uff08package\uff09\u6307\u9879\u76ee\u4e2d\u66f4\u5c0f\u4e00\u7ea7\u7684\u7ba1\u7406\u5355\u4f4d</li> </ul>"},{"location":"Go/Basic/Golang-Go-Workspace/#_3","title":"\u53e6\u4e00\u4e2a\u9879\u76ee\u672a\u53d1\u5e03","text":"<p>\u9047\u5230\u591a\u9879\u76ee\u5f00\u53d1\u65f6\uff0c\u6bd4\u5982 A1 \u548c A2 \u662f\u4e24\u4e2a\u9879\u76ee\uff0c\u4e5f\u5c31\u662f\u4e24\u4e2a\u6a21\u5757\uff0c\u5f7c\u6b64\u8fdb\u884c\u5f00\u53d1\uff0c\u5f7c\u6b64\u90fd\u672a\u53d1\u5e03\uff0c\u800c\u5728 A1 \u4e2d\u5f15\u7528\u4e86 A2\u3002\u56e0\u4e3a A2 \u6ca1\u53d1\u5e03\uff0c\u6240\u4ee5\u4f1a\u5f15\u7528\u5931\u8d25\uff0c\u4ee5\u524d\u7684\u505a\u6cd5\u662f\u5728 A1 \u7684 go.mod \u4e2d\u4f7f\u7528 replace \u6307\u4ee4\uff1a<code>replace A2 =&gt; ../A2</code>\uff0c\u5230\u65f6\u5019\u7b49 A2 \u53d1\u5e03\u540e\uff0c\u51c6\u5907\u53d1\u5e03 A1 \u65f6\u628a\u8fd9\u53e5\u53bb\u6389\u3002\u8981\u662f\u5fd8\u4e86\u5c31\u9ebb\u70e6\u4e86\u3002</p>"},{"location":"Go/Basic/Golang-Go-Workspace/#_4","title":"\u4f7f\u7528\u65b9\u6cd5","text":"<p>\u521b\u5efa\u4e00\u4e2a\u5de5\u4f5c\u533a\u76ee\u5f55 work_dir\uff0c\u5728\u6b64\u76ee\u5f55\u4e0b\u521b\u5efa\u9879\u76ee\uff0c\u4f8b\u5982 hello/\u3001util\uff0c\u8981\u6c42\u6bcf\u4e2a\u9879\u76ee\u4e0b\u90fd\u6709 go.mod \u6587\u4ef6\u3002</p> <p>\u5728 work_dir \u76ee\u5f55\u4e0b\u6267\u884c\uff1a<code>go work init</code>\uff0c\u4f1a\u751f\u6210\u4e00\u4e2a <code>work_dir/go.work</code> \u6587\u4ef6\u3002\u5176\u8bed\u6cd5\u4e0e go.mod \u76f8\u540c\uff0c\u591a\u4e86\u4e00\u4e2a use \u6307\u4ee4\u3002\u5176\u4ed6\u7684\u5982 replace \u6307\u4ee4\uff0c\u5176\u4f18\u5148\u7ea7\u6bd4 go.mod \u4e2d\u7684 replace \u9ad8\u3002</p> <p>\u63a5\u4e0b\u6765\u5728\u9879\u76ee\u4e2d\u6b63\u5e38\u5f15\u7528\u5c31\u884c\u4e86\u3002</p> <pre><code>[work_dir]\n \u251c\u2500\u2500 go.work\n \u2502   +\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500+ \n \u2502   \u2502 go 1.18  \u2502  \n \u2502   \u2502          \u2502\n \u2502   \u2502 use (    \u2502\n \u2502   \u2502  ./hello \u2502\n \u2502   \u2502  ./util  \u2502\n \u2502   \u2502 )        \u2502\n \u2502   +\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500+\n \u2502 \n \u251c\u2500\u2500 [hello]\n \u2502    \u251c\u2500\u2500 go.mod\n \u2502    \u2502   +\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500+\n \u2502    \u2502   \u2502 module abc.com/hello_demo        \u2502\n \u2502    \u2502   \u2502                                  \u2502\n \u2502    \u2502   \u2502 go 1.18                          \u2502\n \u2502    \u2502   \u2502                                  \u2502\n \u2502    \u2502   \u2502 require abc.com/util_demo v0.0.0 \u2502\n \u2502    \u2502   +\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500+\n \u2502    \u2502  \n \u2502    \u2514\u2500\u2500 main.go\n \u2502        +\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500+\n \u2502        \u2502 package main                            \u2502\n \u2502        \u2502                                         \u2502\n \u2502        \u2502 import (                                \u2502\n \u2502        \u2502     \"abc.com/util_demo\"                 \u2502\n \u2502        \u2502 )                                       \u2502\n \u2502        \u2502                                         \u2502\n \u2502        \u2502 func main() {                           \u2502\n \u2502        \u2502     util.Assert(1==1, \"panic message.\") \u2502\n \u2502        \u2502 }                                       \u2502\n \u2502        +\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500+\n \u2502\n \u2514\u2500\u2500 [util]\n      \u251c\u2500\u2500\u2500 go.mod \n      \u2502   +\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500+\n      \u2502   \u2502 module abc.com/util_demo \u2502\n      \u2502   \u2502                          \u2502\n      \u2502   \u2502 go 1.18                  \u2502\n      \u2502   +\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500+\n      \u2502\n      \u2514\u2500\u2500 main.go\n          +\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500+\n          \u2502 package util                         \u2502       \n          \u2502                                      \u2502\n          \u2502 func Assert(cond bool, msg string) { \u2502\n          \u2502     if cond {                        \u2502\n          \u2502         return                       \u2502\n          \u2502     }                                \u2502\n          \u2502     panic(msg)                       \u2502\n          \u2502 }                                    \u2502\n          +\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500+\n</code></pre>"},{"location":"Go/Basic/Golang-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/","title":"\u7c7b\u578b\u8f6c\u6362","text":""},{"location":"Go/Basic/Golang-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#_1","title":"\u7c7b\u578b\u8f6c\u6362","text":"<p>Go \u4e0d\u4f1a\u5bf9\u6570\u636e\u8fdb\u884c\u9690\u5f0f\u8f6c\u6362\uff0c\u53ea\u80fd\u663e\u5f0f\u7684\u624b\u52a8\u8f6c\u6362</p>"},{"location":"Go/Basic/Golang-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#_2","title":"\u7b80\u5355\u7684\u8f6c\u6362","text":"<pre><code>T(expression)\n</code></pre> <p>Example</p> <pre><code>int(time.Now().Weekday())    // \u661f\u671f\u8f6cint\nint(time.now().Month())      // \u6708\u4efd\u8f6cint\n\nvar a float32\na = 3.14\nb := int(a)     // float32 \u8f6c int\n</code></pre> <p>\u6ce8\u610f\uff1a\u8fd9\u79cd\u65b9\u5f0f\u4e0d\u662f\u6240\u6709\u6570\u636e\u7c7b\u578b\u90fd\u80fd\u8f6c\u6362\u7684\u3002</p> <ol> <li>\u4f8b\u5982 string \u7c7b\u578b\u7684 <code>\"Boii\"</code> \u8f6c int \u5c31\u4f1a\u5931\u8d25</li> <li>\u4f4e\u7cbe\u5ea6\u8f6c\u9ad8\u7cbe\u5ea6\u65f6\u662f\u5b89\u5168\u7684\uff0c\u9ad8\u7cbe\u5ea6\u8f6c\u4f4e\u7cbe\u5ea6\u5219\u4f1a\u4e22\u5931\u7cbe\u5ea6\uff0c\u4f8b\u5982 float64\u8f6cfloat32</li> <li>\u4e0d\u80fd\u5bf9 int\u3001float \u540c string \u4e92\u8f6c\uff0c\u8de8\u5927\u7c7b\u578b\u8f6c\u6362\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>strconv \u5305</code> \u63d0\u4f9b\u7684\u51fd\u6570</li> </ol>"},{"location":"Go/Basic/Golang-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#strconv","title":"strconv \u5305","text":"<p>strconv \u5305\u63d0\u4f9b\u4e86\u57fa\u672c\u6570\u636e\u7c7b\u578b\u4e4b\u95f4\u7684\u7c7b\u578b\u8f6c\u6362\u529f\u80fd\u3002</p>"},{"location":"Go/Basic/Golang-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#string-int-atoi","title":"string -&gt; int : Atoi()","text":"<p>\u5c06 string \u8f6c\u6362\u4e3a int\uff1aAtoi()</p> <p>Atoi() \u51fd\u6570\u7b7e\u540d\uff1a </p><pre><code>func Atoi(s string) (int, error)\n</code></pre> \u7531\u4e8e string \u6709\u53ef\u80fd\u65e0\u6cd5\u8f6c\u6362\u4e3a int\uff0c\u6240\u4ee5\u63d0\u4f9b\u4e86\u4e24\u4e2a\u8fd4\u56de\u503c - \u7b2c\u4e00\u4e2a\u662f\u8f6c\u6362\u6210 int \u7684\u503c - \u7b2c\u4e8c\u4e2a\u662f\u8fd4\u56de\u662f\u5426\u8f6c\u6362\u6210\u529f<p></p> <p>Example</p> <pre><code>// success\ni, err := strconv.Atoi(\"3\")\nfmt.Print(i + 5)    // 8\n\n// fail\ni, err := strconv.Atoi(\"a\")\nif err != nil {\n    fmt.Print(\"Converted FAILED!\")\n}\n</code></pre>"},{"location":"Go/Basic/Golang-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#int-string-itoa","title":"int -&gt; string : Itoa()","text":"<pre><code>func Itoa(i int) string\n</code></pre> <p>Example</p> <pre><code>a := strconv.Itoa(18)\nfmt.Println(a)         // 18\nfmt.Printf(\"%T \\n\", a) // string\n</code></pre>"},{"location":"Go/Basic/Golang-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#string-t-parset","title":"string -&gt; T : ParseT()","text":"<p>Parse \u7c7b\u51fd\u6570\u7528\u4e8e\u5c06\u5b57\u7b26\u8f6c\u8f6c\u6362\u4e3a\u7ed9\u5b9a\u7c7b\u578b\u7684\u503c</p> ParseBoolParseIntParseUintParseFloatParseComplex <p>\u51fd\u6570\u7b7e\u540d\uff1a</p> <pre><code>ParseBool(str string)\n</code></pre> <p>eg\uff1a</p> <p></p><pre><code>b, err := strconv.ParseBool(\"true\")\nif err == nil {\n    fmt.Println(b) // true\n}\n</code></pre> ParseBool \u7684\u5185\u90e8\u5b9e\u73b0\u975e\u5e38\u7b80\u5355<p></p> <pre><code>func ParseBool(str string) (bool, error) {\n    switch str {\n    case \"1\", \"t\", \"T\", \"true\", \"TRUE\", \"True\":\n        return true, nil\n    case \"0\", \"f\", \"F\", \"false\", \"FALSE\", \"False\":\n        return false, nil\n    }\n    return false, syntaxError(\"ParseBool\", str)\n}\n</code></pre> <p><code>ParseInt(s string, base int, bitSize int)</code></p> <ul> <li>s\uff1a\u8981\u89e3\u6790 int \u7684\u5b57\u7b26\u4e32</li> <li>base\uff1a\u6307\u5b9a\u5b57\u7b26\u4e32\u4e2d\u6570\u5b57\u7684\u8fdb\u5236\uff082\u523036\uff09\uff0c\u5982\u679c\u4e3a0\uff0c\u4f1a\u4ece\u5b57\u7b26\u4e32\u524d\u7f6e\u5224\u65ad\uff1a<ul> <li><code>0b</code>\u4ee3\u88682\u8fdb\u5236</li> <li><code>0o</code>\u4ee3\u88688\u8fdb\u5236</li> <li><code>0x</code>\u4ee3\u886816\u8fdb\u5236</li> <li>\u5426\u5219\u662f10\u8fdb\u5236\u3002</li> </ul> </li> <li>bitSize\uff1a\u6307\u5b9a\u7ed3\u679c\u5fc5\u987b\u80fd\u65e0\u6ea2\u51fa\u8d4b\u503c\u7684\u6574\u6570\u7c7b\u578b\uff0c0\u30018\u300116\u300132\u300164 \u5206\u522b\u4ee3\u8868 int\u3001int8\u3001int16\u3001int32\u3001int64</li> </ul> <p>eg\uff1a</p> <p></p><pre><code>i, err := strconv.ParseInt(\"-C\", 16, 0)\nif err == nil {\n    fmt.Println(i)         // -12\n    fmt.Printf(\"%T \\n\", i) // int64\n}\n</code></pre> \u5341\u516d\u8fdb\u5236\u4e2d\uff0cC\u4ee3\u886812\uff0c\u4f8b\u5b50\u4e2d\u4f20\u9012\u7684\u662f -C \uff0c\u4e5f\u5c31\u662f-12<p></p> <p>\u51fd\u6570\u7b7e\u540d\uff1a</p> <pre><code>ParseUint(s string, base int, bitSize int)\n</code></pre> <p>\u548c ParseInt \u4e00\u6837\uff0c\u4e0d\u8fc7\u662f\u9488\u5bf9 \u65e0\u7b26\u53f7\u6574\u578b\u7684\uff0c\u5982\u679c\u4f20\u9012\u4e00\u4e2a\u6709\u7b26\u53f7\u7684\u6570\u5b57\u5b57\u7b26\u4e32\uff0c\u4f1a\u8f6c\u6362\u5931\u8d25</p> <p>eg\uff1a</p> <p></p><pre><code>// success\nu, err := strconv.ParseUint(\"45\", 7, 0)\nif err == nil {\n    fmt.Println(u)         // 33\n    fmt.Printf(\"%T \\n\", u) // uint64\n}\n\n// fail\nu, err := strconv.ParseUint(\"-10\", 10, 0)\nif err != nil {\n    fmt.Print(\"Converted FAILED!\")\n}\n</code></pre> 7\u8fdb\u5236\u7684 45 \u7b49\u4e8e 10\u8fdb\u5236\u768433<p></p> <p>\u51fd\u6570\u7b7e\u540d\uff1a</p> <pre><code>ParseFloat(s string, bitSize int)\n</code></pre> <ul> <li>s\uff1a\u8981\u89e3\u6790\u6210 float \u7684\u5b57\u7b26\u4e32\uff0c</li> <li>bitSize\uff1a\u6307\u5b9a\u4e86\u671f\u671b\u7684\u63a5\u6536\u7c7b\u578b\uff0c32\u662ffloat32\uff08\u8fd4\u56de\u503c\u53ef\u4ee5\u4e0d\u6539\u53d8\u7cbe\u786e\u503c\u7684\u8d4b\u503c\u7ed9float32\uff09\uff0c64\u662ffloat64\u3002</li> </ul> <p>eg\uff1a</p> <p></p><pre><code>f, err := strconv.ParseFloat(\"3.14\", 64)\nif err == nil {\n    fmt.Println(f)         // 3.14\n    fmt.Printf(\"%T \\n\", f) // float64\n}\n</code></pre> bitSize \u8868\u793a\u4f4d\u6570\uff0c\u53ea\u80fd\u586b 64\u621632\uff0c\u4e0d\u8fc7 ParseFloat \u53ea\u80fd\u63a5\u653664\u4f4d\u7c7b\u578b\u7684\u6d6e\u70b9\u6570\uff0c\u5373\u4f7f bitSize \u4f60\u586b32\uff0c\u4f9d\u7136\u4f1a\u8fd4\u56de\u4e00\u4e2a float64 \u7c7b\u578b\u7684\u6570\u636e\u7ed9\u4f60\uff0c\u56e0\u4e3a\u5176\u5185\u90e8\u5b9e\u73b0\u662f\u8c03\u7528\u4e86\u4e00\u4e2a <code>atof32()</code> \u7684\u51fd\u6570\uff0c\u7136\u540e <code>return float64(f)</code><p></p> <pre><code>func ParseFloat(s string, bitSize int) (float64, error) {\n    f, n, err := parseFloatPrefix(s, bitSize)\n    if err == nil &amp;&amp; n != len(s) {\n        return 0, syntaxError(fnParseFloat, s)\n    }\n    return f, err\n}\n\nfunc parseFloatPrefix(s string, bitSize int) (float64, int, error) {\n    if bitSize == 32 {\n        f, n, err := atof32(s)\n        return float64(f), n, err\n    }\n    return atof64(s)\n}\n</code></pre> <p>\u51fd\u6570\u7b7e\u540d\uff1a</p> <pre><code>ParseComplex(s string, bitSize int)\n</code></pre> <ul> <li>s\uff1a\u8981\u89e3\u6790\u6210 float \u7684\u5b57\u7b26\u4e32\uff0c</li> <li>bitSize\uff1a\u6307\u5b9a\u4e86\u671f\u671b\u7684\u63a5\u6536\u7c7b\u578b\uff0c64\u662fcomplex64\uff08\u8fd4\u56de\u503c\u53ef\u4ee5\u4e0d\u6539\u53d8\u7cbe\u786e\u503c\u7684\u8d4b\u503c\u7ed9float32\uff09\uff0c128\u662fcomplex128\u3002</li> </ul> <p>eg\uff1a</p> <pre><code>c, err := strconv.ParseComplex(\"3+4i\", 128)\nif err == nil {\n    fmt.Println(c)         // (3+4i)\n    fmt.Printf(\"%T \\n\", c) // complex128\n}\n</code></pre>"},{"location":"Go/Basic/Golang-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#t-string-formatt","title":"T -&gt; string : FormatT()","text":"<p>FormatT \u7cfb\u5217\u51fd\u6570\u7528\u4e8e\u5c06 T \u7c7b\u578b\u6570\u636e\u8f6c\u6210\u5b57\u7b26\u4e32</p> FormatBoolFormatIntFormatUintFormatFloatFormatComplex <p>\u51fd\u6570\u7b7e\u540d\uff1a</p> <pre><code>FormatBool(b bool) string\n</code></pre> <p>eg\uff1a</p> <pre><code>b := strconv.FormatBool(true)\nfmt.Println(b) // true\n</code></pre> <p>\u51fd\u6570\u7b7e\u540d\uff1a</p> <pre><code>FormatInt(i int64, base int) string\n</code></pre> <ul> <li>i\uff1a\u8981\u8f6c\u6210\u5b57\u7b26\u4e32\u7684\u6570\u5b57\uff0c\u5fc5\u987b\u662f int64 \u7c7b\u578b</li> <li>base\uff1a\u8981\u8f6c\u6210\u4ec0\u4e48\u8fdb\u5236\u518d\u8f6c\u5b57\u7b26\u4e32</li> </ul> <p>eg\uff1a</p> <pre><code>i1 := strconv.FormatInt(31, 16)\nfmt.Println(i1) // 1f ,\u5c06 10\u8fdb\u5236\u768431 \u8f6c\u6210 16\u8fdb\u5236\u76841f \u7136\u540e\u8f6c\u6210\u5b57\u7b26\u4e32\u8fd4\u56de\n\ni2 := strconv.FormatInt(-0x1E, 8)\nfmt.Println(i2) // -36, \u5c06 16\u8fdb\u5236\u7684-1E \u8f6c\u6210 8\u8fdb\u5236\u7684-36 \u7136\u540e\u8f6c\u6210\u5b57\u7b26\u4e32\u8fd4\u56de\n</code></pre> <p>\u51fd\u6570\u7b7e\u540d\uff1a</p> <pre><code>FormatUint(i uint64, base int) string\n</code></pre> <ul> <li>i\uff1a\u8981\u8f6c\u6210\u5b57\u7b26\u4e32\u7684\u6570\u5b57\uff0c\u5fc5\u987b\u662f uint64 \u7c7b\u578b</li> <li>base\uff1a\u8981\u8f6c\u6210\u4ec0\u4e48\u8fdb\u5236\u518d\u8f6c\u5b57\u7b26\u4e32</li> </ul> <p>eg\uff1a</p> <pre><code>u := strconv.FormatUint(12, 8)\nfmt.Println(u) // 14, \u5c06 10\u8fdb\u5236\u768412 \u8f6c\u6210 8\u8fdb\u5236\u768414 \u7136\u540e\u8f6c\u6210\u5b57\u7b26\u4e32\u8fd4\u56de\n</code></pre> <p>\u51fd\u6570\u7b7e\u540d\uff1a</p> <pre><code>FormatFloat(f float64, fmt byte, prec, bitSize int) string\n</code></pre> <ul> <li>f\uff1a\u8981\u8f6c\u6210\u5b57\u7b26\u4e32\u7684\u6d6e\u70b9\u6570</li> <li>fmt\uff1a['f', 'b', 'e', 'E', 'g', 'G']\uff1b\u8868\u793a\u683c\u5f0f<ul> <li>f\uff1a000.000</li> <li>b\uff1a000p\u00b1000 \u4e8c\u8fdb\u5236\u6307\u6570</li> <li>e\uff1a0.0000e\u00b100 \u5341\u8fdb\u5236\u6307\u6570</li> <li>E\uff1a0.0000E\u00b100 \u5341\u8fdb\u5236\u6307\u6570</li> <li>g\uff1a\u6307\u6570\u5f88\u5927\u65f6\u7528e\u683c\u5f0f\uff0c\u4e0d\u5927\u65f6\u7528f\u683c\u5f0f</li> <li>G\uff1a\u6307\u6570\u5f88\u5927\u65f6\u7528E\u683c\u5f0f\uff0c\u4e0d\u5927\u65f6\u7528f\u683c\u5f0f</li> </ul> </li> <li>prec\uff1a<ul> <li>\u5bf9\u4e8e f\u683c\u5f0f\u3001e\u683c\u5f0f\u3001E\u683c\u5f0f\uff1a\u63a7\u5236\u5c0f\u6570\u70b9\u540e\u4f4d\u6570</li> <li>\u5bf9\u4e8e g\u683c\u5f0f\u3001G\u683c\u5f0f\uff1a\u63a7\u5236\u4e2d\u6570\u5b57\u4e2a\u6570</li> <li>\u4e3a-1\u65f6\uff0c\u4ee3\u8868\u4f7f\u7528\u6700\u5c11\u6570\u91cf\u7684\u3001\u4f46\u53c8\u5fc5\u9700\u7684\u6570\u5b57\u6765\u8868\u793af</li> </ul> </li> <li>bitSize\uff1a\u8868\u793a\u6d6e\u70b9\u6570\u6765\u6e90\u7c7b\u578b\uff0832\uff1afloat32\u300164\uff1afloat64\uff09</li> </ul> <p>eg\uff1a</p> <pre><code>v := 4.12345678\n\nff64 := strconv.FormatFloat(v, 'f', 30, 64)\nff32 := strconv.FormatFloat(v, 'f', 30, 32)\nfb := strconv.FormatFloat(v, 'b', 10, 32)\nfe := strconv.FormatFloat(v, 'e', -1, 32)\nfe10 := strconv.FormatFloat(v, 'e', 10, 32)\nfg := strconv.FormatFloat(v, 'g', 10, 32)\n\nfmt.Println(ff64) // 4.123456779999999710639713157434\nfmt.Println(ff32) // 4.123456954956054687500000000000\nfmt.Println(fb)   // 8647516p-21\nfmt.Println(fe)   // 4.123457e+00\nfmt.Println(fe10) // 4.1234569550e+00\nfmt.Println(fg)   // 4.123456955\n</code></pre> <p>\u51fd\u6570\u7b7e\u540d\uff1a</p> <pre><code>FormatComplex(c complex128, fmt byte, prec, bitSize int) string\n</code></pre> <ul> <li>f\uff1a\u8981\u8f6c\u6210\u5b57\u7b26\u4e32\u7684\u590d\u6570</li> <li>fmt\uff1a['f', 'b', 'e', 'E', 'g', 'G']\uff1b\u8868\u793a\u683c\u5f0f<ul> <li>f\uff1a000.000</li> <li>b\uff1a000p\u00b1000 \u4e8c\u8fdb\u5236\u6307\u6570</li> <li>e\uff1a0.0000e\u00b100 \u5341\u8fdb\u5236\u6307\u6570</li> <li>E\uff1a0.0000E\u00b100 \u5341\u8fdb\u5236\u6307\u6570</li> <li>g\uff1a\u6307\u6570\u5f88\u5927\u65f6\u7528e\u683c\u5f0f\uff0c\u4e0d\u5927\u65f6\u7528f\u683c\u5f0f</li> <li>G\uff1a\u6307\u6570\u5f88\u5927\u65f6\u7528E\u683c\u5f0f\uff0c\u4e0d\u5927\u65f6\u7528f\u683c\u5f0f</li> </ul> </li> <li>prec\uff1a<ul> <li>\u5bf9\u4e8e f\u683c\u5f0f\u3001e\u683c\u5f0f\u3001E\u683c\u5f0f\uff1a\u63a7\u5236\u5c0f\u6570\u70b9\u540e\u4f4d\u6570</li> <li>\u5bf9\u4e8e g\u683c\u5f0f\u3001G\u683c\u5f0f\uff1a\u63a7\u5236\u4e2d\u6570\u5b57\u4e2a\u6570</li> <li>\u4e3a-1\u65f6\uff0c\u4ee3\u8868\u4f7f\u7528\u6700\u5c11\u6570\u91cf\u7684\u3001\u4f46\u53c8\u5fc5\u9700\u7684\u6570\u5b57\u6765\u8868\u793af</li> </ul> </li> <li>bitSize\uff1a\u8868\u793a\u590d\u6570\u6765\u6e90\u7c7b\u578b\uff0864\uff1acomplex64\u3001128\uff1acomplex128\uff09</li> </ul> <p>eg\uff1a</p> <pre><code>c := strconv.FormatComplex(3+8i, 'e', 10, 64)\nfmt.Println(c)  // (3.0000000000e+00+8.0000000000e+00i)\n</code></pre>"},{"location":"Go/Basic/Golang-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#t-string-append-to-slice-appendt","title":"T -&gt; string &amp; append to slice : AppendT()","text":"<p>AppendT \u7cfb\u5217\u51fd\u6570\u7528\u4e8e\u5c06 T \u8f6c\u6210\u5b57\u7b26\u4e32\u540e append \u5230\u4e00\u4e2a \u5207\u7247 slice \u4e2d</p> <p>Example</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"strconv\"\n)\n\nfunc main() {\n    // \u58f0\u660e\u4e00\u4e2aslice\n    b10 := []byte(\"int (base 10):\")\n\n    // \u5c06\u8f6c\u6362\u4e3a10\u8fdb\u5236\u7684string\uff0c\u8ffd\u52a0\u5230slice\u4e2d\n    b10 = strconv.AppendInt(b10, -42, 10)\n    fmt.Println(string(b10))    // int (base 10):-42\n\n    b16 := []byte(\"int (base 16):\")\n    b16 = strconv.AppendInt(b16, -42, 16)\n    fmt.Println(string(b16))    // int (base 16):-2a\n}\n</code></pre>"},{"location":"Go/Basic/Golang-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#_3","title":"\u7c7b\u578b\u65ad\u8a00","text":"<p>\u7c7b\u578b\u65ad\u8a00\u5206\u4e24\u79cd\u5f62\u5f0f\uff1a<code>Type Assertion</code> \u548c <code>Type Switch</code>\u3002</p>"},{"location":"Go/Basic/Golang-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#type-assertion","title":"Type Assertion","text":"<pre><code>expression.(Type)\n</code></pre> eg\uff1a <pre><code>t := i.(T)\nt, ok := i.(T)\n</code></pre> <p>Type Assertion \u7684\u4f5c\u7528\u6709\u4e24\u4e2a\uff1a</p> <ol> <li>\u68c0\u67e5 <code>i</code> \u662f\u5426\u4e3a nil</li> <li>\u68c0\u67e5 <code>i</code> \u7684\u503c\u662f\u5426\u4e3a T \u7c7b\u578b</li> </ol> <p>\u4f7f\u7528\u65b9\u5f0f\u6709\u4e24\u79cd:</p> <ol> <li><code>t := i.(T)</code>\uff1a<ul> <li>\u8bf4\u660e\uff1a\u53ef\u4ee5\u65ad\u8a00\u4e00\u4e2a\u63a5\u53e3\u5bf9\u8c61 <code>i</code> \u7684\u503c\u4e0d\u662f nil\uff0c\u5e76\u4e14\u503c\u662f T \u7c7b\u578b\u3002</li> <li>\u65ad\u8a00\u6210\u529f\uff1a\u8fd4\u56de <code>i</code> \u7684\u503c\u7ed9 <code>t</code></li> <li>\u65ad\u8a00\u5931\u8d25\uff1a\u5f15\u53d1 <code>panic</code></li> </ul> </li> <li><code>t, ok := i.(T)</code><ul> <li>\u8bf4\u660e\uff1a\u53ef\u4ee5\u65ad\u8a00\u4e00\u4e2a\u63a5\u53e3\u5bf9\u8c61 <code>i</code> \u7684\u503c\u4e0d\u662f nil\uff0c\u5e76\u4e14\u503c\u662f T \u7c7b\u578b\u3002</li> <li>\u65ad\u8a00\u6210\u529f\uff1a\u8fd4\u56de <code>i</code> \u7684\u503c\u7ed9 <code>t</code>\uff0c<code>ok</code> \u7684\u503c\u7f6e\u4e3a true</li> <li>\u65ad\u8a00\u5931\u8d25\uff1a\u8fd4\u56de <code>T</code> \u7684\u96f6\u503c\u7ed9 <code>t</code>\uff0c<code>ok</code> \u7684\u503c\u7f6e\u4e3a false</li> </ul> </li> </ol> <p>Example</p> t := i.(T)t, ok := i.(T) <pre><code>func main() {\n    var i interface{} = 10\n    t1 := i.(int)\n    fmt.Println(t1)    // 10\n\n    fmt.Println(\"+++++++++++++++++++++\")\n\n    t2 := i.(string)    // \u8fd9\u91cc\u4f1a\u5f15\u53d1 panic\n    fmt.Println(t2)\n\n}\n</code></pre> <p>\u8f93\u51fa\uff1a</p> <pre><code>10\n+++++++++++++++++++++\npanic: interface conversion: interface {} is int, not string\n</code></pre> <p>\u63a5\u53e3\u503c\u4e3a nil \u65f6\uff0c\u65ad\u8a00\u4f1a\u5f15\u53d1 panic </p><pre><code>func main() {\n    var i interface{}    // i \u7684\u503c\u4e3a nil\n    t := i.(interface{}) // \u8fd9\u91cc\u4f1a\u5f15\u53d1 panic\n    fmt.Println(t)\n}\n</code></pre><p></p> <p>\u8f93\u51fa\uff1a</p> <pre><code>panic: interface conversion: interface is nil, not interface {}\n</code></pre> <pre><code>func main() {\n    var i1 interface{} = 10\n\n    t1, ok := i1.(interface{})\n    fmt.Printf(\"t1: %d, %v\\n\", t1, ok) // t1: 10, true\n    t2, ok := i1.(int)\n    fmt.Printf(\"t2: %v, %v\\n\", t2, ok) // t2: 10, true\n    t3, ok := i1.(string)\n    fmt.Printf(\"t3: %v, %v\\n\", t3, ok) // t3: , false\n\n    var i2 interface{}\n    t4, ok := i2.(interface{})\n    fmt.Printf(\"t4: %v, %v\\n\", t4, ok) // t4: &lt;nil&gt;, false\n\n    i2 = \"Boii\"\n    t5, ok := i2.(int)\n    fmt.Printf(\"t5: %v, %v\\n\", t5, ok) // t5: 0, false\n    t6, ok := i2.(string)\n    fmt.Printf(\"t6: %v, %v\\n\", t6, ok) // t6: Boii, true\n}\n</code></pre> <p>\u8f93\u51fa\uff1a</p> <p></p><pre><code>t1: 10, true\nt2: 10, true\nt3: , false\nt4: &lt;nil&gt;, false\nt5: 0, false\nt6: Boii, true\n</code></pre> \u867d\u7136 <code>t3\u3001t4\u3001t5</code> \u65ad\u8a00\u5931\u8d25\uff0c\u4f46\u6ca1\u6709\u5f15\u53d1 <code>panic</code><p></p>"},{"location":"Go/Basic/Golang-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#type-switch","title":"Type Switch","text":"<p>\u4e0a\u9762\u7684\u65b9\u5f0f\u9002\u5408 \u65ad\u8a00\u6307\u5b9a\u4e00\u79cd\u7c7b\u578b\uff0c\u5982\u679c\u9700\u8981\u65ad\u8a00 \u63a5\u53e3\u5bf9\u8c61 <code>i</code> \u662f\u591a\u79cd\u7c7b\u578b\u4e2d\u7684\u4e00\u79cd\uff0c\u5219\u9700\u8981\u7528 Type Switch\u3002</p> <p></p><pre><code>switch t := \u63a5\u53e3\u5bf9\u8c61.(type) {\n    case T1:  ...\n    case T2:  ...\n    case nil: ...\n    default: ...\n}\n</code></pre> <code>\u63a5\u53e3\u5bf9\u8c61.(type)</code> \u4e2d\u7684 <code>.(type)</code> \u662f\u56fa\u5b9a\u683c\u5f0f\uff0c\u4e0d\u8981\u4fee\u6539\u3002<p></p> <p></p><pre><code>func typeSwitch(i interface{}) {\n    switch t := i.(type) {\n    case int:\n        fmt.Println(t, \"is int.\")\n    case string:\n        fmt.Println(t, \"is string.\")\n    case float64:\n        fmt.Println(t, \"is float64\")\n    case nil:\n        fmt.Println(t, \"is nil\")\n    default:\n        fmt.Println(t, \"\u5565\u4e5f\u4e0d\u662f\")\n    }\n}\n\n\nfunc main() {\n    var i interface{}\n    typeSwitch(i)      // &lt;nil&gt; is nil\n    typeSwitch(\"Boii\") // Boii is string.\n    typeSwitch(3.14)   // 3.14 is float64\n    typeSwitch(true)   // true \u5565\u4e5f\u4e0d\u662f\n}\n</code></pre> <code>t</code> \u662f\u4ec0\u4e48\u7c7b\u578b\u5c31\u8d70\u4ec0\u4e48\u5206\u652f\uff0c<code>t</code> \u662f nil \u5c31\u8d70 <code>case nil</code> \u5206\u652f\uff0c\u6ca1\u6709\u4e00\u4e2a\u6ee1\u8db3\u5c31\u8d70 <code>default</code> \u5206\u652f\u3002 <code>default</code> \u5206\u652f\u662f\u53ef\u9009\u7684\u3002<p></p>"},{"location":"Go/Framework/gin/Gin-0-Get-Start/","title":"Get start","text":""},{"location":"Go/Framework/gin/Gin-0-Get-Start/#getstart","title":"GetStart","text":""},{"location":"Go/Framework/gin/Gin-0-Get-Start/#_1","title":"\u8981\u6c42","text":"<ul> <li>&gt;= Go v1.13</li> </ul>"},{"location":"Go/Framework/gin/Gin-0-Get-Start/#_2","title":"\u5b89\u88c5","text":"<p>\u524d\u63d0\uff1a</p> <ul> <li>\u5b89\u88c5 Golang</li> <li> <p>\u8bbe\u7f6e Go \u5de5\u4f5c\u533a</p> </li> <li> <p>\u4e0b\u8f7d\u5e76\u5b89\u88c5 gin\uff1a</p> </li> </ul> <pre><code>$ go get -u github.com/gin-gonic/gin\n</code></pre> <ol> <li>\u5728\u4ee3\u7801\u4e2d\u5f15\u5165   <pre><code>import \"github.com/gin-gonic/gin\"\nimport \"net/http\"\n</code></pre></li> </ol>"},{"location":"Go/Framework/gin/Gin-0-Get-Start/#_3","title":"\u5f00\u59cb","text":"<p>\u5148\u521b\u5efa\u4e00\u4e2ago\u6587\u4ef6 </p><pre><code>$ touch demo.go\n</code></pre><p></p> <p>\u63a5\u7740\u7f16\u5199\u4e0b\u9762\u7684\u4ee3\u7801\uff1a </p><pre><code>package main\n\nimport (\n    \"github.com/gin-gonic/gin\"\n    \"net/http\"\n)\n\nfunc main() {\n    app := gin.Default()\n    app.GET(\"/hi\", func(c *gin.Context) {\n        c.JSON(http.StatusOK, gin.H{\n            \"msg\": \"Hello Gin!\",\n        })\n    })\n    app.Run()    // (1)\n}\n</code></pre><p></p> <ol> <li>\u9ed8\u8ba4\u8fd0\u884c\u5728 8080 \u7aef\u53e3</li> </ol> <p>\u7136\u540e\u6267\u884c <code>go run demo.go</code> \u547d\u4ee4\u8fd0\u884c\u4ee3\u7801\uff1a </p><pre><code>$ go rum demo.go\n</code></pre><p></p> <p>\u6700\u540e\u6253\u5f00\u6d4f\u89c8\u5668\u8bbf\u95ee http://localhost:8080/hi</p>"},{"location":"Go/Framework/gin/Gin-1-%E8%BF%94%E5%9B%9E%E6%95%B0%E6%8D%AE/","title":"\u8fd4\u56de\u6570\u636e","text":""},{"location":"Go/Framework/gin/Gin-1-%E8%BF%94%E5%9B%9E%E6%95%B0%E6%8D%AE/#_1","title":"\u8fd4\u56de","text":"<p>\u5728\u63a5\u6536\u5230\u8bf7\u6c42\uff0c\u7ecf\u8fc7\u4e00\u756a\u5904\u7406\u4e4b\u540e\uff0c\u6211\u4eec\u9700\u8981\u8fd4\u56de\u7ed3\u679c\uff0c\u4e5f\u5c31\u662f\u54cd\u5e94\u8bf7\u6c42\u3002</p> <p>\u54cd\u5e94\u8bf7\u6c42\u7684\u683c\u5f0f\u6709 &gt;= 5\u79cd\u683c\u5f0f\uff1a</p> <ul> <li>[]byte</li> <li>string</li> <li>JSON</li> <li>XML</li> <li>YAML</li> <li>protobuf</li> <li>Template</li> </ul> []byte \u65b9\u5f0fstring \u65b9\u5f0fJSON \u683c\u5f0fYAML \u683c\u5f0fXML \u683c\u5f0f <p>\u8fd4\u56de\u5b57\u8282\u5207\u7247\u683c\u5f0f\u65f6\uff0c\u9700\u8981\u4f7f\u7528 <code>gin.Context.Writer</code> \u7684 <code>Write</code> \u65b9\u6cd5\uff0c\u5c06\u5b57\u8282\u5207\u7247\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\u5373\u53ef\uff0c\u65e0\u9700\u586b\u5199\u72b6\u6001\u7801\u3002</p> <pre><code>func main() {\n    r := gin.Default()\n\n    r.GET(\"/byte\", func(c *gin.Context) {\n        fullPath := \"\u8bf7\u6c42\u8def\u5f84\uff1a \" + c.FullPath()\n\n        c.Writer.Write([]byte(fullPath))\n    })\n\n    r.Run()\n}\n</code></pre> <p></p> <p>\u4f7f\u7528 string \u65b9\u5f0f\u5219\u65b9\u4fbf\u8bb8\u591a\uff0c\u76f4\u63a5\u4f7f\u7528 <code>gin.Context</code> \u7684 <code>String</code> \u65b9\u6cd5\uff1b</p> <p></p><pre><code>func (c *Context) String(code int, format string, values ...interface{});\n</code></pre> \u53c2\u6570\u542b\u4e49\u4e3a<code>\u72b6\u6001\u7801\u3001\u683c\u5f0f\u5b57\u7b26\u4e32\u3001\u503c</code>\u3002<p></p> <pre><code>func main() {\n    r := gin.Default()\n\n    r.GET(\"/byte\", func(c *gin.Context) {\n        fullpath := \"\u8bf7\u6c42\u8def\u5f84\uff1a \" + c.FullPath()\n\n        c.String(200, \"\u8bf7\u6c42\u8def\u5f84: %s\", c.FullPath())\n    })\n\n    r.Run()\n}\n</code></pre> <p></p> <p>\u6700\u5e38\u7528\u7684\u5c31\u662f\u8fd4\u56de JSON \u683c\u5f0f\uff0c\u65b9\u6cd5\u65f6\u4f7f\u7528 <code>gin.Context</code> \u7684 <code>JSON</code> \u65b9\u6cd5\uff1a</p> <p></p><pre><code>func (c *Context) JSON(code int, obj interface{});\n</code></pre> \u53c2\u6570\u542b\u4e49\u4e3a <code>\u72b6\u6001\u7801\u3001\u6570\u636e</code><p></p> <p>\u8fd4\u56de\u7684\u6570\u636e\u53ef\u4ee5\u7528 <code>map[string]interface{}</code> \u6765\u88c5\u8f7d\uff0c\u800c gin \u8d34\u5fc3\u7684\u4e3a\u8fd9\u4e2a\u7c7b\u578b\u505a\u4e86\u5b9a\u4e49 <code>gin.H</code>\u3002 \u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 <code>gin.H</code>\uff0c\u8fd9\u6837\u5c31\u4e0d\u7528\u5199\u957f\u957f\u4e00\u4e32\u4e86\u3002</p> <pre><code>func main() {\n    r := gin.Default()\n\n    r.GET(\"/json1\", func(c *gin.Context) {\n        // \u65b9\u6cd51 \u4f7f\u7528 map[string]interface{}\uff0c\u5373 gin.H\n        data := gin.H{\n            \"name\": \"Boii\",\n            \"age\":  17,\n        }\n        c.JSON(http.StatusOK, data)\n    })\n\n    r.Run()\n}\n</code></pre> <p>\u9664\u4e86 <code>gin.H</code>\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u4f7f\u7528\u7ed3\u6784\u4f53\u6765\u88c5\u8f7d\u6211\u4eec\u7684\u6570\u636e\u3002</p> <pre><code>func main() {\n    r := gin.Default()\n\n    r.GET(\"/json2\", func(c *gin.Context) {\n        // \u65b9\u6cd52 \u4f7f\u7528\u7ed3\u6784\u4f53\n        data := struct {\n            Name string `json:\"name\"`\n            Age  int    `json:\"age\"`\n        }{\"Boii\", 18}\n        c.JSON(http.StatusOK, data)\n    })\n\n    r.Run()\n}\n</code></pre> <p></p> <p>yaml \u4e5f\u662f\u4e00\u79cd\u5f88\u597d\u7528\u7684\u683c\u5f0f\uff0c\u8fd1\u5e74\u6765\u4e5f\u5f00\u59cb\u9010\u6e10\u5174\u8d77</p> <p></p><pre><code>func (c *Context) YAML(code int, obj interface{});\n</code></pre> \u53c2\u6570\u542b\u4e49\u4e3a <code>\u72b6\u6001\u7801\u3001\u6570\u636e</code>\uff0c\u57fa\u672c\u548cJSON\u662f\u4e00\u6837\u7684\uff0c\u6570\u636e\u53ef\u4ee5\u4f7f\u7528 <code>gin.H</code> \u4e5f\u53ef\u4ee5\u4f7f\u7528\u7ed3\u6784\u4f53\u3002<p></p> <pre><code>func main() {\n    r := gin.Default()\n\n    r.GET(\"/json1\", func(c *gin.Context) {\n        // \u65b9\u6cd51 \u4f7f\u7528 map[string]interface{}\uff0c\u5373 gin.H\n        data := gin.H{\n            \"name\": \"Boii\",\n            \"age\":  17,\n        }\n        c.YAML(http.StatusOK, data)\n    })\n\n    r.Run()\n}\n</code></pre> <p>\u9664\u4e86 <code>gin.H</code>\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u4f7f\u7528\u7ed3\u6784\u4f53\u6765\u88c5\u8f7d\u6211\u4eec\u7684\u6570\u636e\u3002</p> <pre><code>func main() {\n    r := gin.Default()\n\n    r.GET(\"/json2\", func(c *gin.Context) {\n        // \u65b9\u6cd52 \u4f7f\u7528\u7ed3\u6784\u4f53\n        data := struct {\n            Name string `json:\"name\"`\n            Age  int    `json:\"age\"`\n        }{\"Boii\", 18}\n        c.YAML(http.StatusOK, data)\n    })\n\n    r.Run()\n}\n</code></pre> <p></p> <p>\u8fd8\u6709\u4e00\u79cd\u4e5f\u662f\u5f88\u5e38\u7528\u7684\u683c\u5f0f\u662f XML\uff0c\u4f46\u662f\u8fd9\u79cd\u53ea\u80fd\u4f7f\u7528 <code>gin.H</code>\uff0c\u4e0d\u80fd\u4f7f\u7528\u7ed3\u6784\u4f53\u88c5\u8f7d\u6570\u636e\u3002</p> <pre><code>func (c *Context) XML(code int, obj interface{});\n</code></pre> <p></p><pre><code>func main() {\n    r := gin.Default()\n\n    r.GET(\"/xml\", func(c *gin.Context) {\n        data := gin.H{\n            \"name\": \"Boii\",\n            \"age\": 18,\n        }\n        c.XML(http.StatusOK, data)\n    })\n\n    r.Run()\n}\n</code></pre> <p></p>"},{"location":"Go/Framework/gin/Gin-2-%E6%8E%A5%E6%94%B6%E8%AF%B7%E6%B1%82/","title":"\u63a5\u6536\u8bf7\u6c42","text":""},{"location":"Go/Framework/gin/Gin-2-%E6%8E%A5%E6%94%B6%E8%AF%B7%E6%B1%82/#_1","title":"\u63a5\u6536\u8bf7\u6c42","text":"<p>\u4f5c\u4e3a\u4e00\u4e2a\u670d\u52a1\u5668\uff0c\u6700\u57fa\u672c\u7684\u4efb\u52a1\u5c31\u662f\u63a5\u6536\u8bf7\u6c42\uff0c\u7136\u540e\u662f\u8fd4\u56de\u7ed3\u679c\u3002</p> <p>\u5ba2\u6237\u7aef\u53d1\u6765\u7684\u8bf7\u6c42\u53ef\u4ee5\u6709\u591a\u79cd\uff0c\u5982 GET\u3001POST\u3001PUT\u3001DELETE\u3002 \u6700\u57fa\u672c\u7684\u5c31\u662f GET\u3001POST \u4e24\u79cd\uff0c\u4e0d\u8fc7\u8fd9\u91cc\u8fd8\u662f\u5efa\u8bae\u9075\u5faa RESTful \u89c4\u8303\u3002</p>"},{"location":"Go/Framework/gin/Gin-2-%E6%8E%A5%E6%94%B6%E8%AF%B7%E6%B1%82/#handle","title":"\u57fa\u672c\u5904\u7406\uff1aHandle()","text":"<p>gin \u63a5\u6536\u8bf7\u6c42\u6709\u4e00\u79cd\u6700\u57fa\u672c\u7684\u65b9\u6cd5\uff0c\u4f7f\u7528 <code>Handle()</code> \u65b9\u6cd5\u3002</p> <p>\u5176\u65b9\u6cd5\u7b7e\u540d\u5982\u4e0b\uff1a </p><pre><code>func (group *RouterGroup) Handle(httpMethod, relativePath string, handlers ...HandlerFunc) IRoutes;\n</code></pre> \u5176\u63a5\u53d7\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a HTTP \u8bf7\u6c42\u65b9\u5f0f\uff0c\u7b2c\u4e8c\u4e2a\u4e3a\u8def\u7531\u8def\u5f84\uff0c\u7b2c\u4e09\u4e2a\u4e3a\u8be5\u8bf7\u6c42\u5bf9\u5e94\u7684\u5904\u7406\u51fd\u6570\u3002<p></p> \u6700\u57fa\u672c\u7684\u6817\u5b50\uff0c\u63a5\u6536\u4e00\u4e2a GET \u8bf7\u6c42 <pre><code>func main() {\n    app := gin.Default()\n\n    app.Handle(\"GET\", \"/hello\", func(c *gin.Context) {\n        c.JSON(http.StatusOK, gin.H{\n            \"msg\": \"Hello!\",\n        })\n    })\n\n    app.Run(\":9090\")\n}\n</code></pre> <p>\u7b2c4\u884c\u8c03\u7528\u4e86 <code>Handle()</code>\uff0c\u8bf7\u6c42\u65b9\u5f0f\u4e3a GET \u65b9\u6cd5\uff0c\u8def\u7531\u8def\u5f84\u4e3a <code>/hello</code>\uff0c\u5904\u7406\u65b9\u6cd5\u662f\u8fd4\u56de\u4e00\u4e32JSON\u6570\u636e\u3002</p> <p>\u6d4f\u89c8\u5668\u8bbf\u95ee <code>http://localhost:9090/hello</code> \u53ef\u5f97\u5230\u4e0b\u9762\u7684\u7ed3\u679c</p> <p></p> <p>\u63a5\u6536 POST\u3001PUT \u7b49\u65b9\u5f0f\u7684\u8bf7\u6c42</p> <p>\u901a\u8fc7 <code>Handle()</code> \u7b2c\u4e00\u4e2a\u53c2\u6570\u6211\u4eec\u53ef\u4ee5\u63a5\u6536\u4e0d\u540c\u65b9\u5f0f\u7684\u8bf7\u6c42\uff0c\u4f8b\u5982 POST</p> <pre><code>func main() {\n\n    r := gin.Default()\n\n    // http://127.0.0.1:9090/login\n    r.Handle(\"POST\", \"/login\", func(c *gin.Context) {    // \u5904\u7406 POST \u8bf7\u6c42\n        user := c.PostForm(\"user\")    // \u83b7\u53d6\u8868\u5355\u53c2\u6570\n        pass := c.PostForm(\"pass\")    // \u83b7\u53d6\u8868\u5355\u53c2\u6570\n\n        // \u5904\u7406\u4e1a\u52a1\u903b\u8f91\n        if user == \"Boii\" &amp;&amp; pass == \"123\" {\n            c.JSON(http.StatusOK, gin.H{\n                \"code\": 2001,\n                \"msg\":  \"\u767b\u5f55\u6210\u529f\",\n            })\n            return\n        }\n\n        c.YAML(http.StatusOK, gin.H{\n            \"code\": 4001,\n            \"msg\":  \"\u767b\u5f55\u5931\u8d25\",\n        })\n    })\n\n    r.Run(\":9090\")\n}\n</code></pre> <p>\u901a\u8fc7 Postman \u53ef\u4ee5\u8bbe\u5b9a\u8868\u5355\u53c2\u6570\u7136\u540e\u53d1\u8d77\u8bf7\u6c42\uff0c\u6211\u4eec\u7528gin\u5199\u7684\u4ee3\u7801\u5c31\u53ef\u4ee5\u63a5\u6536\u5230\u4e00\u4e2a POST \u8bf7\u6c42\uff0c\u5e76\u8fdb\u884c\u5904\u7406\u3002 </p> <p>\u53ef\u4ee5\u770b\u5230\uff0c Postman \u4e2d\u8bbe\u7f6e\u4e86\u4e24\u4e2a\u53c2\u6570 <code>user</code> \u548c <code>pass</code>\uff0c\u5411 <code>http://localhost:9090/login</code> \u53d1\u6e05\u8bf7\u6c42\u3002</p> <p>\u5173\u4e8e\u83b7\u53d6\u53c2\u6570\u540e\u9762\u4f1a\u8be6\u89e3\u3002</p>"},{"location":"Go/Framework/gin/Gin-2-%E6%8E%A5%E6%94%B6%E8%AF%B7%E6%B1%82/#gingetginpost","title":"\u5feb\u6377\u65b9\u5f0f\uff1agin.GET()\u3001gin.POST()...","text":"<p>\u50cf GET\u3001POST\u3001PUT\u3001DELETE \u7b49\u8fd9\u4e9b HTTP\u65b9\u5f0f\u7684\u5904\u7406\u51fd\u6570\u4f1a\u5f88\u5e38\u7528\uff0c\u6240\u4ee5 gin \u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u65b9\u6cd5\u4f9b\u6211\u4eec\u66f4\u65b9\u4fbf\u7684\u4f7f\u7528\u3002</p> \u6e90\u7801 <pre><code>// POST is a shortcut for router.Handle(\"POST\", path, handle).\nfunc (group *RouterGroup) POST(relativePath string, handlers ...HandlerFunc) IRoutes {\n    return group.handle(http.MethodPost, relativePath, handlers)\n}\n\n// GET is a shortcut for router.Handle(\"GET\", path, handle).\nfunc (group *RouterGroup) GET(relativePath string, handlers ...HandlerFunc) IRoutes {\n    return group.handle(http.MethodGet, relativePath, handlers)\n}\n\n// DELETE is a shortcut for router.Handle(\"DELETE\", path, handle).\nfunc (group *RouterGroup) DELETE(relativePath string, handlers ...HandlerFunc) IRoutes {\n    return group.handle(http.MethodDelete, relativePath, handlers)\n}\n\n// PATCH is a shortcut for router.Handle(\"PATCH\", path, handle).\nfunc (group *RouterGroup) PATCH(relativePath string, handlers ...HandlerFunc) IRoutes {\n    return group.handle(http.MethodPatch, relativePath, handlers)\n}\n\n// PUT is a shortcut for router.Handle(\"PUT\", path, handle).\nfunc (group *RouterGroup) PUT(relativePath string, handlers ...HandlerFunc) IRoutes {\n    return group.handle(http.MethodPut, relativePath, handlers)\n}\n\n// OPTIONS is a shortcut for router.Handle(\"OPTIONS\", path, handle).\nfunc (group *RouterGroup) OPTIONS(relativePath string, handlers ...HandlerFunc) IRoutes {\n    return group.handle(http.MethodOptions, relativePath, handlers)\n}\n\n// HEAD is a shortcut for router.Handle(\"HEAD\", path, handle).\nfunc (group *RouterGroup) HEAD(relativePath string, handlers ...HandlerFunc) IRoutes {\n    return group.handle(http.MethodHead, relativePath, handlers)\n}\n</code></pre> <p>\u901a\u8fc7\u6e90\u7801\u53ef\u4ee5\u770b\u51fa\uff0cgin \u5f88\u8d34\u5fc3\u7684\u505a\u4e86\u4e00\u5c42\u5c01\u88c5\uff0c\u63d0\u4f9b\u4e86\u5bf9\u5e94\u8bf7\u6c42\u65b9\u5f0f\u7684 <code>shortcut</code>\uff0c\u4f7f\u5f00\u53d1\u8005\u66f4\u65b9\u4fbf\u7684\u8c03\u7528\u3002 \u53c2\u6570\u4e0a\u53ea\u9700\u8981\u4f20\u9012 <code>\u8def\u7531\u8def\u5f84</code> \u548c <code>\u5904\u7406\u51fd\u6570</code> \u5373\u53ef\uff0c\u8fd9\u4e9b\u201c\u5feb\u6377\u65b9\u5f0f\u201d\u4f1a\u5e2e\u6211\u4eec\u8c03\u7528 <code>handle()</code>\u3002</p> <p>eg\uff1a</p> <pre><code>func main() {\n    r := gin.Default()\n\n    // http://127.0.0.1:9090/hello\n    r.GET(\"/hello\", func(c *gin.Context) {\n        c.JSON(http.StatusOK, gin.H{ \"msg\": \"Hello\"})\n    })\n    r.Run(\":9090\")\n}\n</code></pre> <pre><code>func main() {\n    r := gin.Default()\n\n    // http://127.0.0.1:9090/login\n    r.POST(\"/login\", func(c *gin.Context) {\n        c.JSON(http.StatusOK, gin.H{ \"msg\": \"Hello\"})\n    })\n    r.Run(\":9090\")\n}\n</code></pre>"},{"location":"Go/Framework/gin/Gin-2-%E6%8E%A5%E6%94%B6%E8%AF%B7%E6%B1%82/#404","title":"404 \u9875\u9762","text":"<pre><code>func main() {\n    r := gin.Default()\n\n    r.NoRoute(func(c *gin.Context) {\n        c.HTML(http.StatusNotFound, \"views/404.html\", nil)\n    })\n\n    r.Run(\":9090\")\n}\n</code></pre> \u4e0d\u9700\u8981\u6307\u5b9a\u8def\u5f84\uff0c\u53ea\u8981\u7528\u6237\u8bbf\u95ee\u4e0d\u5b58\u5728\u7684\u8def\u5f84\uff0c\u5c31\u4f1a\u6267\u884c\u6b64\u8def\u7531\u3002"},{"location":"Go/Framework/gin/Gin-2-%E6%8E%A5%E6%94%B6%E8%AF%B7%E6%B1%82/#_2","title":"\u5904\u7406\u8bf7\u6c42\u53c2\u6570","text":""},{"location":"Go/Framework/gin/Gin-2-%E6%8E%A5%E6%94%B6%E8%AF%B7%E6%B1%82/#get","title":"\u83b7\u53d6 GET \u8bf7\u6c42\u7684\u53c2\u6570","text":"<p>GET \u8bf7\u6c42\u7684\u53c2\u6570\u4f1a\u663e\u5f0f\u7684\u643a\u5e26\u5728URL\u4e2d\u3002</p> <p>\u53ef\u4ee5\u901a\u8fc7 <code>gin.Context.Query()</code> \u6216 <code>gin.Context.DefaultQuery()</code> \u4e24\u79cd\u65b9\u6cd5\u83b7\u53d6\u3002</p> <p>\u4ed6\u4eec\u7684\u533a\u522b\u662f <code>DefaultQuery()</code> \u9700\u8981\u586b\u5165\u9ed8\u8ba4\u503c\u3002</p> <pre><code>func (c *Context) Query(key string) string;\nfunc (c *Context) DefaultQuery(key, defaultValue string) string;\n</code></pre> Example <p></p><pre><code>func main() {\n    r := gin.Default()\n\n    r.GET(\"/hello\", func(c *gin.Context) {\n        name := c.Query(\"name\")\n        age := c.DefaultQuery(\"age\")\n        c.JSON(200, gin.H{\"msg\": \"Hello \" + name + \", you're \" + age})\n    })\n\n    r.Run(\":9090\")\n}\n</code></pre> <p></p> <p></p>"},{"location":"Go/Framework/gin/Gin-2-%E6%8E%A5%E6%94%B6%E8%AF%B7%E6%B1%82/#post","title":"\u83b7\u53d6 POST \u8868\u5355\u53c2\u6570","text":"<p>POST \u8bf7\u6c42\u7684\u53c2\u6570\u4e0d\u4f1a\u663e\u5f0f\u7684\u643a\u5e26\u5728URL\u4e2d\uff0c\u800c\u662f\u5305\u88f9\u5728\u8bf7\u6c42\u4f53 Body \u4e2d\uff0c\u662f\u901a\u8fc7\u8868\u5355\u63d0\u4ea4\u7684\u3002</p> <p>\u53ef\u4ee5\u901a\u8fc7 <code>gin.Context.PostForm()</code> \u6216 <code>gin.Context.DefaultPostForm()</code> \u4e24\u79cd\u65b9\u6cd5\u83b7\u53d6\u3002</p> <p>\u540c\u6837\u4ed6\u4eec\u7684\u533a\u522b\u4ec5\u5728\u4e8e\u4e00\u4e2a\u9700\u8981\u586b\u5165\u9ed8\u8ba4\u503c\u3002</p> <pre><code>func (c *Context) PostForm(key string) string;\nfunc (c *Context) DefaultPostForm(key, defaultValue string) string;\n</code></pre> Example <pre><code>func main() {\n    r := gin.Default()\n\n    // http://127.0.0.1:9090/login\n    r.POST(\"/login\", func(c *gin.Context) {\n        user := c.DefaultPostForm(\"user\", \"admin\")\n        pass := c.PostForm(\"pass\")\n        if user == \"Boii\" &amp;&amp; pass == \"123\" {\n            c.JSON(http.StatusOK, gin.H{\n                \"code\": 2001,\n                \"msg\":  \"\u767b\u5f55\u6210\u529f\",\n            })\n            return\n        }\n        c.YAML(http.StatusOK, gin.H{\n            \"code\": 4001,\n            \"msg\":  \"\u767b\u5f55\u5931\u8d25\",\n        })\n    })\n    r.Run(\":9090\")\n}\n</code></pre> <p></p>"},{"location":"Go/Framework/gin/Gin-2-%E6%8E%A5%E6%94%B6%E8%AF%B7%E6%B1%82/#_3","title":"\u5904\u7406\u5176\u4ed6\u683c\u5f0f\u7684\u8bf7\u6c42\u53c2\u6570","text":"<p>\u9664\u4e86URL\u4e2d\u7684\u53c2\u6570\u3001\u8868\u5355\u63d0\u4ea4\u7684\u53c2\u6570\uff0c\u5728\u5ba2\u6237\u7aef\u53d1\u8d77 HTTP \u8bf7\u6c42\u65f6\u8fd8\u53ef\u4ee5\u4f7f\u7528 JSON\u3001XML\u3001YAML \u7b49\u683c\u5f0f\u3002</p> <p>\u83b7\u53d6\u8fd9\u4e9b\u683c\u5f0f\u7684\u53c2\u6570\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>gin.Context.Bind()</code> \u6765\u83b7\u53d6\uff0c</p> <p>Bind() \u6709\u4e00\u7cfb\u5217\u7684\u65b9\u6cd5\uff1a </p><pre><code>func (c *Context) Bind(obj interface{}) error;\nfunc (c *Context) BindJSON(obj interface{}) error;\nfunc (c *Context) BindXML(obj interface{}) error;\nfunc (c *Context) BindQuery(obj interface{}) error;\nfunc (c *Context) BindYAML(obj interface{}) error;\nfunc (c *Context) BindHeader(obj interface{}) error;\nfunc (c *Context) BindUri(obj interface{}) error;\nfunc (c *Context) MustBindWith(obj interface{}, b binding.Binding) error;\n</code></pre><p></p> <p>\u663e\u7136\uff0c\u8981\u89e3\u6790\u8bf7\u6c42\u4e2d\u4ec0\u4e48\u7c7b\u578b\u7684\u6570\u636e\u5c31\u8c03\u7528\u4ec0\u4e48\u65b9\u6cd5\uff0c\u53c2\u6570 <code>obj</code> \u9700\u8981\u6211\u4eec\u4f20\u5165\u4e00\u4e2a\u7ed3\u6784\u4f53\u53d8\u91cf\uff0c\u7528\u4e8e\u88c5\u8f7d\u89e3\u6790\u540e\u7684\u6570\u636e\u3002</p> <p>\u7ed3\u6784\u4f53\u6bcf\u4e2a\u5b57\u6bb5\u90fd\u9700\u8981\u6709 tag\uff0c\u5426\u5219\u4f1a\u89e3\u6790\u5931\u8d25\u3002</p> Example <pre><code>type UserInfo struct {\n    User string\n    Pass string\n}\n\nvar u UserInfo\n\nfunc main() {\n    r := gin.Default()\n\n    r.POST(\"/login\", func(c *gin.Context) {\n        c.BindJSON(&amp;u)\n        c.JSON(200, gin.H{\n            \"user\": u.User,\n            \"pass\": u.Pass,\n        })\n    })\n\n    r.Run(\":9090\")\n}\n</code></pre> <p></p> <p>\u8fd9\u4e2a\u4f8b\u5b50\u53ef\u4ee5\u89e3\u6790 HTTP \u8bf7\u6c42\u4e2d\u901a\u8fc7 JSON \u643a\u5e26\u7684\u6570\u636e\u3002</p>"},{"location":"Go/Framework/gin/Gin-2-%E6%8E%A5%E6%94%B6%E8%AF%B7%E6%B1%82/#bind","title":"Bind()","text":"<p>\u5982\u679c\u60f3\u6839\u636e\u8bf7\u6c42\u4e2d\u7684 <code>content-type</code> \u5c5e\u6027\u6765\u9009\u62e9\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>Bind()</code> \u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u4f1a\u81ea\u52a8\u9009\u62e9</p> \u6e90\u7801 <pre><code>// gin \u6e90\u7801\n// context.go\n\n// Bind checks the Content-Type to select a binding engine automatically,\n// Depending the \"Content-Type\" header different bindings are used:\n//     \"application/json\" --&gt; JSON binding\n//     \"application/xml\"  --&gt; XML binding\n// otherwise --&gt; returns an error.\n// It parses the request's body as JSON if Content-Type == \"application/json\" using JSON or XML as a JSON input.\n// It decodes the json payload into the struct specified as a pointer.\n// It writes a 400 error and sets Content-Type header \"text/plain\" in the response if input is not valid.\nfunc (c *Context) Bind(obj interface{}) error {\n    b := binding.Default(c.Request.Method, c.ContentType())\n    return c.MustBindWith(obj, b)\n}\n\n// gin \u6e90\u7801\n// binding.go\n\n// Default returns the appropriate Binding instance based on the HTTP method\n// and the content type.\nfunc Default(method, contentType string) Binding {\n    if method == http.MethodGet {\n        return Form\n    }\n\n    switch contentType {\n    case MIMEJSON:\n        return JSON\n    case MIMEXML, MIMEXML2:\n        return XML\n    case MIMEPROTOBUF:\n        return ProtoBuf\n    case MIMEMSGPACK, MIMEMSGPACK2:\n        return MsgPack\n    case MIMEYAML:\n        return YAML\n    case MIMEMultipartPOSTForm:\n        return FormMultipart\n    default: // case MIMEPOSTForm:\n        return Form\n    }\n}\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\uff0ccontext \u4e2d\u7684 <code>Bind()</code> \u65b9\u6cd5\u8c03\u7528\u4e86 <code>binding.Default()</code> \u65b9\u6cd5;</p> <p>\u5728 <code>binding.Default()</code> \u65b9\u6cd5\u4e2d\uff0c\u5982\u679c\u8bf7\u6c42\u65b9\u5f0f\u662f GET \u5219\u8fd4\u56de Form\uff0c\u5426\u5219\u7684\u8bdd\uff0c\u6839\u636e\u8bf7\u6c42\u4e2d\u7684 <code>content-type</code> \u5c5e\u6027\u8fd4\u56de\u5bf9\u5e94\u7684\u683c\u5f0f\u3002</p> <p>\u63a5\u7740\u4f1a\u8c03\u7528 <code>gin.Context.MustBindWith(obj, b) -&gt; gin.Context.ShouldBindWith(obj, b) -&gt; b.Bind()</code>\uff1b</p> <p>\u5230 <code>b.Bind()</code> \u8fd9\u91cc\u7684\u65f6\u5019\uff0c\u4f1a\u6839\u636e <code>b</code> \u7684\u7c7b\u578b\u8c03\u7528\u5404\u81ea\u7684 <code>Bind()</code> \u65b9\u6cd5\u3002</p> <p>\u4f8b\u5982 JSON \u7684\u8bdd\u4f1a\u8c03\u7528 <code>jsonBinding.Bind()</code> \u65b9\u6cd5\uff0c\u7136\u540e\u5728\u91cc\u9762\u8c03\u7528 <code>decodeJSON()</code> \u65b9\u6cd5\u3002</p> <p></p>"},{"location":"Go/Framework/gin/Gin-2-%E6%8E%A5%E6%94%B6%E8%AF%B7%E6%B1%82/#_4","title":"\u4e00\u6b21\u89e3\u6790\u591a\u4e2a\u53c2\u6570","text":"<p>\u4e0a\u9762\u767b\u5f55\u7684\u6817\u5b50\u4e2d\uff0c\u6211\u4eec\u7b80\u7b80\u5355\u5355\u7684\u83b7\u53d6\u4e86\u4e24\u4e2a\u53c2\u6570\uff0c\u6240\u4ee5\u53ef\u4ee5\u7528\u4e24\u6b21 <code>PostForm()</code> \u65b9\u6cd5\u3002</p> <p>\u4f46\u662f\u5f53\u53c2\u6570\u591a\u8d77\u6765\u7684\u65f6\u5019\uff0c\u8fd9\u79cd\u65b9\u5f0f\u5e76\u4e0d\u662f\u5f88\u597d\u3002\u597d\u5728 gin \u8fd8\u63d0\u4f9b\u53e6\u5916\u7684\u65b9\u6cd5\u65b9\u4fbf\u6211\u4eec\u4e00\u6b21\u89e3\u6790\u591a\u4e2a\u53c2\u6570\u3002</p> <p>\u8981\u4e00\u6b21\u89e3\u6790\u591a\u4e2a\u53c2\u6570\uff0c\u6211\u4eec\u9700\u8981\u4e00\u4e2a \u7ed3\u6784\u4f53 \u6765\u88c5\u8f7d\u8fd9\u4e9b\u53c2\u6570\u7684\u503c\uff0c\u7136\u540e\u5c06\u7ed3\u6784\u4f53\u4f20\u7ed9 <code>gin.Context.Bind()</code> \u3001 <code>gin.Context.ShouldBind()</code> \u3001 <code>gin.Context.ShouldBindQuery()</code> \u7b49\u65b9\u6cd5\u3002</p> <pre><code>func (c *Context) ShouldBind(obj interface{}) error;\nfunc (c *Context) ShouldBindQuery(obj interface{}) error;\n</code></pre> <p>\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6211\u4eec\u5b9a\u4e49\u7684\u8fd9\u4e2a\u7ed3\u6784\u4f53\u6bcf\u4e2a\u5b57\u6bb5\u90fd\u9700\u8981\u6709 tag\uff0c\u5426\u5219\u4f1a\u89e3\u6790\u5931\u8d25\u3002</p> \u4f8b\u5982 <pre><code>func main() {\n    r := gin.Default()\n\n    type UserInfo struct {\n        User string `form:\"user\"`\n        Pass string `form:\"pass\"`\n    }\n    // http://127.0.0.1:9090/login\n    r.POST(\"/login\", func(c *gin.Context) {\n        var u UserInfo\n        c.ShouldBind(&amp;u)\n        c.JSON(http.StatusOK, gin.H{\n            \"code\": 2001,\n            \"msg\":  \"\u767b\u5f55\u6210\u529f\",\n            \"user\": u.User,\n            \"pass\": u.Pass,\n        })\n    })\n    r.Run(\":9090\")\n}\n</code></pre> <p></p> <p>\u6548\u679c\u662f\u4e00\u6837\u7684\u3002</p>"},{"location":"Go/Framework/gin/Gin-2-%E6%8E%A5%E6%94%B6%E8%AF%B7%E6%B1%82/#_5","title":"\u89e3\u6790\u8def\u7531\u8def\u5f84\u4e2d\u7684\u53c2\u6570","text":""},{"location":"Go/Framework/gin/Gin-2-%E6%8E%A5%E6%94%B6%E8%AF%B7%E6%B1%82/#gincontextparam","title":"gin.Context.Param()","text":"<p>\u8def\u7531\u8def\u5f84\u6709\u65f6\u5019\u5e76\u4e0d\u56fa\u5b9a\uff0c\u800c\u662f\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u53d8\u5316\u7684\u3002</p> <p>\u4f8b\u5982\u4e0b\u9762\u7684\u6817\u5b50\uff0c\u4e0d\u540c\u7684\u7528\u6237\u6709\u4e0d\u540c\u7684ID\uff0c\u8981\u83b7\u53d6\u8fd9\u4e2aID\uff0c\u9700\u8981\u7528\u5230 <code>gin.Context.Param()</code> \u65b9\u6cd5\uff0c\u586b\u5165\u5192\u53f7\u901a\u914d\u7b26\u540e\u9762\u7684\u53d8\u91cf <code>id</code> \u5373\u53ef\u3002</p> <p>\u5728\u4f7f\u7528 PUT\u3001DELETE \u7b49\u8bf7\u6c42\u65b9\u6cd5\u7684\u65f6\u5019\u662f\u4fee\u6539\u3001\u5220\u9664\u67d0\u6761\u8bb0\u5f55\u7684\u76ee\u7684\uff0c\u8fd9\u9700\u8981\u5728\u8def\u5f84\u4e2d\u6307\u5b9a\u4e00\u4e2a\u5173\u952e\u503c\uff08\u5982 <code>id</code>\uff09\uff0c\u8fd9\u91cc\u5c31\u53ef\u4ee5\u7528\u50cf\u4e0b\u9762\u8fd9\u6837\u53bb\u89e3\u6790\u3002</p> Example <pre><code>func main() {\n    r := gin.Default()\n\n    // http://127.0.0.1:9090/user/10086\n    r.PUT(\"/user/:id\", func(c *gin.Context) {\n        userId := c.Param(\"id\")\n        c.JSON(http.StatusOK, gin.H{\n            \"code\": 2001,\n            \"msg\":  \"ID is \" + userId,\n        })\n    })\n    r.Run(\":9090\")\n}\n</code></pre> <p></p>"},{"location":"Go/Framework/gin/Gin-2-%E6%8E%A5%E6%94%B6%E8%AF%B7%E6%B1%82/#gincontextparams","title":"gin.Context.Params","text":"<p>\u9664\u4e86<code>Param()</code>\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528 <code>Params.Get()</code>\u3001<code>Params.ByName()</code> \u53bb\u83b7\u53d6\u60f3\u8981\u7684\u53c2\u6570\u3002</p> Example <pre><code>func main() {\n    r := gin.Default()\n\n    // http://127.0.0.1:9090/Boii/18/1234567\n    r.GET(\"/params/:name/:age/:tele\", func(c *gin.Context) {\n        params := c.Params\n\n        name, _ := params.Get(\"name\")\n        age     := params.ByName(\"age\")\n        tele    := c.Param(\"tele\")\n\n        c.JSON(http.StatusOK, gin.H{\n            \"name\": name,\n            \"age\":  age,\n            \"tele\": tele,\n        })\n    })\n\n    r.Run(\":9090\")\n}\n</code></pre> <p></p>"},{"location":"Go/Framework/gin/Gin-3-%E8%B7%AF%E7%94%B1%E7%BB%84/","title":"\u8def\u7531\u7ec4","text":""},{"location":"Go/Framework/gin/Gin-3-%E8%B7%AF%E7%94%B1%E7%BB%84/#_1","title":"\u8def\u7531\u7ec4","text":"<p>\u5f00\u53d1\u4e2d\u5e38\u5e38\u4f1a\u9047\u5230\u4e00\u79cd\u9700\u6c42\uff1a</p> <p>\u5c06\u7cfb\u7edf\u5212\u5206\u6210\u591a\u4e2a\u6a21\u5757\uff0c\u4f8b\u5982\u7528\u6237\u7ba1\u7406\u6a21\u5757\u3001\u4e66\u7c4d\u7ba1\u7406\u6a21\u5757\u7b49\uff0c\u8fd9\u4e9b\u6a21\u5757\u4e0b\u5404\u81ea\u6709\u5b50\u6a21\u5757\u3002</p> <p>\u5728\u8bbe\u8ba1\u8def\u7531\u8def\u5f84\u7684\u65f6\u5019\u53ef\u80fd\u5c31\u9700\u8981\u8bbe\u7f6e\u6210\u4e0b\u9762\u7684\u6837\u5b50\uff1a</p> <ul> <li>/user/register</li> <li>/user/login</li> <li>/user/:id/info</li> <li>/user/:id/setting</li> <li>/book/add</li> <li>/book/search/:id</li> <li>/book/remove/:id</li> <li>/book/modify/:id</li> </ul> <p>\u8fd9\u6837\u7684\u8bbe\u8ba1\u867d\u7136\u6ca1\u6709\u4ec0\u4e48\u95ee\u9898\uff0c\u4f46\u662f\u4e0d\u65b9\u4fbf\u7ba1\u7406\uff0c\u5982\u679c\u7a81\u7136\u5bf9 user \u6216\u8005 book \u8fd9\u4e2a\u5927\u7684\u6a21\u5757\u8fdb\u884c\u4fee\u6539\u8fd8\u5bfc\u81f4\u6240\u6709\u5b50\u6a21\u5757\u5168\u90e8\u90fd\u8981\u6539\u52a8\u3002</p> <p>\u6240\u4ee5\u5408\u7406\u7684\u4f7f\u7528 \u8def\u7531\u7ec4 \u53ef\u4ee5\u5f88\u597d\u7684\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\u3002</p>"},{"location":"Go/Framework/gin/Gin-3-%E8%B7%AF%E7%94%B1%E7%BB%84/#_2","title":"\u793a\u4f8b","text":"Example <pre><code>// main.go\nfunc main() {\n    r := gin.Default()\n    // \u521b\u5efa /user \u8def\u7531\u7ec4\n    userG := r.Group(\"/user\")\n    // {} \u662f\u4e66\u5199\u89c4\u8303\n    {\n        userG.POST(\"/register\", Register)\n        userG.POST(\"/login\", Login)\n    }\n\n    // \u521b\u5efa /book \u8def\u7531\u7ec4\n    bookG := r.Group(\"/book\")\n    {\n        bookG.GET(\"/search/:id\", SearchBook)\n        bookG.DELETE(\"/remove/:id\", RemoveBook)\n    }\n\n    r.Run(\":9090\")\n}\n\n// routes.go\ntype UserInfo struct {\n    User string `form:\"user\"`\n    Pass string `form:\"pass\"`\n}\n\nfunc Register(c *gin.Context) {\n    var u UserInfo\n    c.ShouldBind(&amp;u)\n    c.JSON(http.StatusOK, gin.H{ \"msg\": \"Hello \" + u.User })\n}\n\nfunc Login(c *gin.Context) {\n    var u UserInfo\n    c.ShouldBind(&amp;u)\n    c.JSON(http.StatusOK, gin.H{ \"msg\": \"Hello \" + u.User })\n}\n\nfunc SearchBook(c *gin.Context) {\n    bookID := c.Param(\"id\")\n    c.JSON(http.StatusOK, gin.H{ \"msg\": \"ID \" + bookID })\n}\n\nfunc RemoveBook(c *gin.Context) {\n    bookID := c.Param(\"id\")\n    c.JSON(http.StatusOK, gin.H{ \"msg\": \"ID \" + bookID + \"was removed.\" })\n}\n</code></pre> <p>\u9996\u5148\u901a\u8fc7 <code>gin.Group()</code> \u4f20\u5165\u7ec4\u7684\u5171\u540c\u524d\u7f00\uff0c\u4f8b\u5982\u4e0a\u9762\u7684 <code>/user</code>\u3001<code>/book</code>\uff0c\u83b7\u5f97\u4e00\u4e2a\u8def\u7531\u7ec4\u5bf9\u8c61</p> <p>\u7136\u540e\u5c31\u53ef\u4ee5\u50cf\u4e4b\u524d\u4e00\u6837\u7684\u53bb\u7ed1\u5b9a\u5404\u4e2a\u5b50\u8def\u7531\u4e86\u3002\u4e4b\u524d\u7684 <code>GET()</code>\u3001<code>POST()</code> \u7b49\u65b9\u6cd5\u540c\u6837\u9002\u7528\u3002</p> <p>\u6548\u679c\uff1a</p> <p></p> <p></p>"},{"location":"Go/Framework/gin/Gin-3-%E8%B7%AF%E7%94%B1%E7%BB%84/#_3","title":"\u8def\u7531\u62c6\u5206\u548c\u6ce8\u518c","text":""},{"location":"Go/Framework/gin/Gin-4-%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD%E9%87%8D%E5%AE%9A%E5%90%91/","title":"\u4e0a\u4f20\u4e0b\u8f7d\u91cd\u5b9a\u5411","text":""},{"location":"Go/Framework/gin/Gin-4-%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD%E9%87%8D%E5%AE%9A%E5%90%91/#_1","title":"\u4e0a\u4f20\u4e0b\u8f7d\u548c\u91cd\u5b9a\u5411","text":"<p>\u6587\u4ef6\u4e0a\u4f20\u662f\u540e\u7aef\u5f00\u53d1\u4e2d\u5f88\u5e38\u89c1\u7684\u9700\u6c42\u3002</p> <p>\u6587\u4ef6\u4e0a\u4f20\u7684\u539f\u7406\u65e0\u975e\u662f\u5ba2\u6237\u7aef <code>\u9009\u62e9\u6587\u4ef6\u5e76\u70b9\u51fb\u4e0a\u4f20</code>\uff0c\u6d4f\u89c8\u5668\u5c06\u6587\u4ef6\u5185\u5bb9\u8bfb\u53d6\u7136\u540e\u4f20\u9001\u5230\u670d\u52a1\u5668\uff1b</p> <p>\u670d\u52a1\u7aef\u8bfb\u53d6\u6570\u636e\u5e76\u65b0\u5efa\u6587\u4ef6\uff0c\u5199\u5165\u6d4f\u89c8\u5668\u4f20\u8f93\u8fc7\u6765\u7684\u5185\u5bb9\u3002</p>"},{"location":"Go/Framework/gin/Gin-4-%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD%E9%87%8D%E5%AE%9A%E5%90%91/#_2","title":"\u5355\u4e2a\u6587\u4ef6\u4e0a\u4f20","text":"\u524d\u7aef\u90e8\u5206\u540e\u7aef\u90e8\u5206\u6d4b\u8bd5\u4f7f\u7528 Postman\u4f7f\u7528 curl \u547d\u4ee4 <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"zh-CN\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;form action=\"/upload\" method=\"post\" enctype=\"multipart/form-data\"&gt;\n        &lt;input type=\"file\" name=\"f1\"/&gt;\n        &lt;input type=\"submit\" value=\"\u4e0a\u4f20\"/&gt;\n    &lt;/form&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u524d\u7aef\u9700\u8981\u7528\u4e00\u4e2a\u8868\u5355\u6765\u8fdb\u884c\u4e0a\u4f20\uff0c\u8fd9\u91cc\u6211\u4eec\u8bbe\u7f6e\u4e86\u8868\u5355\u63d0\u4ea4\u7684\u8bf7\u6c42\u65b9\u5f0f\u4e3a POST\u3002</p> <p>\u6ce8\u610f\u4e00\u5b9a\u8981\u6307\u5b9a\u7f16\u7801\u7c7b\u578b <code>enctype=\"multipart/form-data\"</code></p> <p>\u4e0a\u4f20\u6587\u4ef6\u540e\u70b9\u51fb\u4e0a\u4f20\u6309\u94ae\u4f1a\u5411 <code>http://localhost:9090/upload</code> \u8fd9\u4e2a\u8def\u5f84\u53d1\u8d77POST\u8bf7\u6c42\u3002</p> <p></p><pre><code>func main() {\n    r := gin.Default()\n\n    r.POST(\"/upload\", func(c *gin.Context) {\n        // \u4ece\u8bf7\u6c42\u4e2d\u8bfb\u53d6\u6587\u4ef6\n        f, _ := c.FormFile(\"f1\")\n        // \u4fdd\u5b58\u6587\u4ef6\n        c.SaveUploadedFile(f, \"./\" + f.Filename)\n        // \u7ed9\u5ba2\u6237\u7aef\u8fd4\u56de\u4e0a\u4f20\u6210\u529f\u7684\u6d88\u606f\n        c.JSON(200, gin.H{\"code\": 2003, \"msg\": \"\u4e0a\u4f20\u6210\u529f\"})\n    })\n\n    r.Run(\":9090\")\n}\n</code></pre> \u540e\u7aef\u7684\u5904\u7406\u4e3b\u8981\u52063\u6b65\uff1a<p></p> <ol> <li>\u4ece\u8bf7\u6c42\u4e2d\u8bfb\u53d6\u6587\u4ef6</li> <li>\u4fdd\u5b58\u6587\u4ef6</li> <li>\u7ed9\u5ba2\u6237\u7aef\u8fd4\u56de\u4e0a\u4f20\u6210\u529f\u7684\u6d88\u606f</li> </ol> <p>\u901a\u8fc7 <code>gin.FormFile()</code> \u53ef\u4ee5\u83b7\u53d6\u524d\u7aef\u4e0a\u4f20\u7684\u6587\u4ef6\uff0c\u53c2\u6570\u662f <code>&lt;input /&gt;</code> \u6807\u7b7e\u7684 <code>name</code> \u5c5e\u6027\uff0c\u901a\u8fc7\u53c2\u6570\u53ef\u4ee5\u5b9a\u4f4d\u5230\u4e0a\u4f20\u7684\u4efb\u4f55\u4e00\u4e2a\u6587\u4ef6\u3002</p> <p>\u83b7\u53d6\u5230\u6587\u4ef6\u540e\u53ef\u4ee5\u4fdd\u5b58\u5728\u6570\u636e\u5e93\u4e2d\uff0c\u6216\u8005\u901a\u8fc7 <code>gin.SaveUploadedFile()</code> \u5c06\u6587\u4ef6\u4fdd\u5b58\u5728\u67d0\u4e2a\u4f4d\u7f6e\uff0c\u53ea\u9700\u8981\u5c06\u6587\u4ef6\u5bf9\u8c61 <code>f</code> \u548c \u8def\u5f84\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\u5373\u53ef\u3002</p> <p>\u6700\u540e\u7ed9\u5ba2\u6237\u7aef\u8fd4\u56de\u4e00\u6761\u4e0a\u4f20\u6210\u529f\u7684\u6d88\u606f\u3002</p> <p></p> <p></p> <p></p> <p>\u4f7f\u7528 PostMan \u65f6\u9700\u8981\u7ed9 Header \u6dfb\u52a0\u4e00\u4e2a\u5c5e\u6027 <code>Content-Type: multipart/form-data</code></p> <p></p> <p>\u7136\u540e\u5728 Body \u4e2d\u7684 form-data \u4e2d\u4e0a\u4f20\u6570\u636e</p> <p></p> <pre><code>curl -X POST http://localhost:9090/upload \\\n-F \"file=@/xx/xx/xxx.zip\" \\\n-H \"Content-Type: multipart/form-data\"\n</code></pre>"},{"location":"Go/Framework/gin/Gin-4-%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD%E9%87%8D%E5%AE%9A%E5%90%91/#_3","title":"\u591a\u4e2a\u6587\u4ef6\u4e0a\u4f20","text":"\u524d\u7aef\u90e8\u5206\u540e\u7aef\u90e8\u5206 <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"zh-CN\"&gt;\n\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;form action=\"/upload_multi\" method=\"post\" enctype=\"multipart/form-data\"&gt;\n\n        &lt;input type=\"file\" name=\"files\" multiple&gt;\n        &lt;input type=\"submit\" value=\"\u4e0a\u4f20\"&gt;\n\n    &lt;/form&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre> <pre><code>func main() {\n    r := gin.Default()\n\n    r.POST(\"/upload\", func(c *gin.Context) {\n        // \u4ece\u8bf7\u6c42\u4e2d\u8bfb\u53d6\u6587\u4ef6\n        form, _ := c.MultipartForm()\n        files := form.File[\"files\"]\n\n        // \u9010\u4e2a\u4fdd\u5b58\u6587\u4ef6\n        for _, file := range files {\n            c.SaveUploadedFile(f, \"./\"+f.Filename)\n        }\n\n        // \u7ed9\u5ba2\u6237\u7aef\u8fd4\u56de\u4e0a\u4f20\u6210\u529f\u7684\u6d88\u606f\n        c.JSON(200, gin.H{\"code\": 2003, \"msg\": \"\u4e0a\u4f20\u6210\u529f\"})\n    })\n\n    r.Run(\":9090\")\n}\n</code></pre> <p>\u5355\u4e2a\u6587\u4ef6\u4e0a\u4f20\u548c\u591a\u4e2a\u6587\u4ef6\u4e0a\u4f20\u53ea\u6709\u4e00\u70b9\u70b9\u533a\u522b</p> <p>\u591a\u4e2a\u6587\u4ef6\u4e0a\u4f20\u4f7f\u7528 <code>gin.Context.MultipartForm()</code> \u6765\u83b7\u53d6\uff0c\u8be5\u65b9\u6cd5\u4f1a\u8fd4\u56de\u4e00\u4e2a Form \u7ed3\u6784\u4f53\uff0c\u7ed3\u6784\u4f53\u4e2dmap\u7c7b\u578b\u5b57\u6bb5 <code>File</code> \u5b58\u50a8\u4e86\u6240\u6709\u5df2\u4e0a\u4f20\u7684\u6587\u4ef6</p> <p>\u901a\u8fc7\u904d\u5386\u6765\u9010\u4e2a\u5904\u7406\uff0c\u7136\u540e\u7ed9\u5ba2\u6237\u7aef\u8fd4\u56de\u4e0a\u4f20\u6210\u529f\u7684\u6d88\u606f\u5373\u53ef\u3002</p>"},{"location":"Go/Framework/gin/Gin-4-%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD%E9%87%8D%E5%AE%9A%E5%90%91/#_4","title":"\u4e0a\u4f20\u6587\u4ef6\u5927\u5c0f\u9650\u5236","text":"<p>gin \u9ed8\u8ba4\u4e0a\u4f20\u7684\u6587\u4ef6\u5927\u5c0f\u6700\u5927\u4e3a 32Mb\uff0c\u5982\u679c\u8981\u8c03\u5c0f\u6216\u8c03\u5927\uff0c\u53ef\u4ee5\u8bbe\u7f6e <code>gin.Engine.MaxMultipartMemory</code></p> <p>Example</p> <pre><code>func main() {\n    r := gin.Default()\n    // \u4e3a multipart forms \u8bbe\u7f6e\u8f83\u9ad8\u7684\u5185\u5b58\u9650\u5236 (\u9ed8\u8ba4\u662f 32 MiB)\n        r.MaxMultipartMemory = 2 &lt;&lt; 30;    // 2*2^30 byte = 2Gb\n\n    r.Run(\":9090\")\n}\n</code></pre>"},{"location":"Go/Framework/gin/Gin-4-%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD%E9%87%8D%E5%AE%9A%E5%90%91/#_5","title":"\u4e0b\u8f7d\u6587\u4ef6","text":"<p>\u5b9e\u73b0\u4e0b\u8f7d\u529f\u80fd\u8981\u5148\u83b7\u53d6\u6587\u4ef6\u540d\uff0c\u7136\u540e\u7ed9\u54cd\u5e94\u5934\u6dfb\u52a0\u4e00\u4e2a\u5c5e\u6027 <code>Content-Disposition: attachment; filename=\u6587\u4ef6\u540d</code></p> <p>\u7136\u540e\u8c03\u7528 <code>gin.Context.File()</code> \u65b9\u6cd5\uff0c\u4f20\u5165\u6587\u4ef6\u8def\u5f84\u5373\u53ef\u3002</p> <pre><code>func main() {\n    r := gin.Default()\n    filename := \"a.txt\"\n    r.GET(\"/download\", func(c *gin.Context) {\n        // \u83b7\u53d6\u6587\u4ef6\u540d\n        filename := \"a.txt\"\n        // \u8bbe\u7f6e\u54cd\u5e94\u5934\n        c.Header(\"Content-Disposition\", \"attachment; filename=\"+filename)\n        // \u5411\u5ba2\u6237\u7aef\u8fd4\u56de\u6587\u4ef6\u6570\u636e\n        c.File(\"./\"+filename)\n    }\n    r.Run(\":9090\")\n}\n</code></pre> <p></p> <p>\u5f53\u7136\uff0c\u8fd8\u53ef\u4ee5\u5728\u54cd\u5e94\u5934\u4e2d\u6dfb\u52a0\u66f4\u591a\u4fe1\u606f</p> <pre><code>func main() {\n    r := gin.Default()\n    filename := \"a.txt\"\n    r.GET(\"/download\", func(c *gin.Context) {\n        // \u83b7\u53d6\u6587\u4ef6\u540d\n        filename := \"a.txt\"\n        // \u8bbe\u7f6e\u72b6\u6001\u7801\n        c.Writer.WriteHeader(http.StatusOK)\n        // \u6dfb\u52a0\u5185\u5bb9\u4f4d\u7f6e\u58f0\u660e\n        c.Header(\"Content-Disposition\", \"attachment; filename=\"+filename)\n        // \u6dfb\u52a0\u5185\u5bb9\u7c7b\u578b\u58f0\u660e\n        c.Header(\"Content-Type\", \"application/text/plain\")\n        // \u5411\u5ba2\u6237\u7aef\u8fd4\u56de\u6570\u636e\n        c.File(\"./\" + filename)\n    }\n    r.Run(\":9090\")\n}\n</code></pre> <p>\u6ce8\u610f</p> <p><code>c.File(path)</code> \u4e2d\u7684\u53c2\u6570 path \u6700\u597d\u662f\u7edd\u5bf9\u8def\u5f84\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>path.Join(\u8def\u5f84, \u6587\u4ef6\u540d)</code> \u6765\u5f97\u5230\u7edd\u5bf9\u8def\u5f84\u3002</p> <p>\u5904\u7406\u4e0d\u597d path \u53c2\u6570\u5bb9\u6613\u51fa\u9519\u3002</p>"},{"location":"Go/Framework/gin/Gin-4-%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD%E9%87%8D%E5%AE%9A%E5%90%91/#_6","title":"\u91cd\u5b9a\u5411 \u548c \u8f6c\u53d1","text":"<p>\u91cd\u5b9a\u5411\u548c\u8f6c\u53d1\u5728\u5b9e\u9645\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u5f88\u6709\u5fc5\u8981\u3002</p> <p>\u6bd4\u5982\u5bf9 API \u8fdb\u884c\u5347\u7ea7\u540e\uff0c\u4e00\u4e9b\u539f\u672c\u7684\u8bf7\u6c42\u8def\u5f84\u4e0d\u518d\u4f7f\u7528\uff0c\u4f46\u662f\u4e3a\u4e86\u517c\u5bb9\uff0c\u9632\u6b62\u4e00\u4e9b\u65e7\u7248\u672c\u7ee7\u7eed\u8bf7\u6c42\u7684\u65f6\u5019\u8bf7\u6c42\u5931\u8d25\uff0c\u6240\u4ee5\u9700\u8981\u5bf9\u539f\u672c\u7684\u8def\u7531\u505a\u91cd\u5b9a\u5411\u6216\u8f6c\u53d1\u5904\u7406\u3002</p> <p>\u533a\u522b\uff1a</p> <ul> <li>\u91cd\u5b9a\u5411\uff1a\u7528\u6237\u8bf7\u6c42\u4e00\u4e2a\u65e7\u7684\u5730\u5740\u7684\u65f6\u5019\uff0c\u8fd4\u56de301\uff0c\u5e76\u544a\u77e5\u65b0\u5730\u5740\uff1b\u7136\u540e\u7528\u6237\u518d\u6b21\u8bf7\u6c42\u65b0\u5730\u5740\uff0c\u5f97\u5230\u6b63\u786e\u8fd4\u56de\u3002</li> <li>\u91cd\u5b9a\u5411\uff1a\u91cd\u5b9a\u5411\u8fc7\u540e\u6d4f\u89c8\u5668\u7684URL\u4f1a\u53d1\u751f\u53d8\u5316\u3002</li> <li> <p>\u91cd\u5b9a\u5411\uff1a\u53ef\u4ee5\u5c06\u8bf7\u6c42\u8f6c\u5230\u522b\u7684\u5730\u5740\uff0c\u8fd9\u4e2a\u5730\u5740\u53ef\u4ee5\u662f\u5916\u90e8\u94fe\u63a5\uff0c\u4e5f\u53ef\u4ee5\u662f\u5185\u90e8\u5176\u4ed6\u8def\u7531\u3002</p> </li> <li> <p>\u8f6c\u53d1\uff1a\u7528\u6237\u8bf7\u6c42\u4e00\u4e2a\u65e7\u5730\u5740\u7684\u65f6\u5019\uff0c\u670d\u52a1\u7aef\u5185\u90e8\u5c06\u8bf7\u6c42\u8def\u5f84\u4fee\u6539\u4e3a\u65b0\u5730\u5740\uff0c\u7136\u540e\u8fd4\u56de\u7ed9\u7528\u6237</p> </li> <li>\u8f6c\u53d1\uff1a\u8f6c\u53d1\u8fc7\u540e\u6d4f\u89c8\u5668\u7684URL\u4e0d\u4f1a\u53d1\u751f\u53d8\u5316\u3002</li> <li>\u8f6c\u53d1\uff1a\u53ea\u80fd\u8f6c\u53d1\u5230\u7ad9\u5185\u8def\u7531\u3002</li> </ul> <p></p> \u91cd\u5b9a\u5411\u8f6c\u53d1 <pre><code>c.Redirect(http.StatusMovedPermanently, \"\u91cd\u5b9a\u5411\u7684\u8def\u5f84\")\n</code></pre> <p>eg\uff1a</p> <pre><code>func main() {\n    r := gin.Default()\n\n    r.GET(\"/index\", func(c *gin.Context) {\n        c.JSON(http.StatusOK, gin.H{ \"msg\": c.FullPath() })\n    })\n\n    // \u91cd\u5b9a\u5411\u5230\u7ad9\u5185\u5176\u4ed6\u8def\u7531\n    r.GET(\"/redirect\", func(c *gin.Context) {\n        c.Redirect(http.StatusMovedPermanently, \"/index\")\n    })\n\n    // \u91cd\u5b9a\u5411\u5230\u7ad9\u5916\u94fe\u63a5\n    r.GET(\"/redirect2\", func(c *gin.Context) {\n        c.Redirect(http.StatusMovedPermanently, \"https://www.boii.xyz\")\n    })\n\n    r.Run(\":9090\")\n}\n</code></pre> <p></p> <p></p> <pre><code>c.Request.URL.Path = \"\u8f6c\u53d1\u7684\u76ee\u6807\u8def\u5f84\"\n</code></pre> <p>eg\uff1a</p> <pre><code>func main() {\n    r := gin.Default()\n\n    r.GET(\"/index\", func(c *gin.Context) {\n        c.JSON(http.StatusOK, gin.H{ \"msg\": c.FullPath() })\n    })\n\n    // \u8f6c\u53d1\u5230\u7ad9\u5185\u5176\u4ed6\u8def\u7531\n    r.GET(\"/forward\", func(c *gin.Context) { // URL \u4e0d\u4f1a\u6539\u53d8\n        c.Request.URL.Path = \"/index\"    // \u4fee\u6539\u8bf7\u6c42\u7684\u76ee\u6807\u8def\u5f84\n        r.HandleContext(c)\n    })\n\n    r.Run(\":9090\")\n}\n</code></pre> <p></p>"},{"location":"Go/Framework/gin/Gin-5-%E4%B8%AD%E9%97%B4%E4%BB%B6/","title":"\u4e2d\u95f4\u4ef6","text":""},{"location":"Go/Framework/gin/Gin-5-%E4%B8%AD%E9%97%B4%E4%BB%B6/#_1","title":"\u4e2d\u95f4\u4ef6","text":"<p>\u7528\u5728 <code>\u5ba2\u6237\u7aef</code> \u4e0e <code>\u670d\u52a1\u7aef</code> \u4e4b\u95f4\u7684\u63d2\u4ef6\uff0c\u6211\u4eec\u79f0\u4e4b\u4e3a <code>\u4e2d\u95f4\u4ef6</code>\u3002</p> <p></p> <p>\u4e2d\u95f4\u4ef6\u662f\u4e00\u4e2a\u6982\u5ff5\uff0c\u5176\u5b9e\u8d28\u5c31\u662f\u4e00\u4e9b\u9075\u5faa\u4e00\u5b9a\u89c4\u8303\u7684\u51fd\u6570\uff0c\u4e5f\u79f0\u505a <code>\u94a9\u5b50\u51fd\u6570(Hook)</code>\u3002</p> <p>\u4e2d\u95f4\u4ef6\u9002\u5408\u5904\u7406\u4e00\u4e9b\u516c\u5171\u7684\u4e1a\u52a1\u903b\u8f91\uff0c\u6bd4\u5982\u767b\u5f55\u8ba4\u8bc1\u3001\u6743\u9650\u6821\u9a8c\u3001\u6570\u636e\u5206\u9875\u3001\u8bb0\u5f55\u65e5\u5fd7\u3001\u8017\u65f6\u7edf\u8ba1\u7b49\u3002</p>"},{"location":"Go/Framework/gin/Gin-5-%E4%B8%AD%E9%97%B4%E4%BB%B6/#_2","title":"\u5b9a\u4e49\u4e2d\u95f4\u4ef6","text":"<p>\u5b9a\u4e49\u4e00\u4e2a\u4e2d\u95f4\u4ef6\uff0c\u5176\u5b9e\u5c31\u662f\u5b9a\u4e49\u4e00\u4e2a <code>gin.HandlerFunc</code></p> <p>\u8fd9\u4e2a <code>HandlerFunc</code> \u5176\u5b9e\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u4f8b\u5982\u524d\u9762\u6211\u4eec\u5df2\u7ecf\u5199\u4e86\u5f88\u591a\u6b21\u7684 GET\u8bf7\u6c42\u3001POST\u8bf7\u6c42\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u8def\u7531\u8def\u5f84\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u5199\u7684\u5c31\u662f\u8fd9\u79cd\u683c\u5f0f\u7684\u5904\u7406\u51fd\u6570\u3002</p> <pre><code>func (group *RouterGroup) GET(relativePath string, handlers ...HandlerFunc) IRoutes\n</code></pre> <p>\u5bf9\u4e8e\u8fd9\u4e2a <code>HandlerFunc</code>\uff0c\u6e90\u7801\u4e2d\u662f\u8fd9\u6837\u5b9a\u4e49\u7684\uff1a</p> github.com/gin-gonic/gin/gin.go<pre><code>// HandlerFunc defines the handler used by gin middleware as return value.\ntype HandlerFunc func(*Context)\n</code></pre> <p>\u5f62\u53c2\u5217\u8868\u53ea\u6709\u4e00\u4e2a <code>*gin.Context</code> \u7c7b\u578b\u7684\u53c2\u6570\uff0c\u6ca1\u6709\u8fd4\u56de\u503c\u3002</p> <p>\u8fd9\u6837\u7684\u51fd\u6570\u5c31\u662f\u4e00\u4e2a <code>HandlerFunc</code>\uff0c\u5c31\u53ef\u4ee5\u4f5c\u4e3a\u4e00\u4e2a\u4e2d\u95f4\u4ef6\u3002</p> <p>eg\uff1a\u5b9a\u4e49\u4e00\u4e2a\u8ba1\u65f6\u4e2d\u95f4\u4ef6</p> <p></p><pre><code>func timer(c *gin.Context) {\n    start := time.Now()\n    c.Next()\n    end   := time.Since(start)\n\n    fmt.Println(end)\n}\n</code></pre> \u7b80\u7b80\u5355\u5355\uff0c\u4e0a\u9762\u7684\u6817\u5b50\u5c31\u5df2\u7ecf\u5b9a\u4e49\u4e86\u4e00\u4e2a\u540d\u4e3a timer \u7684\u4e2d\u95f4\u4ef6\uff0c\u7528\u4e8e\u8ba1\u65f6\u3002<p></p> <p>\u8fd9\u91cc\u7684 <code>c.Next()</code> \u662f\u4e3b\u52a8\u8c03\u7528\u540e\u9762\u7684 <code>HandlerFunc</code>\uff0c\u5b83\u8fd8\u6709\u4e00\u4e2a\u5144\u5f1f\uff1a<code>c.Abort()</code>\uff0c\u8fd9\u4e2a\u6211\u4eec\u653e\u5728\u540e\u9762\u8bb2\u3002</p>"},{"location":"Go/Framework/gin/Gin-5-%E4%B8%AD%E9%97%B4%E4%BB%B6/#_3","title":"\u5c40\u90e8\u6ce8\u518c\u4e2d\u95f4\u4ef6","text":"<p>\u4f7f\u7528\u4e2d\u95f4\u4ef6\u4e5f\u5f88\u7b80\u5355\uff0c\u6211\u4eec\u5728\u63a5\u6536\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u5373\u7f16\u5199 <code>Handler()</code>\u3001\u6216\u8005 <code>GET()</code> \u8fd9\u4e9b\u65b9\u6cd5\u65f6\uff0c\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u5c31\u53ef\u4ee5\u4f20\u5165\u4e00\u4e2a\u6216\u591a\u4e2a <code>HandlerFunc</code>\u3002</p> <p>eg: </p><pre><code>func sleep(c *gin.Context) {\n    start := time.Now()\n    time.Sleep(time.Second)    // \u7761\u7720\u4e00\u79d2\n    end   := time.Since(start)\n\n    fmt.Println(\"sleep middleware: \", end)\n}\n\nfunc indexHandler(c *gin.Context) {\n    fmt.Println(\"Index handler\")\n    c.JSON(http.StatusOK, gin.H{ \"msg\": \"Here is index.\" })\n}\n\nfunc main() {\n    r := gin.Default()\n\n    r.GET(\"/\", sleep, indexHandler)    // \u5c40\u90e8\u6ce8\u518c\u4e2d\u95f4\u4ef6\u5230\u6b64\u8def\u7531\n\n    r.Run(\":9090\")\n}\n</code></pre> \u8f93\u51fa\uff1a <p></p> <p>\u4e0a\u9762\u7684\u6817\u5b50\u4e2d\u53ef\u4ee5\u770b\u51fa\uff0c\u5c40\u90e8\u6ce8\u518c\u5c31\u662f\u628a\u4e2d\u95f4\u4ef6\u5199\u5728\u9700\u8981\u4f7f\u7528\u8be5\u4e2d\u95f4\u4ef6\u7684\u8def\u7531\u4e2d\u3002</p> <p>\u8fd9\u91cc <code>timer</code> \u548c <code>indexHandler</code> \u672c\u8d28\u4e0a\u90fd\u662f\u4e00\u6837\u7684\uff0c\u4f46\u662f\u88ab\u8c03\u7528\u987a\u5e8f\u4e0d\u540c\u3002</p> <p>\u5ba2\u6237\u7aef\u8bf7\u6c42 <code>/</code> \u8fd9\u4e2a\u8def\u5f84\u65f6\uff0c\u4f1a\u5148\u8c03\u7528 <code>timer</code> \u8fd9\u4e2a\u4e2d\u95f4\u4ef6\uff0c\u7b49\u5b83\u6267\u884c\u5b8c\u540e\u518d\u53bb\u6267\u884c <code>indexHandler</code>\u3002</p> <p></p>"},{"location":"Go/Framework/gin/Gin-5-%E4%B8%AD%E9%97%B4%E4%BB%B6/#_4","title":"\u5168\u5c40\u6ce8\u518c\u4e2d\u95f4\u4ef6","text":"<p>\u5168\u5c40\u6ce8\u518c\u4e2d\u95f4\u4ef6\uff0c\u4f1a\u4f7f\u5f97\u8be5\u4f5c\u7528\u57df\u4e0b\u6240\u6709\u8def\u7531\u90fd\u4f1a\u6267\u884c\u5bf9\u5e94\u7684\u4e2d\u95f4\u4ef6\u3002\u6ce8\u518c\u65f6\u4f7f\u7528<code>Use()</code> \u65b9\u6cd5\u3002</p> <p>\u5565\u610f\u601d\u5462\uff1f</p> <p>\u5c31\u662f\u8bf4\uff0c\u5047\u8bbe\u4f60\u5b9a\u4e49\u4e86 <code>r := gin.Default()</code>\uff0c</p> <p>\u7136\u540e\u4f60\u5199 <code>r.Use(timer)</code>\uff0c\u8fd9\u6837\u4f60\u7684\u7f51\u7ad9\u6240\u6709\u7684\u8def\u7531\u90fd\u4f1a\u6267\u884c timer \u8fd9\u4e2a\u4e2d\u95f4\u4ef6\u3002</p> <p>\u5982\u679c\u4f60\u662f\u7528 <code>userG := r.Group(\"/user\")</code>\uff0c\u7136\u540e\u5199 <code>userG.Use(timer)</code>\uff0c\u8fd9\u6837 userG \u8fd9\u4e2a\u8def\u7531\u7ec4\u4e0b\u6240\u6709\u8def\u7531\u90fd\u4f1a\u6267\u884c timer \u8fd9\u4e2a\u4e2d\u95f4\u4ef6</p> <p>\u800c\u7ec4\u5916\u7684\u5176\u4ed6\u8def\u7531\u5e76\u4e0d\u4e00\u5b9a\u4f1a\u6267\u884c timer\u3002</p> <p>Example</p> <pre><code>// \u5b9a\u4e49\u4e00\u4e2a\u4e2d\u95f4\u4ef6\nfunc timer(c *gin.Context) {\n    start := time.Now()\n    c.Next()\n    end := time.Since(start)\n    fmt.Println(end)\n}\n\nfunc main() {\n    r := gin.Default()\n\n    userG := r.Group(\"/user\")    // \u5b9a\u4e49\u4e00\u4e2a\u8def\u7531\u7ec4 userG\n    userG.Use(timer)             // \u7ed1\u5b9a timer \u4e2d\u95f4\u4ef6\n    {\n        // \u4ee5\u4e0b\u4e24\u4e2a\u8def\u7531\u4f1a\u6267\u884c timer \u4e2d\u95f4\u4ef6\n        userG.POST(\"/register\", Register)\n        userG.POST(\"/login\", Login)\n    }\n\n    // \u5b9a\u4e49\u4e00\u4e2a\u8def\u7531\u7ec4 boogG\n    bookG := r.Group(\"/book\")\n    {\n        // \u4ee5\u4e0b\u4e24\u4e2a\u8def\u7531\u4e0d\u4f1a\u6267\u884c timer \u4e2d\u95f4\u4ef6\n        bookG.GET(\"/search/:id\", SearchBook)\n        bookG.DELETE(\"/remove/:id\", RemoveBook)\n    }\n\n    r.Run(\":9090\")\n}\n...\n</code></pre> <p></p> <p>\u53ef\u4ee5\u6e05\u695a\u770b\u5230\uff0c\u8bf7\u6c42 /user \u7ec4\u4e0b\u7684\u8def\u5f84\u65f6\uff0c\u8c03\u7528\u4e86 timer \u6253\u5370\u4e86\u65f6\u95f4\uff0c\u800c\u8bf7\u6c42 /book \u7ec4\u65f6\u6ca1\u6709\u3002</p>"},{"location":"Go/Framework/gin/Gin-5-%E4%B8%AD%E9%97%B4%E4%BB%B6/#_5","title":"\u4e2d\u95f4\u94fe\uff08\u804c\u8d23\u94fe\u6a21\u5f0f\uff09","text":""},{"location":"Go/Framework/gin/Gin-5-%E4%B8%AD%E9%97%B4%E4%BB%B6/#cnext","title":"c.Next()","text":"<p>\u4e0a\u9762\u7684\u6817\u5b50\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u5230\u4e86 <code>c.Next()</code> \u51fd\u6570\uff0c\u8fd9\u4f1a\u6539\u53d8\u7a0b\u5e8f\u7684\u6267\u884c\u6d41\u3002</p> <p>\u4e2d\u95f4\u4ef6\u91cc\u6ca1\u6709\u4f7f\u7528\u5230 <code>c.Next()</code> \u7684\u65f6\u5019\uff0c\u5176\u6267\u884c\u6d41\u5982\u4e0b</p> <p></p> <p>\u6ca1\u6709 <code>c.Next()</code> \u7684\u65f6\u5019\u4f1a\u6267\u884c\u5b8c\u524d\u4e00\u4e2a\u4e2d\u95f4\u4ef6\uff0c\u5c31\u6267\u884c\u4e0b\u4e00\u4e2a\u4e2d\u95f4\u4ef6\u3002</p> <p>\u800c\u5728\u4e2d\u95f4\u4ef6\u4e2d\u4f7f\u7528 <code>c.Next()</code> \u65f6\u5219\u4f1a\u6539\u53d8\u5176\u6267\u884c\u6d41\u3002</p> <p>\u5176\u5b9e\u5c31\u662f\u5c06\u4e0b\u4e00\u4e2a\u4e2d\u95f4\u4ef6\u7684\u6267\u884c\u65f6\u673a\u63d0\u524d\u4e86\uff0c\u4f46\u662f\u4e0b\u4e00\u4e2a\u4e2d\u95f4\u4ef6\u6267\u884c\u5b8c\u4ee5\u540e\u8fd8\u4f1a\u56de\u5230\u5f53\u524d\u7684\u4e2d\u95f4\u4ef6\u3002</p> <p>\u5176\u6267\u884c\u6d41\u5982\u4e0b\u56fe\uff1a</p> <p></p> Example <pre><code>// \u4e2d\u95f4\u4ef61\nfunc m1(c *gin.Context) {\n    fmt.Println(\"m1 in...\")\n    c.Next()\n    fmt.Println(\"m1 out...\")\n}\n\n// \u4e2d\u95f4\u4ef62\nfunc m2(c *gin.Context) {\n    fmt.Println(\"m2 in...\")\n    c.Next()\n    fmt.Println(\"m2 out...\")\n}\n\n// \u9996\u9875\u5904\u7406\u51fd\u6570\nfunc indexHandler(c *gin.Context) {\n    fmt.Println(\"Index handler in...\")\n\n    c.JSON(http.StatusOK, gin.H{\n        \"msg\": \"Here is index.\",\n    })\n    c.Next()\n    fmt.Println(\"Index handler out...\")\n}\n\n\nfunc main() {\n    r := gin.Default()\n\n    r.GET(\"/\", m1, m2, indexHandler)    // \u4f9d\u6b21\u5c40\u90e8\u6ce8\u518c\u4e09\u4e2a\u4e2d\u95f4\u4ef6\n\n    r.Run(\":9090\")\n}\n</code></pre> <p></p> <p>\u4e09\u4e2a <code>HandlerFunc</code> \u7684\u6ce8\u518c\u987a\u5e8f\u4f9d\u6b21\u662f <code>m1\u3001m2\u3001indexHandler</code></p> <p>\u6bcf\u4e2a\u90fd\u8c03\u7528\u4e86 <code>c.Next()</code>\uff0c</p> <p>\u6240\u4ee5\u4ed6\u4eec\u7684\u6267\u884c\u6d41\u5e94\u8be5\u662f\uff1a</p> <p></p>"},{"location":"Go/Framework/gin/Gin-5-%E4%B8%AD%E9%97%B4%E4%BB%B6/#cabort","title":"c.Abort()","text":"<p><code>c.Abort()</code> \u662f <code>c.Next()</code> \u7684\u5144\u5f1f\u3002</p> <p><code>c.Next()</code> \u8c03\u7528\u4e0b\u4e00\u4e2a HandlerFunc; <code>c.Abort()</code> \u963b\u6b62\u8c03\u7528\u4e0b\u4e00\u4e2a HandlerFunc\u3002\u4e00\u65e6\u963b\u6b62\u4e86\uff0c\u5219\u540e\u9762\u4e0d\u7ba1\u6709\u591a\u5c11\u4e2a HandlerFunc\uff0c\u5b83\u4eec\u90fd\u6ca1\u6709\u673a\u4f1a\u6267\u884c\u4e86\u3002</p> Example <pre><code>// \u4e2d\u95f4\u4ef61\nfunc m1(c *gin.Context) {\n    fmt.Println(\"m1 in...\")\n    c.Next()\n    fmt.Println(\"m1 out...\")\n}\n\n// \u4e2d\u95f4\u4ef62\nfunc m2(c *gin.Context) {\n    fmt.Println(\"m2 in...\")\n    c.Abort()    // \u963b\u6b62\u8c03\u7528\u540e\u9762\u7684 HandlerFunc\n    fmt.Println(\"m2 out...\")\n}\n\n// \u4e2d\u95f4\u4ef63\nfunc m3(c *gin.Context) {\n    fmt.Println(\"m3 in...\")\n    c.Next()\n    fmt.Println(\"m3 out...\")\n}\n\n// \u9996\u9875\u5904\u7406\u51fd\u6570\nfunc indexHandler(c *gin.Context) {\n    fmt.Println(\"Index handler in...\")\n\n    c.JSON(http.StatusOK, gin.H{\n        \"msg\": \"Here is index.\",\n    })\n    c.Next()\n    fmt.Println(\"Index handler out...\")\n}\n\n\nfunc main() {\n    r := gin.Default()\n\n    r.GET(\"/\", m1, m2, m3, indexHandler)    // \u4f9d\u6b21\u5c40\u90e8\u6ce8\u518c\u56db\u4e2a\u4e2d\u95f4\u4ef6\n\n    r.Run(\":9090\")\n}\n</code></pre> <p></p> <p>\u5728 <code>m2</code> \u7684\u65f6\u5019\u8c03\u7528\u4e86 <code>c.Abort()</code>\uff0c\u6240\u4ee5\u540e\u9762\u7684 <code>m3\u3001indexHandler</code> \u90fd\u6ca1\u6709\u673a\u4f1a\u6267\u884c\u4e86\u3002</p>"},{"location":"Go/Framework/gin/Gin-5-%E4%B8%AD%E9%97%B4%E4%BB%B6/#_6","title":"\u4e2d\u95f4\u4ef6\u4e4b\u95f4\u6570\u636e\u4f20\u9012","text":"<p>\u4e2d\u95f4\u4ef6\u4e4b\u95f4\u8981\u4f20\u9012\u6570\u636e\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>c.Set(key, value)</code> \u7684\u65b9\u5f0f\u53d1\u9001\uff0c\u5728\u83b7\u53d6\u7684\u5730\u65b9\u7528 <code>c.Get(key)</code> \u7684\u65b9\u5f0f\u83b7\u53d6\u3002</p> <p>\u83b7\u53d6\u7684\u65b9\u6cd5\u6709\u975e\u5e38\u591a\uff0c\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>\u5728\u8fd9\u91cc\u7684\u83b7\u53d6\u8981\u6ce8\u610f\u6267\u884c\u6d41\u7684\u95ee\u9898\uff0c\u5982\u679c\u7b2c2\u4e2a\u4e2d\u95f4\u4ef6\u6267\u884c <code>c.Set()</code>\uff0c\u4f46\u662f\u5728\u7b2c1\u4e2a\u4e2d\u95f4\u4ef6\u5c31\u6267\u884c\u4e86 <code>c.Get()</code>\uff0c\u90a3\u4f1a\u4ec0\u4e48\u90fd\u62ff\u4e0d\u5230\u3002</p> Example <pre><code>// \u4e2d\u95f4\u4ef61\nfunc m1(c *gin.Context) {\n    fmt.Println(\"m1 in...\")\n    c.Set(\"k\", 123)    // \u8bbe\u7f6e\u6570\u636e\n    c.Next()\n    fmt.Println(\"m1 out...\")\n}\n\n// \u9996\u9875\u5904\u7406\u51fd\u6570\nfunc indexHandler(c *gin.Context) {\n    fmt.Println(\"Index handler in...\")\n\n    fmt.Println(c.MustGet(\"k\"))    // \u83b7\u53d6\u6570\u636e\n\n    c.JSON(http.StatusOK, gin.H{\n        \"msg\": \"Here is index.\",\n    })\n\n    fmt.Println(\"Index handler out...\")\n}\n\n\nfunc main() {\n    r := gin.Default()\n\n    r.GET(\"/\", m1, indexHandler)\n\n    r.Run(\":9090\")\n}\n</code></pre> <p></p>"},{"location":"Go/Framework/gin/Gin-5-%E4%B8%AD%E9%97%B4%E4%BB%B6/#_7","title":"\u9ed8\u8ba4\u4e2d\u95f4\u4ef6","text":"<p><code>gin.Default()</code> \u9ed8\u8ba4\u4f7f\u7528\u4e86 <code>Logger</code> \u548c <code>Recovery</code> \u4e2d\u95f4\u4ef6\uff0c\u5176\u4e2d\uff1a</p> <p><code>Logger\u4e2d\u95f4\u4ef6</code> \u5c06\u65e5\u5fd7\u5199\u5165 <code>gin.DefaultWriter</code>\uff0c\u5373\u4f7f\u914d\u7f6e\u4e86 <code>GIN_MODE=release</code>\u3002</p> <p><code>Recovery\u4e2d\u95f4\u4ef6</code> \u4f1a recover \u4efb\u4f55 panic\u3002\u5982\u679c\u6709panic\u7684\u8bdd\uff0c\u4f1a\u5199\u5165500\u54cd\u5e94\u7801\u3002</p> <p>\u5982\u679c\u4e0d\u60f3\u4f7f\u7528\u4e0a\u9762\u4e24\u4e2a\u9ed8\u8ba4\u7684\u4e2d\u95f4\u4ef6\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>gin.New()</code> \u65b0\u5efa\u4e00\u4e2a\u6ca1\u6709\u4efb\u4f55\u9ed8\u8ba4\u4e2d\u95f4\u4ef6\u7684\u8def\u7531\u3002</p>"},{"location":"Go/Framework/gin/Gin-5-%E4%B8%AD%E9%97%B4%E4%BB%B6/#_8","title":"\u5e76\u53d1\u6ce8\u610f\u4e8b\u9879","text":"<p>gin\u4e2d\u95f4\u4ef6\u4e2d\u4f7f\u7528goroutine</p> <p>\u5f53\u5728\u4e2d\u95f4\u4ef6\u6216 <code>handler</code> \u4e2d\u542f\u52a8\u65b0\u7684 <code>goroutine</code> \u65f6\uff0c\u4e0d\u80fd\u4f7f\u7528\u539f\u59cb\u7684\u4e0a\u4e0b\u6587<code>\uff08c *gin.Context\uff09</code>\uff0c\u5fc5\u987b\u4f7f\u7528\u5176\u53ea\u8bfb\u526f\u672c<code>\uff08c.Copy()\uff09</code>\u3002</p> <pre><code>func m1(c *gin.Context) {\n    start := time.Now()\n    end := time.Since(start)\n    c.Set(\"timer\", end)\n\n    // go func(c)         // \u9519\u8bef\uff01\uff01\uff01\n    go func(c *gin.Context) { // \u53ea\u80fd\u4f7f\u7528\u4e0a\u4e0b\u6587\u7684\u62f7\u8d1d\uff0c\u4e0d\u80fd\u4f7f\u7528\u539f\u672c\u7684\u4e0a\u4e0b\u6587\n        fmt.Println(\"Other goroutine: \", c.MustGet(\"timer\"))\n    }(c.Copy())\n\n}\n\nfunc indexHandler(c *gin.Context) {\n    timer := c.MustGet(\"timer\")\n    fmt.Println(\"indexHandler: \", timer)\n}\n\nfunc main() {\n    r := gin.Default()\n\n    r.GET(\"/\", indexHandler)\n\n    r.Run(\":9090\")\n}\n</code></pre> <p></p>"},{"location":"Go/Socket/IM-System/IM1-%E6%90%AD%E5%BB%BA%E5%9F%BA%E7%A1%80%E6%9C%8D%E5%8A%A1/","title":"1-\u642d\u5efa\u57fa\u7840\u670d\u52a1","text":""},{"location":"Go/Socket/IM-System/IM1-%E6%90%AD%E5%BB%BA%E5%9F%BA%E7%A1%80%E6%9C%8D%E5%8A%A1/#im1","title":"IM1","text":""},{"location":"Go/Socket/IM-System/IM1-%E6%90%AD%E5%BB%BA%E5%9F%BA%E7%A1%80%E6%9C%8D%E5%8A%A1/#_1","title":"\u524d\u671f\u51c6\u5907","text":"<p>IM \u5373\u65f6\u901a\u8baf\uff0c\u5c31\u662f\u4e00\u7aef\u5f00\u653e\u4e00\u4e2a\u7aef\u53e3\uff0c\u5e76\u542f\u52a8\u4e00\u4e2a\u7a0b\u5e8f\u4e00\u76f4\u76d1\u542c\u8fd9\u4e2a\u7aef\u53e3\uff0c\u5f53\u6709\u4eba\u53d1\u9001\u8bf7\u6c42\u8fc7\u6765\u7684\u65f6\u5019\u63a5\u53d7\u7136\u540e\u5904\u7406\uff1b\u800c\u53e6\u4e00\u7aef\u5bf9\u90a3\u53f0\u673a\u5668\u7684\u7aef\u53e3\u53d1\u9001\u4e00\u4e2a\u8bf7\u6c42\u3002</p> <p>\u63a5\u53d7\u5e76\u5904\u7406\u7684\u8fd9\u4e00\u7aef\u6211\u4eec\u901a\u5e38\u79f0\u4e3a\u670d\u52a1\u7aef\uff0c\u53d1\u9001\u7684\u8fd9\u4e00\u7aef\u6211\u4eec\u901a\u5e38\u6210\u4e3a\u5ba2\u6237\u7aef\u3002 \uff08\u6b64\u5904\u8868\u8ff0\u5e76\u4e0d\u4e25\u8c28\uff0c\u6709\u4e2a\u4e86\u89e3\u5373\u53ef\uff09</p>"},{"location":"Go/Socket/IM-System/IM1-%E6%90%AD%E5%BB%BA%E5%9F%BA%E7%A1%80%E6%9C%8D%E5%8A%A1/#_2","title":"\u5ba2\u6237\u7aef","text":"<p>\u63a5\u4e0b\u6765\u6211\u4eec\u5148\u4e13\u6ce8\u4e8e\u670d\u52a1\u7aef\uff0c\u5ba2\u6237\u7aef\u6682\u65f6\u7528 <code>nc</code> \u547d\u4ee4\u6a21\u62df\u3002</p> <ul> <li> <p>Linux     Linux \u4e0b\u9ed8\u8ba4\u88c5\u6709 <code>nc</code></p> <p>\u6ca1\u6709\u7684\u8bdd\u5728\u7ec8\u7aef\u6267\u884c\u547d\u4ee4\uff1a </p><pre><code>$ sudo apt install netcat\n</code></pre><p></p> <p>Manjaro \u6216 Arch Linux \u53d1\u884c\u7248\u8bf7\u4f7f\u7528\u547d\u4ee4 <code>ncat</code> \u6216 <code>netcat</code>\uff1b \u5982\u679c\u6ca1\u6709\uff0c\u8bf7\u81ea\u884c\u5b89\u88c5\u597d <code>yay</code> \u7b2c\u4e09\u65b9\u5305\u7ba1\u7406\u5de5\u5177\uff0c\u7136\u540e\u6267\u884c\u4e0b\u9762\u7684\u547d\u4ee4\uff1a </p><pre><code>$ yay -S nmap-netcat\n</code></pre><p></p> </li> <li> <p>Windows     Windows \u7528\u6237\u5148\u4e0b\u8f7d netcat \u5de5\u5177\uff0c\u653e\u5728 <code>C:\\User</code> \u4e0b\u6216\u8005\u81ea\u5df1\u77e5\u9053\u7684\u5730\u65b9\uff0c     \u7136\u540e\u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf\uff0c\u8bb0\u5f97\u5148\u5173\u6389\u6740\u6bd2\u8f6f\u4ef6\u3002</p> </li> </ul>"},{"location":"Go/Socket/IM-System/IM1-%E6%90%AD%E5%BB%BA%E5%9F%BA%E7%A1%80%E6%9C%8D%E5%8A%A1/#server","title":"Server \u7aef","text":"<p>\u9996\u5148\u6784\u9020\u4e00\u4e2a Server \u7ed3\u6784\u4f53\uff0c\u88c5\u6709 IP \u548c Port \u5b57\u6bb5\uff0c\u5e76\u7ed9\u4ed6\u4e00\u4e2a\u5de5\u5382\u51fd\u6570\u7528\u4e8e\u8fd4\u56de Server \u5b9e\u4f8b\u3002 </p><pre><code>type Server struct {\n    IP      string\n    Port int\n}\n\nfunc NewServer (IP string, Port int) *Server {\n    return &amp;Server{IP, Port}\n}\n</code></pre><p></p> <p>\u7136\u540e\u6211\u4eec\u63d0\u4f9b\u4e00\u4e2a Start \u65b9\u6cd5\u4f9b\u5b9e\u4f8b\u8c03\u7528\uff0c\u5728\u65b9\u6cd5\u4e2d\u4e3b\u8981\u505a4\u4ef6\u4e8b\u60c5\uff1a</p> <ol> <li>\u521b\u5efa\u4e00\u4e2a\u76d1\u542c\u5bf9\u8c61\uff0c\u8d1f\u8d23\u76d1\u542c\u4e00\u4e2a\u7aef\u53e3\u53f7</li> <li>\u5bf9\u53d1\u9001\u6765\u7684\u8bf7\u6c42\u8fdb\u884c\u63a5\u53d7\uff0c\u5efa\u7acb\u8fde\u63a5</li> <li>\u5f00\u542f\u4e00\u4e2a <code>goroutine</code> \u8fdb\u884c\u5904\u7406</li> <li>\u5173\u95ed\u76d1\u542c\u5bf9\u8c61</li> </ol> <pre><code>func (s *Server) Start() {\n    address := fmt.Sprintf(\"%s:%d\", s.IP, s.Port)\n    listener, err := net.Listen(\"tcp\", address)    // \u521b\u5efa\u4e00\u4e2a\u76d1\u542c\u5bf9\u8c61\n    if err != nil {\n        fmt.Println(\"Listen err:\", err)\n        return\n    }\n    defer listener.Close()    // \u5ef6\u8fdf\u5173\u95ed\u76d1\u542c\u5bf9\u8c61\n\n    fmt.Println(\"=&gt; Server listen on :\", address)\n\n    for {\n        conn, err := listener.Accept()    // \u5bf9\u53d1\u9001\u6765\u7684\u8bf7\u6c42\u8fdb\u884c\u63a5\u6536\uff0c\u5efa\u7acb\u8fde\u63a5\n        if err != nil {\n        fmt.Println(\"Conn Err:\", err)\n    }\n    go s.handler(conn)    // \u5f00\u542f\u4e00\u4e2a goroutine \u5904\u7406\n    }\n}\n</code></pre> <pre><code>func (s *Server) handler(conn net.Conn) {\n    fmt.Println(\"Connection Successfuly.\")                   // \u670d\u52a1\u7aef\u6253\u5370\u8fde\u63a5\u6210\u529f\u4fe1\u606f\n    conn.Write([]byte(\"Connection Successfuly.\"))    // \u5ba2\u6237\u7aef\u6253\u5370\u8fde\u63a5\u6210\u529f\u4fe1\u606f\n}\n</code></pre> <p>Server \u7ed3\u6784\u4f53\u7684\u903b\u8f91\u5199\u5b8c\u540e\uff0c\u5c31\u53ef\u4ee5\u5230 <code>main()</code> \u51fd\u6570\u4e2d\u521b\u5efa server \u5bf9\u8c61\u4e86\u3002</p> <pre><code>func main() {\n    server := NewServer(\"127.0.0.1\", 8088)    // \u5b9e\u4f8b\u5316\u4e00\u4e2a server \u5bf9\u8c61\n    server.Start()    // \u8c03\u7528 Start \u65b9\u6cd5\u5f00\u542f\u670d\u52a1\n}\n</code></pre>"},{"location":"Go/Socket/IM-System/IM1-%E6%90%AD%E5%BB%BA%E5%9F%BA%E7%A1%80%E6%9C%8D%E5%8A%A1/#_3","title":"\u7f16\u8bd1\u8fd0\u884c","text":"<p>\u6267\u884c\u547d\u4ee4\uff1a </p><pre><code>$ go build -o server main.go server.go\n$ ./server\n</code></pre><p></p> <p></p> <p>\u5de6\u4fa7\u4e3a\u670d\u52a1\u7aef\uff0c\u8fd0\u884c <code>./server</code> \u540e\u663e\u793a\u4e86\u670d\u52a1\u76d1\u542c\u7740 <code>127.0.0.1\uff1a8088</code> \u7aef\u53e3; \u53f3\u4fa7\u4e3a\u5ba2\u6237\u7aef\uff0c\u4f7f\u7528 <code>nc</code> \u547d\u4ee4\u6a21\u62df\uff0c\u53d1\u9001\u51fa\u8bf7\u6c42\u540e\uff0c\u670d\u52a1\u7aef\u8fd4\u56de\u4e86 <code>Connection Successfuly.</code> \u7684\u5b57\u6837\uff0c\u800c\u670d\u52a1\u7aef\u4e5f\u6253\u5370\u51fa\u540c\u6837\u7684\u5b57\u7b26\u4e32\u3002</p>"},{"location":"Go/Socket/IM-System/IM1-%E6%90%AD%E5%BB%BA%E5%9F%BA%E7%A1%80%E6%9C%8D%E5%8A%A1/#_4","title":"\u5b8c\u6574\u4ee3\u7801","text":"Example server.gomain.go <pre><code>// server.go\npackage main\n\nimport (\n    \"fmt\"\n    \"net\"\n)\n\ntype Server struct {\n    IP   string\n    Port int\n}\n\nfunc NewServer(IP string, port int) *Server {\n    return &amp;Server{IP, port}\n}\n\nfunc (s *Server) Start() {\n    address := fmt.Sprintf(\"%s:%d\", s.IP, s.Port)\n    // 1. listen\n    listener, err := net.Listen(\"tcp\", address)\n    if err != nil {\n        fmt.Println(\"Listen err:\", err)\n        return\n    }\n    // 4. close\n    defer listener.Close()\n\n    fmt.Println(\"=&gt; Server listen on :\", address)\n\n    for {\n        // 2. accept\n        conn, err := listener.Accept()\n        if err != nil {\n            fmt.Println(\"Conn Err:\", err)\n        }\n        // 3. handle\n        go s.handler(conn)\n    }\n}\n\nfunc (s *Server) handler(conn net.Conn) {\n    fmt.Println(\"Connection Successfuly.\")\n    conn.Write([]byte(\"Connection Successfuly.\"))\n}\n</code></pre> <pre><code>// main.go\npackage main\n\nfunc main() {\n    server := NewServer(\"127.0.0.1\", 8088)\n    server.Start()\n}\n</code></pre>"},{"location":"Go/Socket/IM-System/IM10-%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%A7%A3%E6%9E%90/","title":"10-\u547d\u4ee4\u884c\u89e3\u6790","text":""},{"location":"Go/Socket/IM-System/IM10-%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%A7%A3%E6%9E%90/#im10-","title":"IM10-\u547d\u4ee4\u884c\u89e3\u6790","text":"<p>\u4e0a\u4e00\u7ae0\u7684 IP \u548c \u7aef\u53e3 \u90fd\u662f\u5199\u6b7b\u7684\uff0c\u90a3\u80fd\u4e0d\u80fd\u50cf\u547d\u4ee4 <code>nc 127.0.0.1 8088</code> \u90a3\u6837\uff0c\u628a IP \u548c \u7aef\u53e3 \u547d\u4ee4\u53c2\u6570\u4f20\u8fdb\u53bb\u5462\uff1f</p> <p>\u8fd9\u5c31\u7528\u5230\u4e86 <code>flag</code> \u8fd9\u4e2a\u5305\u4e86\u3002</p> <p>\u5982\u679c\u4f60\u60f3\u81ea\u5df1\u5199\u4e00\u4e2a\u50cf <code>ls\u3001cd\u3001tar</code> \u8fd9\u6837\u7684\u547d\u4ee4\uff0c\u90a3\u4e00\u5b9a\u8981\u597d\u597d\u638c\u63e1 <code>flag</code> \u5305\u3002</p> <p>\u89e3\u6790\u547d\u4ee4\u884c\u5176\u5b9e\u6709\u4e24\u79cd\u65b9\u6cd5\uff1a</p> <ol> <li>\u901a\u8fc7 <code>os.Args</code> \u83b7\u5f97\u6240\u6709\u53c2\u6570\uff0c\u5728\u901a\u8fc7\u5207\u7247\u5f97\u5230\u6bcf\u4e00\u4e2a\u53c2\u6570</li> <li>\u901a\u8fc7 <code>flag</code> \u5305\u83b7\u5f97</li> </ol>"},{"location":"Go/Socket/IM-System/IM10-%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%A7%A3%E6%9E%90/#_1","title":"\u89e3\u6790\u65b9\u6cd5","text":""},{"location":"Go/Socket/IM-System/IM10-%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%A7%A3%E6%9E%90/#osargs","title":"os.Args","text":"<p>os.Args \u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u5207\u7247 <code>[]string</code>\uff0c\u7528\u6cd5\u975e\u5e38\u7b80\u5355\uff1a</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"os\"\n)\n\nfunc main() {\n    for i, arg := range os.Args {\n        fmt.Printf(\"args[%d] is %v \\n\", i, arg)\n    }\n}\n</code></pre> <p>\u8fd0\u884c\uff1a </p><pre><code>$ go build -o echo_args\n\n$ ./echo_args 1 2 B o i i\n\nargs[0] is ./echo_args\nargs[1] is 1\nargs[2] is 2\nargs[3] is B\nargs[4] is o\nargs[5] is i\nargs[6] is i\n</code></pre><p></p>"},{"location":"Go/Socket/IM-System/IM10-%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%A7%A3%E6%9E%90/#flag","title":"flag","text":"<p>flag \u5305\u63d0\u4f9b\u4e86 <code>T()</code>\u7cfb\u5217\u3001<code>TVar()</code>\u7cfb\u5217\u3002</p> <ul> <li><code>T()</code>\u7cfb\u5217\u57fa\u672c\u683c\u5f0f\uff1aflag.T(\u53c2\u6570\u540d, \u9ed8\u8ba4\u503c, \u5e2e\u52a9\u4fe1\u606f) *T</li> <li>\u5177\u4f53\u6709\u4ee5\u4e0b\u51e0\u79cd\uff1a<ul> <li><code>flag.Bool()</code></li> <li><code>flag.String()</code></li> <li><code>flag.Int()</code></li> <li><code>flag.Int64()</code></li> <li><code>flag.Duration()</code></li> <li><code>flag.Float64()</code></li> <li><code>flag.Uint()</code></li> <li><code>flag.Uint64()</code></li> </ul> </li> <li><code>TVat()</code>\u7cfb\u5217\u57fa\u672c\u683c\u5f0f\uff1aflag.StringVar(&amp;T, \u53c2\u6570\u540d, \u9ed8\u8ba4\u503c, \u5e2e\u52a9\u4fe1\u606f)</li> <li>\u5177\u4f53\u6709\u4ee5\u4e0b\u51e0\u79cd\uff1a<ul> <li><code>flag.BoolVar()</code></li> <li><code>flag.StringVar()</code></li> <li><code>flag.IntVar()</code></li> <li><code>flag.Int64Var()</code></li> <li><code>flag.DurationVar()</code></li> <li><code>flag.Float64Var()</code></li> <li><code>flag.UintVar()</code></li> <li><code>flag.Uint64Var()</code></li> </ul> </li> <li>\u533a\u522b\uff1a<ul> <li><code>T()</code>\u7cfb\u5217\u8fd4\u56de\u4e00\u4e2a T\u578b\u6307\u9488\uff0c\u9700\u8981\u4e00\u4e2a\u53d8\u91cf\u53bb\u627f\u63a5</li> <li><code>TVar()</code>\u7cfb\u5217\u4e0d\u8fd4\u56de\uff0c\u53d8\u91cf\u662f\u4f5c\u4e3a\u53c2\u6570\u4f20\u8fdb\u53bb\u7684\u3002</li> </ul> </li> </ul> <p>\u4e3e\u4f8b\uff1a </p><pre><code>func main() {\n    // T() \u7cfb\u5217\n    name := flag.String(\"n\", \"Boii\", \"\u8bf7\u8f93\u5165\u540d\u5b57\")\n\n    // TVar() \u7cfb\u5217\n    var sex string\n    flag.StringVar(&amp;sex, \"s\", \"\u7537\", \"\u8bf7\u8f93\u5165\u6027\u522b\")\n\n    flag.Parse()    // \u5f97\u8c03\u7528 Parse \u624d\u80fd\u89e3\u6790\u547d\u4ee4\u884c\u53c2\u6570\n\n    fmt.Println(\"name is\", *name)\n    fmt.Println(\"sex is\", sex)\n}\n</code></pre><p></p> <p>\u8fd0\u884c\uff1a </p><pre><code>$ go build -o flag_args\n\n$ ./flag_args -n Eva -s=\u5973\n\nname is Eva\nsex is \u5973\n</code></pre><p></p>"},{"location":"Go/Socket/IM-System/IM10-%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%A7%A3%E6%9E%90/#flag_1","title":"flag \u5f62\u5f0f","text":"<p>\u901a\u8fc7 flag \u5305\u8fd9\u4e24\u4e2a\u7cfb\u5217\u63a5\u6536\u7684\u547d\u4ee4\u884c\u53c2\u6570\uff0c\u5728\u547d\u4ee4\u4e2d\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b4\u79cd\u65b9\u5f0f\uff1a</p> <ol> <li><code>-flag xxx</code></li> <li><code>-flag=xxx</code>\uff08\u7b49\u53f7\u4e24\u8fb9\u4e0d\u80fd\u6709\u7a7a\u683c\uff0c\u5e03\u5c14\u7c7b\u578b\u53c2\u6570\u5fc5\u987b\u7528\u7b49\u53f7\u7684\u65b9\u5f0f\uff09</li> <li><code>--flag xxx</code></li> <li><code>--flag=xxx</code>\uff08\u7b49\u53f7\u4e24\u8fb9\u4e0d\u80fd\u6709\u7a7a\u683c\uff0c\u5e03\u5c14\u7c7b\u578b\u53c2\u6570\u5fc5\u987b\u7528\u7b49\u53f7\u7684\u65b9\u5f0f\uff09</li> </ol> <pre><code>$ ./flag_args -n Eva --s \u5973\n\n$ ./flag_args -n=Eva --s=\u5973\n</code></pre>"},{"location":"Go/Socket/IM-System/IM10-%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%A7%A3%E6%9E%90/#_2","title":"\u5e2e\u52a9\u4fe1\u606f","text":"<p>\u901a\u8fc7 <code>-h\u3001--h</code> \u6216 <code>-help\u3001--help</code> \u53ef\u4ee5\u83b7\u5f97\u5e2e\u52a9\u4fe1\u606f\u3002</p> <pre><code>$ ./flag_args --help\n\nUsage of ./flag_args:\n  -n string\n        \u8bf7\u8f93\u5165\u540d\u5b57 (default \"Boii\")\n  -s string\n        \u8bf7\u8f93\u5165\u6027\u522b (default \"\u7537\")\n\n$ ./flag_args -h\n\nUsage of ./flag_args:\n  -n string\n        \u8bf7\u8f93\u5165\u540d\u5b57 (default \"Boii\")\n  -s string\n        \u8bf7\u8f93\u5165\u6027\u522b (default \"\u7537\")\n</code></pre>"},{"location":"Go/Socket/IM-System/IM10-%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%A7%A3%E6%9E%90/#_3","title":"\u6539\u9020\u5ba2\u6237\u7aef","text":"<p>\u8bf4\u5b8c\u4e24\u79cd\u89e3\u6790\u65b9\u5f0f\uff0c\u63a5\u4e0b\u6765\u5f00\u59cb\u8ba9\u5ba2\u6237\u7aef\u5177\u6709\u89e3\u6790\u529f\u80fd</p> <p>\u4f7f\u7528\u7b2c\u4e00\u79cd<code>os.Args</code>\u7684\u65b9\u5f0f\uff1a </p><pre><code>package main\n\nimport (\n    \"os\"\n    \"log\"\n    \"strconv\"\n)\n\n// $ ./client -ip 127.0.0.1 -port 8088\nfunc main() {\n    // \u8bfb\u53d6\u53c2\u6570\n    serverIP := os.Args[1]\n    serverPort, _ := strconv.Atoi(os.Args[2])\n\n    // \u542f\u52a8\u5ba2\u6237\u7aef\u8fde\u63a5\u670d\u52a1\u5668\n    client := NewClient(serverIP, serverPort)\n    if client == nil {\n        log.Println(\"&gt;&gt;&gt;&gt;&gt; \u8fde\u63a5\u670d\u52a1\u5668\u5931\u8d25...\")\n        return\n    }\n    log.Println(\"&gt;&gt;&gt;&gt;&gt; \u8fde\u63a5\u670d\u52a1\u5668\u6210\u529f...\")\n\n    select {}\n}\n</code></pre><p></p> <p>\u4f7f\u7528\u7b2c\u4e8c\u79cd<code>flag</code>\u7684\u65b9\u5f0f\uff1a </p><pre><code>package main\n\nimport (\n    \"flag\"\n    \"log\"\n)\n\nvar serverIP string\nvar serverPort int\n\n// $ ./client -ip 127.0.0.1 -port 8088\nfunc init() {\n    // \u8bfb\u53d6\u53c2\u6570\n    flag.StringVar(&amp;serverIP, \"ip\", \"127.0.0.1\", \"\u8bbe\u7f6e\u670d\u52a1\u5668IP\u5730\u5740\")\n    flag.IntVar(&amp;serverPort, \"port\", 80, \"\u8bbe\u7f6e\u670d\u52a1\u5668\u7aef\u53e3\")\n    flag.Parse()\n}\n\nfunc main() {\n    // \u542f\u52a8\u5ba2\u6237\u7aef\u8fde\u63a5\u670d\u52a1\u5668\n    client := NewClient(serverIP, serverPort)\n    if client == nil {\n        log.Println(\"&gt;&gt;&gt;&gt;&gt; \u8fde\u63a5\u670d\u52a1\u5668\u5931\u8d25...\")\n        return\n    }\n    log.Println(\"&gt;&gt;&gt;&gt;&gt; \u8fde\u63a5\u670d\u52a1\u5668\u6210\u529f...\")\n\n    select {}\n}\n</code></pre> \u8fd9\u91cc\u5c06 <code>flag</code> \u89e3\u6790\u7684\u90e8\u5206\u653e\u5728 <code>init()</code> \u51fd\u6570\u4e2d\uff0c\u56e0\u4e3a\u8bfb\u53d6\u547d\u4ee4\u884c\u53c2\u6570\u53ea\u4f1a\u505a\u4e00\u6b21\uff0c\u800c\u4e14 <code>init()</code> \u662f\u5148\u4e8e <code>main()</code> \u8fd0\u884c\u7684\uff0c\u6240\u4ee5\u6bd4\u8f83\u89c4\u8303\u3002<p></p>"},{"location":"Go/Socket/IM-System/IM10-%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%A7%A3%E6%9E%90/#_4","title":"\u7f16\u8bd1\u8fd0\u884c","text":"<pre><code>$ go build -o client ./main.go ./client.go\n\n$ ./client -ip 127.0.0.1 -port 8088\n</code></pre>"},{"location":"Go/Socket/IM-System/IM11-%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82/","title":"11-\u53d1\u9001\u8bf7\u6c42","text":""},{"location":"Go/Socket/IM-System/IM11-%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82/#im11-","title":"IM11-\u53d1\u9001\u8bf7\u6c42","text":"<p>\u9996\u5148\u4f5c\u4e3a\u4e00\u4e2a\u5ba2\u6237\u7aef\uff0c\u6211\u4eec\u53ef\u4ee5\u6253\u5370\u4e00\u5f20\u83dc\u5355\uff0c\u544a\u8bc9\u7528\u6237\u5404\u79cd\u9009\u9879\uff0c\u8ba9\u7528\u6237\u8f93\u5165\u9009\u62e9\uff0c\u7136\u540e\u6211\u4eec\u518d\u6839\u636e\u7528\u6237\u7684\u9009\u62e9\u6267\u884c\u4e0d\u540c\u7684\u52a8\u4f5c\u3002</p> <p>\u76ee\u524d\u670d\u52a1\u7aef\u5177\u5907\u7fa4\u804a\u3001\u79c1\u804a\u3001\u91cd\u547d\u540d\u3001\u67e5\u8be2\u5728\u7ebf\u7528\u62374\u79cd\u529f\u80fd\uff0c\u90a3\u4e48\u5ba2\u6237\u7aef\u5e94\u8be5\u5177\u5907\u53d1\u9001\u8fd9 4 \u79cd\u6307\u4ee4\u7684\u80fd\u529b\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u5148\u52a0\u4e2a\u83dc\u5355\u663e\u793a</p>"},{"location":"Go/Socket/IM-System/IM11-%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82/#_1","title":"\u83dc\u5355","text":"<pre><code>func (c *Client) menu() bool {\n    var choice int\n\n    fmt.Println(\"1. \u7fa4\u804a\u6a21\u5f0f\")\n    fmt.Println(\"2. \u79c1\u804a\u6a21\u5f0f\")\n    fmt.Println(\"3. \u66f4\u65b0\u7528\u6237\u540d\")\n    fmt.Println(\"4. \u67e5\u770b\u5728\u7ebf\u7528\u6237\")\n    fmt.Println(\"0. \u9000\u51fa\")\n    fmt.Scanln(&amp;choice)\n\n    if !(choice &gt;= 0 &amp;&amp; choice &lt;= 4) {\n        fmt.Println(\"\u8bf7\u8f93\u5165\u5408\u6cd5\u6570\u5b57[0-4]:\")\n        return false\n    }\n\n    c.choice = choice\n    return true\n}\n</code></pre> <p>\u6709\u4e86\u83dc\u5355\uff0c\u5c31\u9700\u8981\u63a5\u6536\u7528\u6237\u7684\u8f93\u5165\uff0c\u6240\u4ee5\u6211\u4eec\u5728 <code>Client</code> \u7ed3\u6784\u4f53\u4e2d\u589e\u52a0\u4e00\u4e2a\u5b57\u6bb5 <code>choice</code>\uff1a </p><pre><code>type Client struct {\n    Name       string\n    ServerIP   string\n    ServerPort int\n    choice     int    // \u589e\u52a0\u5b57\u6bb5\n    conn       net.Conn\n}\n</code></pre><p></p> <p>\u6709\u4e86\u83dc\u5355\uff0c\u63a5\u4e0b\u6765\u5c31\u53ef\u4ee5\u5199\u4e00\u4e2a <code>run()</code> \u4e00\u76f4\u76d1\u542c\u7528\u6237\u7684\u8f93\u5165\uff0c\u63a5\u53d7\u5230\u7528\u6237\u7684\u8f93\u5165\u540e\u68c0\u67e5\u662f\u4e0d\u662f\u5728 0-4 \u4e4b\u95f4\uff0c\u7136\u540e\u8fdb\u5165 switch \u8c03\u7528\u4e0d\u540c\u7684\u65b9\u6cd5\u3002</p> <p></p><pre><code>func (c *Client) run() {\n    for {\n        for c.menu() == false {\n        }\n        switch c.choice {\n        case 1: // \u7fa4\u804a\u6a21\u5f0f\n            c.groupChat()\n        case 2: // \u79c1\u804a\u6a21\u5f0f\n            c.privateChat()\n        case 3: // \u4fee\u6539\u7528\u6237\u540d\n            c.rename()\n        case 4: // \u6253\u5370\u5728\u7ebf\u7528\u6237\n            c.showOnlineUser()\n        case 0: // \u9000\u51fa\n            os.Exit(1)\n        }\n    }\n}\n</code></pre> \u641e\u5b9a\u4e4b\u540e\uff0c\u5728 <code>main()</code> \u51fd\u6570\u4e2d\u8c03\u7528 <code>run()</code> \u51fd\u6570\u5c31\u53ef\u4ee5\u8fdb\u5165\u83dc\u5355\u4e86\u3002<p></p> <pre><code>func main() {\n\n    client := NewClient(serverIP, serverPort)\n    if client == nil {\n        log.Println(\"&gt;&gt;&gt;&gt;&gt; \u8fde\u63a5\u670d\u52a1\u5668\u5931\u8d25...\")\n        return\n    }\n    log.Println(\"&gt;&gt;&gt;&gt;&gt; \u8fde\u63a5\u670d\u52a1\u5668\u6210\u529f...\")\n    go client.dealResponse()\n\n    // \u542f\u52a8\u5ba2\u6237\u7aef\u4e1a\u52a1\n    client.run()\n}\n</code></pre> <p>\u83dc\u5355\u90e8\u5206\u8fd9\u6837\u5c31\u5904\u7406\u597d\u4e86\uff0c\u4e0b\u9762\u5c31\u53ef\u4ee5\u5f00\u59cb\u7f16\u5199 <code>c.groupChat()\u3001c.privateChat()\u3001c.rename()\u3001c.showOnlineUser()</code> \u4e86\u3002</p>"},{"location":"Go/Socket/IM-System/IM11-%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82/#_2","title":"\u53d1\u9001\u8bf7\u6c42","text":""},{"location":"Go/Socket/IM-System/IM11-%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82/#_3","title":"\u67e5\u770b\u5728\u7ebf\u7528\u6237","text":"<p>\u6211\u4eec\u5148\u4ece\u67e5\u770b\u5728\u7ebf\u7528\u6237\u7684 <code>showOnlineUser()</code> \u5f00\u59cb\uff0c\u8fd9\u4e2a\u6bd4\u8f83\u7b80\u5355\u3002</p> <p>\u7528\u6237\u8f93\u5165 <code>\"4\"</code> \u4e4b\u540e\u4f1a\u8c03\u7528 <code>c.showOnlineUser()</code>\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5c06\u4e4b\u524d\u7ea6\u5b9a\u597d\u7684\uff08\u7528 nc \u547d\u4ee4\u6a21\u62df\u5ba2\u6237\u7aef\u7684\u65f6\u5019\u6211\u4eec\u7ea6\u5b9a\u8fc7\u6307\u4ee4\uff0c\u300aIM5-\u5728\u7ebf\u7528\u6237\u67e5\u8be2\u529f\u80fd\u300b\uff09\u6307\u4ee4 <code>alluser</code>\uff0c \u901a\u8fc7 <code>conn</code> \u5bf9\u8c61\u7684 <code>Write()</code> \u65b9\u6cd5\u5c31\u53ef\u4ee5\u53d1\u9001\u7ed9\u670d\u52a1\u7aef\u3002</p> <pre><code>func (c *Client) showOnlineUser() {\n    showInstruction := \"alluser\"    // \u5b9a\u4e49\u6307\u4ee4\n    _, err := c.conn.Write([]byte(showInstruction)) // \u53d1\u9001\u7ed9\u670d\u52a1\u7aef\n    if err != nil {\n        fmt.Println(\"\u67e5\u770b\u5728\u7ebf\u7528\u6237\u64cd\u4f5c\u8bf7\u6c42\u5931\u8d25\uff01\")\n        fmt.Println(\"conn.Write err:\", err)\n    }\n}\n</code></pre>"},{"location":"Go/Socket/IM-System/IM11-%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82/#_4","title":"\u91cd\u547d\u540d","text":"<p>\u548c\u4e0a\u9762 <code>showOnlineUser()</code> \u4e00\u4e2a\u9053\u7406\uff0c\u53ea\u4e0d\u8fc7\u6211\u4eec\u8981\u591a\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570 NEWNAME\u3002\u91cd\u547d\u540d\u7684\u6307\u4ee4\u662f <code>rename NEWNAME</code>\u3002</p> <p>\u7b2c\u4e00\u6b65\u8981\u8ba9\u7528\u6237\u8f93\u5165\u65b0\u7684\u540d\u5b57\uff0c\u7136\u540e\u62fc\u63a5\u6307\u4ee4\uff0c\u53d1\u9001\uff0c\u5b8c\u4e8b\u513f\u3002</p> <pre><code>func (c *Client) rename() {\n    fmt.Println(\"\u8bf7\u8f93\u5165\u7528\u6237\u540d\uff1a\")\n    fmt.Scanln(&amp;c.Name)    // \u63a5\u6536\u7528\u6237\u8f93\u5165\u7684\u65b0\u540d\u5b57\n\n    renameInstruction := \"rename \" + c.Name    // \u62fc\u63a5\n    _, err := c.conn.Write([]byte(renameInstruction)) // \u53d1\u9001\u91cd\u547d\u540d\u7684\u8bf7\u6c42\u7ed9\u670d\u52a1\u5668\n    if err != nil {\n        fmt.Println(\"rename \u64cd\u4f5c\u8bf7\u6c42\u5931\u8d25\uff01\")\n        fmt.Println(\"conn.Write err:\", err)\n    }\n}\n</code></pre>"},{"location":"Go/Socket/IM-System/IM11-%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82/#_5","title":"\u7fa4\u53d1\u6d88\u606f\u548c\u79c1\u804a\u6a21\u5f0f","text":"<p>\u4e3e\u4e00\u53cd\u4e09\uff0c\u79c1\u804a\u7684\u6307\u4ee4\u662f <code>-&gt; USERNAME MESSAGE</code>\uff0c\u9700\u8981\u4e24\u4e2a\u53c2\u6570\uff0c\u90a3\u5c31\u63a5\u6536\u4e24\u6b21\u53c2\u6570\uff0c\u62fc\u63a5\uff0c\u53d1\u9001\u3002</p> <p>\u4e3a\u4e86\u4e0d\u7528\u53d1\u6bcf\u4e00\u6761\u6d88\u606f\u90fd\u8f93\u5165\u7528\u6237\u540d\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u8f93\u5165\u7528\u6237\u540d\u4e4b\u540e\u8fdb\u5165\u6b7b\u5faa\u73af\uff0c\u4e0d\u65ad\u63a5\u6536\u804a\u5929\u5185\u5bb9\uff0c\u5e76\u7ea6\u5b9a\u8f93\u5165 <code>&lt;-</code> \u65f6\u8fd4\u56de\u83dc\u5355\u3002</p> <pre><code>func (c *Client) privateChat() {\n    var (\n        content string\n        friend  string\n    )\n\n    fmt.Println(\"\u8bf7\u8f93\u5165\u597d\u53cb\u540d\u79f0\uff0c\u8f93\u5165&lt;-\u8fd4\u56de\u83dc\u5355\uff1a\")\n    fmt.Scanln(&amp;friend)    // \u8f93\u5165\u597d\u53cb\u540d\u79f0\n\n    for friend != \"&lt;-\" {\n        fmt.Println(\"\u8bf7\u8f93\u5165\u5185\u5bb9\uff0c\u8f93\u5165&lt;-\u8fd4\u56de\u83dc\u5355\uff1a\")\n        fmt.Scanln(&amp;content)    // \u8f93\u5165\u804a\u5929\u5185\u5bb9\n\n        for content != \"&lt;-\" {\n            privChatInstruction := \"-&gt; \" + friend + \" \" + content    // \u62fc\u63a5\u6307\u4ee4\n\n            _, err := c.conn.Write([]byte(privChatInstruction))      // \u53d1\u9001\u8bf7\u6c42\n            if err != nil {\n                fmt.Println(\"\u79c1\u804a\u64cd\u4f5c\u8bf7\u6c42\u5931\u8d25\uff01\")\n                fmt.Println(\"conn.Write err:\", err)\n                break\n            }\n\n            fmt.Println(\"\u8bf7\u8f93\u5165\u5185\u5bb9\uff0c\u8f93\u5165&lt;-\u8fd4\u56de\u83dc\u5355\uff1a\")\n            fmt.Scanln(&amp;content)    // \u8f93\u5165\u804a\u5929\u5185\u5bb9\n        }\n        break\n    }\n}\n</code></pre> <pre><code>func (c *Client) groupChat() {\n    var content string\n\n    fmt.Println(\"\u8bf7\u8f93\u5165\u7fa4\u804a\u6d88\u606f, \u8f93\u5165&lt;-\u8fd4\u56de\u83dc\u5355\uff1a\")\n    fmt.Scanln(&amp;content)    // \u8f93\u5165\u7fa4\u53d1\u5185\u5bb9\n\n    for content != \"&lt;-\" {\n        if len(content) != 0 {\n\n            _, err := c.conn.Write([]byte(content))    // \u53d1\u9001\u7fa4\u53d1\u5185\u5bb9\n            if err != nil {\n                fmt.Println(\"\u7fa4\u804a\u64cd\u4f5c\u8bf7\u6c42\u5931\u8d25\uff01\")\n                fmt.Println(\"conn.Write err:\", err)\n                break\n            }\n        }\n        content = \"\"    // \u6d88\u606f\u5185\u5bb9\u53d8\u91cf\u91cd\u7f6e\n\n        fmt.Println(\"\u8bf7\u8f93\u5165\u7fa4\u804a\u6d88\u606f, \u8f93\u5165&lt;-\u8fd4\u56de\u83dc\u5355\uff1a\")\n        fmt.Scanln(&amp;content)    // \u8f93\u5165\u7fa4\u53d1\u5185\u5bb9\n    }\n}\n</code></pre>"},{"location":"Go/Socket/IM-System/IM11-%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82/#_6","title":"\u76d1\u542c\u670d\u52a1\u5668\u53d1\u6765\u7684\u6d88\u606f","text":"<p>\u4e0a\u9762\u5199\u4e86\u5f88\u591a\u6307\u4ee4\uff0c\u90fd\u662f\u53d1\u9001\u8bf7\u6c42\u7684\uff0c\u4f46\u662f\u6211\u4eec\u7684\u5ba2\u6237\u7aef\u8fd8\u4e0d\u5177\u5907\u63a5\u6536\u670d\u52a1\u5668\u7684\u54cd\u5e94\u7684\u529f\u80fd\uff0c\u6240\u4ee5\u6211\u4eec\u8fd8\u9700\u8981\u5f00\u542f\u4e00\u4e2a goroutine \u6765\u76d1\u542c\u670d\u52a1\u5668\u7684\u54cd\u5e94\u3002</p> <p></p> <p>\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u5199\u4e00\u4e2a <code>dealResponse()</code> \u51fd\u6570\uff0c\u7528\u6237\u6253\u5370\u670d\u52a1\u5668\u54cd\u5e94\u56de\u6765\u7684\u5185\u5bb9\u3002</p> <p><code>conn.Write()</code> \u662f\u53d1\u9001\u8bf7\u6c42\u7ed9\u670d\u52a1\u7aef\uff0c\u90a3\u4e48<code>conn.Read()</code> \u5c31\u662f\u63a5\u53d7\u670d\u52a1\u7aef\u7684\u54cd\u5e94\u3002</p> <pre><code>func (c *Client) dealResponse() {\n    for {\n        buf := make([]byte, 1024)\n        c.conn.Read(buf)\n        fmt.Println(buf)\n    }\n}\n</code></pre> <p>\u4f46\u662f\u6211\u4eec\u4e5f\u53ef\u4ee5\u7528 <code>io.Copy()</code> \u6765\u66ff\u4ee3\uff0c\u800c\u4e14<code>io.Copy()</code> \u662f\u6c38\u4e45\u963b\u585e\u7684\u3002</p> <pre><code>// \u4e0e\u4e0a\u9762\u4f8b\u5b50\u7b49\u4ef7\nfunc (c *Client) dealResponse() {\n    io.Copy(os.Stdout, c.conn)\n}\n</code></pre>"},{"location":"Go/Socket/IM-System/IM11-%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82/#_7","title":"\u603b\u7ed3","text":"<ol> <li>Server \u542f\u52a8\u540e\u76d1\u542c 8088 \u7aef\u53e3</li> <li>Client \u542f\u52a8\u540e\u5411 Server \u8bf7\u6c42\uff0c\u901a\u8fc7 8088 \u7aef\u53e3</li> <li>Server \u63a5\u6536\u8bf7\u6c42\u540e\u5f00\u542f\u4e00\u4e2a user goroutine\uff0c\u548c Client \u5efa\u7acb\u8d77\u8fde\u63a5</li> <li>Server \u63a5\u7740\u542f\u52a8\u4e00\u4e2a handler goroutine \u5904\u7406 Client \u53d1\u6765\u7684\u8bf7\u6c42</li> <li>handler \u4e2d\u505a\u7740\u5404\u79cd\u5177\u4f53\u7684\u5904\u7406\uff0c\u4f8b\u5982\u7fa4\u53d1\uff0chandler \u4f1a\u5411 Message chan \u53d1\u9001\u4e00\u6761\u7528\u6237\u4e0a\u7ebf\u7684\u6d88\u606f</li> <li>broadcast \u4f1a\u4e00\u76f4\u76d1\u542c Message chan\uff0c\u4e00\u6709\u6d88\u606f\u5c31\u5faa\u73af\u628a\u6d88\u606f\u653e\u5230\u6bcf\u4e00\u4e2a User chan \u4e2d</li> <li>User goroutine \u4f1a\u4e00\u76f4\u76d1\u542c User chan\uff0c\u6536\u5230\u6d88\u606f\u5c31\u901a\u8fc7 conn.Wrtie() \u54cd\u5e94\u7ed9 Client</li> <li>Client \u7684 delRes goroutine \u6536\u5230\u54cd\u5e94\u540e\u5c31\u628a\u6d88\u606f\u6253\u5370\u5728\u63a7\u5236\u53f0\u4e0a\u3002</li> </ol> <p>--- \u7cfb\u5217\u5b8c\u7ed3 ---</p>"},{"location":"Go/Socket/IM-System/IM2-%E4%B8%8A%E7%BA%BF%E5%B9%BF%E6%92%AD%E5%8A%9F%E8%83%BD/","title":"2-\u4e0a\u7ebf\u5e7f\u64ad\u529f\u80fd","text":""},{"location":"Go/Socket/IM-System/IM2-%E4%B8%8A%E7%BA%BF%E5%B9%BF%E6%92%AD%E5%8A%9F%E8%83%BD/#im2-","title":"IM2-\u5b9e\u73b0\u7528\u6237\u4e0a\u7ebf\u5e7f\u64ad","text":"<p>\u5b9e\u73b0\u7528\u6237\u4e0a\u7ebf\u5e7f\u64ad\u529f\u80fd\uff0c\u7c7b\u4f3c\u4e8e QQ \u7684\u597d\u53cb\u4e0a\u7ebf\u63d0\u9192\u529f\u80fd\u3002</p> <p>\u5f53\u5ba2\u6237\u7aef\u53d1\u6765\u4e00\u4e2a\u8bf7\u6c42\uff0c\u670d\u52a1\u7aef\u63a5\u6536\u4ee5\u540e\u4f1a\u4ea4\u7ed9 handler \u5904\u7406\uff1b</p> <p>handler \u4f1a\u5148\u5c06\u8fd9\u4e2a\u7528\u6237 user \u52a0\u5165 onlineMap \u4e2d\uff0c\u7136\u540e\u544a\u77e5\u5e7f\u64ad broadcast \u8fdb\u884c\u64ad\u9001\uff1b</p> <p>\u800c\u7528\u6237 user \u5728\u5b9e\u4f8b\u5316\u65f6\u5c31\u4f1a\u542f\u52a8\u4e00\u4e2a goroutine \u76d1\u542c\u597d\u53cb\u4e0a\u7ebf\u6d88\u606f\u8fd9\u4e2a channel\uff0c\u4e00\u65e6\u6709\u6d88\u606f\u5c31 write \u51fa\u6765\u3002</p>"},{"location":"Go/Socket/IM-System/IM2-%E4%B8%8A%E7%BA%BF%E5%B9%BF%E6%92%AD%E5%8A%9F%E8%83%BD/#user","title":"\u6784\u5efa User","text":"<p>\u9996\u5148\u6211\u4eec\u5148\u5efa\u7acb\u4e00\u4e2a User \u7ed3\u6784\u4f53\uff0c\u5305\u542b\u7528\u6237\u7684\u540d\u5b57\u3001\u5730\u5740\u3001\u76d1\u542c\u597d\u53cb\u4e0a\u7ebf\u6d88\u606f\u7684\u901a\u9053\u3001\u8fde\u63a5\uff0c\u6682\u65f6\u5c31\u8d1f\u8d23\u4e00\u4ef6\u4e8b\uff1a\u76d1\u542c\u597d\u53cb\u4e0a\u7ebf\u6d88\u606f\u3002</p> <pre><code>type User struct {\n    Name string\n    Addr string\n    C    chan string\n    conn net.Conn\n}\n\nvar count int\n\nfunc NewUser(conn net.Conn) *User {\n    count++\n    user := &amp;User{\n        Name: \"user\" + strconv.Itoa(count),\n        Addr: conn.RemoteAddr().String(),\n        C:    make(chan string),\n        conn: conn,\n    }\n    go user.listenMessage()    // \u542f\u52a8\u76d1\u542c\u597d\u53cb\u4e0a\u7ebf\u7684 goroutine\n    return user\n}\n</code></pre> <p>User \u63d0\u4f9b\u4e86\u4e00\u4e2a\u5de5\u5382\u51fd\u6570\u7528\u4e8e\u5b9e\u4f8b\u5316\uff0c\u5e76\u5728\u5b9e\u4f8b\u5316\u7684\u65f6\u5019\u5f00\u542f\u4e00\u4e2a goroutine <code>go user.listenMessage()</code> \u7528\u4e8e\u76d1\u542c\u597d\u53cb\u4e0a\u7ebf\u6d88\u606f\u3002</p> <p>\u76d1\u542c\u4e5f\u7b80\u5355\uff0c\u5c31\u662f\u5faa\u73af\u4ece\u901a\u9053\u4e2d\u8bfb\u53d6\uff0c\u4e00\u65e6\u8bfb\u53d6\u5230\u6d88\u606f\u5c31 write \u5230\u5ba2\u6237\u7aef\u3002</p> <pre><code>func (u *User) listenMessage() {\n    for {\n        msg := &lt;-u.C    // \u4ece\u901a\u9053\u4e2d\u8bfb\u53d6\n        u.conn.Write([]byte(msg + \"\\n\"))\n    }\n}\n</code></pre>"},{"location":"Go/Socket/IM-System/IM2-%E4%B8%8A%E7%BA%BF%E5%B9%BF%E6%92%AD%E5%8A%9F%E8%83%BD/#server","title":"\u6539\u9020 Server","text":""},{"location":"Go/Socket/IM-System/IM2-%E4%B8%8A%E7%BA%BF%E5%B9%BF%E6%92%AD%E5%8A%9F%E8%83%BD/#server_1","title":"Server \u7ed3\u6784\u4f53","text":"<p>\u63a5\u4e0b\u6765\u6211\u4eec\u9700\u8981\u5bf9 Server \u7ed3\u6784\u4f53\u8fdb\u884c\u6539\u9020\u3002</p> <p>\u9996\u5148\u5f97\u5305\u542b\u4e00\u4e2a map \u4fdd\u5b58\u7740\u5df2\u4e0a\u7ebf\u7684\u7528\u6237\uff0c\u987a\u5e26\u914d\u628a\u9501\u53ef\u4ee5\u5728\u5199\u5165\u7684\u65f6\u5019\u4f7f\u7528\uff0c\u7136\u540e\u518d\u52a0\u4e00\u4e2a\u901a\u9053 \u7528\u4e8e\u5b58\u653e\u7528\u6237\u4e0a\u7ebf\u7684 message</p> <pre><code>type Server struct {\n    IP        string\n    Port      int\n    onlineMap map[string]*User // \u5728\u7ebf\u7528\u6237\u8868onlinemap\n    mapLock   sync.RWMutex\n    message   chan string // \u6d88\u606f\u5e7f\u64ad\u7684 channel\n}\n\nfunc NewServer(IP string, port int) *Server {\n    return &amp;Server{\n        IP:        IP,\n        Port:      port,\n        onlineMap: make(map[string]*User),\n        message:   make(chan string),\n    }\n}\n</code></pre>"},{"location":"Go/Socket/IM-System/IM2-%E4%B8%8A%E7%BA%BF%E5%B9%BF%E6%92%AD%E5%8A%9F%E8%83%BD/#handler","title":"handler \u5904\u7406","text":"<p>\u6211\u4eec\u8fd9\u4e2a\u670d\u52a1\u7684\u6d41\u7a0b\u662f\uff1aClient \u53d1\u6765\u8bf7\u6c42\uff0cServer \u63a5\u6536 -&gt; handler \u5904\u7406\u3002</p> <p>\u6240\u4ee5\u73b0\u5728\u8981\u4ece handler \u5f00\u59cb\u5904\u7406\u3002</p> <pre><code>// v1\u7248\nfunc (s *Server) handler(conn net.Conn) {\n    fmt.Println(\"Connection Successfuly.\")                   // \u670d\u52a1\u7aef\u6253\u5370\u8fde\u63a5\u6210\u529f\u4fe1\u606f\n    conn.Write([]byte(\"Connection Successfuly.\"))    // \u5ba2\u6237\u7aef\u6253\u5370\u8fde\u63a5\u6210\u529f\u4fe1\u606f\n}\n</code></pre> <p>\u5efa\u7acb\u8fde\u63a5\u4e4b\u540e\u5206\u522b\u5728 \u670d\u52a1\u7aef \u548c \u5ba2\u6237\u7aef \u90fd\u6253\u5370\u4e86\u8fde\u63a5\u6210\u529f\u7684\u4fe1\u606f\u3002</p> <p>\u63a5\u7740\u6211\u4eec\u5f97\u5b9e\u4f8b\u5316\u4e00\u4e2a User \uff0c\u5e76\u52a0\u5165\u7684\u5230 onlineMap \u4e2d\uff0c\u7136\u540e\u8ba9\u5e7f\u64ad\u64ad\u9001\u8fd9\u4e2a\u7528\u6237\u4e0a\u7ebf\u7684\u6d88\u606f\u3002</p> <p></p><pre><code>// v2\u7248\nfunc (s *Server) handler(conn net.Conn) {\n    fmt.Println(\"Connection Successfuly.\\n\")\n    conn.Write([]byte(\"Connection Successfuly.\\n\"))\n\n    // \u5c06\u7528\u6237\u52a0\u5165 onlinemap\n    user := NewUser(conn)\n    s.mapLock.Lock()\n    s.onlineMap[user.Name] = user\n    s.mapLock.Unlock()\n\n    // \u7528\u6237\u4e0a\u7ebf\u5e7f\u64ad\n    s.generateMsg(user, \"Online\")\n    // \u963b\u585e\u5f53\u524d\u5e7f\u64ad\n    select {}\n}\n</code></pre> <code>NewUser()</code> \u4e4b\u540e\u4f1a\u8fd4\u56de\u4e00\u4e2a User \u5b9e\u4f8b\uff0c\u540c\u65f6\u8be5\u5b9e\u4f8b\u5f00\u542f\u4e86\u4e00\u4e2a <code>goroutine</code> \u76d1\u542c\u597d\u53cb\u4e0a\u7ebf\u6d88\u606f\uff1b<p></p> <p>\u63a5\u7740\u7531\u4e8e map \u4e0d\u662f\u7ebf\u7a0b\u5b89\u5168\u7684\uff0c\u6240\u4ee5\u8981\u5148\u4e0a\u9501\uff0c\u628a \u5f53\u524d user \u52a0\u5165\u5230 onlineMap \uff0c\u7136\u540e\u89e3\u9501\uff1b</p> <p>\u6700\u540e\u8c03\u7528 <code>generateMsg()</code> \u751f\u6210\u5e7f\u64ad\u6d88\u606f\u5185\u5bb9\uff0c\u5e76\u653e\u5165\u6d88\u606f\u901a\u9053\u3002</p> <p></p><pre><code>// \u6d88\u606f\u751f\u6210\u5668\nfunc (s *Server) generateMsg(user *User, msg string) {\n    sendMsg := \"[\" + user.Addr + \"]\" + user.Name + \": \" + msg + \"\\n\"\n    s.message &lt;- sendMsg\n}\n</code></pre> \u6d88\u606f\u751f\u6210\u5668\uff0c\u8d1f\u8d23\u751f\u6210\u4e00\u6761\u5e7f\u64ad\u6d88\u606f\uff0c\u7136\u540e\u653e\u5230 \u6d88\u606f\u901a\u9053 <code>s.message</code>\u4e2d\uff1b<p></p>"},{"location":"Go/Socket/IM-System/IM2-%E4%B8%8A%E7%BA%BF%E5%B9%BF%E6%92%AD%E5%8A%9F%E8%83%BD/#broadcast","title":"broadcast \u5e7f\u64ad","text":"<p>\u5e7f\u64ad\u8d1f\u8d23\u4ece \u6d88\u606f\u901a\u9053\u4e2d\u53d6\u51fa\u6d88\u606f\uff0c\u7136\u540e\u904d\u5386\u5728\u7ebf\u7528\u6237\u5217\u8868 onlineMap \uff0c\u628a\u6d88\u606f\u53d1\u5230\u6bcf\u4e2a \u7528\u6237\u7684\u597d\u53cb\u4e0a\u7ebf\u6d88\u606f\u901a\u9053 <code>user.C</code> \u4e2d\u3002 </p><pre><code>// \u76d1\u542c\u6d88\u606f\u901a\u9053\uff0c\u7136\u540e\u8fdb\u884c\u64ad\u9001\nfunc (s *Server) broadcast() {\n    for {\n        msg := &lt;-s.message\n        s.mapLock.Lock()\n        for _, user := range s.onlineMap {\n            user.C &lt;- msg\n        }\n        s.mapLock.Unlock()\n    }\n}\n</code></pre><p></p> <p>\u800c\u7528\u6237 user \u662f\u6709\u4e00\u4e2a goroutine \u4e00\u76f4\u5728\u76d1\u542c\u8fd9\u4e2a\u901a\u9053\u7684\uff1a </p><pre><code>func (u *User) listenMessage() {\n    for {\n        msg := &lt;-u.C    // \u4ece\u901a\u9053\u4e2d\u8bfb\u53d6\n        u.conn.Write([]byte(msg + \"\\n\"))\n    }\n}\n</code></pre> \u6240\u4ee5\u4e00\u65e6\u6709\u6d88\u606f\u5c31\u4f1a\u6253\u5370\u5230\u5ba2\u6237\u7aef\u4e2d,\u8fd9\u6837\u5c31\u5b9e\u73b0\u4e86\u597d\u53cb\u4e0a\u7ebf\u5e7f\u64ad\u529f\u80fd\u4e86\u3002<p></p> <p>\u6700\u540e\u5728 <code>Start()</code> \u4e2d\u5f00\u542f\u4e00\u4e2a <code>goroutine</code> \u6765\u76d1\u542c\u6d88\u606f\u901a\u9053\u5e76\u53d1\u9001\u6d88\u606f\uff0c\u4e5f\u5c31\u662f\u8c03\u7528<code>\u5e7f\u64ad</code>\u8fd9\u4e2a\u65b9\u6cd5 </p><pre><code>func (s *Server) Start() {\n    ...\n    defer listener.Close()\n    fmt.Println(\"=&gt; Server is listening on :\", address)\n\n    // \u542f\u52a8\u76d1\u542cmsg \u7684 goroutine\n    go s.broadcast()\n\n    ...\n\n        go s.handler(conn)\n    }\n}\n</code></pre><p></p>"},{"location":"Go/Socket/IM-System/IM2-%E4%B8%8A%E7%BA%BF%E5%B9%BF%E6%92%AD%E5%8A%9F%E8%83%BD/#_1","title":"\u7f16\u8bd1\u8fd0\u884c","text":"<pre><code>$ go build -o server server.go user.go main.go\n\n$ ./server\n</code></pre>"},{"location":"Go/Socket/IM-System/IM2-%E4%B8%8A%E7%BA%BF%E5%B9%BF%E6%92%AD%E5%8A%9F%E8%83%BD/#_2","title":"\u603b\u7ed3","text":"<p>\u5728\u539f\u5148\u670d\u52a1\u67b6\u6784\u4e0a\uff0c\u589e\u52a0\u4e00\u4e2a User \u8d1f\u8d23\u76d1\u542c\u597d\u53cb\u4e0a\u7ebf\u6d88\u606f\uff1b</p> <p>Server \u4e2d\u52a0\u5165 \u5728\u7ebf\u7528\u6237\u5217\u8868 \u548c \u6d88\u606f\u901a\u9053</p> <p>\u5728 handler \u5904\u7406\u7684\u65f6\u5019\uff0c\u5b9e\u4f8b\u5316\u4e00\u4e2a user \u5e76\u52a0\u5165\u5728\u7ebf\u7528\u6237\u5217\u8868\uff0c\u7136\u540e\u8fdb\u884c\u5e7f\u64ad</p> <p>\u5728\u5e7f\u64ad\u7684\u65f6\u5019\uff0c\u5148\u751f\u6210\u5e7f\u64ad\u6d88\u606f\uff0c\u52a0\u5165\u5230\u6d88\u606f\u901a\u9053\u4e2d\uff1b\u7136\u540e\u4ece\u901a\u9053\u4e2d\u8bfb\u53d6\u6d88\u606f\uff0c\u904d\u5386\u5728\u7ebf\u7528\u6237\u5217\u8868\uff0c\u9010\u4e2a\u53d1\u9001\u597d\u53cb\u4e0a\u7ebf\u7684\u6d88\u606f\u3002</p> <p>user \u8d1f\u8d23\u76d1\u542c\u597d\u53cb\u4e0a\u7ebf\u6d88\u606f\u7684 goroutine \u6536\u5230\u6d88\u606f\u540e\u5c31\u4f1a\u5411\u5ba2\u6237\u7aef\u6253\u5370\u3002</p>"},{"location":"Go/Socket/IM-System/IM2-%E4%B8%8A%E7%BA%BF%E5%B9%BF%E6%92%AD%E5%8A%9F%E8%83%BD/#_3","title":"\u5b8c\u6574\u4ee3\u7801","text":"Example user.goserver.gomain.go <pre><code>// user.go\npackage main\n\nimport (\n    \"net\"\n    \"strconv\"\n)\n\ntype User struct {\n    Name string\n    Addr string\n    C    chan string\n    conn net.Conn\n}\n\nvar count int\n\nfunc NewUser(conn net.Conn) *User {\n    count++\n    user := &amp;User{\n        Name: \"user\" + strconv.Itoa(count),\n        Addr: conn.RemoteAddr().String(),\n        C:    make(chan string),\n        conn: conn,\n    }\n    go user.listenMessage()    // \u542f\u52a8\u76d1\u542c\u597d\u53cb\u4e0a\u7ebf\u7684 goroutine\n    return user\n}\n\n// \u76d1\u542c\u5f53\u524dUser channel \u7684\u65b9\u6cd5\uff0c\u4e00\u65e6\u6709\u6d88\u606f\u5c31\u76f4\u63a5\u53d1\u9001\u7ed9\u5bf9\u7aef\u5ba2\u6237\u7aef\nfunc (u *User) listenMessage() {\n    for {\n        msg := &lt;-u.C\n        u.conn.Write([]byte(msg + \"\\n\"))\n    }\n}\n</code></pre> <pre><code>// server.go\npackage main\n\nimport (\n    \"fmt\"\n    \"net\"\n    \"sync\"\n)\n\ntype Server struct {\n    IP        string\n    Port      int\n    onlineMap map[string]*User // \u5728\u7ebf\u7528\u6237\u8868onlinemap\n    mapLock   sync.RWMutex\n    message   chan string // \u6d88\u606f\u5e7f\u64ad\u7684 channel\n}\n\nfunc NewServer(IP string, port int) *Server {\n    return &amp;Server{\n        IP:        IP,\n        Port:      port,\n        onlineMap: make(map[string]*User),\n        message:   make(chan string),\n    }\n}\n\nfunc (s *Server) Start() {\n    address := fmt.Sprintf(\"%s:%d\", s.IP, s.Port)\n    // new\n    listener, err := net.Listen(\"tcp\", address)\n    if err != nil {\n        fmt.Println(\"Listen err:\", err)\n        return\n    }\n    // close\n    defer listener.Close()\n\n    fmt.Println(\"=&gt; Server is listening on :\", address)\n\n    // \u542f\u52a8\u76d1\u542cmsg \u7684 goroutine\n    go s.broadcast()\n\n    for {\n        // Accept\n        conn, err := listener.Accept()\n        if err != nil {\n            fmt.Println(\"Conn Err:\", err)\n        }\n        // handle\n        go s.handler(conn)\n    }\n}\n\nfunc (s *Server) handler(conn net.Conn) {\n    fmt.Println(\"Connection Successfuly.\\n\")\n    conn.Write([]byte(\"Connection Successfuly.\\n\"))\n\n    // \u5c06\u7528\u6237\u52a0\u5165 onlinemap\n    user := NewUser(conn)\n    s.mapLock.Lock()\n    s.onlineMap[user.Name] = user\n    s.mapLock.Unlock()\n\n    // \u7528\u6237\u4e0a\u7ebf\u5e7f\u64ad\n    s.generateMsg(user, \"Online\")\n    // \u5f53\u524d\u5e7f\u64ad\u963b\u585e\n    select {}\n}\n\n// \u6d88\u606f\u751f\u6210\u5668\nfunc (s *Server) generateMsg(user *User, msg string) {\n    sendMsg := \"[\" + user.Addr + \"]\" + user.Name + \": \" + msg + \"\\n\"\n    s.message &lt;- sendMsg\n}\n\n// \u76d1\u542c\u6d88\u606f\u901a\u9053\uff0c\u7136\u540e\u8fdb\u884c\u64ad\u9001\nfunc (s *Server) broadcast() {\n    for {\n        msg := &lt;-s.message\n        s.mapLock.Lock()\n        for _, cli := range s.onlineMap {\n            cli.C &lt;- msg\n        }\n        s.mapLock.Unlock()\n    }\n}\n</code></pre> <pre><code>// main.go\npackage main\n\nfunc main() {\n    server := NewServer(\"127.0.0.1\", 8088)\n    server.Start()\n}\n</code></pre>"},{"location":"Go/Socket/IM-System/IM3-%E6%B6%88%E6%81%AF%E7%BE%A4%E5%8F%91%E5%8A%9F%E8%83%BD/","title":"3-\u6d88\u606f\u7fa4\u53d1\u529f\u80fd","text":""},{"location":"Go/Socket/IM-System/IM3-%E6%B6%88%E6%81%AF%E7%BE%A4%E5%8F%91%E5%8A%9F%E8%83%BD/#im3-","title":"IM3-\u7528\u6237\u6d88\u606f\u7fa4\u53d1","text":"<p>\u7fa4\u53d1\u5176\u5b9e\u5c31\u662f\u5e7f\u64ad\uff0c\u5b9e\u73b0\u7528\u6237\u6d88\u606f\u7684\u7fa4\u53d1\u5f88\u7b80\u5355\uff0c \u5728 \u300aIM2-\u7528\u6237\u4e0a\u7ebf\u5e7f\u64ad\u300b \u4e2d\uff0c\u6211\u4eec\u5229\u7528\u901a\u9053\u6765\u8fdb\u884c\u5e7f\u64ad\uff0c\u6211\u4eec\u53ef\u4ee5\u7ee7\u7eed\u4f7f\u7528\u8fd9\u4e2a\u901a\u9053\u6765\u7fa4\u53d1\u3002</p> <p>\u601d\u8def\u4e5f\u7b80\u5355\uff0c\u63a5\u6536\u5ba2\u6237\u7aef\u7684\u8f93\u5165\uff0c\u653e\u5230\u5e7f\u64ad\u91cc\u5c31\u884c\u4e86\u3002</p>"},{"location":"Go/Socket/IM-System/IM3-%E6%B6%88%E6%81%AF%E7%BE%A4%E5%8F%91%E5%8A%9F%E8%83%BD/#_1","title":"\u63a5\u6536\u5ba2\u6237\u7aef\u8f93\u5165","text":"<p>\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u5efa\u7acb\u8fde\u63a5\u4e4b\u540e\u7531 <code>handler</code> \u5904\u7406\u63a5\u4e0b\u6765\u7684\u4e8b\u60c5\uff0c</p> <p></p><pre><code>func (s *Server) handler(conn net.Conn) {\n    fmt.Println(\"Connection Successfuly.\\n\")\n    conn.Write([]byte(\"Connection Successfuly.\\n\"))\n\n    // \u5c06\u7528\u6237\u52a0\u5165 onlinemap\n    user := NewUser(conn)\n    s.mapLock.Lock()\n    s.onlineMap[user.Name] = user\n    s.mapLock.Unlock()\n\n    // \u7528\u6237\u4e0a\u7ebf\u5e7f\u64ad\n    s.generateMsg(user, \"\u5df2\u4e0a\u7ebf\")\n\n    // \u63a5\u6536\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u6d88\u606f\n    go s.massTexting(conn, user)\n    // \u5f53\u524d\u5e7f\u64ad\u963b\u585e\n    select {}\n}\n\nfunc (s *Server) massTexting(conn net.Conn, user *User) {\n    buf := make([]byte, 4096)\n    for {\n        n, err := conn.Read(buf) // \u4ece\u5ba2\u6237\u7aef\u8bfb\u53d6\u8f93\u5165\n        if err != nil &amp;&amp; err != io.EOF {\n            fmt.Println(\"Conn Read Err:\", err)\n            return\n        }\n        if n == 0 || err == io.EOF {\n            s.generateMsg(user, \"\u5df2\u79bb\u7ebf\")\n            return\n        }\n\n        // \u63d0\u53d6\u7528\u6237\u7684\u6d88\u606f\uff08\u53bb\u9664\\n\uff09\n        msg := string(buf[:n-1])\n        // \u5c06\u5f97\u5230\u7684\u6d88\u606f\u8fdb\u884c\u5e7f\u64ad\n        s.generateMsg(user, msg)\n    }\n}\n</code></pre> \u5728 handler \u4e2d\u6211\u4eec\u5f00\u542f\u4e00\u4e2a <code>goroutine</code> \u8d1f\u8d23\u5e7f\u64ad\u5ba2\u6237\u7aef\u53d1\u7684\u6d88\u606f\uff0c\u7136\u540e\u6211\u4eec\u5728 <code>massTexting</code> \u8fd9\u4e2a\u65b9\u6cd5\u4e2d\u53bb\u5904\u7406<p></p> <p>\u5728\u5e7f\u64ad\u4e4b\u524d\u6211\u4eec\u5148\u5c06\u6d88\u606f\u7684\u6362\u884c\u7b26\u53bb\u6389\uff0c\u7136\u540e\u4ea4\u7ed9\u6d88\u606f\u751f\u6210\u5668\u3002 \u6d88\u606f\u751f\u6210\u5668\u53bb\u751f\u6210\u540e\u4f1a\u653e\u5230\u6d88\u606f\u901a\u9053\uff0c\u7136\u540e\u5e7f\u64ad\u5668\u4f1a\u53bb\u8bfb\u53d6\u6d88\u606f\u901a\u9053\u4e2d\u7684\u6d88\u606f\uff0c\u5e76\u8fdb\u884c\u5e7f\u64ad\uff0c\u4e5f\u5c31\u662f\u7fa4\u53d1\u3002</p>"},{"location":"Go/Socket/IM-System/IM3-%E6%B6%88%E6%81%AF%E7%BE%A4%E5%8F%91%E5%8A%9F%E8%83%BD/#_2","title":"\u7f16\u8bd1\u8fd0\u884c","text":"<pre><code>$ go build -o server server.go main.go user.go\n\n$ ./server\n</code></pre>"},{"location":"Go/Socket/IM-System/IM3-%E6%B6%88%E6%81%AF%E7%BE%A4%E5%8F%91%E5%8A%9F%E8%83%BD/#_3","title":"\u5b8c\u6574\u4ee3\u7801","text":"Example server.gouser.gomain.go <pre><code>// server.go\npackage main\n\nimport (\n    \"fmt\"\n    \"io\"\n    \"net\"\n    \"sync\"\n)\n\ntype Server struct {\n    IP        string\n    Port      int\n    onlineMap map[string]*User // \u5728\u7ebf\u7528\u6237\u8868onlinemap\n    mapLock   sync.RWMutex\n    message   chan string // \u6d88\u606f\u5e7f\u64ad\u7684 channel\n}\n\nfunc NewServer(IP string, port int) *Server {\n    return &amp;Server{\n        IP:        IP,\n        Port:      port,\n        onlineMap: make(map[string]*User),\n        message:   make(chan string),\n    }\n}\n\nfunc (s *Server) Start() {\n    address := fmt.Sprintf(\"%s:%d\", s.IP, s.Port)\n    // new\n    listener, err := net.Listen(\"tcp\", address)\n    if err != nil {\n        fmt.Println(\"Listen err:\", err)\n        return\n    }\n    // close\n    defer listener.Close()\n\n    fmt.Println(\"=&gt; Server is listening on :\", address)\n\n    // \u542f\u52a8\u76d1\u542c\u6d88\u606f\u751f\u6210\u5668\u7684 goroutine\n    go s.broadcast()\n\n    for {\n        // Accept\n        conn, err := listener.Accept()\n        if err != nil {\n            fmt.Println(\"Conn Err:\", err)\n        }\n        // handle\n        go s.handler(conn)\n    }\n}\n\nfunc (s *Server) handler(conn net.Conn) {\n    fmt.Println(\"Connection Successfuly.\\n\")\n    conn.Write([]byte(\"Connection Successfuly.\\n\"))\n\n    // \u5c06\u7528\u6237\u52a0\u5165 onlinemap\n    user := NewUser(conn)\n    s.mapLock.Lock()\n    s.onlineMap[user.Name] = user\n    s.mapLock.Unlock()\n\n    // \u7528\u6237\u4e0a\u7ebf\u5e7f\u64ad\n    s.generateMsg(user, \"\u5df2\u4e0a\u7ebf\")\n\n    // \u63a5\u6536\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u6d88\u606f\n    go s.massTexting(conn, user)\n\n    // \u5f53\u524d\u5e7f\u64ad\u963b\u585e\n    select {}\n}\n\nfunc (s *Server) massTexting(conn net.Conn, user *User) {\n    buf := make([]byte, 4096)\n    for {\n        n, err := conn.Read(buf) // \u4ece\u5ba2\u6237\u7aef\u8bfb\u53d6\u8f93\u5165\n        if err != nil &amp;&amp; err != io.EOF {\n            fmt.Println(\"Conn Read Err:\", err)\n            return\n        }\n        if n == 0 || err == io.EOF {\n            s.generateMsg(user, \"\u5df2\u79bb\u7ebf\")\n            return\n        }\n        // \u63d0\u53d6\u7528\u6237\u7684\u6d88\u606f\uff08\u53bb\u9664\\n\uff09\n        msg := string(buf[:n-1])\n        // \u5c06\u5f97\u5230\u7684\u6d88\u606f\u8fdb\u884c\u5e7f\u64ad\n        s.generateMsg(user, msg)\n    }\n}\n\n// \u6d88\u606f\u751f\u6210\u5668\nfunc (s *Server) generateMsg(user *User, msg string) {\n    sendMsg := \"[\" + user.Addr + \"]\" + user.Name + \": \" + msg\n    s.message &lt;- sendMsg\n}\n\n// \u76d1\u542c\u6d88\u606f\u901a\u9053\uff0c\u7136\u540e\u8fdb\u884c\u64ad\u9001\nfunc (s *Server) broadcast() {\n    for {\n        msg := &lt;-s.message\n        s.mapLock.Lock()\n        for _, cli := range s.onlineMap {\n            cli.C &lt;- msg\n        }\n        s.mapLock.Unlock()\n    }\n}\n</code></pre> <pre><code>// user.go\npackage main\n\nimport (\n    \"net\"\n    \"strconv\"\n)\n\ntype User struct {\n    Name string\n    Addr string\n    C    chan string\n    conn net.Conn\n}\n\nvar count int\n\nfunc NewUser(conn net.Conn) *User {\n    count++\n    user := &amp;User{\n        Name: \"user\" + strconv.Itoa(count),\n        Addr: conn.RemoteAddr().String(),\n        C:    make(chan string),\n        conn: conn,\n    }\n    go user.listenMessage()    // \u542f\u52a8\u76d1\u542c\u597d\u53cb\u4e0a\u7ebf\u7684 goroutine\n    return user\n}\n\n// \u76d1\u542c\u5f53\u524dUser channel \u7684\u65b9\u6cd5\uff0c\u4e00\u65e6\u6709\u6d88\u606f\u5c31\u76f4\u63a5\u53d1\u9001\u7ed9\u5bf9\u7aef\u5ba2\u6237\u7aef\nfunc (u *User) listenMessage() {\n    for {\n        msg := &lt;-u.C\n        u.conn.Write([]byte(msg + \"\\n\"))\n    }\n}\n</code></pre> <pre><code>// main.go\npackage main\n\nfunc main() {\n    server := NewServer(\"127.0.0.1\", 8088)\n    server.Start()\n}\n</code></pre>"},{"location":"Go/Socket/IM-System/IM4-%E4%B8%9A%E5%8A%A1%E5%B0%81%E8%A3%85/","title":"4-\u4e1a\u52a1\u5c01\u88c5","text":""},{"location":"Go/Socket/IM-System/IM4-%E4%B8%9A%E5%8A%A1%E5%B0%81%E8%A3%85/#im4-","title":"IM4-\u7528\u6237\u4e1a\u52a1\u5c01\u88c5","text":"<p>\u5728\u524d\u9762\u300aIM3-\u6d88\u606f\u7fa4\u53d1\u529f\u80fd\u300b\u7684\u4f8b\u5b50\uff0cUser \u7684\u529f\u80fd\u5168\u90fd\u653e\u5728 Server \u7684\u65b9\u6cd5\u4e2d\u5904\u7406\uff0c\u8fd9\u6837\u5bfc\u81f4 Server \u7684\u65b9\u6cd5\u592a\u8fc7\u590d\u6742, \u6240\u4ee5\u6211\u4eec\u9700\u8981\u5c06\u5c5e\u4e8e User \u7684\u529f\u80fd\u62bd\u53d6\u51fa\u6765\u5c01\u88c5\u597d\uff0c\u7136\u540e\u518d\u5728 Server \u4e2d\u8c03\u7528\u3002</p> <p>\u6211\u4eec\u5148\u770b\u539f\u5148\u7684 <code>User.go</code>\uff1a </p><pre><code>// user.go\npackage main\n\nimport (\n    \"net\"\n    \"strconv\"\n)\n\ntype User struct {\n    Name string\n    Addr string\n    C    chan string\n    conn net.Conn\n}\n\nvar count int\n\nfunc NewUser(conn net.Conn) *User {\n    count++\n    user := &amp;User{\n        Name: \"user\" + strconv.Itoa(count),\n        Addr: conn.RemoteAddr().String(),\n        C:    make(chan string),\n        conn: conn,\n    }\n    go user.listenMessage()    // \u542f\u52a8\u76d1\u542c\u597d\u53cb\u4e0a\u7ebf\u7684 goroutine\n    return user\n}\n\n// \u76d1\u542c\u5f53\u524dUser channel \u7684\u65b9\u6cd5\uff0c\u4e00\u65e6\u6709\u6d88\u606f\u5c31\u76f4\u63a5\u53d1\u9001\u7ed9\u5bf9\u7aef\u5ba2\u6237\u7aef\nfunc (u *User) listenMessage() {\n    for {\n        msg := &lt;-u.C\n        u.conn.Write([]byte(msg + \"\\n\"))\n    }\n}\n</code></pre> \u9664\u4e86 User \u7ed3\u6784\u4f53\uff0c\u53ea\u6709\u4e00\u4e2a\u76d1\u542c\u597d\u53cb\u4e0a\u7ebf\u7684\u7684\u65b9\u6cd5\uff0c\u800c\u73b0\u5728\u7684 User \u5176\u5b9e\u8fd8\u5177\u6709 \u4e0a\u7ebf\u3001\u79bb\u7ebf\u3001\u53d1\u6d88\u606f\u7684\u529f\u80fd\u3002<p></p> <p>\u6240\u4ee5\u6211\u4eec\u9700\u8981\u5c06 Server \u4e2d\u8fd9\u4e09\u5757\u90a3\u8fc7\u6765\u3002</p> <ol> <li> <p>\u7b2c\u4e00\u6b65\uff1a\u5728 <code>User.go</code> \u4e2d\u5b9a\u4e49 \u4e0a\u7ebf\u3001\u79bb\u7ebf\u3001\u53d1\u6d88\u606f \u7684\u65b9\u6cd5\u3002</p> <pre><code>func (u *User) Online() {}\n\nfunc (u *User) Offline() {}\n\nfunc (u *User) HandleMessage() {}\n</code></pre> <p>\u7136\u540e\u6211\u4eec\u53bb\u770b\u770b\u8fd9\u4e09\u4e2a\u529f\u80fd\u7684\u5177\u4f53\u5b9e\u73b0\u662f\u600e\u6837\u7684</p> <ul> <li> <p>\u7528\u6237\u4e0a\u7ebf\u529f\u80fd</p> <pre><code>// \u5c06\u7528\u6237\u52a0\u5165 onlinemap\nuser := NewUser(conn)\ns.mapLock.Lock()\ns.onlineMap[user.Name] = user\ns.mapLock.Unlock()\n\n// \u7528\u6237\u4e0a\u7ebf\u5e7f\u64ad\ns.generateMsg(user, \"\u5df2\u4e0a\u7ebf\")\n</code></pre> </li> <li> <p>\u7528\u6237\u79bb\u7ebf\u529f\u80fd</p> <pre><code>for {\n    n, err := conn.Read(buf) // \u4ece\u5ba2\u6237\u7aef\u8bfb\u53d6\u8f93\u5165\n    if err != nil &amp;&amp; err != io.EOF {\n        fmt.Println(\"Conn Read Err:\", err)\n        return\n    }\n    if n == 0 || err == io.EOF {\n        s.generateMsg(user, \"\u5df2\u79bb\u7ebf\")\n        return\n    }\n}\n</code></pre> </li> <li> <p>\u7528\u6237\u7fa4\u53d1\u529f\u80fd</p> <pre><code>// \u63d0\u53d6\u7528\u6237\u7684\u6d88\u606f\uff08\u53bb\u9664\\n\uff09\nmsg := string(buf[:n-1])\n// \u5c06\u5f97\u5230\u7684\u6d88\u606f\u8fdb\u884c\u5e7f\u64ad\ns.generateMsg(user, msg)\n</code></pre> </li> </ul> <p>\u7528\u6237\u4e0a\u7ebf\u529f\u80fd\u7684\u5b9e\u73b0\u903b\u8f91\u662f\u5c06 user \u5b9e\u4f8b\u52a0\u5165\u5230 \u5728\u7ebf\u7528\u6237\u5217\u8868\uff0c\u7136\u540e\u8fdb\u884c\u5e7f\u64ad</p> <p>\u7528\u6237\u79bb\u7ebf\u529f\u80fd\u7684\u5b9e\u73b0\u903b\u8f91\u662f\u5c06 user \u5b9e\u4f8b\u4ece \u5728\u7ebf\u7528\u6237\u5217\u8868\u4e2d\u5220\u9664\uff0c\u7136\u540e\u8fdb\u884c\u5e7f\u64ad</p> <p>\u7528\u6237\u7fa4\u53d1\u529f\u80fd\u7684\u5b9e\u73b0\u903b\u8f91\u662f\u5c06\u5ba2\u6237\u7aef\u8bfb\u53d6\u5230\u7684\u6d88\u606f\u8fdb\u884c\u5e7f\u64ad</p> <p>\u8fd9\u4e09\u4e2a\u529f\u80fd\u90fd\u9700\u8981\u7528\u5230\u5e7f\u64ad\uff0c\u800c\u5e7f\u64ad\u662f Server \u7684\u529f\u80fd\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u5bf9 User \u7ed3\u6784\u4f53\u8fdb\u884c\u6539\u9020\uff0c\u8ba9\u5176\u589e\u52a0\u4e00\u4e2a <code>*Server</code> \u5b57\u6bb5\uff1b</p> <p>\u5728\u5b9e\u4f8b\u5316 User \u7684\u65f6\u5019\uff0c\u4e5f\u8981\u5c06\u6240\u5728\u7684 Server \u4e00\u5e76\u4f20\u8fc7\u6765\u3002</p> </li> <li> <p>\u7b2c\u4e8c\u6b65\uff1a\u6539\u9020 User \u7ed3\u6784\u4f53\u5e76\u5c01\u88c5</p> <pre><code>type User struct {\n    Name   string\n    Addr   string\n    C      chan string\n    conn   net.Conn\n    server *Server\n}\n\nvar count int\n\nfunc NewUser(conn net.Conn, server *Server) *User {\n    count++\n    user := &amp;User{\n        Name:   \"user\" + strconv.Itoa(count),\n        Addr:   conn.RemoteAddr().String(),\n        C:      make(chan string),\n        conn:   conn,\n        server: server,\n    }\n    go user.listenMessage()\n    return user\n}\n</code></pre> <p>\u73b0\u5728\u6211\u4eec\u5c31\u53ef\u4ee5\u628a\u7528\u6237\u4e0a\u7ebf\u7684\u5177\u4f53\u5b9e\u73b0\u90a3\u8fc7\u6765\u653e\u5728 <code>user.go</code> \u4e2d\u7684 <code>Online()</code> \u91cc\u4e86\uff1a</p> <pre><code>// Online \u7528\u6237\u4e0a\u7ebf\u529f\u80fd\nfunc (u *User) Online() {\n    // \u7528\u6237\u4e0a\u7ebf\uff0c\u5c06\u7528\u6237\u52a0\u5165 onlinemap\n    u.server.mapLock.Lock()\n    u.server.onlineMap[u.Name] = u\n    u.server.mapLock.Unlock()\n\n    // \u7528\u6237\u4e0a\u7ebf\u5e7f\u64ad\n    u.server.generateMsg(u, \"\u5df2\u4e0a\u7ebf\")\n}\n</code></pre> <p>\u7528\u6237\u79bb\u7ebf\u7684\u529f\u80fd\u7c7b\u4f3c\uff1a </p><pre><code>// Offline \u7528\u6237\u4e0b\u7ebf\u529f\u80fd\nfunc (u *User) Offline() {\n    // \u7528\u6237\u4e0b\u7ebf\uff0c\u5c06\u7528\u6237\u4ece onlineMap \u4e2d\u79fb\u9664\n    u.server.mapLock.Lock()\n    delete(u.server.onlineMap, u.Name)\n    u.server.mapLock.Unlock()\n\n    // \u7528\u6237\u4e0b\u7ebf\u5e7f\u64ad\n    u.server.generateMsg(u, \"\u5df2\u79bb\u7ebf\")\n}\n</code></pre><p></p> <p>\u7528\u6237\u7fa4\u53d1\u529f\u80fd\u66f4\u7b80\u5355\uff0c\u4f46\u662f\u9700\u8981\u52a0\u4e0a\u53c2\u6570\uff1a </p><pre><code>// HandleMessage \u7528\u6237\u5904\u7406\u6d88\u606f\u529f\u80fd\nfunc (u *User) HandleMessage(msg string) {\n    u.server.generateMsg(u, msg)\n}\n</code></pre><p></p> </li> <li> <p>\u7b2c\u4e09\u6b65\uff1a\u4fee\u6539 Server \u4e2d\u7528\u6237\u529f\u80fd\u7684\u5b9e\u73b0\uff0c\u6539\u4e3a\u8c03\u7528\u4e0a\u9762\u4e09\u4e2a\u65b9\u6cd5</p> <pre><code>func (s *Server) handler(conn net.Conn) {\n    fmt.Println(\"Connection Successfuly.\\n\")\n    conn.Write([]byte(\"Connection Successfuly.\\n\"))\n\n    // \u5c06\u7528\u6237\u52a0\u5165 onlinemap\n    // user := NewUser(conn)\n    // s.mapLock.Lock()\n    // s.onlineMap[user.Name] = user\n    // s.mapLock.Unlock()\n\n    // \u7528\u6237\u4e0a\u7ebf\u5e7f\u64ad\n    s.generateMsg(user, \"\u5df2\u4e0a\u7ebf\")\n\n    /* \u6539\u4e3a */\n    user := NewUser(conn, s)\n    user.Online()\n\n\n    // \u63a5\u6536\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u6d88\u606f\n    go s.massTexting(conn, user)\n\n    // \u5f53\u524d\u5e7f\u64ad\u963b\u585e\n    select {}\n}\n\nfunc (s *Server) massTexting(conn net.Conn, user *User) {\n    buf := make([]byte, 4096)\n    for {\n        n, err := conn.Read(buf) // \u4ece\u5ba2\u6237\u7aef\u8bfb\u53d6\u8f93\u5165\n        if err != nil &amp;&amp; err != io.EOF {\n            fmt.Println(\"Conn Read Err:\", err)\n            return\n        }\n        if n == 0 || err == io.EOF {\n            // s.generateMsg(user, \"\u5df2\u79bb\u7ebf\")\n        /* \u6539\u4e3a */\n        user.Offline()\n            return\n        }\n        // \u63d0\u53d6\u7528\u6237\u7684\u6d88\u606f\uff08\u53bb\u9664\\n\uff09\n        msg := string(buf[:n-1])\n        // \u5c06\u5f97\u5230\u7684\u6d88\u606f\u8fdb\u884c\u5e7f\u64ad\n        // s.generateMsg(user, msg)\n        /* \u6539\u4e3a */\n        user.HandleMessage(msg)\n    }\n}\n</code></pre> </li> </ol>"},{"location":"Go/Socket/IM-System/IM4-%E4%B8%9A%E5%8A%A1%E5%B0%81%E8%A3%85/#_1","title":"\u7f16\u8bd1\u8fd0\u884c","text":"<pre><code>$ go build -o server server.go main.go user.go\n\n$ ./server\n</code></pre>"},{"location":"Go/Socket/IM-System/IM4-%E4%B8%9A%E5%8A%A1%E5%B0%81%E8%A3%85/#_2","title":"\u5b8c\u6574\u4ee3\u7801","text":"Example user,goserver.gomain.go <pre><code>// user.go\npackage main\n\nimport (\n    \"net\"\n    \"strconv\"\n)\n\ntype User struct {\n    Name   string\n    Addr   string\n    C      chan string\n    conn   net.Conn\n    server *Server\n}\n\nvar count int\n\nfunc NewUser(conn net.Conn, server *Server) *User {\n    count++\n    user := &amp;User{\n        Name:   \"user\" + strconv.Itoa(count),\n        Addr:   conn.RemoteAddr().String(),\n        C:      make(chan string),\n        conn:   conn,\n        server: server,\n    }\n    go user.listenMessage()\n    return user\n}\n\n// \u76d1\u542c\u5f53\u524dUser channel \u7684\u65b9\u6cd5\uff0c\u4e00\u65e6\u6709\u6d88\u606f\u5c31\u76f4\u63a5\u53d1\u9001\u7ed9\u5bf9\u7aef\u5ba2\u6237\u7aef\nfunc (u *User) listenMessage() {\n    for {\n        msg := &lt;-u.C\n        u.conn.Write([]byte(msg + \"\\n\"))\n    }\n}\n\n// Online \u7528\u6237\u4e0a\u7ebf\u529f\u80fd\nfunc (u *User) Online() {\n    // \u7528\u6237\u4e0a\u7ebf\uff0c\u5c06\u7528\u6237\u52a0\u5165 onlinemap\n    u.server.mapLock.Lock()\n    u.server.onlineMap[u.Name] = u\n    u.server.mapLock.Unlock()\n\n    // \u7528\u6237\u4e0a\u7ebf\u5e7f\u64ad\n    u.server.generateMsg(u, \"\u5df2\u4e0a\u7ebf\")\n\n}\n\n// Offline \u7528\u6237\u4e0b\u7ebf\u529f\u80fd\nfunc (u *User) Offline() {\n    // \u7528\u6237\u4e0b\u7ebf\uff0c\u5c06\u7528\u6237\u4ece onlineMap \u4e2d\u79fb\u9664\n    u.server.mapLock.Lock()\n    delete(u.server.onlineMap, u.Name)\n    u.server.mapLock.Unlock()\n\n    // \u7528\u6237\u4e0b\u7ebf\u5e7f\u64ad\n    u.server.generateMsg(u, \"\u5df2\u79bb\u7ebf\")\n\n}\n\n// HandleMessage \u7528\u6237\u5904\u7406\u6d88\u606f\u529f\u80fd\nfunc (u *User) HandleMessage(msg string) {\n\n    u.server.generateMsg(u, msg)\n}\n</code></pre> <pre><code>// server.go\npackage main\n\nimport (\n    \"fmt\"\n    \"io\"\n    \"net\"\n    \"sync\"\n)\n\ntype Server struct {\n    IP        string\n    Port      int\n    onlineMap map[string]*User // \u5728\u7ebf\u7528\u6237\u8868onlinemap\n    mapLock   sync.RWMutex\n    message   chan string // \u6d88\u606f\u5e7f\u64ad\u7684 channel\n}\n\nfunc NewServer(IP string, port int) *Server {\n    return &amp;Server{\n        IP:        IP,\n        Port:      port,\n        onlineMap: make(map[string]*User),\n        message:   make(chan string),\n    }\n}\n\nfunc (s *Server) Start() {\n    address := fmt.Sprintf(\"%s:%d\", s.IP, s.Port)\n    // new\n    listener, err := net.Listen(\"tcp\", address)\n    if err != nil {\n        fmt.Println(\"Listen err:\", err)\n        return\n    }\n    // close\n    defer listener.Close()\n\n    fmt.Println(\"=&gt; Server is listening on :\", address)\n\n    // \u542f\u52a8\u76d1\u542c\u6d88\u606f\u751f\u6210\u5668\u7684 goroutine\n    go s.broadcast()\n\n    for {\n        // Accept\n        conn, err := listener.Accept()\n        if err != nil {\n            fmt.Println(\"Conn Err:\", err)\n        }\n        // handle\n        go s.handler(conn)\n    }\n}\n\nfunc (s *Server) handler(conn net.Conn) {\n    fmt.Println(\"Connection Successfuly.\\n\")\n    conn.Write([]byte(\"Connection Successfuly.\\n\"))\n\n    user := NewUser(conn, s)\n    user.Online()\n    // \u63a5\u6536\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u6d88\u606f\n    go s.massTexting(conn, user)\n\n    // \u5f53\u524d\u5e7f\u64ad\u963b\u585e\n    select {}\n}\n\nfunc (s *Server) massTexting(conn net.Conn, user *User) {\n    buf := make([]byte, 4096)\n    for {\n        n, err := conn.Read(buf) // \u4ece\u5ba2\u6237\u7aef\u8bfb\u53d6\u8f93\u5165\n        if err != nil &amp;&amp; err != io.EOF {\n            fmt.Println(\"Conn Read Err:\", err)\n            return\n        }\n        if n == 0 || err == io.EOF {\n            user.Offline()\n            return\n        }\n        // \u63d0\u53d6\u7528\u6237\u7684\u6d88\u606f\uff08\u53bb\u9664\\n\uff09\n        msg := string(buf[:n-1])\n        // \u9488\u5bf9msg \u8fdb\u884c\u5904\u7406\n        user.HandleMessage(msg)\n    }\n}\n\n// \u6d88\u606f\u751f\u6210\u5668\nfunc (s *Server) generateMsg(user *User, msg string) {\n    sendMsg := \"[\" + user.Addr + \"]\" + user.Name + \": \" + msg\n    s.message &lt;- sendMsg\n}\n\n// \u76d1\u542c\u6d88\u606f\u901a\u9053\uff0c\u7136\u540e\u8fdb\u884c\u64ad\u9001\nfunc (s *Server) broadcast() {\n    for {\n        msg := &lt;-s.message\n        s.mapLock.Lock()\n        for _, cli := range s.onlineMap {\n            cli.C &lt;- msg\n        }\n        s.mapLock.Unlock()\n    }\n}\n</code></pre> <pre><code>// main.go\npackage main\n\nfunc main() {\n    server := NewServer(\"127.0.0.1\", 8088)\n    server.Start()\n}\n</code></pre>"},{"location":"Go/Socket/IM-System/IM5-%E5%9C%A8%E7%BA%BF%E7%94%A8%E6%88%B7%E6%9F%A5%E8%AF%A2%E5%8A%9F%E8%83%BD/","title":"5-\u5728\u7ebf\u7528\u6237\u67e5\u8be2\u529f\u80fd","text":""},{"location":"Go/Socket/IM-System/IM5-%E5%9C%A8%E7%BA%BF%E7%94%A8%E6%88%B7%E6%9F%A5%E8%AF%A2%E5%8A%9F%E8%83%BD/#im5-","title":"IM5-\u5728\u7ebf\u7528\u6237\u67e5\u8be2","text":"<p>\u5728\u7ebf\u7528\u6237\u67e5\u8be2\uff0c\u601d\u8def\u662f\u8fd9\u6837\u7684\uff1a \u9996\u5148\u80af\u5b9a\u5f97\u7528\u6237\u53d1\u9001\u4e00\u6761\u4ec0\u4e48\u6307\u4ee4\uff0c\u7136\u540e\u670d\u52a1\u7aef\u5728\u63a5\u6536\u5230\u8fd9\u6761\u6307\u4ee4\u4e4b\u540e\u4f5c\u51fa\u5bf9\u5e94\u7684\u5904\u7406\u3002</p> <p>\u5728 \u300aIM4-\u7528\u6237\u4e1a\u52a1\u5c01\u88c5\u300b \u4e2d\uff0c\u6211\u4eec\u5728 \u670d\u52a1\u7aef\u7684 <code>handler()</code> \u4e2d\u542f\u52a8\u4e00\u4e2a <code>goroutine</code> \u53bb\u6267\u884c <code>massTexting()</code> \u63a5\u6536\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u6d88\u606f\uff0c \u7136\u540e\u5728 <code>massTexting()</code> \u4e2d\u628a\u6d88\u606f\u5185\u5bb9\u4ea4\u7ed9 <code>user.HandleMessage(msg)</code> \u5904\u7406\u3002</p> <p>\u90a3\u4e48\u63a5\u4e0b\u6765\u6211\u4eec\u8981\u505a\u7684\uff0c\u5c31\u662f\u5728 <code>user.HandleMessage()</code> \u4e2d\u6839\u636e\u5185\u5bb9\u7684\u4e0d\u540c\u8fdb\u884c\u4e0d\u540c\u7684\u5904\u7406\u3002</p> <p>\u5148\u770b\u4e0b\u539f\u672c\u7684 <code>HandleMessage()</code> </p><pre><code>// DoMessage \u7528\u6237\u5904\u7406\u6d88\u606f\u529f\u80fd\nfunc (u *User) HandleMessage(msg string) {\n    u.server.generateMsg(u, msg)\n}\n</code></pre><p></p> <p>\u73b0\u5728\u6211\u4eec\u9700\u8981\u6839\u636e msg \u5185\u5bb9\u7684\u4e0d\u540c\u8fdb\u884c\u4e0d\u540c\u7684\u5904\u7406\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>switch</code>\u3002 </p><pre><code>// HandleMessage \u7528\u6237\u5904\u7406\u6d88\u606f\u529f\u80fd\nfunc (u *User) HandleMessage(msg string) {\n    switch msg {\n    case \"alluser\":     // \u67e5\u8be2\u5f53\u524d\u5728\u7ebf\u7528\u6237\n        u.showOnlineUser()\n    default:\n        u.server.generateMsg(u, msg)\n    }\n}\n</code></pre><p></p> <p>\u8fd9\u6837\u5982\u679c\u7528\u6237\u8f93\u5165\u7684\u662f <code>alluser</code> \u5c31\u4f1a\u53bb\u8c03\u7528 <code>showOnlineUser()</code> \u8fd9\u4e2a\u65b9\u6cd5\u3002</p> <p>\u5c55\u793a\u4e5f\u7b80\u5355\uff0c\u5c31\u662f\u904d\u5386 onlineMap\uff0c\u7136\u540e\u6253\u5370\u51fa\u6765\u5373\u53ef\u3002</p> <pre><code>// \u6253\u5370\u6240\u6709\u5728\u7ebf\u7528\u6237\nfunc (u *User) showOnlineUser() {\n    // \u67e5\u8be2\u903b\u8f91\uff0c\u904d\u5386\u5728\u7ebf\u7528\u6237\u5217\u8868\n    u.server.mapLock.Lock()\n    userName := \"\"\n    for _, user := range u.server.onlineMap {\n        userName += user.Name + \"\\n\"\n    }\n    u.server.mapLock.Unlock()\n    u.conn.Write([]byte(userName))\n}\n</code></pre>"},{"location":"Go/Socket/IM-System/IM5-%E5%9C%A8%E7%BA%BF%E7%94%A8%E6%88%B7%E6%9F%A5%E8%AF%A2%E5%8A%9F%E8%83%BD/#_1","title":"\u7f16\u8bd1\u8fd0\u884c","text":"<pre><code>$ go build -o server server.go main.go user.go\n\n$ ./server\n</code></pre>"},{"location":"Go/Socket/IM-System/IM5-%E5%9C%A8%E7%BA%BF%E7%94%A8%E6%88%B7%E6%9F%A5%E8%AF%A2%E5%8A%9F%E8%83%BD/#_2","title":"\u5b8c\u6574\u4ee3\u7801","text":"Example user.goserver.gomain.go <pre><code>// user.go\npackage main\n\nimport (\n    \"net\"\n    \"strconv\"\n)\n\ntype User struct {\n    Name   string\n    Addr   string\n    C      chan string\n    conn   net.Conn\n    server *Server\n}\n\nvar count int\n\nfunc NewUser(conn net.Conn, server *Server) *User {\n    count++\n    user := &amp;User{\n        Name:   \"user\" + strconv.Itoa(count),\n        Addr:   conn.RemoteAddr().String(),\n        C:      make(chan string),\n        conn:   conn,\n        server: server,\n    }\n    go user.listenMessage()\n    return user\n}\n\n// \u76d1\u542c\u5f53\u524dUser channel \u7684\u65b9\u6cd5\uff0c\u4e00\u65e6\u6709\u6d88\u606f\u5c31\u76f4\u63a5\u53d1\u9001\u7ed9\u5bf9\u7aef\u5ba2\u6237\u7aef\nfunc (u *User) listenMessage() {\n    for {\n        msg := &lt;-u.C\n        u.conn.Write([]byte(msg + \"\\n\"))\n    }\n}\n\n// Online \u7528\u6237\u4e0a\u7ebf\u529f\u80fd\nfunc (u *User) Online() {\n    // \u7528\u6237\u4e0a\u7ebf\uff0c\u5c06\u7528\u6237\u52a0\u5165 onlinemap\n    u.server.mapLock.Lock()\n    u.server.onlineMap[u.Name] = u\n    u.server.mapLock.Unlock()\n\n    // \u7528\u6237\u4e0a\u7ebf\u5e7f\u64ad\n    u.server.generateMsg(u, \"\u5df2\u4e0a\u7ebf\")\n\n}\n\n// Offline \u7528\u6237\u4e0b\u7ebf\u529f\u80fd\nfunc (u *User) Offline() {\n    // \u7528\u6237\u4e0b\u7ebf\uff0c\u5c06\u7528\u6237\u4ece onlineMap \u4e2d\u79fb\u9664\n    u.server.mapLock.Lock()\n    delete(u.server.onlineMap, u.Name)\n    u.server.mapLock.Unlock()\n\n    // \u7528\u6237\u4e0b\u7ebf\u5e7f\u64ad\n    u.server.generateMsg(u, \"\u5df2\u79bb\u7ebf\")\n\n}\n\n// HandleMessage \u7528\u6237\u5904\u7406\u6d88\u606f\u529f\u80fd\nfunc (u *User) HandleMessage(msg string) {\n    switch msg {\n    case \"alluser\":     // \u67e5\u8be2\u5f53\u524d\u5728\u7ebf\u7528\u6237\n        u.showOnlineUser()\n    default:\n        u.server.generateMsg(u, msg)\n    }\n}\n\n// \u6253\u5370\u6240\u6709\u5728\u7ebf\u7528\u6237\nfunc (u *User) showOnlineUser() {\n    u.server.mapLock.Lock()\n    userName := \"\"\n    for _, user := range u.server.onlineMap {\n        userName += user.Name + \"\\n\"\n    }\n    u.server.mapLock.Unlock()\n    u.conn.Write([]byte(userName))\n}\n</code></pre> <pre><code>// server.go\npackage main\n\nimport (\n    \"fmt\"\n    \"io\"\n    \"net\"\n    \"sync\"\n)\n\ntype Server struct {\n    IP        string\n    Port      int\n    onlineMap map[string]*User // \u5728\u7ebf\u7528\u6237\u8868onlinemap\n    mapLock   sync.RWMutex\n    message   chan string // \u6d88\u606f\u5e7f\u64ad\u7684 channel\n}\n\nfunc NewServer(IP string, port int) *Server {\n    return &amp;Server{\n        IP:        IP,\n        Port:      port,\n        onlineMap: make(map[string]*User),\n        message:   make(chan string),\n    }\n}\n\nfunc (s *Server) Start() {\n    address := fmt.Sprintf(\"%s:%d\", s.IP, s.Port)\n    // new\n    listener, err := net.Listen(\"tcp\", address)\n    if err != nil {\n        fmt.Println(\"Listen err:\", err)\n        return\n    }\n    // close\n    defer listener.Close()\n\n    fmt.Println(\"=&gt; Server is listening on :\", address)\n\n    // \u542f\u52a8\u76d1\u542c\u6d88\u606f\u751f\u6210\u5668\u7684 goroutine\n    go s.broadcast()\n\n    for {\n        // Accept\n        conn, err := listener.Accept()\n        if err != nil {\n            fmt.Println(\"Conn Err:\", err)\n        }\n        // handle\n        go s.handler(conn)\n    }\n}\n\nfunc (s *Server) handler(conn net.Conn) {\n    fmt.Println(\"Connection Successfuly.\\n\")\n    conn.Write([]byte(\"Connection Successfuly.\\n\"))\n\n    user := NewUser(conn, s)\n    user.Online()\n    // \u63a5\u6536\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u6d88\u606f\n    go s.massTexting(conn, user)\n\n    // \u5f53\u524d\u5e7f\u64ad\u963b\u585e\n    select {}\n}\n\nfunc (s *Server) massTexting(conn net.Conn, user *User) {\n    buf := make([]byte, 4096)\n    for {\n        n, err := conn.Read(buf) // \u4ece\u5ba2\u6237\u7aef\u8bfb\u53d6\u8f93\u5165\n        if err != nil &amp;&amp; err != io.EOF {\n            fmt.Println(\"Conn Read Err:\", err)\n            return\n        }\n        if n == 0 || err == io.EOF {\n            user.Offline()\n            return\n        }\n        // \u63d0\u53d6\u7528\u6237\u7684\u6d88\u606f\uff08\u53bb\u9664\\n\uff09\n        msg := string(buf[:n-1])\n        // \u9488\u5bf9msg \u8fdb\u884c\u5904\u7406\n        user.HandleMessage(msg)\n    }\n}\n\n// \u6d88\u606f\u751f\u6210\u5668\nfunc (s *Server) generateMsg(user *User, msg string) {\n    sendMsg := \"[\" + user.Addr + \"]\" + user.Name + \": \" + msg\n    s.message &lt;- sendMsg\n}\n\n// \u76d1\u542c\u6d88\u606f\u901a\u9053\uff0c\u7136\u540e\u8fdb\u884c\u64ad\u9001\nfunc (s *Server) broadcast() {\n    for {\n        msg := &lt;-s.message\n        s.mapLock.Lock()\n        for _, cli := range s.onlineMap {\n            cli.C &lt;- msg\n        }\n        s.mapLock.Unlock()\n    }\n}\n</code></pre> <pre><code>// main.go\npackage main\n\nfunc main() {\n    server := NewServer(\"127.0.0.1\", 8088)\n    server.Start()\n}\n</code></pre>"},{"location":"Go/Socket/IM-System/IM6-%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E5%90%8D%E5%8A%9F%E8%83%BD/","title":"6-\u4fee\u6539\u7528\u6237\u540d\u529f\u80fd","text":""},{"location":"Go/Socket/IM-System/IM6-%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E5%90%8D%E5%8A%9F%E8%83%BD/#im6-","title":"IM6-\u4fee\u6539\u7528\u6237\u540d","text":"<p>\u4fee\u6539\u7528\u6237\u540d\u601d\u8def\u57fa\u672c\u548c \u300aIM5-\u5728\u7ebf\u7528\u6237\u67e5\u8be2\u300b \u4e2d\u7684\u601d\u8def\u4e00\u6837\uff1a</p> <p>\u9996\u5148\u8981\u8bfb\u53d6\u5ba2\u6237\u7aef\u53d1\u6765\u7684\u5185\u5bb9\uff0c\u6839\u636e\u5185\u5bb9\u8fdb\u5165\u4e0d\u540c\u7684\u5206\u652f\u6267\u884c\u4e0d\u540c\u7684\u5904\u7406\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u5148\u7ea6\u5b9a\u4fee\u6539\u7528\u6237\u540d\u7684\u6307\u4ee4\u4e3a\uff1a<code>rename \u65b0\u7528\u6237\u540d</code></p> <p>\u5728 Server \u7684 <code>massTexting()</code> \u8bfb\u53d6\u5ba2\u6237\u7aef\u8f93\u5165\u4e4b\u540e\u5c06\u5185\u5bb9\u8fdb\u884c\u5206\u5272\uff0c\u7136\u540e\u4f20\u9012\u7ed9 <code>user.HandleMessage()</code></p> <pre><code>func (s *Server) massTexting(conn net.Conn, user *User) {\n    buf := make([]byte, 4096)\n    for {\n        n, err := conn.Read(buf) // \u4ece\u5ba2\u6237\u7aef\u8bfb\u53d6\u8f93\u5165\n        if err != nil &amp;&amp; err != io.EOF {\n            fmt.Println(\"Conn Read Err:\", err)\n            return\n        }\n        if n == 0 || err == io.EOF {\n            user.Offline()\n            return\n        }\n        // \u63d0\u53d6\u7528\u6237\u7684\u6d88\u606f\uff08\u53bb\u9664\\n\uff09\n        msg := string(buf[:n-1])\n        args := strings.Split(msg, \" \")\n        // \u9488\u5bf9msg \u8fdb\u884c\u5904\u7406\n        user.HandleMessage(args)\n    }\n}\n</code></pre> <p>\u6ce8\u610f <code>strings.Split()</code> \u8fd4\u56de\u7684\u662f\u5b57\u7b26\u4e32\u5207\u7247\uff0c\u6240\u4ee5\u6211\u4eec\u8fd8\u9700\u8981\u5bf9 <code>HandleMessage()</code> \u7684\u53c2\u6570\u8fdb\u884c\u4fee\u6539\u3002</p> \u4fee\u6539\u524d\u4fee\u6539\u540e <pre><code>// HandleMessage \u7528\u6237\u5904\u7406\u6d88\u606f\u529f\u80fd\nfunc (u *User) HandleMessage(msg string) {\n    switch msg {\n    case \"alluser\":     // \u67e5\u8be2\u5f53\u524d\u5728\u7ebf\u7528\u6237\n        u.showOnlineUser()\n    default:\n        u.server.generateMsg(u, msg)\n    }\n}\n</code></pre> <pre><code>// HandleMessage \u7528\u6237\u5904\u7406\u6d88\u606f\u529f\u80fd\nfunc (u *User) HandleMessage(args []string) {\n    switch args[0] {\n    case \"alluser\":\n        u.showOnlineUser()\n    case \"rename\":\n        u.rename(args[1])\n    default:\n        u.server.generateMsg(u, args[0])\n    }\n}\n</code></pre> <p>\u5c06\u5f62\u53c2\u6539\u6210\u4e86\u5b57\u7b26\u4e32\u5207\u7247\uff0c\u7136\u540e\u5224\u65ad\u5207\u7247\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u6765\u8fdb\u5165\u4e0d\u540c\u7684\u5206\u652f\u3002</p> <p>\u8fd9\u91cc\u589e\u52a0\u4e86 <code>\"rename\"</code> \u7684\u5206\u652f\uff0c\u6211\u4eec\u5c06\u4fee\u6539\u7528\u6237\u540d\u7684\u5177\u4f53\u5b9e\u73b0\u653e\u5230 <code>rename()</code> \u4e2d\u3002</p> <p></p><pre><code>func (u *User) rename(newName string) {\n\n    _, ok := u.server.onlineMap[newName]\n\n    if ok &amp;&amp; u.Name != newName {\n        u.sendMsg(\"\u5f53\u524d\u7528\u6237\u540d\u5df2\u88ab\u4f7f\u7528\u3002\\n\")\n        return\n    }\n\n    if u.Name == newName {\n        u.sendMsg(\"\u6539\u4e86\u4e2a\u5bc2\u5bde\\n\")\n        return\n    }\n    // \u6539\u540d\u903b\u8f91\uff0c\u5148\u5220\u540e\u52a0\n    u.server.mapLock.Lock()\n    delete(u.server.onlineMap, u.Name)\n    u.server.onlineMap[newName] = u\n    u.server.mapLock.Unlock()\n\n    u.Name = newName\n    u.sendMsg(\"\u4fee\u6539\u6210\u529f\\n\")\n}\n</code></pre> <code>rename()</code> \u7684\u5b9e\u73b0\u903b\u8f91\u662f\uff1a<p></p> <ul> <li>\u5148\u5224\u65ad\u5728\u7ebf\u7528\u6237\u5217\u8868\u4e2d\u662f\u5426\u5b58\u5728 <code>newName</code> \uff0c\u5982\u679c\u5b58\u5728\u4e14\u4e0d\u662f\u5f53\u524d\u7528\u6237\u7684\u540d\u5b57\uff0c\u5219\u5411\u5ba2\u6237\u7aef\u6253\u5370\u5f53\u8be5\u7528\u6237\u540d\u88ab\u4f7f\u7528\u4e86\u3002</li> <li>\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5219\u5148\u5220\u9664\u5728\u7ebf\u7528\u6237\u5217\u8868\u4e2d\u65e7\u7684\u7528\u6237\u540d\u952e\u503c\u5bf9 <code>onlineMap[u.Name]</code>\uff0c\u7136\u540e\u589e\u52a0\u4e00\u6761\u65b0\u7684\u952e\u503c\u5bf9\uff0c\u5e76\u4fee\u6539\u5f53\u524d <code>user</code> \u5b9e\u4f8b\u7684 <code>Name</code> \u5b57\u6bb5\u3002</li> </ul>"},{"location":"Go/Socket/IM-System/IM6-%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E5%90%8D%E5%8A%9F%E8%83%BD/#_1","title":"\u7f16\u8bd1\u8fd0\u884c","text":"<pre><code>$ go build -o server main.go server.go user.go\n\n$ ./server\n</code></pre>"},{"location":"Go/Socket/IM-System/IM6-%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E5%90%8D%E5%8A%9F%E8%83%BD/#_2","title":"\u5b8c\u6574\u4ee3\u7801","text":"Example user.goserver.gomain.go <pre><code>// user.go\npackage main\n\nimport (\n    \"net\"\n    \"strconv\"\n)\n\ntype User struct {\n    Name   string\n    Addr   string\n    C      chan string\n    conn   net.Conn\n    server *Server\n}\n\nvar count int\n\nfunc NewUser(conn net.Conn, server *Server) *User {\n    count++\n    user := &amp;User{\n        Name:   \"user\" + strconv.Itoa(count),\n        Addr:   conn.RemoteAddr().String(),\n        C:      make(chan string),\n        conn:   conn,\n        server: server,\n    }\n    go user.listenMessage()\n    return user\n}\n\n// \u76d1\u542c\u5f53\u524dUser channel \u7684\u65b9\u6cd5\uff0c\u4e00\u65e6\u6709\u6d88\u606f\u5c31\u76f4\u63a5\u53d1\u9001\u7ed9\u5bf9\u7aef\u5ba2\u6237\u7aef\nfunc (u *User) listenMessage() {\n    for {\n        msg := &lt;-u.C\n        u.conn.Write([]byte(msg + \"\\n\"))\n    }\n}\n\n// Online \u7528\u6237\u4e0a\u7ebf\u529f\u80fd\nfunc (u *User) Online() {\n    // \u7528\u6237\u4e0a\u7ebf\uff0c\u5c06\u7528\u6237\u52a0\u5165 onlinemap\n    u.server.mapLock.Lock()\n    u.server.onlineMap[u.Name] = u\n    u.server.mapLock.Unlock()\n\n    // \u7528\u6237\u4e0a\u7ebf\u5e7f\u64ad\n    u.server.generateMsg(u, \"\u5df2\u4e0a\u7ebf\")\n\n}\n\n// Offline \u7528\u6237\u4e0b\u7ebf\u529f\u80fd\nfunc (u *User) Offline() {\n    // \u7528\u6237\u4e0b\u7ebf\uff0c\u5c06\u7528\u6237\u4ece onlineMap \u4e2d\u79fb\u9664\n    u.server.mapLock.Lock()\n    delete(u.server.onlineMap, u.Name)\n    u.server.mapLock.Unlock()\n\n    // \u7528\u6237\u4e0b\u7ebf\u5e7f\u64ad\n    u.server.generateMsg(u, \"\u5df2\u79bb\u7ebf\")\n\n}\n\n// HandleMessage \u7528\u6237\u5904\u7406\u6d88\u606f\u529f\u80fd\nfunc (u *User) HandleMessage(args []string) {\n    switch args[0] {\n    case \"alluser\":\n        u.showOnlineUser()\n    case \"rename\":\n        u.rename(args[1])\n    default:\n        u.server.generateMsg(u, args[0])\n    }\n}\n\nfunc (u *User) sendMsg(msg string) {\n    u.conn.Write([]byte(msg))\n}\n\n// \u6253\u5370\u6240\u6709\u5728\u7ebf\u7528\u6237\nfunc (u *User) showOnlineUser() {\n    u.server.mapLock.Lock()\n    userName := \"\"\n    for _, user := range u.server.onlineMap {\n        userName += \"[ \" + user.Name + \" @ \" + user.Addr + \"]\" + \"\\n\"\n    }\n    u.server.mapLock.Unlock()\n    u.sendMsg(userName)\n\n}\n\nfunc (u *User) rename(newName string) {\n    _, ok := u.server.onlineMap[newName]\n    if ok &amp;&amp; u.Name != newName {\n        u.sendMsg(\"\u5f53\u524d\u7528\u6237\u540d\u88ab\u4f7f\u7528\u3002\\n\")\n        return\n    }\n\n    if u.Name == newName {\n        u.sendMsg(\"\u6539\u4e86\u4e2a\u5bc2\u5bde\\n\")\n        return\n    }\n\n    u.server.mapLock.Lock()\n    delete(u.server.onlineMap, u.Name)\n    u.server.onlineMap[newName] = u\n    u.server.mapLock.Unlock()\n\n    u.Name = newName\n    u.sendMsg(\"\u4fee\u6539\u6210\u529f\\n\")\n}\n</code></pre> <pre><code>// server.go\npackage main\n\nimport (\n    \"fmt\"\n    \"io\"\n    \"net\"\n    \"strings\"\n    \"sync\"\n)\n\ntype Server struct {\n    IP        string\n    Port      int\n    onlineMap map[string]*User // \u5728\u7ebf\u7528\u6237\u8868onlinemap\n    mapLock   sync.RWMutex\n    message   chan string // \u6d88\u606f\u5e7f\u64ad\u7684 channel\n}\n\nfunc NewServer(IP string, port int) *Server {\n    return &amp;Server{\n        IP:        IP,\n        Port:      port,\n        onlineMap: make(map[string]*User),\n        message:   make(chan string),\n    }\n}\n\nfunc (s *Server) Start() {\n    address := fmt.Sprintf(\"%s:%d\", s.IP, s.Port)\n    // new\n    listener, err := net.Listen(\"tcp\", address)\n    if err != nil {\n        fmt.Println(\"Listen err:\", err)\n        return\n    }\n    // close\n    defer listener.Close()\n\n    fmt.Println(\"=&gt; Server is listening on :\", address)\n\n    // \u542f\u52a8\u76d1\u542c\u6d88\u606f\u751f\u6210\u5668\u7684 goroutine\n    go s.broadcast()\n\n    for {\n        // Accept\n        conn, err := listener.Accept()\n        if err != nil {\n            fmt.Println(\"Conn Err:\", err)\n        }\n        // handle\n        go s.handler(conn)\n    }\n}\n\nfunc (s *Server) handler(conn net.Conn) {\n    fmt.Println(\"Connection Successfuly.\\n\")\n    conn.Write([]byte(\"Connection Successfuly.\\n\"))\n\n    user := NewUser(conn, s)\n    user.Online()\n    // \u63a5\u6536\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u6d88\u606f\n    go s.massTexting(conn, user)\n\n    // \u5f53\u524d\u5e7f\u64ad\u963b\u585e\n    select {}\n}\n\nfunc (s *Server) massTexting(conn net.Conn, user *User) {\n    buf := make([]byte, 4096)\n    for {\n        n, err := conn.Read(buf) // \u4ece\u5ba2\u6237\u7aef\u8bfb\u53d6\u8f93\u5165\n        if err != nil &amp;&amp; err != io.EOF {\n            fmt.Println(\"Conn Read Err:\", err)\n            return\n        }\n        if n == 0 || err == io.EOF {\n            user.Offline()\n            return\n        }\n        // \u63d0\u53d6\u7528\u6237\u7684\u6d88\u606f\uff08\u53bb\u9664\\n\uff09\n        msg := string(buf[:n-1])\n        args := strings.Split(msg, \" \")\n        // \u9488\u5bf9msg \u8fdb\u884c\u5904\u7406\n        user.HandleMessage(args)\n    }\n}\n\n// \u6d88\u606f\u751f\u6210\u5668\nfunc (s *Server) generateMsg(user *User, msg string) {\n    sendMsg := \"[\" + user.Addr + \"]\" + user.Name + \": \" + msg\n    s.message &lt;- sendMsg\n}\n\n// \u76d1\u542c\u6d88\u606f\u901a\u9053\uff0c\u7136\u540e\u8fdb\u884c\u64ad\u9001\nfunc (s *Server) broadcast() {\n    for {\n        msg := &lt;-s.message\n        s.mapLock.Lock()\n        for _, cli := range s.onlineMap {\n            cli.C &lt;- msg\n        }\n        s.mapLock.Unlock()\n    }\n}\n</code></pre> <pre><code>// main.go\npackage main\n\nfunc main() {\n    server := NewServer(\"127.0.0.1\", 8088)\n    server.Start()\n}\n</code></pre>"},{"location":"Go/Socket/IM-System/IM7-%E8%B6%85%E6%97%B6%E5%BC%BA%E8%B8%A2%E5%8A%9F%E8%83%BD/","title":"7-\u8d85\u65f6\u5f3a\u8e22\u529f\u80fd","text":""},{"location":"Go/Socket/IM-System/IM7-%E8%B6%85%E6%97%B6%E5%BC%BA%E8%B8%A2%E5%8A%9F%E8%83%BD/#im7-","title":"IM7-\u8d85\u65f6\u5f3a\u8e22\u529f\u80fd","text":"<p>\u5b9e\u73b0\u8d85\u65f6\u5f3a\u8e22\uff0c\u9996\u5148\u60f3\u5230\u7684\u80af\u5b9a\u662f\u5f97\u6709\u4e00\u4e2a\u4ec0\u4e48\u6765\u8bb0\u5f55\u662f\u5426\u6d3b\u8dc3\u7684\u72b6\u6001\u3002</p> <p>\u6bcf\u4e2a\u7528\u6237\u7684\u5b58\u6d3b\u72b6\u6001\u4e0d\u4e00\u6837\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5728 User \u7ed3\u6784\u4f53 \u4e2d\u589e\u52a0\u4e00\u4e2a\u5b57\u6bb5 <code>isAlive</code>\uff0c\u7c7b\u578b\u4e3a <code>chan bool</code>\u3002</p> <pre><code>type User struct {\n    Name    string\n    Addr    string\n    C       chan string\n    conn    net.Conn\n    server  *Server\n    isAlive chan bool    // \u65b0\u589e\u5b57\u6bb5\n}\n</code></pre> <p>\u63a5\u7740\u8fdb\u4e00\u6b65\u601d\u8003\uff0c\u8d85\u65f6\u7684\u903b\u8f91\u5e94\u8be5\u662f\uff0c\u6709\u4e00\u4e2a\u8ba1\u65f6\u5668\uff0c\u6bcf\u6b21\u5ba2\u6237\u7aef\u6709\u52a8\u4f5c\uff0c\u8fd9\u4e2a\u8ba1\u65f6\u5668\u5c31\u5237\u65b0\u91cd\u7f6e\uff1b\u5982\u679c\u5ba2\u6237\u7aef\u4e00\u76f4\u6ca1\u52a8\u4f5c\uff0c\u5219\u8ba1\u65f6\u5668\u4f1a\u5012\u8ba1\u65f6\u7ed3\u675f\uff0c\u7136\u540e\u6267\u884c\u5f3a\u8e22\u64cd\u4f5c\u3002</p> <p>\u670d\u52a1\u7aef\u548c\u5ba2\u6237\u7aef\u5efa\u7acb\u8fde\u63a5\u4e4b\u540e\uff0c\u5ba2\u6237\u7aef\u7684\u64cd\u4f5c\u90fd\u662f\u5728 <code>server.go</code> \u4e2d\u7684 <code>handler()</code> \u4e2d\u5904\u7406\uff0c\u6211\u4eec\u770b\u4e00\u773c <code>handler()</code>\uff1a </p><pre><code>func (s *Server) handler(conn net.Conn) {\n    fmt.Println(\"Connection Successfuly.\\n\")\n    conn.Write([]byte(\"Connection Successfuly.\\n\"))\n\n    user := NewUser(conn, s)\n    user.Online()\n\n    // \u63a5\u6536\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u6d88\u606f\n    go s.massTexting(conn, user)\n\n    // \u5f53\u524d\u5e7f\u64ad\u963b\u585e\n    select {}\n}\n</code></pre><p></p> <p>\u6211\u4eec\u53d1\u73b0\u5728\u5efa\u7acb\u8fde\u63a5\u4e4b\u540e\uff0c<code>handler()</code> \u521b\u5efa\u4e86 user \u5b9e\u4f8b\u4e4b\u540e\u6267\u884c\u4e86\u4e0a\u7ebf\u529f\u80fd\uff0c\u7136\u540e\u5f00\u542f\u4e00\u4e2a <code>goroutine</code> \u53bb\u6267\u884c <code>massTexting()</code> \u63a5\u6536\u5ba2\u6237\u7aef\u53d1\u9001\u6765\u7684\u6d88\u606f\u3002 \u90a3\u4e48\u6211\u4eec\u5e94\u8be5\u5728\u6bcf\u6b21\u63a5\u53d7\u5230\u5ba2\u6237\u7aef\u53d1\u6765\u7684\u6d88\u606f\u540e\uff0c\u5237\u65b0\u8ba1\u65f6\u5668\u3002</p> <p>\u800c\u5728 <code>handler()</code> \u4e2d\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u5b9a\u65f6\u5668\u3002</p> <p></p><pre><code>func (s *Server) handler(conn net.Conn) {\n    fmt.Println(\"Connection Successfuly.\\n\")\n    conn.Write([]byte(\"Connection Successfuly.\\n\"))\n\n    user := NewUser(conn, s)\n    user.Online()\n\n    // \u63a5\u6536\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u6d88\u606f\n    go s.massTexting(conn, user)\n\n    // \u5f53\u524d\u5e7f\u64ad\u963b\u585e\n    for {\n        select {\n        case &lt;-user.isAlive:\n            // \u5f53\u524d\u7528\u6237\u662f\u6d3b\u8dc3\u7684\uff0c\u5e94\u91cd\u7f6e\u8ba1\u65f6\u5668\n            // \u4e0d\u505a\u4efb\u4f55\u4e8b\u60c5\uff0c\u4e3a\u4e86\u6fc0\u6d3bselect{}\uff0c\u4f7f\u8ba1\u65f6\u5668\u91cd\u7f6e\n        case &lt;-time.After(time.Second * 10):\n            // \u5df2\u7ecf\u8d85\u65f6\uff0c\u5f3a\u5236\u8e22\u4e0b\u7ebf\n            user.SendMsg(\"\u8d85\u65f6\u672a\u6709\u52a8\u4f5c\uff0c\u60a8\u5df2\u88ab\u5f3a\u8feb\u4e0b\u7ebf\u3002\")\n            user.Offline()\n            // \u5173\u95ed\u8fde\u63a5\n            conn.Close()\n        }\n    }\n}\n</code></pre> \u6211\u4eec\u901a\u8fc7\u5728 <code>handler()</code> \u4e2d\u653e\u7f6e\u4e00\u4e2a <code>for\u8bed\u53e5</code>\uff0c\u5faa\u73af\u7684\u68c0\u6d4b\u662f\u5426\u8d85\u65f6\u3002<p></p> <p>\u5982\u679c\u5ba2\u6237\u7aef\u6709\u53d1\u6d88\u606f\u7684\u52a8\u4f5c\uff0c\u5219\u4f1a\u5411 <code>user.isAlive</code> \u5199\u4e00\u4e2a\u503c\uff0c\u7136\u540e\u7b2c\u4e8c\u4e2a <code>case</code> \u7684\u8ba1\u65f6\u5668\u4f1a\u88ab\u91cd\u7f6e\u3002</p> <p>\u5982\u679c\u5ba2\u6237\u7aef\u6ca1\u6709\u53d1\u6d88\u606f\u7684\u52a8\u4f5c\uff0c\u5219\u65f6\u95f4\u4e00\u5230\uff0c\u7b2c\u4e8c\u4e2a <code>case</code> \u4f1a\u88ab\u9009\u4e2d\u6267\u884c\u5f3a\u8e22\u4e0b\u7ebf\u7684\u64cd\u4f5c\u3002</p> <p>\u8fd9\u6837\u5c31\u5dee\u6700\u540e\u4e00\u6b65\uff0c\u6211\u4eec\u5f97\u5728 <code>massTexting()</code> \u4e2d\uff0c\u6dfb\u52a0\u4e00\u6761\u5237\u65b0\u6d3b\u8dc3\u72b6\u6001 <code>isAlive</code> \u7684\u8bed\u53e5\u3002</p> <pre><code>func (s *Server) massTexting(conn net.Conn, user *User) {\n    buf := make([]byte, 4096)\n    for {\n        n, err := conn.Read(buf) // \u4ece\u5ba2\u6237\u7aef\u8bfb\u53d6\u8f93\u5165\n        if err != nil &amp;&amp; err != io.EOF {\n            fmt.Println(\"Conn Read Err:\", err)\n            return\n        }\n        if n == 0 || err == io.EOF {\n            user.Offline()\n            conn.Close()\n            return\n        }\n        // \u63d0\u53d6\u7528\u6237\u7684\u6d88\u606f\uff08\u53bb\u9664\\n\uff09\n        msg := string(buf[:n-1])\n        args := strings.Split(msg, \" \")\n        // \u9488\u5bf9msg \u8fdb\u884c\u5904\u7406\n        user.HandleMessage(args)\n\n        // \u5237\u65b0\u6d3b\u8dc3\u72b6\u6001\n        user.isAlive &lt;- true\n    }\n}\n</code></pre> <p>\u5230\u6b64\u8d85\u65f6\u5f3a\u8e22\u7684\u529f\u80fd\u5c31\u5199\u5b8c\u4e86\u3002\u6574\u4f53\u7684\u601d\u8def\u662f\uff1a</p> <ul> <li>\u4e3a User \u7ed3\u6784\u4f53\u589e\u52a0\u4e00\u4e2a\u8bb0\u5f55\u6d3b\u8dc3\u72b6\u6001\u7684\u901a\u9053\u7c7b\u578b\u5b57\u6bb5 <code>isAlive chan bool</code>\uff1b\u5728\u5904\u7406\u5ba2\u6237\u7aef\u6d88\u606f\u7684\u65f6\u5019\u5237\u65b0\u8fd9\u4e2a\u5b57\u6bb5\uff08\u5373\u5411\u8fd9\u4e2a\u901a\u9053\u53d1\u9001\u4e00\u4e2a <code>true</code>\uff09\uff1b</li> <li>\u800c\u5728 <code>handler()</code> \u7684\u65f6\u5019\u6267\u884c\u76d1\u542c\u4e00\u4e2a\u8ba1\u65f6\u5668\uff0c\u5982\u679c\u5ba2\u6237\u7aef\u6d3b\u8dc3\u4e86\u8ba1\u65f6\u5668\u5c31\u4f1a\u88ab\u62e6\u622a\u5237\u65b0\uff0c\u5982\u679c\u5ba2\u6237\u7aef\u4e00\u76f4\u6ca1\u6709\u6d3b\u8dc3\u5219\u8ba1\u65f6\u5668\u4f1a\u8ba1\u65f6\u7ed3\u675f\uff0c\u6267\u884c\u5f3a\u8e22\u3002</li> </ul>"},{"location":"Go/Socket/IM-System/IM7-%E8%B6%85%E6%97%B6%E5%BC%BA%E8%B8%A2%E5%8A%9F%E8%83%BD/#_1","title":"\u7f16\u8bd1\u8fd0\u884c","text":"<pre><code>$ go build -o server server.go main.go user.go\n\n$ ./server\n</code></pre>"},{"location":"Go/Socket/IM-System/IM7-%E8%B6%85%E6%97%B6%E5%BC%BA%E8%B8%A2%E5%8A%9F%E8%83%BD/#_2","title":"\u5b8c\u6574\u4ee3\u7801","text":"Example user.goserver.gomain.go <pre><code>// user.go\npackage main\n\nimport (\n    \"net\"\n    \"strconv\"\n)\n\ntype User struct {\n    Name    string\n    Addr    string\n    C       chan string\n    conn    net.Conn\n    server  *Server\n    isAlive chan bool\n}\n\nvar count int\n\nfunc NewUser(conn net.Conn, server *Server) *User {\n    count++\n    user := &amp;User{\n        Name:    \"user\" + strconv.Itoa(count),\n        Addr:    conn.RemoteAddr().String(),\n        C:       make(chan string),\n        conn:    conn,\n        server:  server,\n        isAlive: make(chan bool),\n    }\n    go user.listenMessage()\n    return user\n}\n\n// \u76d1\u542c\u5f53\u524dUser channel \u7684\u65b9\u6cd5\uff0c\u4e00\u65e6\u6709\u6d88\u606f\u5c31\u76f4\u63a5\u53d1\u9001\u7ed9\u5bf9\u7aef\u5ba2\u6237\u7aef\nfunc (u *User) listenMessage() {\n    for {\n        msg := &lt;-u.C\n        u.conn.Write([]byte(msg + \"\\n\"))\n    }\n}\n\n// Online \u7528\u6237\u4e0a\u7ebf\u529f\u80fd\nfunc (u *User) Online() {\n    // \u7528\u6237\u4e0a\u7ebf\uff0c\u5c06\u7528\u6237\u52a0\u5165 onlinemap\n    u.server.mapLock.Lock()\n    u.server.onlineMap[u.Name] = u\n    u.server.mapLock.Unlock()\n\n    // \u7528\u6237\u4e0a\u7ebf\u5e7f\u64ad\n    u.server.generateMsg(u, \"\u5df2\u4e0a\u7ebf\")\n\n}\n\n// Offline \u7528\u6237\u4e0b\u7ebf\u529f\u80fd\nfunc (u *User) Offline() {\n    // \u7528\u6237\u4e0b\u7ebf\uff0c\u5c06\u7528\u6237\u4ece onlineMap \u4e2d\u79fb\u9664\n    u.server.mapLock.Lock()\n    delete(u.server.onlineMap, u.Name)\n    u.server.mapLock.Unlock()\n\n    // \u7528\u6237\u4e0b\u7ebf\u5e7f\u64ad\n    u.server.generateMsg(u, \"\u5df2\u79bb\u7ebf\")\n\n}\n\n// HandleMessage \u7528\u6237\u5904\u7406\u6d88\u606f\u529f\u80fd\nfunc (u *User) HandleMessage(args []string) {\n    switch args[0] {\n    case \"alluser\":\n        u.showOnlineUser()\n    case \"rename\":\n        u.rename(args[1])\n    default:\n        u.server.generateMsg(u, args[0])\n    }\n}\n\nfunc (u *User) SendMsg(msg string) {\n    u.conn.Write([]byte(msg))\n}\n\n// \u6253\u5370\u6240\u6709\u5728\u7ebf\u7528\u6237\nfunc (u *User) showOnlineUser() {\n    u.server.mapLock.Lock()\n    userName := \"\"\n    for _, user := range u.server.onlineMap {\n        userName += \"[ \" + user.Name + \" @ \" + user.Addr + \"]\" + \"\\n\"\n    }\n    u.server.mapLock.Unlock()\n    u.SendMsg(userName)\n\n}\n\nfunc (u *User) rename(newName string) {\n    _, ok := u.server.onlineMap[newName]\n    if ok &amp;&amp; u.Name != newName {\n        u.SendMsg(\"\u5f53\u524d\u7528\u6237\u540d\u88ab\u4f7f\u7528\u3002\\n\")\n        return\n    }\n    if u.Name == newName {\n        u.SendMsg(\"\u6539\u4e86\u4e2a\u5bc2\u5bde\\n\")\n        return\n    }\n    u.server.mapLock.Lock()\n    delete(u.server.onlineMap, u.Name)\n    u.server.onlineMap[newName] = u\n    u.server.mapLock.Unlock()\n\n    u.Name = newName\n    u.SendMsg(\"\u4fee\u6539\u6210\u529f\\n\")\n}\n</code></pre> <pre><code>// server.go\npackage main\n\nimport (\n    \"fmt\"\n    \"io\"\n    \"net\"\n    \"strings\"\n    \"sync\"\n    \"time\"\n)\n\ntype Server struct {\n    IP        string\n    Port      int\n    onlineMap map[string]*User // \u5728\u7ebf\u7528\u6237\u8868onlinemap\n    mapLock   sync.RWMutex\n    message   chan string // \u6d88\u606f\u5e7f\u64ad\u7684 channel\n}\n\nfunc NewServer(IP string, port int) *Server {\n    return &amp;Server{\n        IP:        IP,\n        Port:      port,\n        onlineMap: make(map[string]*User),\n        message:   make(chan string),\n    }\n}\n\nfunc (s *Server) Start() {\n    address := fmt.Sprintf(\"%s:%d\", s.IP, s.Port)\n    // new\n    listener, err := net.Listen(\"tcp\", address)\n    if err != nil {\n        fmt.Println(\"Listen err:\", err)\n        return\n    }\n    // close\n    defer listener.Close()\n\n    fmt.Println(\"=&gt; Server is listening on :\", address)\n\n    // \u542f\u52a8\u76d1\u542c\u6d88\u606f\u751f\u6210\u5668\u7684 goroutine\n    go s.broadcast()\n\n    for {\n        // Accept\n        conn, err := listener.Accept()\n        if err != nil {\n            fmt.Println(\"Conn Err:\", err)\n        }\n        // handle\n        go s.handler(conn)\n    }\n}\n\nfunc (s *Server) handler(conn net.Conn) {\n    fmt.Print(\"Connection Successfuly.\\n\")\n    conn.Write([]byte(\"Connection Successfuly.\\n\"))\n\n    user := NewUser(conn, s)\n    user.Online()\n\n    // \u63a5\u6536\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u6d88\u606f\n    go s.massTexting(conn, user)\n\n    // \u5f53\u524d\u5e7f\u64ad\u963b\u585e\n    for {\n        select {\n        case &lt;-user.isAlive:\n            // \u5f53\u524d\u7528\u6237\u662f\u6d3b\u8dc3\u7684\uff0c\u5e94\u91cd\u7f6e\u8ba1\u65f6\u5668\n            // \u4e0d\u505a\u4efb\u4f55\u4e8b\u60c5\uff0c\u4e3a\u4e86\u6fc0\u6d3bselect{}\uff0c\u4f7f\u8ba1\u65f6\u5668\u91cd\u7f6e\n        case &lt;-time.After(time.Second * 10):\n            // \u5df2\u7ecf\u8d85\u65f6\uff0c\u5f3a\u5236\u8e22\u4e0b\u7ebf\n            user.SendMsg(\"\u8d85\u65f6\u672a\u6709\u52a8\u4f5c\uff0c\u60a8\u5df2\u88ab\u5f3a\u8feb\u4e0b\u7ebf\u3002\")\n            user.Offline()\n            // \u5173\u95ed\u8fde\u63a5\n            conn.Close()\n        }\n    }\n}\n\nfunc (s *Server) massTexting(conn net.Conn, user *User) {\n    buf := make([]byte, 4096)\n    for {\n        n, err := conn.Read(buf) // \u4ece\u5ba2\u6237\u7aef\u8bfb\u53d6\u8f93\u5165\n        if err != nil &amp;&amp; err != io.EOF {\n            fmt.Println(\"Conn Read Err:\", err)\n            return\n        }\n        if n == 0 || err == io.EOF {\n            user.Offline()\n            conn.Close()\n            return\n        }\n        // \u63d0\u53d6\u7528\u6237\u7684\u6d88\u606f\uff08\u53bb\u9664\\n\uff09\n        msg := string(buf[:n-1])\n        args := strings.Split(msg, \" \")\n        // \u9488\u5bf9msg \u8fdb\u884c\u5904\u7406\n        user.HandleMessage(args)\n\n        user.isAlive &lt;- true\n    }\n}\n\n// \u6d88\u606f\u751f\u6210\u5668\nfunc (s *Server) generateMsg(user *User, msg string) {\n    sendMsg := \"[\" + user.Addr + \"]\" + user.Name + \": \" + msg\n    s.message &lt;- sendMsg\n}\n\n// \u76d1\u542c\u6d88\u606f\u901a\u9053\uff0c\u7136\u540e\u8fdb\u884c\u64ad\u9001\nfunc (s *Server) broadcast() {\n    for {\n        msg := &lt;-s.message\n        s.mapLock.Lock()\n        for _, cli := range s.onlineMap {\n            cli.C &lt;- msg\n        }\n        s.mapLock.Unlock()\n    }\n}\n</code></pre> <pre><code>// main.go\npackage main\n\nfunc main() {\n    server := NewServer(\"127.0.0.1\", 8088)\n    server.Start()\n}\n</code></pre>"},{"location":"Go/Socket/IM-System/IM8-%E7%A7%81%E8%81%8A%E5%8A%9F%E8%83%BD/","title":"8-\u79c1\u804a\u529f\u80fd","text":""},{"location":"Go/Socket/IM-System/IM8-%E7%A7%81%E8%81%8A%E5%8A%9F%E8%83%BD/#im8-","title":"IM8-\u79c1\u804a\u529f\u80fd","text":""},{"location":"Go/Socket/IM-System/IM8-%E7%A7%81%E8%81%8A%E5%8A%9F%E8%83%BD/#_1","title":"\u7ea6\u5b9a","text":"<p>\u548c\u6539\u540d\u7c7b\u4f3c\uff0c\u6211\u4eec\u8981\u5148\u7ea6\u5b9a\u4e00\u4e2a\u683c\u5f0f\uff1a<code>-&gt; USERNAME CONTENT</code>.</p> <p>\u5148\u662f\u4e00\u4e2a <code>-&gt;</code> \u7b26\u53f7\uff0c\u7136\u540e\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u7528\u6237\u540d\uff0c\u7b2c\u4e09\u4e2a\u53c2\u6570\u662f\u79c1\u804a\u7684\u5185\u5bb9\u3002</p> <p>\u5ba2\u6237\u7aef\u8f93\u5165 <code>-&gt; user1 Hello</code> \u4e4b\u540e\uff0c\u5185\u5bb9\u4f1a\u5728 <code>user.go</code> \u4e2d\u7684 <code>HandleMessage()</code> \u65b9\u6cd5\u5904\u7406\u3002</p> <p>\u539f\u672c\u7684 <code>user.go - HandleMessage()</code>\uff1a </p><pre><code>// HandleMessage \u7528\u6237\u5904\u7406\u6d88\u606f\u529f\u80fd\nfunc (u *User) HandleMessage(args []string) {\n    switch args[0] {\n    case \"alluser\":\n        u.showOnlineUser()\n    case \"rename\": // rename NEWNAME\n        u.rename(args[1])\n    default:\n        u.server.generateMsg(u, args[0])\n    }\n}\n</code></pre><p></p> <p>\u73b0\u5728\u6211\u4eec\u7ed9\u5b83\u589e\u52a0\u4e00\u4e2a case\uff0c\u5f53\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f <code>-&gt;</code> \u7b26\u53f7\u65f6\uff0c\u8c03\u7528<code>u.privateChat()</code> \u65b9\u6cd5\u3002 </p><pre><code>// HandleMessage \u7528\u6237\u5904\u7406\u6d88\u606f\u529f\u80fd\nfunc (u *User) HandleMessage(args []string) {\n    switch args[0] {\n    case \"alluser\":\n        u.showOnlineUser()\n    case \"rename\": // rename NEWNAME\n        u.rename(args[1])\n    case \"-&gt;\": // -&gt; USERNAME CONTENT\n        u.privateChat(args[1], args[2:])\n    default:\n        u.server.generateMsg(u, args[0])\n    }\n}\n</code></pre><p></p>"},{"location":"Go/Socket/IM-System/IM8-%E7%A7%81%E8%81%8A%E5%8A%9F%E8%83%BD/#_2","title":"\u5177\u4f53\u5b9e\u73b0","text":"<pre><code>func (u *User) privateChat(username string, chatContent []string) {\n\n    if username == \"\" || len(chatContent) == 0 {\n        u.SendMsg(\"\u6d88\u606f\u683c\u5f0f\u4e0d\u6b63\u786e\uff1a-&gt; USERNAME MESSAGE\")\n        return\n    }\n    // \u6839\u636e\u7528\u6237\u540d\u5f97\u5230\u5bf9\u65b9\u7684 user \u5bf9\u8c61\n    remoteUser, ok := u.server.onlineMap[username]\n    if !ok {\n        u.SendMsg(\"\u8f93\u5165\u7684\u7528\u6237\u540d\u4e0d\u6b63\u786e\u6216\u53ef\u80fd\u5bf9\u65b9\u4e0d\u5728\u7ebf\uff01\")\n        return\n    }\n    // \u62fc\u63a5\u6d88\u606f\u5185\u5bb9\uff0c\u901a\u8fc7\u5bf9\u65b9\u7684 user \u5bf9\u8c61\u5c06\u6d88\u606f\u5185\u5bb9\u53d1\u9001\u8fc7\u53bb\n    content := \"\"\n    for _, s := range chatContent {\n        content += s + \" \"\n    }\n    remoteUser.SendMsg(u.Name + \" -&gt; \" + content + \"\\n\")\n}\n</code></pre> \u5b9e\u73b0\u79c1\u804a\u529f\u80fd\u5f88\u7b80\u5355\uff0c\u4ece\u5728\u7ebf\u7528\u6237\u5217\u8868\u4e2d\u83b7\u5f97\u5bf9\u65b9\u7528\u6237 user \u5bf9\u8c61\uff0c\u62fc\u63a5\u597d\u6d88\u606f\u5185\u5bb9\uff0c\u7136\u540e\u901a\u8fc7\u5bf9\u65b9\u7528\u6237 user \u5bf9\u8c61\u8c03\u7528 <code>SendMsg()</code> \u5373\u53ef\u3002"},{"location":"Go/Socket/IM-System/IM8-%E7%A7%81%E8%81%8A%E5%8A%9F%E8%83%BD/#_3","title":"\u7f16\u8bd1\u8fd0\u884c","text":"<pre><code>$ go build -o server server.go main.go user.go\n\n$ ./server\n</code></pre>"},{"location":"Go/Socket/IM-System/IM8-%E7%A7%81%E8%81%8A%E5%8A%9F%E8%83%BD/#_4","title":"\u5b8c\u6574\u4ee3\u7801","text":"Example user.goserver.gomain.go <pre><code>// user.go\npackage main\n\nimport (\n    \"net\"\n    \"strconv\"\n)\n\ntype User struct {\n    Name    string\n    Addr    string\n    C       chan string\n    conn    net.Conn\n    server  *Server\n    isAlive chan bool\n}\n\nvar count int\n\nfunc NewUser(conn net.Conn, server *Server) *User {\n    count++\n    user := &amp;User{\n        Name:    \"user\" + strconv.Itoa(count),\n        Addr:    conn.RemoteAddr().String(),\n        C:       make(chan string),\n        conn:    conn,\n        server:  server,\n        isAlive: make(chan bool),\n    }\n    go user.listenMessage()\n    return user\n}\n\n// \u76d1\u542c\u5f53\u524dUser channel \u7684\u65b9\u6cd5\uff0c\u4e00\u65e6\u6709\u6d88\u606f\u5c31\u76f4\u63a5\u53d1\u9001\u7ed9\u5bf9\u7aef\u5ba2\u6237\u7aef\nfunc (u *User) listenMessage() {\n    for {\n        msg := &lt;-u.C\n        u.conn.Write([]byte(msg + \"\\n\"))\n    }\n}\n\n// Online \u7528\u6237\u4e0a\u7ebf\u529f\u80fd\nfunc (u *User) Online() {\n    // \u7528\u6237\u4e0a\u7ebf\uff0c\u5c06\u7528\u6237\u52a0\u5165 onlinemap\n    u.server.mapLock.Lock()\n    u.server.onlineMap[u.Name] = u\n    u.server.mapLock.Unlock()\n\n    // \u7528\u6237\u4e0a\u7ebf\u5e7f\u64ad\n    u.server.generateMsg(u, \"\u5df2\u4e0a\u7ebf\")\n\n}\n\n// Offline \u7528\u6237\u4e0b\u7ebf\u529f\u80fd\nfunc (u *User) Offline() {\n    // \u7528\u6237\u4e0b\u7ebf\uff0c\u5c06\u7528\u6237\u4ece onlineMap \u4e2d\u79fb\u9664\n    u.server.mapLock.Lock()\n    delete(u.server.onlineMap, u.Name)\n    u.server.mapLock.Unlock()\n\n    // \u7528\u6237\u4e0b\u7ebf\u5e7f\u64ad\n    u.server.generateMsg(u, \"\u5df2\u79bb\u7ebf\")\n\n}\n\n// HandleMessage \u7528\u6237\u5904\u7406\u6d88\u606f\u529f\u80fd\nfunc (u *User) HandleMessage(args []string) {\n    switch args[0] {\n    case \"alluser\":\n        u.showOnlineUser()\n    case \"rename\": // rename NEWNAME\n        u.rename(args[1])\n    case \"-&gt;\": // -&gt; USERNAME CONTENT\n        u.privateChat(args[1], args[2:])\n    default:\n        u.server.generateMsg(u, args[0])\n    }\n}\n\nfunc (u *User) SendMsg(msg string) {\n    u.conn.Write([]byte(msg))\n}\n\n// \u6253\u5370\u6240\u6709\u5728\u7ebf\u7528\u6237\nfunc (u *User) showOnlineUser() {\n    u.server.mapLock.Lock()\n    userName := \"\"\n    for _, user := range u.server.onlineMap {\n        userName += \"[ \" + user.Name + \" @ \" + user.Addr + \"]\" + \"\\n\"\n    }\n    u.server.mapLock.Unlock()\n    u.SendMsg(userName)\n}\n\nfunc (u *User) rename(newName string) {\n    _, ok := u.server.onlineMap[newName]\n    if ok &amp;&amp; u.Name != newName {\n        u.SendMsg(\"\u5f53\u524d\u7528\u6237\u540d\u88ab\u4f7f\u7528\u3002\\n\")\n        return\n    }\n    if u.Name == newName {\n        u.SendMsg(\"\u6539\u4e86\u4e2a\u5bc2\u5bde\\n\")\n        return\n    }\n    u.server.mapLock.Lock()\n    delete(u.server.onlineMap, u.Name)\n    u.server.onlineMap[newName] = u\n    u.server.mapLock.Unlock()\n\n    u.Name = newName\n    u.SendMsg(\"\u4fee\u6539\u6210\u529f\\n\")\n}\n\nfunc (u *User) privateChat(username string, chatContent []string) {\n\n    if username == \"\" || len(chatContent) == 0 {\n        u.SendMsg(\"\u6d88\u606f\u683c\u5f0f\u4e0d\u6b63\u786e\uff1a-&gt; USERNAME MESSAGE\")\n        return\n    }\n    // \u6839\u636e\u7528\u6237\u540d\u5f97\u5230\u5bf9\u65b9\u7684 user \u5bf9\u8c61\n    remoteUser, ok := u.server.onlineMap[username]\n    if !ok {\n        u.SendMsg(\"\u8f93\u5165\u7684\u7528\u6237\u540d\u4e0d\u6b63\u786e\u6216\u53ef\u80fd\u5bf9\u65b9\u4e0d\u5728\u7ebf\uff01\")\n        return\n    }\n    // \u62fc\u63a5\u6d88\u606f\u5185\u5bb9\uff0c\u901a\u8fc7\u5bf9\u65b9\u7684 user \u5bf9\u8c61\u5c06\u6d88\u606f\u5185\u5bb9\u53d1\u9001\u8fc7\u53bb\n    content := \"\"\n    for _, s := range chatContent {\n        content += s + \" \"\n    }\n    remoteUser.SendMsg(u.Name + \" -&gt; \" + content + \"\\n\")\n}\n</code></pre> <pre><code>// server.go\npackage main\n\nimport (\n    \"fmt\"\n    \"io\"\n    \"net\"\n    \"strings\"\n    \"sync\"\n    \"time\"\n)\n\ntype Server struct {\n    IP        string\n    Port      int\n    onlineMap map[string]*User // \u5728\u7ebf\u7528\u6237\u8868onlinemap\n    mapLock   sync.RWMutex\n    message   chan string // \u6d88\u606f\u5e7f\u64ad\u7684 channel\n}\n\nfunc NewServer(IP string, port int) *Server {\n    return &amp;Server{\n        IP:        IP,\n        Port:      port,\n        onlineMap: make(map[string]*User),\n        message:   make(chan string),\n    }\n}\n\nfunc (s *Server) Start() {\n    address := fmt.Sprintf(\"%s:%d\", s.IP, s.Port)\n    // new\n    listener, err := net.Listen(\"tcp\", address)\n    if err != nil {\n        fmt.Println(\"Listen err:\", err)\n        return\n    }\n    // close\n    defer listener.Close()\n\n    fmt.Println(\"=&gt; Server is listening on :\", address)\n\n    // \u542f\u52a8\u76d1\u542c\u6d88\u606f\u751f\u6210\u5668\u7684 goroutine\n    go s.broadcast()\n\n    for {\n        // Accept\n        conn, err := listener.Accept()\n        if err != nil {\n            fmt.Println(\"Conn Err:\", err)\n        }\n        // handle\n        go s.handler(conn)\n    }\n}\n\nfunc (s *Server) handler(conn net.Conn) {\n    fmt.Print(\"Connection Successfuly.\\n\")\n    conn.Write([]byte(\"Connection Successfuly.\\n\"))\n\n    user := NewUser(conn, s)\n    user.Online()\n\n    // \u63a5\u6536\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u6d88\u606f\n    go s.massTexting(conn, user)\n\n    // \u5f53\u524d\u5e7f\u64ad\u963b\u585e\n    for {\n        select {\n        case &lt;-user.isAlive:\n            // \u5f53\u524d\u7528\u6237\u662f\u6d3b\u8dc3\u7684\uff0c\u5e94\u91cd\u7f6e\u8ba1\u65f6\u5668\n            // \u4e0d\u505a\u4efb\u4f55\u4e8b\u60c5\uff0c\u4e3a\u4e86\u6fc0\u6d3bselect{}\uff0c\u4f7f\u8ba1\u65f6\u5668\u91cd\u7f6e\n        case &lt;-time.After(time.Second * 60):\n            // \u5df2\u7ecf\u8d85\u65f6\uff0c\u5f3a\u5236\u8e22\u4e0b\u7ebf\n            user.SendMsg(\"\u8d85\u65f6\u672a\u6709\u52a8\u4f5c\uff0c\u60a8\u5df2\u88ab\u5f3a\u8feb\u4e0b\u7ebf\u3002\")\n            user.Offline()\n            // \u5173\u95ed\u8fde\u63a5\n            conn.Close()\n        }\n    }\n}\n\nfunc (s *Server) massTexting(conn net.Conn, user *User) {\n    buf := make([]byte, 4096)\n    for {\n        n, err := conn.Read(buf) // \u4ece\u5ba2\u6237\u7aef\u8bfb\u53d6\u8f93\u5165\n        if err != nil &amp;&amp; err != io.EOF {\n            fmt.Println(\"Conn Read Err:\", err)\n            return\n        }\n        if n == 0 || err == io.EOF {\n            user.Offline()\n            conn.Close()\n            return\n        }\n        // \u63d0\u53d6\u7528\u6237\u7684\u6d88\u606f\uff08\u53bb\u9664\\n\uff09\n        msg := string(buf[:n-1])\n        args := strings.Split(msg, \" \")\n        // \u9488\u5bf9msg \u8fdb\u884c\u5904\u7406\n        user.HandleMessage(args)\n\n        user.isAlive &lt;- true\n    }\n}\n\n// \u6d88\u606f\u751f\u6210\u5668\nfunc (s *Server) generateMsg(user *User, msg string) {\n    sendMsg := \"[\" + user.Addr + \"]\" + user.Name + \": \" + msg\n    s.message &lt;- sendMsg\n}\n\n// \u76d1\u542c\u6d88\u606f\u901a\u9053\uff0c\u7136\u540e\u8fdb\u884c\u64ad\u9001\nfunc (s *Server) broadcast() {\n    for {\n        msg := &lt;-s.message\n        s.mapLock.Lock()\n        for _, cli := range s.onlineMap {\n            cli.C &lt;- msg\n        }\n        s.mapLock.Unlock()\n    }\n}\n</code></pre> <pre><code>// main.go\npackage main\n\nfunc main() {\n    server := NewServer(\"127.0.0.1\", 8088)\n    server.Start()\n}\n</code></pre>"},{"location":"Go/Socket/IM-System/IM9-%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%A1%86%E6%9E%B6/","title":"9-\u5ba2\u6237\u7aef\u6846\u67b6","text":""},{"location":"Go/Socket/IM-System/IM9-%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%A1%86%E6%9E%B6/#im9-","title":"IM9-\u5ba2\u6237\u7aef\u6846\u67b6","text":"<p>\u4e4b\u524d\u6211\u4eec\u90fd\u662f\u7528 <code>netcap</code> \u6765\u6a21\u62df\u5ba2\u6237\u7aef\uff0c\u73b0\u5728\u670d\u52a1\u7aef\u5df2\u7ecf\u5b9e\u73b0\u7684\u5dee\u4e0d\u591a\u4e86\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u5c31\u624b\u52a8\u5b9e\u73b0\u4e00\u4e2a\u5ba2\u6237\u7aef\u3002</p>"},{"location":"Go/Socket/IM-System/IM9-%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%A1%86%E6%9E%B6/#_1","title":"\u642d\u5efa\u5ba2\u6237\u7aef\u6846\u67b6","text":"<p>\u4e4b\u524d\u6211\u4eec\u7528\u6765\u6a21\u62df\u5ba2\u6237\u7aef\u7684\u547d\u4ee4\u662f\u8fd9\u6837\u7684\uff1a<code>nc 127.0.0.1 8088</code>\uff1b\u642d\u5efa\u4e00\u4e2a\u5ba2\u6237\u7aef\uff0c\u9996\u5148\u5c31\u8981\u6a21\u62df\u8fd9\u4e2a <code>nc</code> \u547d\u4ee4\u3002</p>"},{"location":"Go/Socket/IM-System/IM9-%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%A1%86%E6%9E%B6/#clientgo","title":"Client.go","text":"<p>\u7b2c\u4e00\u6b65\u6211\u4eec\u9700\u8981\u4e00\u4e2a <code>Client</code> \u7ed3\u6784\u4f53\uff0c\u5e26\u6709 IP\u5730\u5740 \u548c \u7aef\u53e3\uff0c\u7136\u540e\u901a\u8fc7\u4e00\u4e2a\u5de5\u5382\u51fd\u6570\u8fd4\u56de\u4e00\u4e2a <code>client</code> \u5b9e\u4f8b\u3002</p> <p></p><pre><code>// client.go\npackage main\n\nimport (\n    \"fmt\"\n    \"log\"\n    \"net\"\n)\n\n// Client \u5ba2\u6237\u7aef\u53e5\u67c4\ntype Client struct {\n    Name       string\n    ServerIP   string\n    ServerPort int\n    conn       net.Conn\n}\n\n// NewClient \u8fd4\u56de\u4e00\u4e2a Client \u5b9e\u4f8b\nfunc NewClient(serverIP string, serverPort int) *Client {\n\n    conn, err := net.Dial(\"tcp\", fmt.Sprintf(\"%s:%d\", serverIP, serverPort))\n    if err != nil {\n        log.Println(\"net.Dial Err: \", err)\n        return nil\n    }\n\n    return &amp;Client{\n        ServerIP:   serverIP,\n        ServerPort: serverPort,\n        conn:       conn,\n    }\n}\n</code></pre> \u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u4e0d\u4ec5\u4e3a <code>Client</code> \u7ed3\u6784\u4f53\u5b9a\u4e49\u4e86 IP\u548c\u7aef\u53e3\u5b57\u6bb5\uff0c\u8fd8\u5b9a\u4e49\u4e86 Name \u548c conn \u5b57\u6bb5\u3002<p></p> <p>\u5728\u5de5\u5382\u51fd\u6570\u4e2d\uff0c\u8c03\u7528\u4e86 <code>net.Dial()</code> \u51fd\u6570\u6765\u6267\u884c\u53d1\u9001\u8bf7\u6c42\u7684\u4efb\u52a1\u3002</p> <p><code>net.Dial()</code> \u662f <code>net</code> \u5305\u4e0b\u4e00\u4e2a\u7528\u6765\u53d1\u9001\u8bf7\u6c42\u7684\u51fd\u6570\uff0c\u5176\u51fd\u6570\u7b7e\u540d\u4e3a\uff1a </p><pre><code>func Dial(network , address string) (Conn, error)\n</code></pre><p></p> <p>\u5b83\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u4e00\u4e2a\u662f\u7f51\u7edc\u7c7b\u578b\uff0c\u4e00\u4e2a\u662f\u5730\u5740\u3002</p> <p>\u7f51\u7edc\u7c7b\u578b\u53ef\u4ee5\u662f\uff1a<code>tcp\u3001tcp4\u3001tcp6\u3001udp\u3001udp4\u3001udp6\u3001ip\u3001ip4\u3001ip6\u3001unix\u3001unixgram\u3001unixpacket</code>\u3002</p> <p>\u8bf7\u6c42\u6210\u529f\u540e\u4f1a\u8fd4\u56de\u4e00\u4e2a\u8fde\u63a5\u5bf9\u8c61 <code>conn</code>\u3002</p>"},{"location":"Go/Socket/IM-System/IM9-%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%A1%86%E6%9E%B6/#maingo","title":"Main.go","text":"<p>\u73b0\u5728\u6211\u4eec\u5230 <code>main.go</code> \u4e2d\u7684 <code>main()</code> \u51fd\u6570\u91cc\u521b\u5efa\u4e00\u4e2a <code>client</code> \u5b9e\u4f8b\uff1a </p><pre><code>func main() {\n    client := NewClient(\"127.0.0.1\", 8088)\n    if client == nil {\n        log.Println(\"&gt;&gt;&gt;&gt;&gt; \u8fde\u63a5\u670d\u52a1\u5668\u5931\u8d25...\")\n        return\n    }\n    log.Println(\"&gt;&gt;&gt;&gt;&gt; \u8fde\u63a5\u670d\u52a1\u5668\u6210\u529f...\")\n\n    // \u542f\u52a8\u5ba2\u6237\u7aef\u4e1a\u52a1\n    select {}\n}\n</code></pre><p></p>"},{"location":"Go/Socket/IM-System/IM9-%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%A1%86%E6%9E%B6/#_2","title":"\u7f16\u8bd1\u8fd0\u884c","text":"<pre><code>$ go build -o client ./main.go ./client.go\n\n$ ./client\n</code></pre>"},{"location":"Go/Socket/IM-System/IM9-%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%A1%86%E6%9E%B6/#_3","title":"\u5b8c\u6574\u4ee3\u7801","text":"Example client.gomain.go <pre><code>// client.go\npackage main\n\nimport (\n    \"fmt\"\n    \"log\"\n    \"net\"\n)\n\n// Client \u5ba2\u6237\u7aef\u53e5\u67c4\ntype Client struct {\n    Name       string\n    ServerIP   string\n    ServerPort int\n    conn       net.Conn\n}\n\n// NewClient \u8fd4\u56de\u4e00\u4e2a Client \u5b9e\u4f8b\nfunc NewClient(serverIP string, serverPort int) *Client {\n\n    conn, err := net.Dial(\"tcp\", fmt.Sprintf(\"%s:%d\", serverIP, serverPort))\n    if err != nil {\n        log.Println(\"net.Dial Err: \", err)\n        return nil\n    }\n\n    return &amp;Client{\n        ServerIP:   serverIP,\n        ServerPort: serverPort,\n        conn:       conn,\n    }\n}\n</code></pre> <pre><code>// main.go\npackage main\n\nimport \"log\"\n\nfunc init() {\n    log.SetFlags(log.LstdFlags | log.Lshortfile)\n}\n\nfunc main() {\n\n    client := NewClient(\"127.0.0.1\", 8088)\n    if client == nil {\n        log.Println(\"&gt;&gt;&gt;&gt;&gt; \u8fde\u63a5\u670d\u52a1\u5668\u5931\u8d25...\")\n        return\n    }\n    log.Println(\"&gt;&gt;&gt;&gt;&gt; \u8fde\u63a5\u670d\u52a1\u5668\u6210\u529f...\")\n\n    // \u542f\u52a8\u5ba2\u6237\u7aef\u4e1a\u52a1\n    select {}\n}\n</code></pre>"},{"location":"Go/StdLib/%28%E5%BE%85%2910-template/","title":"(\u5f85)10 template","text":""},{"location":"Go/StdLib/%28%E5%BE%85%2910-template/#_1","title":"\u6a21\u677f\u8bed\u6cd5","text":"<p><code>{{}}</code> \u4e3a\u5206\u754c\u7b26</p>"},{"location":"Go/StdLib/%28%E5%BE%85%2910-template/#_2","title":"\u6e32\u67d3\u5bf9\u8c61","text":"<p><code>{{.}}</code> \u6240\u6709\u8bed\u6cd5\u90fd\u5305\u542b\u5728\u53cc\u5927\u62ec\u53f7\u4e2d\uff0c\u70b9 <code>.</code> \u8868\u793a\u5f53\u524d\u5bf9\u8c61\u3002</p> <p>\u8981\u4f7f\u7528\u5bf9\u8c61\u4e2d\u7684\u5b57\u6bb5\uff0c\u53ef\u4ee5\u7528 <code>{{.fieldName}}</code></p> <p>eg1:</p> <pre><code>tmpl, _ := template.New(\"demo\").Parse(`\nhello {{.name}},\nobj is {{.}}\n`)\n\ndata := map[string]interface{}{\n    \"name\": \"Boii\",\n    \"age\":  18,\n}\n\ntmpl.Execute(os.Stdout, data)\n</code></pre> <p>\u8f93\u51fa\uff1a</p> <pre><code>hello Boii,\nobj is map[name: Boii age:18]\n</code></pre> <p>eg2:</p> <pre><code>tmpl, _ := template.New(\"demo\").Parse(`\nHello {{.Name}},\nobj is {{.}}\n`)\n\ndata := struct {\n    Name string\n    Age  int\n}{Name: \"Boii\", Age: 18}\n\ntmpl.Execute(os.Stdout, data)\n</code></pre> <p>\u8f93\u51fa\uff1a</p> <pre><code>Hello Boii,\nobj is {Boii 18}\n</code></pre>"},{"location":"Go/StdLib/%28%E5%BE%85%2910-template/#_3","title":"\u6ce8\u91ca","text":"<p><code>{{/* \u6ce8\u91ca\uff0c\u53ef\u4ee5\u591a\u884c\uff0c\u4e0d\u80fd\u5d4c\u5957\uff0c\u6ce8\u91ca\u7b26\u53f7\u8d34\u7d27\u5206\u754c\u7b26*/}}</code></p>"},{"location":"Go/StdLib/%28%E5%BE%85%2910-template/#_4","title":"\u7a7a\u683c","text":"<p><code>{{- xxx -}}</code>\uff0c\u79fb\u9664\u7a7a\u683c\uff0c<code>-</code> \u8981\u8d34\u7d27\u5206\u754c\u7b26\uff0c\u4e0e\u6a21\u677f\u503c xxx \u7528\u7a7a\u683c\u9694\u5f00</p> <ul> <li><code>{{- xxx}}</code>\uff1a\u53bb\u6389\u5de6\u8fb9\u6240\u6709\u7a7a\u683c</li> <li><code>{{xxx -}}</code>\uff1a\u53bb\u6389\u53f3\u8fb9\u6240\u6709\u7a7a\u683c</li> <li><code>{{- xxx -}}</code>\uff1a\u53bb\u6389\u4e24\u8fb9\u6240\u6709\u7a7a\u683c</li> </ul>"},{"location":"Go/StdLib/%28%E5%BE%85%2910-template/#_5","title":"\u4f7f\u7528\u53d8\u91cf","text":"<p><code>{{$var := .}}</code> \u4f7f\u7528\u7f8e\u5143\u7b26\u53f7\u52a0\u53d8\u91cf\u540d\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a\u6a21\u677f\u4e2d\u7684\u53d8\u91cf\uff0c\u5b9a\u4e49\u540e\u53ef\u4ee5\u5728\u6a21\u677f\u5185\u5176\u4ed6\u4efb\u610f\u5730\u65b9\u4f7f\u7528\u3002</p> <pre><code>tmpl, _ := template.New(\"demo\").Parse(`\n{{$a := \"Boii\"}}\nhello {{$a}}\n\n{{$b := .}}\nhello {{$b.Name}}\n`)\n\ndata := struct{\n    Name string\n    Age  int\n}{Name: \"Eva\", Age: 18}\n\ntmpl.Execute(os.Stdout, data)\n</code></pre> <p>\u8f93\u51fa\uff1a</p> <pre><code>hello Boii\n\nhello Eva\n</code></pre> <p>\u6761\u4ef6</p> <pre><code>{{if cond}}\n    ...\n{{end}}\n\n\n{{if cond}}\n    ...\n{{else}}\n    ...\n{{end}}\n\n\n{{if cond}}\n    ...\n{{else if cond}}\n    ...\n{{end}}\n</code></pre> <p>\u5faa\u73af</p> <p>Range \u7528\u4e8e\u904d\u5386\u6570\u7ec4\uff0c\u548c go \u7684 range \u4e00\u6837\uff0c\u53ef\u4ee5\u76f4\u63a5\u5f97\u5230\u6bcf\u4e2a\u53d8\u91cf\uff0c\u6216\u8005\u5f97\u5230 index \u548cvalue\u3002</p> <pre><code>cond \u7684\u503c\u5fc5\u987b\u4e3a\u6570\u7ec4\u3001\u5207\u7247\u3001\u5b57\u5178\u6216\u901a\u9053\n\n{{range cond}}\n    ...\n{{end}}\n\u5982\u679c cond \u957f\u5ea6\u4e3a0\uff0c\u5219\u4e0d\u4f1a\u6709\u4efb\u4f55\u8f93\u51fa\n\n\n{{range cond}}\n    T1\n{{else}}\n    T2\n{{end}}\n\u5982\u679c cond \u957f\u5ea6\u4e3a0\uff0c\u5219\u8f93\u51fa T2\n</code></pre> <pre><code>tmpl, _ := template.New(\"demo\").Parse(`\n{{range .val}}\n    {{- . -}}\n{{end}}\n\n{{range $i, $v := .val}}\n    id: {{$i}}, value: {{$v}}\n{{end}}\n`)\n\ndata := map[string]interface{}{\n    \"val\": []string{\"B\", \"o\", \"i\", \"i\"}\n}\n\ntmpl.Execute(os.Stdout, data)\n</code></pre> <pre><code>Boii\n\n        id: 0, value: B\n\n        id: 1, value: o\n\n        id: 2, value: i\n\n        id: 3, value: i\n</code></pre> <pre><code>{{with cond}}\n    T1\n{{end}}\n\u5982\u679c cond \u4e0d\u4e3a empty\uff0c\u5c06 dot \u8bbe\u4e3a cond \u7684\u503c\u5e76\u6267\u884c T1\uff0c\u4e0d\u4fee\u6539\u5916\u9762\u7684 dot\n\u5982\u679c cond \u4e3a empty \u5219\u4e0d\u4ea7\u751f\u8f93\u51fa\uff0c\n\n\n{{with cond}}\n    T1\n{{else}}\n    T2\n{{end}}\n\u5982\u679c cond \u4e0d\u4e3a empty\uff0c\u5219 dot \u8bbe\u4e3a cond \u7684\u503c\u5e76\u6267\u884c T1\n\u5982\u679c cond \u4e3a empty\uff0c\u5219\u4e0d\u6539\u53d8 dot \u5e76\u6267\u884c T2\n</code></pre> <pre><code>{{block \"name\" pipeline}}\n    T1\n{{end}}\n</code></pre>"},{"location":"Go/StdLib/0-time-%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/","title":"0-time","text":""},{"location":"Go/StdLib/0-time-%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/#0-time","title":"0-time","text":"<p>Tip</p> <ul> <li>1\u5e74 = 365\u5929\uff0cday     -&gt; <code>d</code></li> <li>1\u5929 = 24\u5c0f\u65f6\uff0chour  -&gt; <code>h</code></li> <li>1\u5c0f\u65f6 = 60\u5206\u949f\uff0cminute  -&gt; <code>m</code></li> <li>1\u5206\u949f = 60\u79d2\uff0csecond     -&gt; <code>s</code></li> <li>1\u79d2\u949f = 1000\u6beb\u79d2\uff0cmillisecond     -&gt; <code>ms</code></li> <li>1\u6beb\u79d2 = 1000\u5fae\u79d2\uff0cmicrosecond   -&gt; <code>\u03bcs</code></li> <li>1\u5fae\u79d2 = 1000\u7eb3\u79d2\uff0cnanosecond    -&gt; <code>ns</code></li> <li>1\u7eb3\u79d2 = 1000\u76ae\u79d2\uff0cpicosecond     -&gt; <code>ps</code></li> </ul>"},{"location":"Go/StdLib/0-time-%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/#_1","title":"\u5bfc\u5305","text":"<pre><code>import \"time\"\n</code></pre>"},{"location":"Go/StdLib/0-time-%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/#_2","title":"\u83b7\u53d6\u65f6\u95f4","text":""},{"location":"Go/StdLib/0-time-%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/#timenow","title":"\u83b7\u53d6\u5f53\u524d\u65f6\u95f4 <code>time.Now()</code>","text":"<p>\u51fd\u6570\u7b7e\u540d\uff1a </p><pre><code>func Now() Time\n</code></pre><p></p> <p>Example</p> <pre><code>t1 := time.Now()\nfmt.Println(t1) //(1)\n</code></pre> <ol> <li>2021-02-08 11:54:51.5596954 +0800 CST m=+0.001962701</li> </ol>"},{"location":"Go/StdLib/0-time-%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/#timedate","title":"\u83b7\u53d6\u6307\u5b9a\u65f6\u95f4 <code>time.Date()</code>","text":"<p>\u51fd\u6570\u7b7e\u540d\uff1a </p><pre><code>func Date(year int, month Month, day, hour, min, sec, nsec int, loc *Location) Time\n</code></pre><p></p> <p>Example</p> <pre><code>t2 := time.Date(2021, 10, 1, 9, 10, 32, 11, time.Local)\nfmt.Println(t2) // (1)\n</code></pre> <ol> <li>2021-10-01 09:10:32.000000011 +0800 CST</li> </ol>"},{"location":"Go/StdLib/0-time-%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/#_3","title":"\u83b7\u53d6\u65f6\u95f4\u6233","text":""},{"location":"Go/StdLib/0-time-%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/#1970-tunixtunixnano","title":"1970\u5e74\u65f6\u95f4\u6233 <code>t.Unix()\u3001t.UnixNano()</code>","text":"<p>\u65b9\u6cd5\u7b7e\u540d\uff1a </p><pre><code>func (t Time) Unix() int64 {}\nfunc (t Time) UnixNano() int64 {}\n</code></pre><p></p> <ul> <li>\u4f5c\u7528\uff1a\u6307\u5b9a\u7684\u65e5\u671f\u8ddd\u79bb1970\u5e741\u67081\u65e5 0\u65f60\u52060\u79d2 \u7684\u65f6\u95f4\u5dee\u503c\u3002</li> <li><code>Unix()</code>\uff1a\u8fd4\u56de \u79d2 \u7684\u5dee\u503c\uff1b</li> <li><code>UnixNano()</code>\uff1a\u8fd4\u56de \u7eb3\u79d2 \u7684\u5dee\u503c\u3002</li> </ul> <p>Example</p> <pre><code>t4 := time.Date(1970, 1, 1, 1, 0, 0, 0, time.UTC)\nfmt.Println(t4.Unix())      // (1)\nfmt.Println(t4.UnixNano())  // (2)\n</code></pre> <ol> <li>3600\uff0c\u76f8\u5dee1\u5c0f\u65f6\uff0c\u4e5f\u5c31\u662f3600\u79d2</li> <li>3600 000 000 000\uff0c\u76f8\u5dee1\u5c0f\u65f6\uff0c\u4e5f\u5c31\u662f36\u4e07\u4ebf\u7eb3\u79d2</li> </ol>"},{"location":"Go/StdLib/0-time-%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/#timesincetimeuntil","title":"\u5f53\u524d\u65f6\u95f4\u6233 <code>time.Since()\u3001time.Until()</code>","text":"<p>\u51fd\u6570\u7b7e\u540d\uff1a </p><pre><code>func Since(t Time) Duration {}\nfunc Until(t Time) Duration {}\n</code></pre><p></p> <ul> <li>\u4f5c\u7528\uff1a\u8fd4\u56de\u5f53\u524d\u65f6\u95f4 \u548c t \u4e4b\u95f4\u7684\u65f6\u95f4\u5dee\u503c</li> <li><code>Since</code> \u76f8\u5f53\u4e8e <code>time.Now().Sub(t)</code>\uff0c\u8fd4\u56de\u5f53\u524d\u4e4b\u95f4\u51cf\u53bb t \u7684\u5dee</li> <li><code>Until</code> \u76f8\u5f53\u4e8e <code>t.Sub(time.Now())</code>\uff0c\u8fd4\u56de t \u51cf\u53bb\u5f53\u524d\u65f6\u95f4\u7684\u5dee</li> </ul> <p>Example</p> <pre><code>t3 := time.Parse(\"2006/1/2\", \"2021/2/8\")\nfmt.Println(t3)             // (1)\nfmt.Println(time.Since(t3)) // (2)\nfmt.Println(time.Until(t3)) // (3)\n</code></pre> <ol> <li>2021-02-08 00:00:00 +0000 UTC</li> <li>8h21m9.0061743s = \u5f53\u524d\u65f6\u95f4 - t3</li> <li>-8h21m9.0061743s = t3 - \u5f53\u524d\u65f6\u95f4</li> </ol>"},{"location":"Go/StdLib/0-time-%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/#_4","title":"\u65f6\u95f4\u683c\u5f0f\u5316","text":""},{"location":"Go/StdLib/0-time-%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/#tformat","title":"\u65f6\u95f4\u8f6c\u5b57\u7b26\u4e32 <code>t.Format()</code>","text":"<p>\u65b9\u6cd5\u7b7e\u540d\uff1a </p><pre><code>func (t Time) Format(layout string) string\n</code></pre><p></p> <ul> <li>\u4f5c\u7528\uff1a\u8c03\u7528\u6b64\u65b9\u6cd5\u7684\u65f6\u95f4\u5bf9\u8c61\u4f1a\u6839\u636e\u7ed9\u5b9a\u7684\u5b57\u7b26\u4e32\u6a21\u677f\u6765\u683c\u5f0f\u5316\u51fa\u4e00\u4e2a\u5b57\u7b26\u4e32\u683c\u5f0f\u7684\u65f6\u95f4\u3002</li> <li><code>layout</code>\uff1a\u5b57\u7b26\u4e32\u6a21\u677f\u3002</li> </ul> <p>Warning</p> <p>\u5b57\u7b26\u4e32\u6a21\u677f\u7684\u65e5\u671f\u65f6\u95f4\u5fc5\u987b\u662f \u300e2006\u5e741\u67082\u65e5 15\u70b904\u520605\u79d2\u300f\uff0c\u8fd9\u662fGo\u8bed\u8a00\u8bde\u751f\u7684\u65f6\u95f4\u3002\uff08\u5b98\u65b9\u5f69\u86cb\uff09</p> <p>\u4e5f\u53ef\u4ee5\u5199\u6210 3 \u70b9\uff1a \u300e2006\u5e741\u67082\u65e5 03\u70b904\u520605\u79d2\u300f\u3002</p> <p>\u8bb0\u5fc6\u65b9\u6cd5\uff1a6-1-2-3-4-5</p> <p>Example</p> <pre><code>// time -&gt; string\n// \u6a21\u677f\u65e5\u671f\u5fc5\u987b\u662f 06-1-2-3-4-5\nt1 := time.Now()\ns1 := t1.Format(\"2006\u5e741\u67082\u65e5 15:04:05\")    // (1)\nfmt.Println(s1) // (2)\n\ns2 := t2.Format(\"2006-1-2\")\nfmt.Println(s2) // (3)\n</code></pre> <ol> <li>\u6a21\u677f\u65e5\u671f\u5fc5\u987b\u662f 06-1-2-3-4-5</li> <li>2021\u5e742\u67088\u65e5 11:56:27</li> <li>2021-10-1</li> </ol>"},{"location":"Go/StdLib/0-time-%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/#timeparse","title":"\u5b57\u7b26\u4e32\u8f6c\u65f6\u95f4 <code>time.Parse()</code>","text":"<p>\u51fd\u6570\u7b7e\u540d\uff1a </p><pre><code>func Parse(layout, value string) (Time, error)\n</code></pre><p></p> <ul> <li>\u4f5c\u7528\uff1a\u6839\u636e\u6a21\u677f\u5c06\u4e00\u4e2a\u5b57\u7b26\u4e32\u8f6c\u4e3a\u65f6\u95f4\u683c\u5f0f</li> <li><code>layout</code>\uff1a\u5b57\u7b26\u4e32\u6a21\u677f\u3002\u65f6\u95f4\u5fc5\u987b\u662f 2006\u5e741\u67082\u65e5 15\u70b904\u520605\u79d2</li> <li><code>value</code>\uff1a\u8981\u88ab\u89e3\u6790\u6210\u65f6\u95f4\u683c\u5f0f\u7684\u5b57\u7b26\u4e32</li> </ul> <p>Example</p> <pre><code>// string -&gt; time\ns3 := \"2021/2/8\"\nt3, err := time.Parse(\"2006/1/2\", s3)\nif err != nil {\n    fmt.Println(err) // (1)\n}\n\nfmt.Println(t3)         // (2)\nfmt.Printf(\"%T \\n\", t3) // (3)\n</code></pre> <ol> <li>parsing time \"2021/2/8\" as \"2006-1-2\": cannot parse \"/2/8\" as \"-\"</li> <li>2021-02-08 00:00:00 +0000 UTC</li> <li>time.Time</li> </ol>"},{"location":"Go/StdLib/0-time-%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/#tfunc","title":"\u89e3\u6790\u5177\u4f53\u65f6\u95f4 <code>t.Func...()</code>","text":"<p>\u65b9\u6cd5\u7b7e\u540d\uff1a </p><pre><code>func (t Time) Date() (year int, month Month, day int) {}\nfunc (t Time) Clock() (hour, min, sec int) {}\nfunc (t Time) Year() int {}\nfunc (t Time) Month() Month {}\nfunc (t Time) Day() int {}\nfunc (t Time) Weekday() Weekday {}\nfunc (t Time) Hour() int {}\nfunc (t Time) Minute() int {}\nfunc (t Time) Second() int {}\nfunc (t Time) Nanosecond() int {}\nfunc (t Time) YearDay() int {}\nfunc (t Time) ISOWeek() (year, week int) {}\n</code></pre><p></p> <ul> <li><code>Date()</code> \u8fd4\u56de\u5e74\u6708\u65e5</li> <li><code>Clock()</code> \u8fd4\u56de\u65f6\u5206\u79d2</li> <li><code>WeekDay()</code> \u8fd4\u56de\u661f\u671f</li> <li><code>YearDay()</code> \u8fd4\u56de\u8be5\u65e5\u671f\u662f\u90a3\u4e00\u5e74\u7684\u7b2c\u51e0\u5929</li> <li><code>ISOWeek()</code> \u8fd4\u56de\u8be5\u65e5\u671f\u662f\u90a3\u4e00\u5e74\u7684\u7b2c\u51e0\u5468</li> </ul> <p>Example</p> <pre><code>t2 := time.Date(2021, 10, 1, 9, 10, 32, 11, time.Local)\nfmt.Println(t2) // (1)\n\nyear, month, day := t2.Date()\nfmt.Println(year, month, day) // 2021 October 1\n\nhour, min, sec := t2.Clock()\nfmt.Println(hour, min, sec)  // 9 10 32\n\nfmt.Println(t2.Year())       // 2021\nfmt.Println(t2.Month())      // October\nfmt.Println(t2.Day())        // 1\nfmt.Println(t2.Weekday())    // Friday\nfmt.Println(t2.Hour())       // 9\nfmt.Println(t2.Minute())     // 10\nfmt.Println(t2.Second())     // 32\nfmt.Println(t2.Nanosecond()) // 11\nfmt.Println(t2.YearDay())    // 274, 2021-10-1\u662f2021\u5e74\u7684\u7b2c274\u5929\nfmt.Println(t2.ISOWeek())    // 2021 39\n</code></pre> <ol> <li>2021-10-01 09:10:32.000000011 +0800 CST</li> </ol>"},{"location":"Go/StdLib/0-time-%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/#_5","title":"\u65f6\u95f4\u8ba1\u7b97","text":""},{"location":"Go/StdLib/0-time-%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/#taddtsub","title":"\u65f6\u95f4\u4fee\u6539 <code>t.Add()\u3001t.Sub()</code>","text":"<p>\u65b9\u6cd5\u7b7e\u540d\uff1a </p><pre><code>func (t Time) Add(d Duration) Time {}\nfunc (t Time) Sub(u Time) Duration {}\n</code></pre><p></p> <ul> <li><code>Add</code> \u7528\u6765\u83b7\u5f97\u4e00\u4e2a\u589e\u51cf\u540e\u7684\u65f6\u95f4\uff0c<code>return t + d</code></li> <li><code>Sub</code> \u7528\u6765\u83b7\u5f97\u4e24\u4e2a\u65f6\u95f4\u7684\u5dee\uff0c<code>return u - t</code></li> </ul> <p>Example</p> <pre><code>/* \u65f6\u95f4\u95f4\u9694 */\nfmt.Println(t2)                     // 2021-10-01 09:10:32.000000011 +0800 CST\n// \u52a0\u4e00\u5206\u949f\nfmt.Println(t2.Add(time.Minute))    // 2021-10-01 09:11:32.000000011 +0800 CST\n// \u51cf\u4e00\u5206\u949f\nfmt.Println(t2.Add(-time.Minute))   // 2021-10-01 09:09:32.000000011 +0800 CST\n// \u52a01\u5929\nfmt.Println(t2.Add(24 * time.Hour)) // 2021-10-02 09:10:32.000000011 +0800 CST\n// \u52a01\u5e741\u4e2a\u6708\u96f63\u5929\nfmt.Println(t2.AddDate(1, 1, 3))    // 2022-11-04 09:10:32.000000011 +0800 CST\n\nfmt.Println(t2)            // 2021-10-01 09:10:32.000000011 +0800 CST\nt5 := t2.Add(time.Minute)\nfmt.Println(t5)            // 2021-10-01 09:11:32.000000011 +0800 CST\n\nfmt.Println(t5.Sub(t2))    // 1m0s, t5 - t2 = 1\u5206\u949f0\u79d2\n</code></pre>"},{"location":"Go/StdLib/0-time-%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/#tequaltbeforetafter","title":"\u65f6\u95f4\u5224\u65ad <code>t.Equal()\u3001t.Before()\u3001t.After()</code>","text":"<pre><code>// \u5224\u65ad\u4e24\u4e2a\u65f6\u95f4\u662f\u5426\u76f8\u540c\uff0c\u4f1a\u8003\u8651\u65f6\u533a\u7684\u5f71\u54cd\uff0c\u56e0\u6b64\u4e0d\u540c\u65f6\u533a\u6807\u51c6\u7684\u65f6\u95f4\u4e5f\u53ef\u4ee5\u6b63\u786e\u6bd4\u8f83\u3002\u672c\u65b9\u6cd5\u548c\u7528t==u\u4e0d\u540c\uff0c\u8fd9\u79cd\u65b9\u6cd5\u8fd8\u4f1a\u6bd4\u8f83\u5730\u70b9\u548c\u65f6\u533a\u4fe1\u606f\u3002\nfunc (t Time) Equal(u Time) bool {}\n\n// \u5982\u679c t \u4ee3\u8868\u7684\u65f6\u95f4\u70b9\u5728 u \u4e4b\u524d\uff0c\u8fd4\u56de\u771f\uff1b\u5426\u5219\u8fd4\u56de\u5047\u3002\nfunc (t Time) Before(u Time) bool {}\n\n// \u5982\u679c t \u4ee3\u8868\u7684\u65f6\u95f4\u70b9\u5728 u \u4e4b\u540e\uff0c\u8fd4\u56de\u771f\uff1b\u5426\u5219\u8fd4\u56de\u5047\u3002\nfunc (t Time) After(u Time) bool {}\n</code></pre> <p>Example</p> <pre><code>t1 := time.Date(2021, 2, 13, 17, 14, 05, 132465461, time.Local)\nt2 := time.Date(2021, 2, 14, 17, 14, 05, 132465461, time.Local)\nt3 := time.Date(2021, 2, 15, 17, 14, 05, 132465461, time.Local)\n\nfmt.Println(t1.Equal(t2))  // false\nfmt.Println(t1.Before(t2)) // true\nfmt.Println(t1.Before(t3)) // true\nfmt.Println(t2.After(t1))  // true\nfmt.Println(t2.After(t3))  // false\n</code></pre>"},{"location":"Go/StdLib/0-time-%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/#_6","title":"\u65f6\u95f4\u63a7\u5236","text":""},{"location":"Go/StdLib/0-time-%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/#timesleep","title":"\u7761\u7720 <code>time.Sleep()</code>","text":"<p>\u51fd\u6570\u7b7e\u540d\uff1a </p><pre><code>func Sleep(d Duration)\n</code></pre><p></p> <p>Example</p> <pre><code>// \u7761\u77203\u79d2\u949f\ntime.Sleep(3 * time.Second)\n</code></pre>"},{"location":"Go/StdLib/0-time-%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/#timeticktimenewtimer","title":"\u5b9a\u65f6\u5668 time.Tick()\u3001time.NewTimer()","text":"<ul> <li><code>Ticker</code> \u662f\u6309\u4e00\u5b9a\u65f6\u95f4\u95f4\u9694 \u6301\u7eed \u89e6\u53d1\u65f6\u95f4\u4e8b\u4ef6\u3002</li> <li><code>Timer</code> \u662f \u4e00\u6b21\u6027 \u7684\u65f6\u95f4\u89e6\u53d1\u4e8b\u4ef6</li> </ul>"},{"location":"Go/StdLib/0-time-%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/#ticker","title":"\u6301\u7eed\u6027\u2014\u2014Ticker","text":"<pre><code>func Tick(d Duration) &lt;-chan Time\n</code></pre> <code>Tick</code> \u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u53ea\u8bfb\u901a\u9053\u3002 <p>Example</p> <pre><code>ticker := time.Tick(time.Second) //\u5b9a\u4e49\u4e00\u4e2a1\u79d2\u95f4\u9694\u7684\u5b9a\u65f6\u5668\nfor t := range ticker {\n    fmt.Println(t) //\u6bcf\u79d2\u90fd\u4f1a\u6267\u884c\u7684\u4efb\u52a1\n}\n</code></pre> <p>\u6216\u8005</p> <pre><code>ticker := time.Tick(time.Second) //\u5b9a\u4e49\u4e00\u4e2a1\u79d2\u95f4\u9694\u7684\u5b9a\u65f6\u5668\nfor {\n    fmt.Println(&lt;-ticker) //\u6bcf\u79d2\u90fd\u4f1a\u6267\u884c\u7684\u4efb\u52a1\n}\n</code></pre>"},{"location":"Go/StdLib/0-time-%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F/#timer","title":"\u4e00\u6b21\u6027\u2014\u2014Timer","text":"<p>\u6807\u51c6\u5e93\u4e2d\u7684 Timer \u8ba9\u7528\u6237\u53ef\u4ee5\u81ea\u5b9a\u4e49\u81ea\u5df1\u7684\u8d85\u65f6\u903b\u8f91\uff0c\u5c24\u5176\u662f\u5728\u5e94\u5bf9 select \u5904\u7406\u591a\u4e2a channel \u7684\u8d85\u65f6\u3001\u5355 channel \u8bfb\u5199\u7684\u8d85\u65f6\u7b49\u60c5\u5f62\u65f6\u5c24\u4e3a\u65b9\u4fbf\u3002</p> <p>\u5e38\u89c1\u7684\u521b\u5efa\u65b9\u5f0f</p> <pre><code>t := time.NewTimer(d)\nt := time.AfterFunc(d, f)\nc := time.After(d)\n</code></pre> <p>\u867d\u7136\u521b\u5efa\u65b9\u5f0f\u4e0d\u540c\uff0c\u4f46\u539f\u7406\u662f\u76f8\u540c\u7684\u3002</p> <p>Timer \u67093\u4e2a\u8981\u7d20\uff1a</p> <ul> <li>\u5b9a\u65f6\u65f6\u95f4\uff1a <code>d</code></li> <li>\u89e6\u53d1\u52a8\u4f5c\uff1a<code>f</code></li> <li>\u65f6\u95f4chan\uff1a<code>c</code></li> </ul> <p>\u4e0b\u9762\u9010\u4e00\u8bf4\u660e\uff1a</p> <ul> <li> <p><code>NewTimer()</code> </p><pre><code>func NewTimer(d Duration) *Timer\n</code></pre><p></p> <p>Example</p> <pre><code>func main() {\n    timer := time.NewTimer(3 * time.Second)    // \u521b\u5efa\u4e00\u4e2a timer\n    fmt.Println(time.Now()) // (1)\n\n    // \u542f\u52a8\u5b9a\u65f6\u5668\uff0c\u963b\u585e3\u79d2\u540e\u7ee7\u7eed\u6267\u884c\n    fmt.Println(&lt;-timer.C)  // (2)\n}\n</code></pre> <ol> <li>2021-02-14 17:58:28.7661805 +0800 CST m=+0.003483101</li> <li>2021-02-14 17:58:31.7657332 +0800 CST m=+3.003035801</li> </ol> </li> <li> <p><code>After()</code> </p><pre><code>func After(d Duration) &lt;-chan Time {\n    return NewTimer(d).C\n}\n</code></pre> <code>After()</code> \u5176\u5b9e\u5c31\u662f\u8fd4\u56de <code>timer.C</code><p></p> <p>Example</p> <pre><code>func main() {\n    ch := time.After(3 * time.Second)   // (1)\n\n    fmt.Println(time.Now()) // (2)\n    // \u542f\u52a8\u5b9a\u65f6\u5668\n    fmt.Println(&lt;-ch) // (3)\n}\n</code></pre> <ol> <li>\u8fd4\u56de\u4e00\u4e2a\u901a\u9053\uff0c\u5b58\u50a8\u7684\u662fd\u65f6\u95f4\u95f4\u9694\u4e4b\u540e\u7684\u5f53\u524d\u65f6\u95f4</li> <li>2021-02-14 18:21:23.3943073 +0800 CST m=+0.003990801</li> <li>2021-02-14 18:21:26.3929503 +0800 CST m=+3.002633801</li> </ol> </li> <li> <p><code>AfterFunc()</code> </p><pre><code>func AfterFunc(d Duration, f func()) *Timer\n</code></pre> <code>AfterFunc()</code> \u4f1a\u5728 <code>d</code> \u65f6\u95f4\u540e\uff0c\u542f\u52a8\u4e00\u4e2a <code>goroutine</code> \u6267\u884c <code>f</code><p></p> <p>Example</p> <pre><code>func main() {\n    fn := func() {\n        defer wg.Done()\n        fmt.Println(\"do\")\n    }\n\n    wg.Add(1)\n    time.AfterFunc(3*time.Second, fn)\n    wg.Wait()\n}\n</code></pre> </li> </ul> <p>\u5728\u53e6\u5916\u4e00\u4e2a<code>goroutine</code> \u542f\u52a8\u5b9a\u65f6\u5668</p> <pre><code>func main() {\n    timer := time.NewTimer(5 * time.Second)    // \u521b\u5efa\u4e00\u4e2a timer\n\n    wg.Add(1)\n    go func() {\n        defer wg.Done()\n        &lt;-timer.C    // (1)\n        fmt.Println(\"Timer2 is over.\")\n    }()\n\n    time.Sleep(3 * time.Second) // (2)\n    flag := timer.Stop()    // (3)\n    if flag {\n        fmt.Println(\"Timer2 \u505c\u6b62\u4e86\")\n        wg.Done()\n    }\n    wg.Wait()\n}\n</code></pre> <ol> <li>\u542f\u52a8\u5b9a\u65f6\u5668\uff0c\u5b9a\u65f6\u5668\u7ed3\u675f\u540e\uff08\u963b\u585e\u7b49\u5f85\u65f6\u95f4\u7ed3\u675f\uff09\u6253\u5370</li> <li>3\u79d2\u540e\u505c\u6b62 timer</li> <li>\u63d0\u524d\u505c\u6b62\u5b9a\u65f6\u5668</li> </ol>"},{"location":"Go/StdLib/1-random-%E9%9A%8F%E6%9C%BA%E6%95%B0/","title":"1-random","text":""},{"location":"Go/StdLib/1-random-%E9%9A%8F%E6%9C%BA%E6%95%B0/#1-random","title":"1-random","text":""},{"location":"Go/StdLib/1-random-%E9%9A%8F%E6%9C%BA%E6%95%B0/#_1","title":"\u5bfc\u5305","text":"<pre><code>import \"math/rand\"\n</code></pre>"},{"location":"Go/StdLib/1-random-%E9%9A%8F%E6%9C%BA%E6%95%B0/#_2","title":"\u8bbe\u5b9a\u968f\u673a\u79cd\u5b50","text":"<p>\u751f\u6210\u968f\u673a\u6570\u9700\u8981\u8bbe\u5b9a \u968f\u673a\u79cd\u5b50\uff0c\u5982\u679c\u4e0d\u8bbe\u7f6e\u7684\u8bdd\u4f1a\u5bfc\u81f4\u8fd0\u884c\u591a\u5c11\u6b21\u751f\u6210\u7684\u968f\u673a\u6570\u90fd\u4e00\u6837\u3002</p> <p>\u8bbe\u7f6e\u968f\u673a\u79cd\u5b50\u9700\u8981\u8c03\u7528 <code>Seed()</code> \u51fd\u6570\u3002</p> <p>\u51fd\u6570\u7b7e\u540d\uff1a</p> <pre><code>func Seed(seed int64) {}\n</code></pre> <p>\u968f\u673a\u79cd\u5b50\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a\u56fa\u5b9a\u7684\u6570\uff0c\u4f46\u90a3\u6837\u66f4\u6ca1\u8bbe\u5b9a\u4e00\u6837\u3002\u6240\u4ee5\u6700\u597d\u4f20\u9012\u4e00\u4e2a\u65f6\u65f6\u523b\u523b\u4e0d\u65ad\u53d8\u5316\u7684\u53c2\u6570\uff0c\u5982 \u65f6\u95f4\u3001\u80a1\u4ef7\u7b49\u7b49</p> <p>Example</p> <pre><code>rand.Seed(time.Now().Unix())    // \u4f7f\u7528\u65f6\u95f4\u6233\n</code></pre>"},{"location":"Go/StdLib/1-random-%E9%9A%8F%E6%9C%BA%E6%95%B0/#_3","title":"\u751f\u6210\u968f\u673a\u6570","text":"<p>\u751f\u6210\u968f\u673a\u6570\u53ef\u4ee5\u6709\u591a\u79cd\u7c7b\u578b\uff0c\u901a\u8fc7\u4e0d\u540c\u7684\u51fd\u6570\u83b7\u5f97\u3002</p> <p>\u51fd\u6570\u7b7e\u540d\uff1a</p> <pre><code>func Int() int             // \u751f\u6210\u4e00\u4e2a int    \u8868\u793a\u8303\u56f4\u5185\u7684 \u6709\u7b26\u53f7\u968f\u673a\u6574\u6570\nfunc Int31() int32         // \u751f\u6210\u4e00\u4e2a int32  \u8868\u793a\u8303\u56f4\u5185\u7684 \u6709\u7b26\u53f7\u968f\u673a\u6574\u6570\nfunc Int63() int64         // \u751f\u6210\u4e00\u4e2a int64  \u8868\u793a\u8303\u56f4\u5185\u7684 \u6709\u7b26\u53f7\u968f\u673a\u6574\u6570\nfunc Uint32() uint32       // \u751f\u6210\u4e00\u4e2a uint32 \u8868\u793a\u8303\u56f4\u5185\u7684 \u65e0\u7b26\u53f7\u968f\u673a\u6574\u6570\nfunc Uint64() uint64       // \u751f\u6210\u4e00\u4e2a uint64 \u8868\u793a\u8303\u56f4\u5185\u7684 \u65e0\u7b26\u53f7\u968f\u673a\u6574\u6570\nfunc Float32() float32     // \u751f\u6210 [0.0,1.0) \u7684 float32 \u578b\u968f\u673a\u6d6e\u70b9\u6570\nfunc Float64() float64     // \u751f\u6210 [0.0,1.0) \u7684 float64 \u578b\u968f\u673a\u6d6e\u70b9\u6570\n\nfunc Intn(n int) int       // \u751f\u6210 [0,n) \u7684 int \u578b\u968f\u673a\u6574\u6570\nfunc Int31n(n int32) int32 // \u751f\u6210 [0,n) \u7684 int \u578b\u968f\u673a\u6574\u6570\nfunc Int63n(n int64) int64 // \u751f\u6210 [0,n) \u7684 int \u578b\u968f\u673a\u6574\u6570\n\n// \u751f\u6210\u4e00\u4e2a [-math.MaxFloat64, +math.MaxFloat64] \u7684 \u968f\u673a\u6d6e\u70b9\u6570\n// \u5176\u751f\u6210\u7ed3\u679c\u5448 \u6807\u51c6\u6b63\u6001\u5206\u5e03\n// \u901a\u8fc7 NormFloat64() * desiredStdDev + desiredMean \u53ef\u4ee5\u4fee\u6539\u6b63\u6001\u5206\u5e03\u7684\u6837\u672c\nfunc NormFloat64() float64\n\n// \u751f\u6210\u4e00\u4e2a (0, +math.MaxFloat64] \u7684\u968f\u673a\u6d6e\u70b9\u6570\n// \u5176\u751f\u6210\u7ed3\u679c\u5448 \u6307\u6570\u5206\u5e03\uff08\u901f\u7387\u4e3a1\uff09\n// \u901a\u8fc7 ExpFloat64() / desiredRateParameter \u53ef\u4ee5\u4fee\u6539\u6307\u6570\u901f\u7387\nfunc ExpFloat64() float64 \n</code></pre> <p>Example</p> <pre><code>rand.Seed(time.Now().Unix())    // \u8bbe\u7f6e\u968f\u673a\u79cd\u5b50\n\nfmt.Println(rand.Int())         // 1971404210255330026\nfmt.Println(rand.Int31())       // 1005921906\nfmt.Println(rand.Int63())       // 8146236132046518471\nfmt.Println(rand.Uint32())      // 2116138919\nfmt.Println(rand.Uint64())      // 182541428944395698\nfmt.Println(rand.Float32())     // 0.2112303\nfmt.Println(rand.Float64())     // 0.7190299088870225\n\nfmt.Println(rand.Intn(10))      // 6\nfmt.Println(rand.Int31n(10))    // 1\nfmt.Println(rand.Int63n(10))    // 3\n\nfmt.Println(rand.NormFloat64()) // -0.3986721754620751\nfmt.Println(rand.ExpFloat64())  // 2.4778555651486647\n</code></pre>"},{"location":"Go/StdLib/1-random-%E9%9A%8F%E6%9C%BA%E6%95%B0/#_4","title":"\u8c03\u6574\u8303\u56f4","text":"<p>\u53ef\u63a7\u8303\u56f4\u7684 <code>Intn(n)\u3001Int31n(n)\u3001Int63n(n)</code>\u53ea\u80fd\u751f\u6210 0 \u5230 n \u8303\u56f4\u5185\uff0c\u5982\u679c\u8d77\u59cb\u8303\u56f4\u6709\u6240\u4e0d\u540c\uff0c\u5219\u9700\u8981\u7a0d\u4f5c\u4fee\u6539\u3002</p> <p>\u751f\u6210\u8303\u56f4\u5728 <code>[0, 9)</code> \u65f6\uff1a </p><pre><code>x := rand.Intn(10)\n</code></pre><p></p> <p>\u751f\u6210\u8303\u56f4\u5728 <code>[5, 18)</code> \u65f6\uff1a </p><pre><code>x := rand.Intn(13)+5    // [0+5, 13+5)\n</code></pre><p></p> <p>\u751f\u6210\u8303\u56f4\u5728 <code>[a, b)</code> \u65f6\uff1a </p><pre><code>x := rand.Intn(b-a) + a    // [0+a, b-a+a)\n</code></pre><p></p> <p>\u751f\u6210\u8303\u56f4\u5728 <code>[a, b]</code> \u65f6\uff1a </p><pre><code>x := rand.Intn(b-a+1) + a    // [0+a, b+1)\n</code></pre><p></p>"},{"location":"Go/StdLib/2-flag-%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%A7%A3%E6%9E%90/","title":"2-flag","text":""},{"location":"Go/StdLib/2-flag-%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%A7%A3%E6%9E%90/#w2-flag","title":"w2-flag","text":"<p>flag \u5305\u4e13\u95e8\u7528\u6765\u89e3\u6790\u547d\u4ee4\u884c.</p> <p>\u547d\u4ee4\u884c\u6700\u7b80\u5355\u7684\u7ec4\u6210\uff0c\u4f8b\u5982\u8457\u540d\u7684\u7cfb\u7edf\u63d0\u901f\u547d\u4ee4\uff1a<code>rm -rf /*</code>\uff0c \u8fd9\u6761\u547d\u4ee4\u884c\u7531 \u547d\u4ee4\u3001flag\uff0c\u6216\u79f0 opetion\u3001\u53c2\u6570 \u7ec4\u6210\u3002</p> <p></p> <p>\u6211\u4eec\u5199\u51fa\u6765\u7684\u547d\u4ee4\u884c\u7a0b\u5e8f\uff0c\u5728\u7f16\u8bd1\u540e\u4f1a\u751f\u6210\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u8fd9\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\u5c31\u662f\u547d\u4ee4\uff0c\u5982\uff1a </p><pre><code>$ go build -o server main.go\n\n$ ls\n-rwxr--r--  2 boii boii 4.0K  3\u6708  3 17:22 server\n-rw-r--r--  2 boii boii 4.0K  3\u6708  3 13:39 main.go\n\n$ ./server\n...\n</code></pre> \u5176\u4e2d server \u5c31\u662f\u4e00\u4e2a\u547d\u4ee4\uff0c\u6211\u4eec\u53ef\u4ee5\u8f93\u5165 <code>./server</code> \u8fd0\u884c\u3002<p></p> <p>\u8981\u7f16\u5199\u4e00\u4e2a\u547d\u4ee4\u884c\u7a0b\u5e8f\uff0c\u5c31\u5f97\u63d0\u4f9b\u4e00\u4e9b\u53c2\u6570\u65b9\u9762\u7684\u5904\u7406\u3002\u90a3\u4e48\u9996\u5148\u5c31\u5f97\u5148\u628a\u53c2\u6570\u89e3\u6790\u51fa\u6765\u3002</p> <p>\u89e3\u6790\u53c2\u6570\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a</p> <ol> <li>\u901a\u8fc7 <code>os.Args</code> \u83b7\u5f97\u6240\u6709\u53c2\u6570\uff0c\u5728\u901a\u8fc7\u4e0b\u6807\u5f97\u5230\u6bcf\u4e00\u4e2a\u53c2\u6570</li> <li>\u901a\u8fc7 <code>flag</code> \u5305\u83b7\u5f97</li> </ol>"},{"location":"Go/StdLib/2-flag-%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%A7%A3%E6%9E%90/#osargs","title":"os.Args","text":"<p>os.Args \u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u5207\u7247 <code>[]string</code>\uff0c\u7528\u6cd5\u975e\u5e38\u7b80\u5355\uff1a</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"os\"\n)\n\nfunc main() {\n    for i, arg := range os.Args {\n        fmt.Printf(\"args[%d] is %v \\n\", i, arg)\n    }\n}\n</code></pre> <p>\u8fd0\u884c\uff1a </p><pre><code>$ go build -o echo_args\n\n$ ./echo_args 1 2 B o i i\n\nargs[0] is ./echo_args\nargs[1] is 1\nargs[2] is 2\nargs[3] is B\nargs[4] is o\nargs[5] is i\nargs[6] is i\n</code></pre><p></p>"},{"location":"Go/StdLib/2-flag-%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%A7%A3%E6%9E%90/#flag","title":"flag","text":"<p>flag \u5305\u63d0\u4f9b\u4e86 <code>T()</code>\u7cfb\u5217\u3001<code>TVar()</code>\u7cfb\u5217\u3002</p> <ul> <li><code>T()</code>\u7cfb\u5217\u57fa\u672c\u683c\u5f0f\uff1a<code>flag.T(\u53c2\u6570\u540d, \u9ed8\u8ba4\u503c, \u5e2e\u52a9\u4fe1\u606f) *T</code></li> <li>\u5177\u4f53\u6709\u4ee5\u4e0b\u51e0\u79cd\uff1a<ul> <li>flag.Bool()</li> <li>flag.String()</li> <li>flag.Int()</li> <li>flag.Int64()</li> <li>flag.Duration()</li> <li>flag.Float64()</li> <li>flag.Uint()</li> <li>flag.Uint64()</li> </ul> </li> <li><code>TVar()</code>\u7cfb\u5217\u57fa\u672c\u683c\u5f0f\uff1a<code>flag.StringVar(&amp;T, \u53c2\u6570\u540d, \u9ed8\u8ba4\u503c, \u5e2e\u52a9\u4fe1\u606f)</code></li> <li>\u5177\u4f53\u6709\u4ee5\u4e0b\u51e0\u79cd\uff1a<ul> <li>flag.BoolVar()</li> <li>flag.StringVar()</li> <li>flag.IntVar()</li> <li>flag.Int64Var()</li> <li>flag.DurationVar()</li> <li>flag.Float64Var()</li> <li>flag.UintVar()</li> <li>flag.Uint64Var()</li> </ul> </li> <li>\u533a\u522b\uff1a<ul> <li><code>T()</code>\u7cfb\u5217\u8fd4\u56de\u4e00\u4e2a T\u578b\u6307\u9488\uff0c\u9700\u8981\u4e00\u4e2a\u53d8\u91cf\u53bb\u627f\u63a5</li> <li><code>TVar()</code>\u7cfb\u5217\u4e0d\u8fd4\u56de\uff0c\u53d8\u91cf\u662f\u4f5c\u4e3a\u53c2\u6570\u4f20\u8fdb\u53bb\u7684\u3002</li> </ul> </li> </ul> <p>Example</p> <pre><code>func main() {\n    // T() \u7cfb\u5217\n    name := flag.String(\"n\", \"Boii\", \"\u8bf7\u8f93\u5165\u540d\u5b57\")\n\n    // TVar() \u7cfb\u5217\n    var sex string\n    flag.StringVar(&amp;sex, \"s\", \"\u7537\", \"\u8bf7\u8f93\u5165\u6027\u522b\")\n\n    flag.Parse()    // \u5f97\u8c03\u7528 Parse \u624d\u80fd\u89e3\u6790\u547d\u4ee4\u884c\u53c2\u6570\n\n    fmt.Println(\"name is\", *name)\n    fmt.Println(\"sex is\", sex)\n}\n</code></pre> <p>\u8fd0\u884c\uff1a</p> <pre><code>$ go build -o flag_args\n\n$ ./flag_args -n Eva -s=\u5973\n\nname is Eva\nsex is \u5973\n</code></pre>"},{"location":"Go/StdLib/2-flag-%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%A7%A3%E6%9E%90/#flagparse","title":"flag.Parse","text":"<p><code>T()</code> \u7cfb\u5217\u51fd\u6570 \u548c <code>TVar()</code> \u7cfb\u5217\u51fd\u6570\u7684\u4f5c\u7528\u7684\u5c06\u53c2\u6570\u548c\u53d8\u91cf\u7ed1\u5b9a\u8d77\u6765\uff08\u5373\u6ce8\u518c\uff09\uff0c\u901a\u8fc7\u53d8\u91cf\u53ef\u4ee5\u83b7\u53d6\u53c2\u6570\u7684\u503c\uff0c\u771f\u6b63\u7684\u89e3\u6790\u662f <code>Prase()</code> \u51fd\u6570\u3002</p> <p><code>flag.Parse()</code> \u4ece<code>os.Args[1:]</code>\u4e2d\u89e3\u6790\u6ce8\u518c\u7684flag\u3002\u5fc5\u987b\u5728\u6240\u6709flag\u90fd\u6ce8\u518c\u597d\u800c\u672a\u8bbf\u95ee\u5176\u503c\u65f6\u6267\u884c\u3002\u672a\u6ce8\u518c\u5374\u4f7f\u7528flag -help\u65f6\uff0c\u4f1a\u8fd4\u56deErrHelp\u3002</p>"},{"location":"Go/StdLib/2-flag-%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%A7%A3%E6%9E%90/#_1","title":"\u53c2\u6570\u5f62\u5f0f","text":"<p>\u901a\u8fc7 flag \u5305\u8fd9\u4e24\u4e2a\u7cfb\u5217\u63a5\u6536\u7684\u547d\u4ee4\u884c\u53c2\u6570\uff0c\u5728\u547d\u4ee4\u4e2d\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b4\u79cd\u65b9\u5f0f\uff1a</p> <ol> <li><code>-flag xxx</code></li> <li><code>-flag=xxx</code>\uff08\u7b49\u53f7\u4e24\u8fb9\u4e0d\u80fd\u6709\u7a7a\u683c\uff0c\u5e03\u5c14\u7c7b\u578b\u53c2\u6570\u5fc5\u987b\u7528\u7b49\u53f7\u7684\u65b9\u5f0f\uff09</li> <li><code>--flag xxx</code></li> <li><code>--flag=xxx</code>\uff08\u7b49\u53f7\u4e24\u8fb9\u4e0d\u80fd\u6709\u7a7a\u683c\uff0c\u5e03\u5c14\u7c7b\u578b\u53c2\u6570\u5fc5\u987b\u7528\u7b49\u53f7\u7684\u65b9\u5f0f\uff09</li> </ol> <pre><code>$ ./flag_args -n Eva --s \u5973\n\n$ ./flag_args -n=Eva --s=\u5973\n</code></pre>"},{"location":"Go/StdLib/2-flag-%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%A7%A3%E6%9E%90/#_2","title":"\u53c2\u6570\u503c","text":"<p>flag \u5305\u652f\u6301\u7684\u547d\u4ee4\u884c\u53c2\u6570\u7c7b\u578b\u6709 <code>bool\u3001int\u3001int64\u3001uint\u3001uint64\u3001float\u3001float64\u3001string\u3001time.duration</code>\uff0c\u5bf9\u5e94\u7684\u6709\u6548\u503c\u5982\u4e0b</p> flag \u6709\u6548\u503c bool 1,0,t,f,T,F,true,flast,TRUE,FALSE,True,False int\u3001int64\u3001uint\u3001uint64 0b1011\u30011234\u30010755\u30010x12H\u7b49\uff0c\u53ef\u4ee5\u662f\u8d1f\u6570 float\u3001float64 \u5408\u6cd5\u6d6e\u70b9\u6570 string \u5408\u6cd5\u5b57\u7b26\u4e32 time.duration \u5408\u6cd5\u65f6\u95f4\u6bb5\u5b57\u7b26\u4e32\uff1b\u5408\u6cd5\u5355\u4f4d\uff1ans\u3001us\u3001\u00b5s\u3001ms\u3001s\u3001m\u3001h\u3002eg\uff1a3h32m\u30014d"},{"location":"Go/StdLib/2-flag-%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%A7%A3%E6%9E%90/#_3","title":"\u5e2e\u52a9\u4fe1\u606f","text":"<p>\u901a\u8fc7 <code>-h\u3001--h</code> \u6216 <code>-help\u3001--help</code> \u53ef\u4ee5\u83b7\u5f97\u5e2e\u52a9\u4fe1\u606f\u3002</p> <pre><code>$ ./flag_args --help\n\nUsage of ./flag_args:\n  -n string\n        \u8bf7\u8f93\u5165\u540d\u5b57 (default \"Boii\")\n  -s string\n        \u8bf7\u8f93\u5165\u6027\u522b (default \"\u7537\")\n\n$ ./flag_args -h\n\nUsage of ./flag_args:\n  -n string\n        \u8bf7\u8f93\u5165\u540d\u5b57 (default \"Boii\")\n  -s string\n        \u8bf7\u8f93\u5165\u6027\u522b (default \"\u7537\")\n</code></pre>"},{"location":"Go/StdLib/2-flag-%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%A7%A3%E6%9E%90/#_4","title":"\u5176\u4ed6\u51fd\u6570","text":"<pre><code>// Args returns the non-flag command-line arguments. \nfunc flag.Args() []string {}    // (1)\n\n// NFlag returns the number of command-line flags that have been set.\nfunc NFlag() int {} //(2)\n\n// NArg is the number of arguments remaining after flags have been processed.\nfunc flag.NArg() int {} //(3)\n</code></pre> <ol> <li>\u8fd4\u56de\u4e0d\u662f\u4f7f\u7528 flag \u7684\u53c2\u6570\u5207\u7247</li> <li>\u8fd4\u56de\u4f7f\u7528 flag \u7684\u53c2\u6570\u7684\u6570\u91cf</li> <li>\u8fd4\u56de\u4f7f\u7528 flag \u53c2\u6570\u5916\u5269\u4e0b\u53c2\u6570\u7684\u6570\u91cf\uff0c\u5373 NArg = \u53c2\u6570\u603b\u6570 - NFlag</li> </ol> <p>Example</p> <pre><code>// ./flag_args nn ss na nf nc\n// ./flag_args -n nn ss na nf nc\n// ./flag_args -n nn -s=ss na nf nc\nfmt.Println(flag.Arg(0))  // nn                 ss              na\nfmt.Println(flag.Args())  // [nn ss na nf nc]  [ss na nf nc]   [na nf]  \u8fd4\u56de\u547d\u4ee4\u884c\u53c2\u6570\u540e\u7684\u5176\u4ed6\u53c2\u6570\nfmt.Println(flag.NArg())  // 5                  4               3       \u8fd4\u56de\u547d\u4ee4\u884c\u53c2\u6570\u540e\u7684\u5176\u4ed6\u53c2\u6570\u4e2a\u6570\nfmt.Println(flag.NFlag()) // 0                  1               2       \u8fd4\u56de\u4f7f\u7528\u7684\u547d\u4ee4\u884c\u53c2\u6570\u4e2a\u6570\n</code></pre>"},{"location":"Go/StdLib/2-flag-%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%A7%A3%E6%9E%90/#_5","title":"\u5176\u4ed6\u547d\u4ee4\u89e3\u6790\u5e93","text":"<p><code>flag</code> \u662f\u5b98\u65b9\u7684\u5e93\uff0c\u51fa\u81eaGoogle\uff0c\u4f46\u662f\u5e76\u4e0d\u662f\u6700\u597d\u7684\uff0c\u6709\u4e9b\u5c40\u9650\u6027\uff0c\u800c\u540c\u95e8\u5e08\u5f1f <code>pflag</code> \u5374\u505a\u7684\u66f4\u597d\uff0c\u4e14\u517c\u5bb9 <code>flag</code>\uff0c\u4e5f\u88ab\u5e94\u7528\u7684\u66f4\u52a0\u5e7f\u6cdb\u3002</p> <p>\u7b2c\u4e09\u65b9\u5e93\u7684 <code>spf13/cobra</code> \u4e5f\u662f\u4e0d\u9519\u7684\u89e3\u6790\u5e93\uff0cDocker\u3001Kubernetes\u3001Hugo\u3001Etcd \u7b49\u7a0b\u5e8f\u90fd\u7528 cobra \u6784\u5efa\u547d\u4ee4\u3002</p>"},{"location":"Go/StdLib/3-log-%E6%97%A5%E5%BF%97%E6%9C%8D%E5%8A%A1/","title":"3-log","text":""},{"location":"Go/StdLib/3-log-%E6%97%A5%E5%BF%97%E6%9C%8D%E5%8A%A1/#3-log","title":"3-log","text":"<p>Golang \u5185\u7f6e\u7684 <code>log</code> \u5305\u5b9e\u73b0\u4e86\u7b80\u5355\u7684\u65e5\u5fd7\u670d\u52a1\u3002</p>"},{"location":"Go/StdLib/3-log-%E6%97%A5%E5%BF%97%E6%9C%8D%E5%8A%A1/#_1","title":"\u5bfc\u5305","text":"<pre><code>import \"log\"\n</code></pre>"},{"location":"Go/StdLib/3-log-%E6%97%A5%E5%BF%97%E6%9C%8D%E5%8A%A1/#logger","title":"\u914d\u7f6e logger","text":""},{"location":"Go/StdLib/3-log-%E6%97%A5%E5%BF%97%E6%9C%8D%E5%8A%A1/#flag","title":"\u914d\u7f6e Flag \u9009\u9879","text":"<p>logger \u9ed8\u8ba4\u53ea\u4f1a\u63d0\u4f9b\u65e5\u5fd7\u7684\u65f6\u95f4\u4fe1\u606f\uff0c\u5982\u679c\u9700\u8981\u66f4\u591a\u7684\u4fe1\u606f\uff0c\u5982\u8bb0\u5f55\u884c\u53f7\u3001\u6587\u4ef6\u540d\u7b49\u7b49\uff0c\u53ef\u4ee5\u624b\u52a8\u8bbe\u7f6e\u3002</p> <p></p><pre><code>func Flags() int\nfunc SetFlags(flag int)\n</code></pre> <code>Flags</code> \u51fd\u6570\u4f1a\u8fd4\u56de\u6807\u51c6 logger \u7684\u8f93\u51fa\u914d\u7f6e\uff1b <code>SetFlags</code> \u51fd\u6570\u7528\u6765\u8bbe\u7f6e logger \u7684\u8f93\u51fa\u914d\u7f6e\u3002<p></p> <p>Flag \u9009\u9879</p> <pre><code>const (\n    Ldate         = 1 &lt;&lt; iota     // \u65e5\u671f: 2009/01/23\n    Ltime                         // \u65f6\u95f4: 01:23:23\n    Lmicroseconds                 // \u5fae\u79d2\u7ea7\u65f6\u95f4: 01:23:23.123123.  \u7528\u4e8e\u589e\u5f3a Ltime \u4f4d\n    Llongfile                     // \u5b8c\u6574 \u6587\u4ef6\u540d+\u884c\u53f7: /a/b/c/d.go:23\n    Lshortfile                    // \u6587\u4ef6\u540d+\u884c\u53f7: d.go:23. \u4f1a\u8986\u76d6\u6389 Llongfile\n    LUTC                          // \u4f7f\u7528 UTC\u65f6\u95f4\n    Lmsgprefix                    // \u5c06\u524d\u7f00\u4ece\u884c\u7684\u5f00\u5934\u79fb\u81f3\u6d88\u606f\u7684\u5f00\u5934\n    LstdFlags     = Ldate | Ltime // \u6807\u51c6 logger \u7684\u521d\u59cb\u503c\n)\n</code></pre> <p>\u9ed8\u8ba4\u914d\u7f6e\uff1a </p><pre><code>log.Println(\"This is a message.\")\n\n// Output: \n2021/03/01 07:59:36 This is a message.\n</code></pre><p></p> <p>\u914d\u7f6e\u540e\uff1a </p><pre><code>log.SetFlags(log.Lshortfile | log.Lmsgprefix | log.Ltime | log.Ldate)\nlog.Println(\"This is a message.\")\n\n// Output: \n2021/03/01 08:42:49 main.go:17: This is a message.\n</code></pre><p></p> <p>Tip</p> <p>SetFlags \u53ea\u63a7\u5236\u8f93\u51fa\u7684\u4fe1\u606f\uff0c\u4e0d\u63a7\u5236\u8f93\u51fa\u7684\u987a\u5e8f\u548c\u683c\u5f0f\u3002</p>"},{"location":"Go/StdLib/3-log-%E6%97%A5%E5%BF%97%E6%9C%8D%E5%8A%A1/#_2","title":"\u914d\u7f6e\u65e5\u5fd7\u524d\u7f00","text":"<p><code>log</code> \u5e93\u8fd8\u63d0\u4f9b\u4e86\u65e5\u5fd7\u524d\u7f00\u76f8\u5173\u7684\u4e24\u4e2a\u65b9\u6cd5\u3002</p> <p></p><pre><code>func Prefix() string\nfunc SetPrefix(prefix string)\n</code></pre> <code>Prefix</code> \u51fd\u6570\u8fd4\u56de\u524d\u7f00\uff0c\u6ca1\u6709\u8bbe\u7f6e\u524d\u7f00\u65f6\u4f1a\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32 <code>SetPrefix</code>\u51fd\u6570\u7528\u4e8e\u8bbe\u7f6e\u8f93\u51fa\u524d\u7f00\u3002<p></p> <p>Example</p> <pre><code>log.SetPrefix(\"[Boii] \")\n\nlog.SetFlags(log.Lshortfile | log.Lmsgprefix | log.Ltime | log.Ldate)\nlog.Println(\"This is a message.\") \n// Output:\n// 2021/03/01 08:54:23 main.go:20: [Boii] This is a message.\n\nlog.SetFlags(log.Lshortfile | log.Ltime | log.Ldate)\nlog.Println(\"This is a message.\") \n// Output:\n// [Boii] 2021/03/01 08:54:23 main.go:22: This is a message.\n</code></pre>"},{"location":"Go/StdLib/3-log-%E6%97%A5%E5%BF%97%E6%9C%8D%E5%8A%A1/#_3","title":"\u914d\u7f6e\u65e5\u5fd7\u8f93\u51fa\u4f4d\u7f6e","text":"<p>\u65e5\u5fd7\u9ed8\u8ba4\u662f\u8f93\u51fa\u5230\u63a7\u5236\u53f0\uff0c\u901a\u8fc7 <code>SetOutput</code> \u51fd\u6570\u53ef\u4ee5\u8bbe\u7f6e\u6807\u51c6 logger \u7684\u8f93\u51fa\u76ee\u7684\u5730\uff0c\u6bd4\u5982\u8bbe\u7f6e\u8f93\u51fa\u5230\u65e5\u5fd7\u6587\u4ef6\u4e2d\u3002</p> <p></p><pre><code>func SetOutput(w io.Writer)\n</code></pre> <code>SetOutput</code> \u51fd\u6570\u63a5\u53d7\u4e00\u4e2a Writer\u5bf9\u8c61\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u6253\u5f00\u6587\u4ef6\u5f97\u5230\u8fd9\u4e2a Writer \u5bf9\u8c61\u3002<p></p> <pre><code>logF, err := os.OpenFile(\"./run.log\", os.O_CREATE | os.O_WRONLY | os.O_APPEND, 0644)\nif err != nil {\n    fmt.Println(\"Open Log file failed, Err: \", err)\n    return\n}\n\nlog.SetOutput(logF)\n</code></pre>"},{"location":"Go/StdLib/3-log-%E6%97%A5%E5%BF%97%E6%9C%8D%E5%8A%A1/#init","title":"\u914d\u7f6e\u5728 init()","text":"<p>\u901a\u5e38\u505a\u6cd5\u4f1a\u628a\u65e5\u5fd7\u7684\u914d\u7f6e\u4fe1\u606f\u653e\u5728 <code>init()</code> \u51fd\u6570\u4e2d\uff0c\u8fd9\u6837\u53ef\u4ee5\u5728\u7a0b\u5e8f\u8fd0\u884c\u4e4b\u524d\u5c31\u5df2\u7ecf\u914d\u7f6e\u597d\u3002</p> <pre><code>func init() {\n    logFile, err := os.OpenFile(\"./run.log\", os.O_CREATE|os.O_WRONLY|os.O_APPEND, 0644)\n    if err != nil {\n        fmt.Println(\"Open log file failed, Err:\", err)\n        return\n    }\n\n    log.SetFlags(log.Lshortfile | log.Lmsgprefix | log.Ltime | log.Ldate)\n    log.SetPrefix(\"[Boii] \")\n    log.SetOutput(logFile)\n    log.Println(\"Log configured Successfully.\")\n}\n</code></pre>"},{"location":"Go/StdLib/3-log-%E6%97%A5%E5%BF%97%E6%9C%8D%E5%8A%A1/#logger_1","title":"\u521b\u5efa logger","text":"<p>\u4f60\u53ef\u4ee5\u901a\u8fc7 <code>New()</code> \u6784\u9020\u51fd\u6570\u521b\u5efa\u4e00\u4e2a logger \u5bf9\u8c61\u3002</p> <p></p><pre><code>func New(out io.Writer, prefix string, flag int) *Logger\n</code></pre> <code>New</code>\u6784\u9020\u51fd\u6570\u9700\u8981\u4e09\u4e2a\u53c2\u6570\uff1a\u8f93\u51fa\u4f4d\u7f6e\u3001\u524d\u7f00\u3001Flag\u3002<p></p> <p>Example</p> <pre><code>logger := log.New(os.Stdout, \"[Boii] \", log.Lshortfile | log.Lmsgprefix | log.Ltime | log.Ldate)\nlogger.Println(\"logger Println.\")\n\n// Output: \n2021/03/01 09:54:13 main.go:34: [Boii] logger Println.\n</code></pre>"},{"location":"Go/StdLib/3-log-%E6%97%A5%E5%BF%97%E6%9C%8D%E5%8A%A1/#logger_2","title":"\u4f7f\u7528 logger","text":"<p>\u4f7f\u7528\u65e5\u5fd7\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528 <code>log</code> \u5e93\u7684\u9759\u6001\u51fd\u6570\uff0c\u6216\u8005\u521b\u5efa <code>logger</code> \u5bf9\u8c61\uff0c\u901a\u8fc7\u5bf9\u8c61\u53bb\u8c03\u7528\u5404\u79cd\u65b9\u6cd5\u3002\u8f93\u51fa\u65e5\u5fd7\u6709 <code>Print \u7cfb\u5217</code>\u3001<code>Fatal\u7cfb\u5217</code>\u3001<code>Panic\u7cfb\u5217</code>\u3002</p> <ul> <li>Print \u7cfb\u5217\uff1a\u8f93\u51fa\u65e5\u5fd7\u540e\u7ee7\u7eed\u6267\u884c<ul> <li>log.Print</li> <li>log.Printf</li> <li>log.Println</li> <li>logger.Print</li> <li>logger.Printf</li> <li>logger.Println</li> </ul> </li> <li>Fatal \u7cfb\u5217\uff1a\u8f93\u51fa\u65e5\u5fd7\u540e\u8c03\u7528 <code>os.Exit(1)</code><ul> <li>log.Fatal</li> <li>log.Fatalf</li> <li>log.Fatalln</li> <li>logger.Fatal</li> <li>logger.Fatalf</li> <li>logger.Fatalln</li> </ul> </li> <li>Panic \u7cfb\u5217\uff1a\u8f93\u51fa\u65e5\u5fd7\u540e\u5f15\u53d1 <code>panic</code><ul> <li>log.Panic</li> <li>log.Panicf</li> <li>log.Panicln</li> <li>logger.Panic</li> <li>logger.Panicf</li> <li>logger.Panicln</li> </ul> </li> </ul> <pre><code>func main() {\n    log.SetFlags(log.Lshortfile | log.Lmsgprefix | log.Ltime | log.Ldate)\n    log.SetPrefix(\"[Boii] \")\n\n    log.Print(\"log print\")\n    log.Printf(\"log %s\", \"printf\")\n    log.Println(\"log println\")\n    // 2021/03/01 10:06:12 main.go:23: [Boii] log print\n    // 2021/03/01 10:06:12 main.go:24: [Boii] log printf\n    // 2021/03/01 10:06:12 main.go:25: [Boii] log println\n\n    log.Fatal(\"log Fatal, like Print\")\n    // 2021/03/01 10:06:12 main.go:27: [Boii] log Fatal, like Print\n    // exit status 1\n    log.Fatalf(\"log %s, like %s\", \"Fatalf\", \"Printf\")\n    log.Fatalln(\"log Fatalln, like Println\")\n\n    log.Panic(\"log Panic will panic after write down log.\\n Also has Panicf / Panicln.\")\n    // 2021/03/01 10:07:06 main.go:36: [Boii] log Panic will panic after write down log.\n    //  Also has Panicf / Panicln.\n    // panic: log Panic will panic after write down log.\n    //  Also has Panicf / Panicln.\n\n    // goroutine 1 [running]:\n    // log.Panic(0xc00008df68, 0x1, 0x1)\n    //         /usr/local/go/src/log/log.go:354 +0xae\n    // main.main()\n    //         /home/boii/---FILE---/---CODE/GoProject/pkg/log_pkg/main.go:36 +0x13a\n    // exit status 2\n}\n</code></pre>"},{"location":"Go/StdLib/3-log-%E6%97%A5%E5%BF%97%E6%9C%8D%E5%8A%A1/#_4","title":"\u603b\u7ed3","text":"<p>Go\u5185\u7f6e\u7684log\u5e93\u529f\u80fd\u6709\u9650\uff0c\u4f8b\u5982\u65e0\u6cd5\u6ee1\u8db3\u8bb0\u5f55\u4e0d\u540c\u7ea7\u522b\u65e5\u5fd7\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u5728\u5b9e\u9645\u7684\u9879\u76ee\u4e2d\u6839\u636e\u81ea\u5df1\u7684\u9700\u8981\u9009\u62e9\u4f7f\u7528\u7b2c\u4e09\u65b9\u7684\u65e5\u5fd7\u5e93\uff0c\u5982logrus\u3001zap\u7b49\u3002</p>"},{"location":"Go/StdLib/4-fmt-%E6%A0%BC%E5%BC%8F%E5%8C%96/","title":"4-fmt","text":""},{"location":"Go/StdLib/4-fmt-%E6%A0%BC%E5%BC%8F%E5%8C%96/#4-fmt","title":"4-fmt","text":"<p>fmt \u5e94\u8be5\u662f\u521d\u5b66\u8005\u63a5\u89e6\u7684\u7b2c\u4e00\u4e2a\u5305\u4e86\uff0c\u7b2c\u4e00\u4e2a Golang \u7a0b\u5e8f Hello World \u4e5f\u9700\u8981\u501f\u52a9 fmt \u5305\u624d\u80fd\u6253\u5370\u51fa\u6765\u3002</p>"},{"location":"Go/StdLib/4-fmt-%E6%A0%BC%E5%BC%8F%E5%8C%96/#_1","title":"\u5bfc\u5305","text":"<pre><code>import \"fmt\"\n</code></pre>"},{"location":"Go/StdLib/4-fmt-%E6%A0%BC%E5%BC%8F%E5%8C%96/#_2","title":"\u5411\u5916\u8f93\u51fa","text":""},{"location":"Go/StdLib/4-fmt-%E6%A0%BC%E5%BC%8F%E5%8C%96/#print","title":"Print \u7cfb\u5217","text":"<p>Print\u7cfb\u5217\u51fd\u6570\u5305\u62ec <code>fmt.Print()</code>\u3001<code>fmt.Printf()</code>\u3001<code>fmt.Println()</code></p> <ul> <li><code>Print()</code> \u51fd\u6570\u76f4\u63a5\u8f93\u51fa\u5185\u5bb9</li> <li><code>Printf()</code> \u51fd\u6570\u652f\u6301\u683c\u5f0f\u5316\u8f93\u51fa\u5b57\u7b26\u4e32</li> <li><code>Println()</code> \u76f4\u63a5\u8f93\u51fa\u5185\u5bb9\u5e76\u4f1a\u6362\u884c\uff0c\u7b49\u4ef7 <code>Print(\"...\\n\")</code></li> </ul> <p>\u5b83\u4eec\u7684\u51fd\u6570\u7b7e\u540d\u5982\u4e0b\uff1a</p> <pre><code>func Print(a ...interface{}) (n int, err error)\nfunc Printf(format string, a ...interface{}) (n int, err error)\nfunc Println(a ...interface{}) (n int, err error)\n</code></pre> <p>Example</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    name := \"Boii\"\n    fmt.Print(\"Hello Boii.\")            // Hello Boii.\n    fmt.Printf(\"Hello %s.\\n\", name)     // Hello Boii.\n    fmt.Println(\"Hello \" + name + \".\")  // Hello Boii.\n}\n</code></pre>"},{"location":"Go/StdLib/4-fmt-%E6%A0%BC%E5%BC%8F%E5%8C%96/#fprint","title":"Fprint \u7cfb\u5217","text":"<p>Fprint \u7cfb\u5217\u51fd\u6570\u4f1a\u5c06\u5185\u5bb9\u8f93\u51fa\u5230\u4e00\u4e2a <code>io.Writer</code> \u63a5\u53e3\u7c7b\u578b\u53d8\u91cf\u4e2d\uff0c\u901a\u5e38\u7528\u8fd9\u4e2a\u51fd\u6570\u5f80\u6587\u4ef6\u4e2d\u5199\u5165\u5185\u5bb9\u3002</p> <p>\u8fd9\u4e2a\u7cfb\u5217\u4e5f\u5305\u542b\u4e09\u4e2a\u51fd\u6570\uff1a</p> <ul> <li><code>Fprint()</code> \u51fd\u6570\u76f4\u63a5\u8f93\u51fa\u5185\u5bb9</li> <li><code>Fprintf()</code> \u51fd\u6570\u652f\u6301\u683c\u5f0f\u5316\u8f93\u51fa\u5b57\u7b26\u4e32</li> <li><code>Fprintln()</code> \u76f4\u63a5\u8f93\u51fa\u5185\u5bb9\u5e76\u4f1a\u6362\u884c\uff0c\u7b49\u4ef7 <code>Fprint(\"...\\n\")</code></li> </ul> <p>\u5b83\u4eec\u7684\u51fd\u6570\u7b7e\u540d\u5982\u4e0b\uff1a</p> <pre><code>func Fprint(w io.Writer, a ...interface{}) (n int, err error)\nfunc Fprintf(w io.Writer, format string, a ...interface{}) (n int, err error)\nfunc Fprintln(w io.Writer, a ...interface{}) (n int, err error)\n</code></pre> <p>Example</p> <pre><code>import (\n    \"fmt\"\n    \"os\"\n)\n\nfunc main() {\n    // \u6253\u5f00\u6587\u4ef6\n    f, _ := os.OpenFile(\"./test.txt\", os.O_CREATE | os.O_WRONLY | os.O_APPEND, 0644)\n    name := \"Boii\"\n    // \u5411\u6587\u4ef6\u5199\u5165\u5185\u5bb9\n    fmt.Fprint(f, \"Hello Boii.\")\n    fmt.Fprintf(f, \"Hello %s.\", boii)\n    fmt.Fprintln(f, \"Hello \" + name + \".\")\n\n    // \u5411\u6807\u51c6\u8f93\u51fa\u5199\u5165\u5185\u5bb9\n    fmt.Fprinln(os.Stdout, \"Stdout print: Hello Boii.\")\n}\n</code></pre>"},{"location":"Go/StdLib/4-fmt-%E6%A0%BC%E5%BC%8F%E5%8C%96/#sprint","title":"Sprint \u7cfb\u5217","text":"<p>Sprint \u7cfb\u5217\u51fd\u6570\u4f1a\u5c06\u4f20\u5165\u7684\u6570\u636e\u751f\u6210\u540e\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32</p> <p>\u5b83\u4eec\u540c\u6837\u6709\u4e09\u4e2a\u51fd\u6570\uff1a</p> <ul> <li><code>Sprint()</code> \u51fd\u6570\u76f4\u63a5\u8f93\u51fa\u5185\u5bb9</li> <li><code>Sprintf()</code> \u51fd\u6570\u652f\u6301\u683c\u5f0f\u5316\u8f93\u51fa\u5b57\u7b26\u4e32</li> <li><code>Sprintln()</code> \u76f4\u63a5\u8f93\u51fa\u5185\u5bb9\u5e76\u4f1a\u6362\u884c\uff0c\u7b49\u4ef7 <code>Sprint(\"...\\n\")</code></li> </ul> <p>\u5b83\u4eec\u7684\u51fd\u6570\u7b7e\u540d\u5982\u4e0b\uff1a</p> <pre><code>func Sprint(a ...interface{}) string\nfunc Sprintf(format string, a ...interface{}) string\nfunc Sprintln(a ...interface{}) string\n</code></pre> <p>Example</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    name := \"Boii\"\n    s1 := fmt.Sprint(\"Hello Boii.\")\n    s2 := fmt.Sprintf(\"Hello %s.\", name)\n    s3 := fmt.Sprintln(\"Hello \" + name + \".\")\n    fmt.Println(s1, s2, s3) // Hello Boii.Hello Boii.Hello Boii.\n}\n</code></pre>"},{"location":"Go/StdLib/4-fmt-%E6%A0%BC%E5%BC%8F%E5%8C%96/#errorf","title":"Errorf","text":"<p>Errorf \u51fd\u6570\u6839\u636e format \u53c2\u6570\u751f\u6210\u683c\u5f0f\u5316\u5b57\u7b26\u4e32\u5e76\u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u8be5\u5b57\u7b26\u4e32\u7684\u9519\u8bef\u3002</p> <p>\u8be5\u51fd\u6570\u7684\u7b7e\u540d\u5982\u4e0b\uff1a</p> <pre><code>func Errorf(format string, a ...interface{}) error\n</code></pre> <p>Example</p> <pre><code>err := fmt.Errorf(\"\u8fd9\u662f\u9519\u8bef\u4fe1\u606f\u3002\")\n</code></pre>"},{"location":"Go/StdLib/4-fmt-%E6%A0%BC%E5%BC%8F%E5%8C%96/#_3","title":"\u63a5\u6536\u8f93\u5165","text":""},{"location":"Go/StdLib/4-fmt-%E6%A0%BC%E5%BC%8F%E5%8C%96/#scan","title":"Scan \u7cfb\u5217","text":"<p>Scan \u7cfb\u5217\u53ef\u4ee5\u5728\u7a0b\u5e8f\u8fd0\u884c\u8fc7\u7a0b\u4e2d\uff0c\u4ece Stdin \u6807\u51c6\u8f93\u5165\u4e2d\u83b7\u53d6\u7528\u6237\u7684\u8f93\u5165\u3002\u8be5\u7cfb\u5217\u51fd\u6570\u8fd4\u56de\u6210\u529f\u626b\u63cf\u7684\u6570\u636e\u4e2a\u6570\u548c\u9047\u5230\u7684\u4efb\u4f55\u9519\u8bef\u3002\u5982\u679c\u8bfb\u53d6\u7684\u6570\u636e\u4e2a\u6570\u6bd4\u63d0\u4f9b\u7684\u53c2\u6570\u5c11\uff0c\u4f1a\u8fd4\u56de\u4e00\u4e2a\u9519\u8bef\u62a5\u544a\u539f\u56e0\u3002</p> <p>Scan \u7cfb\u5217\u6709\u4e09\u4e2a\u51fd\u6570\uff1a</p> <ul> <li><code>Scan()</code> \u8bfb\u53d6\u7531\u7a7a\u767d\u7b26\u5206\u9694\u7684\u503c\u4fdd\u5b58\u5230\u4f20\u9012\u7ed9\u672c\u51fd\u6570\u7684\u53c2\u6570\u4e2d\uff0c\u6362\u884c\u7b26\u89c6\u4e3a\u7a7a\u767d\u7b26\u3002</li> <li><code>Scanf()</code> \u6839\u636eformat\u53c2\u6570\u6307\u5b9a\u7684\u683c\u5f0f\u53bb\u8bfb\u53d6\u7531\u7a7a\u767d\u7b26\u5206\u9694\u7684\u503c\u4fdd\u5b58\u5230\u4f20\u9012\u7ed9\u672c\u51fd\u6570\u7684\u53c2\u6570\u4e2d\u3002</li> <li><code>Scanln()</code> \u7c7b\u4f3cScan\uff0c\u5b83\u5728\u9047\u5230\u6362\u884c\u65f6\u624d\u505c\u6b62\u626b\u63cf\u3002\u6700\u540e\u4e00\u4e2a\u6570\u636e\u540e\u9762\u5fc5\u987b\u6709\u6362\u884c\u6216\u8005\u5230\u8fbe\u7ed3\u675f\u4f4d\u7f6e\u3002</li> </ul> <p>\u5b83\u4eec\u7684\u51fd\u6570\u7b7e\u540d\u5982\u4e0b\uff1a</p> <pre><code>func Scan(a ...interface{}) (n int, err error)\nfunc Scanf(format string, a ...interface{}) (n int, err error)\nfunc Scanln(a ...interface{}) (n int, err error)\n</code></pre> <p>Scan</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    var name string\n    var age  int\n\n    fmt.Scan(&amp;name, &amp;age)\n    fmt.Printf(\"\u8f93\u5165\u5185\u5bb9 name\uff1a %s\uff0c age\uff1a %d\\n\", name, age)\n}\n</code></pre> <p>\u8f93\u5165\u65f6\uff0c\u901a\u8fc7\u7a7a\u683c\u5206\u9694\u3002</p> <pre><code>$ ./demo\nBoii 18\n\u8f93\u5165\u5185\u5bb9 name\uff1a Boii\uff0c age\uff1a 18\n</code></pre> <p>Scanf</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    var name string\n    var age  int\n\n    fmt.Scanf(\"1: %s; 2: %d\", &amp;name, &amp;age)\n    fmt.Printf(\"\u8f93\u5165\u5185\u5bb9 name\uff1a %s\uff0c age\uff1a %d\\n\", name, age)\n}\n</code></pre> <p>\u8f93\u5165\u65f6\uff0c\u9700\u8981\u6309\u7167\u65e2\u5b9a\u683c\u5f0f\u8f93\u5165\u3002</p> <pre><code>$ ./demo\n1: Boii; 2: 18\n\u8f93\u5165\u5185\u5bb9 name\uff1a Boii\uff0c age\uff1a 18\n</code></pre> <p>Scanln</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    var name string\n    var age  int\n\n    fmt.Scanln(&amp;name, &amp;age)\n    fmt.Printf(\"\u8f93\u5165\u5185\u5bb9 name\uff1a %s\uff0c age\uff1a %d\\n\", name, age)\n}\n</code></pre> <p>\u8f93\u5165\u65f6\uff0c\u901a\u8fc7\u7a7a\u683c\u5206\u9694\uff0c\u9047\u5230\u56de\u8f66\u7ed3\u675f\u626b\u63cf\u3002</p> <pre><code>$ ./demo\nBoii 18\n\u8f93\u5165\u5185\u5bb9 name\uff1a Boii\uff0c age\uff1a 18\n</code></pre>"},{"location":"Go/StdLib/4-fmt-%E6%A0%BC%E5%BC%8F%E5%8C%96/#fscan","title":"Fscan \u7cfb\u5217","text":"<p>Fscan \u7cfb\u5217\u7c7b\u4f3c\u4e8e Fprint \u7cfb\u5217\uff0c\u53ea\u4e0d\u8fc7\u5b83\u4eec\u4e0d\u662f\u4ece\u6807\u51c6\u8f93\u5165\u4e2d\u8bfb\u53d6\u6570\u636e\uff0c\u800c\u662f\u4ece <code>io.Reader</code> \u4e2d\u8bfb\u53d6\u6570\u636e\u3002</p> <p>\u5b83\u4eec\u7684\u51fd\u6570\u7b7e\u540d\u5982\u4e0b\uff1a</p> <pre><code>func Fscan(r io.Reader, a ...interface{}) (n int, err error)\nfunc Fscanln(r io.Reader, a ...interface{}) (n int, err error)\nfunc Fscanf(r io.Reader, format string, a ...interface{}) (n int, err error)\n</code></pre> <p>Example</p> <pre><code>import (\n    \"fmt\"\n    \"os\"\n    \"strings\"\n)\n\n// Calling main\nfunc main() {\n\n    // Declaring some type of variables\n    var (\n        i int\n        b bool\n        s string\n        f float32\n    )\n\n    // Calling the NewReader() function to\n    // specify some type of texts.\n    // variable \"r\" contains the scanned texts\n    r := strings.NewReader(\"46 true 3.4 GeeksforGeeks\")\n\n    // Calling the Fscan() function to receive \n    // the scanned texts\n    n, err := fmt.Fscan(r, &amp;i, &amp;b, &amp;f, &amp;s)\n\n    // If the above function returns an error then\n    // below statement will be executed\n    if err != nil {\n        fmt.Fprintf(os.Stderr, \"Fscanf: %v\\n\", err)\n    }\n\n    // Printing each type of scanned texts\n    fmt.Println(i, b, f, s)\n\n    // It returns the number of items \n    // successfully scanned\n    fmt.Println(n)\n}\n</code></pre> <p>\u8f93\u51fa\uff1a</p> <pre><code>$ ./demo\n46 true 3.4 GeeksforGeeks\n4\n</code></pre>"},{"location":"Go/StdLib/4-fmt-%E6%A0%BC%E5%BC%8F%E5%8C%96/#sscan","title":"Sscan \u7cfb\u5217","text":"<p>Sscan \u7cfb\u5217\u7c7b\u4f3c\u4e8e Sprint \u7cfb\u5217\uff0c\u53ea\u4e0d\u8fc7\u5b83\u4eec\u4e0d\u662f\u4ece\u6807\u51c6\u8f93\u5165\u4e2d\u8bfb\u53d6\u6570\u636e\uff0c\u800c\u662f\u4ece\u6307\u5b9a\u5b57\u7b26\u4e32\u4e2d\u8bfb\u53d6\u6570\u636e\u3002</p> <pre><code>func Sscan(str string, a ...interface{}) (n int, err error)\nfunc Sscanln(str string, a ...interface{}) (n int, err error)\nfunc Sscanf(str string, format string, a ...interface{}) (n int, err error)\n</code></pre> <p>Example</p> <pre><code>// Importing fmt\nimport (\n    \"fmt\"\n)\n\n// Calling main\nfunc main() {\n\n    // Declaring two variables\n    var name string\n    var alphabet_count int\n\n    // Calling the Sscan() function which\n    // returns the number of elements\n    // successfully scanned and error if\n    // it persists\n    n, _ := fmt.Sscan(\"GFG 3\", &amp;name, &amp;alphabet_count)\n\n    // Printing the number of elements and each elements also\n    fmt.Printf(\"%d: %s, %d\\n\", n, name, alphabet_count)\n}\n</code></pre> <p>\u8f93\u51fa\uff1a</p> <pre><code>$ ./demo\n2: GFG, 3\n</code></pre>"},{"location":"Go/StdLib/4-fmt-%E6%A0%BC%E5%BC%8F%E5%8C%96/#_4","title":"\u683c\u5f0f\u5316\u5360\u4f4d\u7b26","text":"<p>printf \u7cfb\u5217\u51fd\u6570\u90fd\u652f\u6301 format \u683c\u5f0f\u5316\u53c2\u6570\uff0c\u4f46\u662f\u5360\u4f4d\u7b26\u975e\u5e38\u591a\u79cd\uff0c\u6211\u8fd9\u91cc\u53c2\u7167 \u674e\u6587\u5468\u535a\u5ba2 \u7ed9\u51fa\u7684\u65b9\u5f0f\u5206\u7c7b\u3002</p>"},{"location":"Go/StdLib/4-fmt-%E6%A0%BC%E5%BC%8F%E5%8C%96/#_5","title":"\u901a\u7528\u5360\u4f4d\u7b26","text":"\u5360\u4f4d\u7b26 \u8bf4\u660e %v \u503c\u7684\u9ed8\u8ba4\u683c\u5f0f\u8868\u793a %+v \u7c7b\u4f3c%v\uff0c\u4f46\u8f93\u51fa\u7ed3\u6784\u4f53\u65f6\u4f1a\u6dfb\u52a0\u5b57\u6bb5\u540d %#v \u503c\u7684Go\u8bed\u6cd5\u8868\u793a %T \u6253\u5370\u503c\u7684\u7c7b\u578b %% \u6253\u5370\u767e\u5206\u53f7 <p>Example</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    type Person struct{ name string }\n    s := Person{\"Boii\"}\n    fmt.Printf(\"%v \\n\", s)  // \u9ed8\u8ba4\u683c\u5f0f\uff1a {Boii}\n    fmt.Printf(\"%+v \\n\", s) // \u6dfb\u52a0\u5b57\u6bb5\u540d\uff1a {name:Boii}\n    fmt.Printf(\"%#v \\n\", s) // Go\u683c\u5f0f\uff1a main.Person{name:\"Boii\"}\n    fmt.Printf(\"%T \\n\", s)  // \u7c7b\u578b\uff1a main.Person\n    fmt.Printf(\"%% \\n\")     // \u767e\u5206\u53f7\uff1a %\n}\n</code></pre>"},{"location":"Go/StdLib/4-fmt-%E6%A0%BC%E5%BC%8F%E5%8C%96/#_6","title":"\u5e03\u5c14\u578b","text":"\u5360\u4f4d\u7b26 \u8bf4\u660e %t \u6253\u5370 true \u6216 false"},{"location":"Go/StdLib/4-fmt-%E6%A0%BC%E5%BC%8F%E5%8C%96/#_7","title":"\u6574\u578b","text":"\u5360\u4f4d\u7b26 \u8bf4\u660e %b \u6253\u5370\u503c\u7684\u4e8c\u8fdb\u5236\u5f62\u5f0f %o \u6253\u5370\u503c\u7684\u516b\u8fdb\u5236\u5f62\u5f0f %d \u6253\u5370\u503c\u7684\u5341\u8fdb\u5236\u5f62\u5f0f %x \u6253\u5370\u503c\u7684\u5341\u516d\u8fdb\u5236\u5f62\u5f0f\uff0c\u4f7f\u7528 a-f %X \u6253\u5370\u503c\u7684\u5341\u516d\u8fdb\u5236\u5f62\u5f0f\uff0c\u4f7f\u7528A-F %c \u6253\u5370\u503c\u7684unicode\u7801\u503c %U \u6253\u5370\u503c\u7684Unicode\u683c\u5f0f %q \u6253\u5370\u503c\u7684\u5bf9\u5e94\u5b57\u9762\u503c\uff0c\u7528\u5355\u62ec\u53f7\u56e0\u8d77\u6765\uff0c\u5fc5\u8981\u65f6\u4f1a\u91c7\u7528\u5b89\u5168\u7684\u8f6c\u4e49\u8868\u793a <p>Example</p> <pre><code>import (\n    \"fmt\"\n)\n\nfunc main() {\n    n := 75\n    fmt.Printf(\"%b \\n\", n) // 1001011\n    fmt.Printf(\"%o \\n\", n) // 113\n    fmt.Printf(\"%d \\n\", n) // 75\n    fmt.Printf(\"%x \\n\", n) // 4b\n    fmt.Printf(\"%X \\n\", n) // 4B\n    fmt.Printf(\"%c \\n\", n) // K\n    fmt.Printf(\"%U \\n\", n) // U+004B\n    fmt.Printf(\"%q \\n\", n) // 'k'\n}\n</code></pre>"},{"location":"Go/StdLib/4-fmt-%E6%A0%BC%E5%BC%8F%E5%8C%96/#_8","title":"\u6d6e\u70b9\u6570\u4e0e\u590d\u6570","text":"\u5360\u4f4d\u7b26 \u8bf4\u660e %b \u65e0\u6821\u4e66\u90e8\u5206\u3001\u4e8c\u8fdb\u5236\u6307\u6570\u7684\u79d1\u5b66\u8ba1\u6570\u6cd5 %e \u79d1\u5b66\u8ba1\u6570\u6cd5\uff0c\u5982-123.456e+78 %E \u79d1\u5b66\u8ba1\u6570\u6cd5\uff0c\u5982-123.456E+78 %f \u6709\u5c0f\u6570\u90e8\u5206\u4f46\u65e0\u6307\u6570 %F \u7b49\u4ef7%f %g \u6839\u636e\u5b9e\u9645\u60c5\u51b5\u91c7\u7528%e\u6216%f\u683c\u5f0f\uff08\u4ee5\u83b7\u5f97\u66f4\u7b80\u6d01\u3001\u51c6\u786e\u7684\u8f93\u51fa\uff09 %G \u6839\u636e\u5b9e\u9645\u60c5\u51b5\u91c7\u7528%E\u6216%F\u683c\u5f0f\uff08\u4ee5\u83b7\u5f97\u66f4\u7b80\u6d01\u3001\u51c6\u786e\u7684\u8f93\u51fa\uff09 <p>Example</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    f := 123456789123.456789123456789\n    fmt.Printf(\"%b \\n\", f) // 8090864131994864p-16\n    fmt.Printf(\"%e \\n\", f) // 1.234568e+11\n    fmt.Printf(\"%E \\n\", f) // 1.234568E+11\n    fmt.Printf(\"%f \\n\", f) // 123456789123.456787\n    fmt.Printf(\"%F \\n\", f) // 1123456789123.456787\n    fmt.Printf(\"%g \\n\", f) // 1.2345678912345679e+11\n    fmt.Printf(\"%G \\n\", f) // 1.2345678912345679E+11\n}\n</code></pre>"},{"location":"Go/StdLib/4-fmt-%E6%A0%BC%E5%BC%8F%E5%8C%96/#byte","title":"\u5b57\u7b26\u4e32\u548c []byte","text":"\u5360\u4f4d\u7b26 \u8bf4\u660e %s \u76f4\u63a5\u8f93\u51fa\u5b57\u7b26\u4e32\u6216[]byte %q \u6253\u5370\u503c\u7684\u5bf9\u5e94\u5b57\u9762\u503c\uff0c\u7528\u53cc\u62ec\u53f7\u56e0\u8d77\u6765\uff0c\u5fc5\u8981\u65f6\u4f1a\u91c7\u7528\u5b89\u5168\u7684\u8f6c\u4e49\u8868\u793a %x \u6bcf\u4e2a\u5b57\u8282\u7528\u4e24\u5b57\u7b26\u5341\u516d\u8fdb\u5236\u6570\u8868\u793a\uff08\u4f7f\u7528a-f\uff09 %X \u6bcf\u4e2a\u5b57\u8282\u7528\u4e24\u5b57\u7b26\u5341\u516d\u8fdb\u5236\u6570\u8868\u793a\uff08\u4f7f\u7528A-F\uff09 <p>Example</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    s := \"\u4f60\u597d Boii\"\n    fmt.Printf(\"%s \\n\", s) // \u4f60\u597d Boii\n    fmt.Printf(\"%q \\n\", s) // \"\u4f60\u597d Boii\"\n    fmt.Printf(\"%x \\n\", s) // e4bda0e5a5bd20426f6969\n    fmt.Printf(\"%X \\n\", s) // E4 BD A0 E5 A5 BD 20 42 6F 69 69\n                           //    \u4f60   |   \u597d    | | B  o  i  i\n}\n</code></pre>"},{"location":"Go/StdLib/4-fmt-%E6%A0%BC%E5%BC%8F%E5%8C%96/#_9","title":"\u6307\u9488","text":"\u5360\u4f4d\u7b26 \u8bf4\u660e %p \u8868\u793a\u4e3a\u5341\u516d\u8fdb\u5236\uff0c\u5e76\u52a0\u4e0a\u524d\u5bfc\u76840x <p>Example</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    a := \"Boii\"\n    fmt.Printf(\"%p \\n\", &amp;a)  // 0xc00009e220\n    fmt.Printf(\"%#p \\n\", &amp;a) // c00009e220\n}\n</code></pre>"},{"location":"Go/StdLib/4-fmt-%E6%A0%BC%E5%BC%8F%E5%8C%96/#_10","title":"\u5bbd\u5ea6","text":"<p>\u5bbd\u5ea6\u6807\u8bc6\u7b26\u901a\u8fc7\u4e00\u4e2a\u7d27\u8ddf\u5728\u767e\u5206\u53f7\u540e\u9762\u7684\u5341\u8fdb\u5236\u6570\u6307\u5b9a\u3002</p> <ul> <li> <p>\u5bbd\u5ea6\uff1a\u5373\u6574\u4e2a\u503c\u5360\u591a\u5c11\u4f4d\u3002\u5982\u672a\u6307\u5b9a\u5bbd\u5ea6\uff0c\u5219\u8868\u793a\u503c\u65f6\u9664\u5fc5\u987b\u4e4b\u5916\u4e0d\u505a\u586b\u5145\u3002</p> </li> <li> <p>\u7cbe\u5ea6\uff1a\u5c0f\u6570\u70b9\u540e\u7684\u4f4d\u6570\uff0c\u5373\u5c0f\u6570\u5360\u591a\u5c11\u4f4d\uff0c\u70b9\u53f7\u540e\u7684\u5341\u8fdb\u5236\u6570\u6307\u5b9a\u3002\u5982\u672a\u6307\u5b9a\u7cbe\u5ea6\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u7cbe\u5ea6\u3002\u5982\u70b9\u53f7\u540e\u6ca1\u6709\u6570\u5b57\uff0c\u5219\u7cbe\u5ea6\u4e3a0\u3002</p> </li> </ul> \u5360\u4f4d\u7b26 \u8bf4\u660e %f \u9ed8\u8ba4\u5bbd\u5ea6\uff0c\u9ed8\u8ba4\u7cbe\u5ea6 %9f \u5bbd\u5ea69\uff0c\u9ed8\u8ba4\u7cbe\u5ea6 %.2f \u9ed8\u8ba4\u5bbd\u5ea6\uff0c\u7cbe\u5ea62 %9.2f \u5bbd\u5ea69\uff0c\u7cbe\u5ea62 %9.f \u5bbd\u5ea69\uff0c\u7cbe\u5ea60 <p>Example</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    f := 123456789123.456789123456789\n    fmt.Printf(\"%f \\n\", f)    // 123456789123.456787 \n    fmt.Printf(\"%9f \\n\", f)   // 123456789123.456787\n    fmt.Printf(\"%9.f \\n\", f)  // 123456789123 \n    fmt.Printf(\"%.2f \\n\", f)  // 123456789123.46\n    fmt.Printf(\"%9.2f \\n\", f) // 123456789123.46\n\n    f = 75.445  \n    fmt.Printf(\"%f \\n\", f)    // 75.445000\n    fmt.Printf(\"%9f \\n\", f)   // 75.445000\n    fmt.Printf(\"%9.f \\n\", f)  //        75\n    fmt.Printf(\"%.2f \\n\", f)  // 75.44\n    fmt.Printf(\"%9.2f \\n\", f) //     75.44\n}\n</code></pre> <p></p>"},{"location":"Go/StdLib/4-fmt-%E6%A0%BC%E5%BC%8F%E5%8C%96/#_11","title":"\u5176\u4ed6","text":"\u7b26 \u8bf4\u660e \u2018+\u2019 \u603b\u662f\u8f93\u51fa\u6570\u503c\u7684\u6b63\u8d1f\u53f7\uff1b\u5bf9%q\uff08%+q\uff09\u4f1a\u751f\u6210\u5168\u90e8\u662fASCII\u5b57\u7b26\u7684\u8f93\u51fa\uff08\u901a\u8fc7\u8f6c\u4e49\uff09\uff1b \u2018 \u2019 \u5bf9\u6570\u503c\uff0c\u6b63\u6570\u524d\u52a0\u7a7a\u683c\u800c\u8d1f\u6570\u524d\u52a0\u8d1f\u53f7\uff1b\u5bf9\u5b57\u7b26\u4e32\u91c7\u7528%x\u6216%X\u65f6\uff08% x\u6216% X\uff09\u4f1a\u7ed9\u5404\u6253\u5370\u7684\u5b57\u8282\u4e4b\u95f4\u52a0\u7a7a\u683c \u2018-\u2019 \u5728\u8f93\u51fa\u53f3\u8fb9\u586b\u5145\u7a7a\u767d\u800c\u4e0d\u662f\u9ed8\u8ba4\u7684\u5de6\u8fb9\uff08\u5373\u4ece\u9ed8\u8ba4\u7684\u53f3\u5bf9\u9f50\u5207\u6362\u4e3a\u5de6\u5bf9\u9f50\uff09\uff1b \u2018#\u2019 \u516b\u8fdb\u5236\u6570\u524d\u52a00\uff08%#o\uff09\uff0c\u5341\u516d\u8fdb\u5236\u6570\u524d\u52a00x\uff08%#x\uff09\u62160X\uff08%#X\uff09\uff0c\u6307\u9488\u53bb\u6389\u524d\u9762\u76840x\uff08%#p\uff09\u5bf9%q\uff08%#q\uff09\uff0c\u5bf9%U\uff08%#U\uff09\u4f1a\u8f93\u51fa\u7a7a\u683c\u548c\u5355\u5f15\u53f7\u62ec\u8d77\u6765\u7684go\u5b57\u9762\u503c\uff1b \u20180\u2019 \u4f7f\u75280\u800c\u4e0d\u662f\u7a7a\u683c\u586b\u5145\uff0c\u5bf9\u4e8e\u6570\u503c\u7c7b\u578b\u4f1a\u628a\u586b\u5145\u76840\u653e\u5728\u6b63\u8d1f\u53f7\u540e\u9762\uff1b <p>Example</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    s := \"Boii\"\n    fmt.Printf(\"|%s| \\n\", s)     // |Boii|\n    fmt.Printf(\"|%5s| \\n\", s)    // | Boii|\n    fmt.Printf(\"|%-5s| \\n\", s)   // |Boii |\n    fmt.Printf(\"|%5.7s| \\n\", s)  // | Boii|\n    fmt.Printf(\"|%-5.7s| \\n\", s) // |Boii |\n    fmt.Printf(\"|%5.2s| \\n\", s)  // |   Bo|\n    fmt.Printf(\"|%05s| \\n\", s)   // |0Boii|\n\n    d := -100\n    fmt.Printf(\"|%d| \\n\", d)     // |-100|\n    fmt.Printf(\"|%5d| \\n\", d)    // | -100|\n    fmt.Printf(\"|%-5d| \\n\", d)   // |-100 |\n    fmt.Printf(\"|%5.7d| \\n\", d)  // |-0000100|\n    fmt.Printf(\"|%-5.7d| \\n\", d) // |-0000100|\n    fmt.Printf(\"|%5.2d| \\n\", d)  // | -100|\n    fmt.Printf(\"|%05d| \\n\", d)   // |-0100|\n\n    d = 18\n    fmt.Printf(\"|%d| \\n\", d)     // |18|\n    fmt.Printf(\"|%5d| \\n\", d)    // |   18|\n    fmt.Printf(\"|%-5d| \\n\", d)   // |18   |\n    fmt.Printf(\"|%5.7d| \\n\", d)  // |0000018|\n    fmt.Printf(\"|%-5.7d| \\n\", d) // |0000018|\n    fmt.Printf(\"|%5.2d| \\n\", d)  // |   18|\n    fmt.Printf(\"|%05d| \\n\", d)   // |00018|\n}\n</code></pre>"},{"location":"Go/StdLib/5-strings-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C/","title":"5-strings","text":""},{"location":"Go/StdLib/5-strings-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C/#6-strings","title":"6-strings","text":""},{"location":"Go/StdLib/5-strings-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C/#contains","title":"\u5305\u542b contains","text":"<pre><code>func Contains(s, substr string) bool\nfunc ContainsAny(s, chars string) bool\nfunc ContainsRune(s string, r rune) bool\n</code></pre> <p>\u5305\u542b\uff1a\u5224\u65ad\u4e3b\u4e32 s \u4e2d\u662f\u5426\u5305\u542b\u5b50\u4e32 substr\u3002\u4f8b\u5982 \u201cabcde\u201d \u4e2d\u5c31\u5305\u542b \u201cbcd\u201d\u3002</p> <ul> <li>Contains \u662f\u5b57\u7b26\u4e32\u5339\u914d\uff1b</li> <li>ContainsAny \u662f\u975e\u4e25\u683c\u5339\u914d\uff0c\u5373\u4e0d\u9700\u8981 substr \u6574\u4e2a\u90fd\u5339\u914d\u5230\uff0c\u53ea\u8981 substr \u4e2d\u6709\u4e00\u4e2a\u5b57\u7b26\u5339\u914d\u6210\u529f\u5c31\u884c\uff1b</li> <li>ContainsRune \u662f Unicode \u5b57\u7b26\u5339\u914d\uff0c\u5373 rune \u5339\u914d\u3002</li> </ul> <pre><code>strings.Contains(\"seafood\", \"foo\")  // ture\nstrings.Contains(\"seafood\", \"bar\")  // false\nstrings.Contains(\"seafood\", \"\")     // ture\nstrings.Contains(\"\", \"\")            // ture\n\nstrings.ContainsAny(\"team\", \"i\")        // false\nstrings.ContainsAny(\"fail\", \"ui\")       // true\nstrings.ContainsAny(\"ure\", \"ui\")        // true\nstrings.ContainsAny(\"failure\", \"ui\")    // true\nstrings.ContainsAny(\"foo\", \"\")          // false\nstrings.ContainsAny(\"\", \"\")             // false\n\nstrings.ContainsRune(\"aardvark\", 97)    // true\nstrings.ContainsRune(\"timeout\", 'a')    // false\n</code></pre>"},{"location":"Go/StdLib/5-strings-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C/#join","title":"\u62fc\u63a5 Join","text":"<pre><code>func Join(elems []string, sep string) string\n</code></pre> <p>\u62fc\u63a5\u5b57\u7b26\u4e32\uff1a\u5c06\u5b57\u7b26\u4e32\u5207\u7247 elems \u4e2d\u7684\u5b57\u7b26\u4e32\uff0c\u5939\u5e26\u7740\u5206\u9694\u7b26 sep \u62fc\u63a5\u8d77\u6765\u3002</p> <pre><code>s := []string{\"foo\", \"bar\", \"baz\"}\nfmt.Println(strings.Join(s, \"# \"))  // foo# bar# baz#\n</code></pre>"},{"location":"Go/StdLib/5-strings-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C/#index","title":"\u4e0b\u6807 Index","text":"<pre><code>func Index(s, substr string) int\nfunc IndexAny(s, chars string) int\nfunc IndexByte(s string, c byte) int\nfunc IndexRune(s string, r rune) int\nfunc IndexFunc(s string, f func(rune) bool) int\n\nfunc LastIndex(s, substr string) int\nfunc LastIndexAny(s, chars string) int\nfunc LastIndexByte(s string, c byte) int\nfunc LastIndexFunc(s string, f func(rune) bool) int\n</code></pre> <p>\u4f4d\u7f6e\uff1a</p> <p>Index \u7cfb\u5217 \u8fd4\u56de\u4e3b\u4e32 s \u4e2d \u7b2c\u4e00\u4e2a \u5b50\u4e32 substr \u7684\u4e0b\u6807\uff0c\u5339\u914d\u4e0d\u5230\u8fd4\u56de -1\u3002</p> <p>LastIndex \u7cfb\u5217\u8fd4\u56de\u4e3b\u4e32 s \u4e2d \u6700\u540e\u4e00\u4e2a \u5b50\u4e32 substr \u7684\u4e0b\u6807\uff0c\u5339\u914d\u4e0d\u5230\u8fd4\u56de -1\u3002</p> <ul> <li>Index\u3001LastIndex\uff1a\u4e25\u683c\u5339\u914d\u5b50\u4e32\uff0c\u5fc5\u987b\u5b50\u4e32 substr \u6bcf\u4e2a\u5b57\u7b26\u90fd\u5339\u914d\u4e0a\u624d\u5339\u914d\u6210\u529f\uff1b</li> <li>IdexAny\u3001LastIndexAny\uff1a\u975e\u4e25\u683c\u5339\u914d\u5b50\u4e32\uff0c\u53ea\u8981\u5b50\u4e32 substr \u6709\u4e00\u4e2a\u80fd\u5339\u914d\u4e0a\u7684\u5c31\u5339\u914d\u6210\u529f\uff1b</li> <li>IndexByte\u3001LastIndexByte\uff1a\u5339\u914d ASCII \u5b57\u7b26\uff1b</li> <li>IndexRune\uff1a\u5339\u914d Unicode \u5b57\u7b26\uff1b</li> <li>IndexFunc\u3001LastIndexFunc\uff1a\u5339\u914d\u4e3b\u4e32\u4e2d\u6ee1\u8db3 f\u00a9 \u6761\u4ef6\u7684\u5b57\u7b26\u3002\u4e5f\u5c31\u662f\u628a\u5b50\u4e32\u6362\u6210\u67d0\u4e2a\u5b57\u7b26\u7fa4\u3002</li> </ul> <pre><code>strings.Index(\"chicken\", \"ken\")         // 4\nstrings.Index(\"chicken\", \"dmr\")         // -1\n\nstrings.Index(\"go gopher\", \"go\")        // 0\nstrings.LastIndex(\"go gopher\", \"go\")    // 3\nstrings.LastIndex(\"go gopher\", \"rodent\")// -1\n\n\nstrings.IndexAny(\"chcicken\", \"aiouy\")   // 3\nstrings.IndexAny(\"crwth\", \"aeiouy\")     // -1\n\nstrings.LastIndexAny(\"go gopher\", \"go\")     // 4\nstrings.LastIndexAny(\"go gopher\", \"rodent\") // 8\nstrings.LastIndexAny(\"go gopher\", \"fail\")   // -1\n\n\nstrings.IndexByte(\"golang\", 'g')        // 0\nstrings.IndexByte(\"gophers\", 'h')       // 3\nstrings.IndexByte(\"golang\", 'x')        // -1\n\nstrings.LastIndexByte(\"Hello, world\", 'l')  // 10\nstrings.LastIndexByte(\"Hello, world\", 'o')  // 8\nstrings.LastIndexByte(\"Hello, world\", 'x')  // -1\n\n\nstrings.IndexRune(\"chicken\", 'k')       // 4\nstrings.IndexRune(\"chicken\", 'd')       // -1\n\n\nf := func(c rune) bool {\n    return unicode.Is(unicode.Han, c)\n}\nstrings.IndexFunc(\"Hello, \u4e16\u754c\", f)      // 7\nstrings.IndexFunc(\"Hello, world\", f)    // -1\n\nstrings.LastIndexFunc(\"go 123\", unicode.IsNumber)   // 5\nstrings.LastIndexFunc(\"123 go\", unicode.IsNumber)   // 2\nstrings.LastIndexFunc(\"go\", unicode.IsNumber)       // -1\n</code></pre>"},{"location":"Go/StdLib/5-strings-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C/#repeat","title":"\u91cd\u590d Repeat","text":"<pre><code>func Repeat(s string, count int) string\n</code></pre> <p>\u91cd\u590d\uff1a\u5c06\u5b57\u7b26\u4e32 s \u91cd\u590d count \u6b21\uff0c\u76f8\u5f53\u4e8e Python \u4e2d\u7684 <code>s * count</code>\u3002</p> <pre><code>strings.Repeat(\"nal\", 2)    // nalnal\n</code></pre>"},{"location":"Go/StdLib/5-strings-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C/#replace","title":"\u66ff\u6362 Replace","text":"<pre><code>func Replace(s, old, new string, n int) string\nfunc ReplaceAll(s, old, new string) string\n</code></pre> <p>\u66ff\u6362\uff1a\u5c06\u5b57\u7b26\u4e32 s \u4e2d\u7684 old \u5b50\u4e32\u66ff\u6362\u6210 new \u5b50\u4e32\uff0c\u66ff\u6362 n \u6b21\uff1bn \u4e3a -1 \u65f6\u8868\u793a\u5168\u90e8\u66ff\u6362\u3002</p> <ul> <li><code>ReplaceAll(s, old, new)</code> \u7b49\u540c\u4e0e <code>Replace(s, old, new, -1)</code>\u3002</li> </ul> <pre><code>strings.Replace(\"oink oink oink\", \"k\", \"yt\", 2)     // oinyt oinyt oink\nstrings.Replace(\"oink oink oink\", \"in\", \"moo\", -1)  // omook omook omook\n\nstrings.ReplaceAll(\"oink oink oink\", \"in\", \"moo\")   // omook omook omook\n</code></pre>"},{"location":"Go/StdLib/5-strings-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C/#split","title":"\u5206\u5272 Split","text":"<pre><code>func Split(s, sep string) []string\nfunc SplitAfter(s, sep string) []string\n\nfunc SplitN(s, sep string, n int) []string\nfunc SplitAfterN(s, sep string, n int) []string\n\nfunc Fields(s string) []string\n</code></pre> <p>\u5206\u5272\uff1a\u5c06\u5b57\u7b26\u4e32 s \u6309\u7167\u5206\u5272\u7b26 sep \u5206\u5272\u6210\u591a\u4e2a\u5b50\u4e32\u3002</p> <ul> <li>After\uff1a\u5206\u5272\u540e\u4f1a\u7ed3\u679c\u4e2d\u4f1a\u5e26\u7740\u5206\u5272\u7b26\uff1b</li> <li>N\uff1a\u5206\u5272\u6210 n \u4e2a\u5b50\u4e32\uff1b<ul> <li>n &gt; 0\uff1a\u6700\u591an\u4e2a\u5b50\u4e32\uff1b\u6700\u540e\u4e00\u4e2a\u5b50\u5b57\u7b26\u4e32\u5c06\u662f\u672a\u62c6\u5206\u7684\u5269\u4f59\u5b57\u7b26\uff1b</li> <li>n == 0\uff1a\u8fd4\u56de nil\uff1b</li> <li>n &lt; 0\uff1a<code>SplitN(s, sep, -5)</code> \u7b49\u540c\u4e8e <code>Split(s, sep)</code>\uff1b</li> </ul> </li> <li>Fields\uff1a\u4ee5\u8fde\u7eed\u7684\u7a7a\u767d\u5b57\u7b26\u4e3a\u5206\u9694\u7b26\uff0c\u5c06 s \u5207\u5206\u6210\u591a\u4e2a\u5b50\u4e32\uff0c\u7ed3\u679c\u4e2d\u4e0d\u5305\u542b\u7a7a\u767d\u5b57\u7b26\u672c\u8eab\uff1b\u76f8\u5f53\u4e8e <code>Split(s, \" \")</code>\uff0c\u4f46\u662f\u5272\u51fa\u6765\u7684\u7a7a\u767d\u5b57\u7b26\u4e32\u4e0d\u5305\u542b\u5728\u8fd4\u56de\u7ed3\u679c\u4e2d\u3002<ul> <li>\u7a7a\u767d\u5b57\u7b26\u6709\uff1a\\t, \\n, \\v, \\f, \\r, ' ', U+0085 (NEL), U+00A0 (NBSP)</li> <li>\u5982\u679c s \u4e2d\u53ea\u5305\u542b\u7a7a\u767d\u5b57\u7b26\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u7a7a\u5217\u8868</li> </ul> </li> </ul> <pre><code>strings.Split(\"a,b,c\", \",\")                         // [\"a\" \"b\" \"c\"]\nstrings.Split(\"a man a plan a canal panama\", \"a \")  // [\"\" \"man \" \"plan \" \"canal panama\"]\nstrings.Split(\" xyz \", \"\")              // [\" \" \"x\" \"y\" \"z\" \" \"]\nstrings.Split(\"\", \"Bernardo O'Higgins\") // [\"\"]\n\nstrings.SplitN     (\"a,b,c,d,e,f\", \",\", 3)  // [\"a\" \"b\" \"c,d,e,f\"]\nstrings.SplitAfter (\"a,b,c,d,e,f\", \",\")     // [\"a,\" \"b,\" \"c,\" \"d,\" \"e,\" \"f\"]\nstrings.SplitAfterN(\"a,b,c,d,e,f\", \",\", 3)  // [\"a,\" \"b,\" \"c,d,e,f\"]\n\nstrings.Fields(\"  foo b ar  baz   \"))       // [\"foo\" \"b\" \"ar\" \"baz\"]\nstrings.Split(\"  foo b  ar  baz   \", \"\"))   // [\"\" \"\" \"foo\" \"b\\tar\" \"\" \"baz\" \"\" \"\" \"\"]\n</code></pre>"},{"location":"Go/StdLib/5-strings-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C/#trim","title":"\u4fee\u526a Trim","text":"<pre><code>func Trim     (s, cutset string) string\nfunc TrimLeft (s, cutset string) string\nfunc TrimRight(s, cutset string) string\nfunc TrimSpace(s string) string\n\nfunc TrimPrefix(s, prefix string) string\nfunc TrimSuffix(s, suffix string) string\n\nfunc TrimFunc     (s string, f func(rune) bool) string\nfunc TrimLeftFunc (s string, f func(rune) bool) string\nfunc TrimRightFunc(s string, f func(rune) bool) string\n</code></pre> <p>\u4fee\u526a\uff1a\u5c06\u5b57\u7b26\u96c6 cutset \u4ece\u5b57\u7b26\u4e32 s \u4e2d\u5220\u9664\u3002cutset \u4efb\u4f55\u4e00\u4e2a\u5b57\u7b26\u90fd\u53ef\u4ee5\u5339\u914d\uff0c\u5373\u4fee\u526a\u5b8c\u4e0d\u4f1a\u6709 cutset \u4e2d\u4efb\u4f55\u4e00\u4e2a\u5b57\u7b26\u3002</p> <ul> <li> <p>TrimLeft\uff0c\u4ece\u5de6\u8fb9\u5f00\u59cb\u5220\u9664\u6240\u6709\u5339\u914d\u7684\u5b57\u7b26\uff0c\u5339\u914d\u89c4\u5219\u4e3a\u4ece\u5de6\u5f00\u59cb\u5339\u914d\u5b57\u7b26\uff0c\u76f4\u5230\u7b2c\u4e00\u4e2a\u4e0d\u5339\u914d\u7684\u5b57\u7b26\u505c\u6b62\u3002\u4f8b\u5982 cutset \u4e3a abc\uff0c\u5219 abcaaE\u3001abcabdE\u3001abcEabc \u7684\u5339\u914d\u7ed3\u679c\u4e3a abcaa\u3001abcab\u3001abc\u3002</p> <pre><code>strings.TrimLeft(\"abcaaE\", \"abc\")       // E\nstrings.TrimLeft(\"abcabdE\", \"abc\")      // dE\nstrings.TrimLeft(\"abcEabc\", \"abc\")      // Eabc\nstrings.TrimLeft(\"abcabcdEabc\", \"abc\")  // dEabc\n</code></pre> </li> <li> <p>Trim = TrimLeft + TrimRight</p> <pre><code>strings.Trim(\"abcEabc\", \"abc\")      // E\nstrings.Trim(\"abcabcdEabc\", \"abc\")  // dE\nstrings.Trim(\"abcabcdEbcc\", \"abc\")  // dE\n</code></pre> </li> <li> <p>TrimPrefix =  TrimLeft\uff0c\u4f46\u662f\u53ea\u5220\u9664\u4e00\u6b21\u5339\u914d</p> </li> <li> <p>TrimSuffix = TrimRight\uff0c\u4f46\u662f\u53ea\u5220\u9664\u4e00\u6b21\u5339\u914d</p> <pre><code>strings.TrimPrefix(\"abcaaE\", \"abc\")         // aaE\nstrings.TrimPrefix(\"abcabdE\", \"abc\")        // abdE\nstrings.TrimPrefix(\"abcEabc\", \"abc\")        // Eabc\nstrings.TrimPrefix(\"abcabcdEabc\", \"abc\")    // abcdEabc\n</code></pre> </li> <li> <p>TrimSpace\uff1a</p> </li> <li> <p>TrimFunc\uff1a\u8981\u5220\u9664\u7684\u5b57\u7b26\u6309\u7167 f \u5339\u914d</p> <pre><code>func f (r rune) bool {\n    return !unicode.IsLetter(r) &amp;&amp; !unicode.IsNumber(r)\n}\n\nstrings.TrimFunc(\"\u00a1\u00a1\u00a1Hello, Gophers!!!\", f) // Hello, Gophers\n</code></pre> </li> </ul>"},{"location":"Go/StdLib/6-json/","title":"6-json","text":"<p>\u5e8f\u5217\u5316\uff08struct -&gt; JSON\uff09\uff1a\u7ed3\u6784\u4f53\u5bf9\u8c61 \u8f6c\u6210 JSON\u683c\u5f0f\u5b57\u7b26\u4e32</p> <p>\u53cd\u5e8f\u5217\u5316\uff08JSON -&gt; struct\uff09\uff1aJSON\u683c\u5f0f\u5b57\u7b26\u4e32 \u8f6c\u6210 \u7ed3\u6784\u4f53\u5bf9\u8c61</p> <p>\u4f7f\u7528 <code>encoding/json</code> \u5b8c\u6210\u3002</p> <pre><code>import \"encoding/json\"\n</code></pre> <pre><code>// \u5e8f\u5217\u5316\u51fd\u6570\uff0cstruct -&gt; JSON\nfunc Marshal(v interface{}) ([]byte, error) {}\n// \u53cd\u5e8f\u5217\u5316\u51fd\u6570\uff0cJSON -&gt; struct\nfunc Unmarshal(data []byte, v interface{}) error {}\n</code></pre> <p>Example</p> <pre><code>package main\n\nimport (\n    \"encoding/json\"\n    \"fmt\"\n)\n\n// 1. \u5e8f\u5217\u5316 encode\uff1a\u628a\u7ed3\u6784\u4f53\u53d8\u91cf -&gt; json\u683c\u5f0f\u7684\u5b57\u7b26\u4e32\n// 2. \u53cd\u5e8f\u5217\u5316 decode\uff1ajson\u683c\u5f0f\u7684\u5b57\u7b26\u4e32 -&gt; \u7ed3\u6784\u4f53\u53d8\u91cf\n\ntype person struct {\n    Name string `json:\"name\" db:\"name\" ini:\"name\"`\n    Age  int    `json:\"age\"`\n    Sex  string\n    Addr string `json:\"-\"`    // value \u4e3a \"-\" \u65f6\u4e0d\u5e8f\u5217\u5316\n}\n\nfunc main() {\n    p1 := person{\"Boii\", 18, \"male\"}\n\n    /* \u5e8f\u5217\u5316 */\n    b, err := json.Marshal(p1)\n    if err != nil {\n        fmt.Println(err)\n    }\n    fmt.Println(string(b)) // {\"name\":\"Boii\",\"age\":18,\"Sex\":\"male\"}\n    fmt.Printf(\"%T \\n\", b) // []uint8\n\n    /* \u53cd\u5e8f\u5217\u5316 */\n    str := `{\"name\":\"Eva\",\"age\":18}`\n    var p2 person\n    json.Unmarshal([]byte(str), &amp;p2)\n    fmt.Printf(\"%#v \\n\", p2) // main.person{Name:\"Eva\", Age:18, Sex:\"\"}\n    fmt.Printf(\"%T \\n\", p2)  // main.person\n}\n</code></pre> <p>\u5e8f\u5217\u5316\u65f6\uff0ckey \u4f1a\u4f18\u5148\u9009\u62e9\u5b57\u6bb5\u7684 Tag \u4e2d\u6307\u5b9a\u7684 key</p> <p>Warning</p> <p>\u7ed3\u6784\u4f53\u4e2d\u975e public \u7684\u5b57\u6bb5\u4e0d\u4f1a\u88ab\u5e8f\u5217\u5316</p>"},{"location":"Go/StdLib/%5B%E5%BE%85%5D8-sort%20%E6%8E%92%E5%BA%8F%E5%88%87%E7%89%87%E5%92%8C%E8%87%AA%E5%AE%9A%E4%B9%89%E6%95%B0%E6%8D%AE%E9%9B%86/","title":"8-sort \u6392\u5e8f\u5207\u7247\u548c\u81ea\u5b9a\u4e49\u6570\u636e\u96c6","text":""},{"location":"Go/StdLib/%5B%E5%BE%85%5D8-sort%20%E6%8E%92%E5%BA%8F%E5%88%87%E7%89%87%E5%92%8C%E8%87%AA%E5%AE%9A%E4%B9%89%E6%95%B0%E6%8D%AE%E9%9B%86/#8-sort","title":"8-sort \u6392\u5e8f\u5207\u7247\u548c\u81ea\u5b9a\u4e49\u6570\u636e\u96c6","text":""},{"location":"Go/StdLib/File%26IO/bufio/","title":"Bufio","text":""},{"location":"Go/StdLib/File%26IO/bufio/#6-bufio-io","title":"6-bufio \u7f13\u51b2IO","text":"<p><code>bufio</code>\u662f\u901a\u8fc7\u7f13\u51b2\u6765\u63d0\u9ad8\u6548\u7387\u7684\u3002</p> <p>io\u64cd\u4f5c\u672c\u8eab\u6548\u7387\u5e76\u4e0d\u4f4e\uff0c\u4f4e\u7684\u662f\u9891\u7e41\u8bbf\u95ee\u672c\u5730\u78c1\u76d8\u7684\u6587\u4ef6\u3002\u6240\u4ee5 <code>bufio</code> \u5c31\u63d0\u4f9b\u4e86\u7f13\u51b2\u533a\uff08\u5206\u914d\u4e00\u5757\u5185\u5b58\uff09\uff0c\u8bfb\u5199\u90fd\u662f\u5148\u5728\u7f13\u51b2\u533a\u4e2d\uff0c\u6700\u540e\u518d\u8bfb\u5199\u8fdb\u6587\u4ef6\uff0c\u4ece\u800c\u964d\u4f4e\u8bbf\u95ee\u672c\u5730\u78c1\u76d8\u7684\u6b21\u6570\uff0c\u63d0\u9ad8\u6548\u7387\u3002</p> <ul> <li> <p>\u7b2c\u4e00\u6b21\u8bfb\u53d6\u7684\u65f6\u5019\uff0c\u4f1a\u4ece\u672c\u5730\u78c1\u76d8\u5c06\u6570\u636e\u8bfb\u53d6\u5230\u7f13\u51b2\u533a\u4e2d\uff0c\u4e4b\u540e\u7b2c\u4e8c\u6b21\u7b2c\u4e09\u6b21\u8bfb\u53d6\u5c31\u4f1a\u76f4\u63a5\u4ece\u7f13\u51b2\u533a\u8bfb\u53d6\uff0c\u907f\u514d\u4e86\u6bcf\u6b21\u90fd\u53bb\u8bbf\u95ee\u672c\u5730\u78c1\u76d8\u3002</p> </li> <li> <p>\u7b2c\u4e00\u6b21\u5199\u5165\u7684\u65f6\u5019\uff0c\u4f1a\u5c06\u6570\u636e\u5148\u5199\u5165\u5230\u7f13\u51b2\u533a\uff0c\u7b49\u5230\u7f13\u51b2\u533a\u5199\u6ee1\u4e86\u6216\u8005\u624b\u52a8\u5237\u65b0\uff0c\u624d\u4f1a\u628a\u6570\u636e\u5199\u5165\u5230\u672c\u5730\u78c1\u76d8\u4e0a\u7684\u6587\u4ef6\u4e2d\u3002</p> </li> </ul> <p>\u8fd9\u79cd\u7f13\u51b2\u533a\u7684\u8bbe\u8ba1\u975e\u5e38\u9002\u5408 <code>I/O\u5bc6\u96c6\u578b</code> \u7684\u7a0b\u5e8f\u3002</p>"},{"location":"Go/StdLib/File%26IO/bufio/#_1","title":"\u5bfc\u5305","text":"<pre><code>import \"bufio\"\n</code></pre>"},{"location":"Go/StdLib/File%26IO/bufio/#bufio","title":"bufio \u539f\u7406","text":"<p>\u5728\u8bfb\u53d6\u7684\u65f6\u5019\uff0c\u5982\u679c\u7528\u4e8e\u5b58\u653e\u6570\u636e\u7684 <code>[]byte</code> \u5927\u5c0f\u8d85\u8fc7\u7f13\u51b2\u533a\u5927\u5c0f\uff0c\u5b9e\u9645\u4e0a\u7f13\u51b2\u533a\u662f\u4e0d\u8d77\u4f5c\u7528\u7684\u3002\u5199\u5165\u540c\u7406\u3002</p> <pre><code>func main() {\n    f, err := os.Open(\"abc.txt\")\n    if err != nil {\n        log.Fatal(err)\n    }\n    defer f.Close()\n\n    buf1 := bufio.NewReaderSize(f, 4096)    // buf \u533a\u5927\u5c0f 4096 byte\n    p := make([]byte, 10000)                // []byte \u5927\u5c0f 10000 byte\n    buf1.Read(p)                            // \u6b64\u65f6buf\u533a\u5b9e\u9645\u4e0a\u4e0d\u8d77\u4f5c\u7528\n}\n</code></pre> <p></p>"},{"location":"Go/StdLib/File%26IO/bufio/#bufio_1","title":"bufio \u4f7f\u7528\u6b65\u9aa4","text":"<ol> <li>\u6253\u5f00\u6587\u4ef6</li> <li><code>defer</code> \u5173\u95ed\u6587\u4ef6</li> <li>\u521b\u5efa <code>buf</code> \u5bf9\u8c61</li> <li>\u4f7f\u7528 <code>buf</code> \u8bfb\u5199</li> </ol> <pre><code>func main() {\n// \u8bfb\u53d6\n    f1, err := os.Open(\"abc.txt\")\n    if err != nil {\n        log.Fatal(err)\n    }\n    defer f1.Close()\n\n    bufR := bufio.NewReader(f1)    // \u521b\u5efa buf \u5bf9\u8c61\n    p1 := make([]byte, 1024)\n    bufR.Read(p1)                  // \u4f7f\u7528 buf \u8bfb\u53d6\n\n// \u5199\u5165\n    f2, err := os.OpenFile(\"abc2.txt\", os.O_CREATE|os.O_WDONLY, 0777)\n    if err != nil {\n        log.Fatal(err)\n    }\n    defer f2.Close()\n\n    bufW := bufio.NewWriter(f2)      // \u521b\u5efa buf \u5bf9\u8c61\n    bufW.Write([]byte(\"Hello World\")) // \u4f7f\u7528 buf \u5199\u5165\n    bufW.Flush()    // \u5237\u65b0\u7f13\u51b2\u533a\uff0c\u4e5f\u5c31\u662f\u624b\u52a8\u5199\u5165\u6587\u4ef6\u3002\n}\n</code></pre>"},{"location":"Go/StdLib/File%26IO/bufio/#_2","title":"\u8bfb\u53d6","text":"<p>\u65b9\u6cd5\u7b7e\u540d\uff1a </p><pre><code>func NewReader(rd io.Reader) *Reader {}                // \u521b\u5efa\u4e00\u4e2a bufio.Reader \u5bf9\u8c61\uff0c\u9ed8\u8ba4\u7f13\u51b2\u533a\u5927\u5c0f 4096 byte\nfunc NewReaderSize(rd io.Reader, size int) *Reader {}  // \u521b\u5efa\u4e00\u4e2a bufio.Reader \u5bf9\u8c61\uff0c\u6307\u5b9a\u7f13\u51b2\u533a\u5927\u5c0f size byte\n\nfunc (b *Reader) Read(p []byte) (n int, err error) {}           // \u8bfb\u53d6\u6570\u636e\u5230 p \u4e2d\nfunc (b *Reader) ReadByte() (byte, error) {}                    // \u8bfb\u53d6\u4e00\u4e2a byte \u7684\u6570\u636e\nfunc (b *Reader) ReadRune() (r rune, size int, err error) {}    // \u8bfb\u53d6\u4e00\u4e2a rune \u7684\u6570\u636e\nfunc (b *Reader) ReadLine() (line []byte, isPrefix bool, err error) {} // \u8bfb\u53d6\u4e00\u884c\u6570\u636e,\u4e0d\u5efa\u8bae\u4f7f\u7528\nfunc (b *Reader) ReadBytes(delim byte) ([]byte, error) {}              // \u9047\u5230\u6307\u5b9a\u7684\u5b57\u7b26 delim \u505c\u6b62\uff0c\u8fd4\u56de []byte \u683c\u5f0f\nfunc (b *Reader) ReadString(delim byte) (string, error) {}             // \u9047\u5230\u6307\u5b9a\u7684\u5b57\u7b26 delim \u505c\u6b62\uff0c\u8fd4\u56de string \u683c\u5f0f\nfunc (b *Reader) ReadSlice(delim byte) (line []byte, err error) {}\n</code></pre><p></p> <p>Example</p> <pre><code>func main() {\n    f, err := os.Open(\"abc.txt\")\n    if err != nil {\n        log.Fatal(err)\n    }\n    defer f.Close()\n\n    buf := bufio.NewReader(f)\n    s, err, := buf.ReadString(\"\\n\")    // \u9047\u5230\u7b2c\u4e00\u4e2a\u6362\u884c\u7b26\u65f6\u505c\u6b62\u8bfb\u53d6\n    fmt.Println(s)    // Hello World\n}\n</code></pre>"},{"location":"Go/StdLib/File%26IO/bufio/#_3","title":"\u5199\u5165","text":"<p>\u65b9\u6cd5\u7b7e\u540d\uff1a</p> <pre><code>func NewWriter(w io.Writer) *Writer {}                // \u521b\u5efa\u4e00\u4e2a bufio.Writer \u5bf9\u8c61\uff0c\u9ed8\u8ba4\u7f13\u51b2\u533a\u5927\u5c0f 4096 byte\nfunc NewWriterSize(w io.Writer, size int) *Writer {}  // \u521b\u5efa\u4e00\u4e2a bufio.Writer \u5bf9\u8c61\uff0c\u6307\u5b9a\u7f13\u51b2\u533a\u5927\u5c0f size byte\n\nfunc (b *Writer) Write(p []byte) (nn int, err error) {}        // \u5199\u5165 p \u4e2d\u7684\u6570\u636e\uff0c\u8fd4\u56de\u5199\u5165\u7684\u5b57\u8282\u6570\u548c\u9519\u8bef\nfunc (b *Writer) WriteByte(c byte) error {}                    // \u5199\u5165\u4e00\u4e2a byte \u6570\u636e\uff0c\u5199\u5165\u5931\u8d25\u8fd4\u56de\u9519\u8bef\uff0c\u5199\u5165\u6210\u529f\u8fd4\u56de nil\nfunc (b *Writer) WriteRune(r rune) (size int, err error) {}    // \u5199\u5165\u4e00\u4e2a rune \u6570\u636e\uff0c\u8fd4\u56de\u5199\u5165\u7684\u5b57\u8282\u6570\u548c\u9519\u8bef\nfunc (b *Writer) WriteString(s string) (int, error) {}         // \u5199\u5165\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de\u5199\u5165\u7684\u5b57\u8282\u6570\u548c\u9519\u8bef\n</code></pre> <p>Example</p> <pre><code>func main() {\n    f, err := os.OpenFile(\"abc.txt\", os.O_WRONLY, 0777)\n    if err != nil {\n        log.Fatal(err)\n    }\n    defer f.Close()\n\n    buf := bufio.NewWriter(f)\n    size, err := buf.WriteRune('\u725b')\n    fmt.Println(size)    // 3\n}\n</code></pre> <p><code>bufio.Writer</code> \u8fd8\u6709\u4e00\u4e9b\u5de5\u5177\u65b9\u6cd5\uff1a</p> <pre><code>func (b *Writer) Size() int {}            // \u8fd4\u56de\u7f13\u51b2\u533a\u7684\u5927\u5c0f\nfunc (b *Writer) Available() int {}       // \u8fd4\u56de\u7f13\u51b2\u533a\u5f53\u524d \u53ef\u7528 \u7684\u5927\u5c0f\nfunc (b *Writer) Buffered() int {}        // \u8fd4\u56de\u7f13\u51b2\u533a\u5f53\u524d \u5df2\u7528 \u7684\u5927\u5c0f\nfunc (b *Writer) Reset(w io.Writer) {}    // \u4e22\u5f03\u7f13\u51b2\u533a\u7684\u6570\u636e\uff0c\u5e76\u628a\u7f13\u51b2\u533a\u6e05\u7a7a\nfunc (b *Writer) Flush() error {}         // \u5c06\u7f13\u51b2\u533a\u6570\u636e\u5199\u5165\u6587\u4ef6\uff0c\u5e76\u628a\u7f13\u51b2\u533a\u6e05\u7a7a\n</code></pre>"},{"location":"Go/StdLib/File%26IO/io/","title":"IO","text":""},{"location":"Go/StdLib/File%26IO/io/#io","title":"IO\u64cd\u4f5c","text":"<p>IO\u64cd\u4f5c\u57fa\u672c\u4e09\u6b65\uff1a</p> <ol> <li>\u6253\u5f00\u6587\u4ef6</li> <li>\u8bfb\u5199\u6570\u636e</li> <li>\u5173\u95ed\u6587\u4ef6</li> </ol> <p>\u6253\u5f00\u6587\u4ef6\uff0c\u5176\u5b9e\u662f\u8ba9\u7a0b\u5e8f\u548c\u6587\u4ef6\u4e4b\u95f4\u5efa\u7acb\u8fde\u63a5\u3002\u5173\u95ed\u6587\u4ef6\uff0c\u5176\u5b9e\u5c31\u662f\u65ad\u5f00\u8fde\u63a5\u3002\u8fd9\u4e24\u8005\u7f3a\u4e00\u4e0d\u53ef\u3002</p> <p>IO\u64cd\u4f5c\uff0c\u65e0\u5916\u4e4e \u8bfb\uff08Read\uff09 \u548c \u5199\uff08Write\uff09\u3002</p> <p>\u6211\u4eec\u5199\u7684\u7a0b\u5e8f\u662f\u8fd0\u884c\u5728\u5185\u5b58\u4e2d\u7684\uff0c\u7ad9\u5728\u7a0b\u5e8f\u7684\u7acb\u573a\u4e0a\uff0c</p> <ul> <li>\u6570\u636e\u4ece\u78c1\u76d8\u8fdb\u5165\u5185\u5b58\uff0c\u79f0\u4e4b\u4e3a \u8bfb\u53d6\uff08Read\uff09\u3001\u8f93\u5165\uff08Input\uff09\uff1b</li> <li>\u6570\u636e\u4ece\u5185\u5b58\u51fa\u53bb\u78c1\u76d8\uff0c\u79f0\u4e4b\u4e3a \u5199\u5165\uff08Write\uff09\u3001\u8f93\u51fa\uff08Output\uff09\uff1b</li> </ul> <p></p> <pre><code>func main() {\n    // // 1. \u6253\u5f00\u6587\u4ef6\n    f, err := os.Open(\"trytrytry/abc.txt\")\n    if err != nil {\n        fmt.Println(err)\n    }\n    // 3. \u5173\u95ed\u6587\u4ef6\n    defer f.Close()\n\n    // 2. \u8bfb\u53d6\u6570\u636e\n    bs := make([]byte, 4, 4)\n    n, err := f.Read(bs)\n    fmt.Println(err)\n    fmt.Println(n)\n    fmt.Println(bs)\n}\n</code></pre>"},{"location":"Go/StdLib/File%26IO/io/#_1","title":"\u8bfb\u53d6","text":"<p>\u8bfb\u53d6\u64cd\u4f5c\u662f\u4e00\u7ec4 <code>File</code> \u7c7b\u578b\u7684\u65b9\u6cd5</p> <p>\u65b9\u6cd5\u7b7e\u540d\u5982\u4e0b\uff1a </p><pre><code>func (f *File) Read(b []byte) (n int, err error) {}\nfunc (f *File) ReadAt(b []byte, off int64) (n int, err error) {}\nfunc (f *File) ReadFrom(r io.Reader) (n int64, err error) {}\nfunc (f *File) Readdir(n int) ([]FileInfo, error) {}\nfunc (f *File) Readdirnames(n int) (names []string, err error) {}\n</code></pre><p></p> <p><code>Read(b []byte)(n int, err error)</code>\uff1a\u4ece\u6587\u4ef6\u5934\u5f00\u59cb\u8bfb\u53d6\u6570\u636e\u5b58\u653e\u5230 <code>b</code> \u4e2d\uff0c\u8bfb\u53d6\u6210\u529f \u8fd4\u56de <code>n</code> \u8bfb\u53d6\u7684\u5b57\u8282\u6570\uff0c<code>err</code> \u4e3a <code>nil</code>\uff1b\u8bfb\u53d6\u5230\u6587\u4ef6\u672b\u5c3e\u65f6 <code>err</code> \u8fd4\u56de 0\uff0c\u5373 <code>io.EOF</code>\u3002</p> <p><code>ReadAt(b []byte, off int64) (n int, err error)</code>\uff1a\u4ece\u6587\u4ef6\u5934\u5f00\u59cb\u7b2c <code>off</code> \u4e2a \u5b57\u8282\u8bfb\u53d6\u6570\u636e\u5b58\u653e\u5230 <code>b</code> \u4e2d\uff0c\u8bfb\u53d6\u6210\u529f \u8fd4\u56de <code>n</code> \u8bfb\u53d6\u7684\u5b57\u8282\u6570\uff0c<code>err</code> \u4e3a <code>nil</code>\uff1b\u8bfb\u53d6\u5230\u6587\u4ef6\u672b\u5c3e\u65f6 <code>err</code> \u8fd4\u56de 0\uff0c\u5373 <code>io.EOF</code>\u3002</p> <p><code>ReadFrom(r io.Reader) (n int64, err error)</code>\uff1a<code>io.ReaderFrom</code>\u7684\u5b9e\u73b0\u3002</p> <pre><code>func main() {\n    // 1. \u6253\u5f00\u6587\u4ef6\n    f, err := os.Open(\"abc.txt\")\n    if err != nil {\n        log.Fatal(err)\n        return\n    }\n\n    // 3. \u5173\u95ed\u6587\u4ef6\n    defer f.Close()\n\n    // 2. \u6309\u5b57\u8282\u8bfb\u53d6\n    b := make([]byte, 1024)\n    for {\n        n, err := f.Read(b)\n        if n == 0 || err == io.EOF { break }\n        fmt.Println(b[:n])\n    }\n}\n</code></pre>"},{"location":"Go/StdLib/File%26IO/io/#_2","title":"\u5199\u5165","text":"<p>\u5199\u5165\u64cd\u4f5c\u662f\u4e00\u7ec4 <code>File</code> \u7c7b\u578b\u7684\u65b9\u6cd5</p> <p>\u65b9\u6cd5\u7b7e\u540d\u5982\u4e0b\uff1a </p><pre><code>func (f *File) Write(b []byte) (n int, err error) {}\nfunc (f *File) WriteAt(b []byte, off int64) (n int, err error) {}\nfunc (f *File) WriteString(s string) (n int, err error) {}\n</code></pre><p></p> <p><code>Write(b []byte) (n int, err error)</code>\uff1a\u4ece\u6587\u4ef6\u5934\u5f00\u59cb\u5199\u5165 <code>b</code> \u4e2d\u7684\u6570\u636e\uff0c\u5199\u5165\u6210\u529f \u8fd4\u56de <code>n</code> \u5199\u5165\u7684\u5b57\u8282\u6570\uff0c<code>err</code> \u4e3a <code>nil</code>\u3002</p> <p><code>WriteAt(b []byte, off int64) (n int, err error)</code>\uff1a\u4ece\u6587\u4ef6\u5934\u5f00\u59cb\u7b2c <code>off</code> \u4e2a \u5b57\u8282\u5f00\u59cb\u5199\u5165 <code>b</code> \u4e2d\u7684\u6570\u636e\uff0c\u5199\u5165\u6210\u529f \u8fd4\u56de <code>n</code> \u5199\u5165\u7684\u5b57\u8282\u6570\uff0c<code>err</code> \u4e3a <code>nil</code>\u3002</p> <p><code>WriteString(s string) (n int, err error)</code>\uff1a\u5199\u5165\u4e00\u4e2a\u5b57\u7b26\u4e32 <code>s</code> \u5230\u6587\u4ef6\u4e2d\uff0c\u5199\u5165\u6210\u529f \u8fd4\u56de <code>n</code> \u5199\u5165\u7684\u5b57\u8282\u6570\uff0c<code>err</code> \u4e3a <code>nil</code>\u3002</p> <p>\u4f8b1</p> <pre><code>func main() {\n    // 1. \u6253\u5f00\u6587\u4ef6\uff0c\u82e5\u6587\u4ef6\u4e0d\u5b58\u5728\u5219\u521b\u5efa\uff0c\u6743\u96500777\uff0c\u5e76\u4ee5\u53ea\u5199\u6a21\u5f0f\u6253\u5f00\n    f, err := os.OpenFile(\"abc.txt\", os.O_CREATE | os.O_WRONLY, os.ModePerm)\n    if err != nil {\n        log.Fatal(err)\n        return\n    }\n    // 3. \u5173\u95ed\u6587\u4ef6\n    defer f.Close()\n\n    // 2. \u5199\u5165\u6570\u636e\n    b := []byte{65, 66, 67, 68, 69}    // A, B, C, D, E\n    n, err := f.Write(b)\n    if err != nil {\n        log.Fatal(err)\n        return\n    }\n    fmt.Println(n)\n}\n</code></pre> <p>\u4f8b2</p> <pre><code>func main() {\n    // 1. \u6253\u5f00\u6587\u4ef6\uff0c\u82e5\u6587\u4ef6\u4e0d\u5b58\u5728\u5219\u521b\u5efa\uff0c\u6743\u96500777\uff0c\u5e76\u4ee5\u53ea\u5199\u6a21\u5f0f\u6253\u5f00\n    f, err := os.OpenFile(\"abc.txt\", os.O_CREATE | os.O_WRONLY, os.ModePerm)\n    if err != nil {\n        log.Fatal(err)\n        return\n    }\n    // 3. \u5173\u95ed\u6587\u4ef6\n    defer f.Close()\n\n    // 2. \u5199\u5165\u6570\u636e\n    b := []byte{65, 66, 67, 68, 69}    // A, B, C, D, E\n    n, err := f.Write(b[:3])    // \u53ea\u5199\u51653\u4e2a\u5b57\u8282\n    if err != nil {\n        log.Fatal(err)\n        return\n    }\n    fmt.Println(n)\n}\n</code></pre> <p>\u4f8b3</p> <pre><code>func main() {\n    // 1. \u6253\u5f00\u6587\u4ef6\uff0c\u82e5\u6587\u4ef6\u4e0d\u5b58\u5728\u5219\u521b\u5efa\uff0c\u6743\u96500777\uff0c\u5e76\u4ee5\u53ea\u5199\u6a21\u5f0f\u6253\u5f00\n    f, err := os.OpenFile(\"abc.txt\", os.O_CREATE | os.O_WRONLY, os.ModePerm)\n    if err != nil {\n        log.Fatal(err)\n        return\n    }\n    // 3. \u5173\u95ed\u6587\u4ef6\n    defer f.Close()\n\n    // 2. \u5199\u5165\u6570\u636e\n    n, err := f.WriteString(\"Hello World\")\n    if err != nil {\n        log.Fatal(err)\n    }\n    fmt.Println(n)\n}\n</code></pre>"},{"location":"Go/StdLib/File%26IO/io/#_3","title":"\u590d\u5236\u6587\u4ef6","text":"<p>\u590d\u5236\u6587\u4ef6\u5176\u5b9e\u5c31\u662f\u6253\u5f00\u4e00\u4e2a\u6e90\u6587\u4ef6\uff0c\u6253\u5f00\u4e00\u4e2a\u76ee\u6807\u6587\u4ef6\uff0c\u7136\u540e\u4ece\u6e90\u6587\u4ef6\u8bfb\u53d6\uff0c\u5199\u5165\u5230\u76ee\u6807\u6587\u4ef6\u3002</p> <p>Golang \u4e2d\u6709\u4e09\u79cd\u65b9\u5f0f\u5b8c\u6210\u3002</p> <ul> <li>\u65b9\u5f0f\u4e00\uff1a\u4f7f\u7528\u6309\u5b57\u8282\u7684\u65b9\u5f0f\u5faa\u73af\u590d\u5236\u3002</li> </ul> <pre><code>func copyFile1(destPath, srcPath string) (int, error) {\n    f1, err := os.Open(srcPath)\n    if err != nil {\n        log.Fatal(err)\n    }\n\n    f2, err := os.OpenFile(destPath, os.O_CREATE|os.O_WRONLY, os.ModePerm)\n    if err != nil {\n        log.Fatal(err)\n    }\n\n    defer f1.Close()\n    defer f2.Close()\n\n    b := make([]byte, 1024)\n    total := 0\n    for {\n        n, err := f1.Read(b)\n        if err != nil {\n            log.Fatal(err)\n        }\n\n        if n == 0 || err == io.EOF {\n            fmt.Println(\"\u8bfb\u53d6\u7ed3\u675f\uff01\")\n            break\n        } else if err != nil {\n            log.Fatal(err)\n            return total, err\n        }\n\n        total += n\n        f2.Write(b[:n])\n    }\n    return total, nil\n}\n</code></pre> <ul> <li>\u65b9\u5f0f\u4e8c\uff1a\u4f7f\u7528 <code>io.Copy()</code> \u590d\u5236</li> </ul> <pre><code>func copyFile2(destPath, srcPath string) (int64, error) {\n    f1, err := os.Open(srcPath)\n    if err != nil {\n        return 0, err\n    }\n    f2, err := os.OpenFile(destPath, os.O_CREATE|os.O_WRONLY, os.ModePerm)\n    if err != nil {\n        return 0, err\n    }\n    defer f1.Close()\n    defer f2.Close()\n\n    return io.Copy(f1, f2)\n}\n</code></pre> <ul> <li>\u65b9\u5f0f\u4e09\uff1a\u4f7f\u7528 <code>ReadFile</code> \u548c <code>WriteFile</code> \u590d\u5236\u3002\u4f46\u8fd9\u79cd\u65b9\u5f0f\u9488\u5bf9\u5927\u6587\u4ef6\u65f6\u4f1a\u51fa\u95ee\u9898\u3002\u56e0\u4e3a\u5b83\u662f\u4e00\u6b21\u6027\u5168\u90e8\u8bfb\u53d6\u5230\u5185\u5b58\u4e2d\uff0c\u5982\u679c\u6587\u4ef6\u592a\u5927\u4f1a\u7206\u5185\u5b58\u3002</li> </ul> <pre><code>func copyFile3(destPath, srcPath string) (int, error) {\n\n    bs, err := ioutil.ReadFile(srcPath)\n    if err != nil {\n        return 0, err\n    }\n\n    err = ioutil.WriteFile(destPath, bs, 0777)\n    if err != nil {\n        return 0, err\n    }\n\n    return len(bs), nil\n}\n</code></pre>"},{"location":"Go/StdLib/File%26IO/io/#_4","title":"\u65ad\u70b9\u7eed\u4f20","text":"<p>\u6211\u4eec\u5728\u4e0b\u8f7d\u6587\u4ef6\u6216\u8005\u590d\u5236\u6587\u4ef6\u7684\u65f6\u5019\uff0c\u5982\u679c\u4e2d\u9014\u65ad\u7535\uff0c\u6216\u8005\u6682\u505c\uff0c\u90a3\u4e48\u91cd\u65b0\u4f20\u8f93\u7684\u65f6\u5019\u662f\u5426\u8981\u4e00\u5207\u4ece\u5934\u5f00\u59cb\uff1f \u7b54\u6848\u662f\u5426\u5b9a\u7684\u3002</p> <p>\u4e0b\u8f7d\u6587\u4ef6\u7b49\u64cd\u4f5c\u672c\u8d28\u5c31\u662f\u590d\u5236\uff0c\u60f3\u8981\u5b9e\u73b0\u65ad\u70b9\u7eed\u4f20\uff0c\u9700\u8981\u501f\u52a9\u4e00\u4e2a\u4e34\u65f6\u6587\u4ef6\uff0c\u5728\u4f20\u8f93\u7684\u65f6\u5019\u4e0d\u65ad\u628a\u5df2\u4f20\u8f93\u5b8c\u6210\u7684\u5b57\u8282\u6570\u5199\u5165\u4e34\u65f6\u6587\u4ef6\u3002 \u5982\u679c\u56e0\u4e3a\u67d0\u4e9b\u539f\u56e0\u7a81\u7136\u65ad\u5f00\u4f20\u8f93\uff0c\u4e0b\u4e00\u6b21\u91cd\u65b0\u4f20\u8f93\u7684\u65f6\u5019\u4f1a\u5148\u8bfb\u53d6\u4e34\u65f6\u6587\u4ef6\u4e2d\u7684\u5b57\u8282\u6570\uff0c\u7136\u540e\u8bbe\u7f6e\u6587\u4ef6\u7684\u8bfb\u5199\u4f4d\u7f6e\uff0c\u63a5\u7740\u590d\u5236\uff08\u4f20\u8f93\uff09\u3002 \u4f20\u8f93\u5b8c\u6210\u540e\uff0c\u5c06\u4e34\u65f6\u6587\u4ef6\u5220\u9664\u5373\u53ef\u3002</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"io\"\n    \"log\"\n    \"os\"\n    \"strconv\"\n)\n\nfunc main() {\n    src := \"trytrytry/3.jpg\"\n    dest := \"trytrytry/33.jpg\"\n    temp := \"trytrytry/33jpg.temp.txt\"\n    breakPoint(dest, src, temp)\n}\n\nfunc breakPoint(dest, src, temp string) {\n\n    srcf, err := os.Open(src)\n    if err != nil {\n        log.Fatal(err)\n    }\n    destf, err := os.OpenFile(dest, os.O_CREATE|os.O_WRONLY, 0777)\n    if err != nil {\n        log.Fatal(err)\n    }\n    tempf, err := os.OpenFile(temp, os.O_CREATE|os.O_RDWR, 0777)\n    if err != nil {\n        log.Fatal(err)\n    }\n\n    defer destf.Close()\n    defer srcf.Close()\n    defer tempf.Close()\n\n    // 1. \u8bfb\u53d6\u4e34\u65f6\u6587\u4ef6\u4e2d\u7684\u6570\u636e\n    bs := make([]byte, 100)\n    tempf.Read(bs)\n    count, err := strconv.ParseInt(string(bs), 10, 64)\n\n    // 2. \u8bbe\u7f6e\u8bfb\u5199\u4f4d\u7f6e\n    srcf.Seek(count, io.SeekStart)\n    destf.Seek(count, io.SeekStart)\n    data := make([]byte, 8*1024)\n    n2 := -1\n    n3 := -1\n    total := int(count) // \u5199\u5165\u603b\u91cf\n\n    // 3. \u590d\u5236\u6587\u4ef6\n    for {\n        n2, err = srcf.Read(data)\n        if err == io.EOF || n2 == 0 {\n            fmt.Println(\"\u6587\u4ef6\u590d\u5236\u5b8c\u6bd5...\", total)\n            tempf.Close()\n            os.Remove(temp)\n            break\n        }\n        n3, err = destf.Write(data[:n2])\n        total += n3\n        // \u5c06\u590d\u5236\u7684\u603b\u91cf\uff0c\u5b58\u50a8\u5230\u4e34\u65f6\u6587\u4ef6\u4e2d\n        tempf.Seek(0, io.SeekStart)\n        tempf.WriteString(strconv.Itoa(total))\n\n        // if total &gt; 100000 {\n        //  panic(\"\u6a21\u62df\u65ad\u7535\")\n        // }\n    }\n}\n</code></pre>"},{"location":"Go/StdLib/File%26IO/io/#ioioutil","title":"io.ioutil","text":""},{"location":"Go/StdLib/File%26IO/io/#_5","title":"\u5bfc\u5305","text":"<pre><code>import \"io/ioutil\"\n</code></pre>"},{"location":"Go/StdLib/File%26IO/io/#_6","title":"\u51fd\u6570\u96c6\u5408","text":"<pre><code>func ReadAll(r io.Reader) ([]byte, error) {}\nfunc ReadDir(dirname string) ([]os.FileInfo, error) {}\nfunc ReadFile(filename string) ([]byte, error) {}\nfunc WriteFile(filename string, data []byte, perm os.FileMode) error {}\nfunc TempFile(dir, pattern string) (f *os.File, err error) {}\nfunc TempDir(dir, pattern string) (name string, err error) {}\nfunc NopCloser(r io.Reader) io.ReadCloser {}\n\ntype devNull int\n\nfunc (devNull) Write(p []byte) (int, error) {}\nfunc (devNull) WriteString(s string) (int, error) {}\nfunc (devNull) ReadFrom(r io.Reader) (n int64, err error) {}\n</code></pre>"},{"location":"Go/StdLib/File%26IO/io/#readall","title":"ReadAll","text":"<pre><code>func ReadAll(r io.Reader) ([]byte, error)\n</code></pre> <ul> <li>\u529f\u80fd\uff1aReadAll\u4ecer\u8bfb\u53d6\u6570\u636e\u76f4\u5230EOF\u6216\u9047\u5230error</li> <li>\u8fd4\u56de\u503c\uff1a<ul> <li>\u8fd4\u56de\u8bfb\u53d6\u7684\u6570\u636e\u548c\u9047\u5230\u7684\u9519\u8bef</li> <li>\u6210\u529f\u7684\u8c03\u7528\u8fd4\u56de\u7684err\u4e3anil\u800c\u975eEOF</li> </ul> </li> <li>\u56e0\u4e3a\u672c\u51fd\u6570\u5b9a\u4e49\u4e3a\u8bfb\u53d6r\u76f4\u5230EOF\uff0c\u5b83\u4e0d\u4f1a\u5c06\u8bfb\u53d6\u8fd4\u56de\u7684EOF\u89c6\u4e3a\u5e94\u62a5\u544a\u7684\u9519\u8bef</li> <li>\u5e95\u5c42\u5b9e\u73b0\uff1a\u9605\u8bfb\u8be5\u51fd\u6570\u7684\u6e90\u7801\u53d1\u73b0\uff0c\u5b83\u662f\u901a\u8fc7 bytes.Buffer\u4e2d\u7684ReadFrom \u6765\u5b9e\u73b0\u8bfb\u53d6\u6240\u6709\u6570\u636e\u7684</li> </ul>"},{"location":"Go/StdLib/File%26IO/io/#readfile","title":"ReadFile","text":"<pre><code>func ReadFile(filename string) ([]byte, error)\n</code></pre> <ul> <li>\u529f\u80fd\uff1aReadFile\u4ecefilename\u6307\u5b9a\u7684\u6587\u4ef6\u4e2d \u8bfb\u53d6\u6570\u636e\u5e76\u8fd4\u56de\u6587\u4ef6\u7684\u5185\u5bb9</li> <li>\u8fd4\u56de\u503c\uff1a\u6210\u529f\u8fd4\u56de\u7684 err \u4e3a nil \u800c\u975e EOF</li> <li>\u56e0\u4e3a\u672c\u51fd\u6570\u5b9a\u4e49\u4e3a\u8bfb\u53d6\u6574\u4e2a\u6587\u4ef6\uff0c\u5b83 \u4e0d\u4f1a\u5c06\u8bfb\u53d6\u8fd4\u56de\u7684EOF\u89c6\u4e3a\u5e94\u62a5\u544a\u7684\u9519\u8bef</li> <li>ReadFile\u7684\u662f\u5b9e\u73b0\u548cReadAll\u7c7b\u4f3c\uff0c\u4e0d\u8fc7\uff0cReadFile\u4f1a\u5148\u5224\u65ad\u6587\u4ef6\u7684\u5927\u5c0f\uff0c\u7ed9bytes.Buffer\u4e00\u4e2a\u9884\u5b9a\u4e49\u5bb9\u91cf\uff0c\u907f\u514d\u989d\u5916\u5206\u914d\u5185\u5b58</li> <li>ReadFile\u6e90\u7801\u4e2d \u5148\u83b7\u53d6\u4e86\u6587\u4ef6\u7684\u5927\u5c0f\uff0c\u5f53\u5927\u5c0f&lt;1e9\u65f6\uff0c\u624d\u4f1a\u7528\u5230\u6587\u4ef6\u7684\u5927\u5c0f\u3002\u6309\u6e90\u7801\u4e2d\u6ce8\u91ca\u7684\u8bf4\u6cd5\u662fFileInfo\u4e0d\u4f1a\u5f88\u7cbe\u786e\u5730\u5f97\u5230\u6587\u4ef6\u5927\u5c0f</li> </ul>"},{"location":"Go/StdLib/File%26IO/io/#writefile","title":"WriteFile","text":"<pre><code>func WriteFile(filename string, data []byte, perm os.FileMode) error\n</code></pre> - \u529f\u80fd\uff1a\u5b83\u5c06data\u5199\u5165filename\u6587\u4ef6\u4e2d\uff0c\u5f53\u6587\u4ef6\u4e0d\u5b58\u5728\u65f6\u4f1a\u521b\u5efa\u4e00\u4e2a\uff08\u6587\u4ef6\u6743\u9650\u7531perm\u6307\u5b9a\uff09\uff1b\u5426\u5219\u4f1a\u5148\u6e05\u7a7a\u6587\u4ef6\u5185\u5bb9\u518d\u5199\u5165"},{"location":"Go/StdLib/File%26IO/io/#readdir","title":"ReadDir","text":"<pre><code>func ReadDir(dirname string) ([]os.FileInfo, error)\n</code></pre> <ul> <li>\u529f\u80fd\uff1a\u5b83\u8bfb\u53d6\u76ee\u5f55\u5e76\u8fd4\u56de\u6392\u597d\u5e8f\u7684\u6587\u4ef6\u548c\u5b50\u76ee\u5f55\u540d\uff08[]os.FileInfo\uff09</li> </ul>"},{"location":"Go/StdLib/File%26IO/io/#tempdir","title":"TempDir","text":"<pre><code>func TempDir(dir, prefix string) (name string, err error)\n</code></pre> <ul> <li>\u529f\u80fd\uff1a\u5728dir\u76ee\u5f55\u91cc\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u3001\u4f7f\u7528prfix\u4f5c\u4e3a\u524d\u7f00\u7684\u4e34\u65f6\u6587\u4ef6\u5939\uff0c\u5e76\u8fd4\u56de\u6587\u4ef6\u5939\u7684\u8def\u5f84</li> <li>\u5982\u679cdir\u662f\u7a7a\u5b57\u7b26\u4e32\uff0c\u8868\u660e\u5728\u7cfb\u7edf\u9ed8\u8ba4\u7684\u4e34\u65f6\u76ee\u5f55\u4e2d\u521b\u5efa\u4e34\u65f6\u76ee\u5f55\uff08\u53c2\u89c1os.TempDir\uff09</li> <li> <p>\u4e0d\u540c\u7a0b\u5e8f\u540c\u65f6\u8c03\u7528\u8be5\u51fd\u6570\u4f1a\u521b\u5efa\u4e0d\u540c\u7684\u4e34\u65f6\u76ee\u5f55\uff0c\u8c03\u7528\u672c\u51fd\u6570\u7684\u7a0b\u5e8f\u6709\u8d23\u4efb\u5728\u4e0d\u9700\u8981\u4e34\u65f6\u6587\u4ef6\u5939\u65f6\u5220\u9664\u5b83\u3002\u4ee3\u7801\u5982\u4e0b\u6240\u793a</p> <pre><code>defer func() {\n    f.Close()\n    os.Remove(f.Name())\n}()\n</code></pre> </li> </ul>"},{"location":"Go/StdLib/File%26IO/io/#tempfile","title":"TempFile","text":"<pre><code>func TempFile(dir, prefix string) (f *os.File, err error)\n</code></pre> <ul> <li>\u529f\u80fd\uff1a\u5728dir\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u3001\u4f7f\u7528prefix\u4e3a\u524d\u7f00\u7684\u4e34\u65f6\u6587\u4ef6\uff0c\u4ee5\u8bfb\u5199\u6a21\u5f0f\u6253\u5f00\u8be5\u6587\u4ef6\u5e76\u8fd4\u56deos.File\u6307\u9488</li> <li>\u5982\u679cdir\u662f\u7a7a\u5b57\u7b26\u4e32\uff0c\u8868\u660e\u5728\u7cfb\u7edf\u9ed8\u8ba4\u7684\u4e34\u65f6\u76ee\u5f55\u4e2d\u521b\u5efa\u4e34\u65f6\u6587\u4ef6\uff08\u53c2\u89c1os.TempDir\uff09</li> <li> <p>\u4e0d\u540c\u7a0b\u5e8f\u540c\u65f6\u8c03\u7528\u8be5\u51fd\u6570\u4f1a\u521b\u5efa\u4e0d\u540c\u7684\u4e34\u65f6\u6587\u4ef6\uff0c\u8c03\u7528\u672c\u51fd\u6570\u7684\u7a0b\u5e8f\u6709\u8d23\u4efb\u5728\u4e0d\u9700\u8981\u4e34\u65f6\u6587\u4ef6\u65f6\u6467\u6bc1\u5b83\u3002\u4ee3\u7801\u5982\u4e0b\u6240\u793a</p> <pre><code>defer func() {\n    f.Close()\n    os.Remove(f.Name())\n}()\n</code></pre> </li> </ul>"},{"location":"Go/StdLib/File%26IO/io/#nopcloser","title":"NopCloser","text":"<pre><code>func NopCloser(r io.Reader) io.ReadCloser\n</code></pre> <ul> <li>\u529f\u80fd\uff1aNopCloser\u7528\u4e00\u4e2a\u65e0\u64cd\u4f5c\u7684Close\u65b9\u6cd5\u5305\u88c5r\u8fd4\u56de\u4e00\u4e2aReadCloser\u63a5\u53e3</li> <li>\u6709\u65f6\u5019\u6211\u4eec\u9700\u8981\u4f20\u9012\u4e00\u4e2aio.ReadCloser\u7684\u5b9e\u4f8b\uff0c\u800c\u6211\u4eec\u73b0\u5728\u6709\u4e00\u4e2aio.Reader\u7684\u5b9e\u4f8b\uff0c\u6bd4\u5982\uff1astrings.Reader\uff0c\u8fd9\u4e2a\u65f6\u5019NopCloser\u5c31\u6d3e\u4e0a\u7528\u573a\u4e86\u3002\u5b83\u5305\u88c5\u4e00\u4e2aio.Reader\uff0c\u8fd4\u56de\u4e00\u4e2aio.ReadCloser\uff0c\u800c\u76f8\u5e94\u7684Close\u65b9\u6cd5\u5565\u4e5f\u4e0d\u505a\uff0c\u53ea\u662f\u8fd4\u56denil</li> </ul> <p>Example</p> <p>\u5728\u6807\u51c6\u5e93net/http\u5305\u4e2d\u7684NewRequest\uff0c\u63a5\u6536\u4e00\u4e2aio.Reader\u7684body\uff0c\u800c\u5b9e\u9645\u4e0a\uff0cRequest\u7684Body\u7684\u7c7b\u578b\u662fio.ReadCloser\uff0c\u56e0\u6b64\uff0c\u4ee3\u7801\u5185\u90e8\u8fdb\u884c\u4e86\u5224\u65ad\uff0c\u5982\u679c\u4f20\u9012\u7684io.Reader\u4e5f\u5b9e\u73b0\u4e86io.ReadCloser\u63a5\u53e3\uff0c\u5219\u8f6c\u6362\uff0c\u5426\u5219\u901a\u8fc7ioutil.NopCloser\u5305\u88c5\u8f6c\u6362\u4e00\u4e0b\u3002\u76f8\u5173\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>rc, ok := body.(io.ReadCloser)\nif !ok &amp;&amp; body != nil {\n    rc = ioutil.NopCloser(body)\n}\n</code></pre>"},{"location":"Go/StdLib/File%26IO/os/","title":"os","text":""},{"location":"Go/StdLib/File%26IO/os/#os","title":"os","text":"<p>os \u5305\u63d0\u4f9b\u4e86\u4e0e\u64cd\u4f5c\u7cfb\u7edf\u65e0\u5173\u7684\u63a5\u53e3\uff0c\u4f7f\u7528\u8fd9\u4e2a\u5305\u7684\u65f6\u5019\u53ef\u4ee5\u4e0d\u8003\u8651\u64cd\u4f5c\u7cfb\u7edf\u4e4b\u95f4\u7684\u5dee\u5f02\u3002</p> <p>\u63d0\u4f9b\u7684\u65b9\u6cd5\u6709\u5f88\u591a\uff0c\u5f88\u5927\u90e8\u5206\u662f\u4e0e\u6587\u4ef6\u64cd\u4f5c\u76f8\u5173\uff0c\u4e0b\u9762\u662f\u4e0e\u6587\u4ef6\u64cd\u4f5c\u76f8\u5173\u7684\u51fd\u6570\u548c\u65b9\u6cd5\uff1a</p> <p>(f \u8868\u793a\u4e00\u4e2a FileInfo \u5bf9\u8c61) (fd \u8868\u793a\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u5982\u8bfb\u3001\u5199\u3001\u521b\u5efa\u7b49 )</p> \u65b9\u6cd5 \u8bf4\u660e \u6253\u5f00\u548c\u5173\u95ed\u6587\u4ef6 Open(name) (*File, error) \u6253\u5f00 name \u6587\u4ef6\uff0c\u6587\u4ef6fd\u4e3a\u53ea\u8bfb os.O_RDONLY OpenFile(name, flag, perm) (*File, error) \u6253\u5f00 name \u6587\u4ef6\uff0c\u6587\u4ef6fd\u7531flag\u6307\u5b9a\uff0c\u6587\u4ef6\u4e0d\u5b58\u5728\u5219\u521b\u5efa\uff0c\u521b\u5efa\u6743\u9650\u4e3aperm f.Close() \u5173\u95ed\u6587\u4ef6 \u521b\u5efa\u6587\u4ef6\u3001\u76ee\u5f55 Stat(name) (FileInfo, error) \u7528\u4e8e\u8fd4\u56de\u4e00\u4e2a\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u6587\u4ef6\u4fe1\u606f Create(name) (*File, error) \u521b\u5efa\uff08\u6587\u4ef6\u4e0d\u5b58\u5728\uff09\u6587\u4ef6\u6216\u6e05\u7a7a\uff08\u6587\u4ef6\u5df2\u5b58\u5728\uff09\u6587\u4ef6\u5185\u5bb9\u3002\u521b\u5efa\u6743\u96500666\uff0cfd \u4e3a\u8bfb\u5199 os.O_RDWR NewFile(fd, name) *File \u521b\u5efa\u6587\u4ef6\uff0cfd\u9700\u6307\u5b9a\u3002 Mkdir(name, perm) error \u521b\u5efa\u76ee\u5f55\uff0c\u6743\u9650\u9700\u6307\u5b9a MkdirAll(path, perm) error \u9012\u5f52\u5f0f\u521b\u5efa\u76ee\u5f55\uff0c\u6743\u9650\u9700\u6307\u5b9a\uff0c\u5e76\u4f1a\u5e94\u7528\u5230\u5b50\u76ee\u5f55 \u5220\u9664\u6587\u4ef6\u3001\u76ee\u5f55\uff0c\u91cd\u547d\u540d Remove(name) error \u5220\u9664\u6587\u4ef6\u6216\u7a7a\u76ee\u5f55 RemoveAll(path) error \u9012\u5f52\u5f0f\u5220\u9664\u6587\u4ef6\u6216\u76ee\u5f55\u53ca\u5176\u5b50\u76ee\u5f55 Rename(oldPath, newPath) error \u91cd\u547d\u540d\uff0c\u4e0e mv \u547d\u4ee4\u76f8\u4f3c\uff0c\u53ef\u4ee5\u8d77\u5230\u79fb\u52a8\u6587\u4ef6\u7684\u4f5c\u7528 \u8bfb\u3001\u5199\u3001\u88c1\u51cf\u6587\u4ef6\uff0c \u8bfb\u53d6\u76ee\u5f55 ReadFile(name) ([]byte, error) \u8bfb\u53d6\u6587\u4ef6\u5185\u5bb9\uff0c\u6ca1\u6709\u7f13\u51b2\u533a WriteFile(name, data, perm) (error) \u8986\u76d6\u5199\u5165 data \u5230 name \u6587\u4ef6\u4e2d\uff0c\u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\u5219\u521b\u5efa\uff0c\u6743\u9650\u4e3a perm\uff0c\u6ca1\u6709\u7f13\u51b2\u533a Truncate(name, size) error \u5c06 name \u6587\u4ef6\u88c1\u51cf\u5230 size \u5927\u5c0f\uff0csize=0\u65f6\u5219\u662f\u6e05\u7a7a\u6587\u4ef6\u5185\u5bb9 ReadDir(name) ([]DirEntry, error) \u8fd4\u56de\u76ee\u5f55\u4e0b\u6240\u6709\u6587\u4ef6\uff08\u5305\u62ec\u76ee\u5f55\uff09\uff0c\u6309\u6587\u4ef6\u540d\u6392\u5e8f f.Read(b) (int, error) \u4ecef\u4e2d\u8bfb\u53d6\u6700\u591alen(b)\u5b57\u8282\u6570\u636e\u5e76\u5199\u5165b\u3002\u8fd4\u56de\u8bfb\u53d6\u7684\u5b57\u8282\u6570\u548c\u53ef\u80fd\u9047\u5230\u7684\u4efb\u4f55\u9519\u8bef\u3002\u6587\u4ef6\u7ec8\u6b62\u6807\u5fd7\u662f\u8bfb\u53d60\u4e2a\u5b57\u8282\u4e14\u8fd4\u56de\u503cerr\u4e3aio.EOF\u3002 f.ReadAt(b, off) (int, error) \u4ece\u6307\u5b9a\u7684\u4f4d\u7f6e\uff08\u76f8\u5bf9\u4e8e\u6587\u4ef6\u5f00\u59cb\u4f4d\u7f6e\uff09\u8bfb\u53d6len(b)\u5b57\u8282\u6570\u636e\u5e76\u5199\u5165b\u3002\u8fd4\u56de\u8bfb\u53d6\u7684\u5b57\u8282\u6570\u548c\u53ef\u80fd\u9047\u5230\u7684\u4efb\u4f55\u9519\u8bef\u3002\u5f53n&lt;len(b)\u65f6\uff0c\u672c\u65b9\u6cd5\u603b\u662f\u4f1a\u8fd4\u56de\u9519\u8bef\uff1b\u5982\u679c\u662f\u56e0\u4e3a\u5230\u8fbe\u6587\u4ef6\u7ed3\u5c3e\uff0c\u8fd4\u56de\u503cerr\u4f1a\u662fio.EOF\u3002 f.Seek(off, whence) (int64, error) \u8bbe\u7f6ef\u7684\u4e0b\u4e00\u6b21\u8bfb/\u5199\u7684\u4f4d\u7f6e\u3002offset\u4e3a\u76f8\u5bf9\u504f\u79fb\u91cf\uff0c\u800cwhence\u51b3\u5b9a\u76f8\u5bf9\u4f4d\u7f6e,\u8fd4\u56de\u65b0\u7684\u504f\u79fb\u91cf\uff08\u76f8\u5bf9\u5f00\u5934\uff09\u548c\u53ef\u80fd\u7684\u9519\u8bef\u3002 f.Write(b) (int, error) \u5411\u6587\u4ef6\u4e2d\u5199\u5165len(b)\u5b57\u8282\u6570\u636e\u3002\u8fd4\u56de\u5199\u5165\u7684\u5b57\u8282\u6570\u548c\u53ef\u80fd\u9047\u5230\u7684\u4efb\u4f55\u9519\u8bef\u3002\u5982\u679c\u8fd4\u56de\u503cn!=len(b)\uff0c\u672c\u65b9\u6cd5\u4f1a\u8fd4\u56de\u4e00\u4e2a\u975enil\u7684\u9519\u8bef\u3002 f.WriteAt(b, off) (int, error) \u5c06len(b)\u5b57\u8282\u5199\u5165\u6587\u4ef6\uff0c\u4ece\u5b57\u8282\u504f\u79fb\u5f00\u59cb\u3002 f.WriteString(string) (int, error) \u7c7b\u4f3cWrite\uff0c\u53c2\u6570\u4e3a\u5b57\u7b26\u4e32\u3002 f.Sync() error \u5c06\u6700\u8fd1\u5199\u5165\u7684\u6570\u636e\u540c\u6b65\u8fdb\u786c\u76d8 \u5224\u65ad\u6bd4\u8f83 IsExist(err) bool \u8fd4\u56de\u6587\u4ef6\u3001\u76ee\u5f55\u662f\u5426\u5b58\u5728 IsNotExist(err) bool \u8fd4\u56de\u6587\u8fd8\u3001\u76ee\u5f55\u662f\u5426\u4e0d\u5b58\u5728 SameFile(fi1, fi2) bool \u8fd4\u56de fi1 \u548c fi2 \u662f\u5426\u540c\u4e00\u4e2a\u6587\u4ef6 \u66f4\u6539\u6743\u9650 Chmod(name, mode) error \u66f4\u6539 name \u6587\u4ef6\u7684\u6743\u9650\u4e3a mode Chown(name, uid, gid) error \u66f4\u6539 name \u6587\u4ef6\u7684\u62e5\u6709\u8005 Chtimes(name, atime, mtime) error \u66f4\u6539 name \u6587\u4ef6\u7684\u8bbf\u95ee\u65f6\u95f4\u4e3a atime\uff0c\u4fee\u6539\u65f6\u95f4\u4e3a mtime Chdir(dir) error \u66f4\u6539\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u4e3a dir"},{"location":"Go/StdLib/File%26IO/os/#_1","title":"\u6253\u5f00\u548c\u5173\u95ed\u6587\u4ef6","text":"<p><code>func Open(name string) (*File, error)</code>\uff1a\u6253\u5f00 name \u6587\u4ef6\uff0c\u6587\u4ef6fd\u4e3a\u53ea\u8bfb os.O_RDONLY <code>OpenFile(name, flag, perm) (*File, error)</code>\uff1a \u6253\u5f00 name \u6587\u4ef6\uff0c\u6587\u4ef6fd\u7531flag\u6307\u5b9a\uff0c\u6587\u4ef6\u4e0d\u5b58\u5728\u5219\u521b\u5efa\uff0c\u521b\u5efa\u6743\u9650\u4e3aperm <code>f.Close()</code>\uff1a\u5173\u95ed\u6587\u4ef6</p> <p>\u5728\u6253\u5f00\u6587\u4ef6\u65f6\u4e00\u5b9a\u8981\u517b\u6210\u4e00\u4e2a\u597d\u4e60\u60ef\uff1a\u987a\u624b\u5ef6\u8fdf\u5173\u95ed\u3002</p> <pre><code>package main\n\nimport (\n    \"os\"\n    \"log\"\n)\n\nfunc main() {\n    f, err := os.Open(\"/home/boii/a.txt\")    // \u6253\u5f00\u6587\u4ef6\uff0c\u9ed8\u8ba4\u53ea\u8bfb\u6a21\u5f0f\n    if err != nil {\n        log.Fatalln(err)\n    }\n    defer f.Close()\n\n    log.Println(\"\u6587\u4ef6\u5df2\u6253\u5f00\u3002\")\n}\n</code></pre> <pre><code>package main\n\nimport (\n    \"os\"\n    \"log\"\n)\n\nfunc main() {\n    // \u6253\u5f00\u6587\u4ef6\uff0c\u53ef\u8bfb\u53ef\u8ffd\u52a0\u5199\uff0c\u6587\u4ef6\u4e0d\u5b58\u5728\u65f6\u521b\u5efa\uff0c\u6743\u9650\u4e3a0511\n    f, err := os.OpenFile(\"/home/boii/a.txt\", os.O_CREATE|os.O_RDWR|os.O_APPEND, os.ModePerm)\n    if err != nil {\n        log.Fatalln(err)\n    }\n    defer f.Close()\n\n    log.Println(\"\u6587\u4ef6\u5df2\u6253\u5f00\u3002\")\n}\n</code></pre>"},{"location":"Go/StdLib/File%26IO/os/#_2","title":"\u521b\u5efa\u6587\u4ef6\u3001\u76ee\u5f55","text":"<p><code>Stat(name) (FileInfo, error)</code>\uff1a\u7528\u4e8e\u8fd4\u56de\u4e00\u4e2a\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u6587\u4ef6\u4fe1\u606f <code>Create(name) (*File, error)</code>\uff1a\u521b\u5efa\uff08\u6587\u4ef6\u4e0d\u5b58\u5728\uff09\u6587\u4ef6\u6216\u6e05\u7a7a\uff08\u6587\u4ef6\u5df2\u5b58\u5728\uff09\u6587\u4ef6\u5185\u5bb9\u3002\u521b\u5efa\u6743\u9650 0666\uff0cfd \u4e3a\u8bfb\u5199 os.O_RDWR <code>Mkdir(name, perm) error</code>\uff1a\u521b\u5efa\u76ee\u5f55\uff0c\u6743\u9650\u9700\u6307\u5b9a <code>MkdirAll(path, perm) error</code>\uff1a\u9012\u5f52\u5f0f\u521b\u5efa\u76ee\u5f55\uff0c\u6743\u9650\u9700\u6307\u5b9a\uff0c\u5e76\u4f1a\u5e94\u7528\u5230\u5b50\u76ee\u5f55</p> <ul> <li> <p><code>Stat(name) (FileInfo, error)</code>\uff1a\u7528\u4e8e\u8fd4\u56de\u4e00\u4e2a\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u6587\u4ef6\u4fe1\u606f     </p><pre><code>func main() {\n    fileInfo, err := os.Stat(\"/home/boii/a.txt\")\n    if err != nil {\n        log.Fatalln(\"Err:\", err)\n    }\n    fmt.Println(fileInfo.Name())    // abc.txt\n    fmt.Println(fileInfo.Size())    // 0\n    fmt.Println(fileInfo.Mode())    // -rw-rw-rw-\n    fmt.Println(fileInfo.ModTime()) // 2021-02-08 21:29:31.4224976 +0800 CST\n    fmt.Println(fileInfo.IsDir())   // false\n    fmt.Println(fileInfo.Sys())     // &amp;{32 {1857742672 30866974} {1857742672 30866974} {1857742672 30866974} 0 0}\n}\n</code></pre><p></p> </li> <li> <p><code>Create(name) (*File, error)</code>\uff1a</p> <ul> <li>\u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\uff1a\u521b\u5efa\uff0c\u6743\u96500666\uff0cfd \u4e3a\u8bfb\u5199 os.O_RDWR</li> <li>\u5982\u679c\u6587\u4ef6\u5df2\u5b58\u5728\uff1a\u6e05\u7a7a\u6587\u4ef6\u5185\u5bb9</li> </ul> <pre><code>func main() {\n    f, err := os.Create(\"/home/boii/a.txt\")    // \u6587\u4ef6\u4e0d\u5b58\u5728\u5219\u521b\u5efa\uff0c\u6743\u96500666\uff0c\u8fd4\u56de\u7684 f \u7684\u6a21\u5f0f\u4e3a\u8bfb\u5199\n    if err != nil {\n        log.Fatalln(err)\n    }\n    f.Write([]byte(\"abc\"))\n}\n</code></pre> </li> <li> <p><code>Mkdir(name, perm) error</code>\uff1a\u521b\u5efa\u76ee\u5f55\uff0c\u6743\u9650\u9700\u6307\u5b9a\u3002\u5982\u679c\u521b\u5efa\u76ee\u5f55\u4e3a /a/b/c\uff0c\u800c b \u4e0d\u5b58\u5728\uff0c\u5219\u4f1a\u521b\u5efa\u5931\u8d25\u3002     </p><pre><code>func main() {\n    // \u76ee\u5f55 /home/boii \u5b58\u5728\uff0c\u6240\u4ee5\u76ee\u5f55 abc \u4f1a\u521b\u5efa\u6210\u529f\n    err := os.Mkdir(\"/home/boii/abc\", os.ModePerm)\n    if err != nil {\n        log.Fatalln(err)\n    }\n}\n</code></pre><p></p> <pre><code>func main() {\n    // \u76ee\u5f55 /home/boii/xyz \u4e0d\u5b58\u5728\uff0c\u6240\u4ee5\u76ee\u5f55 abc \u4f1a\u521b\u5efa\u5931\u8d25\n    err := os.Mkdir(\"/home/boii/xyz/abc\", os.ModePerm)\n    if err != nil {\n        log.Fatalln(err)\n    }\n}\n</code></pre> </li> <li> <p><code>MkdirAll(path, perm) error</code>\uff1a\u9012\u5f52\u5f0f\u521b\u5efa\u76ee\u5f55\uff0c\u6743\u9650\u9700\u6307\u5b9a\uff0c\u5e76\u4f1a\u5e94\u7528\u5230\u5b50\u76ee\u5f55     </p><pre><code>func main() {\n    // \u76ee\u5f55 /home/boii/xyz \u4e0d\u5b58\u5728\uff0c\u4f1a\u5148\u521b\u5efa\u76ee\u5f55 xyz\uff0c\u7136\u540e\u521b\u5efa\u76ee\u5f55 abc\n    err := os.MkdirAll(\"/home/boii/xyz/abc\", os.ModePerm)\n    if err != nil {\n        log.Fatalln(err)\n    }\n}\n</code></pre><p></p> </li> </ul>"},{"location":"Go/StdLib/File%26IO/os/#_3","title":"\u5220\u9664\u6587\u4ef6\u3001\u76ee\u5f55\uff0c\u91cd\u547d\u540d","text":"<p><code>Remove(name) error</code>\uff1a\u5220\u9664\u6587\u4ef6\u6216\u7a7a\u76ee\u5f55 <code>RemoveAll(path) error</code>\uff1a\u9012\u5f52\u5f0f\u5220\u9664\u6587\u4ef6\u6216\u76ee\u5f55\u53ca\u5176\u5b50\u76ee\u5f55 <code>Rename(oldPath, newPath) error</code>\uff1a\u91cd\u547d\u540d\uff0c\u4e0e mv \u547d\u4ee4\u76f8\u4f3c\uff0c\u53ef\u4ee5\u8d77\u5230\u79fb\u52a8\u6587\u4ef6\u7684\u4f5c\u7528</p> <pre><code>func main() {\n    if err := os.Remove(\"/home/boii/a.txt\"); err != nil {\n        lof.Fatal(err)\n    }\n}\n</code></pre> <pre><code>func main() {\n    // \u8fd9\u79cd\u5177\u4f53\u5230\u6587\u4ef6\u7684\u65b9\u5f0f\u53ea\u4f1a\u5220\u9664\u6587\u4ef6\n    if err := os.RemoveAll(\"/home/boii/abc/a.txt\"); err != nil {\n        lof.Fatal(err)\n    }\n\n    // \u6ce8\u610f\uff1a\u8fd9\u79cd\u5177\u4f53\u5230\u76ee\u5f55\u7684\u65b9\u5f0f\uff0c\u76ee\u5f55 abc \u4e0b\u6240\u6709\u6587\u4ef6\u8fde\u540c\u76ee\u5f55 abc \u672c\u8eab\u90fd\u4f1a\u88ab\u5220\u9664\n    if err := os.RemoveAll(\"/home/boii/abc/\"); err != nil {\n        log.Fatal(err)\n    }\n</code></pre> <p><code>Rename(oldPath, newPath) error</code>\uff1a\u91cd\u547d\u540d\uff0c\u4e0e mv \u547d\u4ee4\u76f8\u4f3c\uff0c\u53ef\u4ee5\u8d77\u5230\u79fb\u52a8\u6587\u4ef6\u7684\u4f5c\u7528 </p><pre><code>    if err := os.Rename(\"/home/boii/abc\", \"/home/boii/xyz\"); err != nil {\n        log.Fatal(err)\n    }\n}\n</code></pre><p></p>"},{"location":"Go/StdLib/File%26IO/os/#_4","title":"\u8bfb\u3001\u5199\u3001\u88c1\u51cf\u6587\u4ef6\uff0c \u8bfb\u53d6\u76ee\u5f55","text":"<p><code>f.Seek(off, whence) (int64, error)</code>\uff1a\u8bbe\u7f6e\u8bfb\u5199\u4f4d\u7f6e <code>f.Read(b) (int, error)</code>\uff1a\u8bfb\u53d6\u6587\u4ef6\u5185\u5bb9 <code>f.Write(b) (int, error)</code>\uff1a\u5185\u5bb9\u5199\u5165\u6587\u4ef6 <code>f.WriteString(string) (int, error)</code>\uff1a\u5199\u5165\u5b57\u7b26\u4e32\u5230\u6587\u4ef6</p> <p><code>ReadFile(name) ([]byte, error)</code>\uff1a\u8bfb\u53d6\u6587\u4ef6\u5185\u5bb9\uff0c\u6ca1\u6709\u7f13\u51b2\u533a <code>WriteFile(name, data, perm) (error)</code>\uff1a\u8986\u76d6\u5199\u5165 data \u5230 name \u6587\u4ef6\u4e2d\uff0c\u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\u5219\u521b\u5efa\uff0c\u6743\u9650\u4e3a perm\uff0c\u6ca1\u6709\u7f13\u51b2\u533a <code>Truncate(name, size) error</code>\uff1a\u5c06 name \u6587\u4ef6\u88c1\u51cf\u5230 size \u5927\u5c0f\uff0csize=0\u65f6\u5219\u662f\u6e05\u7a7a\u6587\u4ef6\u5185\u5bb9 <code>ReadDir(name) ([]DirEntry, error)</code>\uff1a\u8fd4\u56de\u76ee\u5f55\u4e0b\u6240\u6709\u6587\u4ef6\uff08\u5305\u62ec\u76ee\u5f55\uff09\uff0c\u6309\u6587\u4ef6\u540d\u6392\u5e8f</p> <ul> <li><code>f.Read(b) (int, error)</code>\uff1a\u8bfb\u53d6\u6587\u4ef6\u5185\u5bb9 \u8fd9\u4e2a\u65b9\u6cd5\u4ece\u6587\u4ef6\u4e2d\u6700\u591a\u8bfb\u53d6<code>len(b)</code>\u5b57\u8282\u3002\u8fd4\u56de\u8bfb\u53d6\u7684\u5b57\u8282\u6570\u548c\u9047\u5230\u7684\u4efb\u4f55\u9519\u8bef\u3002\u5982\u679c\u8bfb\u53d6\u4f4d\u7f6e\u5728\u6587\u4ef6\u672b\u5c3e\uff0cRead\u8fd4\u56de<code>0\uff0cio.EOF</code></li> </ul> <p></p><pre><code>func main() {\n    // 1. \u6253\u5f00\u6587\u4ef6\n    f, err := os.Open(\"/home/boii/a.txt\")\n    if err != nil {\n        log.Fatal(err)\n    }\n\n    // 3. \u5173\u95ed\u6587\u4ef6\n    defer f.Close()\n\n    // 2. \u6309\u5b57\u8282\u8bfb\u53d6\n    b := make([]byte, 1024)\n    for {\n        n, err := f.Read(b)\n        if n == 0 || err == io.EOF {\n            break\n        }\n        log.Println(b[:n])\n    }\n}\n</code></pre> - <code>f.Write(b) (int, error)</code>\uff1a\u5185\u5bb9\u5199\u5165\u6587\u4ef6     <pre><code>func main() {\n    // 1. \u6253\u5f00\u6587\u4ef6\uff0c\u82e5\u6587\u4ef6\u4e0d\u5b58\u5728\u5219\u521b\u5efa\uff0c\u6743\u96500511\uff0c\u5e76\u4ee5\u8986\u76d6\u53ea\u5199\u6a21\u5f0f\u6253\u5f00\n    f, err := os.OpenFile(\"/home/boii/a.txt\", os.O_CREATE | os.O_WRONLY, os.ModePerm)\n    if err != nil {\n        log.Fatal(err)\n    }\n    // 3. \u5173\u95ed\u6587\u4ef6\n    defer f.Close()\n\n    // 2. \u5199\u5165\u6570\u636e\n    b := []byte{65, 66, 67, 68, 69}    // A, B, C, D, E\n    n, err := f.Write(b)\n    if err != nil {\n        log.Fatal(err)\n    }\n    log.Println(n)\n}\n</code></pre><p></p> <ul> <li><code>f.Write(b) (int, error)</code>\uff1a\u5185\u5bb9\u5199\u5165\u6587\u4ef6</li> </ul>"},{"location":"Go/StdLib/File%26IO/os/#_5","title":"\u5224\u65ad\u6bd4\u8f83","text":"<p><code>IsExist(err) bool</code>\uff1a\u8fd4\u56de\u6587\u4ef6\u3001\u76ee\u5f55\u662f\u5426\u5b58\u5728 <code>IsNotExist(err) bool</code>\uff1a\u8fd4\u56de\u6587\u8fd8\u3001\u76ee\u5f55\u662f\u5426\u4e0d\u5b58\u5728 <code>SameFile(fi1, fi2) bool</code>\uff1a\u8fd4\u56de fi1 \u548c fi2 \u662f\u5426\u540c\u4e00\u4e2a\u6587\u4ef6</p> <ul> <li><code>IsExist(err) bool</code>\uff1a\u8fd4\u56de\u6587\u4ef6\u3001\u76ee\u5f55\u662f\u5426\u5b58\u5728\uff1b<code>IsNotExist(err) bool</code>\uff1a\u8fd4\u56de\u6587\u8fd8\u3001\u76ee\u5f55\u662f\u5426\u4e0d\u5b58\u5728     <pre><code>func main() {\n    f, err := os.Stat(\"/home/boii/xyz\")\n    if os.IsNotExist(err) {\n        log.Fatal(\"\u6587\u4ef6\u4e0d\u5b58\u5728\")\n    }\n\n    log.Println(\"\u6587\u4ef6\u5df2\u5b58\u5728\", f.Name())\n}\n</code></pre></li> <li><code>SameFile(fi1, fi2) bool</code>\uff1a\u8fd4\u56de fi1 \u548c fi2 \u662f\u5426\u540c\u4e00\u4e2a\u6587\u4ef6     <pre><code>func main() {\n    f1, _ := os.Stat(\"xyz.sh\")\n    f2, _ := os.Stat(\"xyz.sh\")\n\n    if os.SameFile(f1, f2) {\n        log.Println(\"\u540c\u4e00\u4e2a\u6587\u4ef6\u3002\")\n    }\n}\n</code></pre></li> <li> <p><code>f.Seek(off, whence) (int64, error)</code>\uff1a\u8bbe\u7f6e\u8bfb\u5199\u4f4d\u7f6e     whence \u53ef\u4ee5\u586b3\u4e2a\u503c\uff1a</p> <ul> <li><code>0 \u6216 os.SEEK_SET</code>\uff1a\u8bbe\u7f6e\u65b0\u7684\u8bfb\u5199\u4f4d\u7f6e\u4e3a\uff1a\u7b2c off \u5b57\u8282\uff0c<code>must off &gt; 0</code></li> <li><code>1 \u6216 os.SEEK_CUR</code>\uff1a\u8bbe\u7f6e\u65b0\u7684\u8bfb\u5199\u4f4d\u7f6e\u4e3a\uff1a\u7b2c \u5f53\u524d\u8bfb\u5199\u4f4d\u7f6e+off \u5b57\u8282, <code>off &gt; 0 || off &lt; 0</code></li> <li><code>2 \u6216 os.SEEK_END</code>\uff1a\u8bbe\u7f6e\u65b0\u7684\u8bfb\u5199\u4f4d\u7f6e\u4e3a\uff1a\u7b2c \u6587\u4ef6\u7ed3\u5c3e+off \u5b57\u8282, <code>off &gt; 0 || off &lt; 0</code></li> </ul> <p>\u8fd4\u56de\u503c\u4e3a\u65b0\u7684\u504f\u79fb\u91cf\uff0c\u8fd9\u4e2a\u504f\u79fb\u91cf\u662f\u76f8\u5bf9\u4e8e\u6587\u4ef6\u5f00\u5934\u800c\u8a00\u7684\u3002</p> <p>\u51e0\u79cd\u7279\u6b8a\u7528\u6cd5\uff1a</p> <ul> <li>f.Seek(0, os.SEEK_SET)\uff1a\u5c06\u8bfb\u5199\u4f4d\u7f6e\u79fb\u5230\u6587\u4ef6\u5934</li> <li>f.Seek(0, os.SEEK_END)\uff1a\u5c06\u8bfb\u5199\u4f4d\u7f6e\u79fb\u5230\u6587\u4ef6\u5c3e\uff0c\u8fd4\u56de\u503c\u4e3a\u6587\u4ef6\u5927\u5c0f</li> <li>f.Seek(0, os.SEEK_CUR)\uff1a\u53d6\u5f97\u5f53\u524d\u6587\u4ef6\u8bfb\u5199\u4f4d\u7f6e</li> </ul> <pre><code>func main() {\n    f, err := os.OpenFile(\"/home/boii/a.txt\", os.O_CREATE|os.O_WRONLY, os.ModePerm)\n    if err != nil {\n        log.Fatal(err)\n    }\n    // 3. \u5173\u95ed\u6587\u4ef6\n    defer f.Close()\n\n    // 2. \u5199\u5165\u6570\u636e\n    b := []byte{65, 66, 67, 68, 69} // A, B, C, D, E\n\n    f.Seek(-3, os.SEEK_END)     // \u8bbe\u7f6e\u8bfb\u5199\u4f4d\u7f6e\u4e3a\u6587\u4ef6\u672b\u5c3e\u5012\u90003\u4e2a\u5b57\u8282\n    n, err := f.Write(b)        // \u5199\u5165\u6570\u636e\n    if err != nil {\n        log.Fatal(err)\n    }\n    log.Println(n)\n}\n</code></pre> <pre><code>/home/boii/a.txt\n\n\u5199\u5165\u524d\uff1a\nabcdefg\nhijklmn\nopqrst\nuvwxyz\n\n\u5199\u5165\u540e\uff1a\nabcdefg\nhijklmn\nopqrst\nuvwABCDE\n</code></pre> </li> <li> <p><code>f.WriteAt(b, off) (int, error)</code> \u76f8\u5f53\u4e8e <code>f.Seek(off, os.SEEK_SET)</code> + <code>f.Write(b)</code>\uff0c\u4e5f\u5c31\u662f\u4e0a\u9762\u7684\u6817\u5b50</p> </li> <li> <p><code>ReadFile(name) ([]byte, error)</code>\uff1a\u8bfb\u53d6\u6587\u4ef6\u5185\u5bb9\uff0c\u6ca1\u6709\u7f13\u51b2\u533a     \u76f8\u5f53\u4e8e <code>f, err := os.Open(name)</code> + <code>f.Read(b)</code></p> <pre><code>func main() {\n\n    data, err := os.ReadFile(\"/home/boii/a.txt\")\n    if err != nil {\n        log.Fatal(err)\n    }\n    os.Stdout.Write(data)\n}\n</code></pre> </li> <li> <p><code>WriteFile(name, data, perm) (error)</code>\uff1a\u8986\u76d6\u5199\u5165 data \u5230 name \u6587\u4ef6\u4e2d\uff0c\u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\u5219\u521b\u5efa\uff0c\u6743\u9650\u4e3a perm\uff0c\u6ca1\u6709\u7f13\u51b2\u533a     \u76f8\u5f53\u4e8e <code>f, err := os.Open(name)</code> + <code>f.Write(b)</code></p> <p></p><pre><code>func main() {\n    err := os.WriteFile(\"/home/boii/a.txt\", []byte(\"Hello, Gophers!\"), 0666)\n    if err != nil {\n        log.Fatal(err)\n    }\n}\n</code></pre> - <code>Truncate(name, size) error</code>\uff1a\u5c06 name \u6587\u4ef6\u88c1\u51cf\u5230 size \u5927\u5c0f\uff0csize=0\u65f6\u5219\u662f\u6e05\u7a7a\u6587\u4ef6\u5185\u5bb9<p></p> <pre><code>func main() {\n    if err := os.Truncate(\"home/boii/a.txt\", 0); err != nil {\n        log.Println(\"\u6587\u4ef6\u5185\u5bb9\u5df2\u6e05\u7a7a\")\n    }\n}\n</code></pre> </li> </ul>"},{"location":"Go/StdLib/File%26IO/os/#_6","title":"\u66f4\u6539\u6743\u9650","text":"<p><code>Chmod(name, mode) error</code>\uff1a\u66f4\u6539 name \u6587\u4ef6\u7684\u6743\u9650\u4e3a mode <code>Chown(name, uid, gid) error</code>\uff1a\u66f4\u6539 name \u6587\u4ef6\u7684\u62e5\u6709\u8005 <code>Chtimes(name, atime, mtime) error</code>\uff1a\u66f4\u6539 name \u6587\u4ef6\u7684\u8bbf\u95ee\u65f6\u95f4\u4e3a atime\uff0c\u4fee\u6539\u65f6\u95f4\u4e3a mtime <code>Chdir(dir) error</code>\uff1a\u66f4\u6539\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u4e3a dir</p>"},{"location":"Go/StdLib/File%26IO/%E6%80%BB%E5%8F%99/","title":"\u603b\u53d9","text":""},{"location":"Go/StdLib/File%26IO/%E6%80%BB%E5%8F%99/#_1","title":"\u603b\u53d9","text":"<p>\u4e0e\u6587\u4ef6\u548cIO\u76f8\u5173\u7684\u5e93\u4e00\u5171\u6709 6 \u4e2a\uff1a</p> <ol> <li>os</li> <li>io</li> <li>ioutil</li> <li>bufio</li> <li>path</li> <li>filepath</li> </ol> <p>\u521d\u5b66\u8005\u5bf9\u4e8e\u6587\u4ef6\u64cd\u4f5c\u548c IO \u6709\u53ef\u80fd\u603b\u662f\u6df7\u6dc6\u3002</p> <ul> <li>\u6587\u4ef6\u64cd\u4f5c\u6307\u7684\u662f \u6253\u5f00\u3001\u5173\u95ed\u3001\u521b\u5efa\u3001\u5220\u9664\u6587\u4ef6\u6216\u76ee\u5f55\uff0c\u8bbe\u7f6e\u8bfb\u5199\u4f4d\u7f6e\u590d\u5236\uff0c\u91cd\u547d\u540d\uff0c\u66f4\u6539\u6743\u9650\uff0c\u83b7\u53d6\u6587\u4ef6\u3001\u76ee\u5f55\u4fe1\u606f\u7b49\uff1b</li> <li>IO \u6307\u7684\u662f \u8bfb\u53d6\u3001\u5199\u5165\u3001\u6e05\u7a7a\u6587\u4ef6\u5185\u5bb9\uff1b</li> </ul> <p>\u800c\u8fd9\u4e24\u8005\u53c8\u7ecf\u5e38\u7ed3\u5408\u8fd0\u7528\u3002</p> <p>\u4e0b\u9762\u7b80\u5355\u4ecb\u7ecd\u5404\u4e2a\u5e93\u7684\u4f5c\u7528\uff1a</p> <ol> <li>os\uff1a\u7528\u4e8e\u6253\u5f00\u3001\u5173\u95ed\u3001\u521b\u5efa\u3001\u5220\u9664\u6587\u4ef6\u6216\u76ee\u5f55\uff0c\u8bbe\u7f6e\u8bfb\u5199\u4f4d\u7f6e\uff0c\u91cd\u547d\u540d\uff0c\u66f4\u6539\u6743\u9650\uff0c\u83b7\u53d6\u6587\u4ef6\u3001\u76ee\u5f55\u4fe1\u606f\uff0c\u8bfb\u5199\u73af\u5883\u53d8\u91cf\u7b49</li> <li>io\uff1a\u7528\u4e8e\u5bf9\u6587\u4ef6\u7684\u8bfb\u5199\u548c\u590d\u5236\uff0c\u4e0d\u5e26\u7f13\u51b2\u533a</li> <li>ioutil\uff1a\u7b80\u5316\u5404\u79cd\u64cd\u4f5c\uff0c\u63d0\u4f9b\u4e86\u8bfb\u5199\u6587\u4ef6\u3001\u8bfb\u53d6\u76ee\u5f55\u7684\u7b80\u5316\u65b9\u6cd5</li> <li>bufio\uff1a\u7528\u4e8e\u5bf9\u6587\u4ef6\u7684\u8bfb\u5199\u548c\u590d\u5236\uff0c\u5e26\u7f13\u51b2\u533a</li> <li>path\uff1a\u7528\u4e8e\u5904\u7406\u6b63\u659c\u6760\uff08/\uff09\u5206\u5272\u7684\u8def\u5f84\uff0c\u53ef\u4ee5\u83b7\u53d6\u6587\u4ef6\u7684\u8def\u5f84\u3001\u6587\u4ef6\u540d\u3001\u5224\u65ad\u7edd\u5bf9\u8def\u5f84\u3001\u62fc\u63a5\u8def\u5f84\u7b49\u64cd\u4f5c\uff0c\u9002\u5408\u5904\u7406URL</li> <li>filepath\uff1a\u7528\u4e8e\u5904\u7406\u6b63\u659c\u6760\uff08/\uff09\u3001\u53cd\u659c\u6760\uff08\\\uff09\u5206\u5272\u7684\u8def\u5f84\uff0c\u9002\u5408\u5904\u7406\u64cd\u4f5c\u7cfb\u7edf\u8def\u5f84</li> </ol>"},{"location":"Go/StdLib/net/http/","title":"http","text":""},{"location":"Go/StdLib/net/http/#http","title":"http","text":"<p>Golang \u5185\u7f6e\u7684HTTP\u670d\u52a1\u7aef\u548c\u5ba2\u6237\u7aef\u7684\u5b9e\u73b0\u3002</p>"},{"location":"Go/StdLib/net/http/#_1","title":"\u5bfc\u5305","text":"<pre><code>import \"net/http\"\n</code></pre>"},{"location":"Go/StdLib/net/http/#http_1","title":"HTTP\u534f\u8bae","text":"<p>\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae HyperText Transfer Protocol\uff0c\u6240\u6709\u7684 www \u6587\u4ef6\u90fd\u5fc5\u987b\u9075\u5b88\u8fd9\u4e2a\u6807\u51c6\u3002</p>"},{"location":"Go/StdLib/net/http/#restful-api","title":"RESTful API","text":"<p>RESTful \u662f\u76ee\u524d\u6700\u6d41\u884c\u7684 API \u8bbe\u8ba1\u89c4\u8303\uff0c\u7528\u4e8e web \u6570\u636e\u63a5\u53e3\u7684\u8bbe\u8ba1\u3002 \u8fd9\u91cc\u53ea\u505a\u7b80\u8981\u4ecb\u7ecd\u3002</p> <p>\u57fa\u672c\u7684 HTTP/HTTPS \u8bf7\u6c42\u5305\u62ec GET\u3001POST\u3001HEAD\u3001PUT\u3001DELETE\u3001CONNECT\u3001OPTIONS\u3001TRACE\u3002</p> <p>\u5e38\u7528\u7684\u6709 GET\u3001POST\u4e24\u79cd\u3002 GET\u4f1a\u5c06\u53c2\u6570\u7b49\u660e\u6587\u4f20\u8f93\uff0c\u5373\u5728URL\u4e2d\u5c31\u53ef\u4ee5\u770b\u5f97\u5230\u8bf7\u6c42\u7684\u53c2\u6570\uff0c\u88ab\u8ba4\u4e3a\u662f\u4e0d\u5b89\u5168\u7684\uff0c\u901a\u5e38\u7528\u6765\u8bf7\u6c42\u666e\u901a\u9875\u9762\u3002 POST\u4f1a\u5c06\u53c2\u6570\u7b49\u5305\u542b\u5728\u8bf7\u6c42\u4f53\u4e2d\uff0c\u901a\u5e38\u7528\u6765\u5411\u670d\u52a1\u5668\u63d0\u4ea4\u6570\u636e\u3002</p>"},{"location":"Go/StdLib/net/http/#url","title":"URL \u8bbe\u8ba1","text":"<p>\u5173\u4e8e URL \u7684\u8bbe\u8ba1\u89c4\u8303\u4e3b\u8981\u67095\u6761\uff1a</p> <ol> <li>\u52a8\u8bcd+\u5bbe\u8bed</li> <li>\u52a8\u8bcd\u8986\u76d6</li> <li>\u5bbe\u8bed\u5f97\u662f\u540d\u8bcd</li> </ol> <pre><code># GET\uff1a\u8bfb\u53d6\uff08Read\uff09\n# POST\uff1a\u65b0\u5efa\uff08Create\uff09\n# PUT\uff1a\u66f4\u65b0\uff08Update\uff09\n# PATCH\uff1a\u66f4\u65b0\uff08Update\uff09\uff0c\u901a\u5e38\u662f\u90e8\u5206\u66f4\u65b0\n# DELETE\uff1a\u5220\u9664\uff08Delete\uff09\n</code></pre>"},{"location":"Go/StdLib/net/http/#http_2","title":"\u5ba2\u6237\u7aef\uff1a\u53d1\u8d77HTTP\u8bf7\u6c42","text":""},{"location":"Go/StdLib/net/http/#_2","title":"\u57fa\u672c\u8bf7\u6c42\u65b9\u6cd5","text":"<p>http \u5305\u63d0\u4f9b\u4e86 <code>Get()</code> \u65b9\u6cd5\u548c <code>Post()</code> \u65b9\u6cd5\uff0c\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u53d1\u8d77 Get \u8bf7\u6c42\u548c Post \u8bf7\u6c42\u3002\u4f46\u662f\u5176\u4ed6\u7684\u5982 Put \u8bf7\u6c42\uff0cDelete \u8bf7\u6c42\u53ea\u80fd\u901a\u8fc7 <code>NewRequest()</code> \u65b9\u6cd5\u6784\u9020\u4e00\u4e2a\u8bf7\u6c42\uff0c\u7136\u540e\u81ea\u5df1\u63d0\u4ea4\u8bf7\u6c42\u7684\u53d1\u9001\u3002</p> <p><code>NewRequest()</code>\u51fd\u6570\u7b7e\u540d\u5982\u4e0b\uff1a</p> <pre><code>func NewRequest(method, url string, body io.Reader) (*Request, error) \n</code></pre> <p>\u53c2\u6570\u8bf4\u660e\uff1a</p> <ul> <li>method\uff1a\u8bf7\u6c42\u65b9\u6cd5\uff0c\u503c\u4e3a <code>http.MethodGet</code> \u8fd9\u7c7bhttp\u5305\u5b9a\u4e49\u597d\u7684\u53d8\u91cf</li> <li>url\uff1a\u8bf7\u6c42\u7684\u76ee\u6807\u5730\u5740</li> <li>body\uff1a</li> </ul> <pre><code>import (\n    \"fmt\"\n    \"io/ioutil\"\n    \"net/http\"\n)\n\nfunc main() {\n    // \u6784\u9020\u4e00\u4e2a Get \u8bf7\u6c42\n    req, _ := http.NewRequest(http.MethodGet, \"http://httpbin.org/get\", nil)\n    // \u8c03\u7528 DefaultClient.Do() \u65b9\u6cd5\u63d0\u4ea4\u8bf7\u6c42\n    rsp, _ := http.DefaultClient.Do(req)\n    // \u8bfb\u53d6\u54cd\u5e94\u4f53\u5185\u5bb9\n    c, _ := ioutil.ReadAll(rsp.Body)\n    defer rsp.Body.Close()\n    // \u6253\u5370\u54cd\u5e94\u4f53\u5185\u5bb9\n    fmt.Println(string(c))\n}\n</code></pre> <p>\u4e00\u5171\u9700\u89814\u6b65\uff1a</p> <ol> <li>\u8c03\u7528 <code>http.NewRequest()</code> \u6784\u9020\u4e00\u4e2a Get \u8bf7\u6c42\u3002</li> <li>\u8c03\u7528 <code>http.DefaultClient.Do()</code> \u53d1\u8d77\u7f51\u7edc\u8bf7\u6c42\uff0c\u4e5f\u53ef\u4ee5\u662f\u81ea\u5df1\u6784\u9020\u7684Client\uff0c\u518d\u53bb\u8c03\u7528 <code>Do()</code> \u65b9\u6cd5\u3002</li> <li>\u8c03\u7528 <code>ioutil.ReadAll()</code> \u8bfb\u53d6\u54cd\u5e94\u4f53\u5185\u5bb9\uff0c\u7c7b\u578b\u4e3a <code>[]byte</code></li> <li>\u6253\u5370\u54cd\u5e94\u4f53\u5185\u5bb9</li> </ol> <p>\u540c\u6837\u7684\u59ff\u52bf\uff0c\u6211\u4eec\u53ef\u4ee5\u63a5\u7740\u53d1\u8d77 Post \u8bf7\u6c42\uff0cPut \u8bf7\u6c42</p> <pre><code>// Post.go\nimport (\n    \"fmt\"\n    \"io/ioutil\"\n    \"net/http\"\n)\n\nfunc main() {\n    req, _ := http.NewRequest(http.MethodPost, \"http://httpbin.org/post\", nil)\n    rsp, _ := http.DefaultClient.Do(req)\n    c, _ := ioutil.ReadAll(rsp.Body)\n    defer rsp.Body.Close()\n\n    fmt.Println(string(c))\n}\n</code></pre> <pre><code>// Put.go\nimport (\n    \"fmt\"\n    \"io/ioutil\"\n    \"net/http\"\n)\n\nfunc main() {\n    req, _ := http.NewRequest(http.MethodPut, \"http://httpbin.org/put\", nil)\n    rsp, _ := http.DefaultClient.Do(req)\n    c, _ := ioutil.ReadAll(rsp.Body)\n    defer rsp.Body.Close()\n\n    fmt.Println(string(c))\n}\n</code></pre> <p>http \u5305\u4e2d\u5bf9\u6240\u6709\u65b9\u6cd5\u7684\u5b9a\u4e49</p> <pre><code>// Common HTTP methods.\n//\n// Unless otherwise noted, these are defined in RFC 7231 section 4.3.\nconst (\n  MethodGet     = \"GET\"\n  MethodHead    = \"HEAD\"\n  MethodPost    = \"POST\"\n  MethodPut     = \"PUT\"\n  MethodPatch   = \"PATCH\" // RFC 5789\n  MethodDelete  = \"DELETE\"\n  MethodConnect = \"CONNECT\"\n  MethodOptions = \"OPTIONS\"\n  MethodTrace   = \"TRACE\"\n)\n</code></pre> <p>\u5728 \u6784\u9020\u8bf7\u6c42 <code>NewRequest(method, url, body)</code> \u65f6\u586b\u5165 method \u53c2\u6570\u65f6\uff0c\u53ef\u4ee5\u586b\u5165 <code>http.Method+\u8bf7\u6c42\u7c7b\u578b</code> \uff0c\u4e5f\u53ef\u4ee5\u586b\u5165\u7b49\u53f7\u53f3\u8fb9\u76f8\u5e94\u7684\u5b57\u7b26\u4e32\u3002</p>"},{"location":"Go/StdLib/net/http/#httpget","title":"http.Get()","text":"<p>\u9664\u4e86\u4e0a\u9762\u6784\u9020\u8bf7\u6c42\u7684\u65b9\u5f0f\uff0chttp \u5305\u8fd8\u63d0\u4f9b\u4e24\u4e2a\u65b9\u6cd5 <code>Get()</code> \u548c <code>Post()</code> \u65b9\u4fbf\u6211\u4eec\u4f7f\u7528\u3002</p> <p><code>Get()</code> \u7684\u51fd\u6570\u7b7e\u540d\u5982\u4e0b\uff1a</p> <pre><code>func Get(url string) (resp *Response, err error)\n</code></pre> <p>\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff1a</p> <p></p><pre><code>package main\n\nimport (\n    \"fmt\"\n    \"io/ioutil\"\n    \"net/http\"\n)\n\nfunc main() {\n    // \u53d1\u8d77 HTTP Get \u8bf7\u6c42\n    rsp, err := http.Get(\"https://www.boii.xyz\")\n    HandleErr(err)\n\n    // \u5ef6\u8fdf\u5173\u95ed\u54cd\u5e94\u4e3b\u4f53\n    defer rsp.Body.Close()\n\n    // \u8bfb\u53d6\u54cd\u5e94\u4e3b\u4f53\n    body, err := ioutil.ReadAll(rsp.Body)\n    HandleErr(err)\n\n    // \u6253\u5370\u54cd\u5e94\u5185\u5bb9\n    fmt.Println(string(body))\n}\n</code></pre> \u7f16\u8bd1\u8fd0\u884c\uff1a <pre><code>$ go run main.go\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head hexo-theme=\"https://github.com/volantis-x/hexo-theme-volantis/tree/3.0.0\"&gt;\n        &lt;meta charset=\"utf-8\"&gt;&lt;meta name=\"robots\" content=\"index,follow\"&gt;\n        &lt;meta name=\"renderer\" content=\"webkit\"&gt;\n...\n</code></pre><p></p> <p>\u8fd0\u884c\u4e4b\u540e\u7a0b\u5e8f\u5c31\u4f1a\u5411 <code>https://www.boii.xyz</code> \u8fd9\u4e2a\u7f51\u5740\u53d1\u9001\u8bf7\u6c42\uff0c\u7136\u540e\u63a5\u6536\u5176\u54cd\u5e94\u5185\u5bb9\uff0c\u8bfb\u53d6\u5e76\u6253\u5370\u3002</p> <p>\u6d4f\u89c8\u5668\u7684\u672c\u8d28\uff0c\u5c31\u662f\u8fd9\u4e48\u4e00\u4e2a\u7a0b\u5e8f\uff0c\u53ea\u4e0d\u8fc7\u6d4f\u89c8\u5668\u80fd\u591f\u6e32\u67d3 HTML\u3001CSS\u7b49\u7b49\uff0c\u8ba9\u7f51\u9875\u66f4\u52a0\u597d\u770b\uff0c\u4f53\u9a8c\u66f4\u597d\u3002\u800c\u6211\u4eec\u7684\u7a0b\u5e8f\u6ca1\u6709\u592a\u591a\u5904\u7406\uff0c\u53ea\u662f\u7b80\u5355\u7684\u5c06\u8fd4\u56de\u5185\u5bb9\u6253\u5370\u51fa\u6765\u800c\u5df2\u3002</p> <p>\u5728\u6817\u5b50\u4e2d\uff0c\u603b\u5171\u5206\u4e3a4\u6b65\uff1a</p> <ol> <li>\u8c03\u7528 <code>http.Get(url)</code> \u53d1\u8d77 Get \u8bf7\u6c42</li> <li>\u8c03\u7528 <code>ioutil.ReadAll(rsp.Body)</code> \u8bfb\u53d6\u54cd\u5e94\u4f53\u4e2d\u7684\u5185\u5bb9</li> <li>\u6253\u5370\u54cd\u5e94\u4f53\u5185\u5bb9</li> <li>\u8c03\u7528 <code>rsp.Body.Close()</code> \u5173\u95ed\u54cd\u5e94\u4f53</li> </ol> <p>\u8fd9\u6837\u5c31\u80fd\u5b8c\u6210\u4e00\u4e2a\u6700\u57fa\u7840\u7684 Get \u8bf7\u6c42\u3002</p>"},{"location":"Go/StdLib/net/http/#httppost","title":"http.Post()","text":"<pre><code>func Post(url, contentType string, body io.Reader) (resp *Response, err error)\n</code></pre> <p>\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>import (\n    \"fmt\"\n    \"io/ioutil\"\n    \"net/http\"\n)\n\nfunc main() {\n    // \u53d1\u8d77 Post \u8bf7\u6c42\n    rsp, _ := http.Post(\"http://httpbin.org\", \"\", nil)\n    // \u5ef6\u8fdf\u5173\u95ed\u54cd\u5e94\u4f53\n    defer rsp.Body.Close()\n    // \u8bfb\u53d6\u6240\u6709\u54cd\u5e94\u4f53\u5185\u5bb9\n    c, _ := ioutil.ReadAll(rsp.Body)\n    // \u6253\u5370\u54cd\u5e94\u4f53\u5185\u5bb9\n    fmt.Println(string(c))\n}\n</code></pre>"},{"location":"Go/StdLib/net/http/#_3","title":"\u8bbe\u7f6e\u8bf7\u6c42\u67e5\u8be2\u53c2\u6570","text":"<pre><code>package main\n\nimport (\n    \"net/http\"\n    \"net/url\"\n    \"fmt\"\n    \"io/ioutil\"\n)\n\nfunc main() {\n    apiUrl \uff1a= \"http://127.0.0.1:8000/get\"\n    data := url.Value{\"name\": \"Boii\", \"age\": 18}\n\n    u, err := url.ParseRequestURI(apiUrl)\n    HandleErr(err)\n    u.RawQuery = data.Encoding()\n\n    // \u53d1\u8d77 HTTP \u8bf7\u6c42\n    resp, err := http.Get(u.String())\n    HandleErr(err)\n    // \u5ef6\u8fdf\u5173\u95ed\u54cd\u5e94\u4f53\n    defer resp.Body.Close()\n\n    // \u8bfb\u53d6\u54cd\u5e94\u4f53\u5185\u5bb9\n    body, err := ioutil.ReadAll(resp.Body)\n    if err != nil { panic(err) }\n    // \u6253\u5370\u54cd\u5e94\u5185\u5bb9\n    fmt.Println(string(b))\n\n}\n</code></pre> <pre><code>// Server.go\n\nfunc getHandler(w http.ResponseWriter, r *http.Request) {\n    defer r.Body.Close()\n    data := r.URL.Query()\n    fmt.Println(data.Get(\"name\"))\n    fmt.Println(data.Get(\"age\"))\n\n    answer := `{\"status\": \"ok\"}`\n    w.Write([]byte(answer))\n}\n</code></pre>"},{"location":"Go/StdLib/net/http/#http_3","title":"\u670d\u52a1\u7aef\uff1a\u63a5\u6536HTTP\u8bf7\u6c42","text":""},{"location":"Go/StdLib/net/http/#server","title":"\u9ed8\u8ba4 Server","text":"<p>ListenAndServe \u4f7f\u7528\u6307\u5b9a\u7684\u76d1\u542c\u5730\u5740\u548c\u5904\u7406\u5668\u542f\u52a8\u4e00\u4e2a HTTP \u670d\u52a1\u7aef\u3002\u5904\u7406\u5668\u53c2\u6570\u901a\u5e38\u662f nil\uff0c\u8868\u793a\u91c7\u7528\u5305\u53d8\u91cf <code>DefaultServeMux</code> \u4f5c\u4e3a\u5904\u7406\u5668\u3002</p> <p><code>Handle</code> \u548c <code>HandleFunc</code> \u51fd\u6570\u53ef\u4ee5\u5411 <code>DefaultServeMux</code> \u6dfb\u52a0\u5904\u7406\u5668\u3002</p> <p>\u670d\u52a1\u5668 Demo\uff1a</p> <pre><code>import (\n    \"net/http\"\n)\n\nfunc main() {\n    http.HandleFunc(\"/\", sayHello)      // \u8bbe\u7f6e\u8bbf\u95ee\u8def\u7531\n    http.ListenAndServe(\":8080\", nil)   // \u8bbe\u7f6e\u76d1\u542c\u7aef\u53e3\u5e76\u542f\u52a8\u670d\u52a1\n}\n\n// \u8bf7\u6c42\u5904\u7406\u51fd\u6570\nfunc sayHello(w http.ResponseWriter, r *http.Request) {\n    fmt.Fprint(w, \"Hello HTTP!\")    \n}\n</code></pre> <p>\u4ec5\u4ec5\u9700\u8981\u4f7f\u7528 <code>http.HandleFunc()</code> \u548c <code>http.ListenAndServe()</code> \u5c31\u53ef\u4ee5\u542f\u52a8\u4e00\u4e2a web \u670d\u52a1\u5668\u5b9e\u4f8b\u3002</p> <p>\u8fd9\u4e24\u4e2a\u51fd\u6570\u7684\u7b7e\u540d\u5982\u4e0b\uff1a</p> <pre><code>func HandleFunc(pattern string, handler func(ResponseWriter, *Request))\nfunc ListenAndServe(addr string, handler Handler) error\n</code></pre> <p><code>HandleFunc()</code> \u9700\u8981\u4e24\u4e2a\u53c2\u6570\uff1a</p> <p>\u7b2c\u4e00\u4e2a\u53c2\u6570 <code>pattern</code> \u6307\u660e\u4e86\u8bf7\u6c42\u8def\u5f84\uff0c\u5f53\u8bbe\u7f6e\u4e3a <code>\u201c/\u201d</code> \u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 <code>http://host:port/</code> \u76f4\u63a5\u8bbf\u95ee\uff1b</p> <p>\u7b2c\u4e8c\u4e2a\u53c2\u6570 <code>handler</code> \u63a5\u53d7\u4e00\u4e2a\u5904\u7406\u51fd\u6570\uff0c\u5373\u63a5\u6536HTTP\u8bf7\u6c42\u540e\u5982\u4f55\u5904\u7406\u7684\u51fd\u6570\uff0c\u8be5\u53c2\u6570\u8981\u6c42\u4f20\u9012\u4e00\u4e2a \u65e0\u8fd4\u56de\u503c\u3001\u53ea\u6709\u4e24\u4e2a\u53c2\u6570\u5206\u522b\u662f ResponseWriter \u7c7b\u578b\u548c Request \u7c7b\u578b \u7684\u51fd\u6570\u3002</p> <p><code>ListenAndServe()</code> \u4e5f\u9700\u8981\u4e24\u4e2a\u53c2\u6570\uff1a</p> <p>\u7b2c\u4e00\u4e2a\u53c2\u6570 <code>addr</code> \u6307\u660e\u4e86\u672c\u670d\u52a1\u5b9e\u4f8b\u76d1\u542c\u7684\u662f\u53d1\u9001\u7ed9\u54ea\u4e2a\u7aef\u53e3\u7684HTTP\u8bf7\u6c42\uff0c\u5982\u6817\u5b50\u4e2d\u6307\u5b9a\u4e86 <code>:8080</code>\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 <code>http://host:8080</code> \u6765\u8bbf\u95ee\u3002</p> <p>\u7b2c\u4e8c\u4e2a\u53c2\u6570 <code>handler</code> \u63a5\u6536\u4e00\u4e2a\u5b9e\u73b0\u4e86 <code>Handler</code> \u63a5\u53e3\u7684\u53d8\u91cf\u3002\u5728http\u5305\u4e2d\uff0cHandler \u63a5\u53e3\u5b9a\u4e49\u5982\u4e0b\uff1a</p> <pre><code>type Handler interface {\n    ServeHTTP(ResponseWriter, *Request)\n}\n</code></pre>"},{"location":"Go/StdLib/net/http/#url_1","title":"\u89e3\u6790 url \u6570\u636e","text":""},{"location":"Go/StdLib/net/url/","title":"url","text":""},{"location":"Go/StdLib/net/url/#url","title":"url","text":""},{"location":"Go/StdLib/os/exec%20%E6%89%A7%E8%A1%8C%E5%A4%96%E9%83%A8%E5%91%BD%E4%BB%A4/","title":"exec \u6267\u884c\u5916\u90e8\u547d\u4ee4","text":""},{"location":"Go/StdLib/os/exec%20%E6%89%A7%E8%A1%8C%E5%A4%96%E9%83%A8%E5%91%BD%E4%BB%A4/#exec","title":"exec \u6267\u884c\u5916\u90e8\u547d\u4ee4","text":""},{"location":"Go/StdLib/os/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/","title":"\u6587\u4ef6\u64cd\u4f5c","text":""},{"location":"Go/StdLib/os/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/#_1","title":"\u6587\u4ef6\u64cd\u4f5c","text":"<p>file \u7c7b\u662f\u5728 os \u5305\u4e2d\u7684\uff0c\u5c01\u88c5\u4e86\u5e95\u5c42\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u548c\u76f8\u5173\u4fe1\u606f\uff0c\u540c\u65f6\u5c01\u88c5\u4e86 Read \u548c Write \u7684\u5b9e\u73b0</p>"},{"location":"Go/StdLib/os/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/#_2","title":"\u5bfc\u5305","text":"<pre><code>import \"os\"\n</code></pre>"},{"location":"Go/StdLib/os/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/#fileinfo","title":"\u6587\u4ef6\u4fe1\u606f FileInfo","text":"<pre><code>// A FileInfo describes a file and is returned by Stat and Lstat.\ntype FileInfo interface {\n    Name() string       // \u6587\u4ef6\u540d\n    Size() int64        // \u6587\u4ef6\u5927\u5c0f\uff0c\u5355\u4f4d\uff1abyte\n    Mode() FileMode     // \u6587\u4ef6\u6743\u9650\n    ModTime() time.Time // \u6587\u4ef6\u4fee\u6539\u65f6\u95f4\n    IsDir() bool        // \u662f\u5426\u76ee\u5f55\n    Sys() interface{}   // \u57fa\u7840\u6570\u636e\u6e90 (\u53ef\u4ee5\u8fd4\u56de nil)\n}\n</code></pre> <code>FileInfo</code> \u7c7b\u578b\u88c5\u8f7d\u4e86\u5404\u79cd\u63cf\u8ff0\u6587\u4ef6\u4fe1\u606f\u7684\u65b9\u6cd5\u3002\u901a\u8fc7 <code>Stat()</code> \u6216 <code>Lstat()</code> \u53ef\u4ee5\u83b7\u5f97 <pre><code>func Stat(name string) (FileInfo, error) {}\nfunc Lstat(name string) (FileInfo, error) {}\n</code></pre> <p>eg\uff1a </p><pre><code>func main() {\n\n    fileInfo, err := os.Stat(\"E:\\\\---CODE\\\\GO\\\\root\\\\src\\\\boii.xyz\\\\study\\\\Helloworld\\\\abc.txt\")\n    if err != nil {\n        fmt.Println(\"Err:\", err)\n        return\n    }\n    fmt.Println(fileInfo.Name())    // abc.txt\n    fmt.Println(fileInfo.Size())    // 0\n    fmt.Println(fileInfo.Mode())    // -rw-rw-rw-\n    fmt.Println(fileInfo.ModTime()) // 2021-02-08 21:29:31.4224976 +0800 CST\n    fmt.Println(fileInfo.IsDir())   // false\n    fmt.Println(fileInfo.Sys())     // &amp;{32 {1857742672 30866974} {1857742672 30866974} {1857742672 30866974} 0 0}\n\n}\n</code></pre><p></p>"},{"location":"Go/StdLib/os/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/#filemode","title":"\u6743\u9650 FileMode","text":"<pre><code>const (\n    // The single letters are the abbreviations\n    // used by the String method's formatting.\n    ModeDir        FileMode = 1 &lt;&lt; (32 - 1 - iota) // d: is a directory\n    ModeAppend                                     // a: append-only\n    ModeExclusive                                  // l: exclusive use\n    ModeTemporary                                  // T: temporary file; Plan 9 only\n    ModeSymlink                                    // L: symbolic link\n    ModeDevice                                     // D: device file\n    ModeNamedPipe                                  // p: named pipe (FIFO)\n    ModeSocket                                     // S: Unix domain socket\n    ModeSetuid                                     // u: setuid\n    ModeSetgid                                     // g: setgid\n    ModeCharDevice                                 // c: Unix character device, when ModeDevice is set\n    ModeSticky                                     // t: sticky\n    ModeIrregular                                  // ?: non-regular file; nothing else is known about this file\n\n    // Mask for the type bits. For regular files, none will be set.\n    ModeType = ModeDir | ModeSymlink | ModeNamedPipe | ModeSocket | ModeDevice | ModeCharDevice | ModeIrregular\n\n    ModePerm FileMode = 0777 // Unix permission bits\n)\n</code></pre>"},{"location":"Go/StdLib/os/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/#flag","title":"\u6253\u5f00\u6a21\u5f0f Flag","text":"<pre><code>// OpenFile\u7684\u6807\u5fd7\u5305\u88c5\u57fa\u7840\u7cfb\u7edf\u7684\u6807\u5fd7\u3002\u5e76\u975e\u6240\u6709\u6807\u5fd7\u90fd\u53ef\u4ee5\u5728\u7ed9\u5b9a\u7684\u7cfb\u7edf\u4e0a\u5b9e\u73b0\u3002\nconst (\n    //\u5fc5\u987b\u6307\u5b9a O_RDONLY, O_WRONLY, or O_RDWR \u5176\u4e2d\u4e00\u4e2a\n    O_RDONLY int = syscall.O_RDONLY // \u53ea\u8bfb\n    O_WRONLY int = syscall.O_WRONLY // \u53ea\u5199\n    O_RDWR   int = syscall.O_RDWR   // \u8bfb\u5199\n    // \u4ee5\u4e0b\u503c\u7528\u6765\u63a7\u5236\u884c\u4e3a\n    O_APPEND int = syscall.O_APPEND // \u8ffd\u52a0\u5199\n    O_CREATE int = syscall.O_CREAT  // \u82e5\u6587\u4ef6\u4e0d\u5b58\u5728\u5219\u521b\u5efa\n    O_EXCL   int = syscall.O_EXCL   // \u548c O_CREATE \u914d\u5408\u4f7f\u7528, \u6587\u4ef6\u5fc5\u987b\u4e0d\u5b58\u5728.\n    O_SYNC   int = syscall.O_SYNC   // \u6253\u5f00\u6587\u4ef6\u7528\u4e8e \u540c\u6b65 I/O\n    O_TRUNC  int = syscall.O_TRUNC  // \u5982\u679c\u53ef\u80fd\uff0c\u6253\u5f00\u65f6\u6e05\u7a7a\u6587\u4ef6\n)\n</code></pre>"},{"location":"Go/StdLib/os/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/#_3","title":"\u521b\u5efa\u76ee\u5f55","text":"<p>\u51fd\u6570\u7b7e\u540d\uff1a </p><pre><code>func Mkdir(name string, perm FileMode) error {}\nfunc MkdirAll(path string, perm FileMode) error {}\n</code></pre> <code>Mkdir</code> \u7528\u4e8e\u521b\u5efa\u4e00\u4e2a\u76ee\u5f55\uff0c\u76ee\u5f55\u5b58\u5728\u65f6\u5219\u521b\u5efa\u5931\u8d25 <code>MkdirAll</code> \u7528\u4e8e\u9012\u5f52\u521b\u5efa\u76ee\u5f55\uff0c\u76ee\u5f55\u5b58\u5728\u65f6\uff0c\u5219\u521b\u5efa\u5931\u8d25<p></p>"},{"location":"Go/StdLib/os/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/#_4","title":"\u521b\u5efa\u6587\u4ef6","text":"<pre><code>func Create(name string) (*File, error) {}\nfunc NewFile(fd uintptr, name string) *File {}\n</code></pre> - <code>Create(name string) (*File, error)</code>     - \u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>name</code> \u7684\u6587\u4ef6\uff0c\u9ed8\u8ba4\u6743\u9650 <code>0666</code>\uff0c\u6587\u4ef6\u63cf\u8ff0\u7b26\u4e3a <code>O_RDWR</code> \u8bfb\u5199\uff0c\u5982\u679c\u6587\u4ef6\u5df2\u5b58\u5728\u5219\u5185\u5bb9\u4f1a\u88ab\u6e05\u7a7a\u3002     - \u5982\u679c\u521b\u5efa\u6210\u529f\uff0c\u8bbf\u95ee\u7684\u6587\u4ef6\u5bf9\u8c61\u53ef\u7528\u4e8e I/O\u3002     - \u5982\u679c\u51fa\u9519\uff0c\u9519\u8bef\u7c7b\u578b\u4e3a <code>*PathError</code>\u3002 - <code>NewFile(fd uintptr, name string) *File</code>     - \u4f7f\u7528\u7ed9\u51fa\u7684 <code>fd</code> Unix\u6587\u4ef6\u63cf\u8ff0\u7b26\u548c\u540d\u79f0\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>name</code> \u7684\u6587\u4ef6\u3002 <pre><code>func main() {\n    f, err := os.Create(\"abc.txt\")\n    if err != nil {\n        fmt.Println(\"Err:\", err)\n        return\n    }\n    fmt.Println(\"\u6587\u4ef6\u521b\u5efa\u6210\u529f\")\n}\n</code></pre>"},{"location":"Go/StdLib/os/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/#_5","title":"\u5220\u9664\u6587\u4ef6\u3001\u76ee\u5f55","text":"<pre><code>func Remove(name string) error {}\nfunc RemoveAll(path string) error {}\n</code></pre> <code>Remove()</code>\uff1a\u5220\u9664\u540d\u4e3a <code>name</code> \u7684\u6587\u4ef6\u6216\u76ee\u5f55\uff0c\u76ee\u5f55\u975e\u7a7a\u65f6\u5220\u9664\u76ee\u5f55\u4f1a\u5931\u8d25\u3002\u5982\u679c\u5220\u9664\u5931\u8d25\uff0c\u5219\u8fd4\u56de <code>*PathError</code>\u3002 <code>RemoveAll()</code>\uff1a\u9012\u5f52\u5220\u9664 <code>path</code> \u7684\u6240\u6709\u6587\u4ef6\u6216\u76ee\u5f55\uff0c\u4e0d\u7ba1\u76ee\u5f55\u662f\u5426\u4e3a\u7a7a\u3002 <pre><code>func main() {\n\n    err1 := os.Remove(\"abc.txt\")\n    if err1 != nil {\n        fmt.Println(\"Err:\", err1)\n        return\n    }\n    fmt.Println(\"\u5220\u9664\u6587\u4ef6\u6210\u529f\")\n\n\n    err2 := os.Remove(\"acc/abc\")\n    if err2 != nil {\n        fmt.Println(\"Err:\", err2)\n        return\n    }\n    fmt.Println(\"\u5220\u9664\u76ee\u5f55\u6210\u529f\")\n}\n</code></pre>"},{"location":"Go/StdLib/os/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/#_6","title":"\u6253\u5f00\u6587\u4ef6","text":"<pre><code>func Open(name string) (*File, error) {}\nfunc OpenFile(name string, flag int, perm FileMode) (*File, error) {}\n</code></pre> <ul> <li><code>Open(name string) (*File, error)</code><ul> <li>\u6253\u5f00\u4e00\u4e2a\u540d\u4e3a <code>name</code> \u7684\u6587\u4ef6\u7528\u4e8e\u8bfb\u53d6\uff0c\u6587\u4ef6\u63cf\u8ff0\u7b26\u4e3a <code>O_RDONLY</code> \u53ea\u8bfb\u3002</li> <li>\u5982\u679c\u6253\u5f00\u6210\u529f\uff0c\u8fd4\u56de\u7684\u6587\u4ef6\u5bf9\u8c61\u7684\u65b9\u6cd5\u53ef\u7528\u4e8e\u8bfb\u53d6\u6570\u636e\u3002</li> <li>\u5982\u679c\u51fa\u9519\uff0c\u9519\u8bef\u7c7b\u578b\u4e3a <code>*PathError</code>\u3002</li> </ul> </li> <li><code>OpenFile(name string, flag int, perm FileMode) (*File, error)</code><ul> <li>\u6253\u5f00\u4e00\u4e2a\u540d\u4e3a <code>name</code> \u7684\u6587\u4ef6\uff0c\u4ee5 <code>flag</code> \u7684\u6a21\u5f0f\u6253\u5f00\uff1b\u82e5\u6587\u4ef6\u4e0d\u5b58\u5728\u5219\u521b\u5efa\u6587\u4ef6\uff0c\u6587\u4ef6\u6743\u9650\u4e3a <code>perm</code>\u3002</li> <li>\u5982\u679c\u6253\u5f00\u6210\u529f\uff0c\u8fd4\u56de\u7684\u6587\u4ef6\u5bf9\u8c61\u7684\u65b9\u6cd5\u53ef\u7528\u4e8e\u8bfb\u53d6\u6570\u636e\u3002</li> <li>\u5982\u679c\u51fa\u9519\uff0c\u9519\u8bef\u7c7b\u578b\u4e3a <code>*PathError</code>\u3002</li> </ul> </li> </ul> <p>eg\uff1a</p> <pre><code>func main() {\n    f, err := os.Open(\"a.txt\")\n    if err != nil {\n        fmt.Println(err)\n    }\n    fmt.Println(f)\n}\n</code></pre> <pre><code>func main() {\n    f, err := os.OpenFile(\"a.txt\", os.O_RDONLY | os.O_WRONLY, os.ModePerm)\n    if err != nil {\n        fmt.Println(err)\n    }\n    fmt.Println(f)\n}\n</code></pre>"},{"location":"Go/StdLib/os/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/#_7","title":"\u5173\u95ed\u6587\u4ef6","text":"<pre><code>func (f *File) Close() error {}\n</code></pre> \u5173\u95ed\u5df2\u6253\u5f00\u7684\u6587\u4ef6\u3002 <p>eg\uff1a </p><pre><code>func main() {\n    f, err := os.OpenFile(\"a.txt\", os.O_RDONLY | os.O_WRONLY, os.ModePerm)\n    if err != nil {\n        fmt.Println(err)\n    }\n\n    f.Close()\n}\n</code></pre><p></p> <p>\u66f4\u7a33\u59a5\u7684\u505a\u6cd5\u662f\uff1a </p><pre><code>func main() {\n    f, err := os.OpenFile(\"a.txt\", os.O_RDONLY | os.O_WRONLY, os.ModePerm)\n    defer f.Close()\n\n    if err != nil {\n        fmt.Println(err)\n    }\n    fmt.Println(f)\n}\n</code></pre> \u6587\u4ef6\u6253\u5f00\u540e\u7d27\u63a5\u7740\u8ddf\u7740 <code>defer</code> \u4fee\u9970\u5173\u95ed\u51fd\u6570\u3002\u9632\u6b62\u4e2d\u9014\u53d1\u751f <code>panic</code> \u6765\u4e0d\u53ca\u5173\u95ed\u6587\u4ef6\u3002<p></p>"},{"location":"Go/nil/Golang-nil-1-for%26range/","title":"1-for&range","text":""},{"location":"Go/nil/Golang-nil-1-for%26range/#for-range","title":"for \u548c range \u533a\u522b","text":"<p>range \u53ef\u4ee5\u7528\u6765\u904d\u5386 \u201c\u5f15\u7528\u4e09\u5144\u5f1f\u201d\uff1aslice\u3001map\u3001chan\uff0c\u8fd8\u6709\u6570\u7ec4 array\u3002</p> <p>\u5bf9\u4e8e\u6570\u7ec4\u548c slice\uff0c\u8fd8\u53ef\u4ee5\u7528 for \u6765\u904d\u5386\u3002</p>"},{"location":"Go/nil/Golang-nil-1-for%26range/#_1","title":"\u57fa\u672c\u4f7f\u7528","text":""},{"location":"Go/nil/Golang-nil-1-for%26range/#slicearray","title":"slice/array","text":"<p>Tip</p> <ul> <li>\u5bf9\u4e8e range \u5faa\u73af\uff0c\u5faa\u73af\u6b21\u6570\u4f1a\u5728\u5faa\u73af\u5f00\u59cb\u524d\u8ba1\u7b97\u597d\uff0c\u5728\u5faa\u73af\u8fc7\u7a0b\u4e2d\u4fee\u6539\u5207\u7247\u957f\u5ea6\u5e76\u4e0d\u4f1a\u6539\u53d8\u672c\u6b21\u5faa\u73af\u7684\u6b21\u6570\u3002</li> <li>\u5bf9\u4e8e\u7a7a\u5207\u7247\uff0c\u5faa\u73af\u6b21\u6570\u4e3a 0\u3002</li> </ul> <pre><code>s := []int{11, 99, 16, 55}\n\nfor i, v := range s {\n    fmt.Println(i, v)\n}\n\n// Output:\n0 11\n1 99\n2 16\n3 55\n</code></pre> <p>\u8fd9\u79cd\u65b9\u5f0f\u4e2d\uff0cv \u662f s \u4e2d\u5143\u7d20\u7684\u4e00\u4efd\u62f7\u8d1d\uff0c\u5bf9 v \u7684\u4fee\u6539\u5e76\u4e0d\u4f1a\u5f71\u54cd s \u4e2d\u539f\u672c\u7684\u5143\u7d20\u3002</p> <pre><code>s := []int{11, 99, 16, 55}\n\nfor i, v := range s {\n    v += 10     // v \u53ea\u662f\u4e00\u4efd\u62f7\u8d1d\uff0c\u5e76\u4e0d\u4f1a\u5f71\u54cd s \u91cc\u7684\u5143\u7d20\n}\n\nfmt.Println(s)\n\n// Output:\n[11 99 16 55]\n</code></pre> <p>\u9664\u975e s \u4e2d\u7684\u5143\u7d20\u662f\u6307\u9488\uff0c\u5219\u5bf9 v \u7684\u4fee\u6539\u4f1a\u5f71\u54cd s\uff0c\u4e0b\u9762\u5c06\u4f1a\u8bb2\u5230\u3002</p> <p>\u6b64\u5916\u91c7\u7528\u4e0b\u9762\u4e24\u79cd\u65b9\u5f0f\u4e5f\u53ef\u4ee5\u4fee\u6539 s \u4e2d\u7684\u5143\u7d20\u3002</p> <pre><code>s := []int{11, 99, 16, 55}\n\nfor i := 0; i &lt; len(s); i++ {\n    s[i] += 10\n}\n\nfmt.Println(s)\n\n// Output:\n[21 109 26 65]\n</code></pre> <pre><code>s := []int{11, 99, 16, 55}\n\nfor i := range s {\n    s[i] += 10\n}\n\nfmt.Println(s)\n\n// Output:\n[21 109 26 65]\n</code></pre>"},{"location":"Go/nil/Golang-nil-1-for%26range/#map","title":"map","text":"<p>Tip</p> <ul> <li>\u8fed\u4ee3\u8fc7\u7a0b\u4e2d\uff0c\u5220\u9664\u8fd8\u6ca1\u904d\u5386\u5230\u7684\u952e\u503c\u5bf9\uff0c\u5219\u8be5\u952e\u503c\u5bf9\u4e0d\u4f1a\u88ab\u904d\u5386\u3002</li> <li>\u8fed\u4ee3\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u521b\u5efa\u65b0\u7684\u952e\u503c\u5bf9\uff0c\u5219\u65b0\u7684\u952e\u503c\u5bf9\u6709\u53ef\u80fd\u88ab\u904d\u5386\uff0c\u4e5f\u6709\u53ef\u80fd\u4e0d\u4f1a\u88ab\u904d\u5386\u3002</li> <li>\u5bf9\u4e8e\u7a7a\u5b57\u5178\uff0c\u904d\u5386\u6b21\u6570\u4e3a 0\u3002</li> </ul> <pre><code>m := map[byte]int{\n    11: 10,\n    22: 20,\n    33: 30,\n    44: 40,\n}\n\nfor k, v := range m {\n    v += 5  // \u4ec5\u4ec5\u662f\u5bf9\u62f7\u8d1d\u7684\u4fee\u6539\uff0c\u4e0d\u4f1a\u5f71\u54cd m\n    fmt.Println(k, v)\n}\n\nfmt.Println(m)\n\n// Output\uff1a\n22 25\n33 35\n44 45\n11 15\nmap[11:10 22:20 33:30 44:40]\n</code></pre> <p>\u540c\u6837\u8fd9\u79cd\u65b9\u5f0f\u5bf9 v \u8fdb\u884c\u4fee\u6539\u662f\u4e0d\u4f1a\u5f71\u54cd m \u7684\u3002</p> <p>\u4e0b\u9762\u8fd9\u79cd\u5c31\u53ef\u4ee5</p> <pre><code>m := map[byte]int{\n    11: 10,\n    22: 20,\n    33: 30,\n    44: 40,\n}\n\nfor k := range m {\n    m[k] += 1   // \u8fd9\u79cd\u65b9\u5f0f\u5c31\u4f1a\u4fee\u6539\u5230 m \u7684\u5143\u7d20\n    fmt.Println(k, m[k])\n}\n\nfmt.Println(m)\n\n// Output:\n11 11\n22 21\n33 31\n44 41\nmap[11:11 22:21 33:31 44:41]\n</code></pre>"},{"location":"Go/nil/Golang-nil-1-for%26range/#chan","title":"chan","text":"<p>Tip</p> <ul> <li>\u53d1\u9001\u7ed9\u4fe1\u9053\u7684\u503c\uff0c\u53ef\u4ee5\u901a\u8fc7 range \u904d\u5386\uff0c\u76f4\u5230\u4fe1\u9053\u88ab\u5173\u95ed\uff0c\u624d\u4f1a\u9000\u51fa\u5faa\u73af\u3002</li> <li>\u5982\u679c\u662f\u672a\u5206\u914d\u5185\u5b58\u7684 nil \u4fe1\u9053\uff0c\u5faa\u73af\u5c06\u6c38\u8fdc\u963b\u585e\u3002</li> </ul> <pre><code>ch := make(chan byte)\n\ngo func() {\n    ch &lt;- 'b'\n    ch &lt;- 'o'\n    ch &lt;- 'i'\n    ch &lt;- 'i'\n    close(ch)\n}()\n\nfor c := range ch {\n    fmt.Println(string(c))\n}\n\n// Output:\nb\no\ni\ni\n</code></pre>"},{"location":"Go/nil/Golang-nil-1-for%26range/#_2","title":"\u6027\u80fd\u6bd4\u8f83","text":"<p>\u63a5\u4e0b\u6765\u6211\u4eec\u4e3b\u8981\u9488\u5bf9\u57fa\u672c\u7c7b\u578b\u548c\u7ed3\u6784\u4f53\u7c7b\u578b\uff0c\u6bd4\u8f83\u4ed6\u4eec\u4f7f\u7528 for \u548c range \u7684\u6027\u80fd\u3002</p> <p>\u53ea\u6709 slice \u548c array \u624d\u6709\u529e\u6cd5 for \u548c range \u90fd\u4f7f\u7528\uff0c\u6240\u4ee5\u63a5\u4e0b\u6765\u7684\u6bd4\u5bf9\u5982\u4e0b\uff1a</p> for range \u57fa\u672c\u7c7b\u578b for + []int range + []int \u7ed3\u6784\u4f53 for + []struct range + []struct"},{"location":"Go/nil/Golang-nil-1-for%26range/#for-int-vs-range-int","title":"<code>for + []int</code> VS <code>range + []int</code>","text":"<p>\u4e3b\u8981\u65b9\u5f0f\u6709 3 \u79cd\uff1a</p> <ul> <li><code>for i:=0; i &lt; len(s); i++</code></li> <li><code>for i := range s</code></li> <li><code>for i, v := range s</code></li> </ul> <p>Summary</p> <p>\u5148\u8bf4\u7ed3\u8bba\uff1a\u904d\u5386 <code>[]int</code> \uff0c\u4e09\u79cd\u65b9\u5f0f\u5e76\u6ca1\u592a\u5927\u5dee\u522b\u3002</p>"},{"location":"Go/nil/Golang-nil-1-for%26range/#int","title":"[]int","text":"<pre><code>// \u751f\u6210\u5207\u7247\nfunc geneI(n int) []int {\n    nums := make([]int, 0, n)\n    rand.Seed(time.Now().Unix())\n    for z := 0; z &lt; n; z++ {\n        nums = append(nums, rand.Int())\n    }\n    return nums\n}\n\n// for \u904d\u5386\nfunc I_For(nums []int) {\n    n := len(nums)\n    for i := 0; i &lt; n; i++ {\n        _ = nums[i]\n    }\n}\n\n// range i \u904d\u5386\nfunc I_RangeI(nums []int) {\n    for i := range nums {\n        _ = nums[i]\n    }\n}\n\n// range iv \u904d\u5386\nfunc I_RangeIV(nums []int) {\n    for i, v := range nums {\n        _, _ = i, v\n    }\n}\n\nfunc BenchmarkI_For(b *testing.B) {\n    nums := geneI(1 &lt;&lt; 20)\n    for i := 0; i &lt; b.N; i++ {\n        I_For(nums)\n    }\n}\n\nfunc BenchmarkI_RangeI(b *testing.B) {\n    nums := geneI(1 &lt;&lt; 20)\n    for i := 0; i &lt; b.N; i++ {\n        I_RangeI(nums)\n    }\n}\n\nfunc BenchmarkI_RangeIV(b *testing.B) {\n    nums := geneI(1 &lt;&lt; 20)\n    for i := 0; i &lt; b.N; i++ {\n        I_RangeIV(nums)\n    }\n}\n</code></pre> <p>\u6267\u884c\u540e\u7684\u7ed3\u679c\u5982\u4e0b\uff1a</p> <pre><code>$ go version \ngo1.16.6 linux/amd64\n\n$ go test . -bench=I_ -benchmem\ngoos: linux\ngoarch: amd64\ncpu: Intel(R) Core(TM) i5-7300HQ CPU @ 2.50GHz\nBenchmarkI_For-4            2685            431122 ns/op            3124 B/op          0 allocs/op\nBenchmarkI_RangeI-4         2686            431759 ns/op            3123 B/op          0 allocs/op\nBenchmarkI_RangeIV-4        2688            432650 ns/op            3120 B/op          0 allocs/op\nPASS\nok   3.586s\n</code></pre> <p>\u4ece\u7ed3\u679c\u53ef\u4ee5\u770b\u51fa\uff0c\u5728\u904d\u5386\u57fa\u672c\u7c7b\u578b\u5207\u7247\u65f6\uff0c\u4e0d\u7ba1\u662f\u65f6\u95f4\u4e0a\uff08ns/op\uff09\uff0c\u8fd8\u662f\u7a7a\u95f4\u4e0a\uff08B/op\uff09\uff0c\u8fd8\u662f\u7cfb\u7edf\u8c03\u7528\u4e0a\uff08allocs/op\uff09\uff0c\u90fd\u6ca1\u5565\u5dee\u522b\u3002</p> <p>\u73b0\u5728\u662f 2021-8-19\uff0c\u4ee5\u4e0a\u662f go 1.16.6 \u7248\u672c\u6d4b\u8bd5\u7684\u7ed3\u679c\uff0c\u5e76\u6ca1\u6709\u592a\u5927\u5dee\u522b\uff0c\u4e0d\u50cf\u7f51\u4e0a\u8bf4\u7684 for \u6bd4 range \u5feb\u3002</p>"},{"location":"Go/nil/Golang-nil-1-for%26range/#struct","title":"[]struct","text":"<pre><code>const N = 1 &lt;&lt; 20\ntype Per struct {\n    ins [2048]byte\n    age int\n}\n\nfunc geneS(n int) []Per {\n    persons := make([]Per, 0, n)\n    rand.Seed(time.Now().Unix())\n    for i := 0; i &lt; n; i++ {\n        persons = append(persons, Per{age: rand.Int(), ins: [2048]byte{'a'}})\n    }\n    return persons\n}\n\nfunc S_For(persons []Per) {\n    n := len(persons)\n    for i := 0; i &lt; n; i++ {\n        _ = persons[i].age\n    }\n}\n\nfunc S_RangeI(persons []Per) {\n    for i := range persons {\n        _ = persons[i].age\n    }\n}\n\nfunc S_RangeIV(persons []Per) {\n    for i, v := range persons {\n        _, _ = i, v.age\n    }\n}\n\nfunc BenchmarkS_For(b *testing.B) {\n    persons := geneS(N)\n    b.ResetTimer()\n    for i := 0; i &lt; b.N; i++ {\n        S_For(persons)\n    }\n}\nfunc BenchmarkS_RangeI(b *testing.B) {\n    persons := geneS(N)\n    b.ResetTimer()\n    for i := 0; i &lt; b.N; i++ {\n        S_RangeI(persons)\n    }\n}\nfunc BenchmarkS_RangeIV(b *testing.B) {\n    persons := geneS(N)\n    b.ResetTimer()\n    for i := 0; i &lt; b.N; i++ {\n        S_RangeIV(persons)\n    }\n}\n</code></pre> <p>\u8fd0\u884c\u7ed3\u679c</p> <pre><code>$ go test . -bench=S_ -benchmem\ngoos: linux\ngoarch: amd64\ncpu: Intel(R) Core(TM) i5-7300HQ CPU @ 2.50GHz\nBenchmarkS_For-4            2850            421009 ns/op               0 B/op          0 allocs/op\nBenchmarkS_RangeI-4         2850            420993 ns/op               0 B/op          0 allocs/op\nBenchmarkS_RangeIV-4        2848            421131 ns/op               0 B/op          0 allocs/op\nPASS\nok     7.330s\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\u57fa\u672c\u4e5f\u6ca1\u592a\u5927\u533a\u522b\u3002</p>"},{"location":"Go/nil/Golang-nil-1-for%26range/#struct_1","title":"[]*struct","text":"<p>Summary</p> <p>\u7ed3\u8bba\uff1a\u5373\u4f7f\u662f\u7ed3\u6784\u4f53\u6307\u9488\u5207\u7247\uff0c\u8dd1\u51fa\u6765\u7684\u7ed3\u679c\u51e0\u4e4e\u76f8\u5dee\u65e0\u51e0</p> <pre><code>func PS_For(persons []*Per) {\n    n := len(persons)\n    for i := 0; i &lt; n; i++ {\n        _ = persons[i].age\n    }\n}\n\nfunc PS_RangeI(persons []*Per) {\n    for i := range persons {\n        _ = persons[i].age\n    }\n}\n\nfunc PS_RangeIV(persons []*Per) {\n    for i, v := range persons {\n        _, _ = i, v.age\n    }\n}\n\nfunc BenchmarkPS_For(b *testing.B) {\n    persons := genePS(N)\n    b.ResetTimer()\n    for i := 0; i &lt; b.N; i++ {\n        PS_For(persons)\n    }\n}\n\nfunc BenchmarkPS_RangeI(b *testing.B) {\n    persons := genePS(N)\n    b.ResetTimer()\n    for i := 0; i &lt; b.N; i++ {\n        PS_RangeI(persons)\n    }\n}\nfunc BenchmarkPS_RangeIV(b *testing.B) {\n    persons := genePS(N)\n    b.ResetTimer()\n    for i := 0; i &lt; b.N; i++ {\n        PS_RangeIV(persons)\n    }\n}\n</code></pre> <p>\u8fd0\u884c\u7ed3\u679c\uff1a</p> <pre><code>$ go test . -bench=S_ -benchmem  \ngoos: linux\ngoarch: amd64\ncpu: Intel(R) Core(TM) i5-7300HQ CPU @ 2.50GHz\nBenchmarkS_For-4                83856697                14.13 ns/op            0 B/op          0 allocs/op\nBenchmarkS_RangeI-4             66149228                17.66 ns/op            0 B/op          0 allocs/op\nBenchmarkS_RangeIV-4            72271676                16.61 ns/op            0 B/op          0 allocs/op\nBenchmarkPS_For-4               71399964                21.43 ns/op            0 B/op          0 allocs/op\nBenchmarkPS_RangeI-4            63293829                18.62 ns/op            0 B/op          0 allocs/op\nBenchmarkPS_RangeIV-4           63576286                18.57 ns/op            0 B/op          0 allocs/op\nPASS\nok       7.565s\n</code></pre>"},{"location":"Go/nil/Golang-nil-1-for%26range/#_3","title":"\u80fd\u4fee\u6539\u5143\u7d20\u7684\u904d\u5386","text":"<p>\u524d\u9762\u8bf4 <code>for i, v := range s</code> \u8fd9\u79cd\u65b9\u5f0f\uff0cv \u662f\u4e00\u4efd\u62f7\u8d1d\uff0c\u5bf9 v \u7684\u4fee\u6539\u4e0d\u4f1a\u5f71\u54cd s \u4e2d\u7684\u5143\u7d20\u3002</p> <p>\u4f46\u662f\u5982\u679c v \u662f\u4e2a\u6307\u9488\uff0c\u5bf9 v \u7684\u4fee\u6539\u8fd8\u662f\u4f1a\u5f71\u54cd\u7684\u3002</p> <pre><code>a := 10\nb := 20\nc := 30\n\ns := []*int{&amp;a, &amp;b, &amp;c}\n\nfmt.Println(a, b, c)\nfor _, v := range s {\n    *v += 1\n}\nfmt.Println(a, b, c)\n\n// Output\uff1a\n10 20 30\n11 21 31\n</code></pre> <p>\u518d\u4e3e\u4e2a\u7ed3\u6784\u4f53\u7684\u6817\u5b50\uff1a</p> <pre><code>type Person struct {\n    name string\n    age  int\n}\n\npersons := make([]*Person, 0, 3)\npersons = append(persons, &amp;Person{age: 15}, &amp;Person{age: 25}, &amp;Person{age: 35})\n\nfmt.Println(persons[0], persons[1], persons[2])\nfor _, v := range persons {\n    v.age += 1\n}\nfmt.Println(persons[0], persons[1], persons[2])\n\n// Output:\n&amp;{ 15} &amp;{ 25} &amp;{ 35}\n&amp;{ 16} &amp;{ 26} &amp;{ 36}\n</code></pre>"},{"location":"Go/nil/Golang-nil-1-for%26range/#_4","title":"\u603b\u7ed3","text":"<p>\u904d\u5386\u603b\u5171\u6709 3 \u79cd\u65b9\u5f0f\uff1a</p> <ol> <li>for\uff1a<code>for i:=0; i&lt;n; i++</code></li> <li>rangeI\uff1a<code>for i := range items</code></li> <li>rangeIV\uff1a<code>for i, v := range items</code></li> </ol> <p>\u4e09\u79cd\u65b9\u5f0f\u90fd\u5404\u6709\u6240\u957f\u3002\u5176\u4e2d rangeIV \u4e2d v \u662f items \u4e2d\u5143\u7d20\u7684\u4e00\u4efd\u62f7\u8d1d\uff0c\u5982\u679c v \u4e0d\u662f\u6307\u9488\uff0c\u90a3\u4e48\u5bf9\u4e8e v \u7684\u4fee\u6539\u5e76\u4e0d\u4f1a\u5f71\u54cd items \u91cc\u9762\u7684\u5143\u7d20\uff0c\u5982\u679c v \u662f\u6307\u9488\uff0c\u5219\u80fd\u591f\u5f71\u54cd\u3002</p> <p>\u6b63\u662f\u56e0\u4e3a v \u662f\u4e00\u4efd\u62f7\u8d1d\uff0c\u6240\u4ee5\u5728\u4e00\u4e9b\u65e7\u7248\u672c\u4e2d\u53ef\u80fd\u4f1a\u56e0\u6b64\u964d\u4f4e\u4e86\u6027\u80fd\uff0c\u4f46\u5728\u65b0\u7248\u672c\uff08\u81f3\u5c11 go 1.16.6 \uff0c\u6211\u5e76\u6ca1\u6709\u53bb\u6c42\u8bc1\uff09\u4e2d\uff0c\u4ece\u57fa\u51c6\u6d4b\u8bd5\u6765\u770b\u662f\u6ca1\u6709\u4ec0\u4e48\u533a\u522b\uff0c\u53ef\u80fd\u5728\u65b0\u7248\u672c\u4e2d\u505a\u4e86\u4f18\u5316\u3002</p>"},{"location":"Go/nil/Golang-nil-10-%E5%8F%8D%E5%B0%84/","title":"10-\u53cd\u5c04","text":"<p>\u53cd\u5c04\uff0c\u5e95\u5c42\u5f00\u53d1\u7528\u7684\u6bd4\u8f83\u591a\uff0c\u5e94\u7528\u5c42\u5f00\u53d1\u7528\u7684\u4e0d\u591a\u3002</p> <p>\u53cd\u5c04\u4e09\u6cd5\u5219\uff1a</p> <ol> <li>\u4ece \u63a5\u53e3\u503c \u53ef\u4ee5\u5f97\u5230 \u53cd\u5c04\u5bf9\u8c61</li> <li>\u4ece \u53cd\u5c04\u5bf9\u8c61 \u53ef\u4ee5\u5f97\u5230 \u63a5\u53e3\u503c</li> <li>\u8981\u4fee\u6539\u53cd\u5c04\u5bf9\u8c61\uff0c\u5176\u503c\u5fc5\u987b\u53ef\u8bbe\u7f6e</li> </ol> <p>\u4e24\u4e2a\u57fa\u672c\u53cd\u5c04\u5bf9\u8c61\uff1a</p> <ul> <li>reflect.Type</li> <li>reflect.Value</li> </ul> <p>\u53cd\u5c04\u5305 reflect \u57fa\u672c\u5c31\u662f\u56f4\u7ed5\u8fd9\u4e24\u4e2a\u7c7b\u578b\u5c55\u5f00\u7684</p> <p>\u4e09\u4e2a\u57fa\u672c\u6982\u5ff5\uff1a</p> <ol> <li>Value\uff1a\u503c</li> <li>Type\uff1a\u7c7b\u578b\uff0c\u53ef\u4ee5\u6709\u5f88\u591a\u79cd\uff0c\u4f60\u4e5f\u53ef\u4ee5\u81ea\u5b9a\u4e49\u7c7b\u578b</li> <li>Kind\uff1a\u79cd\u7c7b\uff0c\u53ea\u6709\u90a3\u51e0\u79cd\uff0c\u90fd\u662f go \u9884\u5148\u5b9a\u4e49\u7684\u90a3\u51e0\u79cd</li> </ol> <p>\u503c\u5f88\u597d\u7406\u89e3\uff0c\u800c\u7c7b\u578b\u548c\u79cd\u7c7b\u9700\u8981\u533a\u522b\u4e00\u4e0b\u3002</p> <p></p> <p>\u7c7b\u578b\u53ef\u4ee5\u6709\u5f88\u591a\u79cd\uff0c\u4f60\u4e5f\u53ef\u4ee5\u81ea\u5b9a\u4e49\u7c7b\u578b\uff1b\u800c\u79cd\u7c7b\u53ea\u6709\u90a3\u51e0\u79cd\uff0c\u90fd\u662f go \u9884\u5148\u5b9a\u4e49\u7684\u90a3\u51e0\u79cd\u3002\u4e0d\u7ba1\u4ec0\u4e48\u7c7b\u578b\u90fd\u9700\u8981\u5f52\u7c7b\u5230\u9884\u8bbe\u7684\u8fd9\u4e9b\u79cd\u7c7b\u4e2d\u3002\u5177\u4f53\u6709\u54ea\u5199\u79cd\u7c7b\u53ef\u4ee5\u5230 go \u5b98\u65b9\u6587\u6863\u4e2d\u67e5\u770b</p> <p>eg\uff1a</p> <pre><code>package main\n\nimport (\n    \"reflect\"\n    \"fmt\"\n)\n\ntype Person struct {    // \u5b9a\u4e49\u4e00\u4e2a\u7ed3\u6784\u4f53\uff0c\u540d\u4e3a Person\n    Name string\n    Age  int\n}\n\nfunc main() {\n    // \u521b\u5efa\u4e00\u4e2a\u7ed3\u6784\u4f53\u5bf9\u8c61\n    p := Person{\n        Name: \"Boii\",\n        Age:  18,\n    }\n\n    t := reflect.TypeOf(p)    // \u62ff\u5230 p \u7684\u7c7b\u578b\n\n    fmt.Println(\"Type\", t)            // main.Person\n    fmt.Println(\"Kind\", t.Kind())    // struct\n}\n</code></pre> <p>\u7c7b\u578b Type \u548c Kind \u4e00\u5b9a\u8981\u5206\u6e05\u695a\uff0c\u5b83\u4fe9\u4e0d\u4ec5\u4ec5\u662f\u53cd\u5c04\u5305\u91cc\u6709\uff0c\u5728\u8ba4\u8bc6\u63a5\u53e3 interface \u7684\u65f6\u5019\u4e5f\u975e\u5e38\u5173\u952e\u3002\u4e00\u5b9a\u8981\u7262\u8bb0\u5b83\u4fe9\u7684\u533a\u522b\u3002Type \u6709\u65e0\u9650\u591a\u79cd\u53ef\u80fd\uff0cKind \u53ea\u6709 go \u5b9a\u4e49\u7684\u90a3\u51e0\u79cd\u3002</p>"},{"location":"Go/nil/Golang-nil-10-%E5%8F%8D%E5%B0%84/#_1","title":"\u53cd\u5c04\u64cd\u4f5c\u7ed3\u6784\u4f53","text":""},{"location":"Go/nil/Golang-nil-10-%E5%8F%8D%E5%B0%84/#_2","title":"\u53cd\u5c04\u64cd\u4f5c\u51fd\u6570","text":""},{"location":"Go/nil/Golang-nil-2-slice/","title":"2-slice\u539f\u7406","text":""},{"location":"Go/nil/Golang-nil-2-slice/#slice","title":"slice \u5b9e\u73b0\u539f\u7406","text":"<p>slice \u662f\u4e00\u6bb5\u5e95\u5c42\u6570\u7ec4\u7684\u63cf\u8ff0\u3002</p> <p>Cite</p> <p>\u5728 golang spec \u662f\u8fd9\u4e48\u8bf4\u7684\uff1a</p> <p>A slice is a descriptor for a contiguous segment of an underlying array and provides access to a numbered sequence of elements from that array. A slice type denotes the set of all slices of arrays of its element type. The number of elements is called the length of the slice and is never negative. The value of an uninitialized slice is <code>nil</code>.</p> <p>\u5207\u7247\u662f\u5e95\u5c42\u6570\u7ec4\u7684\u8fde\u7eed\u6bb5\u7684\u63cf\u8ff0\u7b26\uff0c\u63d0\u4f9b\u5bf9\u8be5\u6570\u7ec4\u4e2d\u7f16\u53f7\u7684\u5143\u7d20\u5e8f\u5217\u7684\u8bbf\u95ee\u3002\u5207\u7247\u7c7b\u578b\u8868\u793a\u5176\u5143\u7d20\u7c7b\u578b\u7684\u6570\u7ec4\u7684\u6240\u6709\u5207\u7247\u7684\u96c6\u5408\u3002\u5143\u7d20\u7684\u6570\u91cf\u79f0\u4e3a\u5207\u7247\u7684\u957f\u5ea6\uff0c\u5e76\u4e14\u6c38\u8fdc\u4e0d\u4f1a\u4e3a\u8d1f\u3002\u672a\u521d\u59cb\u5316\u5207\u7247\u7684\u503c\u4e3a<code>nil</code>\u3002</p>"},{"location":"Go/nil/Golang-nil-2-slice/#slice_1","title":"slice \u7ed3\u6784","text":"<p>\u5728\u6e90\u7801\u5305\u4e2d <code>src/runtime/slice.go:slice</code> \u5bf9 Slice \u5b9a\u4e49\u5982\u4e0b\uff1a</p> <pre><code>type slice struct {\n    array unsafe.Pointer\n    len   int\n    cap   int\n}\n</code></pre> <p>\u901a\u8fc7\u8fd9\u4e2a\u7ed3\u6784\u4f53\u53ef\u4ee5\u66f4\u6e05\u6670\u770b\u51fa\uff0c\u5207\u7247\u662f\u57fa\u4e8e\u4e00\u4e2a\u5e95\u5c42\u6570\u7ec4\u7684\uff08\u5373 array \u5b57\u6bb5\uff0c\u5176\u4e3a\u4e00\u4e2a\u6307\u9488\uff0c\u6307\u5411\u4e00\u4e2a\u6570\u7ec4\uff09\uff0c\u5e76\u4e14\u5e26\u6709\u4e24\u4e2a\u5b57\u6bb5\uff1a<code>\u957f\u5ea6 len</code> \u548c <code>\u5bb9\u91cf cap</code>\u3002</p> <ul> <li> <p>\u5bb9\u91cf\uff0c\u6307\u7684\u662f\u5207\u7247\u7684\u5e95\u5c42\u6570\u7ec4\u7684\u5143\u7d20\u6700\u5927\u4e2a\u6570\u3002</p> </li> <li> <p>\u957f\u5ea6\uff0c\u6307\u7684\u662f\u5207\u7247\u7684\u5e95\u5c42\u6570\u7ec4\u7684\u5143\u7d20\u76ee\u524d\u4e2a\u6570\u3002</p> </li> </ul> <p></p> <p>\u521b\u5efa\u5207\u7247\u5171\u6709 3 \u79cd\u65b9\u5f0f\uff1a</p> <ol> <li> <p>\u901a\u8fc7\u5b57\u9762\u91cf\u76f4\u63a5\u521b\u5efa</p> </li> <li> <p>\u57fa\u4e8e\u5df2\u6709 \u6570\u7ec4/slice \u521b\u5efa</p> </li> <li> <p>\u901a\u8fc7 make() \u521b\u5efa</p> </li> </ol> <pre><code>arr := [8]int{1, 2, 3, 4, 5, 6, 7, 8}\n\ns1 := []int{11, 22, 33}        // 1. \u901a\u8fc7\u5b57\u9762\u91cf\u76f4\u63a5\u521b\u5efa\ns2 := arr[2:6]                // 2. \u901a\u8fc7\u4e0b\u6807\u57fa\u4e8e\u6570\u7ec4\u6216\u5207\u7247\u521b\u5efa\ns3 := make([]int, 10, 20)    // 3. \u901a\u8fc7\u5173\u952e\u5b57 make \u521b\u5efa\n</code></pre>"},{"location":"Go/nil/Golang-nil-2-slice/#re-slice","title":"<code>[:]</code> re-slice","text":"<p><code>[:]</code> \u8bed\u6cd5\u5728 golang spec \u79f0\u4e3a <code>Slice Expression</code>\uff0c\u4e5f\u6709\u79f0\u4f5c <code>re-slice</code>\uff0c\u662f golang \u4e2d\u5f88\u5e38\u7528\u7684\u4e00\u79cd\u83b7\u5f97\u5207\u7247\u7684\u65b9\u6cd5\u3002\u4f46\u5728\u4f7f\u7528\u65f6\u6709\u4e00\u4e9b\u5730\u65b9\u9700\u8981\u6ce8\u610f\u3002</p> <p><code>[:]</code> \u8bed\u6cd5\u6709\u4e24\u79cd\u57fa\u672c\u5f62\u5f0f\uff1a</p> <ol> <li><code>[low : high]</code></li> <li><code>[low : high : max]</code></li> </ol> <p>\u7b2c\u4e00\u79cd\u57fa\u672c\u5f62\u5f0f\u4e2d\uff0clow \u548c high \u90fd**\u5141\u8bb8\u4f7f\u7528\u5b57\u9762\u5e38\u91cf\u6216\u53d8\u91cf**\uff0c\u90fd**\u5141\u8bb8\u5ffd\u7565\u4e0d\u5199**\uff0c\u6240\u4ee5\u6709\u4ee5\u4e0b\u51e0\u79cd\u5f62\u5f0f\uff1a</p> <ul> <li><code>[2:5]</code>\u3001<code>[2:]</code>\u3001<code>[:5]</code>\u3001<code>[:]</code></li> </ul> <p>\u7b2c\u4e8c\u79cd\u57fa\u672c\u5f62\u5f0f\u4e2d\uff0clow\u3001high\u3001max \u90fd**\u5141\u8bb8\u4f7f\u7528\u5b57\u9762\u5e38\u91cf\u6216\u53d8\u91cf**\uff0c\u4f46\u53ea\u5141\u8bb8 low \u5ffd\u7565\u4e0d\u5199\uff0c\u6240\u4ee5\u53ea\u6709 2 \u79cd\u5f62\u5f0f\uff1a</p> <ul> <li><code>[2:5:6]</code>\u3001<code>[:5:6]</code></li> </ul> <p>\u5728\u5ffd\u7565\u4e0d\u5199\u7684\u60c5\u51b5\u4e0b\uff1a</p> <ul> <li> <p>low\u7684\u9ed8\u8ba4\u503c\u4e3a <code>0</code>\uff0c\u5373\u57fa\u7840\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u5f00\u59cb\u7b97\u8d77</p> </li> <li> <p>high\u7684\u9ed8\u8ba4\u503c\u4e3a <code>len(\u57fa\u7840\u6570\u7ec4/\u5207\u7247)</code>\uff0c\u5373\u57fa\u7840\u6570\u7ec4/\u5207\u7247\u7684\u6700\u540e\u4e00\u4e2a</p> </li> <li> <p>max \u7684\u9ed8\u8ba4\u503c\u4e3a <code>len(\u5e95\u5c42\u6570\u7ec4)</code>\uff0c\u5373\u5e95\u5c42\u6570\u7ec4\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\uff08\u5305\u542b\u6700\u540e\u4e00\u4e2a\u5143\u7d20\uff09</p> </li> </ul> <p>\u4e3e\u4e2a\u6817\u5b50\uff1a</p> <pre><code>b := make([]int, 0, 10)            // \u5207\u7247 b\uff0cb \u7684\u57fa\u7840\u6570\u7ec4\u548c\u5e95\u5c42\u6570\u7ec4\u90fd\u662f\u67d0\u4e2a\u533f\u540d\u6570\u7ec4\n\nfor i := 0; i &lt; 8; i++ {\n    b = append(b, i+1)\n}\n\nfmt.Println(\"b:\", b)            // b: [1 2 3 4 5 6 7 8] \nfmt.Println(len(b), cap(b))        // 8 10\n\nj := b[2:7]                        // \u5207\u7247 j\uff0c\u57fa\u7840\u6570\u7ec4\u662f b\uff0c\u5e95\u5c42\u6570\u7ec4\u662f\u67d0\u4e2a\u533f\u540d\u6570\u7ec4\nfmt.Println(\"j:\", j)            // j: [3 4 5 6 7]\nfmt.Println(len(j), cap(j))        // 5 8\n\nk := j[2:]                        // \u5207\u7247 k\uff0c\u57fa\u7840\u6570\u7ec4\u662f j\uff0c\u5e95\u5c42\u6570\u7ec4\u662f\u67d0\u4e2a\u533f\u540d\u6570\u7ec4\nfmt.Println(\"k:\", k)            // k: [5 6 7]\nfmt.Println(len(k), cap(k))        // 3 6\n\nl := j[1:4:6]                    // \u5207\u7247 l\uff0c\u57fa\u7840\u6570\u7ec4\u662f j, \u5e95\u5c42\u6570\u7ec4\u662f\u67d0\u4e2a\u533f\u540d\u6570\u7ec4\nfmt.Println(\"l:\", l)            // l: [4 5 6]\nfmt.Println(len(l), cap(l))        // 3 5\n</code></pre> <p></p> <p>\u6b64\u5916 low\u3001high\u3001max \u7684\u9ed8\u8ba4\u503c\u4e5f\u6709\u4e00\u4e9b\u8981\u6c42\uff0c\u4f46\u6982\u62ec\u8d77\u6765\u5c31\u662f\uff1a</p> \\[ 0 \\le low \\le len(s) \\le high \\le max \\le cap(s) \\] <p>\u5373\uff1alow \u4e0d\u80fd\u8d85\u8fc7 high\u3001high \u4e0d\u80fd\u8d85\u8fc7 max\u3001max \u4e0d\u80fd\u8d85\u8fc7 cap(s)\uff1b\u53cd\u4e4b\uff0cmax \u4e0d\u80fd\u5c0f\u4e8e high\u3001high \u4e0d\u80fd\u5c0f\u4e8e low\u3001low \u4e0d\u80fd\u5c0f\u4e8e 0\u3002</p> <ul> <li>low \u7684\u53d6\u503c\u5728 <code>[0, high]</code></li> <li>high \u7684\u53d6\u503c\u5728 <code>[low, max]</code></li> <li>max \u7684\u53d6\u503c\u5728 <code>[high, cap(s)]</code></li> </ul>"},{"location":"Go/nil/Golang-nil-2-slice/#_1","title":"\u6269\u5bb9\u7b56\u7565","text":"<p>Slice \u662f\u57fa\u4e8e\u5e95\u5c42\u6570\u7ec4\u7684\u4e00\u79cd\u52a8\u6001\u6570\u7ec4\uff0c\u76f8\u5bf9\u4e8e\u957f\u5ea6\u56fa\u5b9a\u7684\u6570\u7ec4\uff0cSlice \u66f4\u7075\u6d3b\uff0c\u4e14\u4f53\u73b0\u5728\uff1a\u5f53\u5e95\u5c42\u6570\u7ec4\u5bb9\u91cf\u4e0d\u8db3\u65f6\uff0cSlice \u4f1a\u81ea\u52a8\u6269\u5bb9\u3002\u65e2\u7136\u4f1a\u81ea\u52a8\u6269\u5bb9\uff0c\u90a3\u4e48\u5c31\u4e00\u5b9a\u6709\u6269\u5bb9\u7b56\u7565\u3002</p> <p>Note</p> <p>\u6269\u5bb9\u5173\u6ce8\u70b9\uff1a\u5bb9\u91cf</p> <p>\u6269\u5bb9\u65f6\u673a\uff1a<code>len(s) == cap(s)</code></p> <p>\u6269\u5bb9\u89e6\u53d1\u573a\u666f\uff1a<code>len(s) == cap(s)</code> \u65f6\u7ee7\u7eed\u4f7f\u7528 <code>append()</code> \u8ffd\u52a0\u5143\u7d20</p> <p>\u6269\u5bb9\u7b56\u7565\uff1a</p> <ul> <li> <p>\u6269\u5bb9\u540e\u80fd\u5bb9\u7eb3\u8981\u8ffd\u52a0\u7684\u5143\u7d20\uff1a</p> <ul> <li><code>if oldCap &lt;  1024 { newCap = oldCap * 2}</code></li> <li><code>if oldCap &gt;= 1024 { newCap = oldCap * 1.25}</code></li> </ul> </li> <li> <p>\u6269\u5bb9\u540e\u4e0d\u80fd\u5bb9\u7eb3\u8981\u8ffd\u52a0\u7684\u5143\u7d20\uff1a</p> <ul> <li>newCap = \u9884\u4f30\u7684\u5bb9\u91cf</li> </ul> </li> </ul>"},{"location":"Go/nil/Golang-nil-2-slice/#_2","title":"\u590d\u5236\u95ee\u9898","text":"<p>\u5728\u590d\u5236 Slice \u65f6\uff0c\u5982\u679c\u4ec5\u4ec5\u4f7f\u7528\u7b49\u4e8e\u53f7 <code>s1 = s2</code>\uff0c\u8fd9\u6837\u53ea\u662f\u62f7\u8d1d\u4e86\u4e00\u4e2a\u5730\u5740\u3002</p> <p>\u8981\u5b9e\u73b0\u5b8c\u5168\u7684\u590d\u5236\uff0c\u9700\u8981\u4f7f\u7528 golang \u63d0\u4f9b\u7684 <code>copy()</code> \u51fd\u6570\u3002</p> <p></p> <p>\u4f7f\u7528 <code>copy()</code> \u62f7\u8d1d\u65f6\uff0c\u4f1a\u5c06\u6e90\u5207\u7247\u7684\u5143\u7d20\u9010\u4e2a\u62f7\u8d1d\u5230\u76ee\u7684\u5207\u7247\u6307\u5411\u7684\u6570\u7ec4\u4e2d\uff0c\u62f7\u8d1d\u7684\u6570\u91cf\u53d6\u4e24\u4e2a\u5207\u7247\u957f\u5ea6\u7684\u6700\u5c0f\u503c\u3002</p> <p>\u4f8b\u5982\u4e0a\u56fe\u4e2d\uff0cs1 \u957f\u5ea6\u4e3a 8\uff0cs2 \u957f\u5ea6\u4e3a 5\uff0c\u5219\u5171\u62f7\u8d1d 5 \u4e2a\u5143\u7d20\uff0c\u5373 <code>copy()</code> \u4e0d\u4f1a\u53d1\u751f\u6269\u5bb9\u3002</p> <p>Warn</p> <p>\u6ce8\u610f\uff0c<code>copy()</code> \u662f\u8986\u76d6\u884c\u4e3a\u3002\u539f\u6709\u6570\u636e\u5c06\u4f1a\u88ab\u8986\u76d6\u3002</p>"},{"location":"Go/nil/Golang-nil-2-slice/#_3","title":"\u6bd4\u8f83\u95ee\u9898","text":"<p>\u5728 Slice \u7684\u6bd4\u8f83\u4e2d\uff0c\u56e0\u4e3a Slice \u4e0d\u662f <code>\u53ef\u6bd4\u8f83\u7c7b\u578b</code>\uff0c\u76f4\u63a5\u7528\u6052\u7b49\u53f7 <code>==</code> \u6bd4\u8f83\u662f\u65e0\u6cd5\u901a\u8fc7\u7f16\u8bd1\u7684\uff0c\u5982\u679c\u53d6\u5730\u5740\u6bd4\u8f83\u4e5f\u662f\u884c\u4e0d\u901a\u7684\uff0c\u56e0\u4e3a Slice \u662f\u7ed3\u6784\u4f53\uff0c\u53d6\u5730\u5740\u6bd4\u8f83\u7684\u662f\u4e24\u4e2a\u7ed3\u6784\u4f53\uff0c\u81ea\u7136\u662f false\u3002</p> <pre><code>s1 := []int{1, 2, 3, 4, 5}\ns2 := s1\n\ns1 == s2     // \u65e0\u6cd5\u901a\u8fc7\u7f16\u8bd1\n&amp;s1 == &amp;s2    // false\n</code></pre> <p>\u6240\u4ee5\uff0cSlice \u6bd4\u8f83\u80af\u5b9a\u4e0d\u662f\u90a3\u4e48\u80a4\u6d45\u7684\u3002</p> <p>Slice \u7684\u6bd4\u8f83\u5728\u7f51\u4e0a\u76db\u4f20\u7684\u6709\u4e24\u79cd\uff1a<code>\u4f7f\u7528 reflect.DeepEqual()</code> \u548c <code>\u624b\u5199\u6bd4\u8f83\u51fd\u6570</code>\u3002</p> <p>\u56e0\u4e3a <code>reflect.DeepEqual()</code> \u6548\u7387\u8f83\u4f4e\uff0c\u6240\u4ee5\u624d\u6709\u624b\u5199\u6bd4\u8f83\u51fd\u6570\u3002\u4e0b\u9762\u7b80\u5355\u5c55\u793a\u4e0b <code>DeepEqual()</code>\uff0c\u7136\u540e\u8bb2\u89e3\u624b\u5199\u6bd4\u8f83\u51fd\u6570\u3002</p>"},{"location":"Go/nil/Golang-nil-2-slice/#reflectdeepequal","title":"reflect.DeepEqual()","text":"<pre><code>func compare(a, b []rune) bool {\n    return reflect.DeepEqual(a, b)\n}\n</code></pre>"},{"location":"Go/nil/Golang-nil-2-slice/#_4","title":"\u624b\u5199\u6bd4\u8f83\u51fd\u6570","text":"<p>\u5176\u5b9e\u6bd4\u8f83\u4e24\u4e2a Slice \u7684\u601d\u8def\u4e5f\u7b80\u5355\uff1a</p> <ol> <li>\u5148\u770b\u770b\u957f\u5ea6\u662f\u5426\u76f8\u7b49\uff1b</li> <li>\u518d\u770b\u770b\u662f\u4e0d\u662f \u90fd\u4e3a nil \u6216 \u90fd\u4e0d\u4e3a nil\uff0c\u662f\u5c31 true\uff0c\u5426\u5c31\u4e0b\u4e00\u6b65\uff08\u90fd\u4e3a nil \u4e5f\u662f\u76f8\u7b49\uff09\uff1b</li> <li>\u904d\u5386\u968f\u4fbf\u54ea\u4e00\u4e2a\uff0c\u5728\u904d\u5386\u4e2d\u4e24\u4e24\u6bd4\u8f83\uff0c\u4e00\u65e6\u4e0d\u7b49\u5c31\u8fd4\u56de false\uff08\u5982\u679c\u662f\u7528\u5728\u5b89\u5168\u65b9\u9762\u8981\u9884\u9632\u8ba1\u65f6\u653b\u51fb\uff09</li> </ol> <pre><code>func compare(a, b []rune) bool {\n    if len(a) != len(b) {    // \u6bd4\u8f83\u957f\u5ea6\uff0c\u957f\u5ea6\u90fd\u4e0d\u540c\u80af\u5b9a\u4e0d\u76f8\u7b49\n        return false\n    }\n\n    if (a==nil) != (b==nil) {    // \u770b\u770b\u662f\u5426\u90fd\u4e3a nil \u6216 \u90fd\u4e0d\u4e3a nil\n        return false\n    }\n\n    flag := true    // \u4f7f\u7528 flag\uff0c\u9884\u9632\u8ba1\u65f6\u653b\u51fb\n    for i := range a {            // \u904d\u5386\uff0c\u9010\u4e2a\u6bd4\u8f83\n        if a[i] != b[i] {\n            flag = false\n        }\n    }\n    // \u7528\u4e86 flag \u65e0\u8bba\u662f\u5426\u76f8\u7b49\u90fd\u4f1a\u904d\u5386\u6574\u4e2a\u5207\u7247\uff0c\u8fd9\u6837\u53ef\u4ee5\u9884\u9632\u8ba1\u65f6\u653b\u51fb\n    return flag\n}\n</code></pre> <p>\u5728\u904d\u5386\u4e4b\u524d\u8fd8\u53ef\u4ee5\u52a0\u5165 BCE \u4f18\u5316\uff0c\u4e0d\u8fc7\u7b2c\u4e00\u6b65\u6bd4\u8f83\u957f\u5ea6\u65f6\uff0c\u7f16\u8bd1\u5668\u5df2\u7ecf\u83b7\u53d6\u4e86 a \u548c b \u7684\u957f\u5ea6\u4e86\uff0c\u5728\u904d\u5386\u65f6\u5e94\u8be5\u4e0d\u4f1a\u518d\u6b21\u68c0\u67e5\u8fb9\u754c\u4e86\u3002</p>"},{"location":"Go/nil/Golang-nil-2-slice/#_5","title":"\u6027\u80fd\u9677\u9631","text":""},{"location":"Go/nil/Golang-nil-2-slice/#_6","title":"\u95ee\u9898","text":"<p>golang \u5177\u6709\u5783\u573e\u56de\u6536\u529f\u80fd\uff0c\u800c\u4e00\u4e2a\u5207\u7247\u7684\u5e95\u5c42\u6570\u7ec4\uff0c\u6709\u53ef\u80fd\u88ab\u591a\u4e2a\u5207\u7247\u5f15\u7528\uff08\u5373\u6709\u591a\u4e2a Slice \u6307\u5411\u540c\u4e00\u4e2a\u5e95\u5c42\u6570\u7ec4\uff09\uff0c\u4f8b\u5982 <code>[:] re-slice</code> \u5c31\u662f\u5bf9\u5e95\u5c42\u6570\u7ec4\u7684\u518d\u4e00\u6b21\u5f15\u7528\u3002</p> <p>\u8fd9\u6837\u7684\u673a\u5236\u5c31\u6709\u53ef\u80fd\u5e26\u6765\u4e00\u4e2a\u95ee\u9898\uff1a</p> <p>Question</p> <p>\u6709\u4e00\u4e2a\u7ed3\u6784\u4f53\u5207\u7247 a \u6709100 \u4e2a\u5143\u7d20\uff0c\u6bcf\u4e2a\u7ed3\u6784\u4f53\u7684\u5927\u5c0f\u662f 1 MB\uff0c\u4e5f\u5c31\u662f a \u7684\u5927\u5c0f\u662f 100 MB\uff1b</p> <p>\u7136\u540e\u53e6\u4e00\u4e2a\u5207\u7247 b \u5f15\u7528\u4e86 \u5207\u7247 a \u6700\u540e\u4e24\u4e2a\u5143\u7d20\uff0c\u5373 <code>b := a[len(a)-2:]</code>\u3002\u5f53 a \u4f7f\u7528\u5b8c\u540e GC \u662f\u6ca1\u6cd5\u56de\u6536\u8fd9\u4e2a 100 MB \u7684\u5e95\u5c42\u6570\u7ec4\u7684\uff0c\u56e0\u4e3a\u8fd8\u6709 b \u5728\u5f15\u7528\u7740\u3002</p> <p>\u4e8e\u662f\u5c31\u4f1a\u51fa\u73b0\u8fd9\u79cd \u7528\u5230\u53ea\u6709 2 MB\uff0c\u4f46\u5374\u65e0\u6cd5\u56de\u6536\u5269\u4e0b 98 MB \u7684\u7a7a\u95f4\u3002\u8fd9\u5c31\u662f\u6211\u60f3\u8bf4\u7684\u6027\u80fd\u9677\u9631\u3002</p> <pre><code>type BigStruct struct {\n    ...\n}\n\na := []BigStruct { ... 100 \u4e2a}\nb := a[len(a)-2:]\n</code></pre>"},{"location":"Go/nil/Golang-nil-2-slice/#_7","title":"\u89e3\u51b3\u65b9\u6cd5","text":"<p>\u6bd4\u8f83\u63a8\u8350\u7684\u505a\u6cd5\u662f\uff0c\u91c7\u7528 <code>copy()</code> \u7684\u65b9\u6cd5\u66ff\u4ee3 <code>re-slice</code>\uff0c\u56e0\u4e3a <code>copy(b, a)</code> \u540e a \u548c b \u5f15\u7528\u7684\u4e0d\u662f\u540c\u4e00\u4e2a\u5e95\u5c42\u6570\u7ec4\u3002\u8fd9\u6837 a \u4f7f\u7528\u5b8c\u4ee5\u540e\uff0c\u5e95\u5c42\u6570\u7ec4\u90a3 100 MB \u7684\u7a7a\u95f4\u4e5f\u80fd\u88ab GC \u56de\u6536\u3002</p> <pre><code>type BigStruct struct {\n    ...\n}\n\na := []BigStruct { ... 100 \u4e2a}\n\nb := make([]BigStruct, 0, 2)\ncopy(b, a[len(a)-2:])\n</code></pre>"},{"location":"Go/nil/Golang-nil-2-slice/#_8","title":"\u603b\u7ed3","text":"<ol> <li>\u6bcf\u4e2a Slice \u90fd\u6307\u5411\u4e00\u4e2a\u5e95\u5c42\u6570\u7ec4</li> <li>\u6bcf\u4e2a Slice \u90fd\u4fdd\u5b58\u4e86\u5f53\u524d Slice \u7684\u957f\u5ea6\u3001\u5e95\u5c42\u6570\u7ec4\u7684\u53ef\u7528\u5bb9\u91cf</li> <li>\u56e0\u4e3a Slice \u672c\u8eab\u662f\u7ed3\u6784\u4f53\uff0c\u5e26\u6709 <code>len</code> \u548c <code>cap</code> \u5b57\u6bb5\uff0c\u6240\u4ee5\u8ba1\u7b97\u957f\u5ea6\u548c\u5bb9\u91cf\u90fd\u662f <code>O(1)</code></li> <li>\u56e0\u4e3a Slice \u672c\u8eab\u662f\u7ed3\u6784\u4f53\uff0c\u6240\u4ee5\u901a\u8fc7\u51fd\u6570\u4f20\u9012\u65f6\u4e0d\u4f1a\u62f7\u8d1d\u6574\u4e2a\u5207\u7247\uff0c\u5c5e\u4e8e\u5f15\u7528\u4f20\u9012</li> <li>\u56e0\u4e3a Slice \u672c\u8eab\u662f\u7ed3\u6784\u4f53\uff0c\u5176\u4e2d array \u5b57\u6bb5\u4e3a\u6307\u9488\u7c7b\u578b\uff0c\u6240\u4ee5\u5728\u51fd\u6570\u5185\u5bf9 Slice \u7684\u4fee\u6539\u4f1a\u5f71\u54cd\u5230\u5916\u90e8\u3002</li> <li>\u4f7f\u7528 append() \u8ffd\u52a0\u5143\u7d20\u65f6\u6709\u53ef\u80fd\u89e6\u53d1\u6269\u5bb9\uff0c\u6269\u5bb9\u540e\u5c06\u751f\u6210\u65b0\u7684\u5207\u7247</li> <li>\u4f7f\u7528 copy() \u590d\u5236 Slice \u65f6\uff0c\u76ee\u7684 Slice \u539f\u6709\u7684\u5185\u5bb9\u4f1a\u88ab\u8986\u76d6</li> <li>\u521b\u5efa\u5207\u7247\u65f6\u5c3d\u53ef\u80fd\u6839\u636e\u5b9e\u9645\u9700\u8981\u9884\u5206\u914d\u5bb9\u91cf\uff0c\u5c3d\u91cf\u907f\u514d\u8ffd\u52a0\u8fc7\u7a0b\u4e2d\u6269\u5bb9\u64cd\u4f5c\uff0c\u6709\u5229\u4e8e\u63d0\u5347\u6027\u80fd</li> <li>\u62f7\u8d1d\u65f6\u9700\u8981\u5224\u65ad\u5b9e\u9645\u62f7\u8d1d\u7684\u4e2a\u6570</li> <li>\u8c28\u614e\u4f7f\u7528\u591a\u4e2a\u5207\u7247\u64cd\u4f5c\u540c\u4e00\u4e2a\u6570\u7ec4\uff0c\u4ee5\u9632\u8bfb\u5199\u51b2\u7a81</li> </ol>"},{"location":"Go/nil/Golang-nil-3-map/","title":"3-map\u539f\u7406","text":""},{"location":"Go/nil/Golang-nil-3-map/#map","title":"map \u5b9e\u73b0\u539f\u7406","text":"<p>go \u7684 map \u91c7\u7528\u7684\u662f \u62c9\u94fe\u6cd5\uff0c\u8d1f\u8f7d\u56e0\u5b50 6.5</p> <p>\u5355\u4f4d\u662f\u6876 bucket\uff0c\u4e00\u4e2a\u6876\u91cc\u53ef\u4ee5\u653e 8 \u5bf9\u3002\u4e3a\u4e86\u5185\u5b58\u5bf9\u9f50\uff0c8 \u4e2a key \u4f1a\u5b58\u653e\u5728\u4e00\u8d77\uff0c8 \u4e2a value \u5b58\u653e\u5728\u4e00\u8d77\u3002</p> <p>\u5728\u6876\u7684\u9876\u90e8\uff0c\u5b58\u653e\u7740 8 \u4e2a key \u7684\u54c8\u5e0c\u503c\u7684\u9ad8 8 \u4f4d\uff1b\u800c\u6876\u7684\u5e95\u90e8\uff0c\u5b58\u653e\u4e0b\u4e00\u4e2a\u6876\u7684\u5730\u5740\uff08\u56e0\u4e3a\u7528\u7684\u662f\u62c9\u94fe\u6cd5\uff09</p>"},{"location":"Go/nil/Golang-nil-3-map/#_1","title":"\u653e\u5165","text":"<p>\u4e00\u4e2a map \u88ab\u521d\u59cb\u5316\u540e\u4f1a\u7ed9\u5b9a\u4e00\u5b9a\u6570\u91cf\u7684\u6876\uff0c\u4f46\u4e00\u5bf9 kv \u88ab\u52a0\u5165\u5230\u54c8\u5e0c\u8868\u4e2d\u65f6\uff0c\u9700\u8981\u9009\u62e9\u653e\u5728\u54ea\u4e2a\u6876\u91cc\u3002</p> <p>\u5bf9\u4e8e\u6876\u7684\u9009\u62e9\uff0c\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a</p> <ol> <li>\u5c06 key \u8fdb\u884c\u54c8\u5e0c\uff0c\u7136\u540e\u5c06\u54c8\u5e0c\u503c\u4e0e\u6876\u7684\u6570\u91cf m \u53d6\u6a21\uff1a<code>hash(key) % m</code></li> <li>\u5c06 key \u8fdb\u884c\u54c8\u5e0c\uff0c\u7136\u540e\u5c06\u54c8\u5e0c\u503c\u4e0e\u6876\u7684\u6570\u91cf m \u51cf\u4e00\u8fdb\u884c \u4e0e\u8fd0\u7b97\uff1a<code>hash(key) &amp; (m-1)</code></li> </ol> <p>Go \u7684 map \u91c7\u7528\u7684\u5c31\u662f\u4e0e\u8fd0\u7b97\u3002</p> <p>Tip</p> <p>\u8fdb\u884c\u4e0e\u8fd0\u7b97\u7684\u65b9\u5f0f\uff0c\u8981\u6c42\u6876\u7684\u6570\u91cf m \u5fc5\u987b\u662f 2 \u7684\u6574\u6570\u6b21\u5e42\u3002\u4f8b\u5982 2, 4, 8, 16, 32</p> <p>\u56e0\u4e3a 2 \u7684\u6574\u6570\u6b21\u5e42\u90fd\u662f\u53ea\u6709\u6700\u9ad8\u4f4d\u4e00\u4f4d\u4e3a 1\uff0c\u5176\u4f59\u4f4d\u4e3a0\uff0c\u800c\u51cf\u4e00\u7684\u6570\u5b57\u4e00\u5b9a\u662f\u9664\u4e86\u6700\u9ad8\u4f4d\uff0c\u5176\u4f59\u4f4d\u90fd\u4e3a 1\u3002</p> <p>\u4f8b\u5982\uff1a4 \u7684\u4e8c\u8fdb\u5236\u4e3a 100\uff0c\u53ea\u6709\u7b2c3\u4f4d\u4e3a1\uff1b4-1=3 \u7684\u4e8c\u8fdb\u5236\u4e3a 011\uff0c\u9664\u4e86\u7b2c\u4e09\u4f4d\uff0c\u7b2c\u4e8c\u4f4d\u4e2a\u7b2c\u4e00\u4f4d\u90fd\u662f 1\u3002</p> <p>\u8fd9\u6837\u8fdb\u884c\u4e0e\u8fd0\u7b97\u4ee5\u540e\uff0c\u80fd\u786e\u4fdd\u5f97\u51fa\u7684\u6570\u5b57\u4e0d\u4f1a\u843d\u5728\u7f16\u53f7\u4e0d\u5b58\u5728\u7684\u6876\u91cc\u3002</p> <p>\u4f8b\u5982\uff1a\u6876\u7684\u6570\u91cf\u4e3a 8(1000)\uff0c\u51cf1\u4e3a 7(0111)\uff0chash(key) \u7684\u503c\u5047\u8bbe\u4e3a 9(1001)\uff0c\u8ba1\u7b97 9 &amp; 7</p> <p></p><pre><code>1001\n0111\n---------\n0001\n</code></pre> \u53ef\u4ee5\u5f97\u5230\u88ab\u9009\u62e9\u7684\u6876\u7f16\u53f7 1\u3002<p></p>"},{"location":"Go/nil/Golang-nil-3-map/#_2","title":"\u6269\u5bb9","text":"<p>kv \u5bf9\u7684\u6570\u91cf count \u4e0e\u6876\u7684\u6570\u91cf m \u6bd4\u503c\u79f0\u4e3a\u300c\u8d1f\u8f7d\u56e0\u5b50\u300d\uff0cGo \u4e2d\u8bbe\u7f6e\u4e3a 6.5\u3002</p> <p>\u5f53\u8d85\u8fc7\u8d1f\u8f7d\u56e0\u5b50\u7684\u65f6\u5019\uff0c\u4e5f\u5c31\u662f\u6240\u6709\u7684\u6876\u91cc\u5df2\u7ecf\u88c5\u4e86 6\u6210\u534a\u7684 kv \u5bf9\u7684\u65f6\u5019\uff0c\u5c31\u9700\u8981\u8fdb\u884c\u6269\u5bb9\u3002</p> <p>\u5f53\u54c8\u5e0c\u8868\u8981\u5206\u914d\u7684\u6876\u7684\u6570\u76ee\u5927\u4e8e \\(2^4\\)\uff0c\u4e5f\u5c31\u662f <code>hmap.B &gt; 4</code> \u7684\u65f6\u5019\uff0c\u5373\u8ba4\u4e3a\u4f7f\u7528\u6ea2\u51fa\u6876\u7684\u51e0\u7387\u6bd4\u8f83\u5927\uff0c\u6240\u4ee5\u4f1a\u5148\u9884\u5206\u914d \\(2^{B-4}\\) \u4e2a\u6ea2\u51fa\u6876\u5907\u7528\u3002</p> <p>\u6ea2\u51fa\u6876\u4e0e\u5e38\u89c4\u6876\u5728\u5185\u5b58\u4e2d\u662f\u8fde\u7eed\u7684\uff0c\u9884\u5206\u914d\u540e\u4e00\u5171\u4f1a\u6709 \\(2^B + 2^{B-4}\\) \u4e2a\u6876\uff0c\u524d \\(2^B\\) \u4e2a\u7528\u4f5c\u5e38\u89c4\u6876\uff0c\u540e\u9762 \\(2^{B-4}\\) \u4e2a\u7528\u4f5c\u6ea2\u51fa\u6876\u3002</p>"},{"location":"Go/nil/Golang-nil-3-map/#_3","title":"\u6269\u5bb9\u89c4\u5219","text":"<ol> <li>\\(\\frac {count} {2^B} \\gt 6.5\\) ==&gt; \u7ffb\u500d\u6269\u5bb9\uff08<code>hmap/B++</code>\uff09</li> <li>\u8d1f\u8f7d\u56e0\u5b50\u6ca1\u8d85\u8fc7 6.5\uff0c\u4f46\u5df2\u4f7f\u7528\u7684\u6ea2\u51fa\u6876 noverflow \u8f83\u591a\uff0c\u5219\u662f\u592a\u8fc7\u7a00\u758f\u4e86\uff0c\u6b64\u65f6\u6269\u5bb9\u89c4\u5219\u4e3a\uff1a<ul> <li>\\(B \\le 15\\)\uff0c \\(noverflow \\ge 2^B\\)\uff0c\u8fdb\u884c\u7b49\u91cf\u6269\u5bb9</li> <li>\\(B \\gt 15\\)\uff0c \\(noverflow \\ge 2^{15}\\)\uff0c\u8fdb\u884c\u7b49\u91cf\u6269\u5bb9</li> </ul> </li> </ol> <p>\u7ffb\u500d\u6269\u5bb9\uff0c\u5c31\u662f\u521b\u5efa\u6bd4\u73b0\u6709\u5e38\u89c4\u6876\u66f4\u591a\u7684\u6876</p> <p>\u7b49\u91cf\u6269\u5bb9\uff0c\u5c31\u662f\u521b\u5efa\u548c\u73b0\u6709\u5e38\u89c4\u6876\u6570\u91cf\u4e00\u6837\u7684\u6876\u3002</p> <p>\u901a\u5e38\u5728\u5220\u9664\u4e86\u8f83\u591a\u7684 kv \u5bf9\u4ee5\u540e\u4f1a\u5bfc\u81f4\u54c8\u5e0c\u6807\u8fc7\u4e8e\u7a00\u758f\uff0c\u6b64\u65f6\u4f1a\u8fdb\u884c\u7b49\u91cf\u6269\u5bb9\uff0c\u5bf9\u73b0\u6709\u7684 kv \u5bf9\u91cd\u6392\uff0c\u6574\u7406\u78c1\u76d8\u788e\u7247\u3002</p>"},{"location":"Go/nil/Golang-nil-3-map/#_4","title":"\u6269\u5bb9\u6b65\u9aa4(\u6e10\u8fdb\u5f0f\u6269\u5bb9)","text":"<p>\u5728\u6269\u5bb9\u7684\u65f6\u5019\uff0c\u4e0d\u4f1a\u4e00\u6b21\u6027\u628a\u65e7\u6876\u4e2d\u7684 kv \u5bf9\u642c\u8fd0\u5230\u65b0\u6876\u4e2d\uff0c\u800c\u662f\uff1a</p> <ul> <li>\u65e7\u6876\u5b57\u6bb5 oldbuckets = buckets</li> <li>\u5728\u6269\u5bb9\u65f6\uff0c\u5148\u5206\u914d\u8db3\u591f\u591a\u7684\u65b0\u6876 buckets = newBucketAddr</li> <li>\u5728\u54c8\u5e0c\u8868\u8bfb\u5199\u65f6\uff0c\u68c0\u6d4b\u5230\u5f53\u524d\u4e3a\u6269\u5bb9\u9636\u6bb5\uff0c\u5c31\u5c06\u8981\u8bfb\u5199\u7684 kv \u5bf9\u8fc1\u79fb\u5230\u65b0\u6876</li> <li>\u7136\u540e\u5728\u8fdb\u5ea6\u5b57\u6bb5 nevacuate \u8bb0\u5f55\u4e0b\u4e00\u4e2a\u8981\u8fc1\u79fb\u7684\u6876\u7f16\u53f7</li> <li>\u76f4\u5230\u6240\u6709\u7684\u6876\u90fd\u8fc1\u79fb\u5b8c\u6210\uff0c\u6269\u5bb9\u9636\u6bb5\u624d\u7b97\u7ed3\u675f\u3002</li> </ul> <p>\u8fd9\u79cd\u5c06 kv \u5bf9\u7684\u8fc1\u79fb\u65f6\u95f4\u5206\u644a\u5230\u591a\u6b21\u54c8\u5e0c\u6807\u64cd\u4f5c\u7684\u65b9\u5f0f\uff0c\u5c31\u53eb\u6e10\u8fdb\u5f0f\u6269\u5bb9\uff0c\u53ef\u4ee5\u907f\u514d\u4e00\u6b21\u6027\u6269\u5bb9\u5e26\u6765\u7684\u77ac\u65f6\u6027\u80fd\u6296\u52a8\u3002</p> <p>hmap </p><pre><code>type hmap struct {\n    count      int              // kv \u5bf9\u6570\u91cf \n    flags      uint8            // \u662f\u5426\u5904\u4e8e\u6269\u5bb9\u9636\u6bb5\n    B          uint8            // 2\u7684\u6b21\u5e42\uff0c2^B\uff0c\u8fd9\u91cc\u8bb0\u5f55\u7684\u662f\u6b21\u5e42\uff0c\u4e0d\u662f m\n    buckets    unsafe.Pointer   // \u6876\u7684\u4f4d\u7f6e\n    oldbuckets unsafe.Pointer   // \u65e7\u6876\u7684\u4f4d\u7f6e\n    nevacuate  uintptr          // \u5373\u5c06\u8fc1\u79fb\u7684\u65e7\u6876\u7684\u7f16\u53f7\n    noverflow  uint16           // \u6ea2\u51fa\u6876\u7684\u6570\u91cf\n    hash0      uint32\n    extra      *mapextra\n}\n</code></pre><p></p>"},{"location":"Go/nil/Golang-nil-4-string/","title":"4-string\u539f\u7406","text":""},{"location":"Go/nil/Golang-nil-4-string/#string","title":"string \u5b9e\u73b0\u539f\u7406","text":""},{"location":"Go/nil/Golang-nil-4-string/#utf-8","title":"UTF-8","text":"<p>\u5728\u8ba1\u7b97\u673a\u4e2d\uff0c\u4e00\u5207\u90fd\u662f\u6570\u5b57\u300c0\u300d\u548c\u300c1\u300d\uff0c\u786e\u5207\u70b9\u8bf4\u5e94\u8be5\u662f\u300c\u4f4e\u7535\u5e73\u300d\u548c\u300c\u9ad8\u7535\u5e73\u300d\u3002</p> <p>\u4ece\u7406\u8bba\u89d2\u5ea6\u6765\u8bf4\uff0c\u300c\u6570\u300d\u662f\u5ba2\u89c2\u5b58\u5728\u7684\uff0c\u662f\u771f\u7406\u822c\u7684\u5b58\u5728\uff0c\u800c\u300c\u8fdb\u5236\u300d\u662f\u4e3b\u89c2\u5b58\u5728\u7684\uff0c\u662f\u4eba\u7c7b\u638c\u63e1\u300c\u6570\u300d\u7684\u4e00\u79cd\u5de5\u5177\u3002</p> <p>\u4e00\u4e2a\u6570\uff0c\u53ef\u4ee5\u7528\u4e8c\u8fdb\u5236\u3001\u516b\u8fdb\u5236\u3001\u5341\u8fdb\u5236\u3001\u5341\u516d\u8fdb\u5236\u3001\u4e8c\u5341\u516d\u8fdb\u5236\u3001\u4e09\u5341\u516b\u8fdb\u5236\u7b49\u5404\u79cd\u8fdb\u5236\u6765\u8868\u793a\u3002\u4e0d\u540c\u8fdb\u5236\u4e4b\u95f4\u53ef\u4ee5\u6309\u7167\u4e00\u5b9a\u89c4\u5219\u8fdb\u884c\u8f6c\u6362\uff0c0 \u548c 1 \u4e24\u4e2a\u6570\u5b57\uff0c\u53ef\u4ee5\u7ec4\u6210\u4e8c\u8fdb\u5236\u7684\u6700\u57fa\u672c\u5355\u4f4d\uff0c\u6240\u4ee5\u53ef\u4ee5\u901a\u8fc7 101 \u8868\u793a\u5341\u8fdb\u5236 5\uff0c110 \u8868\u793a\u5341\u8fdb\u5236 6\u3002</p> <p>\u4e8e\u662f\uff0c\u5728\u8ba1\u7b97\u673a\u4e2d\uff0c\u4e0d\u7ba1\u6211\u4eec\u8981\u8868\u793a\u4efb\u4f55\u6570\uff0c\u53ea\u8981\u8f6c\u6362\u6210\u4e8c\u8fdb\u5236\uff0c\u5e76\u66ff\u6362\u6210\u8ba1\u7b97\u673a\u4e2d\u7684\u9ad8\u4f4e\u7535\u5e73\uff0c\u65e2\u53ef\u4ee5\u5728\u8ba1\u7b97\u673a\u4e2d\u786e\u5207\u7684\u8868\u793a\u4e00\u4e2a\u6570\u3002</p> <p>\u4f46\u662f\u4eba\u7c7b\u4e16\u754c\u4e0d\u4ec5\u6709\u6570\uff0c\u8fd8\u6709\u6587\u5b57\u3002\u6587\u5b57\u7531\u4e00\u4e2a\u4e00\u4e2a\u5b57\u7b26\u7ec4\u6210\uff0c\u6b63\u5982\u82f1\u6587\u7531\u5b57\u6bcd\u7ec4\u6210\uff0c\u6c49\u5b57\u7531\u7b14\u753b\u7ec4\u6210\u3002\u5728\u8ba1\u7b97\u673a\u4e2d\u65e0\u6cd5\u76f4\u63a5\u8868\u793a\u6587\u5b57\uff0c\u4e8e\u662f\u8ba1\u7b97\u673a\u5148\u9a71\u4eec\u60f3\u51fa\u4e86\u4f7f\u7528\u201c\u7f16\u53f7\u7ea6\u5b9a\u201d\u7684\u529e\u6cd5\uff0c\u4e3a\u6bcf\u4e00\u4e2a\u5b57\u7b26\u7f16\u4e00\u4e2a\u6570\u5b57\u7f16\u53f7\uff0c\u8fd9\u6837\u5c31\u4f7f\u5f97\u6587\u5b57\u548c\u6570\u5b57\u4e4b\u95f4\u6709\u4e86\u6620\u5c04\u5173\u7cfb\uff0c\u8fdb\u800c\u53ef\u4ee5\u5728\u8ba1\u7b97\u673a\u4e2d\u8868\u793a\u6587\u5b57\u3002</p> <p>\u6700\u521d\u7684\u201c\u7f16\u53f7\u7ea6\u5b9a\u201d\u662f ASCII \u7801\u8868\uff0c\u7531\u4e8e\u8ba1\u7b97\u673a\u53d1\u5c55\u4e8e\u897f\u65b9\uff0c\u897f\u6587\u7684\u57fa\u672c\u5355\u4f4d 26 \u4e2a\u5b57\u6bcd\uff0c\u5927\u5c0f\u5199\u4e00\u5171 52 \u4e2a\uff0c\u52a0\u4e0a\u4e00\u4e9b\u7b26\u53f7\u3001\u63a7\u5236\u5b57\u7b26\uff0c\u7ec4\u6210\u4e86 ASCII \u7801\u8868\u3002</p> <p></p> <p>\u57fa\u7840 ASCII \u7801\u8868\u53ea\u6709 127 \u4e2a\u5b57\u7b26\uff0c\u4f7f\u7528 7 \u4e2a\u6bd4\u7279\uff087 \u4f4d\u4e8c\u8fdb\u5236\u6570\uff09\u5373\u53ef\u8868\u793a\uff0c\u800c\u5728\u8ba1\u7b97\u673a\u4e2d 8 \u4e2a\u6bd4\u7279\u7ec4\u6210 1 \u4e2a\u5b57\u8282\uff0c\u6240\u4ee5\u57fa\u7840 ASCII \u7801\u8868\u4e5f\u597d\uff0c\u6269\u5c55 ASCII \u7801\u8868\u4e5f\u597d\uff0c\u7528 1 \u4e2a\u5b57\u8282\u8db3\u77e3\u3002</p> <p>\u4f46\u662f\u4eba\u7c7b\u8bed\u8a00\u4e0d\u6b62\u82f1\u6587\u4e00\u79cd\uff0c\u8fd8\u6709\u4e2d\u6587\u3001\u4fc4\u6587\u3001\u65e5\u6587\u7b49\u7b49\uff0c\u6bcf\u79cd\u8bed\u8a00\u4e00\u4e2a\u7f16\u7801\u8868\u53c8\u4f7f\u5f97\u76f8\u4e92\u4e4b\u95f4\u4f1a\u5bfc\u81f4\u7801\u503c\u51b2\u7a81\uff0c\u6df7\u4e71\u4e0d\u582a\u3002\u6240\u4ee5 Unicode \u901a\u7528\u5b66\u672f\u5b66\u4f1a\u4fbf\u5236\u5b9a\u4e86\u4e00\u4e2a\u901a\u7528\u5b57\u7b26\u96c6 UTF\uff0c\u56fd\u5185\u4e5f\u79f0\u4f5c\u201c\u4e07\u56fd\u7801\u201d\uff0c\u7531\u6b64\u4fc3\u8fdb\u4e86\u6587\u5b57\u5728\u6bcf\u4e00\u53f0\u8ba1\u7b97\u673a\u4e0a\u7684\u517c\u5bb9\u6027\uff0c\u9632\u6b62\u4e24\u53f0\u8ba1\u7b97\u673a\u91c7\u7528\u4e0d\u540c\u7684\u7f16\u7801\u65b9\u5f0f\u5bfc\u81f4 A \u8ba1\u7b97\u673a\u7684\u6587\u5b57\u5230 B \u8ba1\u7b97\u673a\u4e0a\u53d8\u6210\u4e71\u7801\u3002</p> <p>UTF \u91c7\u7528\u7684\u662f\u53d8\u957f\u7f16\u7801\uff08\u6709\u5174\u8da3\u7684\u540c\u5b66\u81ea\u884c\u4e86\u89e3\u4e3a\u4ec0\u4e48\u4e0d\u662f\u5b9a\u957f\u7f16\u7801 Golang string \uff09\uff0c\u5c0f\u7f16\u53f7\u7684\u5b57\u7b26\u5360\u5c11\u5b57\u8282\uff0c\u5927\u7f16\u53f7\u5360\u591a\u5b57\u8282\u3002\u6bcf\u4e00\u4e2a\u5b57\u7b26\u7684\u7f16\u7801\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5b57\u8282\u90fd\u6709\u51e0\u4e2a\u4f4d\u6765\u7528\u4f5c\u201c\u524d\u7f00\u201d\uff0c\u901a\u8fc7\u524d\u7f00\u8bc6\u522b\u51fa\u8be5\u5b57\u8282\u5c5e\u4e8e\u54ea\u4e00\u4e2a\u533a\u95f4\u3002\u5177\u4f53\u5982\u4e0b\uff1a</p> \u7f16\u53f7 \u7f16\u7801\u6a21\u7248 0~127 0xxx xxxx 128~2047 110x xxxx 10xx xxxx 2048~65535 1110 xxxx 10xx xxxx 10xx xxxx <p>\u4f8b\u5982\uff0c\u82f1\u6587\u5b57\u7b26 <code>c</code> \u7684\u7f16\u53f7\u4e3a 99\uff0c\u5728 0 \u5230 127 \u7684\u533a\u95f4\uff0c\u4e8e\u662f\u91c7\u7528 <code>0xxx xxxx</code> \u7684\u6a21\u677f\uff0c\u5341\u8fdb\u5236 99 \u8f6c\u4e3a\u4e8c\u8fdb\u5236\u4e3a <code>1100011</code>\uff0c\u66ff\u6362\u5230 <code>xxx xxxx</code>\uff0c\u6700\u7ec8\u7f16\u7801\u7ed3\u679c\u4e3a <code>0110 0011</code>\u3002</p> <p>\u518d\u6bd4\u5982\uff0c\u4e2d\u6587\u5b57\u7b26 <code>\u4e16</code> \u7684\u7f16\u53f7\u4e3a 19990\uff0c\u5728 2048 \u5230 65535 \u7684\u533a\u95f4\uff0c\u4e8e\u662f\u91c7\u7528 <code>1110 xxxx 10xx xxxx 10xx xxxx</code> \u7684\u6a21\u677f\uff0c\u5341\u8fdb\u5236\u7684 19990 \u8f6c\u4e3a\u4e8c\u8fdb\u5236\u4e3a <code>0100 1110 0001 0110</code> \uff0c\u66ff\u6362\u5230\u6a21\u677f\u4e2d\uff0c\u6700\u7ec8\u7f16\u7801\u7ed3\u679c\u4e3a <code>1110 0100 1011 1000 1001 0110</code>\u3002</p> <pre><code>format:  1110 xxxx 10xx xxxx 10xx xxxx\n19990 -&gt;      0100   11 1000   01 0110\nresult:  1110 0100 1011 1000 1001 0110\n</code></pre> <p>\u518d\u6bd4\u5982\uff0c\u5f53\u8ba1\u7b97\u673a\u770b\u5230 <code>1110 0111 10 010101 10 001100</code> \u65f6\uff0c\u7b2c\u4e00\u4e2a\u5b57\u8282\u7684\u524d\u7f00 <code>1110</code> \u4f7f\u5f97\u8ba1\u7b97\u673a\u660e\u767d\uff0c\u8fd9\u4e2a\u5b57\u7b26\u4e00\u5171\u5360\u7528 3 \u4e2a\u5b57\u8282\uff0c\u9664\u4e86\u8bfb\u53d6\u5b8c\u5f53\u524d\u8fd9\u4e2a\u5b57\u8282\uff0c\u8fd8\u8981\u5f80\u540e\u8bfb\u53d6 2 \u4e2a\u5b57\u8282\u3002\u4e8e\u662f\u4ece\u7b2c\u4e00\u4e2a\u5b57\u8282\u4e2d\u62bd\u53d6 <code>0111</code>\uff0c\u7b2c\u4e8c\u548c\u7b2c\u4e09\u4e2a\u5b57\u8282\u5265\u79bb\u524d\u7f00 <code>10</code> \u540e\u5f97\u5230 <code>010101</code> \u548c <code>001100</code>\uff0c\u5c06\u8fd9\u4e09\u90e8\u5206\u62fc\u63a5\u5f97\u5230 <code>0111 010101 001100</code>\uff0c\u5341\u8fdb\u5236\u4e3a 30028\uff0c\u5bf9\u5e94\u4e2d\u6587\u5b57\u7b26 <code>\u754c</code> \u5b57\u3002</p>"},{"location":"Go/nil/Golang-nil-4-string/#string_1","title":"string \u7ed3\u6784","text":"<p>\u8bf4\u56de string \u7ed3\u6784\u3002\u5728 C \u8bed\u8a00\u4e2d\uff0c\u5b57\u7b26\u4e32\u662f\u4e00\u4e2a\u5b57\u7b26\u6570\u7ec4\u6307\u9488\uff0c\u6307\u5411\u4e00\u4e2a\u5b57\u7b26\u6570\u7ec4\uff0c\u8fd9\u6837\u4fbf\u77e5\u9053\u4e86\u5b57\u7b26\u4e32\u7684\u5f00\u59cb\uff0c\u4f7f\u7528 <code>\\0</code> \u8868\u793a\u5b57\u7b26\u4e32\u7ed3\u675f\u3002\u8fd9\u6837\u7684\u8bbe\u8ba1\u5b58\u5728\u7684\u95ee\u9898\u662f\uff0c\u5b57\u7b26\u4e32\u4e2d\u65e0\u6cd5\u8868\u793a <code>\\0</code> \u672c\u8eab\u3002</p> <p>golang \u5728\u8fd9\u4e2a\u57fa\u7840\u4e0a\u8fdb\u884c\u4e86\u6539\u8fdb\uff0c\u6ca1\u6709\u91c7\u7528 <code>\\0</code> \u8868\u793a\uff0c\u800c\u662f\u589e\u52a0\u4e86\u4e00\u4e2a <code>len</code> \u5b57\u6bb5\u7528\u4e8e\u8bb0\u5f55\u5b57\u8282\u6570\u7ec4 <code>str</code> \u7684\u957f\u5ea6\uff0c\u8fd9\u6837\u5373\u53ef\u4ee5\u5728\u5b57\u7b26\u4e32\u4e2d\u4f7f\u7528 <code>\\0</code>\uff0c\u800c\u4e14\u6c42\u5b57\u7b26\u4e32\u957f\u5ea6\u65f6\u76f4\u63a5\u8fd4\u56de <code>len</code> \u7684\u503c\u5373\u53ef\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4ec5\u4e3a <code>O(1)</code>\u3002</p> <p>\u5728\u6e90\u7801\u5305\u4e2d <code>src/runtime/stirng.go:stringStruct</code> \u5bf9 \u5b57\u7b26\u4e32 \u5b9a\u4e49\u5982\u4e0b\uff1a</p> <pre><code> type stringStruct struct {\n    str unsafe.Pointer     // \u6307\u5411\u5b57\u8282\u6570\u7ec4\u7684\u6307\u9488\n    len int                // \u5b57\u8282\u6570\u7ec4\u7684\u957f\u5ea6\uff0c\u5373\u5b57\u8282\u4e2a\u6570\n}\n</code></pre> <p>\u8981\u6ce8\u610f\u7684\u662f\uff0c<code>len</code> \u8868\u793a\u7684\u662f <code>str</code> \u8fd9\u4e2a \u5b57\u8282\u6570\u7ec4\u7684\u957f\u5ea6\uff0c\u4e0d\u662f\u5b57\u7b26\u7684\u957f\u5ea6\u3002\u56e0\u4e3a\u6709\u7684\u5b57\u7b26\u7684\u957f\u5ea6\u4e3a 2\uff0c\u6709\u7684\u4e3a 3\uff0c\u6709\u7684\u4e3a 1\u3002</p> <p>\u4f8b\u5982\u4e00\u4e2a\u4e2d\u82f1\u6df7\u5408\u7684\u5b57\u7b26\u4e32 <code>\"abc\u4e16\u754c\"</code>\uff0c\u5b83\u7684 len \u4e3a 9\uff0c<code>abc</code> \u5360\u7528 3 \u5b57\u8282\uff0c<code>\u4e16</code> \u5360\u7528 3 \u5b57\u8282\uff0c<code>\u754c</code> \u5360\u7528 3 \u5b57\u8282\u3002</p>"},{"location":"Go/nil/Golang-nil-4-string/#_1","title":"\u590d\u5236\u95ee\u9898","text":"<p>\u5b57\u7b26\u4e32\u7684\u590d\u5236\u6709 2 \u79cd\u65b9\u6cd5\uff1a</p> <ul> <li>\u76f4\u63a5\u8d4b\u503c <code>=</code></li> <li><code>re-slice</code> \u8bed\u6cd5</li> </ul> <pre><code>hello1 := \"hello\"\n\nhello2 := hello1        // hello\nhello3 := hello1[1:4]    // ell\n</code></pre> <p>\u91c7\u7528\u8fd9\u4e24\u79cd\u65b9\u6cd5\u65f6\uff0c\u4e24\u4e2a\u5b57\u7b26\u4e32\u5171\u4eab\u540c\u4e00\u4e2a\u5e95\u5c42\u5b57\u8282\u6570\u7ec4\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u662f\u4e00\u79cd\u6d45\u590d\u5236\u3002</p> <p>\u56e0\u4e3a Golang \u4e2d\u5b57\u7b26\u4e32\u4e00\u65e6\u5b9a\u4e49\u5c31\u4e0d\u53ef\u66f4\u6539\uff0c\u5bf9\u5b57\u7b26\u4e32\u4e2d\u5b57\u7b26\u7684\u4fee\u6539\u8f83\u4e3a\u9ebb\u70e6\uff0c\u4e14\u4fee\u6539\u5b8c\u540e\u4f1a\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u4fee\u6539\u597d\u7684\u5b57\u8282\u6570\u7ec4\uff0c\u5df2\u7ecf\u4e0d\u662f\u4e00\u5f00\u59cb\u90a3\u4e2a\u5b57\u8282\u6570\u7ec4\u4e86\uff0c\u6240\u4ee5\u53ef\u4ee5\u653e\u5fc3\u7684\u4f7f\u7528\u6d45\u590d\u5236\u3002</p>"},{"location":"Go/nil/Golang-nil-4-string/#_2","title":"\u7c7b\u578b\u8f6c\u6362\u95ee\u9898","text":"<ul> <li> <p>\u4e00\u4e2a\u5b57\u7b26\u4e32\u7684\u503c\u53ef\u4ee5\u663e\u5f0f\u5730\u8f6c\u6362\u6210\u4e00\u4e2a\u5b57\u8282\u5207\u7247 <code>[]byte</code>\uff0c\u53cd\u8fc7\u6765\u4e5f\u53ef\u4ee5\u3002\u5b57\u8282 <code>byte</code> \u662f <code>uint8</code> \u7684\u522b\u540d\uff0c\u6240\u4ee5 <code>[]byte</code> \u7b49\u4e8e <code>[]uint8</code>\u3002</p> </li> <li> <p>\u4e00\u4e2a\u5b57\u7b26\u4e32\u7684\u503c\u53ef\u4ee5\u663e\u5f0f\u5730\u8f6c\u6362\u6210\u4e00\u4e2a\u7801\u70b9\u5207\u7247 <code>[]rune</code>\uff0c\u53cd\u8fc7\u6765\u4e5f\u53ef\u4ee5\u3002\u7801\u70b9 <code>rune</code> \u662f <code>uint32</code> \u7684\u522b\u540d\uff0c\u6240\u4ee5 <code>[]rune</code> \u7b49\u4e8e <code>[]uint32</code>\u3002</p> </li> <li> <p>\u6240\u4ee5\u8f6c\u6362\u95ee\u9898\u7684\u4e3b\u89d2\u5c31\u662f <code>string</code>\u3001<code>[]byte</code>\u3001<code>[]rune</code> \u4e09\u8005\u3002</p> </li> </ul>"},{"location":"Go/nil/Golang-nil-4-string/#rune-string","title":"<code>[]rune -&gt; string</code>","text":"<p>\u5728\u4e00\u4e2a\u4ece\u7801\u70b9\u5207\u7247 <code>[]rune</code> \u5230\u5b57\u7b26\u4e32 <code>string</code> \u7684\u8f6c\u6362\u4e2d\uff0c\u7801\u70b9\u5207\u7247\u4e2d\u7684\u6bcf\u4e2a\u7801\u70b9\u503c <code>rune</code> \u5c06\u88ab UTF-8 \u7f16\u7801\u4e3a\u4e00\u5230\u56db\u4e2a\u5b57\u8282\u81f3\u7ed3\u679c\u5b57\u7b26\u4e32\u4e2d\u3002 </p> <p>\u5982\u679c\u4e00\u4e2a\u7801\u70b9\u503c\u662f\u4e00\u4e2a\u4e0d\u5408\u6cd5\u7684Unicode\u7801\u70b9\u503c\uff0c\u5219\u5b83\u5c06\u88ab\u89c6\u4e3a\u300cUnicode\u66ff\u6362\u5b57\u7b26\u503c\uff08Unicode replacement character\uff09<code>0xFFFD</code>\u300d\u3002</p> <p>\u66ff\u6362\u5b57\u7b26\u503c<code>0xFFFD</code>\u5c06\u88ab UTF-8 \u7f16\u7801\u4e3a\u4e09\u4e2a\u5b57\u8282<code>0xef 0xbf 0xbd</code>\u3002</p>"},{"location":"Go/nil/Golang-nil-4-string/#string-rune","title":"<code>string -&gt; []rune</code>","text":"<p>\u5f53\u4e00\u4e2a\u5b57\u7b26\u4e32 <code>string</code> \u88ab\u8f6c\u6362\u4e3a\u4e00\u4e2a\u7801\u70b9\u5207\u7247 <code>[]rune</code> \u65f6\uff0c\u6b64\u5b57\u7b26\u4e32\u4e2d\u5b58\u50a8\u7684\u5b57\u8282\u5e8f\u5217\u5c06\u88ab\u89e3\u8bfb\u4e3a\u4e00\u4e2a\u4e00\u4e2a\u7801\u70b9\u7684 UTF-8 \u7f16\u7801\u5e8f\u5217\u3002</p> <p>\u975e\u6cd5\u7684UTF-8\u7f16\u7801\u5b57\u8282\u5e8f\u5217\u5c06\u88ab\u8f6c\u5316\u4e3aUnicode\u66ff\u6362\u5b57\u7b26\u503c<code>0xFFFD</code>\u3002</p>"},{"location":"Go/nil/Golang-nil-4-string/#string-byte","title":"<code>string -&gt; []byte</code>","text":"<p>\u5f53\u4e00\u4e2a\u5b57\u7b26\u4e32 <code>string</code> \u88ab\u8f6c\u6362\u4e3a\u4e00\u4e2a\u5b57\u8282\u5207\u7247 <code>[]byte</code> \u65f6\uff0c\u7ed3\u679c\u5207\u7247\u4e2d\u7684\u5e95\u5c42\u5b57\u8282\u5e8f\u5217\u662f\u6b64\u5b57\u7b26\u4e32\u4e2d\u5b58\u50a8\u7684\u5b57\u8282\u5e8f\u5217\u7684\u4e00\u4efd \u6df1\u590d\u5236\u3002</p> <p>\u5373Go\u8fd0\u884c\u65f6\u5c06\u4e3a\u7ed3\u679c\u5207\u7247\u5f00\u8f9f\u4e00\u5757\u8db3\u591f\u5927\u7684\u5185\u5b58\u6765\u5bb9\u7eb3\u88ab\u590d\u5236\u8fc7\u6765\u7684\u6240\u6709\u5b57\u8282\u3002\u5f53\u6b64\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\u8f83\u957f\u65f6\uff0c\u6b64\u8f6c\u6362\u5f00\u9500\u662f\u6bd4\u8f83\u5927\u7684\u3002</p>"},{"location":"Go/nil/Golang-nil-4-string/#byte-string","title":"<code>[]byte -&gt; string</code>","text":"<p>\u5f53\u4e00\u4e2a\u5b57\u8282\u5207\u7247 <code>[]byte</code> \u88ab\u8f6c\u6362\u4e3a\u4e00\u4e2a\u5b57\u7b26\u4e32 <code>string</code> \u65f6\uff0c\u6b64\u5b57\u8282\u5207\u7247\u4e2d\u7684\u5b57\u8282\u5e8f\u5217\u4e5f\u5c06\u88ab \u6df1\u590d\u5236 \u5230\u7ed3\u679c\u5b57\u7b26\u4e32\u4e2d\u3002 \u5f53\u6b64\u5b57\u8282\u5207\u7247\u7684\u957f\u5ea6\u8f83\u957f\u65f6\uff0c\u6b64\u8f6c\u6362\u5f00\u9500\u540c\u6837\u662f\u6bd4\u8f83\u5927\u7684\u3002</p> <p>\u5728\u8fd9\u4e24\u79cd\u8f6c\u6362\uff08<code>string -&gt; []byte</code>\u3001<code>[]byte -&gt; string</code>\uff09\u4e2d\uff0c\u5fc5\u987b\u4f7f\u7528\u6df1\u590d\u5236\u7684\u539f\u56e0\u662f\uff1a</p> <p>Info</p> <p><code>[]byte</code> \u5b57\u8282\u5207\u7247\u4e2d\u7684\u5b57\u8282\u5143\u7d20\u662f\u53ef\u4fee\u6539\u7684\uff0c\u4f46\u662f\u5b57\u7b26\u4e32\u4e2d\u7684\u5b57\u8282\u662f\u4e0d\u53ef\u4fee\u6539\u7684\uff1b</p> <p>\u6240\u4ee5\u4e00\u4e2a <code>[]byte</code> \u548c\u4e00\u4e2a\u5b57\u7b26\u4e32 <code>string</code> \u662f\u4e0d\u80fd\u5171\u4eab\u5e95\u5c42\u5b57\u8282\u5e8f\u5217\u7684\u3002</p> <p>\u8bf7\u6ce8\u610f\uff0c\u5728\u5b57\u7b26\u4e32\u548c\u5b57\u8282\u5207\u7247\u4e4b\u95f4\u7684\u8f6c\u6362\u4e2d\uff0c</p> <ul> <li>\u975e\u6cd5\u7684UTF-8\u7f16\u7801\u5b57\u8282\u5e8f\u5217\u5c06\u88ab\u4fdd\u6301\u539f\u6837\u4e0d\u53d8\u3002</li> <li>\u6807\u51c6\u7f16\u8bd1\u5668\u505a\u4e86\u4e00\u4e9b\u4f18\u5316\uff0c\u4ece\u800c\u4f7f\u5f97\u8fd9\u4e9b\u8f6c\u6362\u5728\u67d0\u4e9b\u60c5\u5f62\u4e0b\u5c06\u4e0d\u7528\u6df1\u590d\u5236\u3002 \u8fd9\u6837\u7684\u60c5\u5f62\u5c06\u5728\u4e0b\u4e00\u8282\u4e2d\u4ecb\u7ecd\u3002</li> </ul>"},{"location":"Go/nil/Golang-nil-4-string/#byte-rune","title":"<code>[]byte &lt;-!-&gt; []rune</code>","text":"<p>Go\u5e76\u4e0d\u652f\u6301\u5b57\u8282\u5207\u7247\u548c\u7801\u70b9\u5207\u7247\u4e4b\u95f4\u7684\u76f4\u63a5\u8f6c\u6362\u3002\u6211\u4eec\u53ef\u4ee5\u7528\u4e0b\u9762\u5217\u51fa\u7684\u65b9\u6cd5\u6765\u5b9e\u73b0\u8fd9\u6837\u7684\u8f6c\u6362\uff1a</p> <ul> <li>\u5229\u7528\u5b57\u7b26\u4e32\u505a\u4e3a\u4e2d\u95f4\u8fc7\u6e21\u3002\u8fd9\u79cd\u65b9\u6cd5\u76f8\u5bf9\u65b9\u4fbf\u4f46\u6548\u7387\u8f83\u4f4e\uff0c\u56e0\u4e3a\u9700\u8981\u505a\u4e24\u6b21\u6df1\u590d\u5236\u3002</li> <li>\u4f7f\u7528unicode/utf8\u6807\u51c6\u5e93\u5305\u4e2d\u7684\u51fd\u6570\u6765\u5b9e\u73b0\u8fd9\u4e9b\u8f6c\u6362\u3002 \u8fd9\u79cd\u65b9\u6cd5\u6548\u7387\u8f83\u9ad8\uff0c\u4f46\u4f7f\u7528\u8d77\u6765\u4e0d\u592a\u65b9\u4fbf\u3002</li> <li>\u4f7f\u7528\u300cbytes\u300d\u6807\u51c6\u5e93\u5305\u4e2d\u7684 \"Runes\" \u51fd\u6570 \u6765\u5c06\u4e00\u4e2a\u5b57\u8282\u5207\u7247\u8f6c\u6362\u4e3a\u7801\u70b9\u5207\u7247\uff08<code>[]byte -&gt; []rune</code>\uff1a<code>bytes.Runes()</code>\uff09\u3002 \u4f46\u6b64\u5305\u4e2d\u6ca1\u6709\u5c06\u7801\u70b9\u5207\u7247\u8f6c\u6362\u4e3a\u5b57\u8282\u5207\u7247\u7684\u51fd\u6570\u3002</li> </ul> <pre><code>package main\n\nimport (\n    \"bytes\"\n    \"unicode/utf8\"\n)\n\nfunc main() {\n    s := \"\u989c\u8272\u611f\u67d3\u662f\u4e00\u4e2a\u6709\u8da3\u7684\u6e38\u620f\u3002\"\n    bs := []byte(s) // string -&gt; []byte\n    s = string(bs)  // []byte -&gt; string\n    rs := []rune(s) // string -&gt; []rune\n    s = string(rs)  // []rune -&gt; string\n\n    rs = bytes.Runes(bs) // []byte -&gt; []rune\n    bs = Runes2Bytes(rs) // []rune -&gt; []byte\n}\n\nfunc Runes2Bytes(rs []rune) []byte {\n    n := 0\n    for _, r := range rs {\n        n += utf8.RuneLen(r)\n    }\n    n, bs := 0, make([]byte, n)\n    for _, r := range rs {\n        n += utf8.EncodeRune(bs[n:], r)\n    }\n    return bs\n}\n</code></pre> <p>\u672c\u5c0f\u8282\u6458\u81ea \u300aGo 101\u300b\u5b57\u7b26\u4e32\u76f8\u5173\u7684\u7c7b\u578b\u8f6c\u6362</p>"},{"location":"Go/nil/Golang-nil-4-string/#_3","title":"\u6bd4\u8f83\u95ee\u9898","text":"<p>\u5b57\u7b26\u4e32\u7c7b\u578b\u90fd\u662f\u53ef\u6bd4\u8f83\u7c7b\u578b\uff0c\u56e0\u4e3a\u5e95\u5c42\u662f\u5b57\u8282\u6570\u7ec4\uff0c\u548c\u5b57\u7b26 <code>byte</code>\u3001<code>rune</code> \u4e00\u6837\uff0c\u4ed6\u4eec\u80cc\u540e\u7684\u57fa\u7840\u7c7b\u578b\u662f <code>uint8</code> \u548c <code>uint32</code> \u3002</p> <p>\u6240\u4ee5\u4e24\u4e2a\u5b57\u7b26\u4e32 <code>string</code> \u6216 \u4e24\u4e2a\u5b57\u7b26 <code>byte\u3001rune</code> \u4e4b\u95f4\u53ef\u4ee5\u4f7f\u7528\u7b49\u4e8e\u3001\u4e0d\u7b49\u3001\u5927\u4e8e\u3001\u5927\u4e8e\u7b49\u4e8e\u3001\u5c0f\u4e8e\u3001\u5c0f\u4e8e\u7b49\u4e8e\u7684\u6bd4\u8f83\uff1a<code>string == string</code>\u3001<code>string != string</code>\u3001<code>string &gt; string</code>\u3001<code>rune &gt;= rune</code>\u3001<code>byte &lt; byte</code>\u3001<code>byte &lt;= byte</code>\u3002</p> <pre><code>hello := \"hello\"\nworld := \"world\"\n\nfmt.Println(hello == world)    // false\nfmt.Println(hello != world)    // true\nfmt.Println(hello &gt; world)     // false\nfmt.Println(hello &gt;= world)    // false\nfmt.Println(hello &lt; world)     // true\nfmt.Println(hello &lt;= world)    // true\n</code></pre> <p>\u5f53\u6bd4\u8f83\u4e24\u4e2a\u5b57\u7b26\u4e32\u503c\u7684\u65f6\u5019\uff0c\u5b83\u4eec\u7684\u5e95\u5c42\u5b57\u8282\u5c06\u9010\u4e00\u8fdb\u884c\u6bd4\u8f83\u3002</p> <p>\u5982\u679c\u4e00\u4e2a\u5b57\u7b26\u4e32 a \u662f\u53e6\u4e00\u4e2a\u5b57\u7b26\u4e32 b \u7684\u524d\u7f00\uff0c\u5e76\u4e14\u53e6\u4e00\u4e2a\u5b57\u7b26\u4e32 b \u8f83\u957f; \u5219\u53e6\u4e00\u4e2a\u5b57\u7b26\u4e32 b \u4e3a\u4e24\u8005\u4e2d\u7684\u8f83\u5927\u8005\u3002</p> <pre><code>hello := \"hello\"\nworld := \"world\"\nhelloworld := hello + world\n\nfmt.Println(hello &gt; helloworld)     // false\nfmt.Println(hello &gt;= helloworld)    // false\nfmt.Println(hello &lt; helloworld)     // true\nfmt.Println(hello &lt;= helloworld)    // true\n</code></pre>"},{"location":"Go/nil/Golang-nil-4-string/#_4","title":"\u5b57\u7b26\u4e32\u76f8\u7b49\u6bd4\u8f83","text":"<p>\u5bf9\u4e8e\u4e24\u4e2a\u5b57\u7b26\u4e32\u76f8\u7b49\u6216\u4e0d\u7b49\u7684\u6bd4\u8f83\uff0cGo\u7f16\u8bd1\u5668\u4f1a\u5148\u6bd4\u8f83\u4ed6\u4eec\u7684 <code>len</code> \u5b57\u6bb5\uff1a</p> <ul> <li>\u5982\u679c\u4e24\u4e2a <code>len</code> \u7684\u503c\u4e0d\u76f8\u7b49\uff0c\u5219\u4e24\u4e2a\u5b57\u7b26\u4e32\u80af\u5b9a\u4e0d\u76f8\u7b49\uff1b</li> <li>\u5982\u679c\u4e24\u4e2a <code>len</code> \u7684\u503c\u76f8\u7b49\uff0c\u5219\u6bd4\u8f83\u4e24\u4e2a\u5b57\u7b26\u4e32\u5e95\u5c42\u7684\u5b57\u8282\u6570\u7ec4\u6307\u9488 <code>str</code> \u662f\u5426\u76f8\u7b49\uff0c\u4e5f\u5c31\u662f\u770b\u770b\u662f\u4e0d\u662f\u5f15\u7528\u4e86\u540c\u4e00\u4e2a\u5e95\u5c42\u5b57\u8282\u6570\u7ec4\u3002\u5982\u679c\u662f\u5219\u76f8\u7b49\uff0c\u5982\u679c\u4e0d\u662f\u5219\u9010\u4e2a\u6bd4\u8f83\u6bcf\u4e00\u4e2a\u5b57\u8282\u3002</li> </ul>"},{"location":"Go/nil/Golang-nil-5-chan/","title":"5-chan\u539f\u7406","text":""},{"location":"Go/nil/Golang-nil-6-struct/","title":"6-struct\u539f\u7406","text":""},{"location":"Go/nil/Golang-nil-7-%E5%85%B3%E4%BA%8Enil/","title":"7-\u5173\u4e8enil","text":""},{"location":"Go/nil/Golang-nil-7-%E5%85%B3%E4%BA%8Enil/#nil","title":"\u5173\u4e8e nil","text":"<p><code>nil</code> \u662f\u5565\uff1fgolang \u4e2d\u7684 nil \u76f8\u5f53\u4e8e\u5176\u4ed6\u8bed\u8a00\u4e2d\u7684 NULL\u3002</p> <p>\u4f46 nil \u7684\u672c\u8d28\u662f\u5565\uff1f\u5230\u5e95\u662f\u4e00\u79cd\u7c7b\u578b\uff1f\u8fd8\u662f\u4e00\u79cd\u53d8\u91cf\uff1f\u8fd8\u662f\u4e00\u4e2a\u5173\u952e\u5b57\uff1f</p> <p>\u6309\u7167\u535a\u4e3b \u5947\u4f22\u4e91\u5b58\u50a8 \u7684\u4ecb\u7ecd\uff0cnil \u662f\u4e00\u4e2a\u7279\u6b8a\u53d8\u91cf\uff0c\u4e5f\u662f\u4e00\u79cd\u89e6\u53d1\u673a\u5236\u3002</p> <p>Cite</p> <pre><code>// nil is a predeclared identifier representing the zero value for a\n// pointer, channel, func, interface, map, or slice type.\nvar nil Type // Type must be a pointer, channel, func, interface, map, or slice type\n\n// Type is here for the purposes of documentation only. It is a stand-in\n// for any Go type, but represents the same type for any given function\n// invocation.\ntype Type int\n</code></pre> <p>\u5728\u7f16\u8bd1\u5668\u5c42\u9762\uff0cnil \u662f\u4f7f\u7528\u4e00\u4e2a\u53d8\u91cf\u6765\u8868\u793a\u3002</p> <p>nil \u5176\u5b9e\u662f\u8bed\u8a00\u5c42\u9762\u7ed9\u51fa\u7684\uff1a\u5728\u7f16\u8bd1\u5668\u4e2d\uff0cnil \u662f\u4e00\u4e2a Type \u578b\u53d8\u91cf\uff0cType \u7c7b\u578b \u662f\u4ee5 int \u4e3a\u57fa\u7840\u7684\u81ea\u5b9a\u4e49\u7c7b\u578b\u3002</p> <p>\u4f46\u8fd9\u4e0d\u4ee3\u8868\u6211\u4eec\u4f7f\u7528\u8bed\u8a00\u7f16\u7a0b\u7a0b\u5e8f\u65f6\u80fd\u628a nil \u5f53\u4f5c\u4e00\u4e2a\u53d8\u91cf\u3002\u6bd4\u5982\u4f60\u628a nil \u8d4b\u503c\u7ed9\u4e00\u4e2a byte \u578b\u53d8\u91cf\uff0c\u662f\u4e0d\u53ef\u4ee5\u7684\uff0c\u56e0\u4e3a\u7f16\u8bd1\u5668\u4e0d\u8ba9\u3002\u8fd9\u662f\u7f16\u8bd1\u5668\u7684\u7279\u6743\uff0c\u4f60\u53ef\u6ca1\u6709\uff01</p> <p>\u8fd9\u91cc\u660e\u786e\u4e00\u70b9\uff0c\u80fd\u591f\u8d4b\u503c nil \u7684\u7c7b\u578b\u53ea\u6709 \u201c\u5f15\u7528\u516d\u5144\u5f1f  SMCIFP\u201d\uff1a</p> <p>\u300cslice\u3001map\u3001chan\u3001interface\u3001func\u3001pointer\u300d\u3002</p> <p>\u8fd9\u5c31\u662f\u7f16\u8bd1\u5668\u7ed9\u4f60\u8fd9\u4f4d\u8bed\u8a00\u4f7f\u7528\u8005\u7684\u6743\u9650\uff0c\u5728\u4e0a\u9762\u7684\u6e90\u7801\u4e2d <code>var nil Type</code> \u540e\u9762\u7684\u6ce8\u91ca\u5c31\u6709\u5199\u3002\u6240\u4ee5\u9664\u4e86\u8fd9 6 \u5144\u5f1f\u4e4b\u5916\uff0c\u522b\u7684\u7c7b\u578b\u90fd\u4e0d\u53ef\u4ee5\u8d4b\u503c nil\uff0c\u6216\u8005\u548c nil \u6bd4\u8f83\u3002</p> <p>Info</p> <p>\u4f60\u53ef\u4ee5\u628a\u8fd9 \u201c\u5f15\u7528\u516d\u5144\u5f1f SMCIFP\u201d \u7406\u89e3\u4e3a\u4e00\u79cd nilable \u7684\u7c7b\u578b\u3002</p> <p>\u6240\u8c13 nilable\uff0c\u5c31\u662f\u53ef\u4ee5\u8d4b\u503c\u4e3a nil\uff08able to assign with nil\uff09\uff0c\u53ef\u4ee5\u548c nil \u6bd4\u8f83\uff08able to compare to nil\uff09\u3002</p> <p>\u5982\u679c\u7528 go \u63d0\u6848\u4e2d\u7528\u6cdb\u578b\u8868\u793a\uff0c\u5373\uff1a</p> <pre><code>type nilable interface {\n    type []int, map[int]int, chan int, interface{}, unsafe.Pointer, func\n}\n\nfunc compare[T nilable] (a T) bool {\n    return a == nil\n}\n\nfunc assign[T nilable] (a T) {\n    a = nil\n}\n</code></pre> <p>\u5e76\u4e0d\u4e25\u8c28\uff0c\u4ec5\u4ec5\u7528\u4e8e\u8868\u8fbe nilable \u8fd9\u4e2a\u610f\u601d\u800c\u5df2\u3002</p> <p>\u4e8e\u662f\u5728\u7f16\u8bd1\u5668\u7f16\u8bd1\u4f60\u7684\u4ee3\u7801\u7684\u65f6\u5019\uff0c\u5982\u679c\u5b83\u770b\u5230\u4f60\u5199\u51fa <code>a == nil</code> \u6216 <code>a = nil</code> \u8fd9\u6837\u7684\u4ee3\u7801\u65f6\uff0c\u5b83\u8981\u786e\u8ba4 a \u662f nilable \u7684\uff08\u662f\u5f15\u7528\u516d\u5144\u5f1f SMCIFP\uff09\u3002\u6240\u4ee5\u8bf4 nil \u662f\u4e00\u79cd\u89e6\u53d1\u673a\u5236\u3002</p> <p>\u90a3\u4e48\u8fd9\u516d\u5144\u5f1f\u6709\u4ec0\u4e48\u7279\u6b8a\u5462\uff1f</p> <p>\u6211\u4eec\u5c06 go \u4e2d\u7684\u7c7b\u578b\u5206\u4e3a<code>\u503c\u7c7b\u578b</code>\u548c<code>\u5f15\u7528\u7c7b\u578b</code> \u4e24\u7c7b\u3002</p> <ul> <li>\u503c\u7c7b\u578b\u5c31\u662f int \u7cfb\u5217\u3001uint \u7cfb\u5217\u7b49\uff1b</li> <li>\u5f15\u7528\u7c7b\u578b\u5c31\u662f \u201c\u5f15\u7528\u516d\u5144\u5f1f SMCIFP\u201d\u3002</li> </ul> <p>\u5728 golang \u4e2d\uff0c\u4f7f\u7528\u53d8\u91cf\u524d\u9700\u8981\u5148\u58f0\u660e\u53d8\u91cf\u3002\u58f0\u660e\u53d8\u91cf\u7684\u672c\u8d28\u662f\u5206\u914d\u4e00\u5757\u5185\u5b58\u3002</p> <p>Clang\uff08golang \u7684\u524d\u8f88\uff09\u5728\u58f0\u660e\u53d8\u91cf\u662f\u5206\u914d\u5185\u5b58\uff0c\u4f46\u4e5f\u53ea\u662f\u5206\u914d\u5185\u5b58\uff0c\u5e76\u4e0d\u7ba1\u8fd9\u5757\u5185\u5b58\u91cc\u662f\u4e0d\u662f\u5e72\u51c0\u7684\uff0c\u6240\u4ee5\u4f1a\u51fa\u73b0\u91ce\u6307\u9488\u6b64\u7c7b\u95ee\u9898\u3002</p> <p>\u6211\u5199 Clang \u7684\u65f6\u5019\u5c31\u4f1a\u6709\u4e00\u4e2a\u4e60\u60ef\uff0c\u5728\u58f0\u660e\u53d8\u91cf\u7684\u65f6\u5019\u987a\u5e26\u521d\u59cb\u5316\u4e00\u4e2a\u96f6\u503c\u3002</p> <pre><code>int sum = 0;\ndouble price = 0.0; \nint* p = NULL;\n</code></pre> <p>\u8fd9\u6837\u7684\u4e60\u60ef\u53ef\u4ee5\u6709\u6548\u7684\u9884\u9632\u4e00\u4e9b\u610f\u6599\u4e4b\u5916\u7684\u60c5\u51b5\u3002</p> <p>\u4f46\u662f golang \u662f\u4e8c\u5341\u4e00\u4e16\u7eaa\u7684\u8bed\u8a00\uff0c\u5b83\u7684\u53d8\u91cf\u58f0\u660e\u5728\u5206\u914d\u5185\u5b58\u65f6\u662f\u300c\u7f6e 0 \u5206\u914d\u300d\uff0c\u4e5f\u5c31\u662f\u8bf4 golang \u53ef\u4ee5\u4fdd\u8bc1\u4f60\u58f0\u660e\u7684\u53d8\u91cf\u5206\u914d\u7684\u90a3\u5757\u5185\u5b58\u662f\u5e72\u51c0\u7684\uff0c\u4f60\u53ef\u4ee5\u653e\u5fc3\u7684\u4f7f\u7528\u3002</p> <p>\u6240\u4ee5\u5728 golang \u4e2d\u58f0\u660e\u4e00\u4e2a\u53d8\u91cf\u4f46\u6ca1\u6709\u521d\u59cb\u5316\uff0c\u8fd9\u4e2a\u53d8\u91cf\u7684\u503c\u662f\u5176\u7c7b\u578b\u7684\u96f6\u503c\uff0c\u5373\uff1a</p> <pre><code>var sum int     // sum == 0\nvar str string  // str == \"\"\nvar p *int      // p == nil\n</code></pre>"},{"location":"Go/nil/Golang-nil-7-%E5%85%B3%E4%BA%8Enil/#smcifp","title":"SMCIFP","text":"<p>Info</p> <p>\u5148\u58f0\u660e\u4e00\u70b9\uff1a\u8fd9\u516d\u5144\u5f1f\u4e2d\uff0cslice\u3001map\u3001chan\u3001interface \u662f\u4e00\u79cd\u590d\u5408\u7ed3\u6784\uff0cpointer \u548c func \u662f\u4e00\u4e2a\u6307\u9488\u3002</p> <p>\u5176\u5b9e\u4e0a\u9762\u5f15\u7528\u4e2d\u7684\u8fd9\u53e5\u8bdd\u5df2\u7ecf\u80fd\u5927\u6982\u7684\u770b\u51fa\u7b54\u6848\u4e86\uff0c\u56e0\u4e3a\u4ed6\u4eec\u662f\u6307\u9488\uff0c\u6240\u4ee5\u662f nilable\u3002\u6211\u4eec\u53ef\u4ee5\u770b\u770b\u7f16\u8bd1\u5668\u4e2d\u8fd9\u201c\u516d\u5144\u5f1f\u201d\u7684\u7ed3\u6784\u3002</p> <p>slice</p> <pre><code>type slice struct {\n   array unsafe.Pointer         // \u7ba1\u7406\u7684\u5185\u5b58\u5757\u9996\u5730\u5740\n   len   int                    // \u52a8\u6001\u6570\u7ec4\u5b9e\u9645\u4f7f\u7528\u5927\u5c0f\n   cap   int                    // \u52a8\u6001\u6570\u7ec4\u5185\u5b58\u5927\u5c0f\n}\n</code></pre> <p>map</p> <pre><code>// A header for a Go map.\ntype hmap struct {\n    // Note: the format of the hmap is also encoded in cmd/compile/internal/gc/reflect.go.\n    // Make sure this stays in sync with the compiler's definition.\n    count     int // # live cells == size of map.  Must be first (used by len() builtin)\n    flags     uint8\n    B         uint8  // log_2 of # of buckets (can hold up to loadFactor * 2^B items)\n    noverflow uint16 // approximate number of overflow buckets; see incrnoverflow for details\n    hash0     uint32 // hash seed\n\n    buckets    unsafe.Pointer // array of 2^B Buckets. may be nil if count==0.\n    oldbuckets unsafe.Pointer // previous bucket array of half the size, non-nil only when growing\n    nevacuate  uintptr        // progress counter for evacuation (buckets less than this have been evacuated)\n\n    extra *mapextra // optional fields\n}\n</code></pre> <p>chan</p> <pre><code>type hchan struct {\n    qcount   uint           // total data in the queue\n    dataqsiz uint           // size of the circular queue\n    buf      unsafe.Pointer // points to an array of dataqsiz elements\n    elemsize uint16\n    closed   uint32\n    elemtype *_type // element type\n    sendx    uint   // send index\n    recvx    uint   // receive index\n    recvq    waitq  // list of recv waiters\n    sendq    waitq  // list of send waiters\n\n    // lock protects all fields in hchan, as well as several\n    // fields in sudogs blocked on this channel.\n    //\n    // Do not change another G's status while holding this lock\n    // (in particular, do not ready a G), as this can deadlock\n    // with stack shrinking.\n    lock mutex\n}\n</code></pre> <p>interface</p> <pre><code>type iface struct {\n    tab  *itab\n    data unsafe.Pointer\n}\n\ntype eface struct {\n    _type *_type\n    data  unsafe.Pointer\n}\n</code></pre> <p>func \u548c pointer \u672c\u8eab\u5c31\u662f\u4e00\u4e2a\u6307\u9488\u3002</p> <p>\u53ef\u4ee5\u770b\u51fa\uff0cmap \u548c chan \u4e24\u4e2a\u90fd\u662f\u6bd4\u8f83\u5927\u7684\u7ed3\u6784\u4f53\uff0c\u800c\u5f53\u4f60\u58f0\u660e\u4e00\u4e2a map \u6216 chan \u65f6\uff0c\u4f60\u5fc5\u987b\u901a\u8fc7 <code>make()</code> \u624d\u80fd\u4f7f\u7528\u3002\u4e3a\u4ec0\u4e48\uff1f</p> <p>\u56e0\u4e3a\u8fd9\u4e24\u4e2a\u7ed3\u6784\u4f53\u6bd4\u8f83\u5927\uff0c\u4e3a\u4e86\u63d0\u9ad8\u6027\u80fd\uff0c\u4f60\u58f0\u660e\u7684\u65f6\u5019 <code>var c chan int</code> \u7684\u65f6\u5019\uff0cc \u662f\u4e2a\u6307\u9488\uff0c\u5f53\u4f60 <code>make()</code> \u7684\u65f6\u5019\u624d\u4f1a\u5206\u914d\u5185\u5b58\uff0c\u4e5f\u5c31\u662f\u521d\u59cb\u5316 <code>hchan</code>\u3002map \u4e5f\u662f\u540c\u6837\u7684\u9053\u7406\u3002</p> <p></p> <p>\u50cf\u56fe\u4e2d\u90a3\u6837\uff0cslice\u3001map\u3001chan\u3001interface \u4e0d\u7ba1\u4ed6\u4eec\u6709\u591a\u5927\uff0c\u4f8b\u5982 slice \u6709 1000 \u4e2a\u5143\u7d20\uff0cmap \u6709 10\u4e07\u5bf9\u952e\u503c\u5bf9\uff0cchan \u7f13\u5b58\u4e2d\u6709 100\u4e07 \u4e2a\u6570\u636e\uff0c\u90a3\u90fd\u662f\u4ed6\u4eec\u80cc\u540e\u7684\u6570\u7ec4\u7684\u5927\u5c0f\uff1b\u4ed6\u4eec\u672c\u8eab\u7684\u5927\u5c0f\uff0c\u53ea\u6709\u4e00\u4e2a\u7ed3\u6784\u4f53\u90a3\u4e48\u5927\u3002</p> <p>\u6240\u4ee5\u7f16\u8bd1\u5668\u5728\u5224\u65ad nil \u7684\u65f6\u5019\u5176\u5b9e\u975e\u5e38\u5feb\uff0c\u56e0\u4e3a\u8fd9\u51e0\u4e2a\u7c7b\u578b\u672c\u8eab\u662f\u6307\u9488\uff0c\u7f16\u8bd1\u5668\u53ea\u9700\u8981\u50cf\u5982\u4e0b\u5224\u65ad\u5373\u53ef\uff1a</p> <ul> <li>\u5bf9\u4e8e slice \u7684\u65f6\u5019\uff0c\u5224\u65ad s \u4e2d\u7684 array \u5b57\u6bb5\u662f\u4e0d\u662f\u96f6\u503c\uff1b</li> <li>\u5bf9\u4e8e map\u3001chan \u7684\u65f6\u5019\uff0c\u5224\u65ad m\u3001c \u81ea\u8eab\u662f\u4e0d\u662f\u96f6\u503c\uff1b</li> <li>\u5bf9\u4e8e interface \u7684\u65f6\u5019\uff0c\u5224\u65ad i \u81ea\u8eab\u662f\u4e0d\u662f\u96f6\u503c\uff1b</li> <li>\u5bf9\u4e8e pointer\u3001func \u7684\u65f6\u5019\uff0c\u5224\u65ad p\u3001f \u81ea\u8eab\u662f\u4e0d\u662f\u96f6\u503c\uff1b</li> </ul> <p>\u540c\u6837\uff0c\u5728\u8d4b\u503c nil \u7684\u65f6\u5019\uff0c\u4e5f\u662f\u628a\u4ed6\u4eec\u81ea\u8eab\u8d4b\u503c\u4e3a nil \u5373\u53ef\u3002</p> <p>\u9664\u4e86 slice\uff0c\u56e0\u4e3a\u5b83\u7684\u7ed3\u6784\u6bd4\u8f83\u5c0f\uff0c\u603b\u5171\u5c31 24Byte\uff0832\u4f4d\u673a\u4e2d 12B\uff09\uff0c\u6240\u4ee5\u58f0\u660e\u7684\u65f6\u5019\u76f4\u63a5\u521d\u59cb\u5316\u4e86\u4e00\u4e2a slice \u7ed3\u6784\uff0c\u5bf9 array \u5b57\u6bb5\u8fdb\u884c\u7ef4\u62a4\u3002</p> <p>\u5177\u4f53\u7ec6\u8282\uff0c\u63a8\u8350\u4ed4\u7ec6\u9605\u8bfb https://mp.weixin.qq.com/s/sHLYy_4XA6254-vLmlu0IA\uff0c\u8fd9\u7bc7\u6587\u7ae0\u8bb2\u7684\u975e\u5e38\u901a\u4fd7\u548c\u8be6\u7ec6\u3002</p>"},{"location":"Go/nil/Golang-nil-7-%E5%85%B3%E4%BA%8Enil/#_1","title":"\u603b\u7ed3","text":"<ol> <li>nil \u53ea\u80fd\u7528\u4e8e\u5f15\u7528\u516d\u5144\u5f1f SMCIFP\uff1b</li> <li>\u53d8\u91cf\u53ea\u662f\u4e00\u4e2a\u6307\u5411\u4e00\u5757\u5185\u5b58\u7684\u6307\u9488</li> <li>slice \u7ed3\u6784\u8f83\u5c0f\uff0c\u6240\u4ee5\u58f0\u660e\u7684\u65f6\u5019\u5c31\u76f4\u63a5\u5206\u914d\u5185\u5b58\u4e86\uff0cmap \u548c chan \u9700\u8981 make() \u624d\u5206\u914d\u5185\u5b58\u3002</li> <li>\u9664\u4e86 pointer \u548c func\uff0c\u5176\u4ed6\u90fd\u662f\u4f7f\u7528\u5bf9\u5e94\u7ed3\u6784\u4f53\u6765\u7ba1\u7406</li> <li>\u5bf9 MCIFP \u7684\u5224\u65ad nil \u548c \u8d4b\u503c nil\uff0c\u90fd\u662f\u5bf9\u53d8\u91cf\u672c\u8eab\u8fdb\u884c\u64cd\u4f5c\uff0c\u800c Slice \u662f\u5bf9 array \u5b57\u6bb5\u8fdb\u884c\u64cd\u4f5c\u3002</li> </ol> <p>\u518d\u6b21\u5f3a\u70c8\u63a8\u8350\u9605\u8bfb https://mp.weixin.qq.com/s/sHLYy_4XA6254-vLmlu0IA\u3002</p>"},{"location":"Go/nil/Golang-nil-8-%E5%80%BC%E5%AE%9E%E7%8E%B0%E4%B8%8E%E6%8C%87%E9%92%88%E5%AE%9E%E7%8E%B0/","title":"8-\u503c\u5b9e\u73b0&\u6307\u9488\u5b9e\u73b0","text":""},{"location":"Go/nil/Golang-nil-8-%E5%80%BC%E5%AE%9E%E7%8E%B0%E4%B8%8E%E6%8C%87%E9%92%88%E5%AE%9E%E7%8E%B0/#vs","title":"\u503c\u5b9e\u73b0 VS \u6307\u9488\u5b9e\u73b0","text":"<p>\u503c\u63a5\u6536\u8005\u65b9\u6cd5\uff08Value receiver method\uff09\u548c\u6307\u9488\u63a5\u6536\u8005\u65b9\u6cd5\uff08Pointer receiver method\uff09\uff0c\u90fd\u53ef\u4ee5\u88ab\u7ed3\u6784\u4f53\u53d8\u91cf\uff08struct variable\uff09\u6216\u7ed3\u6784\u4f53\u6307\u9488\uff08struct pointer\uff09\u8c03\u7528\u3002</p> <p>\u503c\u63a5\u6536\u8005\u65b9\u6cd5\u4e2d\uff0c\u5bf9\u63a5\u6536\u8005\u7684\u4fee\u6539\uff0c\u4e0d\u4f1a \u5f71\u54cd\u8c03\u7528\u8005\u3002 \u6307\u9488\u63a5\u6536\u8005\u65b9\u6cd5\u4e2d\uff0c\u5bf9\u63a5\u6536\u8005\u7684\u4fee\u6539\uff0c\u4f1a \u5f71\u54cd\u8c03\u7528\u8005\u3002</p> <pre><code>type S struct {\n    age int\n}\n\nfunc (s S) read() { // \u503c\u5b9e\u73b0\uff0c\u503c\u63a5\u6536\u8005\u65b9\u6cd5\n    s.age = 50\n}\n\nfunc (s *S) write(n int) {  // \u6307\u9488\u5b9e\u73b0\uff0c\u6307\u9488\u63a5\u6536\u8005\u65b9\u6cd5\n    s.age = n\n}\n\nfunc main() {\n    sV := A{age: 10}    // \u7ed3\u6784\u4f53\u53d8\u91cf\n    sP := &amp;A{age: 10}   // \u7ed3\u6784\u4f53\u6307\u9488\n\n    sV.read()           // \u7ed3\u6784\u4f53\u53d8\u91cf\u53ef\u4ee5\u8c03\u7528\u503c\u5b9e\u73b0\u7684\u65b9\u6cd5\n    fmt.Println(sV.age) // 10\n    sV.write(15)        // \u7ed3\u6784\u4f53\u53d8\u91cf\u53ef\u4ee5\u8c03\u7528\u6307\u9488\u5b9e\u73b0\u7684\u65b9\u6cd5\n    fmt.Println(sV.age) // 15\n\n    sP.read()           // \u7ed3\u6784\u4f53\u6307\u9488\u53ef\u4ee5\u8c03\u7528\u503c\u5b9e\u73b0\u7684\u65b9\u6cd5\n    fmt.Println(sP.age) // 10\n    sP.write(18)        // \u7ed3\u6784\u4f53\u6307\u9488\u53ef\u4ee5\u8c03\u7528\u6307\u9488\u5b9e\u73b0\u7684\u65b9\u6cd5\n    fmt.Println(sP.age) // 18\n}\n</code></pre> <p>\u5728\u4e0a\u8ff0\u6817\u5b50\u4e2d\uff0c</p> <ul> <li> <p>sP \u662f\u7ed3\u6784\u4f53\u6307\u9488\uff0c\u5728 sP \u8c03\u7528\u503c\u65b9\u6cd5 <code>sP.read()</code> \u65f6\uff0c\u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u8f6c\u6362\u4e3a <code>(*sP).read()</code>\uff1b</p> </li> <li> <p>sV \u662f\u7ed3\u6784\u4f53\u53d8\u91cf\uff0c\u5728 sV \u8c03\u7528\u6307\u9488\u65b9\u6cd5 <code>sV.write()</code> \u65f6\uff0c\u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u8f6c\u6362\u4e3a <code>(&amp;sV).write(15)</code>\u3002</p> </li> </ul> \u503c\u63a5\u6536\u8005\u65b9\u6cd5 \u6307\u9488\u63a5\u6536\u8005\u65b9\u6cd5 \u7ed3\u6784\u4f53\u53d8\u91cf\u8c03\u7528\u8005 \u53ef\u4ee5\u8c03\u7528\uff0c\u7c7b\u4f3c\u4e8e\u4f20\u503c \u53ef\u4ee5\u8c03\u7528\uff0c\u76f8\u5f53\u4e8e <code>(&amp;sV).write(15)</code> \u7ed3\u6784\u4f53\u6307\u9488\u8c03\u7528\u8005 \u53ef\u4ee5\u8c03\u7528\uff0c\u76f8\u5f53\u4e8e <code>(*sP).read()</code> \u53ef\u4ee5\u8c03\u7528\uff0c\u7c7b\u4f3c\u4e0e\u4f20\u6307\u9488\uff0c\u6240\u4ee5\u4f1a\u5f71\u54cd\u8c03\u7528\u8005 \u4fee\u6539 \u4e0d\u5f71\u54cd\u8c03\u7528\u8005 \u5f71\u54cd\u8c03\u7528\u8005"},{"location":"Go/nil/Golang-nil-8-%E5%80%BC%E5%AE%9E%E7%8E%B0%E4%B8%8E%E6%8C%87%E9%92%88%E5%AE%9E%E7%8E%B0/#_1","title":"\u5982\u4f55\u9009\u62e9","text":"<p>\u8981\u770b\u7c7b\u578b\u7684\u672c\u8d28\u3002\u5982\u679c\u4e00\u4e2a\u7ed3\u6784\u4f53\u7c7b\u578b\u7684\u5b9e\u4f8b\uff0c\u5e94\u8be5\u662f\u72ec\u4e00\u4efd\u7684\uff0c\u90a3\u4e48\u5c31\u5e94\u8be5\u7528\u6307\u9488\u63a5\u6536\u8005\u65b9\u6cd5\u3002</p> <p>\u4f8b\u5982\uff0c\u6587\u4ef6\u7ed3\u6784\u4f53\u3002\u6bcf\u4e2a\u6587\u4ef6\u90fd\u662f\u72ec\u4e00\u4efd\u7684\uff0c\u5bf9\u5e94\u5730\uff0c\u6587\u4ef6\u7ed3\u6784\u4f53\u8fd4\u56de\u4e00\u4e2a\u6587\u4ef6\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u5e94\u8be5\u552f\u4e00\u7684\u4ee3\u8868\u8fd9\u4e2a\u6587\u4ef6\uff0c\u6240\u4ee5\u6587\u4ef6\u7ed3\u6784\u4f53\u7684\u65b9\u6cd5\u5e94\u8be5\u4f7f\u7528\u6307\u9488\u63a5\u6536\u8005\u65b9\u6cd5\u3002</p>"},{"location":"Go/nil/Golang-nil-8-%E5%80%BC%E5%AE%9E%E7%8E%B0%E4%B8%8E%E6%8C%87%E9%92%88%E5%AE%9E%E7%8E%B0/#_2","title":"\u6d89\u53ca\u63a5\u53e3","text":"<p>\u5728\u4e0d\u6d89\u53ca\u63a5\u53e3\u7684\u60c5\u51b5\u4e0b\uff0c\u503c\u5b9e\u73b0\u548c\u6307\u9488\u5b9e\u73b0\uff0c\u7ed3\u6784\u4f53\u53d8\u91cf\u548c\u7ed3\u6784\u4f53\u6307\u9488\u90fd\u53ef\u4ee5\u8c03\u7528\u3002</p> <p></p> <p>\u4f46\u662f\u5728\u6d89\u53ca\u63a5\u53e3\u7684\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e24\u79cd\u5b9e\u73b0\u8fd8\u662f\u6709\u533a\u522b\u7684\u3002</p> <p>\u4f7f\u7528\u503c\u5b9e\u73b0\u63a5\u53e3\u65b9\u6cd5\u65f6\uff0c\u7b49\u4e8e\u201c\u503c\u5b9e\u73b0 + \u6307\u9488\u5b9e\u73b0\u201d\uff1b\u4f7f\u7528\u6307\u9488\u5b9e\u73b0\u63a5\u53e3\u65b9\u6cd5\u65f6\uff0c\u4ec5\u7b49\u4e8e</p> <p>\u201c\u6307\u9488\u5b9e\u73b0\u201d\u3002</p> <p>Tip</p> <p>\u503c\u5b9e\u73b0 = \u503c\u5b9e\u73b0 + \u6307\u9488\u5b9e\u73b0</p> <p>\u6307\u9488\u5b9e\u73b0 = \u6307\u9488\u5b9e\u73b0</p> <p>\u8c03\u7528\u7684\u65f6\u5019\u4f9d\u7136\u662f\u7ed3\u6784\u4f53\u53d8\u91cf\u548c\u7ed3\u6784\u4f53\u6307\u9488\u90fd\u80fd\u8c03\u503c\u5b9e\u73b0\u65b9\u6cd5\u548c\u6307\u9488\u5b9e\u73b0\u65b9\u6cd5\uff0c\u8fd9\u4e00\u70b9\u6ca1\u53d8\u3002</p> <p>\u533a\u522b\u7684\u5730\u65b9\u5728\u4e8e\uff0c\u5f53\u4f60\u8981\u628a\u7ed3\u6784\u4f53\u4f20\u9012\u7ed9\u63a5\u53e3\u53d8\u91cf\u65f6\uff0c\u4f1a\u6709\u533a\u5206\u3002</p> <p></p> <p>\u4e3e\u4e2a\u6817\u5b50\uff1a</p> <pre><code>type Ier interface {\n    print()\n}\n\ntype Sa struct {}\ntype Sb struct {}\n\nfunc (a Sa) print() {}  // Sa \u4f7f\u7528\u503c\u5b9e\u73b0\nfunc (b *Sb) print() {} // Sb \u4f7f\u7528\u6307\u9488\u5b9e\u73b0\n\nfunc main() {\n    sav := Sa{}     // \u7ed3\u6784\u4f53\u53d8\u91cf\uff0cSa \u4f7f\u7528\u503c\u5b9e\u73b0\u4e86 Ier\n    sap := &amp;Sa{}    // \u7ed3\u6784\u4f53\u6307\u9488\uff0cSa \u4f7f\u7528\u503c\u5b9e\u73b0\u4e86 Ier\n\n    sbv := Sb{}     // \u7ed3\u6784\u4f53\u53d8\u91cf\uff0cSb \u4f7f\u7528\u6307\u9488\u5b9e\u73b0\u4e86 Ier\n    sbp := &amp;Sb{}    // \u7ed3\u6784\u4f53\u53d8\u91cf\uff0cSb \u4f7f\u7528\u6307\u9488\u5b9e\u73b0\u4e86 Ier\n\n    sav.print()     // \u7ed3\u6784\u4f53\u53d8\u91cf \u53ef\u4ee5\u8c03\u7528 \u503c\u5b9e\u73b0\u65b9\u6cd5\n    sap.print()     // \u7ed3\u6784\u4f53\u6307\u9488 \u53ef\u4ee5\u8c03\u7528 \u503c\u5b9e\u73b0\u65b9\u6cd5\n    sbv.print()     // \u7ed3\u6784\u4f53\u53d8\u91cf \u53ef\u4ee5\u8c03\u7528 \u6307\u9488\u5b9e\u73b0\u65b9\u6cd5\n    sbp.print()     // \u7ed3\u6784\u4f53\u6307\u9488 \u53ef\u4ee5\u8c03\u7528 \u6307\u9488\u5b9e\u73b0\u65b9\u6cd5\n\n    var ier1 Ier\n    ier1 = sav      // \u503c\u5b9e\u73b0\u8005 \u7684 \u7ed3\u6784\u4f53\u53d8\u91cf \u53ef\u4ee5\u4f20\u9012\u7ed9 \u63a5\u53e3\u53d8\u91cf\n    ier1 = sap      // \u503c\u5b9e\u73b0\u8005 \u7684 \u7ed3\u6784\u4f53\u6307\u9488 \u53ef\u4ee5\u4f20\u9012\u7ed9 \u63a5\u53e3\u53d8\u91cf\n\n    // \u6307\u9488\u5b9e\u73b0\u8005 \u7684 \u7ed3\u6784\u4f53\u53d8\u91cf \u4e0d\u80fd\u4f20\u7ed9 \u63a5\u53e3\u53d8\u91cf \n    ier1 = sbv      // cannot use sbv (type Sb) as type Ier in assignment: Sb does not implement Ier (print method has pointer receiver)\n    ier1 = sbp      // \u6307\u9488\u5b9e\u73b0\u8005 \u7684 \u7ed3\u6784\u4f53\u6307\u9488 \u53ef\u4ee5\u4f20\u9012\u7ed9 \u63a5\u53e3\u53d8\u91cf\n}\n</code></pre>"},{"location":"Go/nil/Golang-nil-9-%E5%AE%9E%E7%8E%B0%E6%8A%BD%E8%B1%A1%E7%B1%BB/","title":"9-\u5b9e\u73b0\u62bd\u8c61\u7c7b","text":""},{"location":"Go/nil/Golang-nil-9-%E5%AE%9E%E7%8E%B0%E6%8A%BD%E8%B1%A1%E7%B1%BB/#_1","title":"\u5b9e\u73b0\u62bd\u8c61\u7c7b","text":"<p>\u6700\u8fd1\u5728\u4eff\u5199\u4e00\u4e2a\u7a0b\u5e8f\u7684\u4ee3\u7801\uff0c\u90a3\u4e2a\u7a0b\u5e8f\u4f7f\u7528\u7684\u662f\u300cTypeScript\u300d\uff0c\u4e00\u79cd\u9762\u5411\u5bf9\u8c61\u7684\u3001\u52a8\u6001\u7684\u3001\u5f3a\u7c7b\u578b\u7684\u8bed\u8a00\uff0c\u800c Golang \u662f\u9759\u6001\u7684\u3001\u5f3a\u7c7b\u578b\u7684\u3001\u5e76\u4e14\u6ca1\u6709\u660e\u786e\u8868\u660e\u662f\u9762\u5411\u5bf9\u8c61\u7684\u4e00\u79cd\u8bed\u8a00\u3002</p> <p>Golang \u5b98\u65b9\u5bf9\u4e8e Go \u662f\u5426\u662f\u9762\u5411\u5bf9\u8c61\u8bed\u8a00\u7684\u56de\u7b54\u662f\uff1aYes and no\u3002\u5b98\u65b9\u7684\u6001\u5ea6\u5c31\u662f\u6211\u6ca1\u8bf4\u6211\u662f\u9762\u5411\u5bf9\u8c61\uff0c\u4f46\u662f\u4f60\u53ef\u4ee5\u6309\u7167\u9762\u5411\u5bf9\u8c61\u7684\u8303\u5f0f\u53bb\u7f16\u5199\u7a0b\u5e8f\u3002</p> <p>\u57fa\u672c\u4e0a\u9762\u5411\u5bf9\u8c61\u7684\u201c\u5c01\u88c5\u3001\u7ee7\u627f\u3001\u591a\u6001\u3001\u62bd\u8c61\u201d\uff0c\u5728 Go \u8bed\u8a00\u5c42\u9762\u90fd\u6709\u4e00\u5b9a\u7684\u5b9e\u73b0\uff0c\u4f8b\u5982\uff1a</p> <ul> <li>\u4f7f\u7528 struct \u8fdb\u884c\u5c01\u88c5</li> <li>\u5728 struct \u4e2d\u4f7f\u7528\u533f\u540d\u5b57\u6bb5\u8fdb\u884c\u7ee7\u627f\u548c\u591a\u6001</li> <li>\u4f7f\u7528\u63a5\u53e3\u5b9e\u73b0\u62bd\u8c61</li> </ul> <p>\u4f46\u662f\u5bf9\u4e8e\u5176\u4ed6\u4e00\u4e9b\u6982\u5ff5\u4e0a\u5982\uff1a\u9759\u6001\u3001\u62bd\u8c61\u7c7b\u7b49\u5219\u6ca1\u6709\u76f4\u63a5\u7684\u8bed\u6cd5\u548c\u673a\u5236\u8fdb\u884c\u5b9e\u73b0\u3002\u4f46\u662f\u8fd8\u662f\u6709\u4e00\u4e9b\u65b9\u6cd5\u53ef\u4ee5\u5b9e\u73b0\uff0c\u4eca\u5929\u53ea\u8ba8\u8bba\u600e\u4e48\u5b9e\u73b0\uff0c\u4e0d\u8ba8\u8bba\u8fd9\u6837\u5b9e\u73b0\u662f\u5426\u8fdd\u80cc Golang \u7684\u8bbe\u8ba1\u54f2\u5b66\u3002\u7f16\u7a0b\u7684\u8303\u5f0f\u6709\u5f88\u591a\u79cd\uff0c\u6700\u5e38\u89c1\u7684\u65e0\u975e\u9762\u5411\u8fc7\u7a0b\u3001\u9762\u5411\u5bf9\u8c61\u3001\u51fd\u6570\u5f0f\u8fd9\u4e09\u79cd\uff0c\u4e09\u8005\u5404\u6709\u4f18\u52a3\uff0c\u54b1\u4eec\u4e0d\u4f5c\u65e0\u754f\u4e4b\u4e89\u3002</p>"},{"location":"Go/nil/Golang-nil-9-%E5%AE%9E%E7%8E%B0%E6%8A%BD%E8%B1%A1%E7%B1%BB/#_2","title":"\u4e3a\u4ec0\u4e48\u9700\u8981\u62bd\u8c61\u7c7b\uff1a\u62bd\u8c61\u7c7b\u672c\u8d28","text":""},{"location":"Go/nil/Golang-nil-9-%E5%AE%9E%E7%8E%B0%E6%8A%BD%E8%B1%A1%E7%B1%BB/#_3","title":"\u7c7b","text":"<p>\u5728\u9762\u5411\u5bf9\u8c61\u4e2d\uff0c\u5c06\u6240\u6709\u7684\u4e8b\u7269\u6309\u7167\u5176 \u5c5e\u6027 \u548c \u884c\u4e3a \u5206\u95e8\u522b\u7c7b\uff0c\u4e5f\u5c31\u662f\u9762\u5411\u5bf9\u8c61\u7684\u57fa\u672c\u5355\u4f4d\u4e4b\u4e00 \u2014\u2014 \u7c7b Class\u3002</p> <ul> <li> <p>\u4f8b\u5982\u5b66\u6821\u91cc\u7684\u540c\u5b66\u90fd\u662f\u5b66\u751f\uff0c</p> <p>\u4ed6\u4eec\u6709\u5171\u540c\u7684\u5c5e\u6027\u662f\u5b66\u53f7\u3001\u73ed\u7ea7\u3001\u59d3\u540d\u3001\u5e74\u9f84\uff0c</p> <p>\u4ed6\u4eec\u6709\u5171\u540c\u7684\u884c\u4e3a\u662f\u4e0a\u8bfe\u3001\u5b9e\u8bad\u3001\u5403\u996d\u3001\u7761\u89c9\uff0c</p> <p>\u6240\u4ee5\u53ef\u4ee5\u5c06\u5c5e\u6027\u548c\u884c\u4e3a\u4f5c\u4e3a\u57fa\u672c\u5143\u7d20\uff0c\u7ec4\u6210\u4e00\u4e2a <code>\u5b66\u751f\u7c7b</code>\u3002</p> </li> <li> <p>\u518d\u4f8b\u5982\u5b66\u6821\u91cc\u7684\u5927\u4eba\u90fd\u662f\u6559\u804c\u5de5\uff0c</p> <p>\u4ed6\u4eec\u6709\u5171\u540c\u7684\u5c5e\u6027\u662f\u5de5\u53f7\u3001\u79d1\u5ba4\u3001\u59d3\u540d\u3001\u5e74\u9f84\uff0c</p> <p>\u4ed6\u4eec\u6709\u5171\u540c\u7684\u884c\u4e3a\u662f\u6388\u8bfe\u3001\u5e26\u5b9e\u8bad\u3001\u5403\u996d\u3001\u7761\u89c9\uff0c</p> <p>\u6240\u4ee5\u53ef\u4ee5\u5c06\u5c5e\u6027\u548c\u884c\u4e3a\u4f5c\u4e3a\u57fa\u672c\u5143\u7d20\uff0c\u7ec4\u6210\u4e00\u4e2a <code>\u6559\u5e08\u7c7b</code>\u3002</p> </li> </ul>"},{"location":"Go/nil/Golang-nil-9-%E5%AE%9E%E7%8E%B0%E6%8A%BD%E8%B1%A1%E7%B1%BB/#_4","title":"\u7ee7\u627f","text":"<p>Tip</p> <p>\u591a\u4e2a\u7c7b\u4e4b\u95f4\u7684\u5c5e\u6027\u3001\u884c\u4e3a\u4f1a\u6709\u91cd\u590d\uff0c\u5c06\u8fd9\u4e9b\u91cd\u590d\u63d0\u53d6\u51fa\u6765\uff0c\u63d0\u5347\u4e00\u5c42\uff0c\u5c31\u6210\u4e86\u7236\u7c7b\uff0c\u539f\u672c\u7684\u90a3\u4e9b\u7c7b\u5c31\u79f0\u4f5c\u5b50\u7c7b\uff0c\u5b83\u4eec\u53bb\u7ee7\u627f\u8fd9\u4e2a\u7236\u7c7b\uff0c\u5c31\u80fd\u7ee7\u7eed\u62e5\u6709\u8fd9\u4e9b\u91cd\u590d\u7684\u5c5e\u6027\u548c\u884c\u4e3a\u3002\u8fd9\u5c31\u662f\u7ee7\u627f extends</p> <p>\u4f8b\u5982\u5b66\u751f\u7c7b\u548c\u6559\u5e08\u7c7b\u90fd\u6709\u91cd\u590d\u5c5e\u6027\uff1a\u59d3\u540d\u3001\u5e74\u9f84\uff1b\u91cd\u590d\u884c\u4e3a\uff1a\u5403\u996d\u3001\u7761\u89c9\u3002</p> <p>\u5b66\u751f\u548c\u8001\u5e08\u5171\u540c\u70b9\u662f\u4ed6\u4eec\u90fd\u662f\u4eba\uff0c\u6240\u4ee5\u5c06\u59d3\u540d\u3001\u5e74\u9f84\u3001\u5403\u996d\u3001\u7761\u89c9\u63d0\u53d6\u51fa\u6765\uff0c\u7ec4\u6210\u4e00\u4e2a\u65b0\u7684\u7c7b \u2014\u2014 <code>\u4eba\u7c7b</code>\u3002</p> <p>\u7136\u540e\u5b66\u751f\u7c7b\u548c\u6559\u5e08\u7c7b\u7ee7\u627f\u4eba\u7c7b\uff0c\u5c31\u80fd\u62e5\u6709\u8fd9\u56db\u4e2a\u91cd\u590d\u7684\u5c5e\u6027\u548c\u884c\u4e3a\u3002</p>"},{"location":"Go/nil/Golang-nil-9-%E5%AE%9E%E7%8E%B0%E6%8A%BD%E8%B1%A1%E7%B1%BB/#_5","title":"\u62bd\u8c61","text":"<p>Tip</p> <p>\u6709\u65f6\u5019\u91cd\u590d\u7684\u884c\u4e3a\u867d\u7136\u505a\u7684\u4e8b\u60c5\u662f\u4e00\u6837\u7684\uff0c\u4f46\u662f\u5177\u4f53\u600e\u4e48\u505a\u662f\u4e0d\u540c\u7684\u3002</p> <p>\u90a3\u4e48\u8fd9\u65f6\u8fd9\u4e2a\u884c\u4e3a\u5c31\u662f\u4e00\u79cd\u62bd\u8c61\u7684\u884c\u4e3a\u3002\u90a3\u4f60\u5728\u5b9a\u4e49\u8fd9\u4e2a\u884c\u4e3a\u7684\u65f6\u5019\u5c31\u4e0d\u80fd\u5c06\u5185\u5bb9\u5199\u6b7b\u3002\u4e8e\u662f\u5c31\u9700\u8981\u58f0\u660e\u8fd9\u4e2a\u884c\u4e3a\u662f\u4e00\u79cd\u62bd\u8c61\u884c\u4e3a\uff0c\u7ed9\u5b83\u5b9a\u4e49\u4e3a\u4e00\u4e2a\u62bd\u8c61\u65b9\u6cd5\u3002</p> <p>\u4f8b\u5982\u8001\u5e08\u7684\u6388\u8bfe\u884c\u4e3a\uff0c\u90fd\u662f\u6388\u8bfe\uff0c\u4f46\u662f\u82f1\u8bed\u8001\u5e08\u7684\u6388\u8bfe\u65b9\u5f0f\u662f\u542c\u8bf4\u8bfb\u5199\u3001\u5316\u5b66\u8001\u5e08\u7684\u6388\u8bfe\u65b9\u5f0f\u662f\u71c3\u70e7\u7206\u70b8\u3001\u8bed\u6587\u8001\u5e08\u7684\u6388\u8bfe\u65b9\u5f0f\u662f\u4e4b\u4e4e\u8005\u4e5f\u3002</p> <p>\u6240\u4ee5\u6211\u4eec\u8981\u628a\u6388\u8bfe\u58f0\u660e\u4e3a\u4e00\u4e2a\u62bd\u8c61\u65b9\u6cd5\u3002</p> <p>Question</p> <p>\u4f60\u4e5f\u8bb8\u4f1a\u89c9\u5f97\u6211\u7167\u6837\u53ef\u4ee5\u5199\u6b7b\u554a\uff0c\u7136\u540e\u8bed\u6587\u8001\u5e08\u7c7b\u7ee7\u627f\u6559\u5e08\u7c7b\uff0c\u7136\u540e\u91cd\u5199\u6388\u8bfe\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u5316\u5b66\u8001\u5e08\u7c7b\u7ee7\u627f\u6559\u5e08\u7c7b\uff0c\u7136\u540e\u4e5f\u91cd\u5199\u6388\u8bfe\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u8fd9\u6837\u4e5f\u884c\u554a\u3002</p> <p>\u662f\u7684\uff0c\u8fd9\u6837\u7684\u786e\u53ef\u4ee5\uff0c\u4e0d\u8fc7\u6559\u5e08\u7c7b\u4e2d\u5199\u6b7b\u7684\u90a3\u90e8\u5206\u5c31\u6210\u4e86\u4e00\u79cd\u201c\u9ed8\u8ba4\u884c\u4e3a\u201d\u3002\u5f53\u5b50\u7c7b\u91cd\u5199\u7684\u65f6\u5019\uff0c\u6267\u884c\u91cd\u5199\u7684\u884c\u4e3a\uff0c\u6ca1\u6709\u91cd\u5199\u5219\u6267\u884c\u8fd9\u79cd\u201c\u9ed8\u8ba4\u884c\u4e3a\u201d\u3002</p> <p>\u4e0d\u8fc7\uff0c\u5f53\u4f60\u7ad9\u5728\u9876\u5c42\u8bbe\u8ba1\u7684\u65f6\u5019\uff0c\u8fd8\u8981\u4e3a\u4e00\u79cd\u62bd\u8c61\u884c\u4e3a\u8bbe\u7f6e\u9ed8\u8ba4\uff0c\u4f1a\u4e0d\u4f1a\u4f18\u70b9\u987e\u6b64\u5931\u5f7c\u54e6\uff1f</p> <p>\u5176\u5b9e\u5f53\u4f60\u7ad9\u5728\u4e0a\u5e1d\u89c6\u89d2\u8bbe\u8ba1\u65f6\uff0c\u4f60\u5e94\u8be5\u4e0d\u592a\u613f\u610f\u9677\u5165\u7ec6\u8282\u91cc\uff0c\u800c\u66f4\u613f\u610f\u628a\u63e1\u597d\u5927\u5c40\u3002\u6211\u8bbe\u8ba1\u4e00\u4e2a\u6559\u5e08\u7c7b\uff0c\u6211\u6307\u5b9a\u5b83\u6709\u8fd9\u4e9b\u884c\u4e3a\uff0c\u5177\u4f53\u600e\u4e48\u5b9e\u73b0\uff0c\u8c01\u7ee7\u627f\u8c01\u8d1f\u8d23\u3002\u5c31\u50cf\u67b6\u6784\u5e08\u5728\u8bbe\u8ba1\u7cfb\u7edf\u65f6\u5173\u6ce8\u8fd9\u91cc\u7528\u4ec0\u4e48\u6280\u672f\u3001\u90a3\u91cc\u7528\u4ec0\u4e48\u7ed3\u6784\u624d\u80fd\u8ba9\u7cfb\u7edf\u66f4\u7a33\u5b9a\u3001\u6027\u80fd\u66f4\u597d\uff0c\u800c\u4e0d\u662f\u8bbe\u8ba1\u5230\u4e00\u534a\u9677\u5165\u5230\u201c\u8fd9\u4e2a\u5224\u65ad\u8fd9\u6837\u5199\u662f\u5426\u6548\u7387\u66f4\u9ad8\u201d\u7684\u7ec6\u8282\u91cc\u3002\u6240\u4ee5\u5f53\u6709\u8fd9\u4e9b\u62bd\u8c61\u884c\u4e3a\u65f6\uff0c\u5c06\u4ed6\u4eec\u5b9a\u4e49\u4e3a\u62bd\u8c61\u65b9\u6cd5\u66f4\u597d\u3002</p> <p>\u800c\u4ece\u53e6\u4e00\u4e2a\u89d2\u5ea6\u6765\u8bf4\uff0c\u4efb\u4f55\u4eba\uff0c\u53ea\u8981\u4ed6\u6709\u5177\u4f53\u7684\u6388\u8bfe\u5185\u5bb9\uff0c\u5373\u4f7f\u4ed6\u6ca1\u6709\u5de5\u53f7\u3001\u6ca1\u6709\u79d1\u5ba4\uff0c\u4f46\u4ed6\u4e5f\u662f\u6559\u4e66\u80b2\u4eba\u3001\u4e3a\u4eba\u5e08\u8868\u4e0d\u662f\u4e48\uff1f\u4f8b\u5982\u5b54\u5b50\uff0c\u4ed6\u6ca1\u6709\u5de5\u53f7\u3001\u6ca1\u6709\u79d1\u5ba4\uff0c\u4f46\u662f\u4ed6\u6559\u4e66\u80b2\u4eba\uff0c\u5f1f\u5b50\u4e09\u5343\u5723\u8d24\u4e03\u5341\u4e8c\uff0c\u4e0d\u4e5f\u88ab\u5c0a\u4e3a\u81f3\u5723\u5148\u5e08\u561b\u3002</p> <p>\u6240\u4ee5\u8fd9\u4e5f\u662f\u4e00\u4e2a\u7a0d\u5fae\u54f2\u5b66\u7684\u95ee\u9898\uff0c\u5b83\u4ece\u66f4\u52a0\u5f00\u653e\u7684\u89d2\u5ea6\u53bb\u8bc4\u5224\uff0c\u4e00\u4e2a\u4eba\u662f\u5426\u662f\u8001\u5e08\uff0c\u4e0d\u662f\u770b\u4ed6\u6709\u6ca1\u6709\u6559\u5e08\u8d44\u683c\u8bc1\uff0c\u6709\u6ca1\u6709\u5de5\u53f7\uff0c\u6709\u6ca1\u6709\u79d1\u5ba4\uff0c\u53ea\u8981\u4ed6\u5b9e\u73b0\u5177\u4f53\u7684\u6388\u8bfe\u65b9\u5f0f\uff0c\u4ed6\u5c31\u662f\u4e00\u4e2a\u8001\u5e08\u3002</p> <p>\u5230\u8fd9\u91cc\u6211\u60f3\u4f60\u5e94\u8be5\u80fd\u7406\u89e3 Golang \u4e2d\uff0c\u4e00\u4e2a\u7ed3\u6784\u4f53 S \u53ea\u8981\u5b9e\u73b0\u4e86\u63a5\u53e3 I \u4e2d\u7684\u6240\u6709\u65b9\u6cd5\uff0c\u5c31\u8868\u793a S \u5b9e\u73b0\u4e86 I\uff0cA \u662f\u4e00\u4e2a I \u7c7b\u578b\u3002</p> <p>\u4e00\u4e2a\u53f8\u673a\u7ed3\u6784\u4f53 <code>Driver</code>\uff0c\u53ea\u8981\u5b9e\u73b0\u4e86\u6559\u5e08\u63a5\u53e3 <code>Teacher</code> \u4e2d\u7684\u6388\u8bfe\u65b9\u6cd5 <code>teach()</code>\uff0c \u90a3\u4e48 <code>Driver</code> \u5c31\u662f\u4e00\u4e2a <code>Teacher</code>\uff0c\u4ed6\u5c31\u662f\u4e00\u4e2a\u6559\u7ec3\uff0c <code>Driver</code> \u5c31\u662f\u4e00\u4e2a <code>Teacher</code> \u7c7b\u578b\u3002</p>"},{"location":"Go/nil/Golang-nil-9-%E5%AE%9E%E7%8E%B0%E6%8A%BD%E8%B1%A1%E7%B1%BB/#_6","title":"\u63a5\u53e3","text":"<p>\u6240\u4ee5\u5728\u8bbe\u8ba1\u4e2d\uff0c\u6211\u4eec\u603b\u4f1a\u503e\u5411\u4e8e\u53bb\u5b9a\u4e49\u4e00\u4e9b\u89c4\u5219\uff0c\u4e5f\u5c31\u662f\u8fd9\u4e9b\u62bd\u8c61\u884c\u4e3a\uff0c\u7136\u540e\u8ba9\u5b9e\u73b0\u8005\u81ea\u5df1\u6765\u5b9e\u73b0\u3002\u8fd9\u5c31\u662f\u63a5\u53e3\u2014\u2014interface\u3002</p> <p>\u5728 Golang \u548c \u9762\u5411\u5bf9\u8c61\u7684\u5178\u578b\u4ee3\u8868 Java \u4e2d\u90fd\u6709\u5bf9\u63a5\u53e3\u7684\u652f\u6301\u3002\u5728 Java \u4e2d\u4e00\u4e2a\u7c7b\u5b9e\u73b0\u67d0\u4e2a\u63a5\u53e3\u65f6\u8981\u663e\u5f0f\u7684\u4f7f\u7528 <code>implements</code> \u5173\u952e\u5b57\uff0c\u5728 Golang \u4e2d\u5219\u662f\u67d0\u4e2a\u63a5\u53e3\u4f53\u5177\u6709\u63a5\u53e3\u4e2d\u7684\u6240\u6709\u65b9\u6cd5\u7684\u5177\u4f53\u5b9e\u73b0\u5373\u53ef\u3002\u4e00\u79cd\u662f\u4fb5\u5165\u5f0f\u7684\uff0c\u4e00\u79cd\u662f\u975e\u4fb5\u5165\u5f0f\u7684\u3002</p>"},{"location":"Go/nil/Golang-nil-9-%E5%AE%9E%E7%8E%B0%E6%8A%BD%E8%B1%A1%E7%B1%BB/#_7","title":"\u62bd\u8c61\u7c7b","text":"<p>\u6709\u65f6\u5019\u6211\u5c31\u662f\u60f3\u5728\u8bbe\u8ba1\u67d0\u4e2a\u7c7b\u578b\u7684\u65f6\u5019\uff0c\u5b83\u6709\u7684\u884c\u4e3a\u662f\u62bd\u8c61\u7684\uff0c\u6211\u4e0d\u6307\u5b9a\u5b83\u7684\u9ed8\u8ba4\u884c\u4e3a\uff1b\u800c\u6709\u7684\u884c\u4e3a\u6211\u5c31\u7ed9\u5b83\u4e2a\u9ed8\u8ba4\u884c\u4e3a\u3002</p> <p>\u90a3\u4e48\u8fd9\u79cd\u65f6\u5019\u53ef\u4ee5\u4f7f\u7528\u62bd\u8c61\u7c7b\u3002\u63a5\u53e3\u662f\u7edd\u5bf9\u62bd\u8c61\u7684\uff0c\u7c7b\u662f\u7edd\u5bf9\u5177\u8c61\u7684\uff0c\u800c\u62bd\u8c61\u7c7b\u5219\u662f\u5728\u7edd\u5bf9\u62bd\u8c61\u548c\u7edd\u5bf9\u5177\u8c61\u4e4b\u95f4\u3002</p> <p>\u5c31\u50cf\u7b2c\u4e00\u53e5\u8bdd\u8bf4\u7684\uff0c\u6709\u4e9b\u884c\u4e3a\u6211\u5c31\u60f3\u7ed9\u5b83\u4e2a\u9ed8\u8ba4\u884c\u4e3a\uff0c\u6709\u4e9b\u5219\u4e0d\u60f3\u3002\u800c\u63a5\u53e3\u4e0d\u4f1a\u6709\u5177\u4f53\u5b9e\u73b0\uff0c\u7c7b\u5fc5\u987b\u6709\u5177\u4f53\u5b9e\u73b0\uff0c\u800c\u62bd\u8c61\u7c7b\u5219\u662f\u53ef\u4ee5\u6709\u5177\u4f53\u5b9e\u73b0\uff0c\u4e5f\u53ef\u4ee5\u6ca1\u6709\u5177\u4f53\u5b9e\u73b0\u3002</p> <p>\u4f8b\u5982\u6559\u5e08\u7c7b\u6709\u6388\u8bfe\u3001\u6253\u5361\u4e0a\u73ed\u4e24\u79cd\u884c\u4e3a\u3002\u6388\u8bfe\u65b9\u5f0f\u591a\u79cd\u591a\u6837\uff0c\u6253\u5361\u4e0a\u73ed\u65b9\u5f0f\u4e5f\u591a\u79cd\u591a\u6837\u3002\u90a3\u6211\u73b0\u5728\u53ea\u58f0\u660e\u6388\u8bfe\u662f\u4e00\u79cd\u62bd\u8c61\u884c\u4e3a\uff0c\u8c01\u7ee7\u627f\u8c01\u81ea\u884c\u5b9e\u73b0\uff0c\u518d\u7ed9\u6253\u5361\u4e0a\u73ed\u6307\u5b9a\u4e00\u79cd\u9ed8\u8ba4\u884c\u4e3a\u65b9\u5f0f \u2014\u2014 \u6307\u7eb9\u6253\u5361\u3002</p> <p>\u5982\u6b64\u5f53 \u8bed\u6587\u8001\u5e08\u7c7b \u7ee7\u627f\u4e86 \u6559\u5e08\u7c7b \u4ee5\u540e\uff0c\u5fc5\u987b\u5b9e\u73b0\u6388\u8bfe\u7684\u5177\u4f53\u884c\u4e3a\uff0c\u4e5f\u5c31\u662f\u5b9e\u73b0\u62bd\u8c61\u65b9\u6cd5\uff1b\u81f3\u4e8e\u6253\u5361\u4e0a\u73ed\u884c\u4e3a\uff0c\u53ef\u4ee5\u91cd\u5199\u4e2a\u4eba\u8138\u8bc6\u522b\u6253\u5361\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u91cd\u5199\uff0c\u90a3\u5c31\u9ed8\u8ba4\u6307\u7eb9\u6253\u5361\u3002</p> <p>\u6240\u4ee5\u62bd\u8c61\u7c7b\u66f4\u50cf\u4e00\u79cd\u4e2d\u5eb8\u4e4b\u9053\u3002\u53d6\u7edd\u5bf9\u62bd\u8c61\u548c\u7edd\u5bf9\u5177\u8c61\u7684\u6298\u4e2d\uff0c\u589e\u52a0\u4e86\u7a0b\u5e8f\u7684\u7075\u6d3b\u6027\u3002</p>"},{"location":"Go/nil/Golang-nil-9-%E5%AE%9E%E7%8E%B0%E6%8A%BD%E8%B1%A1%E7%B1%BB/#_8","title":"\u5c0f\u7ed3","text":"<p>\u5728\u8bbe\u8ba1\u65f6\uff0c\u5c06\u4e00\u7c7b\u4e8b\u7269\u7684\u5171\u6709\u7684\u5c5e\u6027\u548c\u884c\u4e3a\u63d0\u53d6\u51fa\u6765\uff0c\u5b9a\u4e49\u4e3a\u4e00\u7c7b\u3002</p> <p>\u5c06\u591a\u4e2a\u7c7b\u4e2d\u91cd\u590d\u7684\u90e8\u5206\u5265\u79bb\u51fa\u6765\uff0c\u5b9a\u4e49\u4e3a\u7236\u7c7b\uff0c\u8ba9\u5b50\u7c7b\u53bb\u7ee7\u627f\u3002</p> <p>\u4e3a\u4e00\u7c7b\u4e8b\u7269\u5b9a\u6027\u65f6\u53ef\u4ee5\u4e0d\u5173\u6ce8\u5177\u4f53\u5176\u5177\u4f53\u884c\u4e3a\uff0c\u53ea\u5173\u6ce8\u5176\u6709\u6ca1\u6709\u8fd9\u4e2a\u884c\u4e3a\u5373\u53ef\u3002\u8fd9\u4e9b\u884c\u4e3a\u79f0\u4e3a\u62bd\u8c61\u884c\u4e3a\uff0c\u5373\u62bd\u8c61\u65b9\u6cd5\u3002\u5c06\u8fd9\u4e9b\u62bd\u8c61\u884c\u4e3a\u5c01\u88c5\u8d77\u6765\uff0c\u5c31\u662f\u4e00\u4e2a\u63a5\u53e3\u3002</p> <p>\u4e3a\u4e00\u7c7b\u4e8b\u7269\u5b9a\u6027\u65f6\uff0c\u60f3\u8981\u7ed9\u4e00\u4e9b\u62bd\u8c61\u884c\u4e3a\u8bbe\u7f6e\u9ed8\u8ba4\u884c\u4e3a\uff0c\u5c31\u6539\u7528\u62bd\u8c61\u7c7b\u3002</p>"},{"location":"Go/nil/Golang-nil-9-%E5%AE%9E%E7%8E%B0%E6%8A%BD%E8%B1%A1%E7%B1%BB/#golang","title":"Golang \u5b9e\u73b0\u62bd\u8c61\u7c7b","text":"<p>Golang \u4e2d\u7684\u63a5\u53e3\u662f\u975e\u4fb5\u5165\u5f0f\u7684\uff0c\u63a5\u53e3\u4e2d\u7684\u65b9\u6cd5\u662f\u6ca1\u6709\u5177\u4f53\u5b9e\u73b0\u7684\uff0c\u62bd\u8c61\u7c7b\u662f\u53ef\u4ee5\u6709\u5177\u4f53\u5b9e\u73b0\u7684\uff0c\u4e8e\u662f\u5c06\u63a5\u53e3\u548c\u7ed3\u6784\u4f53\u7ed3\u5408\u8d77\u6765\uff0c\u5b9e\u73b0\u62bd\u8c61\u7c7b\u3002</p> <p>\u62bd\u8c61\u7c7b\u5206\u4e24\u79cd\u60c5\u51b5\uff1a\u5177\u6709\u9ed8\u8ba4\u884c\u4e3a\u7684\u62bd\u8c61\u65b9\u6cd5\u4f7f\u7528\u5230 <code>this</code> \u7684 \u548c \u6ca1\u4f7f\u7528\u5230\u7684\u3002</p>"},{"location":"Go/nil/Golang-nil-9-%E5%AE%9E%E7%8E%B0%E6%8A%BD%E8%B1%A1%E7%B1%BB/#this","title":"\u6ca1\u4f7f\u7528\u5230 this \u7684\u60c5\u51b5","text":"<pre><code>// \u5b9a\u4e49\u62bd\u8c61\u7c7b\ntype IAbsClass interface {  // \u4f7f\u7528\u63a5\u53e3\u5b9a\u4e49\u62bd\u8c61\u884c\u4e3a\n    abs()                   // \u62bd\u8c61\u65b9\u6cd5\uff0c\u9700\u8981\u5b50\u7c7b\u5b9e\u73b0\n}\n\ntype AbsClass struct {}             // \u5b9a\u4e49\u62bd\u8c61\u7c7b\u7ed3\u6784\u4f53\nfunc (this AbsClass) common()  {    // \u5177\u6709\u9ed8\u8ba4\u884c\u4e3a\u7684\u62bd\u8c61\u65b9\u6cd5\uff0c\u6ca1\u4f7f\u7528\u5230 this\n    fmt.Println(\"AbsClass common()\")\n}\n\n// --------------------------- \u5206\u5272\u7ebf -----------------------------\n// \u5b50\u7c7b1\u7ee7\u627f\u62bd\u8c61\u7c7b\ntype SubClass1 struct {\n    AbsClass\n    name string\n}\nfunc (this SubClass1) abs() {               // \u5b50\u7c7b\u5b9e\u73b0\u62bd\u8c61\u65b9\u6cd5\n    fmt.Println(\"SubClass1 implement abs().\")\n}\nfunc NewSubClass1(name string) *SubClass1 { // \u5b50\u7c7b\u6784\u9020\u65b9\u6cd5\n    s := new(SubClass1)\n    s.name = name\n    return s\n}\n\n// \u5b50\u7c7b2\u7ee7\u627f\u62bd\u8c61\u7c7b\ntype SubClass2 struct {\n    AbsClass\n    name string\n}\nfunc (this SubClass2) abs() {       // \u5b50\u7c7b\u5b9e\u73b0\u62bd\u8c61\u65b9\u6cd5\n    fmt.Println(\"SubClass2 implement abs().\")\n}\nfunc (this SubClass2) common() {    // \u5b50\u7c7b\u91cd\u5199\u62bd\u8c61\u65b9\u6cd5\n    fmt.Println(\"SubClass2 overwrite common().\")\n}\nfunc NewSubClass2(name string) *SubClass2 { // \u5b50\u7c7b\u6784\u9020\u65b9\u6cd5\n    s := new(SubClass)\n    s.name = name\n    return s\n}\n</code></pre> <p>\u901a\u8fc7\u63a5\u53e3 <code>IAbsClass</code> \u5b9a\u4e49\u62bd\u8c61\u65b9\u6cd5 <code>abs()</code>\uff0c\u7136\u540e\u5b9a\u4e49\u4e00\u4e2a\u914d\u5bf9\u7684\u7ed3\u6784\u4f53 <code>AbsClass</code>\uff0c\u7ed3\u6784\u4f53\u5b9e\u73b0\u90a3\u4e9b\u5177\u6709\u9ed8\u8ba4\u884c\u4e3a\u7684\u62bd\u8c61\u65b9\u6cd5 <code>common()</code>\u3002</p> <p>\u7136\u540e\u5b50\u7c7b <code>SubClass1</code> \u548c <code>SubClass2</code> \u7ee7\u627f\u62bd\u8c61\u7c7b\uff0c\u4e5f\u5c31\u662f\u5d4c\u5165\u533f\u540d\u5b57\u6bb5 <code>AbsClass</code>\uff0c\u7136\u540e\u81ea\u5df1\u5b9e\u73b0\u62bd\u8c61\u65b9\u6cd5 <code>abs()</code> \u3002</p> <p>\u800c\u4e14 <code>SubClass2</code> \u8fd8\u5bf9\u6709\u9ed8\u8ba4\u884c\u4e3a\u7684 <code>common()</code> \u4e0d\u6ee1\u610f\uff0c\u81ea\u5df1\u8fdb\u884c\u4e86\u91cd\u5199\u3002</p> <p>\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>func main() {\n    sub1 := NewSubClass1(\"Boii\")\n    sub2 := NewSubClass2(\"Eva\")\n\n    sub1.abs()      // \"SubClass1 implement abs().\"\n    sub2.abs()      // \"SubClass2 implement abs().\"\n\n    sub1.common()   // \"AbsClass common()\"\n    sub2.common()   // \"SubClass2 overwrite common().\"\n}\n</code></pre> <p>\u56e0\u4e3a <code>SubClass2</code> \u5bf9\u5177\u6709\u9ed8\u8ba4\u884c\u4e3a\u7684\u62bd\u8c61\u65b9\u6cd5 <code>common()</code> \u8fdb\u884c\u4e86\u91cd\u5199\uff0c\u6240\u4ee5\u8c03\u7528\u65f6\u8c03\u7684\u662f\u91cd\u5199\u7684\u65b9\u6cd5\u3002</p>"},{"location":"Go/nil/Golang-nil-9-%E5%AE%9E%E7%8E%B0%E6%8A%BD%E8%B1%A1%E7%B1%BB/#this_1","title":"\u4f7f\u7528\u5230 this \u7684\u60c5\u51b5","text":"<p>Golang \u4e2d\u672c\u8eab\u5e76\u4e0d\u662f\u660e\u786e\u652f\u6301\u7ee7\u627f\uff0c\u6240\u4ee5\u5982\u679c\u6211\u4eec\u4e3a\u62bd\u8c61\u65b9\u6cd5\u5b9a\u4e49\u9ed8\u8ba4\u884c\u4e3a\u662f\u9700\u8981\u4f7f\u7528\u5230 this \u7684\u8bdd\uff0cGolang \u4e0d\u4f1a\u505a\u81ea\u52a8\u8f6c\u6362\uff0c\u5b83\u4f1a\u8ba4\u4e3a\u8fd9\u4e2a this \u5c31\u662f <code>AbsClass</code> \u672c\u8eab\uff0c\u800c\u4e0d\u662f <code>SubClass1</code> \u6216 <code>SubClass2</code>\u3002</p> <p>\u57fa\u4e8e\u8fd9\u79cd\u60c5\u51b5\uff0c\u6211\u4eec\u9700\u8981 3 \u6b65\uff1a</p> <ol> <li>\u5728 <code>AbsClass</code> \u4e2d\u52a0\u5165\u4e00\u4e2a\u63a5\u53e3\u5b57\u6bb5 <code>i IAbsClass</code></li> <li>\u5728\u4f7f\u7528 this \u7684\u65f6\u5019\u6362\u6210 <code>this.i</code></li> <li>\u7531\u4e8e i \u662f\u4e2a\u63a5\u53e3\u7c7b\u578b\uff0c\u5b50\u7c7b <code>SubClass1\u3001SubClass2</code> \u5728\u5b9e\u4f8b\u5316\u65f6\u5f97\u5c06\u81ea\u5df1\u6ce8\u518c\u8fdb\u53bb\u3002</li> </ol> <pre><code>// \u62bd\u8c61\u7c7b\ntype IAbsClass interface {\n    abs()\n}\n\ntype AbsClass struct {\n    i IAbsClass // == \u589e\u52a0\u4e00\u4e2a\u63a5\u53e3\u5b57\u6bb5 == \n}\n\nfunc (this AbsClass) common1() {    // \u5177\u6709\u9ed8\u8ba4\u884c\u4e3a\u7684\u62bd\u8c61\u65b9\u6cd5\uff0c\u6ca1\u4f7f\u7528\u5230 this\n    fmt.Println(\"AbsClass common()\")\n}\nfunc (this AbsClass) common2() {    // \u5177\u6709\u9ed8\u8ba4\u884c\u4e3a\u7684\u62bd\u8c61\u65b9\u6cd5\uff0c\u4f7f\u7528\u5230\u4e86 this\n    this.i.abs()    // == \u4e0d\u80fd\u76f4\u63a5 this\uff0c\u8981\u7528 this.i ==\n}\n\n// --------------------------- \u5206\u5272\u7ebf -----------------------------\n// \u5b50\u7c7b1\u7ee7\u627f\u62bd\u8c61\u7c7b\ntype SubClass1 struct {\n    AbsClass\n    name string\n}\nfunc (this SubClass1) abs() {   // \u5b50\u7c7b\u5b9e\u73b0\u62bd\u8c61\u65b9\u6cd5\n    fmt.Println(\"SubClass1 implement abs().\")\n}\nfunc NewSubClass1(name string) *SubClass1 { // \u5b50\u7c7b\u6784\u9020\u65b9\u6cd5\n    s := new(SubClass1)\n    s.AbsClass.i = s    // == \u5c06\u81ea\u5df1\u6ce8\u518c\u8fdb\u53bb ==\n    s.name = name\n    return s\n}\n\n// \u5b50\u7c7b2\u7ee7\u627f\u62bd\u8c61\u7c7b\ntype SubClass2 struct {\n    AbsClass\n    name string\n}\nfunc (this SubClass2) abs() {// \u5b50\u7c7b\u5b9e\u73b0\u62bd\u8c61\u65b9\u6cd5\n    fmt.Println(\"SubClass2 implement abs().\")\n}\nfunc NewSubClass2(name string) *SubClass2 { // \u5b50\u7c7b\u6784\u9020\u65b9\u6cd5\n    s := new(SubClass)\n    s.name = name\n    s.AbsClass.i = s    // == \u5c06\u81ea\u5df1\u6ce8\u518c\u8fdb\u53bb ==\n    return s\n}\n</code></pre> <p>\u8fd9\u6837\u901a\u8fc7\u5b50\u7c7b <code>SubClass1\u3001SubClass2</code> \u8c03\u7528 <code>common()</code> \u65f6\u624d\u80fd\u6b63\u786e\u7684\u6267\u884c\u3002</p> <pre><code>func main() {\n    sub1 := NewSubClass1(\"Boii\")\n    sub2 := NewSubClass2(\"Eva\")\n\n    sub1.common2()  // \"SubClass1 implement abs().\"\n    sub2.common2()  // \"SubClass2 implement abs().\"\n}\n</code></pre>"},{"location":"Go/nil/Golang-nil-9-%E5%AE%9E%E7%8E%B0%E6%8A%BD%E8%B1%A1%E7%B1%BB/#_9","title":"\u603b\u7ed3","text":"<p>\u901a\u8fc7\u6709\u65e0\u8fd9\u79cd\u884c\u4e3a\u53bb\u5b9a\u6027\u4e00\u4e2a\u7c7b\uff0c\u800c\u4e0d\u662f\u901a\u8fc7\u5982\u4f55\u5b9e\u73b0\u8fd9\u79cd\u884c\u4e3a\u53bb\u5b9a\u6027\uff0c\u8fd9\u5c31\u662f\u9762\u5411\u63a5\u53e3\u7f16\u7a0b\u3002</p> <p>\u5c06\u4e00\u4e9b\u884c\u4e3a\u805a\u5408\u5728\u4e00\u8d77\uff0c\u4e0d\u5b9e\u73b0\u5b83\u4eec\uff0c\u5c31\u662f\u4e00\u4e2a\u63a5\u53e3\u3002\u5982\u679c\u8981\u7ed9\u8fd9\u4e9b\u884c\u4e3a\u4e00\u4e2a\u9ed8\u8ba4\u884c\u4e3a\uff0c\u90a3\u5c31\u7528\u62bd\u8c61\u7c7b\u3002</p> <p>Java \u4e2d\u7684\u62bd\u8c61\u7c7b\u548c\u63a5\u53e3\u90fd\u652f\u6301\u6210\u5458\u53d8\u91cf\uff0c\u4f46\u5728 Golang \u4e2d\u5b9e\u73b0\u62bd\u8c61\u7c7b\u65f6\uff0c\u65e0\u6cd5\u517c\u987e\u6210\u5458\u53d8\u91cf\uff0c\u56e0\u4e3a\u63a5\u53e3\u4e0d\u53ef\u4ee5\u6709\u53d8\u91cf\u3002\u867d\u7136\u53ef\u4ee5\u628a\u62bd\u8c61\u7c7b\u7684\u6210\u5458\u53d8\u91cf\u653e\u5728\u62bd\u8c61\u7c7b\u7ed3\u6784\u4f53\u4e2d\uff0c\u4e5f\u53ef\u4ee5\u5728\u5b50\u7c7b\u4e2d\u8bbf\u95ee\u5230\uff0c\u4f46\u662f\u65e0\u6cd5\u505a\u5230\u6cdb\u5316\uff1a</p> <pre><code>func test(ia IAstClass) {\n    fmt.Println(ia.name)    // \u7f16\u8bd1\u5931\u8d25\uff0c\u63a5\u53e3\u4e2d\u6ca1\u6709\u53d8\u91cf\n}\n\nfunc test(a AstClass) {\n    fmt.Println(a.name)     // \u7f16\u8bd1\u5931\u8d25\uff0c\u65e0\u6cd5\u5c06\u5b50\u7c7b\u4f20\u8fdb\u6765 test(sub1)\n}\n\nfunc test(ia IAstClass) {\n    fmt.Println(ia.(AstClass).name) // \u7f16\u8bd1\u5931\u8d25\uff0ctest(sub1) \u4f1a\u62a5\u9519\u8bf4\u65ad\u8a00\u5931\u8d25\n}\n</code></pre> <p>\u5f53\u7136\u53ef\u4ee5\u5728\u62bd\u8c61\u7c7b\u63a5\u53e3\u4e2d\uff0c\u4e3a\u62bd\u8c61\u7c7b\u7ed3\u6784\u4f53\u589e\u52a0 getter\u3001setter \u65b9\u6cd5\uff0c\u7136\u540e\u62bd\u8c61\u7c7b\u7ed3\u6784\u4f53\u5b9e\u73b0 getter\u3001setter \u65b9\u6cd5\uff0c\u4f46\u5176\u5b9e\u4e5f\u4e0d\u662f\u597d\u3002</p> <pre><code>// \u62bd\u8c61\u7c7b\ntype IAbsClass interface {\n    abs()\n    getAbsName() string\n}\n\ntype AbsClass struct {\n    i IAbsClass // == \u589e\u52a0\u4e00\u4e2a\u63a5\u53e3\u5b57\u6bb5 == \n    absName string\n}\n\nfunc (a AbsClass) getAbsName() string {\n    return a.absName\n}\n\n// --------------------------- \u5206\u5272\u7ebf -----------------------------\n\nfunc test(ia IAstClass) {\n    fmt.Println(ia.getAstName())\n}\n</code></pre> <p>\u5c5e\u6027\u591a\u4e86\u53ef\u4ee5\u5c06\u6240\u6709\u7684 getter\u3001setter \u653e\u5728\u4e00\u4e2a\u63a5\u53e3 <code>IGetAstAttr</code> \u4e2d\uff0c\u7136\u540e <code>IAstClass</code> \u4e2d\u5d4c\u5165\u8fd9\u4e2a <code>IGetAstAttr</code>\uff0c\u6216\u8005\u66f4\u8fdb\u4e00\u6b65\u4f7f\u7528\u9009\u9879\u8bbe\u8ba1\u6a21\u5f0f\u7ba1\u7406\u6240\u6709 getter\u3001setter\u3002</p> <pre><code>// \u62bd\u8c61\u7c7b\ntype IAbsClass interface {\n    IGetAstAttr\n    abs()\n}\n\ntype IGetAstAttr interface {\n    getAbsName()  string\n    getAbsAge()   int\n    getAbsEmail() string\n\n    setAbsName()  string\n    setAbsAge()   int\n    setAbsEmail() string\n}\n\ntype AbsClass struct {\n    i IAbsClass // == \u589e\u52a0\u4e00\u4e2a\u63a5\u53e3\u5b57\u6bb5 == \n    // \u62bd\u8c61\u7c7b\u7684\u6210\u5458\u53d8\u91cf\n    absName  string\n    absAge   int\n    absEmail string\n}\n\nfunc (a AbsClass) getAbsName() string {\n    return a.absName\n}\n\n// --------------------------- \u5206\u5272\u7ebf -----------------------------\n\nfunc test(ia IAstClass) {\n    fmt.Println(ia.getAstName())\n}\n</code></pre> <p>\u4f46\u662f\u6211\u603b\u89c9\u5f97\u8fd9\u6837\u8fdd\u80cc\u4e86 Golang \u7684\u8bbe\u8ba1\u54f2\u5b66\u3002\u6211\u4e5f\u4e0d\u559c\u6b22\u8fd9\u79cd\u8131\u79bb\u672c\u8d28\u7684\u4e1c\u897f\u3002\u5982\u679c\u5df2\u7ecf\u5230\u4e86\u8fd9\u79cd\u7a0b\u5ea6\uff0c\u5012\u4e0d\u5982\u91cd\u65b0\u8bbe\u8ba1\uff0c\u770b\u770b\u5982\u4f55\u901a\u8fc7\u7ec4\u5408\u66ff\u4ee3\u7ee7\u627f\u3002</p>"},{"location":"Go/nil/Golang-nil-%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/","title":"\u4ea4\u53c9\u7f16\u8bd1","text":""},{"location":"Go/nil/Golang-nil-%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/#_1","title":"\u4ea4\u53c9\u7f16\u8bd1","text":""},{"location":"Go/nil/Golang-nil-%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/#_2","title":"\u547d\u4ee4\u884c\u4ea4\u53c9\u7f16\u8bd1","text":"<p>Golang \u652f\u6301\u4ea4\u53c9\u7f16\u8bd1\uff0c\u53ef\u4ee5\u5728\u4e00\u4e2a\u5e73\u53f0\u4e0a\u751f\u6210\u53e6\u4e00\u4e2a\u5e73\u53f0\u7684\u53ef\u6267\u884c\u7a0b\u5e8f\u3002</p> MacLinuxWindows <p>Mac \u4e0b\u7f16\u8bd1 Linux \u548c Windows 64\u4f4d\u53ef\u6267\u884c\u7a0b\u5e8f</p> <pre><code>CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build main.go\nCGO_ENABLED=0 GOOS=windows GOARCH=amd64 go build main.go\n</code></pre> <p>Linux \u4e0b\u7f16\u8bd1 Mac \u548c Windows 64\u4f4d\u53ef\u6267\u884c\u7a0b\u5e8f</p> <pre><code>CGO_ENABLED=0 GOOS=darwin GOARCH=amd64 go build main.go\nCGO_ENABLED=0 GOOS=windows GOARCH=amd64 go build main.go\n</code></pre> <p>Windows \u4e0b\u7f16\u8bd1 Mac \u548c Linux 64\u4f4d\u53ef\u6267\u884c\u7a0b\u5e8f</p> <pre><code>SET CGO_ENABLED=0\nSET GOOS=darwin\nSET GOARCH=amd64\ngo build main.go\n\nSET CGO_ENABLED=0\nSET GOOS=linux\nSET GOARCH=amd64\ngo build main.go\n</code></pre> <p>\u4e0a\u9762\u7684\u547d\u4ee4\u7f16\u8bd1 64 \u4f4d\u53ef\u6267\u884c\u7a0b\u5e8f\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>GOARCH=386</code> \u7f16\u8bd1 32 \u4f4d\u53ef\u6267\u884c\u7a0b\u5e8f\u3002</p>"},{"location":"Go/nil/Golang-nil-%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/#_3","title":"\u6761\u4ef6\u7f16\u8bd1","text":"<p>Golang \u867d\u7136\u80fd\u8de8\u5e73\u53f0\u7f16\u8bd1\u4f46\u662f\u4e5f\u65e0\u6cd5\u5b8c\u5168\u89e3\u51b3\u5e73\u53f0\u4e4b\u95f4\u7684\u5dee\u5f02\uff0c\u4e0d\u8fc7 Golang \u80fd\u591f\u9009\u62e9\u6027\u7f16\u8bd1\u3002</p> <p>\u5f53\u6211\u4eec\u5199\u7684\u7a0b\u5e8f\u5728\u4e0d\u540c\u7684\u5e73\u53f0\u4e0a\u8c03\u7528\u7684\u4e1c\u897f\u4e0d\u540c\u65f6\uff0c\u6bd4\u5982\u7f16\u8bd1 Linux \u5e73\u53f0\u7684\u53ef\u6267\u884c\u6587\u4ef6\u7684\u65f6\u5019\u8981\u7f16\u8bd1\u8fd9\u4e2a\u6587\u4ef6\uff0c\u7f16\u8bd1 Windows \u5e73\u53f0\u7684\u53ef\u6267\u884c\u6587\u4ef6\u7684\u65f6\u5019\u8981\u7f16\u8bd1\u90a3\u4e2a\u6587\u4ef6\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\u5c31\u53ef\u4ee5\u4f7f\u7528\u9009\u62e9\u6027\u7f16\u8bd1\u3002</p> <p>\u9009\u62e9\u6027\u7f16\u8bd1\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a <code>\u7f16\u8bd1\u6ce8\u91ca\uff08\u6784\u5efa\u7ea6\u675f\uff09</code> \u548c <code>\u6587\u4ef6\u540e\u7f00</code>\u3002</p>"},{"location":"Go/nil/Golang-nil-%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/#_4","title":"\u7f16\u8bd1\u6ce8\u91ca\uff08\u6784\u5efa\u7ea6\u675f\uff09","text":"<p>\u7f16\u8bd1\u6ce8\u91ca\u957f\u8fd9\u6837\uff1a </p><pre><code>// +build darwin freebsd\n\n// sort package is used to sort.\npackage sort\n</code></pre> \u7b2c\u4e00\u884c\u5c31\u662f\u7f16\u8bd1\u6ce8\u91ca\uff0c\u6216\u8005\u53eb\u6784\u5efa\u7ea6\u675f\uff08build constraint\uff09\u3001\u6784\u5efa\u6807\u8bb0\uff08build tag\uff09\u3002 <p></p> <p>\u683c\u5f0f\u4e3a\uff1a </p><pre><code>// +build [$GOOS] [$GOARCH]\n</code></pre><p></p> <p>\u8fd9\u662f Go \u4e00\u5f00\u59cb\u5c31\u6709\u7684\u7279\u6027\uff0c\u5728 Go \u6e90\u7801\u4e2d\u6709\u5f88\u591a\u8fd9\u6837\u7684\u6ce8\u91ca\u884c\u3002\u4e0a\u9762\u6ce8\u91ca\u884c\u7684\u610f\u601d\uff0c\u8fd9\u4e2a\u6587\u4ef6\u53ea\u5728 darwin \u7cfb\u7edf\u6216 freebsd \u7cfb\u7edf\u4e0b\u4f1a\u5305\u542b\u5728\u5305\u4e2d\uff0c\u5176\u4ed6\u7cfb\u7edf\u4f1a\u5ffd\u7565\u8fd9\u4e2a\u6587\u4ef6\u3002</p> <p>\u5b83\u9700\u8981\u9075\u5faa\u4ee5\u4e0b\u51e0\u70b9\uff1a</p> <ol> <li>\u5fc5\u987b\u5728\u6587\u4ef6\u9876\u90e8\u9644\u8fd1\uff0c\u5b83\u7684\u524d\u9762\u53ea\u80fd\u6709\u7a7a\u884c\u6216\u5176\u4ed6\u6ce8\u91ca\u884c\uff1b\u53ef\u89c1\u5305\u5b50\u53e5\u4e5f\u5728\u7ea6\u675f\u4e4b\u540e</li> <li>\u7ea6\u675f\u53ef\u4ee5\u51fa\u73b0\u5728\u4efb\u4f55\u6e90\u6587\u4ef6\u4e2d\uff0c\u6bd4\u5982 <code>.go</code>\u3001<code>.s</code> \u7b49</li> <li>\u7ea6\u675f\u53ef\u4ee5\u6709\u591a\u884c</li> <li>\u4e3a\u4e86\u533a\u522b\u7ea6\u675f\u548c\u5305\u6587\u6863\uff0c\u5728\u7ea6\u675f\u4e4b\u540e\u5fc5\u987b\u6709\u7a7a\u884c</li> <li><code>//</code> \u540e\u9762\u5fc5\u987b\u7559\u4e00\u4e2a\u7a7a\u683c</li> <li><code>+build</code> \u662f\u5173\u952e\u5b57\uff0c\u58f0\u660e\u8fd9\u662f\u4e00\u4e2a\u7f16\u8bd1\u6ce8\u91ca</li> <li>\u903b\u8f91\u5173\u7cfb:<ul> <li><code>!</code>: \u975e\uff08\u611f\u53f9\u53f7\uff09</li> <li><code>,</code>: \u4e0e\uff08\u9017\u53f7\uff09</li> <li><code></code>: \u6216\uff08\u7a7a\u683c\uff09</li> </ul> </li> <li>$GOOS \u53d6\u503c\uff1a<ul> <li>darwin</li> <li>dragonfly</li> <li>freebsd</li> <li>linux</li> <li>netbsd</li> <li>openbsd</li> <li>plan9</li> <li>solaris</li> <li>windows</li> </ul> </li> <li>$GOARCH \u53d6\u503c\uff1a<ul> <li>386</li> <li>amd64</li> <li>arm</li> </ul> </li> </ol> <p>GOOS \u548c GOARCH \u7684\u53d6\u503c\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4 <code>go tool dist list</code> \u67e5\u770b</p> <p>Example</p> <pre><code>// +build A,B !C,D \n\n\u4ee3\u8868\u7f16\u8bd1\u6b64\u6587\u4ef6\u9700\u7b26\u5408 (A\u4e14B) \u6216 ((\u975eC)\u4e14D) \u3002\n</code></pre> <pre><code>// +build !windows,arm\n\u4ee3\u8868\u6b64\u6587\u4ef6\u5728 \u7cfb\u7edf\u4e0d\u662fwindows\uff0c\u5e76\u4e14\u5904\u7406\u5668\u67b6\u6784\u662farm\u65f6\u7f16\u8bd1\n</code></pre>"},{"location":"Go/nil/Golang-nil-%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/#_5","title":"\u6587\u4ef6\u540e\u7f00","text":"<p>\u901a\u8fc7\u5728\u6587\u4ef6\u540d\u540e\u52a0\u4e0a <code>_$GOOS.go</code> \u7684\u65b9\u5f0f\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u6761\u4ef6\u7f16\u8bd1\u3002</p> <p>\u540e\u7f00\u67093\u79cd\u5f62\u5f0f\uff1a</p> <ol> <li><code>_$GOOS.go</code></li> <li><code>_$GOARCH.go</code></li> <li><code>_$GOOS_$GOARCH.go</code></li> </ol> <p>Example</p> <pre><code>color_windows.go    // \u8be5\u6587\u4ef6\u4ec5\u5728\u7f16\u8bd1 windows \u53ef\u6267\u884c\u6587\u4ef6\u65f6\u7f16\u8bd1\ncolor_linux.go      // \u8be5\u6587\u4ef6\u4ec5\u5728\u7f16\u8bd1 linux \u53ef\u6267\u884c\u6587\u4ef6\u65f6\u7f16\u8bd1\ncolor_darwin.go     // \u8be5\u6587\u4ef6\u4ec5\u5728\u7f16\u8bd1 darwin \u53ef\u6267\u884c\u6587\u4ef6\u65f6\u7f16\u8bd1\ncolor_linux_arm.go  // \u8be5\u6587\u4ef6\u4ec5\u5728\u7f16\u8bd1 linux \u53ef\u6267\u884c\u6587\u4ef6\u65f6\uff0c\u4e14\u5904\u7406\u5668\u67b6\u6784\u4e3a arm \u65f6\u7f16\u8bd1\n</code></pre>"},{"location":"Go/nil/Golang-nil-%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/#_6","title":"\u5982\u4f55\u9009\u62e9","text":"<p>\u5982\u679c\u662f\u6392\u9664\u67d0\u4e00\u4e24\u4e2a\u5e73\u53f0\u7684\u60c5\u51b5 \u5982\u679c\u662f\u5728\u5f88\u591a\u4e2a\u5e73\u53f0\u90fd\u53ef\u7528\u7684\u60c5\u51b5 \u5219\u4f7f\u7528 <code>\u7f16\u8bd1\u6ce8\u91ca</code></p> <p>\u5982\u679c\u662f\u6307\u5b9a\u67d0\u4e00\u4e2a\u5e73\u53f0\u7684\u60c5\u51b5 \u5982\u679c\u662f\u6307\u5b9a\u67d0\u4e00\u79cd\u67b6\u6784\u7684\u60c5\u51b5 \u5219\u4f7f\u7528 <code>\u6587\u4ef6\u540e\u7f00</code></p>"},{"location":"Go/nil/Golang-nil-%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/#_7","title":"\u5176\u4ed6\u6587\u4ef6\u540d","text":"<p>\u4ee5 <code>\u4e0b\u5212\u7ebf</code> \u6216 <code>\u70b9</code> \u5f00\u5934\u7684\u6587\u4ef6\u4e0d\u4f1a\u88ab\u7f16\u8bd1\u3002 </p><pre><code>_file.cfg\n.set.vm\n</code></pre> \u8fd9\u4e24\u4e2a\u6587\u4ef6\u5728\u7f16\u8bd1\u65f6\u4e0d\u4f1a\u88ab\u7f16\u8bd1\u3002<p></p>"},{"location":"Go/nil/Golang-nil-%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/#_8","title":"\u65b0\u7248\u6784\u5efa\u7ea6\u675f","text":"<p>\u81ea Go1.17 \u5f00\u59cb\uff0cGolang \u8c03\u6574\u4e86\u6784\u5efa\u7ea6\u675f\uff0c\u4e5f\u5c31\u662f\u7f16\u8bd1\u6ce8\u91ca\u3002</p> <pre><code>//go:build [$GOOS] [$GOARCH]\n</code></pre>"},{"location":"Go/nil/Golang-nil-%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/#_9","title":"\u5bf9\u6bd4","text":"<p>\u65e7\u7248\uff1a</p> <pre><code>// +build linux,amd64\n</code></pre> <p>\u65b0\u7248\uff1a</p> <pre><code>//go:build linux &amp;&amp; amd64\n</code></pre> <p>\u4e3b\u8981\u6539\u53d8\uff1a</p> <ol> <li> <p><code>// +build</code> \u6539\u6210 <code>//go:build</code>\uff0c\u53cc\u659c\u6760\u540e \ud83d\udeab \u6ca1\u6709 \u7a7a\u683c\uff01\uff01</p> </li> <li> <p>\u4e00\u4e2a\u6587\u4ef6\u53ea\u80fd\u6709\u4e00\u884c\u6784\u5efa\u8bed\u53e5\u3002\uff08\u65e7\u7248\u53ef\u4ee5\u591a\u884c\uff09</p> </li> <li> <p>gofmt \u5de5\u5177\u4f1a\u81ea\u52a8\u6839\u636e\u65e7\u7248\u8bed\u6cd5\u751f\u6210\u5bf9\u5e94\u7684\u65b0\u7248\u8bed\u6cd5\uff0c\u5e76\u4e14\u4e3a\u4e86\u517c\u5bb9\u4e24\u8005\u90fd\u4fdd\u7559\uff0c\u65b0\u7248\u5728\u652f\u6301\u7684\u73af\u5883\u4e0b\u4f1a\u8986\u76d6\u65e7\u7248\u3002</p> <pre><code>// +build !freebsd, !plan9\n</code></pre> <p>gofmt \u540e\uff1a</p> <pre><code>//go:build !freebsd &amp;&amp; !plan9\n// +build !freebsd, !plan9\n</code></pre> </li> </ol>"},{"location":"Go/nil/Golang-nil-%E9%80%89%E9%A1%B9%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/","title":"\u9009\u9879\u8bbe\u8ba1\u6a21\u5f0f","text":""},{"location":"Go/nil/Golang-nil-%E9%80%89%E9%A1%B9%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/#_1","title":"\u9009\u9879\u8bbe\u8ba1\u6a21\u5f0f","text":"<p>\u5728\u7f16\u5199\u7a0b\u5e8f\u65f6\uff0c\u7ecf\u5e38\u4f1a\u9047\u5230\u8fd9\u6837\u4e00\u7c7b\u573a\u666f\uff1a</p> <p>\u5b9a\u4e49\u4e00\u4e2a\u5305\u5185\u53ef\u89c1\u7684\u7ed3\u6784\u4f53\uff0c\u5bf9\u5916\u63d0\u4f9b\u4e00\u4e2a <code>NewSTRUCT()</code> \u65b9\u6cd5\u6765\u521b\u5efa\u3002 \u800c\u521b\u5efa\u65f6\u8981\u6c42\u4f7f\u7528\u8005\u7ed9\u51fa\u7ed3\u6784\u4f53\u53d8\u91cf\u7684\u503c\u4f5c\u4e3a\u53c2\u6570\u3002\u5f53\u7ed3\u6784\u4f53\u53d8\u91cf\u5f88\u591a\u7684\u65f6\u5019\uff0c\u4f1a\u5199\u51fa\u4e00\u5806\u5f88\u4e11\u5f88\u53ef\u6015\u7684\u4ee3\u7801\u3002\u4f8b\u5982\uff1a</p> <pre><code>type student struct {\n    name   string   // *\u5fc5\u586b\n    age    int      // *\u5fc5\u586b\n    height int      // \u9009\u586b\n    weight int      // \u9009\u586b \n    score  float32  // \u9009\u586b\n}\n\nfunc NewStudent (name string, age int) *student {\n    return &amp;student{name: name, age: age}\n}\n\nfunc NewStudentWithHight (name string, age, height int) *student {\n    return &amp;student{name: name, age: age, height: height}\n}\n\nfunc NewStudentWithWeight (name string, age, weight int) *student {\n    return &amp;student{name: name, age: age, weight: weight}\n}\n\nfunc NewStudentWithScore (name string, age int, score float32) *student {\n    return &amp;student{name: name, age: age, score: score}\n}\n\nfunc NewStudentWithHightAndWeight(name string, age, height, weight int) *student {\n    return &amp;student{name: name, age: age, height: height, weight: weight}\n}\n...\n</code></pre> <p>\u8fd9\u6837\u7684\u4ee3\u7801\u771f\u7684\u2026 \u53c8\u81ed\u53c8\u957f\u3002</p> <p>\u56e0\u4e3a Golang \u4e0d\u652f\u6301\u51fd\u6570\u91cd\u8f7d\uff0c\u6240\u4ee5\u4f60\u4e0d\u5f97\u4e0d\u4f7f\u7528\u4e0d\u540c\u7684\u51fd\u6570\u540d\u6765\u5bf9\u5e94\u4e0d\u540c\u7684\u914d\u7f6e\u9009\u9879\u3002</p> <p>\u89e3\u51b3\u65b9\u6cd5\u6709\u4e24\u79cd\uff1a<code>Builder \u6a21\u5f0f</code> \u548c <code>Function Option \u6a21\u5f0f</code></p>"},{"location":"Go/nil/Golang-nil-%E9%80%89%E9%A1%B9%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/#builder","title":"Builder \u6a21\u5f0f","text":"<p>Builder \u6a21\u5f0f\u53c8\u79f0\u751f\u6210\u5668\u6a21\u5f0f\uff0c\u901a\u8fc7\u4e3a\u76ee\u6807\u7ed3\u6784\u4f53\u591a\u521b\u5efa\u4e00\u4e2a Builder \u7ed3\u6784\u4f53 \u6765\u8d1f\u8d23\u521b\u5efa student \u8fd9\u4ef6\u4e8b\uff0c\u4e00\u822c\u4ee5<code>\u76ee\u6807\u7ed3\u6784\u4f53\u7684\u540d\u79f0 + Builder</code> \u547d\u540d\u3002</p> <p>\u4f7f\u7528 Builder \u6a21\u5f0f\u7684\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <ol> <li>\u5b9a\u4e49\u4e00\u4e2a Builder \u7ed3\u6784\u4f53\uff0c\u5e76\u5728\u7ed3\u6784\u4f53\u4e2d\u643a\u5e26\u4e00\u4e2a\u76ee\u6807\u7ed3\u6784\u4f53\u7684\u6307\u9488</li> <li>\u5e76\u5728\u6784\u9020 Builder \u7684\u51fd\u6570\u91cc\u8981\u6c42\u4e00\u4e9b \u5fc5\u586b \u7684\u53c2\u6570\uff0c\u7136\u540e\u8fd4\u56de\u4e00\u4e2a Builder \u5bf9\u8c61</li> <li>\u9010\u4e00\u4e3a\u76ee\u6807\u7ed3\u6784\u4f53\u7684 \u9009\u586b \u53c2\u6570\u5b9a\u4e49\u5c5e\u4e8e Builder \u7ed3\u6784\u4f53\u7684\u65b9\u6cd5\uff0c\u6ce8\u610f\u8fd9\u4e9b\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u53ea\u80fd\u662f Builder\u7ed3\u6784\u4f53\uff0c\u8fd9\u6837\u624d\u53ef\u4ee5\u94fe\u5f0f\u8c03\u7528</li> <li>\u6700\u540e\u7f16\u5199 Builder \u7ed3\u6784\u4f53\u7684 <code>Build()</code> \u65b9\u6cd5\uff0c\u8fd4\u56de\u76ee\u6807\u7ed3\u6784\u4f53</li> </ol> <pre><code>// \u76ee\u6807\u7ed3\u6784\u4f53\uff1astudent\ntype student struct {\n    name   string   // *\u5fc5\u586b\n    age    int      // *\u5fc5\u586b\n    height int      // \u9009\u586b\n    weight int      // \u9009\u586b \n    score  float32  // \u9009\u586b\n}\n\n// \u76ee\u6807\u7ed3\u6784\u4f53\u7684 builder\uff1astudentBuilder\ntype studentBuilder struct {\n    stu *student    // \u643a\u5e26\u4e00\u4e2a\u76ee\u6807\u7ed3\u6784\u4f53 student \u7684\u6307\u9488\n}\n\n// \u5b66\u751f builder \u7684\u521b\u5efa\u65b9\u6cd5\uff0c\u8981\u6c42\u8f93\u5165\u5fc5\u586b\u9879\nfunc NewStudentBuilder (name string, age int) *studentBuilder{\n    s := student{name: name, age: age}\n    return &amp;studentBuilder{stu: &amp;s}\n}\n\n// \u5176\u4ed6\u9009\u586b\u9879\uff0c\u91cd\u70b9\u5728\u4e8e\u8fd9\u662f builder \u7684\u65b9\u6cd5\uff0c\u8fd4\u56de\u503c\u662f builder \u81ea\u5df1\uff0c\u8fd9\u6837\u624d\u53ef\u4ee5\u94fe\u5f0f\u8c03\u7528\nfunc (b *studentBuilder) Height (h int) *studentBuilder {\n    b.stu.height = h\n    return b\n}\n\nfunc (b *studentBuilder) Weight (w int) *studentBuilder {\n    b.stu.weight = w\n    return b\n}\n\nfunc (b *studentBuilder) Score (s float32) *studentBuilder {\n    b.stu.score = s\n    return b\n}\n\n// \u6700\u91cd\u8981\u7684\u4e00\u6b65\uff1a\u901a\u8fc7 Build \u65b9\u6cd5\u628a student \u7ed3\u6784\u4f53\u8fd4\u56de\u51fa\u53bb\nfunc (b *studentBuilder) Build () *student {\n    return b.stu\n}\n\n// \u628a student \u7684\u6784\u5efa\u51fd\u6570\u4e5f\u4ee3\u7406\u8fc7\u6765\uff0c\u8fd9\u4e00\u6b65\u53ef\u9009\u53ef\u4e0d\u9009\nfunc NewStudent(name string, age int) *studentBuilder {\n    s := student{name: name, age: age}\n    return &amp;studentBuilder{stu: &amp;s}\n}\n</code></pre> <p>\u8fd9\u6837\u5728\u521b\u5efa student \u7684\u65f6\u5019\u53ef\u4ee5\u8fd9\u6837\u8c03\u7528\uff1a</p> <pre><code>func main() {\n    s1 := NewStudentBuilder(\"Boii\", 18).Height(180).Weight(150).Score(100.0).Build()\n    // \u6216\u8005\n    s2 := NewStudent(\"Boii\", 18).Height(180).Weight(150).Score(100.0).Build()\n}\n</code></pre> <p>\u7b80\u6d01\u6e05\u6670\uff01</p>"},{"location":"Go/nil/Golang-nil-%E9%80%89%E9%A1%B9%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/#function-option","title":"Function Option \u6a21\u5f0f","text":"<p>\u4e0a\u9762\u7684 Builder \u6a21\u5f0f\u5176\u5b9e\u662f\u8bbe\u8ba1\u6a21\u5f0f\u4e2d\u7684\u4e00\u79cd\u521b\u5efa\u578b\u6a21\u5f0f\uff0c\u5728 Java \u4e2d\u53ef\u4ee5\u4f7f\u7528\u5185\u90e8\u7c7b\u628a Builder \u5d4c\u5728\u76ee\u6807\u7c7b\u4e2d\uff0c\u4f46\u662f\u5728 Golang \u5c31\u5f97\u591a\u641e\u51fa\u4e00\u4e2a\u7ed3\u6784\u4f53\u3002\u4f46\u662f\u4f7f\u7528 Function Option \u6a21\u5f0f\u5219\u4e0d\u9700\u8981\u591a\u4f59\u7684\u7ed3\u6784\u4f53\uff0c\u8fd8\u53ef\u4ee5\u53d1\u6325\u51fd\u6570\u5f0f\u7f16\u7a0b\u7684\u4f18\u70b9\u3002</p> <p>\u4f7f\u7528 Function Option \u6a21\u5f0f\u7684\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <ol> <li>\u81ea\u5b9a\u4e49\u4e00\u4e2a Option \u7c7b\u578b\uff0c\u4ee5\u4e00\u4e2a\u51fd\u6570\u4e3a\u57fa\u7840\uff0c\u8be5\u51fd\u6570\u63a5\u6536\u4e00\u4e2a\u76ee\u6807\u7ed3\u6784\u4f53\u6307\u9488\u4e3a\u53c2\u6570</li> <li>\u9010\u4e00\u4e3a\u76ee\u6807\u7ed3\u6784\u4f53\u7684\u6bcf\u4e00\u4e2a\u53d8\u91cf\u5b9a\u4e49\u4e00\u4e2a\u9009\u9879\u51fd\u6570\uff0c\u63a5\u6536\u53d8\u91cf\u7684\u503c\uff0c\u8fd4\u56de Option \u7c7b\u578b\uff1b\u5728\u8fd4\u56de\u7684 Option \u4e2d\u5c06\u53d8\u91cf\u7684\u503c\u8d4b\u7ed9\u76ee\u6807\u7ed3\u6784\u4f53</li> <li>\u5b9a\u4e49\u76ee\u6807\u7ed3\u6784\u4f53\u7684\u6784\u9020\u51fd\u6570\uff0c\u5728\u6784\u9020\u51fd\u6570\u4e2d\uff1a<ul> <li>\u53c2\u6570\uff1a\u5c06 \u5fc5\u586b \u9009\u9879\u4f5c\u4e3a\u666e\u901a\u53c2\u6570\uff0c\u5916\u52a0 Option \u7c7b\u578b\u7684\u53ef\u53d8\u53c2\u6570</li> <li>\u8fd4\u56de\u503c\uff1a\u76ee\u6807\u7ed3\u6784\u4f53</li> <li>\u51fd\u6570\u4f53\uff1a\u6784\u9020\u76ee\u6807\u7ed3\u6784\u4f53\u5bf9\u8c61\uff0c\u904d\u5386\u53ef\u53d8\u53c2\u6570\u5e76\u6267\u884c\uff0c\u6700\u540e\u8fd4\u56de\u76ee\u6807\u7ed3\u6784\u4f53\u5bf9\u8c61</li> </ul> </li> </ol> <pre><code>// \u76ee\u6807\u7ed3\u6784\u4f53\uff1astudent\ntype student struct {\n    name   string    // *\u5fc5\u586b\n    age    int       // *\u5fc5\u586b\n    height int       // \u9009\u586b\n    weight int       // \u9009\u586b \n    score  float32  // \u9009\u586b\n}\n\n// \u81ea\u5b9a\u4e49\u4e00\u4e2a Option \u7c7b\u578b\uff0c\u4ee5\u4e00\u4e2a\u51fd\u6570\u4e3a\u57fa\u7840\uff0c\u51fd\u6570\u7ed3\u6784\u4e00\u4e2a\u76ee\u6807\u7ed3\u6784\u4f53 student \u6307\u9488\u4f5c\u4e3a\u53c2\u6570\ntype Option func(s *student) \n\n// \u9010\u4e00\u4e3a\u76ee\u6807\u7ed3\u6784\u4f53\u7684\u6bcf\u4e00\u4e2a\u53d8\u91cf\u5b9a\u4e49\u4e00\u4e2a\u9009\u9879\u51fd\u6570\uff0c\u7ed3\u6784\u53d8\u91cf\u7684\u503c n \uff0c\u8fd4\u56de Option \u7c7b\u578b\nfunc Name(n string) Option {\n    return func(s *student) {   // \u5728\u8fd4\u56de\u7684 Option \u4e2d\u5c06\u53d8\u91cf\u8d4b\u503c\n        s.name = n\n    }\n}\n\nfunc Age(a int) Option {\n    return func(s *student) {\n        s.age = a\n    }\n}\n\nfunc Height(h int) Option {\n    return func(s *student) {\n        s.height =h\n    }\n}\n\nfunc Weight(w int) Option {\n    return func(s *student) {\n        s.weight = w\n    }\n}\n\nfunc Score(sc float32) Option {\n    return func(s *student) {\n        s.score = sc\n    }\n}\n\n// \u5b9a\u4e49\u76ee\u6807\u7ed3\u6784\u4f53\u7684\u6784\u9020\u51fd\u6570\n// \u5fc5\u586b\u9009\u9879\u4f5c\u4e3a\u666e\u901a\u53c2\u6570\uff0cOption \u4f5c\u4e3a\u53ef\u53d8\u53c2\u6570\n// \u8fd4\u56de\u76ee\u6807\u7ed3\u6784\u4f53\u5bf9\u8c61\nfunc NewStudent(name string, age int, options ... Option) *student {\n    s := student{       // \u6784\u9020\u4e00\u4e2a\u76ee\u6807\u7ed3\u6784\u4f53\u5bf9\u8c61 \n        name:   name,\n        age:    age,\n        height: 180,\n    }\n    for _, option := range options {    // \u904d\u5386 options \u5f97\u5230\u4f20\u8fdb\u6765\u7684\u4e00\u5806\u9009\u9879\u51fd\u6570\n        option(&amp;s)      // \u6267\u884c\u8fd9\u4e9b\u9009\u9879\u51fd\u6570\n    }\n    return &amp;s   // \u8fd4\u56de\u76ee\u6807\u7ed3\u6784\u4f53\u5bf9\u8c61\n}\n</code></pre> <p>\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u50cf\u8fd9\u6837\u521b\u5efa\u76ee\u6807\u7ed3\u6784\u4f53\uff1a</p> <pre><code>func main() {\n    s1 := NewStudent(\"Boii\", 18, Height(177), Weight(150), Score(100.00))\n    s2 := NewStudent(\"Boii\", 18, Height(177), Weight(150))\n    s3 := NewStudent(\"Boii\", 18, Score(100.00))\n}\n</code></pre>"},{"location":"Go/nil/Golang-nil-%E9%80%89%E9%A1%B9%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/#_2","title":"\u7ed3\u8bed","text":"<p>\u6700\u63a8\u8350\u7684\u8fd8\u662f Function Option \u6a21\u5f0f\uff0c\u76f4\u63a5\u4f7f\u7528\u51fd\u6570\u5f0f\u7f16\u7a0b\uff0c\u4ee3\u7801\u8bfb\u8d77\u6765\u4e5f\u4f18\u96c5\u3002</p> <p>\u5b83\u80fd\u5e26\u6765\u4e00\u4e0b\u597d\u5904\uff08\u6458\u81ea\u5de6\u8033\u6735\u8017\u5b50\u53d4\uff09\uff1a</p> <ul> <li>\u76f4\u89c9\u5f0f\u7684\u7f16\u7a0b</li> <li>\u9ad8\u5ea6\u7684\u53ef\u914d\u7f6e\u5316</li> <li>\u5f88\u5bb9\u6613\u7ef4\u62a4\u548c\u6269\u5c55</li> <li>\u81ea\u6587\u6863</li> <li>\u5bf9\u4e8e\u65b0\u6765\u7684\u4eba\u5f88\u5bb9\u6613\u4e0a\u624b</li> <li>\u6ca1\u6709\u4ec0\u4e48\u4ee4\u4eba\u56f0\u60d1\u7684\u4e8b\uff08\u662fnil \u8fd8\u662f\u7a7a\uff09</li> </ul>"},{"location":"Hare/1/","title":"Getting started","text":""},{"location":"Hare/1/#getting-started","title":"Getting started","text":"<pre><code>use fmt;\n\nexport fn main() void = {\n    fmt::println(\"Hello world\")!;\n};\n</code></pre> <p>\u6839\u636e\u5b89\u88c5\u6587\u6863\u5148\u5b89\u88c5\u597d\u672c\u5730\u5f00\u53d1\u73af\u5883\uff0c\u7136\u540e\u590d\u5236\u4ee5\u4e0a\u4ee3\u7801\u5230 <code>main.ha</code> \u6587\u4ef6\uff0c\u5e76\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>$ hare run main.ha\nHello world!\n</code></pre> <p>\u8fd9\u5c31\u662f\u6700\u7b80\u5355\u7684 Hare \u7a0b\u5e8f\u3002</p> <p>\u4f60\u4e5f\u53ef\u4ee5\u5b9a\u4e49\u8fdb\u884c\u7f16\u8bd1\u7136\u540e\u6267\u884c\uff1a </p><pre><code>$ hare build -o example main.ha\n$ ./example\nHello world!\n</code></pre><p></p> <p>Hare \u8bed\u8a00\u4f7f\u7528 8 \u5217\u5bbd\u6765\u8fdb\u884c\u7f29\u8fdb\u3002\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u8003\u6837\u5f0f\u6307\u5357\uff0c\u4e5f\u53ef\u4ee5\u5b89\u88c5\u4e00\u4e2a\u7f16\u8f91\u5668\u63d2\u4ef6\u3002</p>"},{"location":"Hare/1/#hello-world","title":"\u5206\u89e3 Hello World \u7a0b\u5e8f","text":"<pre><code>use fmt;\n\nexport fn main() void = {\n    fmt::println(\"Hello world\")!;\n};\n</code></pre> <p>\u6211\u4eec\u7b80\u5355\u7684\u4e86\u89e3\u4e0b\u4e0a\u9762\u8fd9\u6bb5\u7a0b\u5e8f\u505a\u4e86\u4ec0\u4e48\u4e8b\u3002</p> <p>\u7b2c\u4e00\u884c\u662f\u4e00\u6761\u4ece\u6807\u51c6\u5e93\u5bfc\u5165 fmt(\u70b9\u51fb\u94fe\u63a5\u67e5\u770b\u8be6\u7ec6\u6587\u6863) \u6a21\u5757\u7684\u8bed\u53e5\u3002fmt \u6a21\u5757\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u683c\u5f0f\u5316\u6587\u672c\uff0c\u5979\u63d0\u4f9b\u4e86\u4e00\u4e2a println \u51fd\u6570\uff0c\u53ef\u4ee5\u5bf9\u6587\u672c\u8fdb\u884c\u683c\u5f0f\u5316\u5e76\u6253\u5370\u3002\u6ce8\u610f\u6253\u5370\u5185\u5bb9\u4e2d\u81ea\u52a8\u5305\u542b\u4e86\u4e00\u4e2a\u6362\u884c\u7b26\u3002</p> <p>Hare \u7684\u5f88\u591a\u5730\u65b9\u548c C \u8fd8\u662f\u4e00\u81f4\u7684\uff0c\u4f8b\u5982\uff1a</p> <p>\u7b2c\u4e8c\u884c\u7684 <code>main</code> \u51fd\u6570\u662f\u7a0b\u5e8f\u7684\u5165\u53e3\uff0c\u4f1a\u5728\u7a0b\u5e8f\u73af\u5883\u521d\u59cb\u5316\u5b8c\u6210\u540e\u6700\u5148\u88ab\u6267\u884c\uff0c\u8fd9\u4e00\u70b9\u548c C \u662f\u4e00\u6837\u7684\u3002<code>main</code> \u51fd\u6570\u7684\u683c\u5f0f\u9075\u5faa Hare \u7684\u6807\u51c6\uff1a\u5979\u53ef\u4ee5\u6ca1\u6709\u5f62\u53c2\u4e5f\u6ca1\u6709\u8fd4\u56de\u503c(\u6ca1\u6709\u8fd4\u56de\u503c\u65f6\u4f7f\u7528 void \u5173\u952e\u5b57)\u3002</p> <p>\u4f46\u662f!! <code>main</code> \u51fd\u6570\u5fc5\u987b\u4f7f\u7528 <code>export</code> \u5173\u952e\u5b57\u5bfc\u51fa\uff0c\u8fd9\u6837 Hare \u7684 runtime \u624d\u80fd\u8c03\u7528\u5979\u3002</p> <p>\u7b2c\u4e09\u884c\u662f\u901a\u8fc7 fmt \u6a21\u5757\u7684 println \u51fd\u6570\u6253\u5370\u4e86 Hello world \u7136\u540e\u5c31\u8fd4\u56de\u4e86\u3002</p>"},{"location":"Hare/1/#hello-world_1","title":"Hello world \u4e2d\u7684\u9519\u8bef\u5904\u7406","text":"<pre><code>use fmt;\n\nexport fn main() void = {\n    fmt::println(\"Hello world\")!;\n};\n</code></pre> <p>\u6ce8\u610f println \u51fd\u6570\u540e\u9762\u7684 <code>!</code> \u64cd\u4f5c\u7b26\uff0c\u8fd9\u662f\u4e00\u4e2a\u9519\u8bef\u65ad\u8a00\u64cd\u4f5c\u7b26\u3002\u50cf rust \u7a0b\u5e8f\u4e00\u6837\u3002\u5979\u65ad\u8a00 println \u51fd\u6570\u4e0d\u4f1a\u53d1\u751f\u9519\u8bef\uff0c\u5982\u679c println \u51fd\u6570\u6267\u884c\u5931\u8d25\uff0c\u5219\u4f1a\u7ec8\u6b62\u7a0b\u5e8f\u3002\u56e0\u4e3a\u5411\u6807\u51c6\u8f93\u51fa standard output \u5199\u5165\u65f6\u662f\u6709\u53ef\u80fd\u5931\u8d25\u7684\u3002</p> <p>\u4f60\u53ef\u4ee5\u8bd5\u7740\u4e0d\u5e26\u4e0a\u8fd9\u4e2a <code>!</code> \u64cd\u4f5c\u7b26\uff0c\u7f16\u8bd1\u5668\u4f1a\u53d1\u51fa\u8b66\u544a\uff0c</p>"},{"location":"Hare/install/","title":"\u4e0b\u8f7d","text":""},{"location":"Hare/install/#_1","title":"\u4e0b\u8f7d","text":"<p>\u5148\u5b89\u88c5 qbe </p><pre><code>sudo pacman -Sy qbe scdoc\n</code></pre><p></p> <p>\u4e0b\u8f7d\u540e\u7aef\u7f16\u8bd1\u5668 </p><pre><code>git clone https://git.sr.ht/\\~sircmpwn/harec\n</code></pre><p></p> <p>\u4e0b\u8f7d\u6784\u5efa\u5668 </p><pre><code>git clone https://git.sr.ht/\\~sircmpwn/hare\n</code></pre><p></p> <p>\u5148\u8fdb\u5165\u7f16\u8bd1\u5668\u76ee\u5f55 </p><pre><code>cd harec\n./configure       # \u751f\u6210\u914d\u7f6e\u6587\u4ef6\nmake check        # \u68c0\u67e5\u4e00\u904d\nsudo make install # \u7528\u8d85\u7ba1\u6267\u884c\u5b89\u88c5\n</code></pre><p></p> <p>\u7136\u540e\u8fdb\u5165\u6784\u5efa\u5668\u76ee\u5f55 </p><pre><code>cd ../hare\ncp config.example.mk config.mk # \u590d\u5236\u7f16\u8bd1\u914d\u7f6e\u6587\u4ef6\nmake check                     # \u68c0\u67e5\u4e00\u904d\nsudo make install              # \u7528\u8d85\u7ba1\u6267\u884c\u5b89\u88c5\u6807\u51c6\u5e93\nmake                           # \u6267\u884c\u6784\u5efa\u5668\u5b89\u88c5\n</code></pre><p></p>"},{"location":"Hare/install/#hello-world","title":"Hello World","text":"<pre><code>// main.ha\n\nuse fmt;\n\nexport fn main() void = {\n    fmt::println(\"Hello World\")!;\n};\n</code></pre> <p>\u6267\u884c\u547d\u4ee4 <code>hare run main.ha</code> \u5c06\u4f1a\u7f16\u8bd1\u4e00\u4e2a\u4e34\u65f6\u7684\u53ef\u6267\u884c\u6587\u4ef6\u5e76\u6267\u884c\u3002 </p><pre><code>$ hare run main.ha\nHello World\n</code></pre><p></p>"},{"location":"Linux/Basic/1/","title":"1.md","text":"u g o user group other \u5c5e\u4e3b \u7ec4 \u5176\u4ed6\u7528\u6237 Action weight description r-- 4 \u8bfb w-- 2 \u5199 x-- 1 \u6267\u884c rwx 7 \u8bfb+\u5199+\u6267\u884c rw- 6 \u8bfb+\u5199 r-x 5 \u8bfb+\u6267\u884c -wx 3 \u5199+\u6267\u884c d \u76ee\u5f55(directory) - \u6587\u4ef6(regular file) s \u5957\u5b57\u6587\u4ef6(socket) p \u7ba1\u9053\u6587\u4ef6(pipe)\u6216\u547d\u540d\u7ba1\u9053\u6587\u4ef6(named pipe) l \u7b26\u53f7\u94fe\u63a5\u6587\u4ef6(symbolic link) b \u8be5\u6587\u4ef6\u662f\u9762\u5411\u5757\u7684\u8bbe\u5907\u6587\u4ef6(block-oriented device file) c \u8be5\u6587\u4ef6\u662f\u9762\u5411\u5b57\u7b26\u7684\u8bbe\u5907\u6587\u4ef6(character-oriented device file) Directory Description /bin \u5b58\u653e \u547d\u4ee4 /sbin \u5b58\u653e\u8d85\u7ea7\u547d\u4ee4 /sys \u5b58\u653e\u7cfb\u7edf\u4fe1\u606f /boot \u5b58\u653e \u542f\u52a8\u7cfb\u7edf \u7684\u6838\u5fc3\u6587\u4ef6 /dev \u5b58\u653e \u8bbe\u5907\u6587\u4ef6 /etc \u5b58\u653e\u7cfb\u7edf\u914d\u7f6e\u6587\u4ef6 /home \u7528\u6237\u5bb6\u76ee\u5f55 /lib \u5b58\u653e\u7cfb\u7edf \u5e93\u6587\u4ef6 /lost+found \u5b58\u653e\u7cfb\u7edf\u5f02\u5e38\u65f6\u4e22\u5931\u7684\u6587\u4ef6 /media \u7528\u4e8e\u52a0\u8f7d\u5404\u79cd \u5a92\u4f53 /mnt \u7528\u4e8e\u52a0\u8f7d\u5404\u79cd\u6587\u4ef6\u7cfb\u7edf /opt \u7528\u4e8e\u5b58\u653e\u7b2c\u4e09\u65b9\u8f6f\u4ef6 /root \u8d85\u7ea7\u7528\u6237\u5bb6\u76ee\u5f55 /proc **\u8fdb\u7a0b**\u76ee\u5f55\uff0c\u662f\u4e2a\u865a\u62df\u76ee\u5f55 /usr \u5b58\u653e\u666e\u901a\u7528\u6237\u7684 \u5e94\u7528\u7a0b\u5e8f\u3001\u5e93\u6587\u4ef6\u548c\u6587\u6863 \u7b49 /var \u5b58\u653e\u90a3\u4e9b\u5728\u65f6\u95f4\u3001\u5927\u5c0f\u3001\u5185\u5bb9\u4e0a\u4f1a \u7ecf\u5e38\u53d8\u5316\u7684\u6587\u4ef6"},{"location":"Linux/Basic/Command1/","title":"Command1","text":""},{"location":"Linux/Basic/Command1/#_1","title":"\u6587\u4ef6\u7ba1\u7406","text":"<p>touch</p> <p>mkdir</p> <p>rmdir</p> <p>rm</p> <p>mv</p> <p>cp</p>"},{"location":"Linux/Basic/Command1/#_2","title":"\u6587\u4ef6\u538b\u7f29","text":""},{"location":"Linux/Basic/Command1/#_3","title":"\u6253\u5305","text":"<p>tar</p> <pre><code>tar [\u9009\u9879] [\u53c2\u6570]\n</code></pre> <ul> <li><code>-c, --create</code>: \u6253\u5305\uff0c\u5efa\u7acb\u65b0\u6253\u5305\u6587\u4ef6</li> <li><code>-x, --extract, --get</code>: \u89e3\u5305\uff0c\u4ece\u6253\u5305\u6587\u4ef6\u4e2d\u8fd8\u539f\u6587\u4ef6</li> <li><code>-f &lt;\u6587\u4ef6\u540d&gt;, --file=&lt;\u6587\u4ef6\u540d&gt;</code>: \u6307\u5b9a\u6253\u5305\u6587\u4ef6</li> <li><code>-v, --verbose</code>: \u663e\u793a\u6307\u4ee4\u6267\u884c\u8fc7\u7a0b</li> <li><code>-z, --gzip</code>: \u901a\u8fc7 gzip \u547d\u4ee4\u5904\u7406\u6253\u5305\u6587\u4ef6\uff08\u538b\u7f29/\u89e3\u538b\uff09</li> <li><code>-j, --bzip2</code>: \u901a\u8fc7 bzip2 \u547d\u4ee4\u5904\u7406\u6253\u5305\u6587\u4ef6\uff08\u538b\u7f29/\u89e3\u538b\uff09</li> </ul> <pre><code>$ tar -zcvf test.tar.gz test/   # \u6253\u5305 test \u76ee\u5f55\u4e0b\u6240\u6709\u6587\u4ef6\u5e76\u538b\u7f29\uff0c\u538b\u7f29\u5305\u6587\u4ef6\u540d\u4e3a test.tar.gz\n$ tar -zxvf test.tar.gz          # \u89e3\u538b\u5e76\u89e3\u5305\n\n\u538b\u3000\u7f29\uff1atar -jcv -f filename.tar.bz2 \u8981\u88ab\u538b\u7f29\u7684\u6587\u4ef6\u6216\u76ee\u5f55\u540d\u79f0\n\u67e5\u3000\u8be2\uff1atar -jtv -f filename.tar.bz2\n\u89e3\u538b\u7f29\uff1atar -jxv -f filename.tar.bz2 -C \u6b32\u89e3\u538b\u7f29\u7684\u76ee\u5f55\n</code></pre>"},{"location":"Linux/Basic/Command1/#_4","title":"\u538b\u7f29","text":"<p>zip</p> <p>unzip</p> <p>gzip</p> <p>gunzip</p> <p>zcat</p> <p>bzip</p>"},{"location":"Linux/Basic/Command1/#_5","title":"\u6587\u4ef6\u67e5\u627e","text":"<p>find</p>"},{"location":"Linux/Basic/Command1/#_6","title":"\u6587\u672c\u641c\u7d22","text":"<p>grep</p> <p>awk</p>"},{"location":"Linux/Basic/Command1/#_7","title":"\u6587\u672c\u7edf\u8ba1","text":"<p>wc\uff1a\uff08word count\uff09\u5b57\u6570\u7edf\u8ba1</p> <ul> <li><code>-l, --lines</code>: \u663e\u793a\u884c\u6570</li> <li><code>-w, --words</code>: \u663e\u793a\u5b57\u6570</li> <li><code>-c, --bytes, --chars</code>: \u663e\u793a Byte \u6570</li> </ul>"},{"location":"Linux/Basic/Command1/#_8","title":"\u7528\u6237\u7ba1\u7406","text":"<p>useradd</p> <p>newusers</p> <p>userdel</p> <p>groupadd</p> <p>groupdel</p> <p>groupmod</p> <p>\u6279\u91cf\u4fee\u6539\u5bc6\u7801</p> <p>pwunconv</p> <p>chpasswd</p> <p>pwconv</p> <p>chmod</p> <p>chown</p> <p>chgrp</p> <p>chattr</p> <p><code>/etc/passwd</code></p> <p>Linux \u7cfb\u7edf\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5408\u6cd5\u7528\u6237\u8d26\u6237\u5bf9\u5e94\u4e8e\u8be5\u6587\u4ef6\u4e2d\u7684\u4e00\u884c\u8bb0\u5f55\uff0c\u8bb0\u5f55\u4e86\u6bcf\u4e2a\u8d26\u6237\u7684\u5c5e\u6027\u3002</p> <p>\u5982\uff1a</p> <pre><code>root:x:0:0:root:/root:/bin/bash\nbin:x:1:1:bin:/bin:/bin/sbin/nologin\n</code></pre> <p>\u4e00\u6761\u7528\u6237\u8bb0\u5f55\u7531\u591a\u4e2a\u5c5e\u6027\u6784\u6210\uff0c\u6bcf\u4e2a\u5c5e\u6027\u7531\u5192\u53f7\u5206\u9694\uff0c\u5404\u5c5e\u6027\u542b\u4e49\u5982\u4e0b\uff1a</p> <pre><code>\u6ce8\u518c\u540d : \u5bc6\u7801 : UID : GID : \u7528\u6237\u540d : \u7528\u6237\u4e3b\u76ee\u5f55 : \u7528\u6237\u9ed8\u8ba4\u547d\u4ee4\u89e3\u91ca\u7a0b\u5e8f\n</code></pre> <ol> <li>\u6ce8\u518c\u540d\uff1a\u7528\u4e8e\u533a\u5206\u4e0d\u540c\u7528\u6237\uff0c\u4e0d\u53ef\u4e0e\u5176\u4ed6\u7528\u6237\u7684\u6ce8\u518c\u540d\u91cd\u590d\uff0c\u5927\u5c0f\u5199\u654f\u611f</li> <li>\u5bc6\u7801\uff1a\u4e00\u822c\u8bb0\u5f55\u5728 <code>/etc/shadow</code> \u4e2d\uff0c\u5728\u6b64\u6587\u4ef6\u4e2d\u7528 x \u4ee3\u66ff</li> <li>UID\uff1a\u7528\u6237\u552f\u4e00\u6807\u8bc6\u7801\uff0c\u9664\u7cfb\u7edf\u9884\u7f6e\u8d26\u6237\uff0c\u65b0\u8d26\u6237 UID \u4ece 1000 \u5f00\u59cb\u9012\u589e</li> <li>GID\uff1a\u7528\u6237\u7ec4\u552f\u4e00\u6807\u8bc6\u7801\uff0c\u9664\u7cfb\u7edf\u9884\u7f6e\u7ec4\uff0c\u65b0\u7ec4 GID \u4ece 1000 \u5f00\u59cb\u9012\u589e</li> <li>\u7528\u6237\u540d\uff1a\u7c7b\u4f3c\u7528\u6237\u6635\u79f0\uff0c\u53ef\u4ee5\u91cd\u590d</li> <li>\u7528\u6237\u4e3b\u76ee\u5f55\uff1a\u7528\u6237\u7684 home \u76ee\u5f55</li> <li>\u9ed8\u8ba4\u547d\u4ee4\u89e3\u91ca\u5668\uff1a\u7528\u6237\u767b\u5f55\u540e\u9ed8\u8ba4\u4f7f\u7528\u7684\u89e3\u91ca\u5668</li> </ol> <p><code>/etc/shadow</code></p> <p>Linux \u7cfb\u7edf\u4e2d\u4f1a\u4f7f\u7528\u4e13\u95e8\u7684\u6587\u4ef6\u6765\u8bb0\u5f55\u7528\u6237\u7684\u5bc6\u7801\uff0c\u5f53\u7528\u6237\u767b\u5f55\u65f6\uff0c\u4f1a\u5c06\u5bc6\u7801\u4e0e <code>/etc/shadow</code> \u6587\u4ef6\u4e2d\u8bb0\u5f55\u7684\u5bc6\u7801\uff08\u52a0\u5bc6\u540e\uff09\u8fdb\u884c\u6bd4\u8f83\u3002\u6bcf\u4e00\u4e2a\u7528\u6237\u5360\u7528\u4e00\u884c\u8bb0\u5f55\u3002</p> <p>\u5982\uff1a</p> <pre><code>root:!:14871::::::\nnobody:!*:18630::::::\ndbus:!*:18630::::::\nbin:!*:18630::::::\ndaemon:!*:18630::::::\n</code></pre> <p>\u4e00\u6761\u8bb0\u5f55\u5171\u67099\u4e2a\u5c5e\u6027\uff0c\u5206\u522b\u662f\uff1a</p> <ol> <li>\u6ce8\u518c\u540d</li> <li>\u5bc6\u6587\u5bc6\u7801</li> <li>\u4e0a\u6b21\u66f4\u6539\u5bc6\u7801\u8ddd\u79bb\u7eaa\u5143\u65f6\u95f4\u7684\u5929\u6570</li> <li>\u5bc6\u7801\u66f4\u6539\u540e\uff0c\u4e0d\u53ef\u518d\u6b21\u66f4\u6539\u7684\u5929\u6570</li> <li>\u5bc6\u7801\u6709\u6548\u671f</li> <li>\u5bc6\u7801\u5931\u6548\u524d n \u5929\u9884\u8b66</li> <li>\u5bc6\u7801\u5931\u6548\u540e n \u5929\u88ab\u67e5\u5c01</li> <li>\u5bc6\u7801\u88ab\u67e5\u5c01\u540e\u636e\u7eaa\u5143\u65f6\u95f4\u7684\u5929\u6570</li> <li>\u4fdd\u7559\u5b57\u6bb5</li> </ol> <p>\u7eaa\u5143\u65f6\u95f4\uff1a1970\u5e741\u67081\u65e5</p>"},{"location":"Linux/Basic/Command1/#_9","title":"\u4efb\u52a1\u7ba1\u7406","text":"<p>bg fg jobs </p>"},{"location":"Linux/Basic/Command1/#_10","title":"\u5b9a\u65f6\u4efb\u52a1","text":"<p>at:</p> <ul> <li><code>-f</code>: \u6307\u5b9a\u5305\u542b\u5177\u4f53\u6307\u4ee4\u7684\u4efb\u52a1\u6587\u4ef6</li> <li><code>-q</code>: \u6307\u5b9a\u65b0\u4efb\u52a1\u7684\u961f\u5217\u540d\u79f0</li> <li><code>-l</code>: \u663e\u793a\u5f85\u6267\u884c\u4efb\u52a1\u7684\u5217\u8868 </li> <li><code>-d</code>: \u5220\u9664\u6307\u5b9a\u7684\u5f85\u6267\u884c\u4efb\u52a1</li> <li><code>-m</code>: \u4efb\u52a1\u6267\u884c\u5b8c\u6210\u540e\u50cf\u7528\u6237\u53d1\u9001 e-mail </li> </ul> <p>\u4e09\u5929\u540e\u7684\u4e0b\u5348 5 \u70b9\u953a\u6267\u884c<code>/bin/ls</code>\uff1a</p> <pre><code>$ at 5pm+3 days\nat&gt; /bin/ls\nat&gt; &lt;EOT&gt;\njob 7 at 2013-01-08 17:00\n</code></pre> <p>\u660e\u592917\u70b9\u949f\uff0c\u8f93\u51fa\u65f6\u95f4\u5230\u6307\u5b9a\u6587\u4ef6\u5185\uff1a</p> <pre><code>$ at 17:20 tomorrow\nat&gt; date &gt;/root/2013.log\nat&gt; &lt;EOT&gt;\njob 8 at 2013-01-06 17:20\n</code></pre> <p>\u8ba1\u5212\u4efb\u52a1\u8bbe\u5b9a\u540e\uff0c\u5728\u6ca1\u6709\u6267\u884c\u4e4b\u524d\u6211\u4eec\u53ef\u4ee5\u7528atq\u547d\u4ee4\u6765==\u67e5\u770b==\u7cfb\u7edf\u6ca1\u6709\u6267\u884c\u5de5\u4f5c\u4efb\u52a1\uff1a</p> <pre><code>$ atq\n8       2013-01-06 17:20 a root\n7       2013-01-08 17:00 a root\n</code></pre> <p>\u8ba1\u5212\u4efb\u52a1\u8bbe\u5b9a\u540e\uff0c\u5728\u6ca1\u6709\u6267\u884c\u4e4b\u524d\u6211\u4eec\u53ef\u4ee5\u7528atrm\u547d\u4ee4\u6765==\u5220\u9664==\u5df2\u7ecf\u8bbe\u7f6e\u7684\u4efb\u52a1\uff1a</p> <pre><code>$ atq\n8       2013-01-06 17:20 a root\n7       2013-01-08 17:00 a root\n\n$ atrm 7\n$ atq\n8       2013-01-06 17:20 a root\n</code></pre> <p>\u663e\u793a\u6307\u5b9a\u7684\u4efb\u52a1\u7684\u5185\u5bb9\uff1a</p> <pre><code>$ at -c 8\n#!/bin/sh\n# atrun uid=0 gid=0\n# mail     root 0\numask 22\u6b64\u5904\u7701\u7565n\u4e2a\u5b57\u7b26\ndate &gt;/root/2013.log\n</code></pre> <p>crontab:</p> <ul> <li><code>-e</code>: \u7f16\u8f91\u8ba1\u65f6\u5668\u8bbe\u7f6e</li> <li><code>-l</code>: \u5217\u51fa\u8ba1\u65f6\u5668\u8bbe\u7f6e</li> <li><code>-r</code>: \u5220\u9664\u8ba1\u65f6\u5668\u8bbe\u7f6e</li> <li><code>-u \u7528\u6237\u540d</code>: \u6307\u5b9a\u8ba1\u65f6\u5668\u7684\u7528\u6237\u540d\u79f0 </li> </ul> <p>Linux \u4e0b\u7684\u4efb\u52a1\u8c03\u5ea6\u5206\u4e3a\uff1a<code>\u7cfb\u7edf\u4efb\u52a1\u8c03\u5ea6</code>\u3001<code>\u7528\u6237\u4efb\u52a1\u8c03\u5ea6</code>\u3002</p> <p>\u7cfb\u7edf\u4efb\u52a1\u8c03\u5ea6\uff1a\u7cfb\u7edf\u5468\u671f\u6027\u8981\u6267\u884c\u7684\u5de5\u4f5c\uff0c\u5982\u65e5\u5fd7\u6e05\u7406\u3001\u7f13\u5b58\u5199\u5165\u786c\u76d8\u7b49\u3002\u914d\u7f6e\u6587\u4ef6\u4e3a <code>/etc/crontab</code>\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>SHELL=/bin/bash\nPATH=/sbin:/bin:/usr/sbin:/usr/bin\nMAILTO=\"\"\nHOME=/\n\n# run-parts\n51 * * * * root run-parts /etc/cron.hourly\n24 7 * * * root run-parts /etc/cron.daily\n22 4 * * 0 root run-parts /etc/cron.weekly\n42 4 1 * * root run-parts /etc/cron.monthly\n</code></pre> <p>\u524d 4 \u884c\u7528\u4e8e\u914d\u7f6e crond \u4efb\u52a1\u8fd0\u884c\u7684\u73af\u5883\u53d8\u91cf\uff0c\u540e 4 \u884c\u7528\u4e8e\u914d\u7f6e\u5b9a\u65f6\u4efb\u52a1\u3002</p> <p>\u7528\u6237\u4efb\u52a1\u8c03\u5ea6\uff1a\u7528\u6237\u5b9a\u671f\u8981\u6307\u5b9a\u7684\u5de5\u4f5c\uff0c\u5982\u7528\u6237\u6570\u636e\u5907\u4efd\uff0c\u5b9a\u65f6\u90ae\u4ef6\u63d0\u9192\u7b49\u3002\u914d\u7f6e\u6587\u4ef6\u4e3a <code>/var/spool/cron/\u7528\u6237\u540d</code> \uff0c\u4f7f\u7528\u8005\u6743\u9650\u5982\u4e0b\uff1a</p> <ul> <li><code>/etc/cron.deny</code>: \u8be5\u6587\u4ef6\u4e2d\u6240\u5217\u7528\u6237\u4e0d\u5141\u8bb8\u4f7f\u7528 crontab \u547d\u4ee4</li> <li><code>/etc/cron.allow</code>: \u8be5\u6587\u4ef6\u4e2d\u6240\u5217\u7528\u6237\u5141\u8bb8\u4f7f\u7528 crontab \u547d\u4ee4</li> <li><code>/var/spool/cron/...</code>:  \u6240\u6709\u7528\u6237crontab\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55,\u4ee5\u7528\u6237\u540d\u547d\u540d</li> </ul> <p>crontab \u6587\u4ef6\u542b\u4e49\uff1a</p> <p>\u683c\u5f0f\u5982\u4e0b\uff1a\u5206\u65f6\u65e5\u6708\u5468</p> <pre><code>min hour day month week command\n</code></pre> \u5b57\u6bb5 \u542b\u4e49 \u53d6\u503c\u8303\u56f4 min \u5206\u949f 0-59 hour \u5c0f\u65f6 0-23 day \u65e5\u671f 1-31 month \u6708\u4efd 1-12 week \u661f\u671f\u51e0 0-7\uff0c0\u62167\u8868\u793a\u5468\u65e5 command \u8981\u6267\u884c\u7684\u547d\u4ee4 \u7cfb\u7edf\u547d\u4ee4\u6216\u81ea\u884c\u7f16\u5199\u7684\u811a\u672c <p>\u4ee5\u4e0a\u5404\u5b57\u6bb5\u8fd8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u7279\u6b8a\u5b57\u7b26\uff1a</p> \u7b26\u53f7 \u542b\u4e49 \u4f8b\u5b50 \u661f\u53f7 <code>*</code> \u4ee3\u8868\u6240\u6709\u53ef\u80fd\u7684\u503c day\u5b57\u6bb5\u8bbe\u7f6e\u4e3a *\uff0c\u4ee3\u8868\u6bcf\u5929\u90fd\u6267\u884c \u9017\u53f7 <code>,</code> \u6307\u5b9a\u591a\u4e2a\u7279\u5b9a\u503c day\u5b57\u6bb5\u8bbe\u7f6e\u4e3a 1,8,9\uff0c\u4ee3\u8868\u6bcf\u67081\u30018\u30019\u53f7\u6267\u884c \u4e2d\u6746 <code>-</code> \u6307\u5b9a\u4e00\u4e2a\u8303\u56f4 day\u5b57\u6bb5\u8bbe\u7f6e\u4e3a 3-5\uff0c\u4ee3\u8868\u6bcf\u67083\u30014\u30015\u53f7\u90fd\u6267\u884c \u6b63\u659c\u7ebf <code>/</code> \u6307\u5b9a\u65f6\u95f4\u95f4\u9694\u9891\u7387 day\u5b57\u6bb5\u8bbe\u7f6e\u4e3a 0-31/2\uff0c\u4ee3\u8868\u6bcf\u4e2a\u6708\u4e2d\u6bcf2\u5929\u6267\u884c\u4e00\u6b21 hour\u5b57\u6bb5\u8bbe\u7f6e\u4e3a */3\uff0c\u4ee3\u8868\u6bcf3\u4e2a\u5c0f\u65f6\u6267\u884c\u4e00\u6b21 <p>crond\u670d\u52a1</p> <pre><code>service crond status\nservice crond start\nservice crond stop\nservice crond restart\nservice crond reload\n</code></pre> <p>\u4f8b\u5b50\uff1a</p> <p>\u6bcf1\u5206\u949f\u6267\u884c\u4e00\u6b21command</p> <pre><code>* * * * * command\n</code></pre> <p>\u6bcf\u5c0f\u65f6\u7684\u7b2c3\u548c\u7b2c15\u5206\u949f\u6267\u884c</p> <pre><code>3,15 * * * * command\n</code></pre> <p>\u5728\u4e0a\u53488\u70b9\u523011\u70b9\u7684\u7b2c3\u548c\u7b2c15\u5206\u949f\u6267\u884c</p> <pre><code>3,15 8-11 * * * command\n</code></pre> <p>\u6bcf\u9694\u4e24\u5929\u7684\u4e0a\u53488\u70b9\u523011\u70b9\u7684\u7b2c3\u548c\u7b2c15\u5206\u949f\u6267\u884c</p> <pre><code>3,15 8-11 */2 * * command\n</code></pre> <p>\u6bcf\u4e2a\u661f\u671f\u4e00\u7684\u4e0a\u53488\u70b9\u523011\u70b9\u7684\u7b2c3\u548c\u7b2c15\u5206\u949f\u6267\u884c</p> <pre><code>3,15 8-11 * * 1 command\n</code></pre> <p>\u6bcf\u665a\u768421:30\u91cd\u542fsmb </p> <pre><code>30 21 * * * /etc/init.d/smb restart\n</code></pre> <p>\u6bcf\u67081\u300110\u300122\u65e5\u76844 : 45\u91cd\u542fsmb </p> <pre><code>45 4 1,10,22 * * /etc/init.d/smb restart\n</code></pre> <p>\u6bcf\u5468\u516d\u3001\u5468\u65e5\u76841:10\u91cd\u542fsmb</p> <pre><code>10 1 * * 6,0 /etc/init.d/smb restart\n</code></pre> <p>\u6bcf\u592918 : 00\u81f323 : 00\u4e4b\u95f4\u6bcf\u969430\u5206\u949f\u91cd\u542fsmb </p> <pre><code>0,30 18-23 * * * /etc/init.d/smb restart\n</code></pre> <p>\u6bcf\u661f\u671f\u516d\u7684\u665a\u4e0a11:00 pm\u91cd\u542fsmb </p> <pre><code>0 23 * * 6 /etc/init.d/smb restart\n</code></pre> <p>\u6bcf\u4e00\u5c0f\u65f6\u91cd\u542fsmb </p> <pre><code>* */1 * * * /etc/init.d/smb restart\n</code></pre> <p>\u665a\u4e0a11\u70b9\u5230\u65e9\u4e0a7\u70b9\u4e4b\u95f4\uff0c\u6bcf\u9694\u4e00\u5c0f\u65f6\u91cd\u542fsmb</p> <pre><code>* 23-7/1 * * * /etc/init.d/smb restart\n</code></pre> <p>\u6bcf\u6708\u76844\u53f7\u4e0e\u6bcf\u5468\u4e00\u5230\u5468\u4e09\u768411\u70b9\u91cd\u542fsmb </p> <pre><code>0 11 4 * mon-wed /etc/init.d/smb restart\n</code></pre> <p>\u4e00\u6708\u4e00\u53f7\u76844\u70b9\u91cd\u542fsmb</p> <pre><code>0 4 1 jan * /etc/init.d/smb restart\n</code></pre> <p>\u6bcf\u5c0f\u65f6\u6267\u884c<code>/etc/cron.hourly</code>\u76ee\u5f55\u5185\u7684\u811a\u672c</p> <pre><code>01 * * * * root run-parts /etc/cron.hourly\n</code></pre>"},{"location":"Linux/Basic/Command1/#_11","title":"\u8fdb\u7a0b\u7ba1\u7406","text":"<p>ps</p>"},{"location":"Linux/Basic/Command1/#_12","title":"\u78c1\u76d8\u7ba1\u7406","text":"<p>df</p> <p>du</p>"},{"location":"Linux/Basic/Command2/","title":"Command2","text":"<p>who: \u663e\u793a\u7cfb\u7edf\u767b\u5f55\u7528\u6237</p> <ul> <li><code>-H</code>: \u663e\u793a\u6807\u9898\u680f</li> <li><code>-q</code>: \u53ea\u663e\u793a\u603b\u4eba\u6570</li> </ul> <p>echo: \u8f93\u51fa\u5185\u5bb9</p> <ul> <li><code>-e</code>: \u6fc0\u6d3b\u8f6c\u4e49\u5b57\u7b26</li> </ul> <p>date: </p> <p>cal:</p> <ul> <li><code>-l</code>\uff1a\u663e\u793a\u5355\u6708\u8f93\u51fa\uff1b</li> <li><code>-3</code>\uff1a\u663e\u793a\u4e34\u8fd1\u4e09\u4e2a\u6708\u7684\u65e5\u5386\uff1b</li> <li><code>-s</code>\uff1a\u5c06\u661f\u671f\u65e5\u4f5c\u4e3a\u6708\u7684\u7b2c\u4e00\u5929\uff1b</li> <li><code>-m</code>\uff1a\u5c06\u661f\u671f\u4e00\u4f5c\u4e3a\u6708\u7684\u7b2c\u4e00\u5929\uff1b</li> <li><code>-j</code>\uff1a\u663e\u793a\u201cjulian\u201d\u65e5\u671f\uff1b</li> <li><code>-y</code>\uff1a\u663e\u793a\u5f53\u524d\u5e74\u7684\u65e5\u5386\u3002</li> </ul> <p>su: </p> <ul> <li><code>-c&lt;\u6307\u4ee4&gt;\u6216--command=&lt;\u6307\u4ee4&gt;</code>\uff1a\u6267\u884c\u5b8c\u6307\u5b9a\u7684\u6307\u4ee4\u540e\uff0c\u5373\u6062\u590d\u539f\u6765\u7684\u8eab\u4efd\uff1b</li> <li><code>-f\u6216\u2014\u2014fast\uff1a\u9002\u7528\u4e8ecsh\u4e0etsch</code>\uff0c\u4f7fshell\u4e0d\u7528\u53bb\u8bfb\u53d6\u542f\u52a8\u6587\u4ef6\uff1b</li> <li><code>-l\u6216\u2014\u2014login</code>\uff1a\u6539\u53d8\u8eab\u4efd\u65f6\uff0c\u4e5f\u540c\u65f6\u53d8\u66f4\u5de5\u4f5c\u76ee\u5f55\uff0c\u4ee5\u53caHOME,SHELL,USER,logname\u3002\u6b64\u5916\uff0c\u4e5f\u4f1a\u53d8\u66f4PATH\u53d8\u91cf\uff1b</li> <li><code>-m,-p\u6216--preserve-environment</code>\uff1a\u53d8\u66f4\u8eab\u4efd\u65f6\uff0c\u4e0d\u8981\u53d8\u66f4\u73af\u5883\u53d8\u91cf\uff1b</li> <li><code>-s&lt;shell&gt;\u6216--shell=&lt;shell&gt;</code>\uff1a\u6307\u5b9a\u8981\u6267\u884c\u7684shell\uff1b</li> </ul> <p>cat: </p> <pre><code>cat [\u9009\u9879] [\u53c2\u6570]\n</code></pre> <ul> <li> <p>\u9009\u9879\uff1a</p> <ul> <li><code>-n\u6216-number</code>\uff1a\u4ece1\u5f00\u59cb\u5bf9\u6240\u6709\u8f93\u51fa\u7684\u884c\u6570\u7f16\u53f7\uff1b</li> <li><code>-b\u6216--number-nonblank</code>\uff1a\u548c-n\u76f8\u4f3c\uff0c\u53ea\u4e0d\u8fc7\u5bf9\u4e8e\u7a7a\u767d\u884c\u4e0d\u7f16\u53f7\uff1b</li> <li><code>-s\u6216--squeeze-blank</code>\uff1a\u6298\u53e0\u7a7a\u884c\u3002\u5f53\u9047\u5230\u6709\u8fde\u7eed\u4e24\u884c\u4ee5\u4e0a\u7684\u7a7a\u767d\u884c\uff0c\u5c31\u4ee3\u6362\u4e3a\u4e00\u884c\u7684\u7a7a\u767d\u884c\uff1b</li> <li><code>-A</code>\uff1a\u663e\u793a\u4e0d\u53ef\u6253\u5370\u5b57\u7b26\uff0c\u884c\u5c3e\u663e\u793a\u201c$\u201d\uff1b</li> <li><code>-e</code>\uff1a\u7b49\u4ef7\u4e8e\"-vE\"\u9009\u9879\uff1b</li> <li><code>-t</code>\uff1a\u7b49\u4ef7\u4e8e\"-vT\"\u9009\u9879\uff1b</li> </ul> </li> <li> <p>\u53c2\u6570\uff1a</p> <ul> <li>\u6587\u4ef6\u5217\u8868\uff1a\u6307\u5b9a\u8981\u8fde\u63a5\u7684\u6587\u4ef6\u5217\u8868\u3002</li> </ul> </li> </ul> <p>head:</p> <p>tail:</p> <p>touch: \u4e00\u662f\u7528\u4e8e\u628a\u5df2\u5b58\u5728\u6587\u4ef6\u7684\u65f6\u95f4\u6807\u7b7e\u66f4\u65b0\u4e3a\u7cfb\u7edf\u5f53\u524d\u7684\u65f6\u95f4\uff08\u9ed8\u8ba4\u65b9\u5f0f\uff09\uff0c\u5b83\u4eec\u7684\u6570\u636e\u5c06\u539f\u5c01\u4e0d\u52a8\u5730\u4fdd\u7559\u4e0b\u6765\uff1b\u4e8c\u662f\u7528\u6765\u521b\u5efa\u65b0\u7684\u7a7a\u6587\u4ef6\u3002</p> <pre><code>touch [\u9009\u9879] [\u53c2\u6570]\n</code></pre> <ul> <li>\u9009\u9879<ul> <li><code>-a \u6216--time=atime\u6216--time=access\u6216--time=use</code>\uff1a\u53ea\u66f4\u6539\u5b58\u53d6\u65f6\u95f4\uff1b</li> <li><code>-c \u6216 --no-create</code>\uff1a\u4e0d\u5efa\u7acb\u4efb\u4f55\u6587\u4ef6\uff1b</li> <li><code>-d &lt;\u65f6\u95f4\u65e5\u671f&gt;</code>\uff1a\u4f7f\u7528\u6307\u5b9a\u7684\u65e5\u671f\u65f6\u95f4\uff0c\u800c\u975e\u73b0\u5728\u7684\u65f6\u95f4\uff1b</li> <li><code>-f</code>\uff1a\u6b64\u53c2\u6570\u5c06\u5ffd\u7565\u4e0d\u4e88\u5904\u7406\uff0c\u4ec5\u8d1f\u8d23\u89e3\u51b3BSD\u7248\u672ctouch\u6307\u4ee4\u7684\u517c\u5bb9\u6027\u95ee\u9898\uff1b</li> <li><code>-m</code>\uff1a\u6216--time=mtime\u6216--time=modify  \u53ea\u66f4\u8be5\u53d8\u52a8\u65f6\u95f4\uff1b</li> <li><code>-r &lt;\u53c2\u8003\u6587\u4ef6\u6216\u76ee\u5f55&gt;</code>\uff1a\u628a\u6307\u5b9a\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u65e5\u671f\u65f6\u95f4\uff0c\u7edf\u7edf\u8bbe\u6210\u548c\u53c2\u8003\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u65e5\u671f\u95f4\u76f8\u540c\uff1b</li> <li><code>-t &lt;\u65e5\u671f\u65f6\u95f4&gt;</code>\uff1a\u4f7f\u7528\u6307\u5b9a\u7684\u65e5\u671f\u65f6\u95f4\uff0c\u800c\u975e\u73b0\u5728\u7684\u65f6\u95f4\uff1b</li> </ul> </li> <li>\u53c2\u6570<ul> <li>\u6587\u4ef6\uff1a\u6307\u5b9a\u8981\u8bbe\u7f6e\u65f6\u95f4\u5c5e\u6027\u7684\u6587\u4ef6\u5217\u8868\u3002</li> </ul> </li> </ul> <p>cp:</p> <p>rm:</p> <p>mv:</p> <p>wc:</p> <p>grep:</p>"},{"location":"Linux/Basic/%E6%96%87%E4%BB%B6%E5%92%8C%E9%93%BE%E6%8E%A5/","title":"\u6587\u4ef6\u548c\u94fe\u63a5","text":""},{"location":"Linux/Basic/%E6%96%87%E4%BB%B6%E5%92%8C%E9%93%BE%E6%8E%A5/#linux","title":"Linux","text":"<p>Linux \u662f\u4e00\u4e2a\u591a\u7528\u6237\u3001\u591a\u4efb\u52a1\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u7531\u53d1\u660e\u8005 Linus Torvalds \u4eb2\u81ea\u7ef4\u62a4\u3002</p> <ul> <li>\u7248\u672c\u53f7\uff1aA.B.C<ul> <li>A \u4e3a\u4e3b\u7248\u672c\u53f7</li> <li>B \u4e3a\u6b21\u7248\u672c\u53f7</li> <li>C \u4e3a\u5f53\u524d\u7248\u672c\u4fee\u8ba2\u6b21\u6570</li> <li>\u6b21\u7248\u672c\u53f7\u4e5f\u5c31\u662f B \u4e3a \u5947\u6570 \u65f6\u8868\u793a\u8be5\u7248\u52a0\u5165\u65b0\u5185\u5bb9\uff0c\u4f46\u4e0d\u4e00\u5b9a\u7a33\u5b9a\uff0c\u76f8\u5f53\u4e8e Beta \u7248</li> <li>\u6b21\u7248\u672c\u53f7\u4e5f\u5c31\u662f B \u4e3a \u5076\u6570 \u65f6\u8868\u793a\u8be5\u7248\u672c\u5df2\u7ecf\u7a33\u5b9a\uff0c\u53ef\u4ee5\u653e\u5fc3\u4f7f\u7528\u3002</li> <li>\u4f7f\u7528 <code>uname -r</code> \u53ef\u4ee5\u67e5\u770b\u7248\u672c\u53f7\u3002</li> </ul> </li> </ul>"},{"location":"Linux/Basic/%E6%96%87%E4%BB%B6%E5%92%8C%E9%93%BE%E6%8E%A5/#_1","title":"\u6587\u4ef6","text":"<p>Linux \u4e2d\u4e00\u5207\u7686\u6587\u4ef6\uff0c\u5373\u4f7f\u662f\u76ee\u5f55\uff0c\u90a3\u4e5f\u662f\u4e2a\u6587\u4ef6\u3002</p> <p>Linux \u4e2d\u7684\u6587\u4ef6\u7531\u4e24\u90e8\u5206\u7ec4\u6210\uff1a <code>inode</code> \u548c <code>\u6570\u636e</code>\u3002</p> <ul> <li>inode \u53c8\u79f0 I \u7ed3\u70b9\u3001\u7d22\u5f15\u8282\u70b9\uff0c\u5305\u542b\u76f8\u5173\u6587\u4ef6\u7684\u4fe1\u606f\u7684\u4e00\u4e2a\u8bb0\u5f55\u3002\u8fd9\u4e9b\u4fe1\u606f\u5305\u62ec\u6587\u4ef6\u5168\u65b0\u554a\u3001\u6587\u4ef6\u5c5e\u4e3b\u3001\u6587\u4ef6\u5927\u5c0f\u3001\u5b58\u653e\u4f4d\u7f6e\u3001\u5efa\u7acb\u65e5\u671f\u7b49\u3002Linux \u7684\u6587\u4ef6\u7cfb\u7edf\u901a\u8fc7 inode \u5b9e\u73b0\u5bf9\u6587\u4ef6\u7684\u63a7\u5236\u548c\u7ba1\u7406\u3002</li> <li>\u6570\u636e\uff0c\u5373\u6587\u4ef6\u7684\u5b9e\u9645\u5185\u5bb9\uff0c\u53ef\u4ee5\u662f\u7a7a\u7684\uff0c\u4e5f\u53ef\u4ee5\u975e\u5e38\u5927\uff0c\u4e14\u6709\u81ea\u5df1\u7684\u7ed3\u6784\u3002</li> </ul> <p>\u6587\u4ef6\u540d\u6700\u957f\u53ef\u8fbe 255 \u4e2a\u5b57\u7b26\uff0c\u6ca1\u6709\u6269\u5c55\u540d\u3002Linux \u4e2d\u6587\u4ef6\u7684\u6269\u5c55\u540d\u90fd\u662f\u4eba\u4e3a\u52a0\u4e0a\u53bb\u4ee5\u65b9\u4fbf\u8bc6\u522b\u6587\u4ef6\u7c7b\u578b\u3002</p>"},{"location":"Linux/Basic/%E6%96%87%E4%BB%B6%E5%92%8C%E9%93%BE%E6%8E%A5/#_2","title":"\u6587\u4ef6\u6743\u9650","text":"<p>\u6587\u4ef6\u6743\u9650\u5206\u4e3a\uff1a<code>\u8bfb (r)</code>\u3001<code>\u5199 (w)</code>\u3001<code>\u6267\u884c (x)</code>\uff0c\u5bf9\u5e94\u77403\u79cd\u6743\u503c 4\u30012\u30011\u3002</p> \u6743\u9650\u7c7b\u578b \u7f29\u5199 \u6743\u503c \u8bfb r 4 \u5199 w 2 \u6267\u884c x 1 <p>\u540c\u65f6\uff0cLinux \u5c06\u7528\u6237\u5206\u62103\u7c7b\uff1a<code>\u6587\u4ef6\u7684\u62e5\u6709\u8005 (u)</code>\u3001<code>\u62e5\u6709\u8005\u6240\u5728\u7ec4\u7684\u5176\u4ed6\u7528\u6237 (g)</code>\u3001<code>\u5176\u4ed6\u4eba (o)</code>\u3002</p> <p>\u901a\u8fc7 <code>ls -l</code> \u53ef\u4ee5\u67e5\u770b\u6587\u4ef6\u7684\u6743\u9650\u4fe1\u606f\uff1a</p> <pre><code>$ ls -l\n-rwxr-xr-x  1   boii  boii    50   6\u6708 17 16:16   file\n# \u6587\u4ef6\u6743\u9650  \u94fe\u63a5\u6570 \u6587\u4ef6\u4e3b \u6587\u4ef6\u7ec4 \u6587\u4ef6\u5927\u5c0f \u521b\u5efa/\u66f4\u65b0\u65f6\u95f4    \u6587\u4ef6\u540d\n</code></pre> <p>\u5176\u4e2d <code>-rwxr-xr-x</code> \u5c31\u662f\u8868\u793a\u6587\u4ef6\u6743\u9650\uff0c\u4e0d\u8fc7\u6700\u524d\u9762\u7684 <code>-</code> \u90a3\u4e00\u4f4d\u7684\u542b\u4e49\u662f\u6587\u4ef6\u7c7b\u578b\uff1b<code>rwxr-xr-x</code> \u5c31\u8868\u793a\u6587\u4ef6\u6743\u9650\u3002</p> <p>\u5c06\u8fd9\u4e2a\u6743\u9650\u5206\u62103\u6bb5\u6765\u770b\u3002</p> <p></p> <p>\u4e0a\u9762\u8868\u793a\u7684\u662f file \u6587\u4ef6\u7684\u62e5\u6709\u8005\u53ef\u8bfb\u53ef\u5199\u53ef\u6267\u884c\uff0c\u62e5\u6709\u8005\u6240\u5728\u7684\u7ec4\u7684\u5176\u4ed6\u6210\u5458\u53ef\u8bfb\u53ef\u6267\u884c\u4e0d\u53ef\u5199\uff0c\u5176\u4ed6\u6240\u6709\u4e0d\u662f\u540c\u7ec4\u7684\u7528\u6237\u53ef\u8bfb\u53ef\u6267\u884c\u4e0d\u53ef\u5199\u3002</p>"},{"location":"Linux/Basic/%E6%96%87%E4%BB%B6%E5%92%8C%E9%93%BE%E6%8E%A5/#_3","title":"\u94fe\u63a5","text":"<p>Linux \u7cfb\u7edf\u4e2d\u5206\u4e3a <code>\u786c\u94fe\u63a5</code> \u548c <code>\u8f6f\u94fe\u63a5</code> \u4e24\u79cd\uff0c\u4f7f\u7528 <code>ln</code> \u547d\u4ee4</p> <p>\u786c\u94fe\u63a5\uff1a</p> <ul> <li> <p>\u53ea\u80fd\u5728\u540c\u4e00\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u6587\u4ef6\u4e4b\u95f4\u8fdb\u884c</p> </li> <li> <p>\u4e0d\u80fd\u5bf9\u76ee\u5f55\u8fdb\u884c\u521b\u5efa</p> </li> <li> <p>\u5982\u679c\u5220\u9664\u786c\u94fe\u63a5\u5bf9\u5e94\u7684\u6e90\u6587\u4ef6\uff0c\u5219\u786c\u94fe\u63a5\u6587\u4ef6\u4ecd\u7136\u5b58\u5728\uff0c\u4e14\u4fdd\u5b58\u4e86\u539f\u6709\u5185\u5bb9\uff0c\u53ef\u4ee5\u8d77\u5230\u9632\u8bef\u5220\u7684\u4f5c\u7528</p> </li> <li> <p>\u786c\u94fe\u63a5\u662f\u6709\u7740\u76f8\u540c inode \u4ec5\u6587\u4ef6\u540d\u4e0d\u540c\u7684\u53e6\u4e00\u4e2a\u6587\u4ef6\uff0c\u5220\u9664\u4e00\u4e2a\u786c\u94fe\u63a5\u6587\u4ef6\u4e0d\u4f1a\u5f71\u54cd\u5176\u4ed6\u76f8\u540c inode \u7684\u6587\u4ef6\u3002</p> </li> </ul> <pre><code>link old new\nln old new\n</code></pre> <p>\u8f6f\u94fe\u63a5\uff1a</p> <ul> <li> <p>\u8f6f\u94fe\u63a5\u662f\u4e00\u4e2a\u666e\u901a\u6587\u4ef6\uff0c\u53ef\u4ee5\u5728\u4e0d\u540c\u6587\u4ef6\u7cfb\u7edf\u7684\u6587\u4ef6\u4e4b\u95f4\u8fdb\u884c</p> </li> <li> <p>\u8f6f\u94fe\u63a5\u6709\u4e00\u4e2a\u4e3b\u6b21\u5173\u7cfb\uff0c\u6e90\u6587\u4ef6\u4e3a\u4e3b\uff0c\u8f6f\u94fe\u63a5\u6587\u4ef6\u4e3a\u6b21\u3002\u5220\u9664\u8f6f\u94fe\u63a5\u4e0d\u4f1a\u5f71\u54cd\u6e90\u6587\u4ef6\uff0c\u5220\u9664\u6e90\u6587\u4ef6\u5219\u8f6f\u94fe\u63a5\u6210\u4e86\u6b7b\u94fe\u63a5\u3002</p> </li> <li> <p>\u53ef\u4ee5\u5bf9\u76ee\u5f55\u8fdb\u884c\u521b\u5efa</p> </li> <li> <p>\u8f6f\u94fe\u63a5\u6709\u81ea\u5df1\u7684 inode</p> </li> </ul> <pre><code>ln -s old_file soft_link\nln -s old_dir  soft_link_dir\n</code></pre> <p></p>"},{"location":"Linux/Basic/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/","title":"\u6587\u4ef6\u7cfb\u7edf","text":""},{"location":"Linux/Basic/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#ext2","title":"ext2\u6587\u4ef6\u7cfb\u7edf","text":""},{"location":"Linux/Basic/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#_1","title":"\u603b\u4f53\u5b58\u50a8\u5e03\u5c40","text":"<p>\u6211\u4eec\u77e5\u9053\uff0c\u4e00\u4e2a\u78c1\u76d8\u53ef\u4ee5\u5212\u5206\u6210\u591a\u4e2a\u5206\u533a\uff0c\u6bcf\u4e2a\u5206\u533a\u5fc5\u987b\u5148\u7528\u683c\u5f0f\u5316\u5de5\u5177\uff08\u4f8b\u5982\u67d0\u79cd<code>mkfs</code>\u547d\u4ee4\uff09\u683c\u5f0f\u5316\u6210\u67d0\u79cd\u683c\u5f0f\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c\u7136\u540e\u624d\u80fd\u5b58\u50a8\u6587\u4ef6\uff0c\u683c\u5f0f\u5316\u7684\u8fc7\u7a0b\u4f1a\u5728\u78c1\u76d8\u4e0a\u5199\u4e00\u4e9b\u7ba1\u7406\u5b58\u50a8\u5e03\u5c40\u7684\u4fe1\u606f\u3002\u4e0b\u56fe\u662f\u4e00\u4e2a\u78c1\u76d8\u5206\u533a\u683c\u5f0f\u5316\u6210ext2\u6587\u4ef6\u7cfb\u7edf\u540e\u7684\u5b58\u50a8\u5e03\u5c40\u3002</p> <p>\u56fe 29.2. ext2\u6587\u4ef6\u7cfb\u7edf\u7684\u603b\u4f53\u5b58\u50a8\u5e03\u5c40</p> <p></p> <p>\u6587\u4ef6\u7cfb\u7edf\u4e2d\u5b58\u50a8\u7684\u6700\u5c0f\u5355\u4f4d\u662f\u5757\uff08Block\uff09\uff0c\u4e00\u4e2a\u5757\u7a76\u7adf\u591a\u5927\u662f\u5728\u683c\u5f0f\u5316\u65f6\u786e\u5b9a\u7684\uff0c\u4f8b\u5982<code>mke2fs</code>\u7684<code>-b</code>\u9009\u9879\u53ef\u4ee5\u8bbe\u5b9a\u5757\u5927\u5c0f\u4e3a1024\u30012048\u62164096\u5b57\u8282\u3002\u800c\u4e0a\u56fe\u4e2d\u542f\u52a8\u5757\uff08Boot Block\uff09\u7684\u5927\u5c0f\u662f\u786e\u5b9a\u7684\uff0c\u5c31\u662f1KB\uff0c\u542f\u52a8\u5757\u662f\u7531PC\u6807\u51c6\u89c4\u5b9a\u7684\uff0c\u7528\u6765\u5b58\u50a8\u78c1\u76d8\u5206\u533a\u4fe1\u606f\u548c\u542f\u52a8\u4fe1\u606f\uff0c\u4efb\u4f55\u6587\u4ef6\u7cfb\u7edf\u90fd\u4e0d\u80fd\u4f7f\u7528\u542f\u52a8\u5757\u3002\u542f\u52a8\u5757\u4e4b\u540e\u624d\u662fext2\u6587\u4ef6\u7cfb\u7edf\u7684\u5f00\u59cb\uff0cext2\u6587\u4ef6\u7cfb\u7edf\u5c06\u6574\u4e2a\u5206\u533a\u5212\u6210\u82e5\u5e72\u4e2a\u540c\u6837\u5927\u5c0f\u7684\u5757\u7ec4\uff08Block Group\uff09\uff0c\u6bcf\u4e2a\u5757\u7ec4\u90fd\u7531\u4ee5\u4e0b\u90e8\u5206\u7ec4\u6210\u3002</p> <ul> <li> <p>\u8d85\u7ea7\u5757\uff08Super Block\uff09</p> <p>\u63cf\u8ff0\u6574\u4e2a\u5206\u533a\u7684\u6587\u4ef6\u7cfb\u7edf\u4fe1\u606f\uff0c\u4f8b\u5982\u5757\u5927\u5c0f\u3001\u6587\u4ef6\u7cfb\u7edf\u7248\u672c\u53f7\u3001\u4e0a\u6b21<code>mount</code>\u7684\u65f6\u95f4\u7b49\u7b49\u3002\u8d85\u7ea7\u5757\u5728\u6bcf\u4e2a\u5757\u7ec4\u7684\u5f00\u5934\u90fd\u6709\u4e00\u4efd\u62f7\u8d1d\u3002</p> </li> <li> <p>\u5757\u7ec4\u63cf\u8ff0\u7b26\u8868\uff08GDT\uff0cGroup Descriptor Table\uff09</p> <p>\u7531\u5f88\u591a\u5757\u7ec4\u63cf\u8ff0\u7b26\u7ec4\u6210\uff0c\u6574\u4e2a\u5206\u533a\u5206\u6210\u591a\u5c11\u4e2a\u5757\u7ec4\u5c31\u5bf9\u5e94\u6709\u591a\u5c11\u4e2a\u5757\u7ec4\u63cf\u8ff0\u7b26\u3002\u6bcf\u4e2a\u5757\u7ec4\u63cf\u8ff0\u7b26\uff08Group Descriptor\uff09\u5b58\u50a8\u4e00\u4e2a\u5757\u7ec4\u7684\u63cf\u8ff0\u4fe1\u606f\uff0c\u4f8b\u5982\u5728\u8fd9\u4e2a\u5757\u7ec4\u4e2d\u4ece\u54ea\u91cc\u5f00\u59cb\u662finode\u8868\uff0c\u4ece\u54ea\u91cc\u5f00\u59cb\u662f\u6570\u636e\u5757\uff0c\u7a7a\u95f2\u7684inode\u548c\u6570\u636e\u5757\u8fd8\u6709\u591a\u5c11\u4e2a\u7b49\u7b49\u3002\u548c\u8d85\u7ea7\u5757\u7c7b\u4f3c\uff0c\u5757\u7ec4\u63cf\u8ff0\u7b26\u8868\u5728\u6bcf\u4e2a\u5757\u7ec4\u7684\u5f00\u5934\u4e5f\u90fd\u6709\u4e00\u4efd\u62f7\u8d1d\uff0c\u8fd9\u4e9b\u4fe1\u606f\u662f\u975e\u5e38\u91cd\u8981\u7684\uff0c\u4e00\u65e6\u8d85\u7ea7\u5757\u610f\u5916\u635f\u574f\u5c31\u4f1a\u4e22\u5931\u6574\u4e2a\u5206\u533a\u7684\u6570\u636e\uff0c\u4e00\u65e6\u5757\u7ec4\u63cf\u8ff0\u7b26\u610f\u5916\u635f\u574f\u5c31\u4f1a\u4e22\u5931\u6574\u4e2a\u5757\u7ec4\u7684\u6570\u636e\uff0c\u56e0\u6b64\u5b83\u4eec\u90fd\u6709\u591a\u4efd\u62f7\u8d1d\u3002\u901a\u5e38\u5185\u6838\u53ea\u7528\u5230\u7b2c0\u4e2a\u5757\u7ec4\u4e2d\u7684\u62f7\u8d1d\uff0c\u5f53\u6267\u884c<code>e2fsck</code>\u68c0\u67e5\u6587\u4ef6\u7cfb\u7edf\u4e00\u81f4\u6027\u65f6\uff0c\u7b2c0\u4e2a\u5757\u7ec4\u4e2d\u7684\u8d85\u7ea7\u5757\u548c\u5757\u7ec4\u63cf\u8ff0\u7b26\u8868\u5c31\u4f1a\u62f7\u8d1d\u5230\u5176\u5b83\u5757\u7ec4\uff0c\u8fd9\u6837\u5f53\u7b2c0\u4e2a\u5757\u7ec4\u7684\u5f00\u5934\u610f\u5916\u635f\u574f\u65f6\u5c31\u53ef\u4ee5\u7528\u5176\u5b83\u62f7\u8d1d\u6765\u6062\u590d\uff0c\u4ece\u800c\u51cf\u5c11\u635f\u5931\u3002</p> </li> <li> <p>\u5757\u4f4d\u56fe\uff08Block Bitmap\uff09</p> <p>\u4e00\u4e2a\u5757\u7ec4\u4e2d\u7684\u5757\u662f\u8fd9\u6837\u5229\u7528\u7684\uff1a\u6570\u636e\u5757\uff08Data Block\uff09\u5b58\u50a8\u6240\u6709\u6587\u4ef6\u7684\u6570\u636e\uff0c\u6bd4\u5982\u67d0\u4e2a\u5206\u533a\u7684\u5757\u5927\u5c0f\u662f1024\u5b57\u8282\uff0c\u67d0\u4e2a\u6587\u4ef6\u662f2049\u5b57\u8282\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u4e09\u4e2a\u6570\u636e\u5757\u6765\u5b58\uff0c\u5373\u4f7f\u7b2c\u4e09\u4e2a\u5757\u53ea\u5b58\u4e86\u4e00\u4e2a\u5b57\u8282\u4e5f\u9700\u8981\u5360\u7528\u4e00\u4e2a\u6574\u5757\uff1b\u8d85\u7ea7\u5757\u3001\u5757\u7ec4\u63cf\u8ff0\u7b26\u8868\u3001\u5757\u4f4d\u56fe\u3001inode\u4f4d\u56fe\u3001inode\u8868\u8fd9\u51e0\u90e8\u5206\u5b58\u50a8\u8be5\u5757\u7ec4\u7684\u63cf\u8ff0\u4fe1\u606f\u3002</p> <p>\u90a3\u4e48\u5982\u4f55\u77e5\u9053\u54ea\u4e9b\u5757\u5df2\u7ecf\u7528\u6765\u5b58\u50a8\u6587\u4ef6\u6570\u636e\u6216\u5176\u5b83\u63cf\u8ff0\u4fe1\u606f\uff0c\u54ea\u4e9b\u5757\u4ecd\u7136\u7a7a\u95f2\u53ef\u7528\u5462\uff1f\u5757\u4f4d\u56fe\u5c31\u662f\u7528\u6765\u63cf\u8ff0\u6574\u4e2a\u5757\u7ec4\u4e2d\u54ea\u4e9b\u5757\u5df2\u7528\u54ea\u4e9b\u5757\u7a7a\u95f2\u7684\uff0c\u5b83\u672c\u8eab\u5360\u4e00\u4e2a\u5757\uff0c\u5176\u4e2d\u7684\u6bcf\u4e2abit\u4ee3\u8868\u672c\u5757\u7ec4\u4e2d\u7684\u4e00\u4e2a\u5757\uff0c\u8fd9\u4e2abit\u4e3a1\u8868\u793a\u8be5\u5757\u5df2\u7528\uff0c\u8fd9\u4e2abit\u4e3a0\u8868\u793a\u8be5\u5757\u7a7a\u95f2\u53ef\u7528\u3002\u4e3a\u4ec0\u4e48\u7528<code>df</code>\u547d\u4ee4\u7edf\u8ba1\u6574\u4e2a\u78c1\u76d8\u7684\u5df2\u7528\u7a7a\u95f4\u975e\u5e38\u5feb\u5462\uff1f\u56e0\u4e3a\u53ea\u9700\u8981\u67e5\u770b\u6bcf\u4e2a\u5757\u7ec4\u7684\u5757\u4f4d\u56fe\u5373\u53ef\uff0c\u800c\u4e0d\u9700\u8981\u641c\u904d\u6574\u4e2a\u5206\u533a\u3002\u76f8\u53cd\uff0c\u7528<code>du</code>\u547d\u4ee4\u67e5\u770b\u4e00\u4e2a\u8f83\u5927\u76ee\u5f55\u7684\u5df2\u7528\u7a7a\u95f4\u5c31\u975e\u5e38\u6162\uff0c\u56e0\u4e3a\u4e0d\u53ef\u907f\u514d\u5730\u8981\u641c\u904d\u6574\u4e2a\u76ee\u5f55\u7684\u6240\u6709\u6587\u4ef6\u3002</p> <p>\u4e0e\u6b64\u76f8\u8054\u7cfb\u7684\u53e6\u4e00\u4e2a\u95ee\u9898\u662f\uff1a\u5728\u683c\u5f0f\u5316\u4e00\u4e2a\u5206\u533a\u65f6\u7a76\u7adf\u4f1a\u5212\u51fa\u591a\u5c11\u4e2a\u5757\u7ec4\u5462\uff1f\u4e3b\u8981\u7684\u9650\u5236\u5728\u4e8e\u5757\u4f4d\u56fe\u672c\u8eab\u5fc5\u987b\u53ea\u5360\u4e00\u4e2a\u5757\u3002\u7528<code>mke2fs</code>\u683c\u5f0f\u5316\u65f6\u9ed8\u8ba4\u5757\u5927\u5c0f\u662f1024\u5b57\u8282\uff0c\u53ef\u4ee5\u7528<code>-b</code>\u53c2\u6570\u6307\u5b9a\u5757\u5927\u5c0f\uff0c\u73b0\u5728\u8bbe\u5757\u5927\u5c0f\u6307\u5b9a\u4e3a1024\u5b57\u8282\uff0c\u90a3\u4e48\u4e00\u4e2a\u5757\u53ef\u4ee5\u67098*1024\u4e2abit\uff0c\u8fd9\u6837\u5927\u5c0f\u7684\u4e00\u4e2a\u5757\u4f4d\u56fe\u5c31\u53ef\u4ee5\u8868\u793a8*1024\u4e2a\u5757\u7684\u5360\u7528\u60c5\u51b5\uff0c\u56e0\u6b64**\u4e00\u4e2a\u5757\u7ec4\u6700\u591a\u53ef\u4ee5\u67098*1024\u4e2a\u5757\u3002**</p> <p>\u5982\u679c\u6574\u4e2a\u5206\u533a\u6709s\u4e2a\u5757\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u6709s/(8*1024)\u4e2a\u5757\u7ec4\u3002\u683c\u5f0f\u5316\u65f6\u53ef\u4ee5\u7528<code>-g</code>\u53c2\u6570\u6307\u5b9a\u4e00\u4e2a\u5757\u7ec4\u6709\u591a\u5c11\u4e2a\u5757\uff0c\u4f46\u662f\u901a\u5e38\u4e0d\u9700\u8981\u624b\u52a8\u6307\u5b9a\uff0c<code>mke2fs</code>\u5de5\u5177\u4f1a\u8ba1\u7b97\u51fa\u6700\u4f18\u7684\u6570\u503c\u3002</p> </li> <li> <p>inode\u4f4d\u56fe\uff08inode Bitmap\uff09</p> <p>\u548c\u5757\u4f4d\u56fe\u7c7b\u4f3c\uff0c\u672c\u8eab\u5360\u4e00\u4e2a\u5757\uff0c\u5176\u4e2d\u6bcf\u4e2abit\u8868\u793a\u4e00\u4e2ainode\u662f\u5426\u7a7a\u95f2\u53ef\u7528\u3002</p> </li> <li> <p>inode\u8868\uff08inode Table\uff09</p> <p>\u6211\u4eec\u77e5\u9053\uff0c\u4e00\u4e2a\u6587\u4ef6\u9664\u4e86\u6570\u636e\u9700\u8981\u5b58\u50a8\u4e4b\u5916\uff0c\u4e00\u4e9b\u63cf\u8ff0\u4fe1\u606f\u4e5f\u9700\u8981\u5b58\u50a8\uff0c\u4f8b\u5982\u6587\u4ef6\u7c7b\u578b\uff08\u5e38\u89c4\u3001\u76ee\u5f55\u3001\u7b26\u53f7\u94fe\u63a5\u7b49\uff09\uff0c\u6743\u9650\uff0c\u6587\u4ef6\u5927\u5c0f\uff0c\u521b\u5efa/\u4fee\u6539/\u8bbf\u95ee\u65f6\u95f4\u7b49\uff0c\u4e5f\u5c31\u662f<code>ls -l</code>\u547d\u4ee4\u770b\u5230\u7684\u90a3\u4e9b\u4fe1\u606f\uff0c\u8fd9\u4e9b\u4fe1\u606f\u5b58\u5728inode\u4e2d\u800c\u4e0d\u662f\u6570\u636e\u5757\u4e2d\u3002</p> <p>\u6bcf\u4e2a\u6587\u4ef6\u90fd\u6709\u4e00\u4e2ainode\uff0c\u4e00\u4e2a\u5757\u7ec4\u4e2d\u7684\u6240\u6709inode\u7ec4\u6210\u4e86inode\u8868\u3002inode\u8868\u5360\u591a\u5c11\u4e2a\u5757\u5728\u683c\u5f0f\u5316\u65f6\u5c31\u8981\u51b3\u5b9a\u5e76\u5199\u5165\u5757\u7ec4\u63cf\u8ff0\u7b26\u4e2d\uff0c<code>mke2fs</code>\u683c\u5f0f\u5316\u5de5\u5177\u7684\u9ed8\u8ba4\u7b56\u7565\u662f\uff1a\u4e00\u4e2a\u5757\u7ec4\u6709 n \u4e2a8KB\u5c31\u5206\u914d n \u4e2ainode\u3002</p> <p>\u7531\u4e8e\u6570\u636e\u5757\u5360\u4e86\u6574\u4e2a\u5757\u7ec4\u7684\u7edd\u5927\u90e8\u5206\uff0c\u4e5f\u53ef\u4ee5\u8fd1\u4f3c\u8ba4\u4e3a\u6570\u636e\u5757\u6709 n \u4e2a8KB\u5c31\u5206\u914d n \u4e2ainode\uff0c\u6362\u53e5\u8bdd\u8bf4\uff0c\u5982\u679c\u5e73\u5747\u6bcf\u4e2a\u6587\u4ef6\u7684\u5927\u5c0f\u662f8KB\uff0c\u5f53\u5206\u533a\u5b58\u6ee1\u7684\u65f6\u5019inode\u8868\u4f1a\u5f97\u5230\u6bd4\u8f83\u5145\u5206\u7684\u5229\u7528\uff0c\u6570\u636e\u5757\u4e5f\u4e0d\u6d6a\u8d39\u3002</p> <p>\u5982\u679c\u8fd9\u4e2a\u5206\u533a\u5b58\u7684\u90fd\u662f\u5f88\u5927\u7684\u6587\u4ef6\uff08\u6bd4\u5982\u7535\u5f71\uff09\uff0c\u5219\u6570\u636e\u5757\u7528\u5b8c\u7684\u65f6\u5019inode\u4f1a\u6709\u4e00\u4e9b\u6d6a\u8d39\uff0c\u5982\u679c\u8fd9\u4e2a\u5206\u533a\u5b58\u7684\u90fd\u662f\u5f88\u5c0f\u7684\u6587\u4ef6\uff08\u6bd4\u5982\u6e90\u4ee3\u7801\uff09\uff0c\u5219\u6709\u53ef\u80fd\u6570\u636e\u5757\u8fd8\u6ca1\u7528\u5b8cinode\u5c31\u5df2\u7ecf\u7528\u5b8c\u4e86\uff0c\u6570\u636e\u5757\u53ef\u80fd\u6709\u5f88\u5927\u7684\u6d6a\u8d39\u3002</p> <p>\u5982\u679c\u7528\u6237\u5728\u683c\u5f0f\u5316\u65f6\u80fd\u591f\u5bf9\u8fd9\u4e2a\u5206\u533a\u4ee5\u540e\u8981\u5b58\u50a8\u7684\u6587\u4ef6\u5927\u5c0f\u505a\u4e00\u4e2a\u9884\u6d4b\uff0c\u4e5f\u53ef\u4ee5\u7528<code>mke2fs</code>\u7684<code>-i</code>\u53c2\u6570\u624b\u52a8\u6307\u5b9a\u6bcf\u591a\u5c11\u4e2a\u5b57\u8282\u5206\u914d\u4e00\u4e2ainode\u3002</p> </li> <li> <p>\u6570\u636e\u5757</p> <p>\u6839\u636e\u4e0d\u540c\u7684\u6587\u4ef6\u7c7b\u578b\u6709\u4ee5\u4e0b\u51e0\u79cd\u60c5\u51b5\uff1a</p> <ul> <li>\u5bf9\u4e8e\u5e38\u89c4\u6587\u4ef6\uff0c\u6587\u4ef6\u7684\u6570\u636e\u5b58\u50a8\u5728\u6570\u636e\u5757\u4e2d\u3002</li> <li>\u5bf9\u4e8e\u76ee\u5f55\uff0c\u8be5\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u540d\u548c\u76ee\u5f55\u540d\u5b58\u50a8\u5728\u6570\u636e\u5757\u4e2d\uff0c(\u6ce8\u610f\u300c\u6587\u4ef6\u540d\u300d\u4fdd\u5b58\u5728\u5b83\u6240\u5728\u76ee\u5f55\u7684\u6570\u636e\u5757\u4e2d\uff0c\u9664\u6587\u4ef6\u540d\u4e4b\u5916\uff0c<code>ls -l</code> \u547d\u4ee4\u770b\u5230\u7684\u5176\u5b83\u4fe1\u606f\u90fd\u4fdd\u5b58\u5728\u8be5\u6587\u4ef6\u7684 inode \u4e2d\u3002\u6ce8\u610f\u8fd9\u4e2a\u6982\u5ff5\uff1a\u76ee\u5f55\u4e5f\u662f\u4e00\u79cd\u6587\u4ef6\uff0c\u662f\u4e00\u79cd\u7279\u6b8a\u7c7b\u578b\u7684\u6587\u4ef6\u3002\uff09</li> <li>\u5bf9\u4e8e\u7b26\u53f7\u94fe\u63a5\uff0c\u5982\u679c\u76ee\u6807\u8def\u5f84\u540d\u8f83\u77ed\u5219\u76f4\u63a5\u4fdd\u5b58\u5728 inode \u4e2d\u4ee5\u4fbf\u66f4\u5feb\u5730\u67e5\u627e\uff0c\u5982\u679c\u76ee\u6807\u8def\u5f84\u540d\u8f83\u957f\u5219\u5206\u914d\u4e00\u4e2a\u6570\u636e\u5757\u6765\u4fdd\u5b58\u3002</li> <li>\u8bbe\u5907\u6587\u4ef6\u3001FIFO \u548c socket \u7b49\u7279\u6b8a\u6587\u4ef6\u6ca1\u6709\u6570\u636e\u5757\uff0c\u8bbe\u5907\u6587\u4ef6\u7684\u4e3b\u8bbe\u5907\u53f7\u548c\u6b21\u8bbe\u5907\u53f7\u4fdd\u5b58\u5728 inode \u4e2d\u3002</li> </ul> </li> </ul> <p>\u73b0\u5728\u505a\u51e0\u4e2a\u5c0f\u5b9e\u9a8c\u6765\u7406\u89e3\u8fd9\u4e9b\u6982\u5ff5\u3002\u4f8b\u5982\u5728<code>home</code>\u76ee\u5f55\u4e0b<code>ls -l</code>\uff1a</p> <pre><code>$ ls -l\ntotal 32\ndrwxr-xr-x 114 akaedu akaedu 12288 2008-10-25 11:33 akaedu\ndrwxr-xr-x 114 ftp    ftp     4096 2008-10-25 10:30 ftp\ndrwx------   2 root   root   16384 2008-07-04 05:58 lost+found\n</code></pre> <p>\u4e3a\u4ec0\u4e48\u5404\u76ee\u5f55\u7684\u5927\u5c0f\u90fd\u662f4096\u7684\u6574\u6570\u500d\uff1f\u56e0\u4e3a\u8fd9\u4e2a\u5206\u533a\u7684\u5757\u5927\u5c0f\u662f4096\uff0c\u76ee\u5f55\u7684\u5927\u5c0f\u603b\u662f\u6570\u636e\u5757\u7684\u6574\u6570\u500d\u3002</p> <p>\u4e3a\u4ec0\u4e48\u6709\u7684\u76ee\u5f55\u5927\u6709\u7684\u76ee\u5f55\u5c0f\uff1f\u56e0\u4e3a\u76ee\u5f55\u7684\u6570\u636e\u5757\u4fdd\u5b58\u7740\u5b83\u4e0b\u8fb9\u6240\u6709\u6587\u4ef6\u548c\u76ee\u5f55\u7684\u540d\u5b57\uff0c\u5982\u679c\u4e00\u4e2a\u76ee\u5f55\u4e2d\u7684\u6587\u4ef6\u5f88\u591a\uff0c\u4e00\u4e2a\u5757\u88c5\u4e0d\u4e0b\u8fd9\u4e48\u591a\u6587\u4ef6\u540d\uff0c\u5c31\u53ef\u80fd\u5206\u914d\u66f4\u591a\u7684\u6570\u636e\u5757\u7ed9\u8fd9\u4e2a\u76ee\u5f55\u3002</p> <p>\u518d\u6bd4\u5982\uff1a</p> <pre><code>$ ls -l /dev\n......\nprw-r-----  1 syslog adm            0 2008-10-25 11:39 xconsole\ncrw-rw-rw-  1 root   root      1,   5 2008-10-24 16:44 zero\n</code></pre> <p><code>xconsole</code>\u6587\u4ef6\u7684\u7c7b\u578b\u662f<code>p</code>\uff08\u8868\u793apipe\uff09\uff0c\u662f\u4e00\u4e2aFIFO\u6587\u4ef6\uff0c\u540e\u9762\u4f1a\u8bb2\u5230\u5b83\u5176\u5b9e\u662f\u4e00\u5757\u5185\u6838\u7f13\u51b2\u533a\u7684\u6807\u8bc6\uff0c\u4e0d\u5728\u78c1\u76d8\u4e0a\u4fdd\u5b58\u6570\u636e\uff0c\u56e0\u6b64\u6ca1\u6709\u6570\u636e\u5757\uff0c\u6587\u4ef6\u5927\u5c0f\u662f0\u3002</p> <p><code>zero</code>\u6587\u4ef6\u7684\u7c7b\u578b\u662f<code>c</code>\uff0c\u8868\u793a\u5b57\u7b26\u8bbe\u5907\u6587\u4ef6\uff0c\u5b83\u4ee3\u8868\u5185\u6838\u4e2d\u7684\u4e00\u4e2a\u8bbe\u5907\u9a71\u52a8\u7a0b\u5e8f\uff0c\u4e5f\u6ca1\u6709\u6570\u636e\u5757\uff0c\u539f\u672c\u5e94\u8be5\u5199\u6587\u4ef6\u5927\u5c0f\u7684\u5730\u65b9\u5199\u4e86<code>1, 5</code>\u8fd9\u4e24\u4e2a\u6570\u5b57\uff0c\u8868\u793a\u4e3b\u8bbe\u5907\u53f7\u548c\u6b21\u8bbe\u5907\u53f7\uff0c\u8bbf\u95ee\u8be5\u6587\u4ef6\u65f6\uff0c\u5185\u6838\u6839\u636e\u8bbe\u5907\u53f7\u627e\u5230\u76f8\u5e94\u7684\u9a71\u52a8\u7a0b\u5e8f\u3002</p> <p>\u518d\u6bd4\u5982\uff1a</p> <pre><code>$ touch hello\n$ ln -s ./hello halo\n$ ls -l\ntotal 0\nlrwxrwxrwx 1 akaedu akaedu 7 2008-10-25 15:04 halo -&gt; ./hello\n-rw-r--r-- 1 akaedu akaedu 0 2008-10-25 15:04 hello\n</code></pre> <p>\u6587\u4ef6<code>hello</code>\u662f\u521a\u521b\u5efa\u7684\uff0c\u5b57\u8282\u6570\u4e3a0\uff0c\u7b26\u53f7\u94fe\u63a5\u6587\u4ef6<code>halo</code>\u6307\u5411<code>hello</code>\uff0c\u5b57\u8282\u6570\u5374\u662f7\uff0c\u4e3a\u4ec0\u4e48\u5462\uff1f\u5176\u5b9e7\u5c31\u662f\u201c./hello\u201d\u8fd97\u4e2a\u5b57\u7b26\uff0c\u7b26\u53f7\u94fe\u63a5\u6587\u4ef6\u5c31\u4fdd\u5b58\u7740\u8fd9\u6837\u4e00\u4e2a\u8def\u5f84\u540d\u3002</p> <p>\u518d\u8bd5\u8bd5\u786c\u94fe\u63a5\uff1a</p> <pre><code>$ ln ./hello hello2\n$ ls -l\ntotal 0\nlrwxrwxrwx 1 akaedu akaedu 7 2008-10-25 15:08 halo -&gt; ./hello\n-rw-r--r-- 2 akaedu akaedu 0 2008-10-25 15:04 hello\n-rw-r--r-- 2 akaedu akaedu 0 2008-10-25 15:04 hello2\n</code></pre> <p><code>hello2</code>\u548c<code>hello</code>\u9664\u4e86\u6587\u4ef6\u540d\u4e0d\u4e00\u6837\u4e4b\u5916\uff0c\u522b\u7684\u5c5e\u6027\u90fd\u4e00\u6a21\u4e00\u6837\uff0c\u5e76\u4e14<code>hello</code>\u7684\u5c5e\u6027\u53d1\u751f\u4e86\u53d8\u5316\uff0c\u7b2c\u4e8c\u680f\u7684\u6570\u5b57\u539f\u672c\u662f1\uff0c\u73b0\u5728\u53d8\u62102\u4e86\u3002</p> <p>\u4ece\u6839\u672c\u4e0a\u8bf4\uff0c<code>hello</code>\u548c<code>hello2</code>\u662f\u540c\u4e00\u4e2a\u6587\u4ef6\u5728\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u4e24\u4e2a\u540d\u5b57\uff0c<code>ls -l</code>\u7b2c\u4e8c\u680f\u7684\u6570\u5b57\u662f\u786c\u94fe\u63a5\u6570\uff0c\u8868\u793a\u4e00\u4e2a\u6587\u4ef6\u5728\u6587\u4ef6\u7cfb\u7edf\u4e2d\u6709\u51e0\u4e2a\u540d\u5b57\uff08\u8fd9\u4e9b\u540d\u5b57\u53ef\u4ee5\u4fdd\u5b58\u5728\u4e0d\u540c\u76ee\u5f55\u7684\u6570\u636e\u5757\u4e2d\uff0c\u6216\u8005\u8bf4\u53ef\u4ee5\u4f4d\u4e8e\u4e0d\u540c\u7684\u8def\u5f84\u4e0b\uff09\uff0c\u786c\u94fe\u63a5\u6570\u4e5f\u4fdd\u5b58\u5728inode\u4e2d\u3002\u65e2\u7136\u662f\u540c\u4e00\u4e2a\u6587\u4ef6\uff0cinode\u5f53\u7136\u53ea\u6709\u4e00\u4e2a\uff0c\u6240\u4ee5\u7528<code>ls -l</code>\u770b\u5b83\u4eec\u7684\u5c5e\u6027\u662f\u4e00\u6a21\u4e00\u6837\u7684\uff0c\u56e0\u4e3a\u90fd\u662f\u4ece\u8fd9\u4e2ainode\u91cc\u8bfb\u51fa\u6765\u7684\u3002</p> <p>\u518d\u7814\u7a76\u4e00\u4e0b\u76ee\u5f55\u7684\u786c\u94fe\u63a5\u6570\uff1a</p> <pre><code>$ mkdir a\n$ mkdir a/b\n$ ls -ld a\ndrwxr-xr-x 3 akaedu akaedu 4096 2008-10-25 16:15 a\n$ ls -la a\ntotal 20\ndrwxr-xr-x   3 akaedu akaedu  4096 2008-10-25 16:15 .\ndrwxr-xr-x 115 akaedu akaedu 12288 2008-10-25 16:14 ..\ndrwxr-xr-x   2 akaedu akaedu  4096 2008-10-25 16:15 b\n$ ls -la a/b\ntotal 8\ndrwxr-xr-x 2 akaedu akaedu 4096 2008-10-25 16:15 .\ndrwxr-xr-x 3 akaedu akaedu 4096 2008-10-25 16:15 ..\n</code></pre> <p>\u9996\u5148\u521b\u5efa\u76ee\u5f55<code>a</code>\uff0c\u7136\u540e\u5728\u5b83\u4e0b\u9762\u521b\u5efa\u5b50\u76ee\u5f55<code>a/b</code>\u3002</p> <p>\u76ee\u5f55<code>a</code>\u7684\u786c\u94fe\u63a5\u6570\u662f3\uff0c\u8fd93\u4e2a\u540d\u5b57\u5206\u522b\u662f\u5f53\u524d\u76ee\u5f55\u4e0b\u7684<code>a</code>\uff0c<code>a</code>\u76ee\u5f55\u4e0b\u7684<code>.</code>\u548c<code>b</code>\u76ee\u5f55\u4e0b\u7684<code>..</code>\u3002</p> <p>\u76ee\u5f55<code>b</code>\u7684\u786c\u94fe\u63a5\u6570\u662f2\uff0c\u8fd9\u4e24\u4e2a\u540d\u5b57\u5206\u522b\u662f<code>a</code>\u76ee\u5f55\u4e0b\u7684<code>b</code>\u548c<code>b</code>\u76ee\u5f55\u4e0b\u7684<code>.</code>\u3002</p> <p>\u6ce8\u610f\uff0c\u76ee\u5f55\u7684\u786c\u94fe\u63a5\u53ea\u80fd\u8fd9\u79cd\u65b9\u5f0f\u521b\u5efa\uff0c\u7528<code>ln</code>\u547d\u4ee4\u53ef\u4ee5\u521b\u5efa\u76ee\u5f55\u7684\u7b26\u53f7\u94fe\u63a5\uff0c\u4f46\u4e0d\u80fd\u521b\u5efa\u76ee\u5f55\u7684\u786c\u94fe\u63a5\u3002</p>"},{"location":"Linux/Basic/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#_2","title":"\u5b9e\u4f8b\u5256\u6790","text":"<p>\u5982\u679c\u8981\u683c\u5f0f\u5316\u4e00\u4e2a\u5206\u533a\u6765\u7814\u7a76\u6587\u4ef6\u7cfb\u7edf\u683c\u5f0f\u5219\u5fc5\u987b\u6709\u4e00\u4e2a\u7a7a\u95f2\u7684\u78c1\u76d8\u5206\u533a\uff0c\u4e3a\u4e86\u65b9\u4fbf\u5b9e\u9a8c\uff0c\u6211\u4eec\u628a\u4e00\u4e2a\u6587\u4ef6\u5f53\u4f5c\u5206\u533a\u6765\u683c\u5f0f\u5316\uff0c\u7136\u540e\u5206\u6790\u8fd9\u4e2a\u6587\u4ef6\u4e2d\u7684\u6570\u636e\u6765\u5370\u8bc1\u4e0a\u9762\u6240\u8bb2\u7684\u8981\u70b9\u3002</p> <p>\u9996\u5148\u521b\u5efa\u4e00\u4e2a1MB\u7684\u6587\u4ef6\u5e76\u6e05\u96f6\uff1a</p> <pre><code>$ dd if=/dev/zero of=fs count=256 bs=4K\n</code></pre> <p>\u6211\u4eec\u77e5\u9053<code>cp</code>\u547d\u4ee4\u53ef\u4ee5\u628a\u4e00\u4e2a\u6587\u4ef6\u62f7\u8d1d\u6210\u53e6\u4e00\u4e2a\u6587\u4ef6\uff0c\u800c<code>dd</code>\u547d\u4ee4\u53ef\u4ee5\u628a\u4e00\u4e2a\u6587\u4ef6\u7684\u4e00\u90e8\u5206\u62f7\u8d1d\u6210\u53e6\u4e00\u4e2a\u6587\u4ef6\u3002</p> <p>\u8fd9\u4e2a\u547d\u4ee4\u7684\u4f5c\u7528\u662f\u628a<code>/dev/zero</code>\u6587\u4ef6\u5f00\u5934\u76841M\uff08256\u00d74K\uff09\u5b57\u8282\u62f7\u8d1d\u6210\u6587\u4ef6\u540d\u4e3a<code>fs</code>\u7684\u6587\u4ef6\u3002</p> <p>\u521a\u624d\u6211\u4eec\u770b\u5230<code>/dev/zero</code>\u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u8bbe\u5907\u6587\u4ef6\uff0c\u5b83\u6ca1\u6709\u78c1\u76d8\u6570\u636e\u5757\uff0c\u5bf9\u5b83\u8fdb\u884c\u8bfb\u64cd\u4f5c\u4f20\u7ed9\u8bbe\u5907\u53f7\u4e3a<code>1, 5</code>\u7684\u9a71\u52a8\u7a0b\u5e8f\u3002<code>/dev/zero</code>\u8fd9\u4e2a\u6587\u4ef6\u53ef\u4ee5\u770b\u4f5c\u662f\u65e0\u7a77\u5927\u7684\uff0c\u4e0d\u7ba1\u4ece\u54ea\u91cc\u5f00\u59cb\u8bfb\uff0c\u8bfb\u51fa\u6765\u7684\u90fd\u662f\u5b57\u82820x00\u3002\u56e0\u6b64\u8fd9\u4e2a\u547d\u4ee4\u62f7\u8d1d\u4e861M\u4e2a0x00\u5230<code>fs</code>\u6587\u4ef6\u3002<code>if</code>\u548c<code>of</code>\u53c2\u6570\u8868\u793a\u8f93\u5165\u6587\u4ef6\u548c\u8f93\u51fa\u6587\u4ef6\uff0c<code>count</code>\u548c<code>bs</code>\u53c2\u6570\u8868\u793a\u62f7\u8d1d\u591a\u5c11\u6b21\uff0c\u6bcf\u6b21\u62f7\u591a\u5c11\u5b57\u8282\u3002</p> <p>\u505a\u597d\u4e4b\u540e\u5bf9\u6587\u4ef6<code>fs</code>\u8fdb\u884c\u683c\u5f0f\u5316\uff0c\u4e5f\u5c31\u662f*\u628a\u8fd9\u4e2a\u6587\u4ef6\u7684\u6570\u636e\u5757\u5408\u8d77\u6765\u770b\u6210\u4e00\u4e2a1MB\u7684\u78c1\u76d8\u5206\u533a\uff0c\u5728\u8fd9\u4e2a\u5206\u533a\u4e0a\u518d\u5212\u5206\u51fa\u5757\u7ec4*\u3002</p> <pre><code>$ mke2fs fs\nmke2fs 1.40.2 (12-Jul-2007)\nfs is not a block special device.\nProceed anyway? (y,n) \uff08\u8f93\u5165y\u56de\u8f66\uff09\nFilesystem label=\nOS type: Linux\nBlock size=1024 (log=0)\nFragment size=1024 (log=0)\n128 inodes, 1024 blocks\n51 blocks (4.98%) reserved for the super user\nFirst data block=1\nMaximum filesystem blocks=1048576\n1 block group\n8192 blocks per group, 8192 fragments per group\n128 inodes per group\n\nWriting inode tables: done                            \nWriting superblocks and filesystem accounting information: done\n\nThis filesystem will be automatically checked every 27 mounts or\n180 days, whichever comes first.  Use tune2fs -c or -i to override.\n</code></pre> <p>\u683c\u5f0f\u5316\u4e00\u4e2a\u771f\u6b63\u7684\u5206\u533a\u5e94\u8be5\u6307\u5b9a\u5757\u8bbe\u5907\u6587\u4ef6\u540d\uff0c\u4f8b\u5982<code>/dev/sda1</code>\uff0c\u800c\u8fd9\u4e2a<code>fs</code>\u662f\u5e38\u89c4\u6587\u4ef6\u800c\u4e0d\u662f\u5757\u8bbe\u5907\u6587\u4ef6\uff0c<code>mke2fs</code>\u8ba4\u4e3a\u7528\u6237\u6709\u53ef\u80fd\u662f\u8bef\u64cd\u4f5c\u4e86\uff0c\u6240\u4ee5\u7ed9\u51fa\u63d0\u793a\uff0c\u8981\u6c42\u786e\u8ba4\u662f\u5426\u771f\u7684\u8981\u683c\u5f0f\u5316\uff0c\u8f93\u5165<code>y</code>\u56de\u8f66\u5b8c\u6210\u683c\u5f0f\u5316\u3002</p> <p>\u73b0\u5728<code>fs</code>\u7684\u5927\u5c0f\u4ecd\u7136\u662f1MB\uff0c\u4f46\u4e0d\u518d\u662f\u51680\u4e86\uff0c\u5176\u4e2d\u5df2\u7ecf\u6709\u4e86\u5757\u7ec4\u548c\u63cf\u8ff0\u4fe1\u606f\u3002\u7528<code>dumpe2fs</code>\u5de5\u5177\u53ef\u4ee5\u67e5\u770b\u8fd9\u4e2a\u5206\u533a\u7684\u8d85\u7ea7\u5757\u548c\u5757\u7ec4\u63cf\u8ff0\u7b26\u8868\u4e2d\u7684\u4fe1\u606f\uff1a</p> <pre><code>$ dumpe2fs fs\ndumpe2fs 1.40.2 (12-Jul-2007)\nFilesystem volume name:   &lt;none&gt;\nLast mounted on:          &lt;not available&gt;\nFilesystem UUID:          8e1f3b7a-4d1f-41dc-8928-526e43b2fd74\nFilesystem magic number:  0xEF53\nFilesystem revision #:    1 (dynamic)\nFilesystem features:      resize_inode dir_index filetype sparse_super\nFilesystem flags:         signed directory hash \nDefault mount options:    (none)\nFilesystem state:         clean\nErrors behavior:          Continue\nFilesystem OS type:       Linux\nInode count:              128\nBlock count:              1024\nReserved block count:     51\nFree blocks:              986\nFree inodes:              117\nFirst block:              1\nBlock size:               1024\nFragment size:            1024\nReserved GDT blocks:      3\nBlocks per group:         8192\nFragments per group:      8192\nInodes per group:         128\nInode blocks per group:   16\nFilesystem created:       Sun Dec 16 14:56:59 2007\nLast mount time:          n/a\nLast write time:          Sun Dec 16 14:56:59 2007\nMount count:              0\nMaximum mount count:      30\nLast checked:             Sun Dec 16 14:56:59 2007\nCheck interval:           15552000 (6 months)\nNext check after:         Fri Jun 13 14:56:59 2008\nReserved blocks uid:      0 (user root)\nReserved blocks gid:      0 (group root)\nFirst inode:              11\nInode size:               128\nDefault directory hash:   tea\nDirectory Hash Seed:      6d0e58bd-b9db-41ae-92b3-4563a02a5981\n\n\nGroup 0: (Blocks 1-1023)\n  Primary superblock at 1, Group descriptors at 2-2\n  Reserved GDT blocks at 3-5\n  Block bitmap at 6 (+5), Inode bitmap at 7 (+6)\n  Inode table at 8-23 (+7)\n  986 free blocks, 117 free inodes, 2 directories\n  Free blocks: 38-1023\n  Free inodes: 12-128\n\n128 inodes per group, 8 inodes per block, so: 16 blocks for inode table\n</code></pre> <p>\u6839\u636e\u4e0a\u9762\u8bb2\u8fc7\u7684\u77e5\u8bc6\u7b80\u5355\u8ba1\u7b97\u4e00\u4e0b\uff0c\u5757\u5927\u5c0f\u662f1024\u5b57\u8282\uff0c1MB\u7684\u5206\u533a\u5171\u67091024\u4e2a\u5757\uff0c\u7b2c0\u4e2a\u5757\u662f\u542f\u52a8\u5757\uff0c\u542f\u52a8\u5757\u4e4b\u540e\u624d\u7b97ext2\u6587\u4ef6\u7cfb\u7edf\u7684\u5f00\u59cb\uff0c\u56e0\u6b64Group 0\u5360\u636e\u7b2c1\u4e2a\u5230\u7b2c1023\u4e2a\u5757\uff0c\u51711023\u4e2a\u5757\u3002\u5757\u4f4d\u56fe\u5360\u4e00\u4e2a\u5757\uff0c\u5171\u67091024\u00d78=8192\u4e2abit\uff0c\u8db3\u591f\u8868\u793a\u8fd91023\u4e2a\u5757\u4e86\uff0c\u56e0\u6b64\u53ea\u8981\u4e00\u4e2a\u5757\u7ec4\u5c31\u591f\u4e86\u3002\u9ed8\u8ba4\u662f\u6bcf8KB\u5206\u914d\u4e00\u4e2ainode\uff0c\u56e0\u6b641MB\u7684\u5206\u533a\u5bf9\u5e94128\u4e2ainode\uff0c\u8fd9\u4e9b\u6570\u636e\u90fd\u548c<code>dumpe2fs</code>\u7684\u8f93\u51fa\u543b\u5408\u3002</p> <p>\u7528\u5e38\u89c4\u6587\u4ef6\u5236\u4f5c\u800c\u6210\u7684\u6587\u4ef6\u7cfb\u7edf\u4e5f\u53ef\u4ee5\u50cf\u78c1\u76d8\u5206\u533a\u4e00\u6837<code>mount</code>\u5230\u67d0\u4e2a\u76ee\u5f55\uff0c\u4f8b\u5982\uff1a</p> <pre><code>$ sudo mount -o loop fs /mnt\n$ cd /mnt/\n$ ls -la\ntotal 17\ndrwxr-xr-x  3 akaedu akaedu  1024 2008-10-25 12:20 .\ndrwxr-xr-x 21 root    root     4096 2008-08-18 08:54 ..\ndrwx------  2 root    root    12288 2008-10-25 12:20 lost+found\n</code></pre> <p><code>-o loop</code>\u9009\u9879\u544a\u8bc9<code>mount</code>\u8fd9\u662f\u4e00\u4e2a\u5e38\u89c4\u6587\u4ef6\u800c\u4e0d\u662f\u4e00\u4e2a\u5757\u8bbe\u5907\u6587\u4ef6\u3002<code>mount</code>\u4f1a\u628a\u5b83\u7684\u6570\u636e\u5757\u4e2d\u7684\u6570\u636e\u5f53\u4f5c\u5206\u533a\u683c\u5f0f\u6765\u89e3\u91ca\u3002\u6587\u4ef6\u7cfb\u7edf\u683c\u5f0f\u5316\u4e4b\u540e\u5728\u6839\u76ee\u5f55\u4e0b\u81ea\u52a8\u751f\u6210\u4e09\u4e2a\u5b50\u76ee\u5f55\uff1a<code>.</code>\uff0c<code>..</code>\u548c<code>lost+found</code>\u3002</p> <p>\u5176\u5b83\u5b50\u76ee\u5f55\u4e0b\u7684<code>.</code>\u8868\u793a\u5f53\u524d\u76ee\u5f55\uff0c<code>..</code>\u8868\u793a\u4e0a\u4e00\u7ea7\u76ee\u5f55\uff0c\u800c\u6839\u76ee\u5f55\u7684<code>.</code>\u548c<code>..</code>\u90fd\u8868\u793a\u6839\u76ee\u5f55\u672c\u8eab\u3002</p> <p><code>lost+found</code>\u76ee\u5f55\u7531<code>e2fsck</code>\u5de5\u5177\u4f7f\u7528\uff0c\u5982\u679c\u5728\u68c0\u67e5\u78c1\u76d8\u65f6\u53d1\u73b0\u9519\u8bef\uff0c\u5c31\u628a\u6709\u9519\u8bef\u7684\u5757\u6302\u5728\u8fd9\u4e2a\u76ee\u5f55\u4e0b\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u5757\u4e0d\u77e5\u9053\u662f\u8c01\u7684\uff0c\u627e\u4e0d\u5230\u4e3b\uff0c\u5c31\u653e\u5728\u8fd9\u91cc\u201c\u5931\u7269\u62db\u9886\u201d\u4e86\u3002</p> <p>\u73b0\u5728\u53ef\u4ee5\u5728<code>/mnt</code>\u76ee\u5f55\u4e0b\u6dfb\u52a0\u5220\u9664\u6587\u4ef6\uff0c\u8fd9\u4e9b\u64cd\u4f5c\u4f1a\u81ea\u52a8\u4fdd\u5b58\u5230\u6587\u4ef6<code>fs</code>\u4e2d\u3002\u7136\u540e\u628a\u8fd9\u4e2a\u5206\u533a<code>umount</code>\u4e0b\u6765\uff0c\u4ee5\u786e\u4fdd\u6240\u6709\u7684\u6539\u52a8\u90fd\u4fdd\u5b58\u5230\u6587\u4ef6\u4e2d\u4e86\u3002</p> <pre><code>$ sudo umount /mnt\n</code></pre> <p>\u6ce8\u610f\uff0c\u4e0b\u9762\u7684\u5b9e\u9a8c\u6b65\u9aa4\u662f\u5bf9\u65b0\u521b\u5efa\u7684\u6587\u4ef6\u7cfb\u7edf\u505a\u7684\uff0c\u5982\u679c\u4f60\u5728\u6587\u4ef6\u7cfb\u7edf\u4e2d\u6dfb\u52a0\u5220\u9664\u8fc7\u6587\u4ef6\uff0c\u8ddf\u7740\u505a\u4e0b\u9762\u7684\u6b65\u9aa4\u65f6\u7ed3\u679c\u53ef\u80fd\u548c\u6211\u5199\u7684\u4e0d\u592a\u4e00\u6837\uff0c\u4e0d\u8fc7\u4e5f\u4e0d\u5f71\u54cd\u7406\u89e3\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u7528\u4e8c\u8fdb\u5236\u67e5\u770b\u5de5\u5177\u67e5\u770b\u8fd9\u4e2a\u6587\u4ef6\u7cfb\u7edf\u7684\u6240\u6709\u5b57\u8282\uff0c\u5e76\u4e14\u540c<code>dumpe2fs</code>\u5de5\u5177\u7684\u8f93\u51fa\u4fe1\u606f\u76f8\u6bd4\u8f83\uff0c\u5c31\u53ef\u4ee5\u5f88\u597d\u5730\u7406\u89e3\u6587\u4ef6\u7cfb\u7edf\u7684\u5b58\u50a8\u5e03\u5c40\u4e86\u3002</p> <pre><code>$ od -tx1 -Ax fs\n000000 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n*\n000400 80 00 00 00 00 04 00 00 33 00 00 00 da 03 00 00\n000410 75 00 00 00 01 00 00 00 00 00 00 00 00 00 00 00\n......\n</code></pre> <p>\u5176\u4e2d\u4ee5*\u5f00\u5934\u7684\u884c\u8868\u793a\u8fd9\u4e00\u6bb5\u6570\u636e\u5168\u662f\u96f6\u56e0\u6b64\u7701\u7565\u4e86\u3002\u4e0b\u9762\u8be6\u7ec6\u5206\u6790<code>od</code>\u8f93\u51fa\u7684\u4fe1\u606f\u3002</p> <p>\u4ece000000\u5f00\u59cb\u76841KB\u662f\u542f\u52a8\u5757\uff0c\u7531\u4e8e\u8fd9\u4e0d\u662f\u4e00\u4e2a\u771f\u6b63\u7684\u78c1\u76d8\u5206\u533a\uff0c\u542f\u52a8\u5757\u7684\u5185\u5bb9\u5168\u90e8\u4e3a\u96f6\u3002\u4ece000400\u52300007ff\u76841KB\u662f\u8d85\u7ea7\u5757\uff0c\u5bf9\u7167\u7740<code>dumpe2fs</code>\u7684\u8f93\u51fa\u4fe1\u606f\uff0c\u8be6\u7ec6\u5206\u6790\u5982\u4e0b\uff1a</p> <p>\u56fe 29.3. \u8d85\u7ea7\u5757</p> <p></p> <p>\u8d85\u7ea7\u5757\u4e2d\u4ece0004d0\u5230\u672b\u5c3e\u7684204\u4e2a\u5b57\u8282\u662f\u586b\u5145\u5b57\u8282\uff0c\u4fdd\u7559\u672a\u7528\uff0c\u4e0a\u56fe\u672a\u753b\u51fa\u3002\u6ce8\u610f\uff0cext2\u6587\u4ef6\u7cfb\u7edf\u4e2d\u5404\u5b57\u6bb5\u90fd\u662f\u6309\u5c0f\u7aef\u5b58\u50a8\u7684\uff0c\u5982\u679c\u628a\u5b57\u8282\u5728\u6587\u4ef6\u4e2d\u7684\u4f4d\u7f6e\u770b\u4f5c\u5730\u5740\uff0c\u90a3\u4e48\u9760\u8fd1\u6587\u4ef6\u5f00\u5934\u7684\u662f\u4f4e\u5730\u5740\uff0c\u5b58\u4f4e\u5b57\u8282\u3002\u5404\u5b57\u6bb5\u7684\u4f4d\u7f6e\u3001\u957f\u5ea6\u548c\u542b\u4e49\u8be6\u89c1[ULK]\u3002</p> <p>\u4ece000800\u5f00\u59cb\u662f\u5757\u7ec4\u63cf\u8ff0\u7b26\u8868\uff0c\u8fd9\u4e2a\u6587\u4ef6\u7cfb\u7edf\u8f83\u5c0f\uff0c\u53ea\u6709\u4e00\u4e2a\u5757\u7ec4\u63cf\u8ff0\u7b26\uff0c\u5bf9\u7167\u7740<code>dumpe2fs</code>\u7684\u8f93\u51fa\u4fe1\u606f\u5206\u6790\u5982\u4e0b\uff1a</p> <pre><code>...\nGroup 0: (Blocks 1-1023)\n  Primary superblock at 1, Group descriptors at 2-2\n  Reserved GDT blocks at 3-5\n  Block bitmap at 6 (+5), Inode bitmap at 7 (+6)\n  Inode table at 8-23 (+7)\n  986 free blocks, 117 free inodes, 2 directories\n  Free blocks: 38-1023\n  Free inodes: 12-128\n...\n</code></pre> <p>\u56fe 29.4. \u5757\u7ec4\u63cf\u8ff0\u7b26</p> <p></p> <p>\u6574\u4e2a\u6587\u4ef6\u7cfb\u7edf\u662f1MB\uff0c\u6bcf\u4e2a\u5757\u662f1KB\uff0c\u5e94\u8be5\u67091024\u4e2a\u5757\uff0c\u9664\u53bb\u542f\u52a8\u5757\u8fd8\u67091023\u4e2a\u5757\uff0c\u5206\u522b\u7f16\u53f7\u4e3a1-1023\uff0c\u5b83\u4eec\u5168\u90fd\u5c5e\u4e8eGroup 0\u3002</p> <p>\u5176\u4e2d\uff0cBlock 1\u662f\u8d85\u7ea7\u5757\uff0c\u63a5\u4e0b\u6765\u7684\u5757\u7ec4\u63cf\u8ff0\u7b26\u6307\u51fa\uff0c\u5757\u4f4d\u56fe\u662fBlock 6\uff0c\u56e0\u6b64\u4e2d\u95f4\u7684Block 2-5\u662f\u5757\u7ec4\u63cf\u8ff0\u7b26\u8868\uff0c\u5176\u4e2dBlock 3-5\u4fdd\u7559\u672a\u7528\u3002\u5757\u7ec4\u63cf\u8ff0\u7b26\u8fd8\u6307\u51fa\uff0cinode\u4f4d\u56fe\u662fBlock 7\uff0cinode\u8868\u662f\u4eceBlock 8\u5f00\u59cb\u7684\uff0c\u90a3\u4e48inode\u8868\u5230\u54ea\u4e2a\u5757\u7ed3\u675f\u5462\uff1f\u7531\u4e8e\u8d85\u7ea7\u5757\u4e2d\u6307\u51fa\u6bcf\u4e2a\u5757\u7ec4\u6709128\u4e2ainode\uff0c\u6bcf\u4e2ainode\u7684\u5927\u5c0f\u662f128\u5b57\u8282\uff0c\u56e0\u6b64\u5171\u536016\u4e2a\u5757\uff0cinode\u8868\u7684\u8303\u56f4\u662fBlock 8-23\u3002</p> <p>\u4eceBlock 24\u5f00\u59cb\u5c31\u662f\u6570\u636e\u5757\u4e86\u3002\u5757\u7ec4\u63cf\u8ff0\u7b26\u4e2d\u6307\u51fa\uff0c\u7a7a\u95f2\u7684\u6570\u636e\u5757\u6709986\u4e2a\uff0c\u7531\u4e8e\u6587\u4ef6\u7cfb\u7edf\u662f\u65b0\u521b\u5efa\u7684\uff0c\u7a7a\u95f2\u5757\u662f\u8fde\u7eed\u7684Block 38-1023\uff0c\u7528\u6389\u4e86\u524d\u9762\u7684Block 24-37\u3002\u4ece\u5757\u4f4d\u56fe\u4e2d\u53ef\u4ee5\u770b\u51fa\uff0c\u524d37\u4f4d\uff08\u524d4\u4e2a\u5b57\u8282\u52a0\u6700\u540e\u4e00\u4e2a\u5b57\u8282\u7684\u4f4e5\u4f4d\uff09\u90fd\u662f1\uff0c\u5c31\u8868\u793aBlock 1-37\u5df2\u7528:</p> <pre><code>001800 ff ff ff ff 1f 00 00 00 00 00 00 00 00 00 00 00\n001810 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n*\n001870 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 80\n001880 ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff\n*\n</code></pre> <p>\u5728\u5757\u4f4d\u56fe\u4e2d\uff0cBlock 38-1023\u5bf9\u5e94\u7684\u4f4d\u90fd\u662f0\uff08\u4e00\u76f4\u5230001870\u90a3\u4e00\u884c\u6700\u540e\u4e00\u4e2a\u5b57\u8282\u7684\u4f4e7\u4f4d\uff09\uff0c\u63a5\u4e0b\u6765\u7684\u4f4d\u5df2\u7ecf\u8d85\u51fa\u4e86\u6587\u4ef6\u7cfb\u7edf\u7684\u7a7a\u95f4\uff0c\u4e0d\u7ba1\u662f0\u8fd8\u662f1\u90fd\u6ca1\u6709\u610f\u4e49\u3002\u53ef\u89c1\uff0c\u5757\u4f4d\u56fe\u6bcf\u4e2a\u5b57\u8282\u4e2d\u7684\u4f4d\u5e94\u8be5\u6309\u4ece\u4f4e\u4f4d\u5230\u9ad8\u4f4d\u7684\u987a\u5e8f\u6765\u770b\u3002\u4ee5\u540e\u968f\u7740\u6587\u4ef6\u7cfb\u7edf\u7684\u4f7f\u7528\u548c\u6dfb\u52a0\u5220\u9664\u6587\u4ef6\uff0c\u5757\u4f4d\u56fe\u4e2d\u76841\u5c31\u53d8\u5f97\u4e0d\u8fde\u7eed\u4e86\u3002</p> <p>\u5757\u7ec4\u63cf\u8ff0\u7b26\u6307\u51fa\uff0c\u7a7a\u95f2\u7684inode\u6709117\u4e2a\uff0c\u7531\u4e8e\u6587\u4ef6\u7cfb\u7edf\u662f\u65b0\u521b\u5efa\u7684\uff0c\u7a7a\u95f2\u7684inode\u4e5f\u662f\u8fde\u7eed\u7684\uff0cinode\u7f16\u53f7\u4ece1\u5230128\uff0c\u7a7a\u95f2\u7684inode\u7f16\u53f7\u4ece12\u5230128\u3002\u4eceinode\u4f4d\u56fe\u53ef\u4ee5\u770b\u51fa\uff0c\u524d11\u4f4d\u90fd\u662f1\uff0c\u8868\u793a\u524d11\u4e2ainode\u5df2\u7528\uff1a</p> <pre><code>001c00 ff 07 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n001c10 ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff\n*\n</code></pre> <p>\u4ee5\u540e\u968f\u7740\u6587\u4ef6\u7cfb\u7edf\u7684\u4f7f\u7528\u548c\u6dfb\u52a0\u5220\u9664\u6587\u4ef6\uff0cinode\u4f4d\u56fe\u4e2d\u76841\u5c31\u53d8\u5f97\u4e0d\u8fde\u7eed\u4e86\u3002</p> <p>001c00\u8fd9\u4e00\u884c\u7684128\u4f4d\u5c31\u8868\u793a\u4e86\u6240\u6709inode\uff0c\u56e0\u6b64\u4e0b\u9762\u7684\u884c\u4e0d\u7ba1\u662f0\u8fd8\u662f1\u90fd\u6ca1\u6709\u610f\u4e49\u3002\u5df2\u7528\u768411\u4e2ainode\u4e2d\uff0c\u524d10\u4e2ainode\u662f\u88abext2\u6587\u4ef6\u7cfb\u7edf\u4fdd\u7559\u7684\uff0c\u5176\u4e2d\u7b2c2\u4e2ainode\u662f\u6839\u76ee\u5f55\uff0c\u7b2c11\u4e2ainode\u662f<code>lost+found</code>\u76ee\u5f55\uff0c\u5757\u7ec4\u63cf\u8ff0\u7b26\u4e5f\u6307\u51fa\u8be5\u7ec4\u6709\u4e24\u4e2a\u76ee\u5f55\uff0c\u5c31\u662f\u6839\u76ee\u5f55\u548c<code>lost+found</code>\u3002</p> <p>\u63a2\u7d22\u6587\u4ef6\u7cfb\u7edf\u8fd8\u6709\u4e00\u4e2a\u5f88\u6709\u7528\u7684\u5de5\u5177<code>debugfs</code>\uff0c\u5b83\u63d0\u4f9b\u4e00\u4e2a\u547d\u4ee4\u884c\u754c\u9762\uff0c\u53ef\u4ee5\u5bf9\u6587\u4ef6\u7cfb\u7edf\u505a\u5404\u79cd\u64cd\u4f5c\uff0c\u4f8b\u5982\u67e5\u770b\u4fe1\u606f\u3001\u6062\u590d\u6570\u636e\u3001\u4fee\u6b63\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u9519\u8bef\u3002\u4e0b\u9762\u7528<code>debugfs</code>\u6253\u5f00<code>fs</code>\u6587\u4ef6\uff0c\u7136\u540e\u5728\u63d0\u793a\u7b26\u4e0b\u8f93\u5165<code>help</code>\u770b\u770b\u5b83\u90fd\u80fd\u505a\u54ea\u4e9b\u4e8b\u60c5\uff1a</p> <pre><code>$ debugfs fs\ndebugfs 1.40.2 (12-Jul-2007)\ndebugfs:  help\n</code></pre> <p>\u5728<code>debugfs</code>\u7684\u63d0\u793a\u7b26\u4e0b\u8f93\u5165<code>stat /</code>\u547d\u4ee4\uff0c\u8fd9\u65f6\u5728\u65b0\u7684\u4e00\u5c4f\u4e2d\u663e\u793a\u6839\u76ee\u5f55\u7684inode\u4fe1\u606f\uff1a</p> <pre><code>Inode: 2   Type: directory    Mode:  0755   Flags: 0x0   Generation: 0\nUser:  1000   Group:  1000   Size: 1024\nFile ACL: 0    Directory ACL: 0\nLinks: 3   Blockcount: 2\nFragment:  Address: 0    Number: 0    Size: 0\nctime: 0x4764cc3b -- Sun Dec 16 14:56:59 2007\natime: 0x4764cc3b -- Sun Dec 16 14:56:59 2007\nmtime: 0x4764cc3b -- Sun Dec 16 14:56:59 2007\nBLOCKS:\n(0):24\nTOTAL: 1\n</code></pre> <p>\u6309q\u9000\u51fa\u8fd9\u4e00\u5c4f\uff0c\u7136\u540e\u7528<code>quit</code>\u547d\u4ee4\u9000\u51fa<code>debugfs</code>\uff1a</p> <pre><code>debugfs:  quit\n</code></pre> <p>\u628a\u4ee5\u4e0a\u4fe1\u606f\u548c<code>od</code>\u547d\u4ee4\u7684\u8f93\u51fa\u5bf9\u7167\u8d77\u6765\u5206\u6790\uff1a</p> <p>\u56fe 29.5. \u6839\u76ee\u5f55\u7684inode</p> <p></p> <p>\u4e0a\u56fe\u4e2d\u7684<code>st_mode</code>\u4ee5\u516b\u8fdb\u5236\u8868\u793a\uff0c\u5305\u542b\u4e86\u6587\u4ef6\u7c7b\u578b\u548c\u6587\u4ef6\u6743\u9650\uff0c\u6700\u9ad8\u4f4d\u76844\u8868\u793a\u6587\u4ef6\u7c7b\u578b\u4e3a\u76ee\u5f55\uff08\u5404\u79cd\u6587\u4ef6\u7c7b\u578b\u7684\u7f16\u7801\u8be6\u89c1stat(2)\uff09\uff0c\u4f4e\u4f4d\u7684755\u8868\u793a\u6743\u9650\u3002Size\u662f1024\uff0c\u8bf4\u660e\u6839\u76ee\u5f55\u73b0\u5728\u53ea\u6709\u4e00\u4e2a\u6570\u636e\u5757\u3002Links\u4e3a3\u8868\u793a\u6839\u76ee\u5f55\u6709\u4e09\u4e2a\u786c\u94fe\u63a5\uff0c\u5206\u522b\u662f\u6839\u76ee\u5f55\u4e0b\u7684<code>.</code>\u548c<code>..</code>\uff0c\u4ee5\u53ca<code>lost+found</code>\u5b50\u76ee\u5f55\u4e0b\u7684<code>..</code>\u3002\u6ce8\u610f\uff0c\u867d\u7136\u6211\u4eec\u901a\u5e38\u7528<code>/</code>\u8868\u793a\u6839\u76ee\u5f55\uff0c\u4f46\u662f\u5e76\u6ca1\u6709\u540d\u4e3a<code>/</code>\u7684\u786c\u94fe\u63a5\uff0c\u4e8b\u5b9e\u4e0a\uff0c<code>/</code>\u662f\u8def\u5f84\u5206\u9694\u7b26\uff0c\u4e0d\u80fd\u5728\u6587\u4ef6\u540d\u4e2d\u51fa\u73b0\u3002\u8fd9\u91cc\u7684<code>Blockcount</code>\u662f\u4ee5512\u5b57\u8282\u4e3a\u4e00\u4e2a\u5757\u6765\u6570\u7684\uff0c\u5e76\u975e\u683c\u5f0f\u5316\u6587\u4ef6\u7cfb\u7edf\u65f6\u6240\u6307\u5b9a\u7684\u5757\u5927\u5c0f\uff0c\u78c1\u76d8\u7684\u6700\u5c0f\u8bfb\u5199\u5355\u4f4d\u79f0\u4e3a\u6247\u533a\uff08Sector\uff09\uff0c\u901a\u5e38\u662f512\u5b57\u8282\uff0c\u6240\u4ee5<code>Blockcount</code>\u662f\u78c1\u76d8\u7684\u7269\u7406\u5757\u6570\u91cf\uff0c\u800c\u975e\u5206\u533a\u7684\u903b\u8f91\u5757\u6570\u91cf\u3002\u6839\u76ee\u5f55\u6570\u636e\u5757\u7684\u4f4d\u7f6e\u7531\u4e0a\u56fe\u4e2d\u7684<code>Blocks[0]</code>\u6307\u51fa\uff0c\u4e5f\u5c31\u662f\u7b2c24\u4e2a\u5757\uff0c\u5b83\u5728\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u4f4d\u7f6e\u662f24\u00d70x400=0x6000\uff0c\u4ece<code>od</code>\u547d\u4ee4\u7684\u8f93\u51fa\u4e2d\u627e\u5230006000\u5730\u5740\uff0c\u5b83\u7684\u683c\u5f0f\u662f\u8fd9\u6837\uff1a</p> <p>\u56fe 29.6. \u6839\u76ee\u5f55\u7684\u6570\u636e\u5757</p> <p></p> <p>\u76ee\u5f55\u7684\u6570\u636e\u5757\u7531\u8bb8\u591a\u4e0d\u5b9a\u957f\u7684\u8bb0\u5f55\u7ec4\u6210\uff0c\u6bcf\u6761\u8bb0\u5f55\u63cf\u8ff0\u8be5\u76ee\u5f55\u4e0b\u7684\u4e00\u4e2a\u6587\u4ef6\uff0c\u5728\u4e0a\u56fe\u4e2d\u7528\u6846\u8868\u793a\u3002\u7b2c\u4e00\u6761\u8bb0\u5f55\u63cf\u8ff0inode\u53f7\u4e3a2\u7684\u6587\u4ef6\uff0c\u4e5f\u5c31\u662f\u6839\u76ee\u5f55\u672c\u8eab\uff0c\u8be5\u8bb0\u5f55\u7684\u603b\u957f\u5ea6\u4e3a12\u5b57\u8282\uff0c\u5176\u4e2d\u6587\u4ef6\u540d\u7684\u957f\u5ea6\u4e3a1\u5b57\u8282\uff0c\u6587\u4ef6\u7c7b\u578b\u4e3a2\uff08\u89c1\u4e0b\u8868\uff0c\u6ce8\u610f\u6b64\u5904\u7684\u6587\u4ef6\u7c7b\u578b\u7f16\u7801\u548c<code>st_mode</code>\u4e0d\u4e00\u81f4\uff09\uff0c\u6587\u4ef6\u540d\u662f<code>.</code>\u3002</p> <p>\u8868 29.1. \u76ee\u5f55\u4e2d\u7684\u6587\u4ef6\u7c7b\u578b\u7f16\u7801</p> \u7f16\u7801 \u6587\u4ef6\u7c7b\u578b 0 Unknown 1 Regular file 2 Directory 3 Character device 4 Block device 5 Named pipe 6 Socket 7 Symbolic link <p>\u7b2c\u4e8c\u6761\u8bb0\u5f55\u4e5f\u662f\u63cf\u8ff0inode\u53f7\u4e3a2\u7684\u6587\u4ef6\uff08\u6839\u76ee\u5f55\uff09\uff0c\u8be5\u8bb0\u5f55\u603b\u957f\u5ea6\u4e3a12\u5b57\u8282\uff0c\u5176\u4e2d\u6587\u4ef6\u540d\u7684\u957f\u5ea6\u4e3a2\u5b57\u8282\uff0c\u6587\u4ef6\u7c7b\u578b\u4e3a2\uff0c\u6587\u4ef6\u540d\u5b57\u7b26\u4e32\u662f<code>..</code>\u3002\u7b2c\u4e09\u6761\u8bb0\u5f55\u4e00\u76f4\u5ef6\u7eed\u5230\u8be5\u6570\u636e\u5757\u7684\u672b\u5c3e\uff0c\u63cf\u8ff0inode\u53f7\u4e3a11\u7684\u6587\u4ef6\uff08<code>lost+found</code>\u76ee\u5f55\uff09\uff0c\u8be5\u8bb0\u5f55\u7684\u603b\u957f\u5ea6\u4e3a1000\u5b57\u8282\uff08\u548c\u524d\u9762\u4e24\u6761\u8bb0\u5f55\u52a0\u8d77\u6765\u662f1024\u5b57\u8282\uff09\uff0c\u6587\u4ef6\u7c7b\u578b\u4e3a2\uff0c\u6587\u4ef6\u540d\u5b57\u7b26\u4e32\u662f<code>lost+found</code>\uff0c\u540e\u9762\u5168\u662f0\u5b57\u8282\u3002\u5982\u679c\u8981\u5728\u6839\u76ee\u5f55\u4e0b\u521b\u5efa\u65b0\u7684\u6587\u4ef6\uff0c\u53ef\u4ee5\u628a\u7b2c\u4e09\u6761\u8bb0\u5f55\u622a\u77ed\uff0c\u5728\u539f\u6765\u76840\u5b57\u8282\u5904\u521b\u5efa\u65b0\u7684\u8bb0\u5f55\u3002\u5982\u679c\u8be5\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u540d\u592a\u591a\uff0c\u4e00\u4e2a\u6570\u636e\u5757\u4e0d\u591f\u7528\uff0c\u5219\u4f1a\u5206\u914d\u65b0\u7684\u6570\u636e\u5757\uff0c\u5757\u7f16\u53f7\u4f1a\u586b\u5145\u5230inode\u7684<code>Blocks[1]</code>\u5b57\u6bb5\u3002</p> <p><code>debugfs</code>\u4e5f\u63d0\u4f9b\u4e86<code>cd</code>\u3001<code>ls</code>\u7b49\u547d\u4ee4\uff0c\u4e0d\u9700\u8981<code>mount</code>\u5c31\u53ef\u4ee5\u67e5\u770b\u8fd9\u4e2a\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u76ee\u5f55\uff0c\u4f8b\u5982\u7528<code>ls</code>\u67e5\u770b\u6839\u76ee\u5f55\uff1a</p> <pre><code> 2  (12) .    2  (12) ..    11  (1000) lost+found\n</code></pre> <p>\u5217\u51fa\u4e86inode\u53f7\u3001\u8bb0\u5f55\u957f\u5ea6\u548c\u6587\u4ef6\u540d\uff0c\u8fd9\u4e9b\u4fe1\u606f\u90fd\u662f\u4ece\u6839\u76ee\u5f55\u7684\u6570\u636e\u5757\u4e2d\u8bfb\u51fa\u6765\u7684\u3002</p>"},{"location":"Linux/Basic/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#_3","title":"\u4e60\u9898","text":"<p>1\u3001\u8bf7\u8bfb\u8005\u4eff\u7167\u5bf9\u6839\u76ee\u5f55\u7684\u5206\u6790\uff0c\u81ea\u5df1\u5206\u6790<code>lost+found</code>\u76ee\u5f55\u7684inode\u548c\u6570\u636e\u5757\u7684\u683c\u5f0f\u3002</p> <p>2\u3001<code>mount</code>\u8fd9\u4e2a\u6587\u4ef6\u7cfb\u7edf\uff0c\u5728\u91cc\u9762\u6dfb\u52a0\u5220\u9664\u6587\u4ef6\uff0c\u7136\u540e<code>umount</code>\u4e0b\u6765\uff0c\u518d\u6b21\u5206\u6790\u5b83\u7684\u683c\u5f0f\uff0c\u548c\u539f\u6765\u7684\u7ed3\u679c\u6bd4\u8f83\u4e00\u4e0b\u770b\u54ea\u4e9b\u5b57\u8282\u53d1\u751f\u4e86\u53d8\u5316\u3002</p>"},{"location":"Linux/Basic/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#_4","title":"\u6570\u636e\u5757\u5bfb\u5740","text":"<p>\u5982\u679c\u4e00\u4e2a\u6587\u4ef6\u6709\u591a\u4e2a\u6570\u636e\u5757\uff0c\u8fd9\u4e9b\u6570\u636e\u5757\u5f88\u53ef\u80fd\u4e0d\u662f\u8fde\u7eed\u5b58\u653e\u7684\uff0c\u5e94\u8be5\u5982\u4f55\u5bfb\u5740\u5230\u6bcf\u4e2a\u5757\u5462\uff1f\u6839\u636e\u4e0a\u9762\u7684\u5206\u6790\uff0c\u6839\u76ee\u5f55\u7684\u6570\u636e\u5757\u662f\u901a\u8fc7\u5176inode\u4e2d\u7684\u7d22\u5f15\u9879<code>Blocks[0]</code>\u627e\u5230\u7684\uff0c\u4e8b\u5b9e\u4e0a\uff0c\u8fd9\u6837\u7684\u7d22\u5f15\u9879\u4e00\u5171\u670915\u4e2a\uff0c\u4ece<code>Blocks[0]</code>\u5230<code>Blocks[14]</code>\uff0c\u6bcf\u4e2a\u7d22\u5f15\u9879\u53604\u5b57\u8282\u3002\u524d12\u4e2a\u7d22\u5f15\u9879\u90fd\u8868\u793a\u5757\u7f16\u53f7\uff0c\u4f8b\u5982\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d<code>Blocks[0]</code>\u5b57\u6bb5\u4fdd\u5b58\u774024\uff0c\u5c31\u8868\u793a\u7b2c24\u4e2a\u5757\u662f\u8be5\u6587\u4ef6\u7684\u6570\u636e\u5757\uff0c\u5982\u679c\u5757\u5927\u5c0f\u662f1KB\uff0c\u8fd9\u6837\u53ef\u4ee5\u8868\u793a\u4ece0\u5b57\u8282\u523012KB\u7684\u6587\u4ef6\u3002\u5982\u679c\u5269\u4e0b\u7684\u4e09\u4e2a\u7d22\u5f15\u9879<code>Blocks[12]</code>\u5230<code>Blocks[14]</code>\u4e5f\u662f\u8fd9\u4e48\u7528\u7684\uff0c\u5c31\u53ea\u80fd\u8868\u793a\u6700\u592715KB\u7684\u6587\u4ef6\u4e86\uff0c\u8fd9\u662f\u8fdc\u8fdc\u4e0d\u591f\u7684\uff0c\u4e8b\u5b9e\u4e0a\uff0c\u5269\u4e0b\u7684\u4e09\u4e2a\u7d22\u5f15\u9879\u90fd\u662f\u95f4\u63a5\u7d22\u5f15\u3002</p> <p>\u7d22\u5f15\u9879<code>Blocks[12]</code>\u6240\u6307\u5411\u7684\u5757\u5e76\u975e\u6570\u636e\u5757\uff0c\u800c\u662f\u79f0\u4e3a\u95f4\u63a5\u5bfb\u5740\u5757\uff08Indirect Block\uff09\uff0c\u5176\u4e2d\u5b58\u653e\u7684\u90fd\u662f\u7c7b\u4f3c<code>Blocks[0]</code>\u8fd9\u79cd\u7d22\u5f15\u9879\uff0c\u518d\u7531\u7d22\u5f15\u9879\u6307\u5411\u6570\u636e\u5757\u3002\u8bbe\u5757\u5927\u5c0f\u662fb\uff0c\u90a3\u4e48\u4e00\u4e2a\u95f4\u63a5\u5bfb\u5740\u5757\u4e2d\u53ef\u4ee5\u5b58\u653eb/4\u4e2a\u7d22\u5f15\u9879\uff0c\u6307\u5411b/4\u4e2a\u6570\u636e\u5757\u3002\u6240\u4ee5\u5982\u679c\u628a<code>Blocks[0]</code>\u5230<code>Blocks[12]</code>\u90fd\u7528\u4e0a\uff0c\u6700\u591a\u53ef\u4ee5\u8868\u793ab/4+12\u4e2a\u6570\u636e\u5757\uff0c\u5bf9\u4e8e\u5757\u5927\u5c0f\u662f1K\u7684\u60c5\u51b5\uff0c\u6700\u5927\u53ef\u8868\u793a268K\u7684\u6587\u4ef6\u3002\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u6ce8\u610f\u6587\u4ef6\u7684\u6570\u636e\u5757\u7f16\u53f7\u662f\u4ece0\u5f00\u59cb\u7684\uff0c<code>Blocks[0]</code>\u6307\u5411\u7b2c0\u4e2a\u6570\u636e\u5757\uff0c<code>Blocks[11]</code>\u6307\u5411\u7b2c11\u4e2a\u6570\u636e\u5757\uff0c<code>Blocks[12]</code>\u6240\u6307\u5411\u7684\u95f4\u63a5\u5bfb\u5740\u5757\u7684\u7b2c\u4e00\u4e2a\u7d22\u5f15\u9879\u6307\u5411\u7b2c12\u4e2a\u6570\u636e\u5757\uff0c\u4f9d\u6b64\u7c7b\u63a8\u3002</p> <p>\u56fe 29.7. \u6570\u636e\u5757\u7684\u5bfb\u5740</p> <p></p> <p>\u4ece\u4e0a\u56fe\u53ef\u4ee5\u770b\u51fa\uff0c\u7d22\u5f15\u9879<code>Blocks[13]</code>\u6307\u5411\u4e24\u7ea7\u7684\u95f4\u63a5\u5bfb\u5740\u5757\uff0c\u6700\u591a\u53ef\u8868\u793a(b/4)2+b/4+12\u4e2a\u6570\u636e\u5757\uff0c\u5bf9\u4e8e1K\u7684\u5757\u5927\u5c0f\u6700\u5927\u53ef\u8868\u793a64.26MB\u7684\u6587\u4ef6\u3002\u7d22\u5f15\u9879<code>Blocks[14]</code>\u6307\u5411\u4e09\u7ea7\u7684\u95f4\u63a5\u5bfb\u5740\u5757\uff0c\u6700\u591a\u53ef\u8868\u793a(b/4)3+(b/4)2+b/4+12\u4e2a\u6570\u636e\u5757\uff0c\u5bf9\u4e8e1K\u7684\u5757\u5927\u5c0f\u6700\u5927\u53ef\u8868\u793a16.06GB\u7684\u6587\u4ef6\u3002</p> <p>\u53ef\u89c1\uff0c\u8fd9\u79cd\u5bfb\u5740\u65b9\u5f0f\u5bf9\u4e8e\u8bbf\u95ee\u4e0d\u8d85\u8fc712\u4e2a\u6570\u636e\u5757\u7684\u5c0f\u6587\u4ef6\u662f\u975e\u5e38\u5feb\u7684\uff0c\u8bbf\u95ee\u6587\u4ef6\u4e2d\u7684\u4efb\u610f\u6570\u636e\u53ea\u9700\u8981\u4e24\u6b21\u8bfb\u76d8\u64cd\u4f5c\uff0c\u4e00\u6b21\u8bfbinode\uff08\u4e5f\u5c31\u662f\u8bfb\u7d22\u5f15\u9879\uff09\u4e00\u6b21\u8bfb\u6570\u636e\u5757\u3002\u800c\u8bbf\u95ee\u5927\u6587\u4ef6\u4e2d\u7684\u6570\u636e\u5219\u9700\u8981\u6700\u591a\u4e94\u6b21\u8bfb\u76d8\u64cd\u4f5c\uff1ainode\u3001\u4e00\u7ea7\u95f4\u63a5\u5bfb\u5740\u5757\u3001\u4e8c\u7ea7\u95f4\u63a5\u5bfb\u5740\u5757\u3001\u4e09\u7ea7\u95f4\u63a5\u5bfb\u5740\u5757\u3001\u6570\u636e\u5757\u3002\u5b9e\u9645\u4e0a\uff0c\u78c1\u76d8\u4e2d\u7684inode\u548c\u6570\u636e\u5757\u5f80\u5f80\u5df2\u7ecf\u88ab\u5185\u6838\u7f13\u5b58\u4e86\uff0c\u8bfb\u5927\u6587\u4ef6\u7684\u6548\u7387\u4e5f\u4e0d\u4f1a\u592a\u4f4e\u3002</p>"},{"location":"Linux/Basic/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#_5","title":"\u6587\u4ef6\u548c\u76ee\u5f55\u64cd\u4f5c\u7684\u7cfb\u7edf\u51fd\u6570","text":"<p>\u672c\u8282\u7b80\u8981\u4ecb\u7ecd\u4e00\u4e0b\u6587\u4ef6\u548c\u76ee\u5f55\u64cd\u4f5c\u5e38\u7528\u7684\u7cfb\u7edf\u51fd\u6570\uff0c\u5e38\u7528\u7684\u6587\u4ef6\u64cd\u4f5c\u547d\u4ee4\u5982<code>ls</code>\u3001<code>cp</code>\u3001<code>mv</code>\u7b49\u4e5f\u662f\u57fa\u4e8e\u8fd9\u4e9b\u51fd\u6570\u5b9e\u73b0\u7684\u3002\u672c\u8282\u7684\u4fa7\u91cd\u70b9\u5728\u4e8e\u8bb2\u89e3\u8fd9\u4e9b\u51fd\u6570\u7684\u5de5\u4f5c\u539f\u7406\uff0c\u800c\u4e0d\u662f\u5982\u4f55\u4f7f\u7528\u5b83\u4eec\uff0c\u7406\u89e3\u4e86\u5b9e\u73b0\u539f\u7406\u4e4b\u540e\u518d\u770b\u8fd9\u4e9b\u51fd\u6570\u7684\u7528\u6cd5\u5c31\u5f88\u7b80\u5355\u4e86\uff0c\u8bf7\u8bfb\u8005\u81ea\u5df1\u67e5\u9605Man Page\u4e86\u89e3\u5176\u7528\u6cd5\u3002</p> <p><code>stat(2)</code>\u51fd\u6570\u8bfb\u53d6\u6587\u4ef6\u7684inode\uff0c\u7136\u540e\u628ainode\u4e2d\u7684\u5404\u79cd\u6587\u4ef6\u5c5e\u6027\u586b\u5165\u4e00\u4e2a<code>struct stat</code>\u7ed3\u6784\u4f53\u4f20\u51fa\u7ed9\u8c03\u7528\u8005\u3002<code>stat(1)</code>\u547d\u4ee4\u662f\u57fa\u4e8e<code>stat</code>\u51fd\u6570\u5b9e\u73b0\u7684\u3002<code>stat</code>\u9700\u8981\u6839\u636e\u4f20\u5165\u7684\u6587\u4ef6\u8def\u5f84\u627e\u5230inode\uff0c\u5047\u8bbe\u4e00\u4e2a\u8def\u5f84\u662f<code>/opt/file</code>\uff0c\u5219\u67e5\u627e\u7684\u987a\u5e8f\u662f\uff1a</p> <ol> <li>\u8bfb\u51fainode\u8868\u4e2d\u7b2c2\u9879\uff0c\u4e5f\u5c31\u662f\u6839\u76ee\u5f55\u7684inode\uff0c\u4ece\u4e2d\u627e\u51fa\u6839\u76ee\u5f55\u6570\u636e\u5757\u7684\u4f4d\u7f6e</li> <li>\u4ece\u6839\u76ee\u5f55\u7684\u6570\u636e\u5757\u4e2d\u627e\u51fa\u6587\u4ef6\u540d\u4e3a<code>opt</code>\u7684\u8bb0\u5f55\uff0c\u4ece\u8bb0\u5f55\u4e2d\u8bfb\u51fa\u5b83\u7684inode\u53f7</li> <li>\u8bfb\u51fa<code>opt</code>\u76ee\u5f55\u7684inode\uff0c\u4ece\u4e2d\u627e\u51fa\u5b83\u7684\u6570\u636e\u5757\u7684\u4f4d\u7f6e</li> <li>\u4ece<code>opt</code>\u76ee\u5f55\u7684\u6570\u636e\u5757\u4e2d\u627e\u51fa\u6587\u4ef6\u540d\u4e3a<code>file</code>\u7684\u8bb0\u5f55\uff0c\u4ece\u8bb0\u5f55\u4e2d\u8bfb\u51fa\u5b83\u7684inode\u53f7</li> <li>\u8bfb\u51fa<code>file</code>\u6587\u4ef6\u7684inode</li> </ol> <p>\u8fd8\u6709\u53e6\u5916\u4e24\u4e2a\u7c7b\u4f3c<code>stat</code>\u7684\u51fd\u6570\uff1a<code>fstat(2)</code>\u51fd\u6570\u4f20\u5165\u4e00\u4e2a\u5df2\u6253\u5f00\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u4f20\u51fainode\u4fe1\u606f\uff0c<code>lstat(2)</code>\u51fd\u6570\u4e5f\u662f\u4f20\u5165\u8def\u5f84\u4f20\u51fainode\u4fe1\u606f\uff0c\u4f46\u662f\u548c<code>stat</code>\u51fd\u6570\u6709\u4e00\u70b9\u4e0d\u540c\uff0c\u5f53\u6587\u4ef6\u662f\u4e00\u4e2a\u7b26\u53f7\u94fe\u63a5\u65f6\uff0c<code>stat(2)</code>\u51fd\u6570\u4f20\u51fa\u7684\u662f\u5b83\u6240\u6307\u5411\u7684\u76ee\u6807\u6587\u4ef6\u7684inode\uff0c\u800c<code>lstat</code>\u51fd\u6570\u4f20\u51fa\u7684\u5c31\u662f\u7b26\u53f7\u94fe\u63a5\u6587\u4ef6\u672c\u8eab\u7684inode\u3002</p> <p><code>access(2)</code>\u51fd\u6570\u68c0\u67e5\u6267\u884c\u5f53\u524d\u8fdb\u7a0b\u7684\u7528\u6237\u662f\u5426\u6709\u6743\u9650\u8bbf\u95ee\u67d0\u4e2a\u6587\u4ef6\uff0c\u4f20\u5165\u6587\u4ef6\u8def\u5f84\u548c\u8981\u6267\u884c\u7684\u8bbf\u95ee\u64cd\u4f5c\uff08\u8bfb/\u5199/\u6267\u884c\uff09\uff0c<code>access</code>\u51fd\u6570\u53d6\u51fa\u6587\u4ef6inode\u4e2d\u7684<code>st_mode</code>\u5b57\u6bb5\uff0c\u6bd4\u8f83\u4e00\u4e0b\u8bbf\u95ee\u6743\u9650\uff0c\u7136\u540e\u8fd4\u56de0\u8868\u793a\u5141\u8bb8\u8bbf\u95ee\uff0c\u8fd4\u56de-1\u8868\u793a\u9519\u8bef\u6216\u4e0d\u5141\u8bb8\u8bbf\u95ee\u3002</p> <p><code>chmod(2)</code>\u548c<code>fchmod(2)</code>\u51fd\u6570\u6539\u53d8\u6587\u4ef6\u7684\u8bbf\u95ee\u6743\u9650\uff0c\u4e5f\u5c31\u662f\u4fee\u6539inode\u4e2d\u7684<code>st_mode</code>\u5b57\u6bb5\u3002\u8fd9\u4e24\u4e2a\u51fd\u6570\u7684\u533a\u522b\u7c7b\u4f3c\u4e8e<code>stat</code>/<code>fstat</code>\u3002<code>chmod(1)</code>\u547d\u4ee4\u662f\u57fa\u4e8e<code>chmod</code>\u51fd\u6570\u5b9e\u73b0\u7684\u3002</p> <p><code>chown(2)</code>/<code>fchown(2)</code>/<code>lchown(2)</code>\u6539\u53d8\u6587\u4ef6\u7684\u6240\u6709\u8005\u548c\u7ec4\uff0c\u4e5f\u5c31\u662f\u4fee\u6539inode\u4e2d\u7684<code>User</code>\u548c<code>Group</code>\u5b57\u6bb5\uff0c\u53ea\u6709\u8d85\u7ea7\u7528\u6237\u624d\u80fd\u6b63\u786e\u8c03\u7528\u8fd9\u51e0\u4e2a\u51fd\u6570\uff0c\u8fd9\u51e0\u4e2a\u51fd\u6570\u4e4b\u95f4\u7684\u533a\u522b\u7c7b\u4f3c\u4e8e<code>stat</code>/<code>fstat</code>/<code>lstat</code>\u3002<code>chown(1)</code>\u547d\u4ee4\u662f\u57fa\u4e8e<code>chown</code>\u51fd\u6570\u5b9e\u73b0\u7684\u3002</p> <p><code>utime(2)</code>\u51fd\u6570\u6539\u53d8\u6587\u4ef6\u7684\u8bbf\u95ee\u65f6\u95f4\u548c\u4fee\u6539\u65f6\u95f4\uff0c\u4e5f\u5c31\u662f\u4fee\u6539inode\u4e2d\u7684<code>atime</code>\u548c<code>mtime</code>\u5b57\u6bb5\u3002<code>touch(1)</code>\u547d\u4ee4\u662f\u57fa\u4e8e<code>utime</code>\u51fd\u6570\u5b9e\u73b0\u7684\u3002</p> <p><code>truncate(2)</code>\u548c<code>ftruncate(2)</code>\u51fd\u6570\u628a\u6587\u4ef6\u622a\u65ad\u5230\u67d0\u4e2a\u957f\u5ea6\uff0c\u5982\u679c\u65b0\u7684\u957f\u5ea6\u6bd4\u539f\u6765\u7684\u957f\u5ea6\u77ed\uff0c\u5219\u540e\u9762\u7684\u6570\u636e\u88ab\u622a\u6389\u4e86\uff0c\u5982\u679c\u65b0\u7684\u957f\u5ea6\u6bd4\u539f\u6765\u7684\u957f\u5ea6\u957f\uff0c\u5219\u540e\u9762\u591a\u51fa\u6765\u7684\u90e8\u5206\u75280\u586b\u5145\uff0c\u8fd9\u9700\u8981\u4fee\u6539inode\u4e2d\u7684<code>Blocks</code>\u7d22\u5f15\u9879\u4ee5\u53ca\u5757\u4f4d\u56fe\u4e2d\u76f8\u5e94\u7684bit\u3002\u8fd9\u4e24\u4e2a\u51fd\u6570\u7684\u533a\u522b\u7c7b\u4f3c\u4e8e<code>stat</code>/<code>fstat</code>\u3002</p> <p><code>link(2)</code>\u51fd\u6570\u521b\u5efa\u786c\u94fe\u63a5\uff0c\u5176\u539f\u7406\u662f\u5728\u76ee\u5f55\u7684\u6570\u636e\u5757\u4e2d\u6dfb\u52a0\u4e00\u6761\u65b0\u8bb0\u5f55\uff0c\u5176\u4e2d\u7684inode\u53f7\u5b57\u6bb5\u548c\u539f\u6587\u4ef6\u76f8\u540c\u3002<code>symlink(2)</code>\u51fd\u6570\u521b\u5efa\u4e00\u4e2a\u7b26\u53f7\u94fe\u63a5\uff0c\u8fd9\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u65b0\u7684inode\uff0c\u5176\u4e2d<code>st_mode</code>\u5b57\u6bb5\u7684\u6587\u4ef6\u7c7b\u578b\u662f\u7b26\u53f7\u94fe\u63a5\uff0c\u539f\u6587\u4ef6\u7684\u8def\u5f84\u4fdd\u5b58\u5728inode\u4e2d\u6216\u8005\u5206\u914d\u4e00\u4e2a\u6570\u636e\u5757\u6765\u4fdd\u5b58\u3002<code>ln(1)</code>\u547d\u4ee4\u662f\u57fa\u4e8e<code>link</code>\u548c<code>symlink</code>\u51fd\u6570\u5b9e\u73b0\u7684\u3002</p> <p><code>unlink(2)</code>\u51fd\u6570\u5220\u9664\u4e00\u4e2a\u94fe\u63a5\u3002\u5982\u679c\u662f\u7b26\u53f7\u94fe\u63a5\u5219\u91ca\u653e\u8fd9\u4e2a\u7b26\u53f7\u94fe\u63a5\u7684inode\u548c\u6570\u636e\u5757\uff0c\u6e05\u9664inode\u4f4d\u56fe\u548c\u5757\u4f4d\u56fe\u4e2d\u76f8\u5e94\u7684\u4f4d\u3002\u5982\u679c\u662f\u786c\u94fe\u63a5\u5219\u4ece\u76ee\u5f55\u7684\u6570\u636e\u5757\u4e2d\u6e05\u9664\u4e00\u6761\u6587\u4ef6\u540d\u8bb0\u5f55\uff0c\u5982\u679c\u5f53\u524d\u6587\u4ef6\u7684\u786c\u94fe\u63a5\u6570\u5df2\u7ecf\u662f1\u4e86\u8fd8\u8981\u5220\u9664\u5b83\uff0c\u5c31\u540c\u65f6\u91ca\u653e\u5b83\u7684inode\u548c\u6570\u636e\u5757\uff0c\u6e05\u9664inode\u4f4d\u56fe\u548c\u5757\u4f4d\u56fe\u4e2d\u76f8\u5e94\u7684\u4f4d\uff0c\u8fd9\u6837\u5c31\u771f\u7684\u5220\u9664\u6587\u4ef6\u4e86\u3002<code>unlink(1)</code>\u547d\u4ee4\u548c<code>rm(1)</code>\u547d\u4ee4\u662f\u57fa\u4e8e<code>unlink</code>\u51fd\u6570\u5b9e\u73b0\u7684\u3002</p> <p><code>rename(2)</code>\u51fd\u6570\u6539\u53d8\u6587\u4ef6\u540d\uff0c\u9700\u8981\u4fee\u6539\u76ee\u5f55\u6570\u636e\u5757\u4e2d\u7684\u6587\u4ef6\u540d\u8bb0\u5f55\uff0c\u5982\u679c\u539f\u6587\u4ef6\u540d\u548c\u65b0\u6587\u4ef6\u540d\u4e0d\u5728\u4e00\u4e2a\u76ee\u5f55\u4e0b\u5219\u9700\u8981\u4ece\u539f\u76ee\u5f55\u6570\u636e\u5757\u4e2d\u6e05\u9664\u4e00\u6761\u8bb0\u5f55\u7136\u540e\u6dfb\u52a0\u5230\u65b0\u76ee\u5f55\u7684\u6570\u636e\u5757\u4e2d\u3002<code>mv(1)</code>\u547d\u4ee4\u662f\u57fa\u4e8e<code>rename</code>\u51fd\u6570\u5b9e\u73b0\u7684\uff0c\u56e0\u6b64\u5728\u540c\u4e00\u5206\u533a\u7684\u4e0d\u540c\u76ee\u5f55\u4e2d\u79fb\u52a8\u6587\u4ef6\u5e76\u4e0d\u9700\u8981\u590d\u5236\u548c\u5220\u9664\u6587\u4ef6\u7684inode\u548c\u6570\u636e\u5757\uff0c\u53ea\u9700\u8981\u4e00\u4e2a\u6539\u540d\u64cd\u4f5c\uff0c\u5373\u4f7f\u8981\u79fb\u52a8\u6574\u4e2a\u76ee\u5f55\uff0c\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u6709\u5f88\u591a\u5b50\u76ee\u5f55\u548c\u6587\u4ef6\u4e5f\u8981\u968f\u7740\u4e00\u8d77\u79fb\u52a8\uff0c\u79fb\u52a8\u64cd\u4f5c\u4e5f\u53ea\u662f\u5bf9\u9876\u7ea7\u76ee\u5f55\u7684\u6539\u540d\u64cd\u4f5c\uff0c\u5f88\u5feb\u5c31\u80fd\u5b8c\u6210\u3002\u4f46\u662f\uff0c\u5982\u679c\u5728\u4e0d\u540c\u7684\u5206\u533a\u4e4b\u95f4\u79fb\u52a8\u6587\u4ef6\u5c31\u5fc5\u987b\u590d\u5236\u548c\u5220\u9664inode\u548c\u6570\u636e\u5757\uff0c\u5982\u679c\u8981\u79fb\u52a8\u6574\u4e2a\u76ee\u5f55\uff0c\u6240\u6709\u5b50\u76ee\u5f55\u548c\u6587\u4ef6\u90fd\u8981\u590d\u5236\u5220\u9664\uff0c\u8fd9\u5c31\u5f88\u6162\u4e86\u3002</p> <p><code>readlink(2)</code>\u51fd\u6570\u8bfb\u53d6\u4e00\u4e2a\u7b26\u53f7\u94fe\u63a5\u6240\u6307\u5411\u7684\u76ee\u6807\u8def\u5f84\uff0c\u5176\u539f\u7406\u662f\u4ece\u7b26\u53f7\u94fe\u63a5\u7684inode\u6216\u6570\u636e\u5757\u4e2d\u8bfb\u51fa\u4fdd\u5b58\u7684\u6570\u636e\uff0c\u8fd9\u5c31\u662f\u76ee\u6807\u8def\u5f84\u3002</p> <p><code>mkdir(2)</code>\u51fd\u6570\u521b\u5efa\u65b0\u7684\u76ee\u5f55\uff0c\u8981\u505a\u7684\u64cd\u4f5c\u662f\u5728\u5b83\u7684\u7236\u76ee\u5f55\u6570\u636e\u5757\u4e2d\u6dfb\u52a0\u4e00\u6761\u8bb0\u5f55\uff0c\u7136\u540e\u5206\u914d\u65b0\u7684inode\u548c\u6570\u636e\u5757\uff0cinode\u7684<code>st_mode</code>\u5b57\u6bb5\u7684\u6587\u4ef6\u7c7b\u578b\u662f\u76ee\u5f55\uff0c\u5728\u6570\u636e\u5757\u4e2d\u586b\u4e24\u4e2a\u8bb0\u5f55\uff0c\u5206\u522b\u662f<code>.</code>\u548c<code>..</code>\uff0c\u7531\u4e8e<code>..</code>\u8868\u793a\u7236\u76ee\u5f55\uff0c\u56e0\u6b64\u7236\u76ee\u5f55\u7684\u786c\u94fe\u63a5\u6570\u8981\u52a01\u3002<code>mkdir(1)</code>\u547d\u4ee4\u662f\u57fa\u4e8e<code>mkdir</code>\u51fd\u6570\u5b9e\u73b0\u7684\u3002</p> <p><code>rmdir(2)</code>\u51fd\u6570\u5220\u9664\u4e00\u4e2a\u76ee\u5f55\uff0c\u8fd9\u4e2a\u76ee\u5f55\u5fc5\u987b\u662f\u7a7a\u7684\uff08\u53ea\u5305\u542b<code>.</code>\u548c<code>..</code>\uff09\u624d\u80fd\u5220\u9664\uff0c\u8981\u505a\u7684\u64cd\u4f5c\u662f\u91ca\u653e\u5b83\u7684inode\u548c\u6570\u636e\u5757\uff0c\u6e05\u9664inode\u4f4d\u56fe\u548c\u5757\u4f4d\u56fe\u4e2d\u76f8\u5e94\u7684\u4f4d\uff0c\u6e05\u9664\u7236\u76ee\u5f55\u6570\u636e\u5757\u4e2d\u7684\u8bb0\u5f55\uff0c\u7236\u76ee\u5f55\u7684\u786c\u94fe\u63a5\u6570\u8981\u51cf1\u3002<code>rmdir(1)</code>\u547d\u4ee4\u662f\u57fa\u4e8e<code>rmdir</code>\u51fd\u6570\u5b9e\u73b0\u7684\u3002</p> <p><code>opendir(3)</code>/<code>readdir(3)</code>/<code>closedir(3)</code>\u7528\u4e8e\u904d\u5386\u76ee\u5f55\u6570\u636e\u5757\u4e2d\u7684\u8bb0\u5f55\u3002<code>opendir</code>\u6253\u5f00\u4e00\u4e2a\u76ee\u5f55\uff0c\u8fd4\u56de\u4e00\u4e2a<code>DIR *</code>\u6307\u9488\u4ee3\u8868\u8fd9\u4e2a\u76ee\u5f55\uff0c\u5b83\u662f\u4e00\u4e2a\u7c7b\u4f3c<code>FILE *</code>\u6307\u9488\u7684\u53e5\u67c4\uff0c<code>closedir</code>\u7528\u4e8e\u5173\u95ed\u8fd9\u4e2a\u53e5\u67c4\uff0c\u628a<code>DIR *</code>\u6307\u9488\u4f20\u7ed9<code>readdir</code>\u8bfb\u53d6\u76ee\u5f55\u6570\u636e\u5757\u4e2d\u7684\u8bb0\u5f55\uff0c\u6bcf\u6b21\u8fd4\u56de\u4e00\u4e2a\u6307\u5411<code>struct dirent</code>\u7684\u6307\u9488\uff0c\u53cd\u590d\u8bfb\u5c31\u53ef\u4ee5\u904d\u5386\u6240\u6709\u8bb0\u5f55\uff0c\u6240\u6709\u8bb0\u5f55\u904d\u5386\u5b8c\u4e4b\u540e<code>readdir</code>\u8fd4\u56de<code>NULL</code>\u3002\u7ed3\u6784\u4f53<code>struct dirent</code>\u7684\u5b9a\u4e49\u5982\u4e0b\uff1a</p> <pre><code>struct dirent {\n    ino_t          d_ino;       /* inode number */\n    off_t          d_off;       /* offset to the next dirent */\n    unsigned short d_reclen;    /* length of this record */\n    unsigned char  d_type;      /* type of file */\n    char           d_name[256]; /* filename */\n};\n</code></pre> <p>\u8fd9\u4e9b\u5b57\u6bb5\u548c\u56fe 29.6 \u201c\u6839\u76ee\u5f55\u7684\u6570\u636e\u5757\u201d\u57fa\u672c\u4e00\u81f4\u3002\u8fd9\u91cc\u7684\u6587\u4ef6\u540d<code>d_name</code>\u88ab\u5e93\u51fd\u6570\u5904\u7406\u8fc7\uff0c\u5df2\u7ecf\u5728\u7ed3\u5c3e\u52a0\u4e86'\\0'\uff0c\u800c\u56fe 29.6 \u201c\u6839\u76ee\u5f55\u7684\u6570\u636e\u5757\u201d\u4e2d\u7684\u6587\u4ef6\u540d\u5b57\u6bb5\u4e0d\u4fdd\u8bc1\u662f\u4ee5'\\0'\u7ed3\u5c3e\u7684\uff0c\u9700\u8981\u6839\u636e\u524d\u9762\u7684\u6587\u4ef6\u540d\u957f\u5ea6\u5b57\u6bb5\u786e\u5b9a\u6587\u4ef6\u540d\u5230\u54ea\u91cc\u7ed3\u675f\u3002</p> <p>\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\u51fa\u81ea[K&amp;R]\uff0c\u4f5c\u7528\u662f\u9012\u5f52\u5730\u6253\u5370\u51fa\u4e00\u4e2a\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u5b50\u76ee\u5f55\u548c\u6587\u4ef6\uff0c\u7c7b\u4f3c<code>ls -R</code>\u3002</p> <p>\u4f8b 29.1. \u9012\u5f52\u5217\u51fa\u76ee\u5f55\u4e2d\u7684\u6587\u4ef6\u5217\u8868</p> <pre><code>#include &lt;sys/types.h&gt;\n#include &lt;sys/stat.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;dirent.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\n\n#define MAX_PATH 1024\n\n/* dirwalk:  apply fcn to all files in dir */\nvoid dirwalk(char *dir, void (*fcn)(char *))\n{\n    char name[MAX_PATH];\n    struct dirent *dp;\n    DIR *dfd;\n\n    if ((dfd = opendir(dir)) == NULL) {\n        fprintf(stderr, \"dirwalk: can't open %s\\n\", dir);\n        return;\n    }\n    while ((dp = readdir(dfd)) != NULL) {\n        if (strcmp(dp-&gt;d_name, \".\") == 0\n            || strcmp(dp-&gt;d_name, \"..\") == 0)\n            continue;    /* skip self and parent */\n        if (strlen(dir)+strlen(dp-&gt;d_name)+2 &gt; sizeof(name))\n            fprintf(stderr, \"dirwalk: name %s %s too long\\n\",\n                dir, dp-&gt;d_name);\n        else {\n            sprintf(name, \"%s/%s\", dir, dp-&gt;d_name);\n            (*fcn)(name);\n        }\n    }\n    closedir(dfd);\n}\n\n/* fsize:  print the size and name of file \"name\" */\nvoid fsize(char *name)\n{\n    struct stat stbuf;\n\n    if (stat(name, &amp;stbuf) == -1) {\n        fprintf(stderr, \"fsize: can't access %s\\n\", name);\n        return;\n    }\n    if ((stbuf.st_mode &amp; S_IFMT) == S_IFDIR)\n        dirwalk(name, fsize);\n    printf(\"%8ld %s\\n\", stbuf.st_size, name);\n}\n\nint main(int argc, char **argv)\n{\n    if (argc == 1)  /* default: current directory */\n        fsize(\".\");\n    else\n        while (--argc &gt; 0)\n            fsize(*++argv);\n    return 0;\n}\n</code></pre> <p>\u7136\u800c\u8fd9\u4e2a\u7a0b\u5e8f\u8fd8\u662f\u4e0d\u5982<code>ls -R</code>\u5065\u58ee\uff0c\u5b83\u6709\u53ef\u80fd\u6b7b\u5faa\u73af\uff0c\u601d\u8003\u4e00\u4e0b\u4ec0\u4e48\u60c5\u51b5\u4f1a\u5bfc\u81f4\u6b7b\u5faa\u73af\u3002</p> \u4e0a\u4e00\u9875 \u4e0a\u4e00\u7ea7 \u4e0b\u4e00\u9875 \u5f15\u8a00 \u8d77\u59cb\u9875 VFS"},{"location":"Linux/Basic/%E8%BF%9B%E7%A8%8B/","title":"\u8fdb\u7a0b","text":""},{"location":"Linux/Basic/%E8%BF%9B%E7%A8%8B/#_1","title":"\u8fdb\u7a0b","text":"<p>Linux \u4e2d ps \u547d\u4ee4\u662f <code>Process Status</code> \u7684\u7f29\u5199\uff0c\u7528\u6765\u5217\u51fa\u7cfb\u7edf\u4e2d\u5f53\u524d\u8fd0\u884c\u7684\u90a3\u4e9b\u8fdb\u7a0b\u3002</p> <p>ps \u5217\u51fa\u7684\u662f\u6267\u884c ps \u547d\u4ee4\u90a3\u4e00\u65f6\u523b\u90a3\u4e9b\u8fdb\u7a0b\u7684\u5feb\u7167\uff0c\u662f\u9759\u6001\u7684\u3002</p> <p>\u60f3\u8981\u52a8\u6001\u663e\u793a\u53ef\u4ee5\u4f7f\u7528 top \u6216 htop \u547d\u4ee4\u3002</p> <p>Linux \u4e2d\u7684\u8fdb\u7a0b\u6709 5 \u79cd\u72b6\u6001\uff1a</p> <ol> <li>\u8fd0\u884c\uff08\u6b63\u5728\u8fd0\u884c\u6216\u5728\u8fd0\u884c\u961f\u5217\u4e2d\u7b49\u5f85\uff09</li> <li>\u4e2d\u65ad\uff08\u4f11\u7720\u4e2d\uff0c\u53d7\u963b\uff0c\u5728\u7b49\u5f85\u67d0\u4e2a\u6761\u4ef6\u7684\u5f62\u6210\u6216\u63a5\u6536\u5230\u4fe1\u53f7\uff09</li> <li>\u4e0d\u53ef\u4e2d\u65ad\uff08\u6536\u5230\u4fe1\u53f7\u4e0d\u5524\u9192\u548c\u4e0d\u53ef\u8fd0\u884c\uff0c\u8fdb\u7a0b\u5fc5\u987b\u7b49\u5f85\u76f4\u5230\u6709\u4e2d\u65ad\u53d1\u751f\uff09</li> <li>\u50f5\u6b7b\uff08\u8fdb\u7a0b\u5df2\u7ec8\u6b62\uff0c\u4f46\u8fdb\u7a0b\u63cf\u8ff0\u7b26\u5b58\u5728\uff0c\u76f4\u5230\u7236\u8fdb\u7a0b\u8c03\u7528 <code>wait4()</code> \u7cfb\u7edf\u8c03\u7528\u540e\u91ca\u653e\uff09</li> <li>\u505c\u6b62\uff08\u8fdb\u7a0b\u6536\u5230<code>SIGSTOP</code>\u3001<code>SIGTSTP</code>\u3001<code>SIGTTIN</code>\u3001<code>SIGTTOU</code>\u4fe1\u53f7\u540e\u505c\u6b62\u8fd0\u884c\uff09</li> </ol> <p>\u5bf9\u5e94\u5230 ps \u4e2d 5 \u79cd\u72b6\u6001\u7801\uff1a</p> <ol> <li>R \u8fd0\u884c Runnable(on Run queue)</li> <li>S \u4e2d\u65ad Sleeping</li> <li>D \u4e0d\u53ef\u4e2d\u65ad Uninterruptible Sleep(usually IO)</li> <li>Z \u50f5\u6b7b Zomie(a defunct process)</li> <li>T \u505c\u6b62 Traced or stopped</li> </ol>"},{"location":"Linux/Basic/%E8%BF%9B%E7%A8%8B/#_2","title":"\u8f93\u51fa\u5217\u7684\u542b\u4e49","text":"F Flag\uff0c\u4ee3\u8868\u8fd9\u4e2a\u7a0b\u5e8f\u7684\u6807\u5fd7\uff0c4 \u4ee3\u8868\u4f7f\u7528\u8005\u4e3a root S Stat\uff0c\u4ee3\u8868\u8fd9\u4e2a\u7a0b\u5e8f\u7684\u72b6\u6001 UID UserID\uff0c\u7a0b\u5e8f\u7684\u62e5\u6709\u8005ID PID ProcessID\uff0c\u7a0b\u5e8f\u7684ID PPID ParentPID\uff0c\u7a0b\u5e8f\u7684\u7236\u8fdb\u7a0b\u7684ID C CPU\uff0cCPU\u7684\u8d44\u6e90\u4f7f\u7528\u767e\u5206\u6bd4 PRI Priority\uff0c\u7a0b\u5e8f\u7684\u4f18\u5148\u7ea7\uff0c\u503c\u8d8a\u5c0f\u4f18\u5148\u7ea7\u8d8a\u9ad8 NI Nice\uff0c\u7a0b\u5e8f\u7684NICE\u503c ADDR Address\uff0c\u7a0b\u5e8f\u5728\u5185\u5b58\u4e2d\u7684\u5730\u5740\uff0c<code>-</code> \u4e3a\u6b63\u5728\u8fd0\u884c SZ Size\uff0c\u7a0b\u5e8f\u5360\u7528\u5185\u5b58\u7684\u5927\u5c0f WCHAN \u7a0b\u5e8f\u662f\u5426\u6b63\u5728\u8fd0\u884c\u5f53\u4e2d\uff0c<code>-</code> \u4e3a\u6b63\u5728\u8fd0\u884c TTY \u767b\u5165\u8005\u7684\u7ec8\u7aef\u4f4d\u7f6e TIME \u7a0b\u5e8f\u4f7f\u7528\u6389\u7684CPU\u65f6\u95f4 CMD Command\uff0c\u7a0b\u5e8f\u5bf9\u5e94\u7684\u547d\u4ee4"},{"location":"Linux/Basic/%E8%BF%9B%E7%A8%8B/#_3","title":"\u53c2\u6570","text":"<ul> <li><code>a</code>\uff1a\u663e\u793a\u6240\u6709\u8fdb\u7a0b\uff0c\u5305\u62ec\u5176\u4ed6\u7528\u6237\u7684\u8fdb\u7a0b</li> <li><code>-a</code>\uff1a\u663e\u793a\u540c\u4e00\u7ec8\u7aef\u4e0b\u6240\u6709\u7a0b\u5e8f</li> <li><code>-A</code>\uff1a\u663e\u793a\u6240\u6709\u8fdb\u7a0b</li> <li><code>c</code>\uff1a\u663e\u793a\u8fdb\u7a0b\u771f\u5b9e\u540d\u79f0</li> <li><code>-e</code>\uff1a\u7b49\u4e8e -A</li> <li><code>e</code>\uff1a\u663e\u793a\u73af\u5883\u53d8\u91cf</li> <li><code>f</code>\uff1a\u663e\u793a\u7a0b\u5e8f\u95f4\u5173\u7cfb</li> <li><code>-H</code>\uff1a\u663e\u793a\u6811\u72b6\u7ed3\u6784</li> <li><code>r</code>\uff1a\u663e\u793a\u5f53\u524d\u7ec8\u7aef\u6b63\u5728\u6267\u884c\u7684\u7a0b\u5e8f</li> <li> <p><code>T</code>\uff1a\u663e\u793a\u5f53\u524d\u7ec8\u7aef\u6240\u6709\u7a0b\u5e8f</p> </li> <li> <p><code>u</code>\uff1a\u4ee5\u7528\u6237\u4e3a\u4e3b\u7684\u683c\u5f0f\u6765\u663e\u793a\u7a0b\u5e8f\u72b6\u51b5</p> </li> <li><code>U &lt;\u7528\u6237\u540d&gt;</code>\uff1a\u663e\u793a\u5c5e\u4e8e\u8be5\u7528\u6237\u7684\u7a0b\u5e8f\u7684\u72b6\u51b5</li> <li><code>-u &lt;uid&gt;</code>\uff1a\u663e\u793a\u5c5e\u4e8e\u8be5\u7528\u6237\u7684\u7a0b\u5e8f\u7684\u72b6\u51b5</li> <li><code>-U &lt;uid&gt;</code>\uff1a\u7b49\u4e8e <code>-u uid</code></li> <li><code>g</code>\uff1a\u663e\u793a\u73b0\u884c\u7ec8\u7aef\u673a\u4e0b\u7684\u6240\u6709\u7a0b\u5e8f\uff0c\u5305\u62ec\u7fa4\u7ec4\u9886\u5bfc\u8005\u7684\u7a0b\u5e8f</li> <li><code>-g &lt;\u7ec4\u540d&gt;</code>\uff1a\u663e\u793a\u5c5e\u4e8e\u8be5\u7fa4\u7ec4\u7684\u7a0b\u5e8f\u7684\u72b6\u51b5\uff0c\u4e5f\u53ef\u4f7f\u7528\u7fa4\u7ec4\u540d\u79f0\u6765\u6307\u5b9a</li> <li><code>-G &lt;gid&gt;</code>\uff1a\u7b49\u4e8e <code>`-g \u7ec4\u540d</code></li> <li><code>p &lt;pid&gt;</code>\uff1a\u663e\u793a\u8be5\u8fdb\u7a0b\u7684\u72b6\u51b5</li> <li> <p><code>-p &lt;pid&gt;</code>\uff1a\u7b49\u4e8e <code>p pid</code></p> </li> <li> <p><code>-C</code>\uff1a\u6307\u5b9a\u6267\u884c\u6307\u4ee4\u7684\u540d\u79f0\uff0c\u5e76\u5217\u51fa\u8be5\u6307\u4ee4\u7684\u7a0b\u5e8f\u7684\u72b6\u51b5</p> </li> <li><code>-lines &lt;\u5217\u6570&gt;</code>\uff1a\u8bbe\u7f6e\u663e\u793a\u753b\u9762\u7684\u5217\u6570</li> <li><code>-widty &lt;\u6bcf\u5217\u5b57\u7b26\u6570&gt;</code>\uff1a\u8bbe\u7f6e\u663e\u793a\u753b\u9762\u6bcf\u4e00\u5217\u7684\u5b57\u7b26\u6570</li> </ul>"},{"location":"Linux/Basic/%E8%BF%9B%E7%A8%8B/#_4","title":"\u4f18\u5148\u7ea7","text":"<p>Linux \u4e2d\u7684\u8fdb\u7a0b\u5173\u4e8e\u4f18\u5148\u7ea7\u6709\u4e24\u4e2a\u6982\u5ff5\uff1a<code>Priority</code> \u548c <code>Nice</code>\u3002</p> <p>Priority \u8868\u793a\u8fdb\u7a0b\u7684\u52a8\u6001\u4f18\u5148\u7ea7\uff0c\u4fd7\u79f0\uff1a\u4f18\u5148\u7ea7\uff0c\u503c\u8d8a\u5c0f\u4f18\u5148\u7ea7\u8d8a\u9ad8\uff0c\u8d8a\u65e9\u88ab CPU \u6267\u884c\u3002</p> <p>Nice \u8868\u793a\u8fdb\u7a0b\u7684\u9759\u6001\u4f18\u5148\u7ea7\uff0c\u4fd7\u79f0\uff1aNICE\u503c\uff0c\u503c\u8d8a\u5c0f\u8d8a\u4f18\u5148\u7ea7\u8d8a\u9ad8\uff0c\u5206\u914d\u5230\u7684\u65f6\u95f4\u7247\u8d8a\u957f\u3002</p> <p>NICE \u503c\u7684\u8303\u56f4\u4ece -20 \u5230 +19\uff0c\u8fdb\u7a0b\u521d\u59cb\u7684 NICE \u503c\u90fd\u4e3a 0\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>nice</code> \u547d\u4ee4\u66f4\u6539\uff0c\u6216 <code>renice</code> \u547d\u4ee4\u8c03\u6574\u3002</p> <pre><code># \u8bbe\u7f6e\u4f18\u5148\u503c\u5e76\u6267\u884c\nnice [-n &lt;nice\u503c&gt;] [\u6267\u884c\u547d\u4ee4]\n\n# \u8c03\u6574\u4f18\u5148\u503c\nrenice [nice\u503c] [-u \u7528\u6237\u540d\u6216uid] [-g \u7ec4\u540d\u6216gid] [-p PID]\n</code></pre> <p>Prioirty \u548c Nice \u5e76\u4e0d\u7b49\u4ef7\uff0c\u4ed6\u4eec\u4e0d\u662f\u4e00\u4e2a\u6982\u5ff5\uff0c\u4f46\u662f Nice \u503c\u4f1a\u5f71\u54cd\u8fdb\u7a0b\u7684\u4f18\u5148\u7ea7\u53d8\u5316\u3002</p> <p>\u4f8b\u5982\uff1a</p> <p>\u4e24\u4e2a\u8fdb\u7a0b A \u548c B\uff0c\u4ed6\u4eec\u7684 Priority \u90fd\u662f 20\uff0c\u4ed6\u4eec\u5404\u81ea\u80fd\u5f97\u5230\u7684\u65f6\u95f4\u7247\u662f 100 ms\uff0c</p> <p>A \u7684 NICE \u503c\u4e3a 15\uff1b</p> <p>B \u7684 NICE \u503c\u4e3a -15\uff1b</p> <p>\u5219\u6700\u7ec8\u4ed6\u4eec\u7684\u4f18\u5148\u7ea7\u5206\u522b\u4e3a\uff1a</p> <p>A = 20 + 15 = 35</p> <p>B = 20 + (-15) = 5</p> <p>\u6240\u4ee5 B \u7684\u4f18\u5148\u7ea7\u66f4\u9ad8\uff0c\u6700\u540e\u53ef\u80fd\u4f1a\u5f97\u5230\u7684\u65f6\u95f4\u7247\u662f 300ms\uff0cA \u53ef\u80fd\u4f1a\u5f97\u5230\u65f6\u95f4\u7247\u662f 50ms </p> <p>nohub</p> <p>wait</p>"},{"location":"Linux/Shell/Shell-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/","title":"1-\u57fa\u672c\u8bed\u6cd5","text":""},{"location":"Linux/Shell/Shell-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/#shell","title":"Shell","text":""},{"location":"Linux/Shell/Shell-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/#_1","title":"\u6ce8\u91ca","text":""},{"location":"Linux/Shell/Shell-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/#_2","title":"\u5355\u884c\u6ce8\u91ca","text":"<pre><code># \u8fd9\u662f\u5355\u884c\u6ce8\u91ca\n# \u4f7f\u7528\u4e95\u53f7\u5f00\u5934\n</code></pre>"},{"location":"Linux/Shell/Shell-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/#_3","title":"\u591a\u884c\u6ce8\u91ca","text":"<p>\u7b2c\u4e00\u79cd\uff1a </p><pre><code>&lt;&lt;&lt; COMMENT\n\n    \u8fd9\u662f\u591a\u884c\u6ce8\u91ca\n    \"COMMENT\" \u5e76\u4e0d\u662f\u56fa\u5b9a\u7684\uff0c\u53ef\u4ee5\u6362\u6210\u5176\u4ed6\u5185\u5bb9\n\nCOMMENT\n</code></pre><p></p> <p>\u7b2c\u4e8c\u79cd\uff1a </p><pre><code>:'\n\n\u8fd9\u662f\u591a\u884c\u6ce8\u91ca\n\u4ee5\u4e00\u4e2a\u5192\u53f7\u548c\u5de6\u5355\u5f15\u53f7\u5f00\u5934\n\u4ee5\u4e00\u4e2a\u53f3\u5355\u5f15\u53f7\u7ed3\u5c3e\n\n'\n</code></pre><p></p>"},{"location":"Linux/Shell/Shell-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/#_4","title":"\u5f15\u53f7","text":"<p>\u4f7f\u7528\u7b80\u5355\u7684\u6587\u672c\u548c\u5b57\u7b26\u4e32\u65f6\uff0c\u5355\u5f15\u53f7\u6216\u53cc\u5f15\u53f7\u90fd\u4e0d\u4f1a\u6709\u4efb\u4f55\u533a\u522b.</p> <p>\u4f7f\u7528\u53d8\u91cf\u65f6\uff0c\u5355\u5f15\u53f7\u4f1a\u539f\u6837\u8f93\u51fa\uff0c\u53d8\u91cf\u4e0d\u4f1a\u88ab\u8f6c\u4e49\uff1b\u53cc\u5f15\u53f7\u4f1a\u8f6c\u4e49\u3002 </p><pre><code>#!/bin/bash\nname=\"Boii\"\n\necho \"My name is $name\"\necho 'My name is $name'\n</code></pre><p></p> <p>\u8f93\u51fa\uff1a </p><pre><code>My name is Boii\nMy name is $name\n</code></pre><p></p>"},{"location":"Linux/Shell/Shell-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/#_5","title":"\u4f4d\u7f6e\u53c2\u6570","text":"<p><code>$0</code> \u4ee3\u8868\u6587\u4ef6\u540d\u3001<code>$1</code> \u4ee3\u8868\u7b2c\u4e00\u4e2a\u53c2\u6570\u3001<code>$2</code> \u4ee3\u8868\u7b2c\u4e8c\u4e2a\u53c2\u6570\u3001...\u3001<code>$n</code> \u4ee3\u8868\u7b2c n \u4e2a\u53c2\u6570</p> <ul> <li>\u4f7f\u7528 <code>shift</code> \u53ef\u4ee5\u6ed1\u52a8\u53c2\u6570\uff08<code>$0</code> \u9664\u5916\uff09</li> </ul> <pre><code>ec  A  B  C  D  E  F  G     # \u547d\u4ee4\u884c\n$0 $1 $2 $3 $4 $5 $6 $7     # \u539f\u4f4d\u7f6e\u53c2\u6570\n$0    $1 $2 $3 $4 $5 $6     # \u79fb\u4f4d\u540e\u4f4d\u7f6e\u53c2\u6570\n</code></pre>"},{"location":"Linux/Shell/Shell-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/#_6","title":"\u53d8\u91cf","text":"<ul> <li> <p>\u53d8\u91cf\u540d</p> <ul> <li>[ _ | a-z | A-Z | 0-9]</li> <li>\u58f0\u660e \u53d8\u91cf\u65f6 \u7701\u7565 \u7b26\u53f7<code>$</code></li> <li>\u4f7f\u7528\u53d8\u91cf\u65f6 \u52a0\u4e0a \u7b26\u53f7<code>$</code></li> <li>\u53d8\u91cf\u540d \u533a\u5206 \u5927\u5c0f\u5199</li> <li>\u7b49\u53f7\u4e24\u4fa7\u4e0d\u53ef\u4ee5\u6709\u7a7a\u683c</li> </ul> </li> <li> <p>\u5b9a\u4e49\u53d8\u91cf </p><pre><code>var_name=value\n</code></pre><p></p> </li> <li> <p>\u4f7f\u7528\u53d8\u91cf </p><pre><code>$var_name\n</code></pre><p></p> <p>eg\uff1a </p><pre><code>#!/bin/bash\nname=\"Boii\" # \u5b9a\u4e49\u53d8\u91cf\necho $name  # \u4f7f\u7528\u53d8\u91cf\n</code></pre><p></p> </li> <li> <p>\u53ea\u8bfb\u53d8\u91cf\uff1a\u4f7f\u7528 <code>readonly</code>\u4fee\u9970     </p><pre><code>name=\"Boii\"     # \u5b9a\u4e49\u53d8\u91cf\nreadonly name   # \u8bbe\u5b9a\u53ea\u8bfb\n</code></pre><p></p> </li> <li> <p>\u53d6\u6d88\u8bbe\u7f6e\u53d8\u91cf\uff1a\u4f7f\u7528 <code>unset</code>\u4fee\u9970</p> <p></p><pre><code>name=\"Boii\"  # \u5b9a\u4e49\u53d8\u91cf\nunset name   # \u53d6\u6d88\u8bbe\u7f6e\n</code></pre> \u6ce8\u9500\u6216\u5220\u9664\u7684\u53d8\u91cf\u544a\u8bc9shell\u5220\u9664\u7684\u53d8\u91cf\u7684\u53d8\u91cf\u5217\u8868\u505a\u4e86\u8ddf\u8e2a\u3002\u4e00\u65e6\u60a8\u53d6\u6d88\u8bbe\u7f6e\u53d8\u91cf\uff0c\u4f60\u4e0d\u53ef\u4ee5\u8bbf\u95ee\u5b58\u50a8\u5728\u53d8\u91cf\u503c\u3002<p></p> </li> </ul>"},{"location":"Linux/Shell/Shell-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/#_7","title":"\u7cfb\u7edf\u53d8\u91cf","text":"<p>\u8fd9\u4e9b\u53d8\u91cf\u662f\u7531LINUX\u64cd\u4f5c\u7cfb\u7edf\u672c\u8eab\u521b\u5efa\u548c\u7ef4\u62a4\u7684\u9884\u5b9a\u4e49\u53d8\u91cf\u3002\u5b83\u4eec\u7684\u6807\u51c6\u7ea6\u5b9a\u662f\u901a\u5e38\u4ee5\u5927\u5199\u5b57\u6bcd\u8fdb\u884c\u5b9a\u4e49\u3002\u56e0\u6b64\uff0c\u6bcf\u5f53\u770b\u5230\u4ee5\u5927\u5199\u5b57\u6bcd\u5b9a\u4e49\u7684\u53d8\u91cf\u65f6\uff0c\u5f88\u53ef\u80fd\u5b83\u4eec\u5c31\u662f\u7cfb\u7edf\u5b9a\u4e49\u7684\u53d8\u91cf\u3002</p> \u53d8\u91cf \u5907\u6ce8 $SHELL \u9ed8\u8ba4shell $HOME \u5f53\u524d\u7528\u6237\u5bb6\u76ee\u5f55 $IFS \u5185\u90e8\u5b57\u6bb5\u5206\u9694\u7b26 $LANG \u9ed8\u8ba4\u8bed\u8a00 $PATH \u9ed8\u8ba4\u53ef\u6267\u884c\u7a0b\u5e8f\u8def\u5f84 $PWD \u5f53\u524d\u76ee\u5f55 $UID \u5f53\u524d\u7528\u6237ID $USER \u5f53\u524d\u7528\u6237 $HISTSIZE \u5386\u53f2\u547d\u4ee4\u5927\u5c0f\uff0c\u53ef\u901a\u8fc7HISTTIMEFO \u53d8\u91cf\u8bbe\u7f6e\u547d\u4ee4\u6267\u884c\u65f6\u95f4 $RANDOM \u968f\u673a\u751f\u6210\u4e00\u4e2a 0 \u81f3 32767 \u7684\u6574\u6570 $HOSTNAME \u4e3b\u673a\u540d"},{"location":"Linux/Shell/Shell-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/#_8","title":"\u4f4d\u7f6e\u53d8\u91cf","text":"<p>\u6307\u811a\u672c\u6216\u51fd\u6570\u540e\u8ddf\u7684\u7b2cn\u4e2a\u53c2\u6570 <code>$1~$n</code>\uff0c\u6ce8\u610f n&gt;=10 \u65f6\u8981\u52a0\u82b1\u62ec\u53f7\uff1a<code>${12}</code></p>"},{"location":"Linux/Shell/Shell-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/#_9","title":"\u7279\u6b8a\u53d8\u91cf","text":"\u53d8\u91cf \u5907\u6ce8 $0 \u811a\u672c\u81ea\u8eab\u540d\u5b57 $1~$9 \u7b2c\u4e00\u4e2a\u5230\u7b2c\u4e5d\u4e2a\u53c2\u6570 $# \u4f4d\u7f6e\u53c2\u6570 \u4e2a\u6570 $* \u6240\u6709\u4f4d\u7f6e\u53c2\u6570\u770b\u4f5c \u4e00\u6574\u4e2a\u5b57\u7b26\u4e32 $@ \u5c06\u53c2\u6570\u5217\u8868\u5b58\u50a8\u4e3a\u6570\u7ec4\uff0c\u6bcf\u4e2a\u4f4d\u7f6e\u53c2\u6570\u88ab\u770b\u4f5c\u5404\u81ea \u72ec\u7acb\u7684\u5b57\u7b26\u4e32 $$ \u5f53\u524d\u8fdb\u7a0bPID $! \u4e0a\u4e00\u6761\u8fd0\u884c\u540e\u53f0\u8fdb\u7a0b\u7684PID $? \u8fd4\u56de\u4e0a\u4e00\u6761\u547d\u4ee4\u662f\u5426\u6267\u884c\u6210\u529f.[0\u6210\u529f\uff0c\u975e0\u5931\u8d25] <ul> <li>$@ \u7684\u4f7f\u7528</li> </ul> <pre><code>#!/bin/bash\nargs=(\"$@\")\necho ${args[*]}\n</code></pre> <pre><code>$ ./b.sh a b c\na b c\n</code></pre>"},{"location":"Linux/Shell/Shell-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/#_10","title":"\u6d41\u7a0b\u63a7\u5236","text":""},{"location":"Linux/Shell/Shell-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/#ifelifelse","title":"if\u3001elif\u3001else","text":"<ul> <li> <p>if</p> <pre><code># \u591a\u884c\u5199\u6cd5\nif condition\nthen\n    ...\nfi\n\n# \u6216\n# \u5355\u884c\u5199\u6cd51\n\nif condition; then\n    ...\nfi\n\n# \u6216\n# \u5355\u884c\u5199\u6cd52\n\nif condition; then ...; fi\n</code></pre> </li> <li> <p>elif\u3001else</p> <pre><code>if condition; then\n    ...\nelif condition; then\n    ...\nfi\n\n\u6216\n\nif condition; then\n    ...\nelif condition; then\n    ...\nelse\n    ...\nfi\n\n\u6216\n\nif condition; then\n    ...\nelse\n    ...\nfi\n</code></pre> </li> </ul> <p>\u5bf9\u4e8e condition \u90e8\u5206\uff0c\u6709\u4ee5\u4e0b\u4e09\u70b9</p> <ol> <li>\u7531\u8868\u8fbe\u5f0f\u6784\u6210\uff0c\u8868\u8fbe\u5f0f\u6267\u884c\u6210\u529f\u65f6\u8fd4\u56de\u503c\u4e3a0\uff0c\u8fdb\u5165 <code>then</code> \u90e8\u5206     <pre><code>if echo 'hi'; then\n    echo 'Hello'\nfi\n</code></pre></li> <li>\u53ef\u4ee5\u6709\u591a\u6761\u8868\u8fbe\u5f0f\uff0c\u4f46\u53ea\u6709\u6700\u540e\u4e00\u6761\u51b3\u5b9a\u662f\u5426\u8fd0\u884c <code>then</code> \u90e8\u5206     <pre><code>if false; true; then\n    echo 'Hello'\nfi\n# \u7ed3\u679c\u4e3a \u6253\u5370 Hello\n</code></pre></li> <li>condition \u6709\u4e09\u79cd\u5f62\u5f0f<ol> <li><code>test expression</code>\uff1a\u4f7f\u7528 test \u547d\u4ee4 \u83b7\u53d6\u8fd4\u56de\u503c</li> <li><code>[ expression ]</code>\uff1a\u4f7f\u7528 test \u547d\u4ee4\u7684\u7b80\u5199 <code>[</code> \u5e76\u4ee5 <code>]</code> \u7ed3\u675f \u83b7\u53d6\u8fd4\u56de\u503c\u3002</li> <li><code>[[ expression ]]</code>\uff1a\u4f7f\u7528 <code>[[]]</code> \u83b7\u53d6\u8fd4\u56de\u503c\uff0c\u8fd9\u79cd\u65b9\u5f0f\u652f\u6301\u6b63\u5219\u5224\u65ad\u3002</li> <li>\u6ce8\u610f<code>[]</code>\u3001<code>[[]]</code>\u4e0e<code>expression</code>\u4e4b\u95f4\u5fc5\u987b\u6709\u7a7a\u683c\u3002</li> </ol> </li> </ol> <p>eg\uff1a </p><pre><code># \u5199\u6cd5\u4e00\nif test -e /etc/profile; then\n    echo \"Found profile.\"\nfi\n\n# \u5199\u6cd5\u4e8c\nif [ -e /etc/profile ]; then\n    echo \"Found profile.\"\nfi\n\n# \u5199\u6cd5\u4e09\nif [[ -e /etc/profile ]]; then\n    echo \"Found profile.\"\nfi\n</code></pre><p></p>"},{"location":"Linux/Shell/Shell-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/#test","title":"test \u547d\u4ee4","text":"<p>test \u547d\u4ee4\u7528\u4e8e\u68c0\u67e5\u67d0\u4e2a\u6761\u4ef6\u662f\u5426\u6210\u7acb\uff0c\u53ef\u4ee5\u8fdb\u884c \u6570\u503c\u3001\u5b57\u7b26\u3001\u6587\u4ef6 \u4e09\u4e2a\u65b9\u9762\u7684\u6d4b\u8bd5\uff0c\u6d4b\u8bd5\u7ed3\u675f\u540e\u4f1a\u8fd4\u56de\u4e00\u4e2a\u8fd4\u56de\u503c\uff0c0\u4e3a\u771f\uff0c1\u4e3a\u5047\u3002</p>"},{"location":"Linux/Shell/Shell-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/#_11","title":"\u5224\u65ad","text":""},{"location":"Linux/Shell/Shell-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/#_12","title":"\u6570\u503c\u5224\u65ad","text":"<p>a=1 b=2</p> \u53c2\u6570 \u8bf4\u660e \u4e3e\u6817 \u6817\u5b50\u8fd4\u56de\u503c <code>-eq</code> \u76f8\u7b49\u4e3a\u771f $a -eq $b 1 <code>-ne</code> \u4e0d\u7b49\u4e3a\u771f $a -ne $b 0 <code>-gt</code> \u5927\u4e8e\u4e3a\u771f $a -gt $b 1 <code>-ge</code> \u5927\u4e8e\u7b49\u4e8e\u4e3a\u771f $a -ge $b 1 <code>-lt</code> \u5c0f\u4e8e\u4e3a\u771f $a -lt $b 0 <code>-le</code> \u5c0f\u4e8e\u7b49\u4e8e\u4e3a\u771f $a -le $b 0 <p>Note</p> <p>\u5728\u547d\u4ee4\u4e2d\u6267\u884c\u57fa\u672c\u7684\u7b97\u672f\u8fd0\u7b97\uff0c\u9700\u8981\u7528 <code>[]</code> \u5305\u88f9</p> <p>eg:</p> <pre><code>#!/bin/bash\na=1\nb=2\n\n# \u9519\u8bef\u5199\u6cd5\n# if test $a+1 -eq $b; ...\n# if test $[a]+1 -eq $b; ...\n\n# \u6b63\u786e\u5199\u6cd5\nif test $[a+1] -eq $b; then\n    echo \"a = b\"\nfi\n</code></pre> <pre><code>$ ./b.sh\na = b\n</code></pre>"},{"location":"Linux/Shell/Shell-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/#_13","title":"\u5b57\u7b26\u4e32\u5224\u65ad","text":"<p>s1=\"abc\"</p> <p>s2=\"xyz\"</p> <p>s3=\"\"</p> \u53c2\u6570 \u8bf4\u660e \u6817\u5b50\u8fd4\u56de\u503c [ $s1 <code>=</code> $s2 ] \u76f8\u7b49\u4e3a\u771f 1 [ $s1 <code>==</code> $s2 ] \u4e0e [ $s1 = $s2 ]  \u7b49\u4ef7 1 [ $s1 <code>!=</code> $s2 ] \u4e0d\u7b49\u4e3a\u771f 0 [ <code>-z</code> $s3 ] \u7a7a\u4e32\u4e3a\u771f 0 [ <code>-n</code> $s3 ] \u975e\u7a7a\u4e32\u4e3a\u771f 1 &gt; \u6ce8\u610f\u8fd9\u91cc\u7b49\u53f7 <code>=</code> \u4e24\u8fb9\u9700\u8981\u7a7a\u683c\uff0c\u5426\u5219\u5c31\u6210\u4e86\u8d4b\u503c\u64cd\u4f5c\u4e86 <p></p><pre><code>#!/bin/bash\nif [ -z $s3 ]; then\n    echo \"\u5b57\u7b26\u4e32\u957f\u5ea6\u4e3a0\"\nelif\n    echo \"\u5b57\u7b26\u4e32\u957f\u5ea6\u4e0d\u4e3a0\"\nfi\n</code></pre> <pre><code>$ ./b.sh\n\u5b57\u7b26\u4e32\u957f\u5ea6\u4e3a0\n</code></pre><p></p>"},{"location":"Linux/Shell/Shell-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/#_14","title":"\u6587\u4ef6\u5224\u65ad","text":"\u53c2\u6570 \u8bf4\u660e \u7c7b\u578b\u5224\u65ad \u7c7b\u578b\u5224\u65ad [ <code>-a</code> file ] \u5982\u679c file \u5b58\u5728\uff0c\u5219\u4e3atrue\u3002 [ <code>-e</code> file ] \u5982\u679c file \u5b58\u5728\uff0c\u5219\u4e3atrue\u3002 [ <code>-b</code> file ] \u5982\u679c file \u5b58\u5728\u5e76\u4e14\u662f\u4e00\u4e2a \u5757\uff08\u8bbe\u5907\uff09\u6587\u4ef6\uff0c\u5219\u4e3atrue\u3002 [ <code>-c</code> file ] \u5982\u679c file \u5b58\u5728\u5e76\u4e14\u662f\u4e00\u4e2a \u5b57\u7b26\uff08\u8bbe\u5907\uff09\u6587\u4ef6\uff0c\u5219\u4e3atrue\u3002 [ <code>-d</code> file ] \u5982\u679c file \u5b58\u5728\u5e76\u4e14\u662f\u4e00\u4e2a \u76ee\u5f55\uff0c\u5219\u4e3atrue\u3002 [ <code>-f</code> file ] \u5982\u679c file \u5b58\u5728\u5e76\u4e14\u662f\u4e00\u4e2a \u666e\u901a\u6587\u4ef6\uff0c\u5219\u4e3atrue\u3002 [ <code>-S</code> file ] \u5982\u679c file \u5b58\u5728\u5e76\u4e14\u662f\u4e00\u4e2a \u7f51\u7edc socket\uff0c\u5219\u4e3atrue\u3002 [ <code>-h</code> file ] \u5982\u679c file \u5b58\u5728\u5e76\u4e14\u662f\u4e00\u4e2a \u7b26\u53f7\u94fe\u63a5\uff0c\u5219\u4e3atrue\u3002 [ <code>-L</code> file ] \u5982\u679c file \u5b58\u5728\u5e76\u4e14\u662f\u4e00\u4e2a \u7b26\u53f7\u94fe\u63a5\uff0c\u5219\u4e3atrue\u3002 [ <code>-p</code> file ] \u5982\u679c file \u5b58\u5728\u5e76\u4e14\u662f\u4e00\u4e2a \u547d\u540d\u7ba1\u9053\uff0c\u5219\u4e3atrue\u3002 [ <code>-t</code> fd ] \u5982\u679c fd \u662f\u4e00\u4e2a \u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u5e76\u4e14\u91cd\u5b9a\u5411\u5230\u7ec8\u7aef\uff0c\u5219\u4e3atrue\u3002 \u8fd9\u53ef\u4ee5\u7528\u6765\u5224\u65ad\u662f\u5426\u91cd\u5b9a\u5411\u4e86\u6807\u51c6\u8f93\u5165\uff0f\u8f93\u51fa\uff0f\u9519\u8bef\u3002 \u6743\u9650\u5224\u65ad \u7c7b\u578b\u5224\u65ad [ <code>-r</code> file ] \u5982\u679c file \u5b58\u5728\u5e76\u4e14 \u53ef\u8bfb\uff08\u5f53\u524d\u7528\u6237\u6709\u53ef\u8bfb\u6743\u9650\uff09\uff0c\u5219\u4e3atrue\u3002 [ <code>-w</code> file ] \u5982\u679c file \u5b58\u5728\u5e76\u4e14 \u53ef\u5199\uff08\u5f53\u524d\u7528\u6237\u62e5\u6709\u53ef\u5199\u6743\u9650\uff09\uff0c\u5219\u4e3atrue\u3002 [ <code>-x</code> file ] \u5982\u679c file \u5b58\u5728\u5e76\u4e14 \u53ef\u6267\u884c\uff08\u6709\u6548\u7528\u6237\u6709\u6267\u884c\uff0f\u641c\u7d22\u6743\u9650\uff09\uff0c\u5219\u4e3atrue\u3002 \u5c5e\u6027\u5224\u65ad \u5c5e\u6027\u5224\u65ad [ <code>-g</code> file ] \u5982\u679c file \u5b58\u5728\u5e76\u4e14 \u8bbe\u7f6e\u4e86\u7ec4 ID\uff0c\u5219\u4e3atrue\u3002 [ <code>-k</code> file ] \u5982\u679c file \u5b58\u5728\u5e76\u4e14 \u8bbe\u7f6e\u4e86\u5b83\u7684\u201csticky bit\u201d\uff0c\u5219\u4e3atrue\u3002 [ <code>-u</code> file ] \u5982\u679c file \u5b58\u5728\u5e76\u4e14 \u8bbe\u7f6e\u4e86 setuid \u4f4d\uff0c\u5219\u4e3atrue\u3002 [ <code>-G</code> file ] \u5982\u679c file \u5b58\u5728\u5e76\u4e14 \u5c5e\u4e8e\u6709\u6548\u7684\u7ec4 ID\uff0c\u5219\u4e3atrue\u3002 [ <code>-O</code> file ] \u5982\u679c file \u5b58\u5728\u5e76\u4e14 \u5c5e\u4e8e\u6709\u6548\u7684\u7528\u6237 ID\uff0c\u5219\u4e3atrue\u3002 [ <code>-s</code> file ] \u5982\u679c file \u5b58\u5728\u4e14\u5176 \u957f\u5ea6\u5927\u4e8e\u96f6\uff0c\u5219\u4e3atrue\u3002 [ <code>-N</code> file ] \u5982\u679c file \u5b58\u5728\u5e76\u4e14\u81ea\u4e0a\u6b21\u8bfb\u53d6\u540e \u5df2\u88ab\u4fee\u6539\uff0c\u5219\u4e3atrue\u3002 [ file1 <code>-nt</code> file2 ] \u5982\u679c FILE1 \u6bd4 FILE2 \u7684\u66f4\u65b0\u65f6\u95f4 \u66f4\u8fd1\uff0c\u6216\u8005 FILE1 \u5b58\u5728\u800c FILE2 \u4e0d\u5b58\u5728\uff0c\u5219\u4e3atrue\u3002 [ file1 <code>-ot</code> file2 ] \u5982\u679c FILE1 \u6bd4 FILE2 \u7684\u66f4\u65b0\u65f6\u95f4 \u66f4\u65e7\uff0c\u6216\u8005 FILE2 \u5b58\u5728\u800c FILE1 \u4e0d\u5b58\u5728\uff0c\u5219\u4e3atrue\u3002 [ FILE1 <code>-ef</code> FILE2 ] \u5982\u679c FILE1 \u548c FILE2 \u5f15\u7528\u76f8\u540c\u7684\u8bbe\u5907\u548c inode \u7f16\u53f7\uff0c\u5219\u4e3atrue\u3002"},{"location":"Linux/Shell/Shell-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/#_15","title":"\u6b63\u5219\u5224\u65ad","text":""},{"location":"Linux/Shell/Shell-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/#_16","title":"\u903b\u8f91\u5224\u65ad","text":""},{"location":"Linux/Shell/Shell-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/#_17","title":"\u5faa\u73af","text":""},{"location":"Linux/Shell/Shell-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/#for","title":"for \u5faa\u73af","text":"<p>\u7b2c\u4e00\u79cd\uff1a</p> <pre><code>for var\ndo\n    commands\ndone\n</code></pre> <p>\u7b2c\u4e8c\u79cd</p> <pre><code>for var in list\ndo\n    commands\ndone\n</code></pre> <p>Example</p> <pre><code>learn=\"Hello Shell, I am Boii\"\nfor word in $learn\ndo\n    echo $word\ndone\n\n# Output\nHello\nShell,\nI\nam\nBoii\n</code></pre> <p>\u7b2c\u4e09\u79cd</p> <pre><code>for num in {1..n}\ndo\n    commands\ndone\n</code></pre> <p>Example</p> <pre><code>for num in {1..5}\ndo\n    echo $num\ndone\n\n# Output\n1\n2\n3\n4\n5\n</code></pre> <p>\u7b2c\u56db\u79cd</p> <pre><code>for var in {START..END..STEP}\ndo\n    commands\ndone\n</code></pre> <p>Example</p> <pre><code>for num in {1..10..2}\ndo\n    echo $num\ndone\n\n# Output\n1\n3\n5\n7\n9\n</code></pre> <p>\u7b2c\u4e94\u79cd</p> <pre><code>for (( expression1; expression2; expression3 ))\ndo\n    commands\ndone\n</code></pre> <p>Example</p> <pre><code>for (( i=1; i&lt;6; i++ ))\ndo\n    echo $i\ndone\n\n# Output\n1\n2\n3\n4\n5\n6\n</code></pre> <p>\u7b2c\u516d\u79cd\uff0c\u65e0\u9650\u5faa\u73af</p> <pre><code>for ((;;))\ndo\n    commands\ndone\n</code></pre> <p>Example</p> <pre><code>for ((;;))\ndo\n    echo \"infinite loop\"\ndone\n</code></pre> <p>\u7b2c\u4e03\u79cd\uff0c\u6309\u7a7a\u683c\u5206\u5272\u8bfb\u53d6\u5b57\u7b26\u4e32</p> <pre><code>str=\"Let's start\ntalk about sth.\"\n\nfor i in $str\ndo\n    echo $i\ndone\n\n#Output\nLet's\nstart\ntalk\nabout\nsth.\n</code></pre> <p>\u7b2c\u516b\u79cd\uff0c\u6309\u6362\u884c\u5206\u5272\u8bfb\u53d6\u5b57\u7b26\u4e32</p> <pre><code>str=\"Let's start\ntalk about sth.\"\n\nfor i in \"$str\"\ndo\n    echo $i\ndone\n\n#Output\nLet's start\ntalk about sth.\n</code></pre>"},{"location":"Linux/Shell/Shell-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/#_18","title":"\u5f69\u8272\u6253\u5370","text":"<pre><code>#!/bin/bash\nfor b in {40..47}\ndo\n    for f in {30..37}\n    do\n        for s in 0 1 4 5 7 8\n        do\n            echo -n -e \"\\033[${s};${f};${b}mHello World!\\033[0m \"\n        done\n    done\ndone\n</code></pre>"},{"location":"Linux/Shell/Shell-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/#while","title":"while \u5faa\u73af","text":"<p>\u5f53 condition \u4e3a\u771f\u65f6\uff0c\u6267\u884c commands</p> <ol> <li> <p>\u57fa\u672c\u6837\u5f0f     </p><pre><code>while condition\ndo\n    commands\ndone\n</code></pre><p></p> <p>Example</p> <pre><code># \u5355\u6761\u4ef6 while \u5faa\u73af\ni1=10\ni2=20\nwhile [[ $i1 -lt $i2 ]]\ndo\n    echo $i1\n    ((i1++))\ndone\n\n# \u591a\u6761\u4ef6 while \u5faa\u73af\na1=10\na2=20\na3=30\nwhile [[ $a1 -gt 0 &amp;&amp; $a2 -lt $3 ]]\ndo\n    echo $a2\n    ((a2++))\ndone\n</code></pre> </li> <li> <p>\u65e0\u9650\u5faa\u73af     </p><pre><code>while :\ndo\n    commands\ndone\n\n\u6216\n\nwhile true\ndo\n    commands\ndone\n\n\u6216\n\nwhile :; do commands; done\n</code></pre><p></p> <p>Example</p> <pre><code>while :\ndo\n    echo \"Hello, Boii\"\n    sleep 1s\ndone\n\n\u6216\n\nwhile true\ndo\n    echo \"Hello, Boii\"\n    sleep 1s\ndone\n\n\u6216\n\nwhile :; do echo \"Hello, Boii\"; sleep 1s; done\n</code></pre> </li> <li> <p>\u5e26\u6761\u4ef6     </p><pre><code>while ((condition))\ndo\n    commands\ndone\n</code></pre><p></p> <p>Example</p> <pre><code>i=1\nwhile ((i &lt;= 10))\ndo\n    echo $i\n    ((i++))\ndone\n</code></pre> </li> </ol>"},{"location":"Linux/Shell/Shell-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/#until","title":"until \u5faa\u73af","text":"<p>\u5f53 condition \u4e3a\u5047\u65f6\uff0c\u6267\u884c commands</p> <ol> <li> <p>\u57fa\u672c\u6837\u5f0f     </p><pre><code>until condition\ndo\n    commands\ndone\n\n\u6216\n\nuntil false\ndo\n    commands\ndone\n</code></pre><p></p> <p>Example</p> <pre><code>i=1\nuntil false\ndo\n    if [[ $i == 10 ]]\n    then\n        break\n    fi\n    echo $i\ndone\n</code></pre> </li> <li> <p>\u5e26\u6761\u4ef6     </p><pre><code>until (( condition ))\ndo\n    commands\ndone\n</code></pre><p></p> </li> </ol>"},{"location":"Linux/Shell/Shell-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/#select","title":"select \u5faa\u73af","text":"<pre><code>select var in word1 word2 ... wordN\ndo\n    commands\ndone\n</code></pre> <p>select \u5faa\u73af\u4f1a\u5217\u51fa\u540e\u9762\u6240\u6709\u7684 word\uff0c\u5e76\u63a5\u6536\u6570\u5b57\u4f5c\u4e3a\u9009\u62e9\u3002\u5e38\u7528\u6765\u521b\u5efa\u4e00\u4e2a\u5e26\u7f16\u53f7\u7684\u83dc\u5355\u3002</p> <pre><code>#!/bin/ksh\n\nselect DRINK in tea cofee water juice appe all none\ndo\n   case $DRINK in\n      tea|cofee|water|all) \n         echo \"Go to canteen\"\n         ;;\n      juice|appe)\n         echo \"Available at home\"\n      ;;\n      none) \n         break \n      ;;\n      *) echo \"ERROR: Invalid selection\" \n      ;;\n   esac\ndone\n</code></pre> <pre><code># Output\n\n$ ./test.sh\n1) tea\n2) cofee\n3) water\n4) juice\n5) appe\n6) all\n7) none\n#? 4\nAvailable at home\n#? 7\n$\n</code></pre> <p>\u53ef\u4ee5\u4fee\u6539 <code>PS3</code> \u53d8\u91cf\u6765\u66f4\u6539\u9009\u62e9\u63d0\u793a</p> <pre><code>$ PS3=\"Please make a selection =&gt; \" ; export PS3\n$ ./test.sh\n1) tea\n2) cofee\n3) water\n4) juice\n5) appe\n6) all\n7) none\nPlease make a selection =&gt; 4\nAvailable at home\nPlease make a selection =&gt; 7\n$\n</code></pre>"},{"location":"Linux/Shell/Shell-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/#case","title":"case \u5206\u652f","text":"<pre><code>case expression in\n    pattern_1)\n        statements\n        ;;\n    pattern_2)\n        statements\n        ;;\n    pattern_3|pattern_4|pattern_5)\n        statements\n        ;;\n    *)\n        statements\n        ;;\nesac\n</code></pre> <ul> <li><code>case</code> \u5f00\u5934\uff0c\u63a5 <code>in</code> \u5173\u952e\u5b57\uff0c<code>esac</code> \u7ed3\u5c3e</li> <li>\u5206\u652f\u4e2d\u53ef\u4ee5\u7528 <code>|</code> \u5206\u9694\u591a\u4e2a\u6a21\u5f0f\uff0c\u5206\u652f\u4ee5 <code>)</code> \u7ed3\u5c3e</li> <li>\u6bcf\u4e00\u4e2a\u5206\u652f\u7684\u8bed\u53e5\u4ee5 <code>;;</code> \u7ec8\u6b62</li> <li>\u4f7f\u7528 <code>*</code> \u8868\u793a\u9ed8\u8ba4\u5206\u652f</li> </ul> <p>\u5728\u7b2c\u4e00\u4e2a\u5339\u914d\u9879\u4e4b\u540e\uff0c<code>case</code>\u4ee5\u6700\u540e\u6267\u884c\u7684\u8bed\u53e5\u7684\u9000\u51fa\u72b6\u6001\u7ec8\u6b62\u3002 \u5982\u679c\u6ca1\u6709\u5339\u914d\u7684\u6a21\u5f0f\uff0c\u5219<code>case</code>\u7684\u9000\u51fa\u72b6\u6001\u4e3a\u96f6\u3002\u5426\u5219\uff0c\u8fd4\u56de\u72b6\u6001\u662f\u5df2\u6267\u884c\u8bed\u53e5\u7684\u9000\u51fa\u72b6\u6001\u3002 \u5982\u679c\u4f7f\u7528\u9ed8\u8ba4\u7684\u661f\u53f7(<code>*</code>)\u6a21\u5f0f\uff0c\u5219\u5728\u6ca1\u6709\u5339\u914d\u6a21\u5f0f\u7684\u60c5\u51b5\u4e0b\u5c06\u6267\u884c\u5b83\u3002</p> <pre><code>read -p \"Do you know Golang?[Yes/no] \" answer\n\ncase $answer in\n    Yes|yes|y|Y)\n        echo \"That is amazing.\"\n        echo\n        ;;\n    No|no|n|N)\n        echo \"emmmmmm.\"\n        echo\n        ;;\neasc\n</code></pre>"},{"location":"Linux/Shell/Shell-2-%E5%87%BD%E6%95%B0%E3%80%81%E6%95%B0%E7%BB%84%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91/","title":"2-\u51fd\u6570\u3001\u6570\u7ec4\u3001\u91cd\u5b9a\u5411","text":""},{"location":"Linux/Shell/Shell-2-%E5%87%BD%E6%95%B0%E3%80%81%E6%95%B0%E7%BB%84%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91/#shell-2","title":"Shell-2","text":""},{"location":"Linux/Shell/Shell-2-%E5%87%BD%E6%95%B0%E3%80%81%E6%95%B0%E7%BB%84%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91/#_1","title":"\u51fd\u6570","text":"<ol> <li>\u51fd\u6570\u9700\u5148\u58f0\u660e\u518d\u4f7f\u7528</li> <li>\u5728\u5185\u90e8\u4f7f\u7528 <code>$1</code>\u3001 <code>$2</code>\u3001 <code>$n</code> \u7b49\u8bbf\u95ee\u53c2\u6570</li> <li>\u51fd\u6570\u5185\u7684\u58f0\u660e\u53d8\u91cf\u4e3a\u5168\u5c40\u53d8\u91cf</li> <li>\u51fd\u6570\u5185\u4f7f\u7528 <code>local</code> \u9650\u5b9a\u7684\u53d8\u91cf\u4e3a\u5c40\u90e8\u53d8\u91cf\uff0c\u8303\u56f4\u4ec5\u9650\u4e8e\u51fd\u6570\u5185</li> <li>Bash shell \u4e2d\u4f7f\u7528\u51fd\u6570\u53ef\u4ee5\u8986\u76d6\u5185\u7f6e\u547d\u4ee4</li> </ol>"},{"location":"Linux/Shell/Shell-2-%E5%87%BD%E6%95%B0%E3%80%81%E6%95%B0%E7%BB%84%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91/#_2","title":"\u58f0\u660e","text":"<pre><code>function_name() {\n    commands\n}\n\n\u6216\n\nfunction_name() { commands; }\n\n\u6216\n\nfunction function_name {\n    commands\n}\n</code></pre>"},{"location":"Linux/Shell/Shell-2-%E5%87%BD%E6%95%B0%E3%80%81%E6%95%B0%E7%BB%84%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91/#_3","title":"\u4f7f\u7528","text":"<p>\u4f7f\u7528\u51fd\u6570\u65f6\uff0c\u76f4\u63a5\u5199\u51fd\u6570\u540d\u5373\u53ef\u3002</p> <pre><code># \u58f0\u660e\u51fd\u6570\nwelcome() {\n    echo \"Hello, I'm Boii.\"\n}\n\nwelcome # \u8c03\u7528\u51fd\u6570\n</code></pre>"},{"location":"Linux/Shell/Shell-2-%E5%87%BD%E6%95%B0%E3%80%81%E6%95%B0%E7%BB%84%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91/#_4","title":"\u51fd\u6570\u4f20\u53c2","text":"<p>\u51fd\u6570\u4f20\u53c2\u65f6\uff0c\u5728\u51fd\u6570\u540d\u540e\u6309\u7a7a\u683c\u5206\u9694\u9010\u4e00\u5199\u4e0a\u53c2\u6570</p> <pre><code>fn() {\n    echo $1\n    echo $2\n    echo $3\n}\n\nfn 1 2 3\n\n# Output\n1\n2\n3\n</code></pre> <p>\u5728\u51fd\u6570\u4e2d\uff1a</p> <ul> <li><code>$0</code> \u662f\u51fd\u6570\u540d\u79f0</li> <li><code>$1 ~ $n</code> \u662f\u53c2\u6570</li> <li><code>$#</code> \u662f\u53c2\u6570\u4e2a\u6570</li> <li><code>$*</code> \u548c <code>$@</code> \u4fdd\u5b58\u6240\u6709\u53c2\u6570<ul> <li><code>\"$*\"</code> \u7b49\u4e8e <code>\"$1 $2 $3 $n\"</code></li> <li><code>\"$@\"</code> \u7b49\u4e8e <code>\"$1\" \"$2\" \"$3\" \"$n\"</code></li> <li><code>$*</code> \u7b49\u4e8e <code>$@</code></li> </ul> </li> </ul>"},{"location":"Linux/Shell/Shell-2-%E5%87%BD%E6%95%B0%E3%80%81%E6%95%B0%E7%BB%84%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91/#_5","title":"\u8fd4\u56de\u503c","text":"<p>shell \u4e2d\u7684\u51fd\u6570\u8fd4\u56de\u7684\u662f\u72b6\u6001\uff0c\u7c7b\u4f3c\u4e8e\u7a0b\u5e8f\u9000\u51fa\u72b6\u6001\u3002</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u51fd\u6570\u8fd4\u56de\u503c\u662f\u51fd\u6570\u4e2d\u6700\u540e\u6267\u884c\u7684\u8bed\u53e5\u7684\u72b6\u6001\uff0c\u6210\u529f\u8fd4\u56de <code>0</code>\uff0c\u5931\u8d25\u8fd4\u56de\u975e\u96f6\u3002</p> <p>\u5728\u51fd\u6570\u5916\u90e8\u4f7f\u7528 <code>$?</code> \u83b7\u53d6\u8fd4\u56de\u503c\u3002 </p> <pre><code>fn() {\n    echo \"Hello, $1\"\n    return 10\n}\n\nfn \"Boii\"\n\necho \"return value is $?\"\n\n# Output\nHello, Boii\n10\n</code></pre> <p>\u7b2c\u4e8c\u79cd\u65b9\u5f0f\uff1a\u4f7f\u7528 <code>echo</code> \u6216 <code>printf</code> \u547d\u4ee4\u5c06\u6253\u5370\u503c\u53d1\u9001\u5230 <code>stdout</code>\uff1a</p> <pre><code>fn() {\n    echo \"Hello, $1\"\n    echo 10\n}\n\necho \"$(fn 'Boii')\"\n\n# Output\nHello, Boii\n10\n</code></pre>"},{"location":"Linux/Shell/Shell-2-%E5%87%BD%E6%95%B0%E3%80%81%E6%95%B0%E7%BB%84%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91/#_6","title":"\u4f5c\u7528\u57df","text":"<p>\u51fd\u6570\u5185\u58f0\u660e\u7684\u53d8\u91cf\u9ed8\u8ba4\u662f\u5168\u5c40\u53d8\u91cf\uff0c\u60f3\u8981\u58f0\u660e\u5c40\u90e8\u53d8\u91cf\uff0c\u5fc5\u987b\u4f7f\u7528 <code>local</code> \u9650\u5b9a\u3002</p> <pre><code>#!/bin/bash  \n\nv1='A'  \nv2='B'  \n\nmy_var () {  \nlocal v1='C'  \nv2='D'  \necho \"Inside Function\"  \necho \"v1 is $v1.\"  \necho \"v2 is $v2.\"  \n}  \n\necho \"Before Executing the Function\"  \necho \"v1 is $v1.\"  \necho \"v2 is $v2.\"  \n\nmy_var  \n\necho \"After Executing the Function\"  \necho \"v1 is $v1.\"  \necho \"v2 is $v2.\"\n\n# Output\nv1 is A.\nv1 is B.\nInside Function\nv1 is C.\nv2 is D.\nAfter Executing the Function\nv1 is A.\nv2 is D.\n</code></pre> <p>\u5728\u4e0a\u9762\u8f93\u51fa\u4e2d\uff0c\u5982\u679c\u5728\u51fd\u6570\u4f53\u5185\u8bbe\u7f6e\u4e0e\u5168\u5c40\u53d8\u91cf\u540c\u540d\u7684\u5c40\u90e8\u53d8\u91cf\uff0c\u5219\u5b83\u5c06\u4f18\u5148\u4e8e\u5168\u5c40\u53d8\u91cf(\u5373\uff0c\u5c40\u90e8\u53d8\u91cf\u8986\u76d6\u5168\u5c40\u53d8\u91cf)\u3002\u53ef\u4ee5\u5728\u51fd\u6570\u5185\u4fee\u6539\u5168\u5c40\u53d8\u91cf\u3002</p>"},{"location":"Linux/Shell/Shell-2-%E5%87%BD%E6%95%B0%E3%80%81%E6%95%B0%E7%BB%84%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91/#_7","title":"\u6570\u7ec4","text":"<p>Bash \u652f\u6301\u666e\u901a\u6570\u7ec4\u548c\u5173\u8054\u6570\u7ec4\u3002</p> <p>\u666e\u901a\u6570\u7ec4\u4f7f\u7528\u6574\u6570\u4f5c\u4e3a\u7d22\u5f15\uff0c\u5173\u8054\u6570\u7ec4\u4f7f\u7528\u5b57\u7b26\u4e32\u4f5c\u4e3a\u7d22\u5f15\uff08\u7c7b\u4f3c kv \u5bf9\uff09\u3002</p> <p>Bash 4.0 \u8d77\u624d\u652f\u6301\u5173\u8054\u6570\u7ec4\u3002</p>"},{"location":"Linux/Shell/Shell-2-%E5%87%BD%E6%95%B0%E3%80%81%E6%95%B0%E7%BB%84%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91/#_8","title":"\u666e\u901a\u6570\u7ec4","text":""},{"location":"Linux/Shell/Shell-2-%E5%87%BD%E6%95%B0%E3%80%81%E6%95%B0%E7%BB%84%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91/#_9","title":"\u521b\u5efa\u6570\u7ec4","text":"<pre><code># \u65b9\u5f0f1\ndeclare -a ARR_NAME\n\n# \u65b9\u5f0f2\nARR_NAME=(val1 val2 val3 valN)\n\n# \u65b9\u5f0f3\nARR_NAME[0]=val1\nARR_NAME[1]=val2\nARR_NAME[2]=val3\nARR_NAME[3]=val4\n...\n\n# \u65b9\u5f0f4 \u5c06\u547d\u4ee4\u8f93\u51fa\u4f5c\u4e3a\u6570\u7ec4\u5143\u7d20\nARR_NAME=($(command))\n</code></pre> <p>eg:</p> <pre><code># \u65b9\u5f0f1\ndeclare -a HttpMethods\n\n# \u65b9\u5f0f2\nbooks=(\"Go Web\" \"Effective Go\" \"C Shell\" \"Bash toturial\")\n\n# \u65b9\u5f0f3\nnums[0]=10\nnum2[1]=11\nnums[2]=12\nnums[3]=13\n</code></pre> <pre><code>time=($(date))\ndeclare -p time\n\n# Output\ndeclare -a a=([0]=\"2021\u5e74\" [1]=\"06\u6708\" [2]=\"17\u65e5\" [3]=\"\u661f\u671f\u56db\" [4]=\"14:52:16\" [5]=\"CST\")\n</code></pre>"},{"location":"Linux/Shell/Shell-2-%E5%87%BD%E6%95%B0%E3%80%81%E6%95%B0%E7%BB%84%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91/#_10","title":"\u83b7\u53d6\u5355\u4e2a\u5143\u7d20","text":"<pre><code>${ARR_NAME[INDEX]}\n</code></pre> <p>eg\uff1a</p> <pre><code>books=(\"Go Web\" \"Effective Go\" \"C Shell\" \"Bash toturial\")\n\necho ${books[2]}                    # C Shell\nidx=3 &amp;&amp; echo ${books[$idx]}     # Bash toturial\n</code></pre> <p>\u6570\u7ec4\u7684\u4e0b\u6807\u4ece 0 \u5f00\u59cb\u3002</p>"},{"location":"Linux/Shell/Shell-2-%E5%87%BD%E6%95%B0%E3%80%81%E6%95%B0%E7%BB%84%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91/#_11","title":"\u83b7\u53d6\u6240\u6709\u5143\u7d20","text":"<pre><code>${ARR_NAME[*]}\n\n\u6216\n\n${ARR_NAME[@]}\n</code></pre> <p>eg\uff1a</p> <pre><code>books=(\"Go Web\" \"Effective Go\" \"C Shell\" \"Bash toturial\")\n\necho ${books[*]}    # Go Web Effective Go C Shell Bash toturial\necho ${books[@]}    # Go Web Effective Go C Shell Bash toturial\n</code></pre>"},{"location":"Linux/Shell/Shell-2-%E5%87%BD%E6%95%B0%E3%80%81%E6%95%B0%E7%BB%84%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91/#_12","title":"\u83b7\u53d6\u6240\u6709\u5143\u7d20\u4e0b\u6807","text":"<pre><code>${!ARR_NAME[*]}\n\n\u6216\n\n${!ARR_NAME[@]}\n</code></pre> <p>eg\uff1a</p> <pre><code>books=(\"Go Web\" \"Effective Go\" \"C Shell\" \"Bash toturial\")\n\necho ${!books[*]}   # 0 1 2 3\necho ${!books[@]}   # 0 1 2 3\n\nunset books[2]  # \u5220\u9664\u7b2c3\u4e2a\u5143\u7d20 C Shell\necho ${!books[*]}   # 0 1 3\n</code></pre>"},{"location":"Linux/Shell/Shell-2-%E5%87%BD%E6%95%B0%E3%80%81%E6%95%B0%E7%BB%84%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91/#_13","title":"\u83b7\u53d6\u6570\u7ec4\u957f\u5ea6","text":"<pre><code>${#ARR_NAME[*]}\n\n\u6216\n\n${#ARR_NAME[@]}\n</code></pre> <p>eg\uff1a</p> <pre><code>books=(\"Go Web\" \"Effective Go\" \"C Shell\" \"Bash toturial\")\n\necho ${#books[*]}   # 4\necho ${#books[@]}   # 4\n</code></pre>"},{"location":"Linux/Shell/Shell-2-%E5%87%BD%E6%95%B0%E3%80%81%E6%95%B0%E7%BB%84%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91/#_14","title":"\u6dfb\u52a0\u5143\u7d20","text":"<ul> <li> <p>\u6dfb\u52a0\u5355\u4e2a\u5143\u7d20</p> <pre><code>ARR_NAME[IDX]=val\n</code></pre> <p>eg\uff1a</p> <pre><code>books=(\"Go Web\" \"Effective Go\" \"C Shell\" \"Bash toturial\")\n\nbooks[5]=11\n\necho ${books[*]}    # Go Web Effective Go Bash toturial 11\n</code></pre> </li> <li> <p>\u6dfb\u52a0\u591a\u4e2a\u5143\u7d20</p> <pre><code>ARR_NAME+=(NEW_val1 NEW_val2 NEW_val3)\n</code></pre> <p>eg:</p> <pre><code>books=(\"Go Web\" \"Effective Go\" \"C Shell\" \"Bash toturial\")\n\nbooks+=(11 12 13)\n\necho ${books[@]}    # Go Web Effective Go Bash toturial 11 12 13\n</code></pre> </li> </ul>"},{"location":"Linux/Shell/Shell-2-%E5%87%BD%E6%95%B0%E3%80%81%E6%95%B0%E7%BB%84%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91/#_15","title":"\u5220\u9664\u5143\u7d20\u3001\u5220\u9664\u6570\u7ec4","text":"<pre><code>unset ARR_NAME[IDX]\n\nunset ARR_NAME\n</code></pre> <p>eg:</p> <pre><code>books=(\"Go Web\" \"Effective Go\" \"C Shell\" \"Bash toturial\")\n\nunset books[1]\necho ${books[*]}    # Go Web C Shell Bash toturial\n\nunset books\necho ${books[*]}    # \n</code></pre>"},{"location":"Linux/Shell/Shell-2-%E5%87%BD%E6%95%B0%E3%80%81%E6%95%B0%E7%BB%84%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91/#_16","title":"\u904d\u5386\u6570\u7ec4","text":"<pre><code>books=(\"Go Web\" \"Effective Go\" \"C Shell\" \"Bash toturial\")\n\nfor i in ${!books[*]}\ndo\n    echo ${books[$i]}\ndone\n\n# Output\nGo Web\nEffective Go\nC Shell\nBash toturial\n</code></pre>"},{"location":"Linux/Shell/Shell-2-%E5%87%BD%E6%95%B0%E3%80%81%E6%95%B0%E7%BB%84%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91/#_17","title":"\u5173\u8054\u6570\u7ec4","text":"<p>\u5173\u8054\u6570\u7ec4\u5fc5\u987b\u5148\u58f0\u660e <code>declare -A MAP_NAME</code></p>"},{"location":"Linux/Shell/Shell-2-%E5%87%BD%E6%95%B0%E3%80%81%E6%95%B0%E7%BB%84%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91/#_18","title":"\u521b\u5efa","text":"<pre><code>declare -A MAP_NAME\n</code></pre> <p>eg\uff1a</p> <pre><code>declare -A color\n</code></pre>"},{"location":"Linux/Shell/Shell-2-%E5%87%BD%E6%95%B0%E3%80%81%E6%95%B0%E7%BB%84%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91/#_19","title":"\u521d\u59cb\u5316","text":"<pre><code>MAP_NAME=([K1]=V1 [K2]=V2 [K3]=V3 [KN]=VN)\n\n\u6216\n\nMAP_NAME[K1]=V1\nMAP_NAME[K2]=V2\nMAP_NAME[K3]=V3\nMAP_NAME[KN]=VN\n</code></pre> <p>eg\uff1a</p> <pre><code>declare -A f_color\nf_color=([black]=30 [red]=31 [green]=32 [yellow]=33 [blue]=34 [purple]=35 [cyan]=36 [white]=37)\n\ndeclare -A b_color\nb_color[black]=40\nb_color[red]=41\nb_color[green]=42\nb_color[yellow]=43\nb_color[blue]=44\nb_color[purple]=45\nb_color[cyan]=46\nb_color[white]=47\n</code></pre>"},{"location":"Linux/Shell/Shell-2-%E5%87%BD%E6%95%B0%E3%80%81%E6%95%B0%E7%BB%84%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91/#_20","title":"\u83b7\u53d6\u5143\u7d20","text":"<ol> <li> <p>\u83b7\u53d6\u5355\u4e2a\u5143\u7d20</p> <pre><code>${MAP_NAME[KEY]}\n</code></pre> <p>eg\uff1a</p> <pre><code>declare -A f_color\nf_color=([black]=30 [red]=31 [green]=32 [yellow]=33 [blue]=34 [purple]=35 [cyan]=36 [white]=37)\n\necho ${f_color[red]}    # 31\n</code></pre> </li> <li> <p>\u83b7\u53d6\u6240\u4ee5\u5143\u7d20</p> <pre><code>${MAP_NAME[*]}\n\n\u6216\n\n${MAP_NAME[@]}\n</code></pre> <p>eg\uff1a</p> <pre><code>declare -A f_color\nf_color=([black]=30 [red]=31 [green]=32 [yellow]=33 [blue]=34 [purple]=35 [cyan]=36 [white]=37)\n\necho ${f_color[*]}  # 30 31 32 33 34 35 36 37\n</code></pre> </li> </ol>"},{"location":"Linux/Shell/Shell-2-%E5%87%BD%E6%95%B0%E3%80%81%E6%95%B0%E7%BB%84%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91/#_21","title":"\u83b7\u53d6\u6240\u6709\u5143\u7d20\u4e0b\u6807\u3001\u83b7\u53d6\u6570\u7ec4\u957f\u5ea6","text":"<ul> <li> <p>\u83b7\u53d6\u6240\u6709\u5143\u7d20\u4e0b\u6807</p> <pre><code>${!MAP_NAME[*]}\n\n\u6216\n\n${!MAP_NAME[@]}\n</code></pre> </li> <li> <p>\u83b7\u53d6\u6570\u7ec4\u957f\u5ea6</p> <pre><code>${#MAP_NAME[*]}\n\n\u6216\n\n${#MAP_NAME[@]}\n</code></pre> </li> </ul>"},{"location":"Linux/Shell/Shell-2-%E5%87%BD%E6%95%B0%E3%80%81%E6%95%B0%E7%BB%84%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91/#_22","title":"\u91cd\u5b9a\u5411","text":"<ul> <li><code>/dev/null</code>\uff1a\u4ee3\u8868\u7a7a\u8bbe\u5907\u6587\u4ef6\uff0c\u662f\u4e2a\u9ed1\u6d1e\u6587\u4ef6</li> <li><code>0</code>\uff1a\u4ee3\u8868 <code>stdin</code> \u6807\u51c6\u8f93\u5165</li> <li><code>1</code>\uff1a\u4ee3\u8868 <code>stdout</code> \u6807\u51c6\u8f93\u51fa</li> <li><code>2</code>\uff1a\u4ee3\u8868 <code>stderr</code> \u6807\u51c6\u9519\u8bef</li> <li><code>&gt;</code>\uff1a\u4ee3\u8868\u91cd\u5b9a\u5411\u8f93\u51fa\uff0c<code>&gt; f</code> \u8868\u793a\u5c06\u8f93\u51fa\u91cd\u5b9a\u5411\u5230 f \u6587\u4ef6\uff0c\u4f1a\u8986\u76d6 f \u539f\u672c\u7684\u5185\u5bb9</li> <li><code>&gt;&gt;</code>\uff1a\u4ee3\u8868\u91cd\u5b9a\u5411\u8f93\u51fa\uff0c<code>&gt;&gt; f</code> \u8868\u793a\u5c06\u8f93\u51fa\u91cd\u5b9a\u5411\u5230 f \u6587\u4ef6\uff0c\u8ffd\u52a0\u5728 f \u539f\u672c\u7684\u5185\u5bb9\u540e\u9762\u3002</li> <li><code>&lt;</code>\uff1a\u4ee3\u8868\u91cd\u5b9a\u5411\u8f93\u5165\uff0c<code>&lt; f</code> \u8868\u793a\u8f93\u5165 f \u7684\u5185\u5bb9</li> <li> <p><code>&amp;</code>\uff1a\u8868\u793a\u7b49\u540c\u4e8e\u7684\u610f\u601d\u3002</p> </li> <li> <p><code>cmd &gt; /dev/null</code>\uff1a\u6240\u6709\u7684\u6b63\u786e\u8f93\u51fa\u5c06\u4f1a\u88ab\u4e22\u5f03\uff0c\u56e0\u4e3a <code>/dev/null</code> \u662f\u4e2a\u9ed1\u6d1e\u6587\u4ef6\u3002</p> </li> <li><code>cmd 1&gt; /dev/null</code>\u3002\u4e0e\u4e0a\u9762\u4e00\u6761\u7b49\u4ef7\uff0c\u9519\u8bef\u4fe1\u606f\u8fd8\u662f\u4f1a\u7167\u6837\u8f93\u51fa\u7684\u3002</li> <li><code>cmd 2&gt; /dev/null</code>\uff1a\u6240\u6709\u7684\u62a5\u9519\u4fe1\u606f\u5c06\u4f1a\u88ab\u4e22\u5f03\uff0c\u800c\u6b63\u786e\u8f93\u51fa\u4f1a\u539f\u6837\u6253\u5370\u5230\u5c4f\u5e55\u4e0a\u3002</li> <li><code>cmd 2&gt;&amp;1</code>\uff1a\u6240\u6709\u62a5\u9519\u4fe1\u606f\u5c06\u88ab\u91cd\u5b9a\u5411\u5230 <code>stdout</code>\uff0c\u9519\u8bef\u4fe1\u606f\u4e5f\u88ab\u5f53\u6210\u6b63\u786e\u4fe1\u606f\u6253\u5370\u3002</li> <li><code>cmd 2&gt;1</code>\uff1a\u6240\u6709\u62a5\u9519\u4fe1\u606f\u5c06\u88ab\u91cd\u5b9a\u5411\u5230\u6587\u4ef6 <code>1</code> \u4e2d\u3002</li> <li><code>cmd 1&gt;&amp;2</code>\uff1a\u6240\u6709\u6b63\u786e\u4fe1\u606f\u5c06\u88ab\u91cd\u5b9a\u5411\u5230 <code>stderr</code> \uff0c\u6b63\u786e\u4fe1\u606f\u4e5f\u88ab\u5f53\u6210\u62a5\u9519\u4fe1\u606f\u6253\u5370\u3002</li> <li> <p><code>cmd &gt;&amp;2</code>\uff1a\u548c <code>cmd 1&gt;&amp;2</code> \u3001<code>cmd 1&gt;&amp; 2</code>\u7b49\u4ef7\u3002</p> </li> <li> <p><code>cmd 1&gt;y 2&gt;n</code>\uff1a\u6b63\u786e\u4fe1\u606f\u5c06\u8f93\u51fa\u5230\u6587\u4ef6 <code>y</code>\uff0c\u9519\u8bef\u4fe1\u606f\u5c06\u8f93\u51fa\u5230\u6587\u4ef6 <code>n</code>\u3002</p> </li> <li><code>cmd &gt;y 2&gt;n</code>\uff1a\u4e0e\u4e0a\u9762\u4e00\u6761\u7b49\u4ef7\u3002</li> <li><code>cmd 1&gt;y 2&gt;&amp;1</code>\uff1a\u6b63\u786e\u4fe1\u606f\u5c06\u8f93\u51fa\u5230\u6587\u4ef6 <code>y</code>\uff0c\u9519\u8bef\u4fe1\u606f\u5c06\u8f93\u51fa\u5230 <code>stdout</code>\uff0c\u8ddf\u7740\u4e00\u8d77\u8f93\u51fa\u5230\u6587\u4ef6 <code>y</code>\u3002</li> </ul>"},{"location":"Linux/Shell/Shell-2-%E5%87%BD%E6%95%B0%E3%80%81%E6%95%B0%E7%BB%84%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91/#_23","title":"\u8f93\u5165","text":"<p>\u4f7f\u7528 <code>read</code> \u547d\u4ee4\u53ef\u4ee5\u8bfb\u53d6\u7528\u6237\u7684\u8f93\u5165</p> <pre><code>read [-u fd] [-n nchars] [-a arr] [-p prompt] [val1 val2 ...]\n</code></pre> <ul> <li><code>-u</code>\uff1a\u63a5\u53d7\u4e00\u4e2a\u6587\u4ef6\u53e5\u67c4 fd \u4f5c\u4e3a\u53c2\u6570\uff0c\u8868\u793a\u4ece fd \u4e2d\u8bfb\u53d6\u6570\u636e\u3002</li> <li><code>-n</code>\uff1a\u53ea\u8bfb\u53d6 nchars \u4e2a\u5b57\u7b26\u540e\u5c31\u8fd4\u56de\uff0c\u800c\u4e0d\u7b49\u6574\u884c\u8f93\u5165\u5b8c\u3002</li> <li><code>-p</code>\uff1a\u6253\u5370\u63d0\u793a\u4fe1\u606f prompt\u3002</li> <li><code>-a</code>\uff1a\u8bfb\u53d6\u8f93\u5165\u5230\u6570\u7ec4\u4e2d</li> <li><code>val1 val2 ...</code>\uff1a\u7528\u6237\u7684\u8f93\u5165\u4f1a\u5b58\u50a8\u5728\u8fd9\u4e9b\u53d8\u91cf\u4e2d\uff0c\u5982\u679c\u6ca1\u6709\u7ed9\u51fa\uff0c\u7528\u6237\u7684\u8f93\u5165\u9ed8\u8ba4\u5728 <code>$REPLY</code> \u4e2d\u3002</li> </ul> <pre><code>#!/bin/bash\n\nread -p \"Please enter name: \" name\necho \"Hello $name\"\n\n# Output\n&gt; ./test.sh\nPlease enter name: Boii\nHello Boii\n</code></pre> <pre><code>#!/bin/bash\n\nread -n 3 \"Please enter name:\" name\necho \"Hello $name\"\n\n# Output\n&gt; ./test.sh\nPlease enter name: Boi\nHello Boi\n</code></pre> <pre><code>#!/bin/bash\n\nread -a inputs -p \"Enter sth: \"\necho ${inputs[*]}\n\n# Output\n&gt; ./text.sh\nEnter sth: abc xyz abo\nabc xyz abo\n</code></pre>"},{"location":"Linux/Shell/Shell-3-%E8%A1%A8%E8%BE%BE%E5%BC%8F/","title":"3-\u8868\u8fbe\u5f0f","text":""},{"location":"Linux/Shell/Shell-3-%E8%A1%A8%E8%BE%BE%E5%BC%8F/#shell-3","title":"Shell-3","text":""},{"location":"Linux/Shell/Shell-3-%E8%A1%A8%E8%BE%BE%E5%BC%8F/#_1","title":"\u5f15\u53f7","text":"<ul> <li> <p>\u5355\u5f15\u53f7 <code>''</code> \uff1a\u5b57\u7b26\u5168\u90e8\u89c6\u4e3a\u666e\u901a\u5b57\u7b26\uff0c\u4e0d\u4f1a\u8f6c\u4e49</p> </li> <li> <p>\u53cc\u5f15\u53f7 <code>\"\"</code> \uff1a\u5b57\u7b26\u90e8\u5206\u89c6\u4e3a\u666e\u901a\u5b57\u7b26\uff0c\u53d8\u91cf \u4f1a\u88ab\u8f6c\u4e49</p> </li> <li> <p>\u53cd\u5f15\u53f7 \uff1a\u5b57\u7b26 \u89c6\u4e3a\u547d\u4ee4\uff0c\u6267\u884c\u540e\u66ff\u6362\u5c06\u7ed3\u679c\u66ff\u6362\u539f\u5b57\u7b26</p> </li> <li> <p><code>$(\u547d\u4ee4)</code>\uff1a\u6267\u884c\u547d\u4ee4\u540e\u5c06\u7ed3\u679c\u8f93\u51fa</p> </li> </ul> <p>Example</p> <pre><code>num=10\necho 'Hello, I am Boii\\n $num'      # Output\uff1aHello, I am Boii\\n $num\n\necho \"Hello, I am Boii\\n $num\"      # Output\uff1aHello, I am Boii\\n 10\n\necho 'Today is' `date`               # Output\uff1aToday is 2021\u5e74 06\u6708 17\u65e5 \u661f\u671f\u56db 10:19:56 CST\n\necho \"Here is $(pwd)\"                # Output\uff1aHere is /home/boii\n</code></pre>"},{"location":"Linux/Shell/Shell-3-%E8%A1%A8%E8%BE%BE%E5%BC%8F/#_2","title":"\u6761\u4ef6\u8868\u8fbe\u5f0f","text":"\u8868\u8fbe\u5f0f \u5b9e\u4f8b <code>[ expression ]</code> <code>[ 1 -eq 1 ]</code> <code>[[ expression ]]</code> <code>[[ 1 -eq 1 ]]</code> <code>test expression</code> <code>test 1 -eq 1</code> ,\u7b49\u540c\u4e8e<code>[ 1 -eq 1 ]</code>"},{"location":"Linux/Shell/Shell-3-%E8%A1%A8%E8%BE%BE%E5%BC%8F/#_3","title":"\u6574\u6570\u6bd4\u8f83\u7b26","text":"\u6bd4\u8f83\u7b26 \u63cf\u8ff0 \u793a\u4f8b <code>-eq</code>\uff0cequal \u7b49\u4e8e <code>[ 1 -eq 1 ]</code>\u4e3a true <code>-ne</code>\uff0cnot equal \u4e0d\u7b49\u4e8e <code>[ 1 -ne 1 ]</code>\u4e3a false <code>-gt</code>\uff0cgreater than \u5927\u4e8e <code>[ 2 -gt 1 ]</code>\u4e3a true <code>-lt</code>\uff0clesser than \u5c0f\u4e8e <code>[ 2 -lt 1 ]</code>\u4e3a false <code>-ge</code>\uff0cgreater or equal \u5927\u4e8e\u6216\u7b49\u4e8e <code>[ 2 -ge 1 ]</code>\u4e3a true <code>-le</code>\uff0clesser or equal \u5c0f\u4e8e\u6216\u7b49\u4e8e <code>[ 2 -le 1 ]</code>\u4e3a false"},{"location":"Linux/Shell/Shell-3-%E8%A1%A8%E8%BE%BE%E5%BC%8F/#_4","title":"\u5b57\u7b26\u4e32\u6bd4\u8f83\u7b26","text":"\u8fd0\u7b97\u7b26 \u63cf\u8ff0 \u793a\u4f8b == \u7b49\u4e8e <code>[ \"a\" == \"a\" ]</code>\u4e3a true != \u4e0d\u7b49\u4e8e <code>[ \"a\" != \"a\" ]</code>\u4e3a false &gt; \u5927\u4e8e\uff0c\u5224\u65ad\u5b57\u7b26\u4e32\u65f6\u6839\u636eASCII \u7801\u8868\u987a\u5e8f\uff0c\u4e0d\u5e38\u7528 \u5728<code>[]</code>\u8868\u8fbe\u5f0f\u4e2d\uff1a<code>[ 2 &gt; 1 ]\u4e3a true</code>\u5728<code>[[]]</code>\u8868\u8fbe\u5f0f\u4e2d\uff1a<code>[[ 2 &gt; 1 ]]\u4e3a true</code>\u5728<code>(())</code>\u8868\u8fbe\u5f0f\u4e2d\uff1a<code>(( 3 &gt; 2 ))\u4e3a true</code> &lt; \u5c0f\u4e8e\uff0c\u5224\u65ad\u5b57\u7b26\u4e32\u65f6\u6839\u636eASCII \u7801\u8868\u987a\u5e8f\uff0c\u4e0d\u5e38\u7528 <code>[ 2 &lt; 1 ]\u4e3a false</code><code>[[ 2 &lt; 1 ]]\u4e3a false</code><code>(( 3 &lt; 2 ))\u4e3a false</code> &gt;= \u5927\u4e8e\u7b49\u4e8e \u5728<code>(())</code>\u8868\u8fbe\u5f0f\u4e2d\uff1a<code>(( 3 &gt;= 2 ))\u4e3a true</code> &lt;= \u5c0f\u4e8e\u7b49\u4e8e \u5728<code>(())</code>\u8868\u8fbe\u5f0f\u4e2d\uff1a<code>(( 3 &lt;= 2 ))\u4e3a false</code> -n \u5b57\u7b26\u4e32\u957f\u5ea6\u4e0d\u7b49\u4e8e 0 \u4e3a\u771f VAR1=1VAR2=\"\"<code>[ -n \"$VAR1\" ]\u4e3a true</code><code>[ -n \"$VAR2\" ]\u4e3a false</code> -z \u5b57\u7b26\u4e32\u957f\u5ea6\u7b49\u4e8e 0 \u4e3a\u771f VAR1=1VAR2=\"\"<code>[ -z \"$VAR1\" ]\u4e3a false</code><code>[ -z \"$VAR2\" ]\u4e3a true</code> str \u5b57\u7b26\u4e32\u5b58\u5728\u4e3a\u771f VAR1=1VAR2=\"\"<code>[ $VAR1 ]\u4e3a true</code><code>[ $VAR2 ]\u4e3a false</code> <p>\u5728\u4f7f\u7528 <code>-z</code> \u548c <code>-n</code> \u5224\u65ad\u5b57\u7b26\u4e32\u957f\u5ea6\u65f6\uff0c\u53d8\u91cf\u8981\u52a0\u53cc\u5f15\u53f7\u3002</p> <p>Example</p> <pre><code>a='Hello'\n[ -z $a ] &amp;&amp; echo 'yes' || echo 'no'    # yes\n[ -n $a ] &amp;&amp; echo 'yes' || echo 'no'    # yes\n</code></pre> <p>\u9700\u8981\u52a0\u4e0a\u53cc\u5f15\u53f7\u624d\u80fd\u6b63\u5e38\u5224\u65ad</p> <p>eg\uff1a</p> <pre><code>a='Hello'\n[ -z \"$a\" ] &amp;&amp; echo 'yes' || echo 'no'  # yes\n[ -n \"$a\" ] &amp;&amp; echo 'yes' || echo 'no'  # no\n</code></pre> <p>\u5982\u679c\u4f7f\u7528\u53cc\u4e2d\u62ec\u53f7\u5c31\u4e0d\u9700\u8981\u52a0\u53cc\u5f15\u53f7</p> <p>Example</p> <pre><code>a='Hello'\n[[ -z $a ]] &amp;&amp; echo 'yes' || echo 'no'  # yes\n[[ -n $a ]] &amp;&amp; echo 'yes' || echo 'no'  # no\n</code></pre>"},{"location":"Linux/Shell/Shell-3-%E8%A1%A8%E8%BE%BE%E5%BC%8F/#_5","title":"\u5e03\u5c14\u8fd0\u7b97\u7b26\u548c\u903b\u8f91\u8fd0\u7b97\u7b26","text":"\u8fd0\u7b97\u7b26 \u63cf\u8ff0 \u793a\u4f8b ! \u975e\u5173\u7cfb\uff0c\u6761\u4ef6\u7ed3\u679c\u53d6\u53cd <code>[ ! 1 -eq 2 ]</code> \u4e3a true -a \u4e0e\u5173\u7cfb\uff0c\u5728<code>[]</code>\u8868\u8fbe\u5f0f\u4e2d\u4f7f\u7528 <code>[ 1 -eq 1 -a 2 -eq 2 ]</code> \u4e3a true -o \u6216\u5173\u7cfb\uff0c\u5728<code>[]</code>\u8868\u8fbe\u5f0f\u4e2d\u4f7f\u7528 <code>[ 1 -eq 1 -o 2 -eq 1 ]</code> \u4e3a true &amp;&amp; \u903b\u8f91\u4e0e\u5728 <code>[[]]</code> \u548c <code>(())</code> \u8868\u8fbe\u5f0f\u4e2d\u6216\u5224\u65ad\u8868\u8fbe\u5f0f\u662f\u5426\u4e3a\u771f\u65f6\u4f7f\u7528 <code>[[ 1 -eq 1 &amp;&amp; 2 -eq 2 ]]</code> \u4e3a true <code>(( 1 == 1 &amp;&amp; 2 == 2 ))</code> \u4e3a true<code>[ 1 -eq 1 ] &amp;&amp; echo yes</code>\u5982\u679c &amp;&amp; \u524d\u9762\u8868\u8fbe\u5f0f\u4e3a true \u5219\u6267\u884c\u540e\u9762\u7684 || \u903b\u8f91\u6216\u5728 <code>[[]]</code> \u548c <code>(())</code> \u8868\u8fbe\u5f0f\u4e2d\u6216\u5224\u65ad\u8868\u8fbe\u5f0f\u662f\u5426\u4e3a\u771f\u65f6\u4f7f\u7528 <code>[[ 1 -eq 1 || 2 -eq 1 ]]</code> \u4e3a true<code>(( 1 == 1 || 2 == 2 ))</code> \u4e3a true<code>[ 1 -eq 2 ] || echo yes</code> \u5982\u679c || \u524d\u9762\u7684\u8868\u8fbe\u5f0f\u4e3a false \u5219\u6267\u884c\u540e\u9762\u6253\u5370 yes"},{"location":"Linux/Shell/Shell-3-%E8%A1%A8%E8%BE%BE%E5%BC%8F/#_6","title":"\u8fd0\u7b97\u8868\u8fbe\u5f0f","text":""},{"location":"Linux/Shell/Shell-3-%E8%A1%A8%E8%BE%BE%E5%BC%8F/#_7","title":"\u6574\u6570\u8fd0\u7b97\u7b26","text":"\u8fd0\u7b97\u7b26 \u63cf\u8ff0 + \u5047\u53d1 - \u51cf\u6cd5 * \u4e58\u6cd5 / \u9664\u6cd5 % \u53d6\u4f59"},{"location":"Linux/Shell/Shell-3-%E8%A1%A8%E8%BE%BE%E5%BC%8F/#_8","title":"\u8fd0\u7b97\u8868\u8fbe\u5f0f","text":"\u8fd0\u7b97\u8868\u8fbe\u5f0f \u793a\u4f8b \u5907\u6ce8 <code>$(())</code> <code>$((1+1))</code> \u53ef\u4ee5\u5728\u62ec\u53f7\u4e2d\u8d4b\u503c\u7ed9\u53d8\u91cf <code>$[]</code> <code>$[1+1]</code> \u4e0d\u53ef\u4ee5\u5728\u62ec\u53f7\u4e2d\u8d4b\u503c\u7ed9\u53d8\u91cf <p>Example</p> <pre><code>a=$((10+20))\necho $a              # 30\n\necho $((5+5))       # 10\n\n((b=15+15))\necho $b              # 30\n\nx=18\ny=28\necho $(( x+y ))    # 46\n\n# ----------------------------------------------\n\necho $[40+40]       # 80\n\necho $[ 40+40 ]     # 80\n\nc=10\nd=15\necho $[ c+d ]       # 25\n\n# ----------------------------------------------\n# \u9519\u8bef\u5199\u6cd5\n[a=40+40]\n[ a=40+40 ]\n$[a=40+40]\n$[ a=40+40 ]\n</code></pre> <p>\u4ee5\u4e0a\u4e24\u4e2a\u8fd0\u7b97\u8868\u8fbe\u5f0f\u5747 \u4e0d\u652f\u6301\u6d6e\u70b9\u8fd0\u7b97\u3002</p> <ul> <li> <p><code>$(())</code> \u8fd8\u6709\u53e6\u5916\u4e00\u4e2a\u7528\u9014\uff1a\u4e09\u76ee\u8fd0\u7b97</p> <p>Example</p> <pre><code>a=10\nb=20\necho $((a&gt;b ? 100 : -1))    # -1    ,\u6761\u4ef6\u4e3a\u5047\uff0c\u8fd4\u56de-1\necho $((a&lt;b ? 100 : -1))    # 100   ,\u6761\u4ef6\u4e3a\u771f\uff0c\u8fd4\u56de100\n</code></pre> </li> <li> <p>\u4e5f\u53ef\u4ee5\u7b80\u5316\uff0c\u4f7f\u7528\u9ed8\u8ba4\u503c</p> <p>Example</p> <pre><code>a=10\nb=20\necho $((a&gt;b))   # 0,\u76f8\u5f53\u4e8e $((a&gt;b ? 1 : 0))\necho $((a&lt;b))   # 1,\u76f8\u5f53\u4e8e $((a&lt;b ? 1 : 0))\n</code></pre> <p>\u6ce8\u610f\uff0c\u4e0d\u652f\u6301\u8fd4\u56de\u5b57\u7b26\u4e32</p> </li> </ul>"},{"location":"Linux/Shell/Shell-3-%E8%A1%A8%E8%BE%BE%E5%BC%8F/#_9","title":"\u5176\u4ed6\u8fd0\u7b97\u5de5\u5177","text":"<ul> <li><code>let</code></li> <li><code>expr</code></li> <li><code>bc</code></li> </ul>"},{"location":"Linux/Shell/Shell-3-%E8%A1%A8%E8%BE%BE%E5%BC%8F/#let","title":"let","text":"<p>\u8d4b\u503c\u5e76\u8fd0\u7b97</p> <p>Example</p> <pre><code>let v=(1+2)*3\necho $v     # 6\n\nx=10\ny=20\nlet x++; echo $x    # 11\nlet y--; echo $y    # 19\n\nlet x+=2; echo $x   # 13\nlet y-=3; echo $y   # 16\n</code></pre>"},{"location":"Linux/Shell/Shell-3-%E8%A1%A8%E8%BE%BE%E5%BC%8F/#bc","title":"bc","text":"<p>Shell \u4e0d\u652f\u6301\u6d6e\u70b9\u6570\u6bd4\u8f83\uff0c\u53ef\u4ee5\u501f\u52a9 <code>bc</code> \u547d\u4ee4\u6765\u5b8c\u6210</p> <p>Example</p> <pre><code>echo \"1.2 &lt; 2\" | bc     # 1\necho \"1.2 &gt; 2\" | bc     # 0\necho \"1.2 == 2\" | bc    # 0\necho \"1.2 != 2\" | bc    # 1\n</code></pre>"},{"location":"Linux/Shell/Shell-3-%E8%A1%A8%E8%BE%BE%E5%BC%8F/#expr","title":"expr","text":"<p><code>expr</code> \u53ef\u4ee5\u5bf9\u5b57\u7b26\u4e32\u64cd\u4f5c</p> <ol> <li> <p>\u83b7\u53d6\u5b57\u7b26\u4e32\u957f\u5ea6</p> <pre><code>expr length \u5b57\u7b26\u4e32\n</code></pre> <p>Example</p> <pre><code>expr length \"Hello\"     # 5\n</code></pre> </li> <li> <p>\u622a\u53d6\u5b57\u7b26\u4e32</p> <pre><code>expr substr \u5b57\u7b26\u4e32 \u8d77\u59cb\u4e0b\u6807 \u7ed3\u675f\u4e0b\u6807\n</code></pre> <p>Example</p> <pre><code>expr substr \"Hello, Boii\" 4 8   # lo, B\n</code></pre> <p>\u8fd9\u91cc\u4e0b\u6807\u4ece 1 \u5f00\u59cb\uff0c\u4e14\u5de6\u5305\u542b+\u53f3\u5305\u542b\u3002</p> </li> <li> <p>\u83b7\u53d6\u5b57\u7b26\u5728\u5b57\u7b26\u4e32\u4e2d\u7684\u4f4d\u7f6e</p> <pre><code>expr index \u5b57\u7b26\u4e32 \u5b57\u7b26\n</code></pre> <p>Example</p> <pre><code>expr index \"Hello, Boii\" 'l'    # 3\nexpr index \"Hello, Boii\" o      # 5\n</code></pre> <p>\u8fd9\u91cc\u53ea\u8fd4\u56de\u5b57\u7b26\u5728\u5b57\u7b26\u4e32\u4e2d\u6700\u5148\u51fa\u73b0\u7684\u4f4d\u7f6e</p> </li> <li> <p>\u83b7\u53d6\u4ece\u5934\u5339\u914d\u957f\u5ea6</p> <pre><code>expr match \u5b57\u7b26\u4e32 \u6a21\u5f0f\u4e32\n</code></pre> <p>Example</p> <pre><code>expr match \"Hello, Boii\" He         # 2\nexpr match \"Hello, Boii\" Hello      # 5\nexpr match \"Hello, Boii\" ello       # 0\n</code></pre> </li> </ol>"},{"location":"Linux/Shell/Shell-3-%E8%A1%A8%E8%BE%BE%E5%BC%8F/#_10","title":"\u590d\u5408\u547d\u4ee4","text":"<p>\u4f7f\u7528\u590d\u5408\u547d\u4ee4\uff0c\u53ef\u4ee5\u5c06\u591a\u6761\u6307\u4ee4\u7ec4\u5408\u5728\u4e00\u8d77\u6267\u884c</p>"},{"location":"Linux/Shell/Shell-3-%E8%A1%A8%E8%BE%BE%E5%BC%8F/#_11","title":"{} \u5f62\u5f0f","text":"<p>\u4ee5 <code>{}</code> \u62ec\u8d77\u6765\u7684\u547d\u4ee4\u5728\u672c shell \u5185\u6267\u884c\uff0c\u62ec\u53f7\u5185\u7684\u547d\u4ee4\u4f1a\u6539\u53d8\u672c shell \u7684\u53d8\u91cf\u503c\u53ca\u5de5\u4f5c\u76ee\u5f55\u3002</p> <p>\u6ce8\u610f</p> <p><code>{</code> \u540e\u9700\u6709\u4e00\u4e2a\u7a7a\u683c</p> <p><code>}</code> \u524d\u9700\u6709\u4e00\u4e2a\u5206\u53f7 <code>;</code> </p> <p>Example</p> <pre><code>&gt; { a=`pwd`; echo $a; }     # \u5728\u672c shell \u6267\u884c\n/home/boii\n\n&gt; { cd /bin; a=`pwd`; echo $a; }    # a\u7684\u503c\u6b64\u65f6\u88ab\u4fee\u6539\n/bin\n\n&gt;pwd    # \u672c shell \u4f1a\u53d7\u5f71\u54cd\n/bin\n</code></pre>"},{"location":"Linux/Shell/Shell-3-%E8%A1%A8%E8%BE%BE%E5%BC%8F/#_12","title":"() \u5f62\u5f0f","text":"<p>\u4ee5 <code>()</code> \u62ec\u8d77\u6765\u7684\u547d\u4ee4\u5728\u5b50 shell \u5185\u6267\u884c\uff0c\u62ec\u53f7\u5185\u7684\u547d\u4ee4\u4e0d\u4f1a\u6539\u53d8\u672c shell \u7684\u53d8\u91cf\u503c\u53ca\u5de5\u4f5c\u76ee\u5f55\u3002</p> <p>Tip</p> <p><code>(</code> \u540e\u65e0\u9700\u7a7a\u683c</p> <p><code>)</code> \u524d\u65e0\u9700\u7a7a\u683c</p> <p>Example</p> <pre><code>&gt; (cd /var/www/html; a=`pwd`; echo $a)  # \u5728\u5b50 shell \u6267\u884c\n/var/www/html\n\n&gt; pwd   # \u672c shell \u4e0d\u53d7\u5f71\u54cd\n/home/boii\n</code></pre>"},{"location":"Linux/Shell/Shell-3-%E8%A1%A8%E8%BE%BE%E5%BC%8F/#_13","title":"\u62ec\u53f7\u7528\u9014\u603b\u7ed3","text":"<ol> <li> <p>\u5706\u62ec\u53f7</p> <ul> <li><code>()</code>\uff1a<ul> <li>\u7528\u90141\uff1a\u5728\u8fd0\u7b97\u4e2d\uff0c\u5148\u8ba1\u7b97\u5c0f\u62ec\u53f7\u91cc\u7684\u5185\u5bb9</li> <li>\u7528\u90142\uff1a\u6570\u7ec4</li> <li>\u7528\u90143\uff1a\u6b63\u5219\u5339\u914d\u5206\u7ec4</li> <li>\u7528\u90144\uff1a\u5728\u5b50 Shell \u5185\u6267\u884c\u547d\u4ee4</li> </ul> </li> <li><code>(())</code>\uff1a<ul> <li>\u7528\u90141\uff1a\u8868\u8fbe\u5f0f\uff0c\u4e0d\u652f\u6301 <code>-eq\u3001-a\u3001-o</code> \u8fd9\u7c7b\u8fd0\u7b97\u7b26\uff0c\u652f\u6301 <code>&lt;=\u3001==\u3001&amp;&amp;\u3001||</code> \u8fd9\u7c7b\u6bd4\u8f83\u7b26\u3002</li> <li>\u7528\u90142\uff1aC\u8bed\u8a00\u98ce\u683c\u7684 <code>for(())</code> \u8868\u8fbe\u5f0f</li> </ul> </li> <li><code>$()</code>\uff1a\u6267\u884c Shell \u547d\u4ee4\uff0c\u4e0e\u53cd\u6487\u53f7\u7b49\u6548</li> <li><code>$(())</code>\uff1a<ul> <li>\u7528\u90141\uff1a\u7b80\u5355\u7b97\u672f\u8fd0\u7b97</li> <li>\u7528\u90142\uff1a\u4e09\u76ee\u8fd0\u7b97 <code>$((expression?num:num))</code></li> </ul> </li> </ul> </li> <li> <p>\u65b9\u62ec\u53f7</p> <ul> <li><code>[]</code>\uff1a\u6761\u4ef6\u8868\u8fbe\u5f0f\uff0c\u4e0d\u652f\u6301\u903b\u8f91\u5224\u65ad\u7b26 <code>&amp;&amp; \u3001||</code></li> <li><code>[[]]</code>\uff1a\u6761\u4ef6\u8868\u8fbe\u5f0f\uff0c\u4e0d\u652f\u6301 <code>-a\u3001-o\u3001&gt;=\u3001&lt;=</code>\uff0c\u652f\u6301 <code>-eq\u3001&gt;\u3001&lt;</code> \u8fd9\u7c7b\u6bd4\u8f83\u7b26\u3002\u53ef\u4ee5\u4e0d\u7528\u53cc\u5f15\u53f7\uff0c\u66f4\u901a\u7528\u3002</li> <li><code>$[]</code>\uff1a\u7b80\u5355\u7b97\u672f\u8fd0\u7b97\uff0c\u4e0d\u652f\u6301\u903b\u8f91\u6bd4\u8f83\u3002</li> </ul> </li> <li> <p>\u82b1\u62ec\u53f7</p> <ul> <li><code>{}</code>\uff1a\u5bf9\u9017\u53f7 <code>,</code> \u548c\u70b9\u70b9 <code>..</code> \u8d77\u4f5c\u7528<ul> <li><code>touch {a,b}</code>\uff1a\u521b\u5efa a \u548c b \u4e24\u4e2a\u6587\u4ef6</li> <li><code>touch {1..4}</code>\uff1a\u521b\u5efa 1\u30012\u30013\u30014 \u56db\u4e2a\u6587\u4ef6</li> <li>\u7528\u90142\uff1a\u5728\u672c Shell \u5185\u6267\u884c\u547d\u4ee4</li> </ul> </li> <li><code>${}</code>\uff1a<ul> <li>\u7528\u90141\uff1a\u5f15\u7528\u53d8\u91cf</li> <li>\u7528\u90142\uff1a\u5b57\u7b26\u4e32\u5904\u7406</li> </ul> </li> </ul> </li> </ol>"},{"location":"Linux/Shell/Shell-4-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86/","title":"4-\u5b57\u7b26\u4e32\u5904\u7406","text":""},{"location":"Linux/Shell/Shell-4-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86/#shell-4-","title":"Shell-4-\u5b57\u7b26\u4e32\u5904\u7406","text":""},{"location":"Linux/Shell/Shell-4-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86/#_1","title":"${}","text":""},{"location":"Linux/Shell/Shell-4-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86/#_2","title":"\u83b7\u53d6\u5b57\u7b26\u4e32\u957f\u5ea6","text":"<pre><code>${#\u5b57\u7b26\u4e32}\n</code></pre> <p>eg\uff1a</p> <pre><code>echo ${#\"Boii\"}     # \u9519\u8bef\u5199\u6cd5\n\nword=\"Boii\"\necho ${#word}       # 4\n</code></pre>"},{"location":"Linux/Shell/Shell-4-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86/#_3","title":"\u5b57\u7b26\u4e32\u5207\u7247","text":"<pre><code>${string:start:length}  # \u5bf9 string \u4ece start \u5f00\u59cb\u622a\u53d6 length \u4e2a\u5b57\u7b26\n${string:start}          # \u5bf9 string \u4ece start \u5f00\u59cb\u622a\u53d6\u5230 \u5b57\u7b26\u4e32\u672b\u5c3e\n</code></pre> <p>\u4e0b\u6807\u4ece 0 \u5f00\u59cb\uff0c\u8d1f\u6570\u8868\u793a\u5012\u6570\u7b2c n \u4e2a\u3002</p> <p>eg:</p> <pre><code>string:| H | e | l | l | o |   | B | o | i | i |\n\u6b63\u6807\uff1a  | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 |\n\u8d1f\u6807\uff1a  |-10| -9| -8| -7| -6| -5| -4| -3| -2| -1| \n\nword=\"Hello Boii\"\n\n# \u4ece\u5de6\u5f80\u53f3\u6570\uff0c\u5411\u53f3\u622a\u53d6\necho ${word:0:5}    # Hello\necho ${word:6:2}    # Bo    \u4ece\u7b2c7\u4e2a\u5f00\u59cb\uff0c\u622a\u53d62\u4e2a\necho ${word:6:-1}   # Boi  \u4ece\u7b2c7\u4e2a\u5f00\u59cb\uff0c\u622a\u53d6\u81f3\u5012\u6570\u7b2c1\u4e2a\necho ${word:6}      # Boii \u4ece\u7b2c7\u4e2a\u5f00\u59cb\uff0c\u622a\u53d6\u81f3\u672b\u5c3e\necho ${word:(-1)}   # i    \u622a\u53d6\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\necho ${word:(-2)}   # ii   \u622a\u53d6\u6700\u540e\u4e24\u4e2a\u5b57\u7b26\necho ${word:(-3):2} # oi   \u4ece\u5012\u6570\u7b2c3\u4e2a\u5f00\u59cb\uff0c\u622a\u53d62\u4e2a\n\n# \u4ece\u53f3\u5f80\u5de6\u6570\uff0c\u5411\u53f3\u622a\u53d6\necho ${word:0-8:5}      # llo B\necho ${word:0-8}        # llo Boii\n</code></pre>"},{"location":"Linux/Shell/Shell-4-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86/#_4","title":"\u66ff\u6362\u5b57\u7b26\u4e32","text":"<pre><code>${string/OLD/NEW}   # \u7528 NEW \u66ff\u6362\u5b57\u7b26\u4e32\u4e2d \u7b2c\u4e00\u4e2a OLD\n${string//OLD/NEW}  # \u7528 NEW \u66ff\u6362\u5b57\u7b26\u4e32\u4e2d \u6240\u6709 OLD\n</code></pre> <p>eg\uff1a</p> <pre><code>str=\"abc,def,ghi,abcxyz\"\necho ${str/abc/BOII}    # BOII,def,ghi,abcxyz\necho ${str//abc/BOII}   # BOII,def,ghi,BOIIxyz\n</code></pre>"},{"location":"Linux/Shell/Shell-4-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86/#_5","title":"\u5b57\u7b26\u4e32\u622a\u53d6","text":"<ul> <li><code>#</code>\uff1a\u53d6\u53f3\u3001\u5220\u5934<ul> <li><code>#</code>\uff1a\u6700\u77ed\u5339\u914d\uff0c\u5339\u914d\u7b2c\u4e00\u4e2a</li> <li><code>##</code>\uff1a\u6700\u957f\u5339\u914d\uff0c\u5339\u914d\u6700\u540e\u4e00\u4e2a</li> </ul> </li> <li><code>%</code>\uff1a\u53d6\u5de6\u3001\u5220\u5c3e<ul> <li><code>%</code>\uff1a\u6700\u77ed\u5339\u914d\uff0c\u5339\u914d\u7b2c\u4e00\u4e2a</li> <li><code>%%</code>\uff1a\u6700\u957f\u5339\u914d\uff0c\u5339\u914d\u6700\u540e\u4e00\u4e2a</li> </ul> </li> </ul> <pre><code>str=\"opcabxyzc,def,ghi,abcxyz\"\n\necho ${str#*ab}     # xyzc,,def,ghi,abcxyz\necho ${str##*ab}    # cxyz\n</code></pre> <pre><code>str=\"opcabxyzc,def,ghi,abcxyz\"\n\necho ${str%xyz*}    # abxyzc,def,ghi,abc\necho ${str%%xyz*}   # ab\n</code></pre>"},{"location":"Linux/Shell/Shell-4-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86/#_6","title":"\u53d8\u91cf\u72b6\u6001\u8d4b\u503c","text":"<ul> <li> <p><code>${VAR:-str}</code> \u5982\u679c VAR \u53d8\u91cf\u4e3a\u7a7a\u5219\u8fd4\u56de str</p> <pre><code>if VAR == nil {\n    return str\n}else{\n    return VAR\n}\n</code></pre> <p>eg:</p> <pre><code>word=\necho ${word:-abc}   # abc\n\nword=123\necho ${word:-abc}   # 123\n</code></pre> </li> <li> <p><code>${VAR:+str}</code> \u5982\u679c VAR \u53d8\u91cf\u4e0d\u4e3a\u7a7a\u5219\u8fd4\u56de str</p> <pre><code>if VAR != nil {\n    return str\n}else{\n    return nil\n}\n</code></pre> <p>eg:</p> <pre><code>word=\necho ${word:+abc}   #\n\nword=123\necho ${word:+abc}   # abc\n</code></pre> </li> <li> <p><code>${VAR:=str}</code> \u5982\u679c VAR \u53d8\u91cf\u4e3a\u7a7a\u5219\u91cd\u65b0\u8d4b\u503c VAR \u53d8\u91cf\u503c\u4e3a str</p> <pre><code>if VAR == nil {\n    VAR = str\n}\n</code></pre> <p>eg:</p> <pre><code>word=\necho ${word:=abc}   # abc\n\nword=123\necho ${word:=abc}   # 123\n</code></pre> </li> <li> <p><code>${VAR:?str}</code> \u5982\u679c VAR \u53d8\u91cf\u4e3a\u7a7a\u5219\u5c06 str \u8f93\u51fa\u5230 stderr</p> <pre><code>if VAR == nil {\n    panic(str)\n}\n</code></pre> <p>eg:</p> <pre><code>word=\necho ${word:?word is empty} # test.sh:\u884c2: word: word is empty\n\nword2=\"aaa\"\necho ${word2:?word2 is empty} # aaa\n</code></pre> </li> </ul>"},{"location":"Linux/Shell/Shell-4-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86/#_7","title":"\u5b57\u7b26\u4e32\u989c\u8272","text":"<p><code>\\033[0m</code> \u5173\u95ed\u5c5e\u6027\uff1b <code>\\033[XY</code> \u8bbe\u7f6e\u5c5e\u6027\uff0cX\u4e3a\u5177\u4f53\u53c2\u6570\uff0c\u591a\u4e2a\u53c2\u6570\u7528\u5206\u53f7<code>;</code>\u9694\u5f00\u3002Y\u4e3a\u6a21\u5f0f</p> <p>\u6a21\u5f0f\uff1a</p> <ul> <li>m: \u6587\u672c\u989c\u8272</li> <li>A | B | C | D : \u5149\u6807\u79fb\u52a8</li> <li>H | s | u | ?25l | ?25h : \u8bbe\u7f6e\u3001\u4fdd\u5b58\u3001\u6062\u590d\u3001\u663e\u793a\u3001\u9690\u85cf\u5149\u6807\u4f4d\u7f6e</li> <li>2J | K: \u6e05\u9664</li> </ul>"},{"location":"Linux/Shell/Shell-4-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86/#_8","title":"\u6587\u672c\u989c\u8272","text":"<p><code>\\033[\u5b57\u4f53\u5c5e\u6027;\u80cc\u666f\u8272;\u5b57\u4f53\u8272m \u6587\u672c\u5185\u5bb9 \\033[0m</code></p> \u989c\u8272 \u80cc\u666f\u8272\u4ee3\u7801 \u5b57\u4f53\u8272\u4ee3\u7801 \u9ad8\u4eae\u8272\u7801 \u9ed1 Black 40 30 90 \u7ea2 Red 41 31 91 \u7eff Green 42 32 92 \u9ec4 Yelllow 43 33 93 \u84dd Blue 44 34 94 \u7d2b Magenta 45 35 95 \u9752 Cyan 46 36 96 \u767d White 47 37 97 \u5b57\u4f53\u5c5e\u6027 \u4ee3\u7801 0 \u5e38\u89c4 1 \u52a0\u7c97 4 \u4e0b\u5212\u7ebf 5 \u95ea\u70c1 7 \u53cd\u8272 8 \u6d88\u9690 <p>\u5b57\u4f53\u5c5e\u6027\u53ef\u4ee5\u53e0\u52a0\uff0c\u53c2\u6570\u4e4b\u95f4\u7528\u5206\u53f7\u9694\u5f00\u3002</p> <p>eg\uff1a\u7c97\u4f53+\u4e0b\u5212\u7ebf+\u767d\u5e95\u7ea2\u5b57 -&gt; <code>\\033[1;4;47;31m \u6587\u672c\u5185\u5bb9 \\033[0m</code></p>"},{"location":"Linux/Shell/Shell-4-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86/#_9","title":"\u5149\u6807","text":"<p><code>\\033[nA</code>: \u5149\u6807\u4e0a\u79fb n \u884c <code>\\033[nB</code>: \u5149\u6807\u4e0b\u79fb n \u884c <code>\\033[nC</code>: \u5149\u6807\u5de6\u79fb n \u884c <code>\\033[nD</code>: \u5149\u6807\u53f3\u79fb n \u884c</p> <pre><code>  A\nC   D\n  B\n</code></pre> <p><code>\\033[y;xH</code> \u8bbe\u7f6e\u5149\u6807\u4f4d\u7f6e\u4e3a\u7b2c y \u884c \u7b2c x \u4e2a\u5b57\u7b26\u3002</p> <p><code>\\033[s</code>: \u4fdd\u5b58\u5149\u6807\u4f4d\u7f6e</p> <p><code>\\033[u</code>: \u6062\u590d\u5149\u6807\u4f4d\u7f6e</p> <p><code>\\033[?25l</code>: \u9690\u85cf\u5149\u6807</p> <p><code>\\033[?25h</code>: \u663e\u793a\u5149\u6807</p> <p><code>\\033[K</code>: \u6e05\u9664\u4ece\u5149\u6807\u5230\u884c\u5c3e\u7684\u5185\u5bb9</p> <p><code>\\033[2J</code>: \u6e05\u5c4f</p>"},{"location":"Mongo/0-Hello/","title":"0-Hello","text":""},{"location":"Mongo/0-Hello/#hello-mongo","title":"Hello Mongo","text":"MongoDB \u5173\u7cfb\u6027\u6570\u636e\u5e93 \u5e93(Database) \u5e93 \u96c6\u5408(Collection) \u8868 \u6587\u6863(Document) \u884c \u5b57\u6bb5(field) \u5217"},{"location":"Mongo/0-Hello/#_1","title":"\u5e93","text":"<ul> <li> <p>\u67e5\u770b\u6240\u6709\u5e93     </p><pre><code>&gt; show databases; | show dbs;\n</code></pre> <pre><code>&gt; show dbs\nadmin   0.000GB\nconfig  0.000GB\nlocal   0.000GB\n</code></pre><p></p> </li> <li> <p>\u521b\u5efa\u3001\u4f7f\u7528\u5e93     </p><pre><code>&gt; use &lt;DATABASE&gt;;\n</code></pre>     \u4f46\u5e93\u4e0d\u5b58\u5728\u65f6\u4f1a\u521b\u5efa\uff0c\u4f46\u5e93\u5b58\u5728\u65f6\u4f1a\u5207\u6362\u3002     <pre><code>&gt; use exam\nswitched to db exam\n</code></pre><p></p> </li> <li> <p>\u67e5\u770b\u5f53\u524d\u4f7f\u7528\u5e93     </p><pre><code>&gt; db\nexam\n</code></pre><p></p> </li> <li> <p>\u5220\u5e93     </p><pre><code>&gt; db.dropDatabase();\n</code></pre> <pre><code>&gt; db.dropDatabase()\n{ \"ok\" : 1 }\n</code></pre><p></p> </li> <li> <p>admin: \u4ece\u6743\u9650\u7684\u89d2\u5ea6\u770b\uff0c\u8fd9\u662f root \u6570\u636e\u5e93\u3002\u5982\u679c\u5c06\u4e00\u4e2a\u7528\u6237\u6dfb\u52a0\u5230\u8fd9\u4e2a\u5e93\u4e2d\uff0c\u8be5\u7528\u6237\u4f1a\u62e5\u6709\u6240\u6709\u6570\u636e\u5e93\u7684\u6743\u9650\u3002\u4e00\u4e9b\u7279\u5b9a\u7684\u670d\u52a1\u7aef\u547d\u4ee4\uff08\u4f8b\u5982\uff0c\u5217\u51fa\u6240\u6709\u5e93\u3001\u5173\u95ed\u670d\u52a1\u5668\uff09\u4e5f\u53ea\u80fd\u4ece\u8fd9\u4e2a\u6570\u636e\u5e93\u8fd0\u884c\u3002</p> </li> <li>local: \u8fd9\u4e2a\u6570\u636e\u5e93\u6c38\u8fdc\u4e0d\u4f1a\u88ab\u590d\u5236\uff0c\u53ef\u4ee5\u7528\u6765\u5b58\u50a8\u9650\u4e8e\u672c\u5730\u5355\u53f0\u670d\u52a1\u5668\u7684\u4efb\u610f\u96c6\u5408\u3002</li> <li>config: \u5f53 Mongo \u7528\u4e8e\u5206\u7247\u8bbe\u7f6e\u65f6\uff0cconfig \u6570\u636e\u5e93\u5728\u5185\u90e8\u4f7f\u7528\uff0c\u7528\u4e8e\u4fdd\u5b58\u5206\u7247\u76f8\u5173\u4fe1\u606f\u3002</li> </ul>"},{"location":"Mongo/0-Hello/#_2","title":"\u96c6\u5408","text":"<ul> <li> <p>\u521b\u5efa\u96c6\u5408     </p><pre><code>&gt; db.createCollection('\u96c6\u5408\u540d\u79f0', [options])\n</code></pre>     options \u53c2\u6570\uff1a<p></p> \u5b57\u6bb5 \u7c7b\u578b \u63cf\u8ff0 capped bool \u9ed8\u8ba4 false\u3002true\uff1a\u521b\u5efa\u6709\u56fa\u5b9a\u5927\u5c0f\u7684\u96c6\u5408\uff0c\u5f53\u8fbe\u5230\u6700\u5927\u503c\u65f6\uff0c\u81ea\u52a8\u8986\u76d6\u6700\u65e9\u7684\u6587\u6863\u3002\u4e3a true \u65f6\u987b\u6307\u5b9a size size integer \u5355\u4f4d byte\uff0c\u4e3a\u56fa\u5b9a\u96c6\u5408\u6307\u5b9a\u4e00\u4e2a\u6700\u5927\u503c max integet \u6307\u5b9a\u56fa\u5b9a\u96c6\u5408\u4e2d\u5305\u542b\u6587\u6863\u7684\u6700\u5927\u6570\u91cf <p></p><pre><code>&gt; db.createCollection('users')\n{ \"ok\" : 1 }\n&gt; db.createCollection('teacher', {capped: true, size: 100})\n{ \"ok\" : 1 }\n</code></pre> \u5f53\u96c6\u5408\u4e0d\u5b58\u5728\u65f6\uff0c\u5411\u96c6\u5408\u4e2d\u63d2\u5165\u6587\u6863\u4e5f\u4f1a\u81ea\u52a8\u521b\u5efa\u8be5\u96c6\u5408\u3002<p></p> </li> <li> <p>\u67e5\u770b\u6240\u6709\u96c6\u5408     </p><pre><code>&gt; show collections; | show tables;\n</code></pre><p></p> <pre><code>&gt; show tables\nteacher\nusers\n</code></pre> </li> <li> <p>\u5220\u9664\u96c6\u5408     </p><pre><code>&gt; db.\u96c6\u5408\u540d\u79f0.drop()\n</code></pre> <pre><code>&gt; db.users.drop()\ntrue\n</code></pre><p></p> </li> </ul>"},{"location":"Mongo/1-%E6%96%87%E6%A1%A3/","title":"1-\u6587\u6863","text":""},{"location":"Mongo/1-%E6%96%87%E6%A1%A3/#_1","title":"\u6587\u6863","text":""},{"location":"Mongo/1-%E6%96%87%E6%A1%A3/#_2","title":"\u63d2\u5165\u6587\u6863","text":"<ul> <li> <p>\u5355\u6761\u6587\u6863     </p><pre><code>&gt; db.\u96c6\u5408\u540d\u79f0.insert(&lt;DOCUMENT&gt;)\n</code></pre> <pre><code>&gt; db.users.insert({ \"name\": \"boii\", \"age\": 18 })\n</code></pre><p></p> </li> <li> <p>\u591a\u6761\u6587\u6863     </p><pre><code>&gt; db.COLLECTION.insertMany(\n    [ &lt;DOCUMENT1&gt;, &lt;DOCUMENT2&gt;, ... ],\n    {\n        writeConcern: &lt; 0 | 1 &gt;, # \u5199\u5165\u7b56\u7565\uff0c\u9ed8\u8ba41\u8981\u6c42\u786e\u8ba4\u5199\u64cd\u4f5c\uff0c0\u4e0d\u8981\u6c42\n        ordered: &lt;bool&gt;          # \u6307\u5b9a\u662f\u5426\u6309\u987a\u5e8f\u5199\u5165\uff0c\u9ed8\u8ba4true\uff0c\u6309\u987a\u5e8f\u5199\u5165\n    }\n)\n\n\u6216\n&gt; db.COLLECTION.insert(\n    [ &lt;DOCUMENT1&gt;, &lt;DOCUMENT2&gt;, ... ],\n)\n</code></pre> <pre><code>&gt; db.users.insertMany(\n    [\n        { \"name\": \"boii\", \"age\": 18 },\n        { \"name\": \"eva\", \"age\": 19 },\n    ]\n)\n\n# ======\n\n{\n    \"acknowledged\" : true,\n    \"insertedIds\" : [\n            ObjectId(\"629c936d7afcd160f88f852d\"),\n            ObjectId(\"629c936d7afcd160f88f852e\")\n    ]\n}\n</code></pre><p></p> </li> <li> <p>\u811a\u672c\u65b9\u5f0f     </p><pre><code>&gt; for (let i = 0; i &lt; 100; i++) {\n    db.users.insert({ '_id': i, 'name': 'boii', 'age': 18 })\n}\n\n#======\n\nWriteResult({ \"nInserted\" : 1 })\n</code></pre><p></p> </li> </ul>"},{"location":"Mongo/1-%E6%96%87%E6%A1%A3/#_3","title":"\u5220\u9664\u6587\u6863","text":"<pre><code>&gt; db.COLLECTION.remove(\n    &lt;query&gt;,    # \u7b5b\u9009\u6761\u4ef6\uff0c\u4e0d\u5e26\u6761\u4ef6\u65f6\u987b\u5199\u4e2a\u7a7a\u5bf9\u8c61\uff0c\u8868\u793a\u5220\u9664\u6240\u6709\n    {\n        justOne: &lt;bool&gt;,            # \u9ed8\u8ba4false\uff0c\u4e3a true \u65f6\u53ea\u5220\u9664\u4e00\u6761\u6587\u6863\n        writeConcern: &lt;document&gt;    # \u629b\u51fa\u5f02\u5e38\u7684\u7ea7\u522b\n    }\n)\n</code></pre> <p>\u5220\u9664\u6ee1\u8db3\u6761\u4ef6\u7684\u6587\u6863\uff1a </p><pre><code>&gt; db.users.remove(\n    { 'name': 'boii' }\n)\n\n# ======\n\nWriteResult({ \"nRemoved\" : 100 })\n</code></pre> \u5220\u9664\u6240\u6709\uff1a <pre><code>&gt; db.users.remove({})\n</code></pre><p></p>"},{"location":"Mongo/1-%E6%96%87%E6%A1%A3/#_4","title":"\u66f4\u65b0\u6587\u6863","text":"<pre><code>&gt; db.COLLECTION.update(\n    &lt;query&gt;,        # \u7b5b\u9009\u6761\u4ef6\uff0c\u4e0d\u5e26\u6761\u4ef6\u65f6\u987b\u5199\u4e2a\u7a7a\u5bf9\u8c61\n    &lt;update data&gt;,  # \u66f4\u65b0\u7684\u5185\u5bb9\uff0c\u76f8\u5f53\u4e8e sql \u4e2d set \u540e\u9762\u90e8\u5206\n    {\n        upsert: &lt;boolean&gt;,        # \u5982\u679c\u6587\u6863\u5b58\u5728\u5219\u66f4\u65b0\uff0c\u4e0d\u5b58\u5728\u5219\u63d2\u5165\u3002\u9ed8\u8ba4 false \u4e0d\u63d2\u5165\n        multi: &lt;boolean&gt;,         # true\u66f4\u65b0\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u6587\u6863\uff0cfalse\u53ea\u66f4\u65b0\u4e00\u6761\u3002\u9ed8\u8ba4false\n        writeConcern: &lt;document&gt;  # \u629b\u51fa\u5f02\u5e38\u7684\u7ea7\u522b\n    }\n)\n</code></pre> <pre><code>&gt; db.users.update(\n    { name: 19 },\n    { birth: '2000-01-01' }\n)\n</code></pre> <pre><code># \u5c06 name \u4e3a boii \u7684\u6587\u6863\u5220\u9664\uff0c\u7136\u540e\u63d2\u5165\u540e\u9762\u7684\u8bb0\u5f55\n&gt; db.users.update({name: \"boii\"}, {name: 'eva', bir: new data()})\n\n# \u4fdd\u7559\u539f\u6765\u7684\u8bb0\u5f55\uff0c\u53ea\u66f4\u65b0 name \u5b57\u6bb5\uff0c\u4f46\u53ea\u66f4\u65b0\u4e00\u6761\u6570\u636e\n&gt; db.users.update({name: \"xiaohei\"}, {$set: {name: \"alice\"}})\n\n# \u4fdd\u7559\u539f\u6765\u7684\u8bb0\u5f55\uff0c\u53ea\u66f4\u65b0 name \u5b57\u6bb5\uff0c\u4f46\u66f4\u65b0\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\n&gt; db.users.update({name: \"xiaohei\"}, {$set: {name: \"alice\"}}, {multi: true})\n\n# \u4fdd\u7559\u539f\u6765\u7684\u8bb0\u5f55\uff0c\u53ea\u66f4\u65b0 name \u5b57\u6bb5\uff0c\u66f4\u65b0\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\uff0c\u6ca1\u6709\u6761\u4ef6\u7b26\u5408\u65f6\u63d2\u5165\n&gt; db.users.update({name: \"xiaohei\"}, {$set: {name: \"alice\"}}, {multi: true, upsert: true})\n</code></pre>"},{"location":"Mongo/1-%E6%96%87%E6%A1%A3/#_5","title":"\u67e5\u8be2\u6587\u6863","text":"<pre><code>&gt; db.COLLECTION.find(\n    &lt;query&gt;,        # \u7b5b\u9009\u6761\u4ef6\n    &lt;projection&gt;    # \u6295\u5f71\n).pretty()  # \u683c\u5f0f\u5316\u8f93\u51fa\n</code></pre> \u64cd\u4f5c \u683c\u5f0f \u8303\u4f8b \u5bf9\u5e94 SQL \u7b49\u4e8e {key: value} db.col.find({name: 'boii'}) where name = 'boii' \u5c0f\u4e8e {key: {$lt: value}} db.col.find({age: {$lt: 50}}) where age &lt; 50 \u5c0f\u4e8e\u7b49\u4e8e {key: {$lte: value}} db.col.find({age: {$lte: 50}}) where age &lt;= 50 \u5927\u4e8e {key: {$gt: value}} db.col.find({age: {$gt: 50}}) where age &gt; 50 \u5927\u4e8e\u7b49\u4e8e {key: {$gte: value}} db.col.find({age: {$gte: 50}}) where age &gt;= 50 \u4e0d\u7b49\u4e8e {key: {$ne: value}} db.col.find({age: {$ne: 50}}) where age != 50"},{"location":"Mongo/1-%E6%96%87%E6%A1%A3/#and","title":"AND","text":"<pre><code>&gt; db.COLLECTION.find({key1: value1, key2: value2, ...})\n</code></pre> \u5bf9\u5e94 SQL \u7684 <code>WHERE key1 = value1 AND key2 = value2</code> <pre><code>&gt; db.users.find(\n    { name: 'boii', age: 18 }\n)\n</code></pre>"},{"location":"Mongo/1-%E6%96%87%E6%A1%A3/#or","title":"OR","text":"<pre><code>&gt; db.COLLECTION.find(\n    {\n        $or: [\n            {key1: value1}, {key2: value2},...\n        ]\n    }\n)\n</code></pre> \u5bf9\u5e94 SQL \u7684 <code>WHERE key1 = value1 OR key2 = value2</code> <pre><code>&gt; db.users.find({\n    $or: [\n        {name: 'boii'},\n        {age: 18},\n        ...\n    ]\n})\n</code></pre>"},{"location":"Mongo/1-%E6%96%87%E6%A1%A3/#and-or","title":"AND + OR","text":"<pre><code>&gt; db.COLLECTION.find(\n    {\n        key1: value1,\n        ...\n        $or: [\n            {key2: value2},\n            {key3: value3}\uff0c\n            ...\n        ]\n    }\n)\n</code></pre> \u5bf9\u5e94 SQL \u7684 <code>WHERE key1 = value1 AND ( key2 = value2 OR key3 = value3 )</code> <pre><code>&gt; db.users.find(\n    {\n        age: {$gt: 50},\n        $or: [\n            {name: 'boii'},\n            {name: 'eva'}\n        ]\n    }\n)\n</code></pre>"},{"location":"Mongo/1-%E6%96%87%E6%A1%A3/#_6","title":"\u6a21\u7cca\u67e5\u8be2","text":"<pre><code>&gt; db.COLLECTION.find({ key: regex })\n</code></pre> \u6b63\u5219\u8868\u8fbe\u5f0f\u4ee5 <code>/</code> \u5f00\u5934\u548c\u7ed3\u5c3e\uff0c\u5bf9\u5e94 SQL \u4e2d\u7684 <code>WHERE key LIKE '%regex%'</code> <pre><code>&gt; db.users.find({ name: /bo/ })\n</code></pre> \u76f8\u5f53\u4e8eSQL\u7684 <code>WHERE name LIKE '%bo%'</code>"},{"location":"Mongo/1-%E6%96%87%E6%A1%A3/#_7","title":"\u6392\u5e8f","text":"<pre><code>&gt; db.COLLECTION.find(...).sort({ key: 1, key: -1 })\n</code></pre> 1 \u5347\u5e8f\uff0c-1 \u964d\u5e8f <p>\u5bf9\u5e94 SQL \u7684 <code>ORDER BY key ASC</code>\u3001<code>ORDER BY key DESC</code></p> <pre><code>&gt; db.users.find().sort({ age: 1 })\n</code></pre>"},{"location":"Mongo/1-%E6%96%87%E6%A1%A3/#_8","title":"\u5206\u9875","text":"<pre><code>&gt; db.COLLECTION.find().skip(start).limit(rows)\n</code></pre> \u5bf9\u5e94 SQL \u7684 <code>LIMIT start, rows</code> <pre><code>&gt; db.users.find().skip(5).limit(10)\n</code></pre>"},{"location":"Mongo/1-%E6%96%87%E6%A1%A3/#_9","title":"\u603b\u6761\u6570","text":"<pre><code>&gt; db.COLLECTION.count()\n&gt; db.COLLECTION.find({\u6761\u4ef6}).count()\n</code></pre> \u5bf9\u5e94 SQL \u7684 <code>SELECT count(1) FROM ...</code> <pre><code>&gt; db.users.count()\n10\n&gt; db.users.find({name: 'boii'}).count()\n5\n</code></pre>"},{"location":"Mongo/1-%E6%96%87%E6%A1%A3/#_10","title":"\u53bb\u91cd","text":"<pre><code>&gt; db.COLLECTION.distince('\u5b57\u6bb5')\n</code></pre> \u5bf9\u5e94 SQL \u7684 <code>SELECT DISTINCT \u5b57\u6bb5 FROM ...</code>"},{"location":"Mongo/1-%E6%96%87%E6%A1%A3/#_11","title":"\u6307\u5b9a\u8fd4\u56de\u5b57\u6bb5","text":"<pre><code>&gt; db.COLLECTION.find({\u6761\u4ef6}, {key: 1, key: 1, ...})\n</code></pre> 1 \u8fd4\u56de\uff0c0 \u4e0d\u8fd4\u56de\u30020 \u548c 1 \u4e0d\u80fd\u540c\u65f6\u4f7f\u7528 <pre><code>&gt; db.users.find({}, { name: 1})\n{ \"_id\" : 0, \"name\" : \"boii\", \"age\" : 18 }\n{ \"_id\" : 1, \"name\" : \"boii\", \"age\" : 18 }\n{ \"_id\" : 2, \"name\" : \"boii\", \"age\" : 18 }\n{ \"_id\" : 3, \"name\" : \"boii\", \"age\" : 18 }\n{ \"_id\" : 4, \"name\" : \"boii\", \"age\" : 18 }\n...\n</code></pre>"},{"location":"MySQL/0-Hello/","title":"0-Hello","text":""},{"location":"MySQL/0-Hello/#hello-mysql","title":"Hello MySQL","text":""},{"location":"MySQL/0-Hello/#_1","title":"\u6982\u5ff5","text":"<ul> <li>\u6570\u636e\u5e93\uff08Database\uff0cDB\uff09\uff1a\u6309\u7167\u4e00\u5b9a\u683c\u5f0f\u5b58\u50a8\u6570\u636e\u7684\u4e00\u4e9b\u6587\u4ef6\u7684\u7ec4\u5408\u3002</li> <li>\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\uff08Database Management System\uff0cDBMS\uff09\uff1a\u7528\u4e8e\u7ba1\u7406\u6570\u636e\u5e93\u4e2d\u6570\u636e\u7684\uff0c\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\u53ef\u4ee5\u5bf9\u6570\u636e\u5e93\u5f53\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u589e\u5220\u6539\u67e5\u3002\u5e38\u89c1\u6709 MySQL\u3001Oracle\u3001MS SQLServer\u3001DB2\u3001sybase \u7b49\u3002</li> <li>\u7ed3\u6784\u5316\u67e5\u8be2\u8bed\u8a00\uff08Structured Query Language\uff0cSQL\uff09\uff1aSQL \u662f\u4e00\u5957\u6807\u51c6\uff0c\u4f7f\u7528\u8fd9\u5957\u6807\u51c6\u7684\u8bed\u8a00\u53ef\u4ee5\u4e0e DBMS \u4ea4\u4e92\uff0c\u4f7f\u5f97 DBMS \u6267\u884c\u589e\u5220\u6539\u67e5\u7b49\u76f8\u5e94\u64cd\u4f5c\u3002</li> </ul> <p>\u3010DBMS\u3011 -- \u6267\u884c \u2192 \u3010SQL\u3011 -- \u64cd\u4f5c \u2192 \u3010DB\u3011</p>"},{"location":"MySQL/0-Hello/#mysql","title":"MySQL\u5e38\u7528\u547d\u4ee4","text":"<ul> <li>\u9000\u51fa\uff1a<code>exit</code> \u6216 <code>\\q</code></li> <li>\u67e5\u770b\u6240\u6709\u6570\u636e\u5e93\uff1a<code>show databases;</code></li> <li>\u67e5\u770b\u6240\u6709\u8868\uff1a<code>show tables;</code></li> <li>\u4f7f\u7528\u6570\u636e\u5e93\uff1a<code>use DB_NAME;</code></li> <li>\u67e5\u770b\u8868\u7ed3\u6784\uff1a<code>describe TB_NAME;</code></li> <li>\u6e05\u7a7a\u8868\u4e2d\u8bb0\u5f55\uff1a<code>delete from TB_NAME;</code></li> <li>\u67e5\u770b\u4f7f\u7528\u5f15\u64ce\uff1a<code>show variables like '%storage_engine%';</code></li> <li>\u67e5\u770b\u6240\u6709\u5f15\u64ce\uff1a<code>show engines;</code></li> </ul>"},{"location":"MySQL/0-Hello/#install","title":"Install","text":"<pre><code># \u5b89\u88c5 MySQL\n&gt; yay -Sy mysql\n\n# \u521d\u59cb\u5316\u5e76\u83b7\u53d6\u521d\u59cb\u767b\u9646\u5bc6\u7801\n&gt; sudo mysqld --initialize --user=mysql --basedir=/usr --datadir=/var/lib/mysql\n\n# \u542f\u52a8 MySQL\n&gt; systemctl start mysqld.service\n\n# \u8fdb\u5165 MySQL \u63a7\u5236\u53f0\n&gt; mysql -u root -p\nEnter password: \n\n# \u4fee\u6539\u9ed8\u8ba4\u5bc6\u7801\nmysql&gt; ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '\u65b0\u5bc6\u7801';\n</code></pre>"},{"location":"MySQL/0-Hello/#_2","title":"\u514d\u5bc6\u767b\u5f55","text":"<pre><code>&gt; echo '[client]' &gt; ~/.my.cnf\n&gt; echo 'user=\u5e10\u53f7' &gt;&gt; ~/.my.cnf\n&gt; echo 'password=\u5bc6\u7801' &gt;&gt; ~/.my.cnf\n\n&gt; chmod 400 ~/.my.cnf\n</code></pre>"},{"location":"MySQL/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/","title":"1-\u6570\u636e\u7c7b\u578b","text":""},{"location":"MySQL/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_1","title":"\u6570\u636e\u7c7b\u578b","text":""},{"location":"MySQL/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_2","title":"\u6570\u503c\u7c7b\u578b","text":"<p>\u6570\u503c\u7c7b\u578b\u5206 <code>\u4e25\u683c\u6570\u503c\u7c7b\u578b</code> \u548c <code>\u8fd1\u4f3c\u6570\u503c\u7c7b\u578b</code>\u3002</p> <ul> <li>\u4e25\u683c\u6570\u503c\u7c7b\u578b<ul> <li>INTEGER</li> <li>SMALLINT</li> <li>DECIMAL</li> <li>NUMBERIC</li> </ul> </li> <li>\u8fd1\u4f3c\u6570\u503c\u7c7b\u578b<ul> <li>FLOAT</li> <li>REAL</li> <li>DOUBLE PRECISION</li> </ul> </li> <li>\u6269\u5c55\u4e4b\u540e\u7684\u6570\u636e\u7c7b\u578b<ul> <li>TINYINT</li> <li>MEDIUMINT</li> <li>BIGINT</li> <li>BIT</li> </ul> </li> </ul>"},{"location":"MySQL/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_3","title":"\u6574\u6570","text":"\u6574\u6570\u7c7b\u578b \u5b57\u8282 \u6709\u7b26\u53f7 \u65e0\u7b26\u53f7 TINYINT 1 -128 ~ 127 0 ~ 255 SMALLINT 2 -32768 ~ 32767 0 ~ 65535 MEDIUMINT 3 -8388608 ~ 8388607 0 ~ 1677215 INT\u3001INTEGER 4 -2147473648 ~ 2147483647 0 ~ 4294967295 BIGINT 8 -2<sup>63</sup> ~ 2<sup>63</sup> - 1 0 ~ 2<sup>64</sup> <p>\u5728\u5efa\u8868\u65f6\u4e00\u822c\u4f1a\u5728\u6570\u636e\u7c7b\u578b\u540e\u9762\u52a0\u4e0a\u6307\u5b9a\u957f\u5ea6\u6765\u8868\u793a\u5b57\u6bb5\u6570\u636e\u7c7b\u578b\u8bb8\u53ef\u7684\u8303\u56f4\uff0c\u5982 <code>INT(6)</code> \u8868\u793a INT \u7c7b\u578b\u7684\u6570\u636e\u3001\u6700\u5927\u957f\u5ea6\u4e3a 6\uff0c\u4e0d\u6ee1 6 \u4f4d\u4f1a\u81ea\u52a8\u586b\u5145\u3002\u82e5\u4e0d\u6307\u5b9a\u957f\u5ea6\uff0c\u5219\u9ed8\u8ba4\u4e3a <code>INT(11)</code>\u3002</p> <p>\u6574\u578b\u7684\u5b57\u6bb5\u53ef\u4ee5\u4f7f\u7528 <code>AUTO_INCREMENT</code> \u5c5e\u6027\uff0c\u4f46\u4e00\u4e2a\u8868\u4e2d\u53ea\u80fd\u6709\u4e00\u4e2a <code>AUTO_INCREMENT</code> \u5c5e\u6027\uff0c\u4e00\u822c\u7528\u4e8e\u81ea\u589e\u4e3b\u952e\u3002</p>"},{"location":"MySQL/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_4","title":"\u5c0f\u6570","text":"\u6d6e\u70b9\u6570\u7c7b\u578b \u5b57\u8282 \u6700\u5c0f\u503c \u6700\u5927\u503c FLOAT 4 \\(\\pm\\)1.175494351E-38 \\(\\pm\\)3.402823466E+38 DOUBLE 8 \\(\\pm\\)2.2250738585072014E-308 \\(\\pm\\)1.7976931348623157E+308 \u5b9a\u70b9\u6570\u7c7b\u578b \u5b57\u8282 \u63cf\u8ff0 DEC(M, D) \u6216 DECIMAL(M, D) M+2 \u6700\u5927\u503c\u53d6\u503c\u8303\u56f4\u4e0e DOUBLE \u76f8\u540c\uff0c\u7ed9\u5b9aDECIMAL \u7684\u6709\u6548\u53d6\u503c\u8303\u56f4\u7531 M \u548c D \u51b3\u5b9a <p>\u5c0f\u6570\u5206 \u300c\u6d6e\u70b9\u6570\u300d \u548c \u300c\u5b9a\u70b9\u6570\u300d\uff0c\u6d6e\u70b9\u6570\u5206\u300c\u5355\u7cbe\u5ea6\u6d6e\u70b9\u578b Float\u300d\u548c\u300c\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u578b\u300d\uff1b\u5b9a\u70b9\u6570\u53ea\u6709\u4e00\u79cd\u300cdecimal\u300d\uff0c\u5728 MySQL \u5185\u90e8\u4e2d\u4ee5\u5b57\u7b26\u4e32\u7684\u5f62\u5f0f\u5b58\u5728\uff0c\u6bd4\u6d6e\u70b9\u6570\u66f4\u4e3a\u7cbe\u786e\uff0c\u9002\u5408\u7528\u6765\u8868\u793a\u7cbe\u5ea6\u7279\u522b\u9ad8\u7684\u6570\u636e\u3002</p> <p>\u6d6e\u70b9\u6570\u548c\u5b9a\u70b9\u6570\u90fd\u53ef\u4ee5\u4f7f\u7528 <code>(M, D)</code> \u7684\u65b9\u5f0f\u6765\u8868\u793a\u3002M \u8868\u793a \u6574\u6570\u4f4d+\u5c0f\u6570\u4f4d \u7684\u4f4d\u6570\uff0cD \u8868\u793a\u5c0f\u6570\u4f4d\u6570\u3002M \u79f0\u4e3a\u7cbe\u5ea6\uff0cD \u79f0\u4e3a\u6807\u5ea6\u3002</p> <pre><code>mysql&gt; CREATE TABLE test1 (\n    -&gt;     aId FLOAT(6,2)   DEFAULT NULL,\n    -&gt;     bId DOUBLE(6,2)  DEFAULT NULL,\n    -&gt;     cId DECIMAL(6,2) DEFAULT NULL\n    -&gt; );\nQuery OK, 0 rows affected, 2 warnings (0.06 sec)\n\nmysql&gt; INSERT INTO test1 VALUES (1234.12,1234.12,1234.12);\nQuery OK, 1 row affected (0.02 sec)\n\nmysql&gt; SELECT * FROM test1;\n+---------+---------+---------+\n| aId     | bId     | cId     |\n+---------+---------+---------+\n| 1234.12 | 1234.12 | 1234.12 |\n+---------+---------+---------+\n1 row in set (0.00 sec)\n</code></pre> <p>\u8d85\u51fa\u7cbe\u5ea6\u7684\u90e8\u5206\u4f1a\u88ab\u622a\u65ad\uff1a</p> <pre><code>mysql&gt; INSERT INTO test1 VALUES (1234.123,1234.123,1234.123);\nQuery OK, 1 row affected, 1 warning (0.01 sec)\n\nmysql&gt; SELECT * FROM test1;\n+---------+---------+---------+\n| aId     | bId     | cId     |\n+---------+---------+---------+\n| 1234.12 | 1234.12 | 1234.12 |\n| 1234.12 | 1234.12 | 1234.12 | -- \u8d85\u51fa\u7cbe\u5ea6\u7684\u90e8\u5206\u4f1a\u88ab\u622a\u65ad\n+---------+---------+---------+\n3 rows in set (0.00 sec)\n</code></pre> <p>\u5982\u4e0d\u6307\u5b9a\u7cbe\u5ea6\u548c\u6807\u5ea6\uff0c\u5219\u6d6e\u70b9\u6570\u4f1a\u6309\u7167\u5b9e\u9645\u7cbe\u5ea6\uff08\u4e0d\u8d85\u8fc7\u8303\u56f4\uff09\u5b58\u50a8\uff0c\u5b9a\u70b9\u6570\u4f1a\u7701\u7565\u5c0f\u6570\uff1a</p> <pre><code>mysql&gt; CREATE TABLE test2 (\n    -&gt; aId FLOAT   DEFAULT NULL,\n    -&gt; bId DOUBLE  DEFAULT NULL,\n    -&gt; cId DECIMAL DEFAULT NULL\n    -&gt; );\nQuery OK, 0 rows affected (0.05 sec)\n\nmysql&gt; INSERT INTO test VALUES (12.34567, 12.34567, 12.34567);\nQuery OK, 1 row affected, 1 warning (0.01 sec)\n\nmysql&gt; SELECT * FROM test;\n+---------+----------+------+\n| aId     | bId      | cId  |\n+---------+----------+------+\n| 12.3457 | 12.34567 |   12 |\n+---------+----------+------+\n2 rows in set (0.00 sec)\n</code></pre>"},{"location":"MySQL/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_5","title":"\u4f4d\u7c7b\u578b","text":"\u4f4d\u7c7b\u578b \u5b57\u8282 \u6700\u5c0f\u503c \u6700\u5927\u503c BIT(M) 1~8 BIT(1) BIT(64)"},{"location":"MySQL/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_6","title":"\u65e5\u671f\u65f6\u95f4\u7c7b\u578b","text":"\u7c7b\u578b \u65e5\u671f\u683c\u5f0f \u65e5\u671f\u8303\u56f4 \u5b57\u8282 YEAR YYYY <code>1901</code> ~ <code>2155</code> 1 TIME HH:MM:SS <code>-838:59:59</code> ~ <code>838:59:59</code> 3 DATE YYYY-MM-DD <code>1000-01-01</code> ~ <code>9999-12-30</code> 3 DATETIME YYYY-MM-DD HH:MM:SS <code>1000-01-01 00:00:00</code> ~ <code>9999-12-31 23:59:59</code> 8 TIMESTAMP YYYY-MM-DD HH:MM:SS <code>1970-01-01 00:00:01 UTC</code> ~ <code>2038-01-19 03:14:07 UTC</code> 4"},{"location":"MySQL/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#year","title":"YEAR","text":"<p>year \u6709\u4e09\u79cd\u65b9\u5f0f\u8868\u793a\uff1a</p> <ul> <li>\u7528 4 \u4f4d\u7684\u6570\u5b57\u6216\u8005\u5b57\u7b26\u4e32\u8868\u793a\uff0c\u4e24\u8005\u6548\u679c\u76f8\u540c\uff0c\u8868\u793a\u8303\u56f4 1901 - 2155\uff0c\u63d2\u5165\u8d85\u51fa\u8303\u56f4\u7684\u6570\u636e\u4f1a\u62a5\u9519\u3002</li> <li>\u4ee5 2 \u4f4d**\u5b57\u7b26\u4e32**\u683c\u5f0f\u8868\u793a\uff0c\u8303\u56f4\u4e3a 00~99\u3002<ul> <li>'00'~'69' \u8868\u793a 2000~2069\uff1b</li> <li>'70'~'99' \u8868\u793a1970~1999\uff1b</li> <li>'0' \u548c '00' \u90fd\u4f1a\u88ab\u8bc6\u522b\u4e3a 2000\uff0c\u8d85\u51fa\u8303\u56f4\u7684\u6570\u636e\u4e5f\u4f1a\u88ab\u8bc6\u522b\u4e3a 2000\u3002</li> </ul> </li> <li>\u4ee5 2 \u4f4d**\u6570\u5b57**\u683c\u5f0f\u8868\u793a\uff0c\u8303\u56f4\u4e3a 1~99\u3002<ul> <li>1~69 \u8868\u793a 2001~2069\uff1b</li> <li>70~99 \u8868\u793a 1970~1999\uff1b</li> <li>\u4f46 0 \u503c\u4f1a\u88ab\u8bc6\u522b\u4e3a0000\uff0c\u8fd9\u548c 2 \u4f4d\u5b57\u7b26\u4e32\u88ab\u8bc6\u522b\u4e3a 2000 \u6709\u6240\u4e0d\u540c</li> </ul> </li> </ul> <pre><code>mysql&gt; CREATE TABLE test3 (\n    -&gt; theYear YEAR\n    -&gt; );\nQuery OK, 0 rows affected (0.04 sec)\n\nmysql&gt; INSERT INTO test3 VALUES\n    -&gt; (1997),      -- \u63d2\u5165\u5e74\u4efd\n    -&gt; ('2001');    -- \u63d2\u5165\u5e74\u4efd\nQuery OK, 2 rows affected (0.01 sec)\nRecords: 2  Duplicates: 0  Warnings: 0\n\nmysql&gt; SELECT * FROM test3;\n+---------+\n| theYear |\n+---------+\n|    1997 |\n|    2001 |\n+---------+\n2 rows in set (0.00 sec)\n</code></pre> <p>\u63d2\u5165 2 \u4f4d\u5b57\u7b26\u4e32\u7684\u6817\u5b50\uff1a</p> <pre><code>mysql&gt; INSERT INTO test3 VALUES\n    -&gt; ('05'),\n    -&gt; ('69'),\n    -&gt; ('70'),\n    -&gt; ('99'),\n    -&gt; ('0'),\n    -&gt; ('00');\nQuery OK, 6 rows affected (0.01 sec)\nRecords: 6  Duplicates: 0  Warnings: 0\n\nmysql&gt; SELECT * FROM test3;\n+---------+\n| theYear |\n+---------+\n|    2005 |\n|    2069 |\n|    1970 |\n|    1999 |\n|    2000 |\n|    2000 |\n+---------+\n8 rows in set (0.00 sec)\n</code></pre> <p>\u63d2\u5165 2 \u4f4d\u6570\u5b57\u7684\u6817\u5b50\uff1a</p> <pre><code>mysql&gt; INSERT INTO test3 VALUES\n    -&gt; (05),\n    -&gt; (69),\n    -&gt; (70),\n    -&gt; (99),\n    -&gt; (0),\n    -&gt; (00);\nQuery OK, 6 rows affected (0.01 sec)\nRecords: 6  Duplicates: 0  Warnings: 0\n\nmysql&gt; SELECT * FROM test3;\n+---------+\n| theYear |\n+---------+\n|    2005 |\n|    2069 |\n|    1970 |\n|    1999 |\n|    2000 | -- \u5b57\u7b26\u4e32\u7684 00 \u662f 2000 \u5e74\n|    2000 |\n|    2005 | --  ------\u63d2\u5165\u7684\u6570\u636e\u4ece\u8fd9\u5f00\u59cb\n|    2069 |\n|    1970 |\n|    1999 |\n|    0000 | -- \u6570\u5b57\u7684 00 \u662f 0000 \u5e74\n|    0000 |\n+---------+\n14 rows in set (0.00 sec)\n</code></pre>"},{"location":"MySQL/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#time","title":"TIME","text":"\u7c7b\u578b \u65e5\u671f\u683c\u5f0f \u65e5\u671f\u8303\u56f4 \u5b57\u8282 TIME HH:MM:SS <code>-838:59:59</code> ~ <code>838:59:59</code> 3 <pre><code>mysql&gt; CREATE TABLE test4 (\n    -&gt; theTime TIME\n    -&gt; );\nQuery OK, 0 rows affected (0.04 sec)\n\nmysql&gt; INSERT INTO test4 VALUES\n    -&gt; ('18:05:06'),\n    -&gt; ('21:45'),\n    -&gt; ('2 12:49'),\n    -&gt; ('2 12:49:15'),\n    -&gt; ('2 05'),\n    -&gt; ('18');\nQuery OK, 6 rows affected (0.01 sec)\nRecords: 6  Duplicates: 0  Warnings: 0\n\nmysql&gt; SELECT * FROM test4;\n+----------+\n| theTime  |\n+----------+\n| 18:05:06 |    -- -&gt; ('18:05:06'),   \u6b63\u5e38\u8f93\u5165\n| 21:45:00 |    -- -&gt; ('21:45'),      \u8868\u793a 21\u70b945\u5206\n| 60:49:00 |    -- -&gt; ('2 12:49'),    \u8868\u793a 2\u5929+12\u5c0f\u65f649\u5206\n| 60:49:15 |    -- -&gt; ('2 12:49:15'), \u8868\u793a 2\u5929+12\u5c0f\u65f649\u520615\u79d2\n| 53:00:00 |    -- -&gt; ('2 05'),       \u8868\u793a 2\u5929+5\u5c0f\u65f6\n| 00:00:18 |    -- -&gt; ('18'),         \u8868\u793a18\u79d2\n+----------+\n6 rows in set (0.00 sec)\n</code></pre>"},{"location":"MySQL/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#date","title":"DATE","text":"\u7c7b\u578b \u65e5\u671f\u683c\u5f0f \u65e5\u671f\u8303\u56f4 \u5b57\u8282 DATE YYYY-MM-DD <code>1000-01-01</code> ~ <code>9999-12-30</code> 3 <p>DATE \u7684\u8868\u793a\u4e00\u822c\u5f88\u591a\u79cd\uff0c\u5982\uff1a</p> <ul> <li>\u5b57\u7b26\u4e32\u5f62\u5f0f<ul> <li>'YYYY-MM-DD'</li> <li>'YYYYMMDD'</li> <li>'YY-MM-DD'</li> <li>'YYMMDD'</li> </ul> </li> <li>\u6570\u5b57\u5f62\u5f0f<ul> <li>YYYYMMDD</li> <li>YYMMDD</li> </ul> </li> </ul> <pre><code>mysql&gt; CREATE TABLE test5 (\n    -&gt; theDate DATE\n    -&gt; );\nQuery OK, 0 rows affected (0.04 sec)\n\nmysql&gt; INSERT INTO test5 VALUES\n    -&gt; ('1949-10-01'),\n    -&gt; ('19970701'),\n    -&gt; ('00-01-01'),\n    -&gt; ('70-01-01'),\n    -&gt; (19491001),\n    -&gt; (000101),\n    -&gt; (700101);\nQuery OK, 7 rows affected (0.02 sec)\nRecords: 7  Duplicates: 0  Warnings: 0\n\nmysql&gt; SELECT * FROM test5;\n+------------+\n| theDate    |\n+------------+\n| 1949-10-01 |  -- -&gt; ('1949-10-01'),\n| 1997-07-01 |  -- -&gt; ('19970701'),\n| 2000-01-01 |  -- -&gt; ('00-01-01'), 00~69 \u8868\u793a 2000 \u5e74 ~ 2069 \u5e74\n| 1970-01-01 |  -- -&gt; ('70-01-01'), 70~99 \u8868\u793a 1970 \u5e74 ~ 1999 \u5e74\n| 1949-10-01 |  -- -&gt; (19491001),\n| 2000-01-01 |  -- -&gt; (000101),     00~69 \u8868\u793a 2000 \u5e74 ~ 2069 \u5e74\n| 1970-01-01 |  -- -&gt; (700101);     70~99 \u8868\u793a 1970 \u5e74 ~ 1999 \u5e74\n+------------+\n7 rows in set (0.00 sec)\n\nmysql&gt; INSERT INTO test5 VALUES (9901011);\nQuery OK, 1 row affected (0.01 sec)\n\nmysql&gt; SELECT * FROM test5;\n+------------+\n| theDate    |\n+------------+\n| 1949-10-01 |\n| 1997-07-01 |\n| 2000-01-01 |\n| 1970-01-01 |\n| 1949-10-01 |\n| 2000-01-01 |\n| 1970-01-01 |\n| 1999-01-01 |\n| 0990-10-11 |  -- (9901011) \u8868\u793a 990 \u5e74 10 \u6708 11 r\n+------------+\n9 rows in set (0.00 sec)\n</code></pre>"},{"location":"MySQL/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#datetime","title":"DATETIME","text":"\u7c7b\u578b \u65e5\u671f\u683c\u5f0f \u65e5\u671f\u8303\u56f4 \u5b57\u8282 DATETIME YYYY-MM-DD HH:MM:SS <code>1000-01-01 00:00:00</code> ~ <code>9999-12-31 23:59:59</code> 8 <pre><code>mysql&gt; CREATE TABLE test6 (\n    -&gt; theDateTime DATETIME\n    -&gt; );\nQuery OK, 0 rows affected (0.05 sec)\n\nmysql&gt; INSERT INTO test6 VALUES\n    -&gt; ('1997-07-01 00:00:00'),\n    -&gt; (19970701000000),\n    -&gt; ('00-01-01 00:00:00'),\n    -&gt; (000101000000),\n    -&gt; ('70-01-01 00:00:00'),\n    -&gt; (700101000000);\nQuery OK, 6 rows affected (0.01 sec)\nRecords: 6  Duplicates: 0  Warnings: 0\n\nmysql&gt; SELECT * FROM test6;\n+---------------------+\n| theDateTime         |\n+---------------------+\n| 1997-07-01 00:00:00 | -- -&gt; ('1997-07-01 00:00:00'),\n| 1997-07-01 00:00:00 | -- -&gt; (19970701000000),\n| 2000-01-01 00:00:00 | -- -&gt; ('00-01-01 00:00:00'),\n| 2000-01-01 00:00:00 | -- -&gt; (000101000000),\n| 1970-01-01 00:00:00 | -- -&gt; ('70-01-01 00:00:00'),\n| 1970-01-01 00:00:00 | -- -&gt; (700101000000);\n+---------------------+\n6 rows in set (0.00 sec)\n</code></pre> <p>\u770b\u8fc7 YEAR\u3001DATE\u3001DATETIME\uff0c\u5176\u5b9e\u6211\u4eec\u5927\u6982\u53ef\u4ee5\u4e86\u89e3\u5230\uff0c\u5728 MySQL \u65f6\u95f4\u6570\u636e\u7c7b\u578b\u4e2d\uff0c\u5e74\u4efd\u5982\u679c\u5199\u5168\u5219\u662f\u5b57\u9762\u4e0a\u7684\u5e74\u4efd\uff0c\u5982\u679c\u7b80\u5199\uff0c\u90a3\u4e48 <code>00~69</code> \u8868\u793a <code>2000 ~ 2069</code>\uff0c<code>70~99</code> \u8868\u793a <code>1970 ~ 1999</code>\u3002</p> <p></p>"},{"location":"MySQL/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#timestamp","title":"TIMESTAMP","text":"\u7c7b\u578b \u65e5\u671f\u683c\u5f0f \u65e5\u671f\u8303\u56f4 \u5b57\u8282 TIMESTAMP YYYY-MM-DD HH:MM:SS <code>1970-01-01 00:00:01 UTC</code> ~ <code>2038-01-19 03:14:07 UTC</code> 4 <p>TIMESTAMP \u7c7b\u578b\u548c DATETIME \u7c7b\u578b\u7684\u683c\u5f0f\u76f8\u540c\uff0c\u5b58\u50a8 4 \u4e2a\u5b57\u8282\uff08\u6bd4DATETIME\u5c11\uff09\uff0c\u53d6\u503c\u8303\u56f4\u6bd4 DATETIME \u5c0f\u3002</p>"},{"location":"MySQL/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_7","title":"\u4f7f\u7528\u573a\u666f","text":"<ul> <li>\u4ec5\u7528\u6765\u5b58\u50a8 <code>\u5e74</code>\uff0c\u901a\u5e38\u4f7f\u7528 <code>YEAR</code>\uff0c\u56e0\u4e3a\u6bd4 <code>DATE</code> \u9700\u8981\u66f4\u5c11\u7684\u7a7a\u95f4</li> <li>\u7528\u6765\u5b58\u50a8 <code>\u5e74\u6708\u65e5</code>\uff0c\u901a\u5e38\u7528 <code>DATE</code> </li> <li>\u7528\u6765\u5b58\u50a8 <code>\u65f6\u5206\u79d2</code>\uff0c\u901a\u5e38\u7528 <code>TIME</code></li> <li>\u7528\u6765\u5b58\u50a8 <code>\u5e74\u6708\u65e5\u65f6\u5206\u79d2</code>\uff0c\u901a\u5e38\u7528 <code>DATETIME</code></li> <li>\u7528\u6765\u5b58\u50a8\u5f53\u524d\u65f6\u95f4\uff0c\u901a\u5e38\u4f7f\u7528 <code>TIMESTAMP</code></li> <li>\u901a\u5e38\u66f4\u65b9\u4fbf\u7684\u505a\u6cd5\u662f\u7528\u4e00\u4e2a INT \u7c7b\u578b\u6765\u8bb0\u5f55\u65f6\u95f4\u6233</li> </ul>"},{"location":"MySQL/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_8","title":"\u5b57\u7b26\u4e32\u7c7b\u578b","text":"\u5b57\u7b26\u4e32\u7c7b\u578b \u5b57\u8282 \u63cf\u8ff0\u548c\u5b58\u50a8\u9700\u6c42 CHAR(M) M M \u4e3a 0~255 \u7684\u6574\u6570 VARCHAR(M) \u503c\u7684\u957f\u5ea6 + 1\u5b57\u8282 M \u4e3a 0~65535 \u7684\u6574\u6570 TINYBLOB \u503c\u7684\u957f\u5ea6 + 1\u5b57\u8282 \u5141\u8bb8\u957f\u5ea6\u4e3a 0~255\u5b57\u8282 BLOB \u503c\u7684\u957f\u5ea6 + 2\u5b57\u8282 \u5141\u8bb8\u957f\u5ea6\u4e3a 0~65535\u5b57\u8282 MEDIUMBLOB \u503c\u7684\u957f\u5ea6 + 3\u5b57\u8282 \u5141\u8bb8\u957f\u5ea6\u4e3a 0~167772150\u5b57\u8282 LONGBLOB \u503c\u7684\u957f\u5ea6 + 4\u5b57\u8282 \u5141\u8bb8\u957f\u5ea6\u4e3a 0~4294967295\u5b57\u8282 TINYTEXT \u503c\u7684\u957f\u5ea6 + 2\u5b57\u8282 \u5141\u8bb8\u957f\u5ea6\u4e3a 0~255\u5b57\u8282 TEXT \u503c\u7684\u957f\u5ea6 + 2\u5b57\u8282 \u5141\u8bb8\u957f\u5ea6\u4e3a 0~65535\u5b57\u8282 MEDIUMTEXT \u503c\u7684\u957f\u5ea6 + 3\u5b57\u8282 \u5141\u8bb8\u957f\u5ea6\u4e3a 0~167772150\u5b57\u8282 LONGTEXT \u503c\u7684\u957f\u5ea6 + 4\u5b57\u8282 \u5141\u8bb8\u957f\u5ea6\u4e3a 0~4294967295\u5b57\u8282 VARBINARY(M) \u503c\u7684\u957f\u5ea6 + 1\u5b57\u8282 \u5141\u8bb8\u957f\u5ea6\u4e3a 0~M\u5b57\u8282\u7684**\u53d8\u957f**\u5b57\u8282\u5b57\u7b26\u4e32 BINARY(M) M \u5141\u8bb8\u957f\u5ea6\u4e3a 0~M\u5b57\u8282\u7684**\u5b9a\u957f**\u5b57\u8282\u5b57\u7b26\u4e32"},{"location":"MySQL/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#char-varchar","title":"CHAR \u548c VARCHAR","text":"\u5b57\u7b26\u4e32\u7c7b\u578b \u5b57\u8282 \u63cf\u8ff0\u548c\u5b58\u50a8\u9700\u6c42 CHAR(M) M M \u4e3a 0~255 \u7684\u6574\u6570 VARCHAR(M) \u503c\u7684\u957f\u5ea6 + 1\u5b57\u8282 M \u4e3a 0~65535 \u7684\u6574\u6570 <p><code>CHAR</code> \u9002\u5408\u4e00\u4e9b\u957f\u5ea6\u56fa\u5b9a\u7684\u6570\u636e\uff0c\u5982 MD5 \u7f16\u7801\u3001\u624b\u673a\u53f7\u7801\u7b49\uff1b <code>VARCHAR</code> \u9002\u5408\u957f\u5ea6\u4e0d\u56fa\u5b9a\u7684\u6570\u636e\uff0c\u5982\u5907\u6ce8\u3001\u63cf\u8ff0\u7b49\u3002</p> <p>eg:</p> <pre><code>CREATE TABLE test7 (\n    name CHAR(18),\n    note VARCHAR(500)\n);\n</code></pre> <ul> <li><code>name</code> \u5b57\u6bb5\u4e0d\u7ba1\u8f93\u5165\u591a\u5c11\u5b57\u8282\u7684\u6570\u636e\uff0c\u90fd\u5360\u7528 18 \u5b57\u8282\u7684\u7a7a\u95f4\uff0c\u6700\u957f\u4e0d\u80fd\u8d85\u8fc7 18 \u5b57\u8282\uff1b</li> <li><code>note</code> \u5b57\u6bb5\u8f93\u5165\u591a\u5c11\u5b57\u8282\u7684\u6570\u636e\uff0c\u5c31\u5360\u7528\u591a\u5c11\u5b57\u8282\u7684\u6570\u636e\uff0c\u4f46\u4e0d\u80fd\u8d85\u8fc7\u9650\u5b9a\u7684 500 \u5b57\u8282\u3002</li> <li><code>CHAR</code> \u4f1a\u622a\u65ad\u5c3e\u90e8\u7684\u7a7a\u683c\uff0c<code>VARCHAR</code> \u5219\u4f1a\u4fdd\u7559\u5c3e\u90e8\u7684\u7a7a\u683c\u3002</li> </ul>"},{"location":"MySQL/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#binary-varbinary","title":"BINARY \u548c VARBINARY","text":""},{"location":"MySQL/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#blob","title":"BLOB","text":""},{"location":"MySQL/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#text","title":"TEXT","text":""},{"location":"MySQL/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#enum","title":"ENUM","text":""},{"location":"MySQL/1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#set","title":"SET","text":""},{"location":"MySQL/2-SQL/","title":"2-SQL","text":""},{"location":"MySQL/2-SQL/#sql","title":"SQL","text":""},{"location":"MySQL/2-SQL/#_1","title":"\u5206\u7c7b","text":"<p>\u6240\u6709 SQL \u8bed\u53e5\u5206\u4e3a 4 \u7c7b\uff1a</p> <ol> <li>\u6570\u636e\u5b9a\u4e49\u8bed\u8a00\uff08Data Definition Language\uff0cDDL\uff09\uff1a\u7528\u4e8e\u5b9a\u4e49\u6570\u636e\u5e93\u5bf9\u8c61\uff0c\u5982 \u6570\u636e\u5e93\u3001\u8868\u3001\u5217\u7b49\uff1b\u5173\u952e\u5b57\uff1a<code>create\u3001drop\u3001alter</code>\u3002</li> <li>\u6570\u636e\u64cd\u4f5c\u8bed\u8a00\uff08Data Manupulation Language\uff0cDML\uff09\uff1a\u7528\u4e8e\u5bf9\u6570\u636e\u5e93\u4e2d\u8868\u7684\u8bb0\u5f55\u8fdb\u884c\u66f4\u65b0\uff1b\u5173\u952e\u5b57\uff1a<code>insert\u3001update\u3001delete</code>\u3002</li> <li>\u6570\u636e\u63a7\u5236\u8bed\u8a00\uff08Data Control Language\uff0cDCL\uff09\uff1a\u7528\u4e8e\u5b9a\u4e49\u6570\u636e\u5e93\u8bbf\u95ee\u6743\u9650\u548c\u5b89\u5168\u7ea7\u522b\u3001\u521b\u5efa\u7528\u6237\u7b49\uff1b\u5173\u952e\u5b57\uff1a<code>grant</code>\u3002</li> <li>\u6570\u636e\u67e5\u8be2\u8bed\u8a00\uff08Data Query Language\uff0cDQL\uff09\uff1a\u7528\u4e8e\u67e5\u8be2\u6570\u636e\u5e93\u4e2d\u8868\u7684\u8bb0\u5f55\uff1b\u5173\u952e\u5b57\uff1a<code>select</code>\u3002</li> </ol>"},{"location":"MySQL/2-SQL/#ddlcreatedropalter","title":"DDL\uff1acreate\u3001drop\u3001alter","text":""},{"location":"MySQL/2-SQL/#_2","title":"\u521b\u5efa\u6570\u636e\u5e93","text":""},{"location":"MySQL/2-SQL/#_3","title":"\u521b\u5efa\u4e00\u4e2a\u786e\u5b9a\u4e0d\u5b58\u5728\u7684\u6570\u636e\u5e93","text":"<pre><code>CREATE DATABASE db_name;\n\n-- eg\n\nmysql&gt; CREATE DATABASE school;\nQuery OK, 1 row affected (0.01 sec)\n</code></pre>"},{"location":"MySQL/2-SQL/#_4","title":"\u67e5\u770b\u6570\u636e\u5e93\u5b9a\u4e49","text":"<pre><code>mysql&gt; show CREATE DATABASE db_name\\g;\n\n-- eg\n\nmysql&gt; show create database school\\g;\n+----------+-----------------------------------------------------------------------------------------------------------------------------------+\n| Database | Create Database                                                                                                                   |\n+----------+-----------------------------------------------------------------------------------------------------------------------------------+\n|  school  | CREATE DATABASE `school` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci */ /*!80016 DEFAULT ENCRYPTION='N' */  |\n+----------+-----------------------------------------------------------------------------------------------------------------------------------+\n1 row in set (0.00 sec)\n\nERROR:\nNo query specified\n</code></pre>"},{"location":"MySQL/2-SQL/#_5","title":"\u521b\u5efa\u4e00\u4e2a\u4e0d\u786e\u5b9a\u662f\u5426\u5b58\u5728\u7684\u6570\u636e\u5e93","text":"<pre><code>CREATE DATABASE db_name IF NOT EXISTS;\n\n-- eg\n\nmysql&gt; CREATE DATABASE IF NOT EXISTS school;\nQuery OK, 1 row affected, 1 warning (0.01 sec)\n</code></pre>"},{"location":"MySQL/2-SQL/#_6","title":"\u5220\u9664\u6570\u636e\u5e93","text":""},{"location":"MySQL/2-SQL/#_7","title":"\u5220\u9664\u4e00\u4e2a\u786e\u5b9a\u5b58\u5728\u7684\u6570\u636e\u5e93","text":"<pre><code>DROP DATABASE db_name;\n\n-- eg\n\nmysql&gt; DROP DATABASE school;\nQuery OK, 0 rows affected (0.02 sec)\n</code></pre>"},{"location":"MySQL/2-SQL/#_8","title":"\u5220\u9664\u4e00\u4e2a\u4e0d\u786e\u5b9a\u662f\u5426\u5b58\u5728\u7684\u6570\u636e\u5e93","text":"<pre><code>DROP DATABASE IF EXISTS db_name;\n\n-- eg\n\nmysql&gt; DROP DATABASE IF EXISTS test;\nQuery OK, 0 rows affected, 1 warning (0.01 sec)\n</code></pre>"},{"location":"MySQL/2-SQL/#_9","title":"\u521b\u5efa\u8868","text":"<pre><code>CREATE TABLE [IF NOT EXISTS] tb_name (\n    col_name1 data_type[size] [NOT NULL | NULL] [DEFAULT value] [AUTO_INCREMENT] [COMMENT comment],\n    \u5217\u540d\u79f0 \u6570\u636e\u7c7b\u578b[\u5927\u5c0f] [\u662f|\u5426 \u5141\u8bb8\u975e\u7a7a] [\u9ed8\u8ba4\u503c] [\u81ea\u589e\u957f] [zhu],\n    ...\n\n    [PRIMARY KEY (col_name)]\n)[ENGINE=engine_name \nDEFAULT CHARSET=charset\nCOMMENT='table infomation'];\n</code></pre> <ul> <li>\u6bcf\u5f53\u5c06\u65b0\u884c\u63d2\u5165\u5230\u8868\u4e2d\u65f6\uff0c\u5217\u7684\u503c\u4f1a\u81ea\u52a8\u589e\u52a0\u3002\u6bcf\u4e2a\u8868\u90fd\u6709\u4e00\u4e2a\u4e14\u53ea\u6709\u4e00\u4e2a<code>AUTO_INCREMENT</code>\u5217</li> </ul> <p>eg:</p> <pre><code>CREATE TABLE IF NOT EXISTS student (\n    id    INT(11)     NOT NULL      AUTO_INCREMENT,\n    name  VARCHAR(45) DEFAULT NULL,\n    birth DATE        DEFAULT NULL,\n\n    PRIMARY KEY (id)\n)ENGINE=InnoDB;\n</code></pre>"},{"location":"MySQL/2-SQL/#_10","title":"\u5220\u9664\u8868","text":"<pre><code>DROP [TEMPORARY] TABLE [IF EXISTS] tb_name [, tb_name] ...\n[RESTRICT | CASCADE];\n</code></pre> <ul> <li><code>DROP TABLE</code> \u5220\u8868\u5173\u952e\u5b57\uff0c\u591a\u4e2a\u8868\u4e4b\u95f4\u4f7f\u7528\u9017\u53f7\u5206\u5272</li> <li><code>TEMPORARY</code> \u6307\u5b9a\u4ec5\u5220\u9664\u4e34\u65f6\u8868\u3002\u7528\u4e8e\u786e\u4fdd\u4e0d\u4f1a\u610f\u5916\u5220\u9664\u975e\u4e34\u65f6\u8868\u65f6\u975e\u5e38\u65b9\u4fbf\u3002</li> <li><code>IF EXISTS</code> \u53ef\u4ee5\u9632\u6b62\u5220\u9664\u4e0d\u5b58\u5728\u7684\u8868\uff0c\u82e5\u5220\u9664\u4e0d\u5b58\u5728\u7684\u8868\u65f6\uff0c<code>show warnings;</code> \u547d\u4ee4\u53ef\u4ee5\u6253\u5370\u8b66\u544a\u4fe1\u606f\u3002</li> <li><code>RESTRICT</code> \u548c <code>CASCADE</code> \u4e3a\u672a\u6765\u7248\u672c\u7684\u4fdd\u7559\u5173\u952e\u5b57</li> </ul> <p>\u5220\u8868\u9700\u4e3a root \u7ba1\u7406\u5458\u6216\u5efa\u8868\u8005\u624d\u6709\u6743\u9650\u3002</p> <pre><code>mysql&gt; DROP TABLE IF EXISTS student, no_this_table;\nQuery OK, 0 rows affected, 1 warning (0.04 sec)\n\nmysql&gt; show warnings;\n+-------+------+--------------------------------------+\n| Level | Code | Message                              |\n+-------+------+--------------------------------------+\n| Note  | 1051 | Unknown table 'school.no_this_table' |\n+-------+------+--------------------------------------+\n1 row in set (0.00 sec)\n</code></pre>"},{"location":"MySQL/2-SQL/#_11","title":"\u4fee\u6539\u8868","text":"<pre><code>ALTER TABLE tb_name action1[, action2 ...];\n</code></pre> <pre><code>action: {\n    ADD [COLUMN] col_name col_definition [FIRST | AFTER col_name]\n  | ADD [COLUMN] (col_name col_def, col_name col_def, ...)\n  | ADD {INDEX | KEY} [index_name] [index_type]\n    ...\n}\n</code></pre> <ul> <li><code>ALTER TABLE</code> \u4e3a\u4fee\u6539\u8868\u7684\u5173\u952e\u5b57</li> <li><code>action</code> \u4e3a\u8981\u5e94\u7528\u4e8e\u8be5\u8868\u7684\u64cd\u4f5c\uff0c\u53ef\u4ee5\u662f\u6dfb\u52a0\u65b0\u5217\u3001\u6dfb\u52a0\u9010\u6e10\u3001\u91cd\u547d\u540d\u8868\u7b49\u4efb\u4f55\u64cd\u4f5c\u3002</li> </ul> <p>action \u5141\u8bb8\u591a\u4e2a\uff0c\u4f7f\u7528\u9017\u53f7\uff08,\uff09\u5206\u9694\u3002</p>"},{"location":"MySQL/2-SQL/#dmlinsertupdatedelete","title":"DML\uff1ainsert\u3001update\u3001delete","text":""},{"location":"MySQL/2-SQL/#insert","title":"insert","text":""},{"location":"MySQL/2-SQL/#_12","title":"\u63d2\u5165\u5355\u884c\u8bb0\u5f55","text":"<pre><code>INSERT INTO tb_name(col_name1[, col_name2 ...]) \nVALUES (value1[, value2 ...]);\n</code></pre> <p>eg:</p> <pre><code>-- \u8868\u7ed3\u6784\nmysql&gt; describe student;\n+-------+-------------+------+-----+---------+----------------+\n| Field | Type        | Null | Key | Default | Extra          |\n+-------+-------------+------+-----+---------+----------------+\n| id    | int         | NO   | PRI | NULL    | auto_increment |\n| name  | varchar(45) | YES  |     | NULL    |                |\n| birth | date        | YES  |     | NULL    |                |\n+-------+-------------+------+-----+---------+----------------+\n3 rows in set (0.00 sec)\n\n-- \u63d2\u5165\u5355\u884c\nmysql&gt; INSERT INTO student(name, birth) VALUES ('boii', '1999-01-01');\nQuery OK, 1 row affected (0.02 sec)\n\n-- \u63d2\u5165\u7ed3\u679c\nmysql&gt; SELECT * FROM student;\n+----+------+------------+\n| id | name | birth      |\n+----+------+------------+\n|  1 | boii | 1999-01-01 |\n+----+------+------------+\n1 row in set (0.00 sec)\n</code></pre>"},{"location":"MySQL/2-SQL/#_13","title":"\u63d2\u5165\u591a\u884c\u8bb0\u5f55","text":"<pre><code>INSERT INTO tb_name(col_name1[, col_name2 ...]) \nVALUES (value1[, value2 ...]),\n       (value1[, value2 ...]),\n       (value1[, value2 ...]),\n       ...;\n</code></pre> <p>eg:</p> <pre><code>-- \u8868\u7ed3\u6784\nmysql&gt; describe student;\n+-------+-------------+------+-----+---------+----------------+\n| Field | Type        | Null | Key | Default | Extra          |\n+-------+-------------+------+-----+---------+----------------+\n| id    | int         | NO   | PRI | NULL    | auto_increment |\n| name  | varchar(45) | YES  |     | NULL    |                |\n| birth | date        | YES  |     | NULL    |                |\n+-------+-------------+------+-----+---------+----------------+\n3 rows in set (0.00 sec)\n\n-- \u63d2\u5165\u591a\u884c\nmysql&gt; INSERT INTO student(name, birth) VALUES\n    -&gt; ('Alice', '2000-01-02'),\n    -&gt; ('Candy', '1992-02-21'),\n    -&gt; ('Eva', '1998-08-24');\nQuery OK, 3 rows affected (0.02 sec)\nRecords: 3  Duplicates: 0  Warnings: 0\n\n-- \u63d2\u5165\u7ed3\u679c\nmysql&gt; SELECT * FROM student;\n+----+-------+------------+\n| id | name  | birth      |\n+----+-------+------------+\n|  1 | boii  | 1999-01-01 |\n|  2 | Alice | 2000-01-02 |\n|  3 | Candy | 1992-02-21 |\n|  4 | Eva   | 1998-08-24 |\n+----+-------+------------+\n4 rows in set (0.00 sec)\n</code></pre>"},{"location":"MySQL/2-SQL/#_14","title":"\u63d2\u5165\u6240\u6709\u5217","text":"<p>\u5982\u679c\u63d2\u5165\u6240\u6709\u5217\uff0c\u5728\u8868\u540d\u540e\u53ef\u7701\u7565\u5217\u540d\u3002</p> <pre><code>INSERT INTO tb_name \nVALUES (value1[, value2 ...]);\n</code></pre> <p>eg:</p> <pre><code>mysql&gt; INSERT INTO student VALUES (5, 'Danish', '1997-05-06');\nQuery OK, 1 row affected (0.01 sec)\n\nmysql&gt; SELECT * FROM student;\n+----+--------+------------+\n| id | name   | birth      |\n+----+--------+------------+\n|  1 | boii   | 1999-01-01 |\n|  2 | Alice  | 2000-01-02 |\n|  3 | Candy  | 1992-02-21 |\n|  4 | Eva    | 1998-08-24 |\n|  5 | Danish | 2000-01-03 |\n+----+--------+------------+\n4 rows in set (0.00 sec)\n</code></pre>"},{"location":"MySQL/2-SQL/#on-duplicate-key-update","title":"\u5904\u7406\u91cd\u590d\u4e3b\u952e\u60c5\u51b5 on duplicate key update","text":"<p>\u5982\u679c\u63d2\u5165\u7684\u65b0\u884c\u8fdd\u53cd\u4e3b\u952e\u7ea6\u675f\uff08\u552f\u4e00\u4e14\u975e\u7a7a\uff09\u6216 UNIQUE \u7ea6\u675f\uff0cMySQL \u4f1a\u62a5\u9519\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>ON DUPLICATE KEY UPDATE</code> \u52a0\u4ee5\u5904\u7406\u3002</p> <pre><code>-- \u63d2\u5165\u524d\nmysql&gt; SELECT * FROM student;\n+----+--------+------------+\n| id | name   | birth      |\n+----+--------+------------+\n|  1 | boii   | 1999-01-01 |\n|  2 | Alice  | 2000-01-02 |\n|  3 | Candy  | 1992-02-21 |\n|  4 | Eva    | 1998-08-24 |\n|  5 | Danish | 2000-01-03 |\n+----+--------+------------+\n\n-- \u63d2\u5165\u91cd\u590d\u4e3b\u952e\u7684\u8bb0\u5f55\n-- \u5904\u7406\u7b56\u7565\u4e3a\u4fee\u6539\u4e3b\u952e\u503c\nmysql&gt; INSERT INTO student VALUES (3, 'Franch', '1994-03-05') ON DUPLICATE KEY UPDATE id = id + 3;\nQuery OK, 2 rows affected (0.01 sec)\n\n-- \u63d2\u5165\u540e\nmysql&gt; SELECT * FROM student;\n+----+--------+------------+\n| id | name   | birth      |\n+----+--------+------------+\n|  1 | boii   | 1999-01-01 |\n|  2 | Alice  | 2000-01-02 |\n|  4 | Eva    | 1998-08-24 |\n|  5 | Danish | 2000-01-03 |\n|  6 | Candy  | 1992-02-21 |\n+----+--------+------------+\n5 rows in set (0.00 sec)\n\n-- \u518d\u6b21\u5c1d\u8bd5\u63d2\u5165\nmysql&gt; INSERT INTO student VALUES (3, 'Franch', '1994-03-05') ON DUPLICATE KEY UPDATE id = id + 3;\nQuery OK, 1 row affected (0.01 sec)\n\n-- \u8fd9\u6b21\u4e3b\u952e\u5c31\u4e0d\u91cd\u590d\u4e86\nmysql&gt; SELECT * FROM student;\n+----+--------+------------+\n| id | name   | birth      |\n+----+--------+------------+\n|  1 | boii   | 1999-01-01 |\n|  2 | Alice  | 2000-01-02 |\n|  3 | Franch | 1994-03-05 |\n|  4 | Eva    | 1998-08-24 |\n|  5 | Danish | 2000-01-03 |\n|  6 | Candy  | 1992-02-21 |\n+----+--------+------------+\n6 rows in set (0.00 sec)\n</code></pre> <p>\u5904\u7406\u51b2\u7a81\u7684\u65f6\u5019\u5e76\u4e0d\u662f\u5c06\u8981\u63d2\u5165\u7684\u8bb0\u5f55\u7684\u4e3b\u952e\u8fdb\u884c\u4fee\u6539\uff0c\u800c\u662f\u5bf9\u8868\u4e2d\u88ab\u51b2\u7a81\u7684\u90a3\u6761\u8bb0\u5f55\u7684\u4e3b\u952e\u8fdb\u884c\u4fee\u6539\uff0c\u63a5\u7740\u518d\u6267\u884c\u4e00\u6b21\u63d2\u5165\u5c31\u80fd\u63d2\u5165\u6210\u529f\u4e86\u3002</p>"},{"location":"MySQL/2-SQL/#insert-select","title":"insert select","text":"<p>\u5728 MySQL \u4e2d\u53ef\u4ee5\u4f7f\u7528 SELECT \u8bed\u53e5\u8fd4\u56de\u7684\u503c\u6765\u586b\u5145 INSERT \u8bed\u53e5\u7684\u503c\u3002\u8fd9\u4e2a\u529f\u80fd\u5728\u8d4b\u503c\u8868\u65f6\u975e\u5e38\u65b9\u4fbf\u3002</p> <pre><code>INSERT INTO tb_name\nSELECT col_name[, col_name ...] FROM tb_name;\n</code></pre> <p>eg:</p> <pre><code>-- \u590d\u5236\u8868\u7ed3\u6784\nmysql&gt; CREATE TABLE student2 LIKE student;\nQuery OK, 0 rows affected (0.04 sec)\n\n-- \u67e5\u770b\u6240\u6709\u8868\uff0c\u53ef\u4ee5\u770b\u5230\u73b0\u5728\u6709\u4e24\u5f20\u8868\u4e86\u3002\nmysql&gt; show tables;\n+------------------+\n| Tables_in_school |\n+------------------+\n| student          |\n| student2         |\n+------------------+\n2 rows in set (0.01 sec)\n\n\n-- \u5c06 student \u7684\u8bb0\u5f55\u590d\u5236\u5230\u65b0\u8868 student2\u3002\nmysql&gt; INSERT INTO student2\n    -&gt; SELECT * FROM student;\nQuery OK, 6 rows affected (0.01 sec)\nRecords: 6  Duplicates: 0  Warnings: 0\n\n-- \u590d\u5236\u7ed3\u679c\nmysql&gt; SELECT * FROM student2;\n+----+--------+------------+\n| id | name   | birth      |\n+----+--------+------------+\n|  1 | boii   | 1999-01-01 |\n|  2 | Alice  | 2000-01-02 |\n|  3 | Franch | 1994-03-05 |\n|  4 | Eva    | 1998-08-24 |\n|  5 | Danish | 2000-01-03 |\n|  6 | Candy  | 1992-02-21 |\n+----+--------+------------+\n6 rows in set (0.00 sec)\n</code></pre>"},{"location":"MySQL/2-SQL/#insert-ignore","title":"insert ignore","text":"<p>\u5f53\u4f7f\u7528 INSERT \u8bed\u53e5\u5411\u8868\u4e2d\u6dfb\u52a0\u4e00\u4e9b\u884c\u6570\u636e\u5e76\u4e14\u5728\u5904\u7406\u671f\u95f4\u53d1\u751f\u9519\u8bef\u65f6\uff0cINSERT \u8bed\u53e5\u5c06\u88ab\u7ec8\u6b62\uff0c\u5e76\u8fd4\u56de\u9519\u8bef\u6d88\u606f\uff0c\u7531\u6b64\u5bfc\u81f4\u6ca1\u6709\u63d2\u5165\u4efb\u4f55\u7684\u884c\uff0c\u5373\u63d2\u5165\u5931\u8d25\u3002</p> <p>\u4f46\u662f\u5982\u679c\u4f7f\u7528 <code>INSERT IGNORE</code> \u8bed\u53e5\uff0c\u5219\u4f1a\u5ffd\u7565\u9519\u8bef\u7684\u884c\uff0c\u5e76\u7ee7\u7eed\u63d2\u5165\u5176\u4ed6\u7684\u884c\u5230\u8868\u4e2d\u3002</p> <p><code>IGNORE</code>\u5b50\u53e5\u662fMySQL\u5bf9SQL\u6807\u51c6\u7684\u6269\u5c55\u3002</p> <pre><code>INSERT IGNORE INTO tb_name[col_list]\nVALUES (value_list),\n       (value_list),\n       ...;\n</code></pre> <p>eg:</p> <pre><code>-- \u63d2\u5165\u4e4b\u524d\nmysql&gt; SELECT * FROM student;\n+----+--------+------------+\n| id | name   | birth      |\n+----+--------+------------+\n|  1 | boii   | 1999-01-01 |\n|  2 | Alice  | 2000-01-02 |\n|  3 | Franch | 1994-03-05 |\n|  4 | Eva    | 1998-08-24 |\n|  5 | Danish | 2000-01-03 |\n|  6 | Candy  | 1992-02-21 |\n+----+--------+------------+\n6 rows in set (0.00 sec)\n\n-- \u6ca1\u4f7f\u7528 ignore \u7684\u60c5\u51b5\nmysql&gt; INSERT INTO student VALUES\n    -&gt; (7, 'Gilis', '2011-02-09'),\n    -&gt; (8, 'Halis', '1995-09-10'),\n    -&gt; (4, 'Ivy', '1998-04-05'),    -- \u8fd9\u6761\u5c06\u5bfc\u81f4\u6240\u6709\u63d2\u5165\u5931\u8d25\n    -&gt; (9, 'Jene', '1996-03-11');\nERROR 1062 (23000): Duplicate entry '4' for key 'student.PRIMARY'\n\n-- \u62a5\u9519\uff0c\u4e00\u6761\u90fd\u6ca1\u63d2\u5165\u6210\u529f\nmysql&gt; SELECT * FROM student;\n+----+--------+------------+\n| id | name   | birth      |\n+----+--------+------------+\n|  1 | boii   | 1999-01-01 |\n|  2 | Alice  | 2000-01-02 |\n|  3 | Franch | 1994-03-05 |\n|  4 | Eva    | 1998-08-24 |\n|  5 | Danish | 2000-01-03 |\n|  6 | Candy  | 1992-02-21 |\n+----+--------+------------+\n6 rows in set (0.00 sec)\n\n\n\n-- \u4f7f\u7528 ignore \u7684\u60c5\u51b5\nmysql&gt; INSERT IGNORE INTO student VALUES\n    -&gt; (7, 'Gilis', '2011-02-09'),\n    -&gt; (8, 'Halis', '1995-09-10'),\n    -&gt; (4, 'Ivy', '1998-04-05'),    -- \u8fd9\u6761\u5c06\u63d2\u5165\u5931\u8d25\uff0c\u5176\u4ed6\u4e0d\u5f71\u54cd\n    -&gt; (9, 'Jene', '1996-03-11');\nQuery OK, 3 rows affected, 1 warning (0.02 sec)\nRecords: 4  Duplicates: 1  Warnings: 1\n\n-- \u9519\u8bef\u7684\u884c\u6ca1\u63d2\u5165\uff0c\u5176\u4ed6\u90fd\u63d2\u5165\u6210\u529f\u4e86\u3002\nmysql&gt; SELECT * FROM student;\n+----+--------+------------+\n| id | name   | birth      |\n+----+--------+------------+\n|  1 | boii   | 1999-01-01 |\n|  2 | Alice  | 2000-01-02 |\n|  3 | Franch | 1994-03-05 |\n|  4 | Eva    | 1998-08-24 |\n|  5 | Danish | 2000-01-03 |\n|  6 | Candy  | 1992-02-21 |\n|  7 | Gilis  | 2011-02-09 |\n|  8 | Halis  | 1995-09-10 |\n|  9 | Jene   | 1996-03-11 |\n+----+--------+------------+\n9 rows in set (0.00 sec)\n</code></pre>"},{"location":"MySQL/2-SQL/#update","title":"update","text":""},{"location":"MySQL/2-SQL/#_15","title":"\u5355\u8868\u66f4\u65b0","text":"<pre><code>UPDATE [LOW_PRIORITY] [IGNORE] tb_name\nSET\n    col_name1 = exp1,\n    col_name2 = exp2,\n    ...\n[WHERE\n    condition];\n</code></pre> <ul> <li><code>LOW_PRIORITY</code> \u6307\u793a UPDATE \u8bed\u53e5\u5ef6\u8fdf\u66f4\u65b0\uff0c\u5ef6\u8fdf\u5230\u6ca1\u6709\u8fde\u63a5\u5728\u8bfb\u53d6\u8be5\u8868\u624d\u66f4\u65b0\uff1b\u4ec5\u5bf9\u4f7f\u7528\u8868\u7ea7\u9501\u5b9a\u7684\u5f15\u64ce\u751f\u6548\uff0c\u5982 MyISAM\uff0cMERGE\uff0cMEMORY\u3002</li> <li><code>IGNORE</code> \u5ffd\u7565\u66f4\u65b0\u8fc7\u7a0b\u4e2d\u53d1\u751f\u9519\u8bef\u7684\u884c\uff0c\u7136\u540e\u7ee7\u7eed\u66f4\u65b0\u5176\u4ed6\u884c\u3002</li> <li><code>WHERE</code> \u5b50\u53e5\u53ef\u9009\uff0c\u5982\u679c\u5ffd\u7565\u4e0d\u5199\u5219\u5bf9\u8868\u4e2d\u6240\u6709\u884c\u8fdb\u884c\u4fee\u6539\u3002</li> </ul> <p>eg:</p> <pre><code>-- \u66f4\u65b0\u524d\nmysql&gt; select * from student;\n+----+--------+------------+\n| id | name   | birth      |\n+----+--------+------------+\n|  1 | boii   | 1999-01-01 |\n|  2 | Alice  | 2000-01-02 |\n|  3 | Franch | 1994-03-05 |\n|  4 | Eva    | 1998-08-24 |\n|  5 | Danish | 2000-01-03 |\n|  6 | Candy  | 1992-02-21 |\n|  7 | Gilis  | 2011-02-09 |    -- \u4fee\u6539\u8fd9\u6761\u8bb0\u5f55\n|  8 | Halis  | 1995-09-10 |\n|  9 | Jene   | 1996-03-11 |\n+----+--------+------------+\n9 rows in set (0.00 sec)\n\n-- \u66f4\u65b0\nmysql&gt; UPDATE student\n    -&gt; SET\n    -&gt;     name = 'Galy'\n    -&gt; WHERE\n    -&gt;     id = 7;\nQuery OK, 1 row affected (0.02 sec)\nRows matched: 1  Changed: 1  Warnings: 0\n\n\n-- \u66f4\u65b0\u540e\nmysql&gt; SELECT * FROM student;\n+----+--------+------------+\n| id | name   | birth      |\n+----+--------+------------+\n|  1 | boii   | 1999-01-01 |\n|  2 | Alice  | 2000-01-02 |\n|  3 | Franch | 1994-03-05 |\n|  4 | Eva    | 1998-08-24 |\n|  5 | Danish | 2000-01-03 |\n|  6 | Candy  | 1992-02-21 |\n|  7 | Galy   | 2011-02-09 |    -- name \u5217\u5df2\u7ecf\u88ab\u4fee\u6539\n|  8 | Halis  | 1995-09-10 |\n|  9 | Jene   | 1996-03-11 |\n+----+--------+------------+\n9 rows in set (0.00 sec)\n\n\n-- \u4f7f\u7528 IGNORE \u5b50\u53e5\u66f4\u65b0\nmysql&gt; UPDATE IGNORE student\n    -&gt; SET\n    -&gt;     birth = '1997-07-01'\n    -&gt; WHERE\n    -&gt;     id = 4 || id = 8 || id = 10;\nQuery OK, 2 rows affected, 2 warnings (0.01 sec)\nRows matched: 2  Changed: 2  Warnings: 2\n\n-- \u6ca1\u6709 id \u4e3a 10 \u7684\u884c\uff0c\u4f46\u56e0\u4e3a IGNORE \u6240\u4ee5 id 4 \u548c 8 \u4f9d\u7136\u53ef\u4ee5\u66f4\u65b0 \nmysql&gt; SELECT * FROM student;\n+----+--------+------------+\n| id | name   | birth      |\n+----+--------+------------+\n|  1 | boii   | 1999-01-01 |\n|  2 | Alice  | 2000-01-02 |\n|  3 | Franch | 1994-03-05 |\n|  4 | Eva    | 1997-07-01 |    -- id 4 \u7684\u884c\u5df2\u4fee\u6539\u6210\u529f\n|  5 | Danish | 2000-01-03 |\n|  6 | Candy  | 1992-02-21 |\n|  7 | Galy   | 2011-02-09 |\n|  8 | Halis  | 1997-07-01 |    -- id 8 \u7684\u884c\u5df2\u4fee\u6539\u6210\u529f\n|  9 | Jene   | 1996-03-11 |\n+----+--------+------------+\n9 rows in set (0.00 sec)\n</code></pre>"},{"location":"MySQL/2-SQL/#update-join","title":"\u8054\u8868\u66f4\u65b0 update join","text":"<pre><code>UPDATE T1 [INNER JOIN | LEFT JOIN] T2\nON T1.C1 = T2.C1\nSET \n    T1.C2 = T2.C2, \n    T2.C3 = expr\n[WHERE\n    condition];\n</code></pre> <ul> <li>T1 \u4e3a\u8981\u66f4\u65b0\u7684\u4e3b\u8868\u3001T2 \u4e3a\u4e3b\u8868\u8fde\u63a5\u7684\u4ece\u8868\u3002</li> <li><code>INNER JOIN</code> \u4e3a\u5185\u8fde\u63a5\uff0c\u5373 T1 \u4e0e T2 \u7684\u4ea4\u96c6\uff0c<code>LEFT JOIN</code> \u4e3a\u5185\u8fde\u63a5\u7684\u57fa\u7840\u4e0a\u5e76\u4e0a T1 \u4e0e T2 \u7684\u5dee\u96c6\uff0c\u5373 T1 \u4e2d\u6709\u800c T2 \u6ca1\u6709\u7684\u90e8\u5206 + T1 \u548c T2 \u90fd\u6709\u7684\u90e8\u5206\u3002</li> <li><code>ON</code> \u6307\u5b9a\u8fde\u63a5\u6761\u4ef6</li> <li><code>SET</code> \u6307\u5b9a\u66f4\u65b0\u89c4\u5219</li> <li><code>WHERE</code> \u4e3a\u53ef\u9009\uff0c\u7b5b\u9009\u7b26\u5408\u6761\u4ef6\u7684\u884c\uff0c\u5ffd\u7565\u5219\u5bf9\u8fde\u63a5\u7ed3\u679c\u7684\u6240\u6709\u884c\u751f\u6548\u3002</li> </ul> <p>eg:</p> <p>\u5148\u521b\u5efa gross_score \u8868\u548c math_score \u8868</p> <pre><code>mysql&gt; CREATE TABLE math_score (\n    -&gt; id INT(11) NOT NULL AUTO_INCREMENT,\n    -&gt; score INT(3) NULL,\n    -&gt; PRIMARY KEY(id)\n    -&gt; );\nQuery OK, 0 rows affected, 2 warnings (0.04 sec)    \n\nmysql&gt; CREATE TABLE gross_score (\n    -&gt; id INT(11) NOT NULL AUTO_INCREMENT,\n    -&gt; score INT(3) NULL,\n    -&gt; PRIMARY KEY(id)\n    -&gt; );\nQuery OK, 0 rows affected, 2 warnings (0.04 sec)\n</code></pre> <p>\u7136\u540e\u5411\u4e24\u5f20\u8868\u4e2d\u63d2\u5165\u4e00\u4e9b\u6570\u636e\uff1a</p> <pre><code>mysql&gt; INSERT INTO math_score VALUES\n    -&gt; (1, 99),\n    -&gt; (2, 87),\n    -&gt; (3, 64),\n    -&gt; (4, 96),\n    -&gt; (5, 79),\n    -&gt; (6, 40);\nQuery OK, 6 rows affected (0.02 sec)\nRecords: 6  Duplicates: 0  Warnings: 0\n\nmysql&gt; INSERT INTO gross_score VALUES\n    -&gt; (1, 192),\n    -&gt; (2, 287),\n    -&gt; (3, 164),\n    -&gt; (4, 396),\n    -&gt; (5, 279),\n    -&gt; (6, 140);\nQuery OK, 6 rows affected (0.02 sec)\nRecords: 6  Duplicates: 0  Warnings: 0\n\nmysql&gt; SELECT * FROM math_score;\n+----+-------+\n| id | score |\n+----+-------+\n|  1 |    99 |\n|  2 |    87 |\n|  3 |    64 |\n|  4 |    96 |\n|  5 |    79 |\n|  6 |    40 |\n+----+-------+\n6 rows in set (0.00 sec)\n\nmysql&gt; SELECT * FROM gross_score;\n+----+-------+\n| id | score |\n+----+-------+\n|  1 |   192 |\n|  2 |   287 |\n|  3 |   164 |\n|  4 |   396 |\n|  5 |   279 |\n|  6 |   140 |\n+----+-------+\n6 rows in set (0.00 sec)\n</code></pre> <p>\u63a5\u7740\u6211\u4eec\u4f7f\u7528**\u8054\u8868\u66f4\u65b0**\uff1a</p> <pre><code>mysql&gt; UPDATE gross_score INNER JOIN math_score\n    -&gt; ON gross_score.id = math_score.id\n    -&gt; SET\n    -&gt;  gross_score.score = gross_score.score + math_score.score\nQuery OK, 6 rows affected (0.02 sec)\nRows matched: 6  Changed: 6  Warnings: 0\n\n\nmysql&gt; SELECT * FROM gross_score;\n+----+-------+\n| id | score |\n+----+-------+\n|  1 |   291 |\n|  2 |   374 |\n|  3 |   228 |\n|  4 |   492 |\n|  5 |   358 |\n|  6 |   180 |\n+----+-------+\n6 rows in set (0.00 sec)\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230 gross_score \u8868\u7684\u6bcf\u4e00\u9879\u90fd\u66f4\u65b0\u6210\u529f\u4e86\u3002</p>"},{"location":"MySQL/2-SQL/#delete","title":"delete","text":"<pre><code>DELETE FROM tb_name\n[WHERE condition];\n</code></pre> <pre><code>-- \u5220\u9664\u4e4b\u524d\nmysql&gt; SELECT * FROM student;\n+----+--------+------------+\n| id | name   | birth      |\n+----+--------+------------+\n|  1 | boii   | 1999-01-01 |\n|  2 | Alice  | 2000-01-02 |\n|  3 | Franch | 1994-03-05 |\n|  4 | Eva    | 1997-07-01 |    -- id 4 \u7684\u884c\u5df2\u4fee\u6539\u6210\u529f\n|  5 | Danish | 2000-01-03 |\n|  6 | Candy  | 1992-02-21 |\n|  7 | Galy   | 2011-02-09 |\n|  8 | Halis  | 1997-07-01 |    -- id 8 \u7684\u884c\u5df2\u4fee\u6539\u6210\u529f\n|  9 | Jene   | 1996-03-11 |\n+----+--------+------------+\n9 rows in set (0.00 sec)\n\n-- \u5220\u9664\u540d\u5b57\u4e3a Franch \u7684\u8bb0\u5f55\nmysql&gt; DELETE FROM student\n    -&gt; WHERE name = 'Franch';\nQuery OK, 1 row affected (0.01 sec)\n\n-- \u5220\u9664\u540e\uff0c\u8868\u4e2d\u5df2\u6ca1\u6709 Franch \u7684\u8bb0\u5f55\nmysql&gt; SELECT * FROM student;\n+----+--------+------------+\n| id | name   | birth      |\n+----+--------+------------+\n|  1 | boii   | 1999-01-01 |\n|  2 | Alice  | 2000-01-02 |\n|  4 | Eva    | 1997-07-01 |\n|  5 | Danish | 2000-01-03 |\n|  6 | Candy  | 1992-02-21 |\n|  7 | Galy   | 2011-02-09 |\n|  8 | Halis  | 1997-07-01 |\n|  9 | Jene   | 1996-03-11 |\n+----+--------+------------+\n8 rows in set (0.00 sec)\n</code></pre>"},{"location":"MySQL/2-SQL/#dclgrant","title":"DCL\uff1agrant","text":"<p>DCL \u8bed\u53e5\u4e3b\u8981\u662f\u7ba1\u7406\u6570\u636e\u5e93\u6743\u9650\u7684\u65f6\u5019\u4f7f\u7528\uff0c\u8fd9\u7c7b\u64cd\u4f5c\u4e00\u822c\u662f DBA \u4f7f\u7528\u7684\uff0c\u5f00\u53d1\u4eba\u5458\u4e0d\u4f1a\u4f7f\u7528 DCL \u8bed\u53e5\u3002</p>"},{"location":"MySQL/2-SQL/#dqlselect","title":"DQL\uff1aselect","text":"<pre><code>SELECT [DISTINCT] * | col_list | sql_function\nFROM T1 [ [LEFT | INNER | RIGHT | CROSS] JOIN T2 ON conditions ]\n[WHERE conditions]\n[GROUP BY col]\n[HAVING group_conditions]\n[ORDER BY col1 [DESC | ASC] [, col2 [DESC | ASC]]]\n[LIMIT offset, length];\n</code></pre> <ul> <li><code>DISTINCT</code> \u7528\u4e8e\u5c06\u7ed3\u679c\u53bb\u91cd\u3002</li> <li><code>FROM</code> \u540e\u8ddf\u8981\u67e5\u8be2\u7684\u8868\uff0c\u53ea\u6709\u4e00\u4e2a\u8868\u540d\u65f6\u4e3a\u5355\u8868\u67e5\u8be2\uff0c\u4f7f\u7528 <code>JOIN</code> \u65f6\u4e3a\u8054\u8868\u67e5\u8be2\u3002</li> <li><code>WHERE</code> \u7528\u4e8e\u8bbe\u7f6e\u6761\u4ef6\uff0c\u6ee1\u8db3\u6b64\u6761\u4ef6\u7684\u884c\u624d\u4f1a\u88ab\u52a0\u5165\u7ed3\u679c\u96c6\u3002</li> <li><code>GROUP BY</code> \u901a\u5e38\u548c SQL \u51fd\u6570\u914d\u5408\u4f7f\u7528\uff0c\u7528\u4e8e\u5c06\u7ed3\u679c\u96c6\u6309\u4e00\u4e2a\u6216\u591a\u4e2a\u5217\u8fdb\u884c\u5206\u7ec4\uff0c\u5373\u5c06\u7ed3\u679c\u5728\u884c\u7684\u65b9\u5411\u4e0a\u8fdb\u884c\u5206\u7ec4\u3002</li> <li><code>HAVING</code> \u7528\u4e8e\u5bf9 <code>GROUP BY</code> \u7684\u7ed3\u679c\u8fdb\u884c\u7b5b\u9009\uff0c\u4e00\u534a\u8ddf\u968f\u5728 <code>GROUP BY</code> \u540e\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u8ddf\u968f\u800c\u5355\u72ec\u4f7f\u7528\u3002</li> <li><code>ORDER BY</code> \u7528\u4e8e\u5c06\u7ed3\u679c\u96c6\u8fdb\u884c\u6392\u5e8f\uff0c<code>ASC</code> \u662f\u5347\u5e8f\uff0c<code>DESC</code> \u662f\u964d\u5e8f\u3002</li> <li><code>LIMIT</code> \u7528\u4e8e\u9650\u5236\u8fd4\u56de\u7684\u884c\u6570\uff0c<code>offset</code> \u8868\u793a\u4ece\u7ed3\u679c\u96c6\u7b2c\u51e0\u884c\u5f00\u59cb\uff0c\u9ed8\u8ba4\u4e3a 0 \u5373\u7b2c\u4e00\u884c\uff0c<code>length</code> \u8868\u793a\u663e\u793a\u591a\u5c11\u884c\u3002</li> </ul>"},{"location":"MySQL/2-SQL/#_16","title":"\u6700\u7b80\u5355\u7684\u65b9\u5f0f","text":"<pre><code>SELECT * FROM tb_name;\n</code></pre>"},{"location":"MySQL/2-SQL/#_17","title":"\u53bb\u91cd","text":""},{"location":"MySQL/2-SQL/#_18","title":"\u67e5\u8be2\u5355\u884c\u65f6\u4f7f\u7528\u53bb\u91cd","text":"<pre><code>mysql&gt; SELECT jobtitle FROM employees;\n+----------------------+\n| jobtitle             |\n+----------------------+\n| President            |\n| VP Sales             |\n| VP Marketing         |\n| Sales Manager (APAC) |\n| Sale Manager (EMEA)  |\n| Sales Manager (NA)   |\n| Sales Rep            |\n| Sales Rep            |\n| Sales Rep            |\n| Sales Rep            |\n| Sales Rep            |\n| Sales Rep            |\n| Sales Rep            |\n| Sales Rep            |\n| Sales Rep            |\n| Sales Rep            |\n| Sales Rep            |\n| Sales Rep            |\n| Sales Rep            |\n| Sales Rep            |\n| Sales Rep            |\n| Sales Rep            |\n| Sales Rep            |\n+----------------------+\n23 rows in set (0.00 sec)\n\n-- \u4f7f\u7528\u53bb\u91cd\u5173\u952e\u5b57\nmysql&gt; SELECT DISTINCT jobtitle FROM employees;\n+----------------------+\n| jobtitle             |\n+----------------------+\n| President            |\n| VP Sales             |\n| VP Marketing         |\n| Sales Manager (APAC) |\n| Sale Manager (EMEA)  |\n| Sales Manager (NA)   |\n| Sales Rep            |\n+----------------------+\n7 rows in set (0.00 sec)\n</code></pre>"},{"location":"MySQL/2-SQL/#_19","title":"\u67e5\u8be2\u591a\u884c\u65f6\u53bb\u91cd","text":"<p>\u5f53\u67e5\u8be2\u591a\u884c\u8fd8\u9700\u8981\u53bb\u91cd\u65f6\uff0c\u53bb\u91cd\u7684\u89c4\u5219\u662f\u6bcf\u4e00\u5217\u90fd\u91cd\u590d\u624d\u7b97\u91cd\u590d\u3002</p> <pre><code>mysql&gt; SELECT DISTINCT jobtitle, id FROM employees;\n+----------------------+----+\n| jobtitle             | id |\n+----------------------+----+\n| President            |  1 |\n| VP Sales             |  2 |\n| VP Marketing         |  3 |\n| Sales Manager (APAC) |  4 |\n| Sale Manager (EMEA)  |  5 |\n| Sales Manager (NA)   |  6 |\n| Sales Rep            |  7 |\n| Sales Rep            |  8 |\n| Sales Rep            |  9 |\n| Sales Rep            | 10 |\n| Sales Rep            | 11 |\n| Sales Rep            | 12 |\n| Sales Rep            | 13 |\n| Sales Rep            | 14 |\n| Sales Rep            | 15 |\n| Sales Rep            | 16 |\n| Sales Rep            | 17 |\n| Sales Rep            | 18 |\n| Sales Rep            | 19 |\n| Sales Rep            | 20 |\n| Sales Rep            | 21 |\n| Sales Rep            | 22 |\n| Sales Rep            | 23 |\n+----------------------+----+\n23 rows in set (0.00 sec)\n</code></pre>"},{"location":"MySQL/2-SQL/#distinct-null","title":"DISTINCT \u4e0e NULL","text":"<p>\u5728\u53bb\u91cd\u65f6\uff0c\u4f1a\u5c06 NULL \u89c6\u4e3a\u666e\u901a\u503c\u3002\u5982\u679c\u5217\u4e2d\u6709\u591a\u4e2a NULL\uff0c\u5728\u7ed3\u679c\u96c6\u4e2d\u4f1a\u663e\u793a\u4e00\u4e2a NULL\u3002</p> <pre><code>mysql&gt; SELECT * FROM student;\n+----+--------+------------+\n| id | name   | birth      |\n+----+--------+------------+\n|  1 | boii   | 1999-01-01 |\n|  2 | Alice  | 2000-01-02 |\n|  4 | Eva    | 1997-07-01 |\n|  5 | Danish | 2000-01-03 |\n|  6 | Candy  | NULL       |    -- null \u503c\n|  7 | Galy   | 2011-02-09 |\n|  8 | Halis  | 1997-07-01 |\n|  9 | Jene   | NULL       |    -- null \u503c\n+----+--------+------------+\n8 rows in set (0.00 sec)\n\nmysql&gt; SELECT DISTINCT birth FROM student;\n+------------+\n| birth      |\n+------------+\n| 1999-01-01 |\n| 2000-01-02 |\n| 1997-07-01 |\n| 2000-01-03 |\n| NULL       |  -- null \u503c\n| 2011-02-09 |\n+------------+\n6 rows in set (0.00 sec)\n</code></pre>"},{"location":"MySQL/2-SQL/#distinct","title":"DISTINCT \u4e0e\u805a\u5408\u51fd\u6570","text":"<p>\u5728\u4f7f\u7528 SQL \u7684\u805a\u5408\u51fd\u6570\u5982 <code>SUM()\u3001AVG()\u3001COUNT()</code> \u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 DISTINCT \u53bb\u91cd\uff0c\u4ece\u800c\u5f97\u5230\u60f3\u8981\u7684\u7ed3\u679c\u3002</p> <pre><code>mysql&gt; SELECT * FROM employees;\n+----+-----------+-----------+----------------------+\n| id | lastname  | firstname | jobtitle             |\n+----+-----------+-----------+----------------------+\n|  1 | Murphy    | Diane     | President            |\n|  2 | Patterson | Mary      | VP Sales             |\n|  3 | Firrelli  | Jeff      | VP Marketing         |\n|  4 | Patterson | William   | Sales Manager (APAC) |\n|  5 | Bondur    | Gerard    | Sale Manager (EMEA)  |\n|  6 | Bow       | Anthony   | Sales Manager (NA)   |\n|  7 | Jennings  | Leslie    | Sales Rep            |\n|  8 | Thompson  | Leslie    | Sales Rep            |\n|  9 | Firrelli  | Julie     | Sales Rep            |\n| 10 | Patterson | Steve     | Sales Rep            |\n| 11 | Tseng     | Foon Yue  | Sales Rep            |\n| 12 | Vanauf    | George    | Sales Rep            |\n| 13 | Bondur    | Loui      | Sales Rep            |\n| 14 | Hernandez | Gerard    | Sales Rep            |\n| 15 | Castillo  | Pamela    | Sales Rep            |\n| 16 | Bott      | Larry     | Sales Rep            |\n| 17 | Jones     | Barry     | Sales Rep            |\n| 18 | Fixter    | Andy      | Sales Rep            |\n| 19 | Marsh     | Peter     | Sales Rep            |\n| 20 | King      | Tom       | Sales Rep            |\n| 21 | Nishi     | Mami      | Sales Rep            |\n| 22 | Kato      | Yoshimi   | Sales Rep            |\n| 23 | Gerard    | Martin    | Sales Rep            |\n+----+-----------+-----------+----------------------+\n23 rows in set (0.00 sec)\n\n-- \u4f7f\u7528 COUNT \u8ba1\u7b97\u884c\u6570\nmysql&gt; SELECT COUNT(jobtitle) FROM employees;\n+------------------+\n| COUNT( jobtitle) |\n+------------------+\n|               23 |\n+------------------+\n1 row in set (0.00 sec)\n\n-- \u4f7f\u7528 DISTINCT \u53bb\u91cd\nmysql&gt; SELECT DISTINCT jobtitle FROM employees;\n+----------------------+\n| jobtitle             |\n+----------------------+\n| President            |\n| VP Sales             |\n| VP Marketing         |\n| Sales Manager (APAC) |\n| Sale Manager (EMEA)  |\n| Sales Manager (NA)   |\n| Sales Rep            |\n+----------------------+\n7 rows in set (0.00 sec)\n\n-- \u5728 COUNT \u4e2d\u4f7f\u7528 DISTINCT \u53bb\u91cd\u540e\u8ba1\u7b97\u884c\u6570 \nmysql&gt; SELECT COUNT(DISTINCT jobtitle) FROM employees;\n+--------------------------+\n| COUNT(DISTINCT jobtitle) |\n+--------------------------+\n|                        7 |\n+--------------------------+\n1 row in set (0.00 sec)\n</code></pre>"},{"location":"MySQL/2-SQL/#_20","title":"2-SQL","text":""},{"location":"MySQL/3-%E7%B4%A2%E5%BC%95/","title":"3-\u7d22\u5f15","text":""},{"location":"MySQL/3-%E7%B4%A2%E5%BC%95/#_1","title":"\u7d22\u5f15","text":"<p>\u5728\u6570\u636e\u5e93\u7684\u4f7f\u7528\u8fc7\u7a0b\u4e2d\uff0c\u67e5\u8be2\u662f\u5360\u636e\u4e86\u7edd\u5927\u90e8\u5206\uff0c\u5373\u4f7f\u662f\u66f4\u65b0\u5220\u9664\uff0c\u4e5f\u5f97\u5148\u67e5\u5230\u5bf9\u5e94\u7684\u6570\u636e\uff0c\u6240\u4ee5\u5982\u4f55\u52a0\u5feb\u67e5\u627e\u901f\u5ea6\u662f\u6570\u636e\u5e93\u8981\u89e3\u51b3\u7684\u4e00\u4e2a\u91cd\u5927\u95ee\u9898\u3002</p> <p>\u60f3\u8981\u52a0\u5feb\u67e5\u8be2\u7684\u901f\u5ea6\uff0c\u53ef\u4ee5\u5f80\u524d\u4e00\u6b65\u601d\u8003\uff1a\u5982\u4f55\u5b58\u50a8\u6570\u636e\uff0c\u624d\u80fd\u5728\u67e5\u8be2\u7684\u65f6\u5019\u66f4\u5feb\uff1f</p> <p>\u6240\u4ee5 \u5982\u4f55\u52a0\u5feb\u67e5\u8be2\u901f\u5ea6 \u95ee\u9898\u5c31\u53d8\u6210\u4e00\u4e2a \u5982\u4f55\u7ec4\u7ec7\u6570\u636e\u7684\u7ed3\u6784 \u95ee\u9898\u3002</p> <p>\u800c \u7d22\u5f15 \u5c31\u662f\u4e00\u79cd\u89e3\u51b3\u65b9\u6cd5\u3002\u6362\u8a00\u4e4b\uff1a\u7d22\u5f15\uff0c\u662f\u4e00\u79cd\u6570\u636e\u7ed3\u6784\u3002</p> <ul> <li>\u7d22\u5f15\u7684\u4f18\u70b9\uff1a<ul> <li>\u52a0\u5feb\u67e5\u8be2\u901f\u5ea6</li> </ul> </li> <li>\u7d22\u5f15\u7684\u7f3a\u70b9\uff1a<ul> <li>\u7ef4\u62a4\u7d22\u5f15\u9700\u8981\u6d88\u8017\u6570\u636e\u5e93\u8d44\u6e90</li> <li>\u7d22\u5f15\u9700\u8981\u5360\u7528\u78c1\u76d8\u7a7a\u95f4</li> <li>\u5f53\u5bf9\u6807\u7684\u6570\u636e\u8fdb\u884c\u589e\u5220\u6539\u7684\u65f6\u5019\uff0c\u56e0\u4e3a\u9700\u8981\u7ef4\u62a4\u7d22\u5f15\uff0c\u901f\u5ea6\u4f1a\u53d7\u5f71\u54cd</li> </ul> </li> </ul>"},{"location":"MySQL/3-%E7%B4%A2%E5%BC%95/#_2","title":"\u7d22\u5f15\u5206\u7c7b","text":"<p>MySQL \u4e2d\u7684\u7d22\u5f15\u5206\u4e3a\uff1a</p> <ul> <li>InnoDB (\u4e3b\u952e\u7d22\u5f15\u3001\u552f\u4e00\u7d22\u5f15\u3001\u5355\u503c\u7d22\u5f15\u3001\u590d\u5408\u7d22\u5f15):<ul> <li>\u4e3b\u952e\u7d22\u5f15\uff1a\u4e00\u4e2a\u5217\u88ab\u8bbe\u5b9a\u4e3a\u4e3b\u952e\u540e\u4f1a\u81ea\u52a8\u5efa\u7acb\u4e3b\u952e\u7d22\u5f15\uff0c\u4e0d\u5141\u8bb8 NULL\uff1bInnoDB\u4e3a\u805a\u7c07\u7d22\u5f15</li> <li>\u552f\u4e00\u7d22\u5f15\uff1a\u5217\u7684\u503c\u5fc5\u987b\u552f\u4e00\uff0c\u4f46\u5141\u8bb8 NULL</li> <li>\u5355\u503c\u7d22\u5f15(\u666e\u901a\u7d22\u5f15)\uff1a\u5373\u4e00\u4e2a\u7d22\u5f15\u53ea\u5305\u542b\u4e00\u4e2a\u5217\uff0c\u4e00\u4e2a\u8868\u53ef\u4ee5\u6709\u591a\u4e2a\u5355\u503c\u7d22\u5f15</li> <li>\u590d\u5408\u7d22\u5f15\uff1a\u5373\u4e00\u4e2a\u7d22\u5f15\u5305\u542b\u591a\u4e2a\u5217</li> </ul> </li> <li>MyISAM (\u4e3b\u952e\u7d22\u5f15\u3001\u552f\u4e00\u7d22\u5f15\u3001\u5355\u503c\u7d22\u5f15\u3001\u590d\u5408\u7d22\u5f15\u3001\u5168\u6587\u7d22\u5f15)<ul> <li>\u5168\u6587\u7d22\u5f15 Full Text\uff1a</li> </ul> </li> </ul> <p>Tip</p> <p>\u5355\u503c\u7d22\u5f15 \u4e0e \u590d\u5408\u7d22\u5f15\uff1a</p> <p>\u7ed9 name \u548c age \u5206\u522b\u5efa\u7acb\u4e86\u5355\u503c\u7d22\u5f15\uff0c\u5728 <code>WHERE name</code> \u6216\u8005 <code>WHERE age</code> \u7684\u65f6\u5019\u4f1a\u4f7f\u7528\u4e0a\u7d22\u5f15\u3002 \u4f46\u662f <code>WHERE name AND age</code> \u7684\u65f6\u5019\u5c31\u7528\u4e0d\u4e0a\u7d22\u5f15\u3002</p> <p>\u5982\u679c\u7ed9 name \u548c age \u4e00\u8d77\u5efa\u7acb\u4e86\u590d\u5408\u7d22\u5f15\uff0c\u5c31\u80fd\u7528\u4e0a\u7d22\u5f15\u3002</p>"},{"location":"MySQL/3-%E7%B4%A2%E5%BC%95/#_3","title":"\u7d22\u5f15\u57fa\u672c\u64cd\u4f5c","text":""},{"location":"MySQL/3-%E7%B4%A2%E5%BC%95/#_4","title":"\u4e3b\u952e\u7d22\u5f15","text":"<p>\u4e3b\u952e\u7d22\u5f15\u5728\u5efa\u8868\u65f6\u521b\u5efa\u4e3b\u952e\u65f6\u81ea\u52a8\u521b\u5efa\u3002</p> <p>\u5982\u679c\u5efa\u8868\u7684\u65f6\u5019\u4e0d\u6307\u5b9a\u4e3b\u952e\uff0cMySQL \u4f1a\u9ed8\u8ba4\u521b\u5efa\u4e00\u4e2a row_id \u4f5c\u4e3a\u4e3b\u952e\u5e76\u521b\u5efa\u7d22\u5f15\u3002</p> <pre><code>mysql&gt; CREATE TABLE t_user(\n    -&gt;    id varchar(20) primary key, \n    -&gt;    name varchar(20)\n    -&gt; );\nQuery OK, 0 rows affected (0.04 sec)\n\nmysql&gt; show index from t_user;\n+--------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+\n| Table  | Non_unique | Key_name | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment | Visible | Expression |\n+--------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+\n| t_user |          0 | PRIMARY  |            1 | id          | A         |           0 |     NULL |   NULL |      | BTREE      |         |               | YES     | NULL       |\n+--------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+\n1 row in set (0.01 sec)\n</code></pre>"},{"location":"MySQL/3-%E7%B4%A2%E5%BC%95/#_5","title":"\u552f\u4e00\u7d22\u5f15","text":"<ul> <li> <p>\u5efa\u8868\u65f6\u521b\u5efa\u7d22\u5f15\uff1a     </p><pre><code>mysql&gt; CREATE TABLE t_person(\n    -&gt;     id varchar(20),\n    -&gt;     name varchar(20),\n    -&gt; \n    -&gt;     UNIQUE(name)\n    -&gt; );\nQuery OK, 0 rows affected (0.05 sec)\n\nmysql&gt; show index from t_person;\n+----------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+\n| Table    | Non_unique | Key_name | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment | Visible | Expression |\n+----------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+\n| t_person |          0 | name     |            1 | name        | A         |           0 |     NULL |   NULL | YES  | BTREE      |         |               | YES     | NULL       |\n+----------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+\n1 row in set (0.01 sec)\n</code></pre><p></p> <p>\u5373\u4f7f\u6ca1\u6709\u6307\u5b9a\u7d22\u5f15\uff0cMySQL \u4e5f\u4f1a\u9ed8\u8ba4\u4e3a\u6307\u5b9a\u4e86 UNIQUE \u7ea6\u675f\u7684\u5217\u521b\u5efa\u552f\u4e00\u7d22\u5f15\u3002</p> <pre><code>mysql&gt; CREATE TABLE t_user(\n    -&gt;     id varchar(20) UNIQUE,\n    -&gt;     name varchar(20)\n    -&gt; );\nQuery OK, 0 rows affected (0.05 sec)\n\nmysql&gt; show index from t_user;\n+--------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+\n| Table  | Non_unique | Key_name | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment | Visible | Expression |\n+--------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+\n| t_user |          0 | id       |            1 | id          | A         |           0 |     NULL |   NULL | YES  | BTREE      |         |               | YES     | NULL       |\n+--------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+\n1 row in set (0.01 sec)\n</code></pre> </li> <li> <p>\u5efa\u8868\u540e\u521b\u5efa\u7d22\u5f15\uff1a     </p><pre><code>mysql&gt; CREATE UNIQUE INDEX \u7d22\u5f15\u540d ON \u8868\u540d(\u5217\u540d);\n</code></pre><p></p> </li> </ul>"},{"location":"MySQL/3-%E7%B4%A2%E5%BC%95/#_6","title":"\u5355\u503c\u7d22\u5f15","text":"<ul> <li> <p>\u5efa\u8868\u65f6\u521b\u5efa\u7d22\u5f15\uff1a     </p><pre><code>mysql&gt; CREATE TABLE t_user(\n    -&gt;     id varchar(20),\n    -&gt;     name varchar(20),\n    -&gt; \n    -&gt;     KEY(name)\n    -&gt; );\nQuery OK, 0 rows affected (0.06 sec)\n\nmysql&gt; show index from t_user;\n+--------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+\n| Table  | Non_unique | Key_name | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment | Visible | Expression |\n+--------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+\n| t_user |          1 | name     |            1 | name        | A         |           0 |     NULL |   NULL | YES  | BTREE      |         |               | YES     | NULL       |\n+--------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+\n1 row in set (0.01 sec)\n</code></pre>     \u5efa\u8868\u65f6\u521b\u5efa\u7684\u7d22\u5f15\u65e0\u6cd5\u547d\u540d\uff0c\u5176\u7d22\u5f15\u540d\u4e0e\u5217\u540d\u4e00\u81f4\u3002<p></p> </li> <li> <p>\u5efa\u8868\u540e\u521b\u5efa\u7d22\u5f15\uff1a     </p><pre><code>mysql&gt; CREATE INDEX \u7d22\u5f15\u540d ON \u8868\u540d(\u5217\u540d);\n</code></pre> <pre><code>mysql&gt; CREATE INDEX idx_id ON t_user(id);\nQuery OK, 0 rows affected (0.03 sec)\nRecords: 0  Duplicates: 0  Warnings: 0\n\nmysql&gt; show index from t_user;\n+--------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+\n| Table  | Non_unique | Key_name | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment | Visible | Expression |\n+--------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+\n| t_user |          1 | name     |            1 | name        | A         |           0 |     NULL |   NULL | YES  | BTREE      |         |               | YES     | NULL       |\n| t_user |          1 | idx_id   |            1 | id          | A         |           0 |     NULL |   NULL | YES  | BTREE      |         |               | YES     | NULL       |\n+--------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+\n2 rows in set (0.01 sec)\n</code></pre><p></p> </li> <li> <p>\u5220\u9664\u7d22\u5f15\uff1a     </p><pre><code>mysql&gt; DROP INDEX \u7d22\u5f15\u540d ON \u8868\u540d;\n</code></pre> <pre><code>mysql&gt; DROP INDEX idx_id ON t_user;\nQuery OK, 0 rows affected (0.03 sec)\nRecords: 0  Duplicates: 0  Warnings: 0\n\nmysql&gt; show index from t_user;\n+--------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+\n| Table  | Non_unique | Key_name | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment | Visible | Expression |\n+--------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+\n| t_user |          1 | name     |            1 | name        | A         |           0 |     NULL |   NULL | YES  | BTREE      |         |               | YES     | NULL       |\n+--------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+\n1 row in set (0.00 sec)\n</code></pre><p></p> </li> </ul>"},{"location":"MySQL/3-%E7%B4%A2%E5%BC%95/#_7","title":"\u590d\u5408\u7d22\u5f15","text":"<ul> <li> <p>\u5efa\u8868\u65f6\u521b\u5efa\u7d22\u5f15\uff1a     </p><pre><code>mysql&gt; CREATE TABLE t_user(\n    -&gt;     id varchar(20),\n    -&gt;     name varchar(20),\n    -&gt;     age int,\n    -&gt; \n    -&gt;    KEY(name, age)\n    -&gt; );\nQuery OK, 0 rows affected (0.05 sec)\n\nmysql&gt; show index from t_user;\n+--------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+\n| Table  | Non_unique | Key_name | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment | Visible | Expression |\n+--------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+\n| t_user |          1 | name     |            1 | name        | A         |           0 |     NULL |   NULL | YES  | BTREE      |         |               | YES     | NULL       |\n| t_user |          1 | name     |            2 | age         | A         |           0 |     NULL |   NULL | YES  | BTREE      |         |               | YES     | NULL       |\n+--------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+\n2 rows in set (0.01 sec)\n</code></pre><p></p> </li> <li> <p>\u5efa\u8868\u540e\u521b\u5efa\u7d22\u5f15\uff1a     </p><pre><code>CREATE INDEX \u7d22\u5f15\u540d\u79f0 ON \u8868\u540d(\u5217\u540d1, \u5217\u540d2, ...);\n</code></pre><p></p> </li> </ul> <p>Tip</p> <p>\u547d\u4e2d\u7d22\u5f15\u7684\u539f\u5219\uff1a</p> <p>\u7ed9 name \u548c age \u5efa\u7acb\u590d\u5408\u7d22\u5f15\uff0c\u5728\u67e5\u8be2\u65f6\uff0c\u9075\u5faa\uff1a</p> <ol> <li>\u6700\u5de6\u5339\u914d\u539f\u5219\uff1a<ul> <li>WHERE name, age, bir -&gt; \u53ef\u4ee5 \u4f7f\u7528\u7d22\u5f15</li> <li>WHERE name, bir, age -&gt; \u65e0\u6cd5 \u4f7f\u7528\u7d22\u5f15</li> <li>WHERE bir, age, name -&gt; \u65e0\u6cd5 \u4f7f\u7528\u7d22\u5f15</li> <li>WHERE age, bir       -&gt; \u65e0\u6cd5 \u4f7f\u7528\u7d22\u5f15</li> <li>WHERE name, bir      -&gt; \u65e0\u6cd5 \u4f7f\u7528\u7d22\u5f15</li> </ul> </li> <li>MySQL \u4f18\u5316\u5668\u4f1a\u52a8\u6001\u8c03\u6574\u5b57\u6bb5\u987a\u5e8f\u4ee5\u987a\u5229\u4f7f\u7528\u7d22\u5f15\uff0c\u6240\u4ee5\u6700\u7ec8\u662f\u4ee5\u4e0b\u60c5\u51b5(\u53ea\u8981\u5305\u542b\u590d\u5408\u7d22\u5f15\u7684\u5b57\u6bb5\u5c31\u80fd\u547d\u4e2d)\uff1a<ul> <li>WHERE name, age, bir -&gt; \u53ef\u4ee5 \u4f7f\u7528\u7d22\u5f15</li> <li>WHERE name, bir, age -&gt; \u53ef\u4ee5 \u4f7f\u7528\u7d22\u5f15\uff0c\u4f1a\u88ab\u8c03\u6574\u4e3a name, age, bir</li> <li>WHERE bir, age, name -&gt; \u53ef\u4ee5 \u4f7f\u7528\u7d22\u5f15\uff0c\u4f1a\u88ab\u8c03\u6574\u4e3a name, age, bir</li> <li>WHERE age, bir       -&gt; \u65e0\u6cd5\u4f7f\u7528\u7d22\u5f15</li> <li>WHERE name, bir      -&gt; \u53ef\u4ee5 \u4f7f\u7528\u7d22\u5f15\uff0c\u4f1a\u5148\u67e5\u8be2 name</li> </ul> </li> </ol>"},{"location":"MySQL/3-%E7%B4%A2%E5%BC%95/#_8","title":"\u7d22\u5f15\u7ed3\u6784","text":"<p>MySQL \u7684\u7d22\u5f15\u4f7f\u7528\u7684\u662f B+\u6811\u3002\u8fd9\u662f\u4e00\u79cd\u81ea\u5e73\u8861\u6570\u636e\u7ed3\u6784\u3002</p> <p></p> <ul> <li>\u8bb0\u5f55</li> </ul> <p>\u4e00\u6761 \u8bb0\u5f55 \u7531\u300c\u4e3b\u952e + \u6570\u636e + next\u6307\u9488\u300d\u7ec4\u6210\uff0c\u591a\u6761\u6570\u636e\u5f62\u6210\u94fe\u8868\u3002</p> <ul> <li>\u6570\u636e\u9875</li> </ul> <p>N \u6761\u6570\u636e\u6784\u6210\u4e00\u5f20 \u6570\u636e\u9875\u3002N \u5177\u4f53\u662f\u591a\u5c11\u770b\u8bb0\u5f55\u7684\u5927\u5c0f\u3002InnoDB \u4e00\u9875\u9ed8\u8ba4\u662f 16KB\uff0c\u90a3\u4e48\u4e00\u5f20\u6570\u636e\u9875\u53ef\u4ee5\u5b58\uff1a </p><pre><code>  16K B\n-  38 B (File Header) \n-  56 B (Page Header) \n-  26 B (Infimum + supremum) \n-   8 B (File Tailer)\n-   ? B (Page Directory)\n-   ? B (Free Space)\n\u00f7  \u8bb0\u5f55\u5927\u5c0f\n-----------------------\n= \u4e00\u5f20\u6570\u636e\u9875\u53ef\u4ee5\u5b58\u50a8\u7684\u8bb0\u5f55\u6761\u6570\n</code></pre><p></p> <ul> <li>\u9875\u76ee\u5f55</li> </ul> <p>\u8fd9\u4e9b\u9875\u5904\u4e8e B+\u6811\u7684\u53f6\u5b50\u7ed3\u70b9\u8fd9\u4e00\u5c42\uff0c\u5728\u53f6\u5b50\u7ed3\u70b9\u5f80\u4e0a\uff0c\u662f \u9875\u76ee\u5f55\u3002</p> <p>\u9875\u76ee\u5f55\u4e0d\u5b58\u50a8\u8bb0\u5f55\u7684\u6570\u636e\uff0c\u53ea\u5b58\u50a8\u6bcf\u4e00\u9875\u7684\u7b2c\u4e00\u6761\u8bb0\u5f55\u7684 \u300c\u4e3b\u952e + \u6307\u5411\u8bb0\u5f55\u7684\u6307\u9488\u300d\u3002</p> <p>\u9875\u76ee\u5f55\u7684\u5927\u5c0f\u4e5f\u662f\u4e00\u9875\u9ed8\u8ba4 16KB\u3002\u8fd9\u610f\u5473\u7740\u4e00\u5f20\u9875\u76ee\u5f55\uff0c\u53ef\u4ee5\u8bb0\u5f55\u5f88\u591a\u5f88\u591a\u6570\u636e\u9875\u7684\u5730\u5740\u3002</p> <ul> <li>\u9876\u5c42\u9875</li> </ul> <p>\u9875\u76ee\u5f55\u4e4b\u4e0a\uff0c\u8fd8\u53ef\u4ee5\u6709\u66f4\u9ad8\u4e00\u5c42\u9875\u76ee\u5f55\uff0c\u6700\u9876\u5c42\u7684\u9875\u76ee\u5f55\uff0c\u4e5f\u5c31\u662f B+\u6811\u7684\u6839\u7ed3\u70b9\uff0c\u79f0\u4e3a \u9876\u5c42\u9875\u3002</p> <p>\u9876\u5c42\u9875\u662f\u5e38\u9a7b\u5185\u5b58\u7684\uff0c\u6240\u4ee5\u67e5\u627e\u4e00\u4e2a\u6570\u636e\u65f6\uff0c\u4ece\u5185\u5b58\u4e2d\u627e\u5230\u9876\u5c42\u9875\uff0c\u6bd4\u5bf9\u4e3b\u952e\u5f97\u5230\u4e0b\u4e00\u5c42\u7684\u5730\u5740\uff0c\u7136\u540e\u53bb\u78c1\u76d8\u4e2d\u628a\u4e00\u6574\u9875\u7684\u6570\u636e\u62d6\u51fa\u6765\u3002</p> <p>\u5982\u679c\u8fd9\u4e00\u9875\u662f\u9875\u76ee\u5f55\uff0c\u5c31\u7ee7\u7eed\u627e\u5230\u4e0b\u4e00\u5c42\u7684\u5730\u5740\uff0c\u5982\u679c\u662f\u6570\u636e\u9875\u5c31\u4ece\u7b2c\u4e00\u6761\u8bb0\u5f55\u904d\u5386\u5bf9\u6bd4\u4e3b\u952e\uff0c\u76f4\u5230\u627e\u5230\u6570\u636e\u8fd4\u56de\u3002</p> <pre><code>func (p Page)find(id int) (Node, error) {\n    var i int\n    for i = 0; i &lt; len(p.Data); i++ {  // Data \u6309 Primary \u4ece\u5c0f\u5230\u5927\u6392\u5e8f\n        if id &gt;= p.Data[i].Primary {    // \u786e\u5b9a\u4e0b\u4e00\u5c42\u5730\u5740\n            break\n        }\n    }\n\n    page := loadPage(p.Data[i].Addr)    // \u4ece\u78c1\u76d8\u4e2d\u52a0\u8f7d\u6574\u9875\u6570\u636e\n    if page.Type == dir {   // \u5982\u679c\u662f\u9875\u76ee\u5f55\n        pageDir.find(id)    // \u8bb0\u5f55\u67e5\u627e\n    }\n\n    // \u5982\u679c\u662f\u6570\u636e\u9875\n    node := page.First // \u4ece\u7b2c\u4e00\u6761\u8bb0\u5f55\u5f00\u59cb\n    for node != nil {\n        if node.Id != id {  // \u904d\u5386\u8bb0\u5f55\u94fe\u8868\uff0c\u4e0d\u662f\u5c31\u4e0b\u4e00\u4e2a\n            node = node.Next\n            continue\n        }\n        return node, nil    // z\u627e\u5230\u4e86\u8fd4\u56de\n    }\n    return nil, errors.New(\"not found!\")    // \u904d\u5386\u5b8c\u8fd8\u6ca1\u627e\u5230\uff0c\u8fd4\u56de\u627e\u4e0d\u5230\n}\n</code></pre> <ul> <li>B+\u6811\u7684\u7279\u70b9\u662f\u6570\u636e\u90fd\u5728\u53f6\u5b50\u7ed3\u70b9\uff0c\u8fd9\u6837\u4f7f\u5f97 B+\u6811\u9002\u5408\u8303\u56f4\u67e5\u627e\u3002</li> <li>\u5728\u53f6\u5b50\u7ed3\u70b9\u7684\u4e0a\u4e00\u5c42\u662f\u9875\u76ee\u5f55\uff0c\u9875\u76ee\u5f55\u4e0d\u5b58\u50a8\u6570\u636e\uff0c\u8fd9\u6837\u4f7f\u5f97\u9875\u76ee\u5f55\u53ef\u4ee5\u5b58\u50a8\u66f4\u591a\u6570\u636e\u9875\u7684\u4fe1\u606f\u3002</li> <li>\u9876\u5c42\u9875\u5e38\u9a7b\u5185\u5b58\uff0c\u53ef\u4ee5\u51cf\u5c11\u4e00\u6b21 IO\u3002</li> <li>\u57fa\u4e8e\u8fd9\u4e9b\u7279\u70b9\uff0cMySQL \u624d\u80fd\u5728\u7d22\u5f15\u65b9\u9762\u8868\u73b0\u7684\u975e\u5e38\u51fa\u8272\u3002</li> </ul>"},{"location":"MySQL/3-%E7%B4%A2%E5%BC%95/#_9","title":"\u805a\u7c07\u7d22\u5f15 \u548c \u975e\u805a\u7c07\u7d22\u5f15","text":"<ul> <li>\u805a\u7c07\u7d22\u5f15\uff1a\u6570\u636e\u548c\u7d22\u5f15\u653e\u5728\u4e00\u8d77\uff0c\u627e\u5230\u7d22\u5f15\u5c31\u627e\u5230\u4e86\u6570\u636e</li> <li>\u975e\u805a\u7c07\u7d22\u5f15\uff1a\u6570\u636e\u548c\u7d22\u5f15\u4e0d\u653e\u5728\u4e00\u8d77\uff0c\u627e\u5230\u7d22\u5f15\u540e\uff0c\u7d22\u5f15\u6307\u5411\u6570\u636e\u5bf9\u5e94\u7684\u884c\uff0c\u5f97\u81ea\u884c\u8bbf\u95ee\u3002</li> </ul> <p>\u5728 InnoDB \u4e2d\uff1a</p> <ul> <li>\u9ed8\u8ba4\u4e3a\u4e3b\u952e\u521b\u5efa\u805a\u7c07\u7d22\u5f15\uff0c\u5373\u4f7f\u4e0d\u6307\u5b9a\u4e3b\u952e\uff0c\u4e5f\u4f1a\u627e\u4e00\u4e2a\u6709\u975e\u7a7a\u7ea6\u675f\u548c\u552f\u4e00\u7ea6\u675f\u7684\u5217\u521b\u5efa\u805a\u7c07\u7d22\u5f15\uff0c\u5982\u679c\u8fd9\u79cd\u5217\u4e5f\u6ca1\u6709\uff0c\u4f1a\u521b\u5efa\u4e00\u4e2a\u5f71\u85cf\u7684\u4e3b\u952e row_id\uff0c\u7136\u540e\u5efa\u7acb\u805a\u7c07\u7d22\u5f15\u3002</li> <li>\u5728\u805a\u7c07\u7d22\u5f15\u4e0a\u521b\u5efa\u7684\u7d22\u5f15\u79f0\u4e4b\u4e3a\u8f85\u52a9\u7d22\u5f15\uff0c\u8f85\u52a9\u7d22\u5f15\u4e2d\u5b58\u653e\u7684\u662f\u300c\u5217\u7684\u503c + \u4e3b\u952e\u300d\uff0c\u5728\u67e5\u8be2\u662f\u627e\u5230\u5217\u7684\u503c\u4ee5\u540e\uff0c\u8fd8\u9700\u8981\u53bb\u4e3b\u952e\u7d22\u5f15\u4e0a\u4e8c\u6b21\u67e5\u627e\uff0c\u62ff\u5230\u6570\u636e\u3002</li> </ul> <p></p> <p>MySQL \u4e2d\u7684 InnoDB \u5f15\u64ce\u5904\u7406\u7d22\u5f15\u7684\u65b9\u5f0f\u662f\uff0c\u5c06\u4e3b\u952e\u7ec4\u7ec7\u5230\u4e00\u68f5 B+\u6811\u4e2d\uff0c\u884c\u6570\u636e\u5c31\u5b58\u50a8\u5728\u53f6\u5b50\u7ed3\u70b9\u4e0a\uff0c\u6240\u4ee5\u8fd9\u662f\u805a\u7c07\u7d22\u5f15\uff0c\u5982\u679c\u4f7f\u7528\u4e86 <code>WHERE id = 14</code> \u8fd9\u6837\u7684\u6761\u4ef6\u67e5\u8be2\u7684\u65f6\u5019\uff0c\u5219\u76f4\u63a5\u53bb\u4e3b\u952e\u7d22\u5f15\u6811\u4e0a\u67e5\u627e\uff0c\u7136\u540e\u83b7\u5f97\u884c\u6570\u636e\u3002</p> <p>\u5982\u679c\u4f7f\u7528 <code>WHERE name = 'Boii'</code> \u8fd9\u6837\u7684\u6761\u4ef6\u67e5\u8be2\uff0c\u5219\u5148\u5728\u8f85\u52a9\u7d22\u5f15\u4e0a\u627e\u5230\u884c\uff0c\u5f97\u5230 Boii \u5bf9\u5e94\u7684\u4e3b\u952e\uff0c\u7136\u540e\u62ff\u7740\u4e3b\u952e\u53bb\u4e3b\u952e\u7d22\u5f15\u4e0a\u4e8c\u6b21\u67e5\u627e\uff0c\u6700\u7ec8\u627e\u5230\u6574\u884c\u6570\u636e\u3002</p> <p>\u800c MySQL \u4e2d\u7684 MyISAM \u5f15\u64ce\u4f7f\u7528\u7684\u662f\u975e\u805a\u7c07\u7d22\u5f15\uff0c\u4e3b\u952e\u7d22\u5f15\u8fd8\u662f\u8f85\u52a9\u7d22\u5f15\u90fd\u4e0d\u5b58\u50a8\u6570\u636e\uff0c\u4e0d\u7ba1\u662f\u901a\u8fc7 <code>WHERE id = 14</code> \u4f7f\u7528\u4e3b\u952e\u7d22\u5f15\u8fd8\u662f\u901a\u8fc7 <code>WHERE name = 'Boii'</code> \u90fd\u662f\u76f4\u63a5\u68c0\u7d22\u5230\u5bf9\u5e94\u7684\u7269\u7406\u5730\u5740\uff0c\u4ece\u800c\u8bbf\u95ee\u5230\u6574\u884c\u6570\u636e\u3002</p> <ul> <li>\u4e3a\u4ec0\u4e48 InnoDB \u4e2d\u8f85\u52a9\u7d22\u5f15\u4e0d\u76f4\u63a5\u5b58\u50a8\u5730\u5740\u800c\u662f\u4e3b\u952e\uff1f\u4e3a\u4e86\u6570\u636e\u4e00\u76f4\u6027\u548c\u53ef\u7ef4\u62a4\u6027\u3002\u5982\u679c\u5b58\u5730\u5740\uff0c\u90a3\u4e3b\u952e\u7d22\u5f15\u4e0a\u7684\u6570\u636e\u6709\u53d8\u52a8\u7684\u65f6\u5019\u8fd8\u5f97\u53bb\u7ef4\u62a4\u6240\u6709\u8f85\u52a9\u7d22\u5f15\uff0c\u800c\u4e3b\u952e\u662f\u4e0d\u53d8\u7684\uff0c\u6240\u4ee5\u9009\u62e9\u5b58\u4e3b\u952e\u3002</li> <li>\u4e3a\u4ec0\u4e48\u7528 B+\u6811\u800c\u4e0d\u662f B\u6811\uff1f\u56e0\u4e3a B+\u6811\u7684\u6570\u636e\u90fd\u5728\u53f6\u5b50\u7ed3\u70b9\u4e0a\uff0c\u9002\u5408\u8303\u56f4\u67e5\u627e\uff0cB\u6811\u4e0d\u662f\u6240\u6709\u6570\u636e\u90fd\u5728\u53f6\u5b50\u7ed3\u70b9\u4e0a\u7684\uff0c\u6240\u4ee5\u8303\u56f4\u67e5\u627e\u7684\u65f6\u5019\u5f88\u9ebb\u70e6\u3002</li> <li>\u4ec0\u4e48\u65f6\u5019\u7528 InnoDB\uff0c\u4ec0\u4e48\u65f6\u5019\u7528 MyISAM\uff1f\u901a\u5e38\u7528 InnoDB\uff0c\u56e0\u4e3a MyISAM \u4e0d\u652f\u6301\u4e8b\u52a1\uff0c\u5979\u7684\u8bbe\u8ba1\u6bd4\u8f83\u504f\u5411\u67e5\u8be2\u3002\u5982\u679c\u4e00\u5f20\u8868\u53ea\u7528\u6765\u67e5\u8be2\uff0c\u90a3\u4e48\u53ef\u4ee5\u8003\u8651 MyISAM\u3002</li> </ul>"},{"location":"MySQL/4-explain/","title":"4-explain","text":""},{"location":"MySQL/4-explain/#explain","title":"Explain","text":"id select_type table type possible_keys key key_len ref rows Extra"},{"location":"MySQL/4-explain/#id","title":"id","text":""},{"location":"MySQL/4-explain/#select_type","title":"select_type","text":"\u503c \u8bf4\u660e SIMPLE \u7b80\u5355 SELECT \u67e5\u8be2\uff0c\u4e0d\u4f7f\u7528 UNION \u6216\u5b50\u67e5\u8be2 PRIMARY \u6700\u5916\u5c42\u7684 SELECT\uff0c\u5b50\u67e5\u8be2\u4e2d\u6700\u5916\u5c42\u67e5\u8be2\u3002\u82e5\u67e5\u8be2\u4e2d\u5305\u542b\u4efb\u4f55\u590d\u6742\u5b50\u90e8\u5206\uff0c\u6700\u5916\u5c42\u7684 SELECT \u90fd\u88ab\u6807\u8bb0\u4e3a PRIMARY UNION UNION \u4e2d\u7684\u7b2c\u4e8c\u4e2a\u6216\u4e4b\u540e\u7684 SELECT \u8bed\u53e5 DEPENDENT UNION UNION \u4e2d\u7684\u7b2c\u4e8c\u4e2a\u6216\u4e4b\u540e\u7684 SELECT \u8bed\u53e5\uff0c\u53d6\u51b3\u4e8e\u5916\u5c42\u7684\u67e5\u8be2 UNION RESULT UNION \u7684\u7ed3\u679c\uff0cUNION \u4e2d\u7b2c\u4e8c\u4e2a SELECT \u6216\u4e4b\u540e\u7684 SELECT \u8bed\u53e5 SUBQUERY \u5b50\u67e5\u8be2\u4e2d\u7684\u7b2c\u4e00\u4e2a SELECT\uff0c\u7ed3\u679c\u4e0d\u4f9d\u8d56\u4e8e\u5916\u5c42\u7684\u67e5\u8be2 DEPENDENT SUBQUERY \u5b50\u67e5\u8be2\u4e2d\u7684\u7b2c\u4e00\u4e2a SELECT\uff0c\u7ed3\u679c\u4f9d\u8d56\u4e8e\u5916\u90e8\u67e5\u8be2 DERIVED \u6d3e\u751f\u8868\uff0c\u6d3e\u751f\u8868\u7684 SELECT\uff0cFROM \u5b50\u53e5\u7684\u5b50\u67e5\u8be2 MATERIALIZE \u7269\u5316\u5b50\u67e5\u8be2 UNCACHEABLE SUBQUERY \u4e0d\u80fd\u7f13\u5b58\u5176\u7ed3\u679c\u7684\u5b50\u67e5\u8be2\uff0c\u5fc5\u987b\u5bf9\u5916\u5c42\u67e5\u8be2\u7684\u6bcf\u4e00\u884c\u91cd\u65b0\u6c42\u503c UNCACHEABLE UNION UNION \u4e2d\u5c5e\u4e8e\u975e\u7f13\u5b58\u5b50\u67e5\u8be2\u7684\u7b2c\u4e8c\u4e2a\u6216\u4e4b\u540e\u7684\u9009\u62e9\uff08\u4e00\u4e2a\u5b50\u67e5\u8be2\u7684\u7ed3\u679c\u4e0d\u80fd\u88ab\u7f13\u5b58\uff0c\u5fc5\u987b\u91cd\u65b0\u8bc4\u4f30\u5916\u8fde\u63a5\u7684\u7b2c\u4e00\u884c\uff09"},{"location":"MySQL/4-explain/#table","title":"table","text":""},{"location":"MySQL/4-explain/#type","title":"type","text":"<p>\u8868\u793a MySQL \u5728\u8868\u4e2d\u627e\u5230\u6240\u9700\u884c\u7684\u65b9\u5f0f\uff0c\u53c8\u79f0\u201c\u8bbf\u95ee\u7c7b\u578b\u201d\u3002</p> <p>\u5e38\u7528\u7c7b\u578b\u6709\uff1aAll\u3001Index\u3001Range\u3001Ref\u3001eq_ref\u3001Const\u3001System\u3001NULL</p>"},{"location":"MySQL/4-explain/#possible_keys","title":"possible_keys","text":""},{"location":"MySQL/4-explain/#key","title":"key","text":""},{"location":"MySQL/4-explain/#key_len","title":"key_len","text":""},{"location":"MySQL/4-explain/#ref","title":"ref","text":""},{"location":"MySQL/4-explain/#rows","title":"rows","text":""},{"location":"MySQL/4-explain/#extra","title":"Extra","text":""},{"location":"MySQL/5-%E4%BA%8B%E5%8A%A1/","title":"5-\u4e8b\u52a1","text":""},{"location":"MySQL/5-%E4%BA%8B%E5%8A%A1/#_1","title":"\u4e8b\u52a1","text":"<p>Quote</p> <p>\u53c2\u8003\u81ea \u5c0f\u6797 Coding \u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u662f\u600e\u4e48\u5b9e\u73b0\u7684\uff1f</p> <p>\u5728 MySQL \u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7 BEGIN \u6216 START TRANSACTION \u6216 START TRANSACTION WITH CONSISTENT SNAPSHOT \u5f00\u542f\u4e8b\u52a1\uff0c\u901a\u8fc7 COMMIT \u63d0\u4ea4\u4e8b\u52a1\uff0c\u901a\u8fc7 ROLLBACK \u56de\u6eda\u4e8b\u52a1\u3002</p> <p>\u5982\u679c\u53ea\u662f\u6267\u884c\u4e00\u6761\u300c\u589e\u5220\u6539\u300d\u7684 SQL \u8bed\u53e5\uff0c\u90a3\u4e48 MySQL \u4f1a\u81ea\u52a8 \u9690\u5f0f\u5f00\u542f\u4e8b\u52a1 \u6765\u6267\u884c\uff0c\u6267\u884c\u5b8c\u5c31\u81ea\u52a8\u63d0\u4ea4\u4e8b\u52a1\u3002</p> Example <pre><code>-- \u5f00\u542f\u4e8b\u52a1\nSTART TRANSACTION;\n-- \u4e8b\u52a1\u64cd\u4f5c\nINSERT INTO t1 VALUES (1, 'a');\nINSERT INTO t2 VALUES (2, 'b');\n-- \u63d0\u4ea4\u4e8b\u52a1\nCOMMIT;\n</code></pre>"},{"location":"MySQL/5-%E4%BA%8B%E5%8A%A1/#_2","title":"\u4e8b\u52a1\u7684\u7279\u6027","text":"<p>\u4e8b\u52a1(Transaction)\uff0c\u7531\u4e00\u7ec4\u64cd\u4f5c\u6784\u6210\u7684\u53ef\u9760\u7684\u72ec\u7acb\u7684\u5de5\u4f5c\u5355\u5143\u3002\u5177\u5907 ACID \u7279\u6027\uff0c\u5373 \u539f\u5b50\u6027\uff0c\u4e00\u81f4\u6027\uff0c\u9694\u79bb\u6027\uff0c\u6301\u4e45\u6027\u3002</p> <ul> <li> <p> \u539f\u5b50\u6027 Atomicity</p> <p>\u4e8b\u52a1\u4e2d\u7684\u6240\u6709\u64cd\u4f5c \u8981\u4e48\u5168\u90e8\u6210\u529f\uff0c\u8981\u4e48\u5168\u90e8\u5931\u8d25\u3002\u53ea\u8981\u6709\u4e00\u9879\u5931\u8d25\uff0c\u6574\u4e2a\u4e8b\u52a1\u7684\u6240\u6709\u64cd\u4f5c\u5168\u90e8\u56de\u6eda\u3002</p> </li> <li> <p> \u4e00\u81f4\u6027 Consistency</p> <p>\u4e8b\u52a1\u7684\u6267\u884c\u4e0d\u80fd\u7834\u574f\u6570\u636e\u5e93\u7684\u5b8c\u6574\u6027\u548c\u4e00\u81f4\u6027\uff0c\u4e8b\u52a1\u5728\u6267\u884c\u4e4b\u524d\u548c\u4e4b\u540e\uff0c\u6570\u636e\u5e93\u90fd\u5fc5\u987b\u5904\u4e8e\u4e00\u81f4\u6027\u72b6\u6001\u3002</p> </li> <li> <p> \u9694\u79bb\u6027 Isolation</p> <p>\uff08\u8bfb\u672a\u63d0\u4ea4\uff0c\u8bfb\u5df2\u63d0\u4ea4\uff0c\u53ef\u91cd\u590d\u8bfb\uff0c\u53ef\u4e32\u884c\u5316\uff09\u5728\u5e76\u53d1\u73af\u5883\u4e2d\uff0c\u5e76\u53d1\u7684\u4e8b\u52a1\u662f\u76f8\u4e92\u9694\u79bb\u7684\uff0c\u4e00\u4e2a\u4e8b\u52a1\u7684\u6267\u884c\u4e0d\u80fd\u88ab\u5176\u4ed6\u4e8b\u52a1\u5e72\u6270\u3002\u5373 \u4e0d\u540c\u7684\u4e8b\u52a1\u5e76\u53d1\u64cd\u4f5c\u76f8\u540c\u7684\u6570\u636e\u65f6\uff0c\u5e76\u53d1\u6267\u884c\u7684\u5404\u4e2a\u4e8b\u52a1\u4e4b\u95f4\u4e0d\u80fd\u76f8\u4e92\u5e72\u6270\u3002</p> </li> <li> <p> \u6301\u4e45\u6027 Durability</p> <p>\u4e00\u4e2a\u4e8b\u52a1\u4e00\u65e6\u63d0\u4ea4\uff0c\u5b83\u5bf9\u6570\u636e\u5e93\u4e2d\u5bf9\u5e94\u6570\u636e\u7684\u72b6\u6001\u53d8\u66f4\u5c31\u5e94\u8be5\u662f\u6c38\u4e45\u6027\u7684\uff0c\u8981\u6c42\u9047\u5230\u673a\u5668\u5b95\u673a\u3001\u7cfb\u7edf\u5d29\u6e83\u7b49\u610f\u5916\u53d1\u751f\u540e\uff0c\u4f9d\u7136\u80fd\u6062\u590d\u5230\u4e8b\u52a1\u6210\u529f\u7ed3\u675f\u65f6\u7684\u72b6\u6001\u3002</p> </li> </ul> <p>InnoDB \u901a\u8fc7 \u65e5\u5fd7\u548c\u9501 \u6765\u4fdd\u8bc1\u4e8b\u52a1\u7684 ACID \u7279\u6027\uff0c\u5177\u4f53\u5982\u4e0b\uff1a</p> <ol> <li>\u901a\u8fc7 Redo Log \u6765\u4fdd\u969c\u4e8b\u52a1\u7684 \u6301\u4e45\u6027</li> <li>\u901a\u8fc7 Undo Log \u6765\u4fdd\u969c\u4e8b\u52a1\u7684 \u539f\u5b50\u6027</li> <li>\u901a\u8fc7 MVCC\u673a\u5236\u6216\u9501 \u6765\u4fdd\u8bc1\u4e8b\u52a1\u7684 \u9694\u79bb\u6027</li> <li>\u901a\u8fc7 \u6301\u4e45\u6027+\u539f\u5b50\u6027+\u9694\u79bb\u6027 \u6765\u4fdd\u8bc1 \u4e00\u81f4\u6027</li> </ol>"},{"location":"MySQL/5-%E4%BA%8B%E5%8A%A1/#_3","title":"\u5e76\u884c\u4e8b\u52a1\u4f1a\u5f15\u53d1\u7684\u95ee\u9898","text":"<ol> <li> <p>\u810f\u8bfb Dirty Read\uff1a     \u4e8b\u52a1 A \u8bfb\u5230\u4e86\u4e8b\u52a1 B \u8fd8\u672a\u63d0\u4ea4\u7684\u6570\u636e\u3002</p> </li> <li> <p>\u4e0d\u53ef\u91cd\u590d\u8bfb Non-Repeatable Read\uff1a     \u4e8b\u52a1 A \u8bfb\u53d6\u67d0\u4e9b\u6570\u636e\u540e\uff0c\u518d\u6b21\u8bfb\u53d6\u8be5\u6570\u636e\u53d1\u73b0\u4e0e\u4e0a\u6b21\u4e0d\u540c\uff0c\u56e0\u4e3a\u4e8b\u52a1 B \u5bf9\u5176\u8fdb\u884c\u4e86\u53d8\u66f4\u6216\u5220\u9664\u3002</p> </li> <li> <p>\u5e7b\u8bfb Phantom Read\uff1a     \u4e8b\u52a1 A \u5728\u8bfb\u67d0\u4e2a\u8303\u56f4\uff0c\u4e8b\u52a1 B \u65b0\u589e\u6216\u5220\u9664\u4e86\u6ee1\u8db3\u8be5\u8303\u56f4\u7684\u8bb0\u5f55\uff0c\u5f53 A \u518d\u6b21\u8fdb\u884c\u67e5\u8be2\u7684\u65f6\u5019\u53d1\u73b0\u591a\u4e86\u6216\u5c11\u4e86\u3002</p> </li> </ol> \u810f\u8bfb\u4e0d\u53ef\u91cd\u590d\u8bfb\u5e7b\u8bfb <p>\u5982\u679c\u4e00\u4e2a\u4e8b\u52a1\u300c\u8bfb\u5230\u300d\u4e86\u53e6\u4e00\u4e2a\u4e8b\u52a1\u300c\u8fd8\u672a\u63d0\u4ea4\u7684\u4fee\u6539\u540e\u7684\u6570\u636e\u300d\uff0c\u5c31\u610f\u5473\u7740 \u810f\u8bfb\u3002</p> <p></p> <p>\u4e8b\u52a1 A \u8fd8\u6ca1\u63d0\u4ea4\u610f\u5473\u7740\u6709\u53ef\u80fd\u89e6\u53d1\u56de\u6eda\uff0c\u90a3\u4e48\u4e8b\u52a1 B \u8bfb\u5230\u7684\u6570\u636e\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u662f\u6700\u7ec8\u7684\u6570\u636e\uff0c\u8fd9\u5c31\u662f\u810f\u8bfb\u3002</p> <p>\u5728\u4e00\u4e2a\u4e8b\u52a1\u5185\u300c\u591a\u6b21\u8bfb\u53d6\u540c\u4e00\u4e2a\u6570\u636e\u300d\uff0c\u5982\u679c\u6bcf\u6b21\u8bfb\u53d6\u7684\u300c\u6570\u636e\u4e0d\u4e00\u6837\u300d\uff0c\u5c31\u8bf4\u660e\u51fa\u73b0\u4e86 \u4e0d\u53ef\u91cd\u590d\u8bfb\u3002</p> <p></p> <p>\u4e8b\u52a1 A \u5728\u8bfb\u53d6\u6570\u636e\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4e8b\u52a1 B \u4fee\u6539\u4e86\u6570\u636e\uff0c\u5bfc\u81f4\u4e8b\u52a1 A \u4e24\u6b21\u8bfb\u53d6\u7684\u6570\u636e\u4e0d\u4e00\u6837\uff0c\u8fd9\u5c31\u662f\u4e0d\u53ef\u91cd\u590d\u8bfb\u3002</p> <p>\u5728\u4e00\u4e2a\u4e8b\u52a1\u5185\u300c\u591a\u6b21\u8bfb\u53d6\u540c\u4e00\u4e2a\u8303\u56f4\u7684\u6570\u636e\u300d\uff0c\u5982\u679c\u6bcf\u6b21\u8bfb\u53d6\u7684\u300c\u6570\u91cf\u4e0d\u4e00\u6837\u300d\uff0c\u5c31\u8bf4\u660e\u51fa\u73b0\u4e86 \u5e7b\u8bfb\u3002    </p> <p></p> <p>\u4e8b\u52a1 A \u5728\u8bfb\u53d6\u6570\u636e\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4e8b\u52a1 B \u65b0\u589e\u4e86\u6570\u636e\uff0c\u5bfc\u81f4\u4e8b\u52a1 A \u4e24\u6b21\u8bfb\u53d6\u7684\u6570\u636e\u91cf\u4e0d\u4e00\u6837\uff0c\u8fd9\u5c31\u662f\u5e7b\u8bfb\u3002</p> <p>\u810f\u8bfb\u3001\u4e0d\u53ef\u91cd\u590d\u8bfb \u548c \u5e7b\u8bfb \u7684\u533a\u522b\u5728\u4e8e\uff1a</p> <ul> <li>\u5e7b\u8bfb \u662f\u5728\u540c\u4e00\u4e8b\u52a1\u4e2d\uff0c\u76f8\u540c\u6761\u4ef6\u4e0b\uff0c\u4e24\u6b21\u67e5\u8be2\u51fa\u6765\u7684 \u8bb0\u5f55\u6570 \u4e0d\u4e00\u6837\uff0c\u5f3a\u8c03\u7684\u662f \u6570\u91cf\u3001\u589e\u5220\u64cd\u4f5c\uff1b</li> <li>\u4e0d\u53ef\u91cd\u590d\u8bfb \u662f\u5728\u540c\u4e00\u4e8b\u52a1\u4e2d\uff0c\u76f8\u540c\u6761\u4ef6\u4e0b\uff0c\u4e24\u6b21\u67e5\u8be2\u51fa\u6765\u7684 \u6570\u636e \u4e0d\u4e00\u6837\uff0c\u5f3a\u8c03\u7684\u662f \u6570\u636e\u3001\u4fee\u6539\u64cd\u4f5c\uff1b</li> <li>\u810f\u8bfb \u662f\u8bfb\u5230\u4e86\u672a\u63d0\u4ea4\u7684\u6570\u636e\u3002</li> </ul>"},{"location":"MySQL/5-%E4%BA%8B%E5%8A%A1/#_4","title":"\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b","text":"<p>Note</p> <p>\u5bf9\u4e8e\u4e0a\u8ff0\u95ee\u9898\uff0cSQL \u6807\u51c6\u63d0\u51fa\u4e86\u56db\u79cd\u9694\u79bb\u7ea7\u522b\u6765\u89c4\u907f\u8fd9\u4e9b\u95ee\u9898\uff0c\u5206\u522b\u662f\uff1a \u8bfb\u672a\u63d0\u4ea4\u3001\u8bfb\u5df2\u63d0\u4ea4\u3001\u53ef\u91cd\u590d\u8bfb\u3001\u4e32\u884c\u5316\u3002</p> <ol> <li>\u8bfb\u672a\u63d0\u4ea4 Read Uncommitted\uff1a     \u6307\u4e00\u4e2a\u4e8b\u52a1 A \u8fd8\u6ca1\u63d0\u4ea4\u65f6\uff0c\u5b83\u505a\u7684\u53d8\u66f4 \u5c31\u5df2\u7ecf\u80fd \u88ab\u5176\u4ed6\u4e8b\u52a1\u8bfb\u5230\u3002\u8fd9\u4f1a\u5bfc\u81f4 \u810f\u8bfb\u3001\u4e0d\u53ef\u91cd\u590d\u8bfb \u548c \u5e7b\u8bfb\u3002</li> <li>\u8bfb\u5df2\u63d0\u4ea4 Read Committed\uff1a     \u6307\u4e00\u4e2a\u4e8b\u52a1 A \u63d0\u4ea4\u4ee5\u540e\uff0c\u5b83\u505a\u7684\u53d8\u66f4 \u624d\u80fd \u88ab\u5176\u4ed6\u4e8b\u52a1\u8bfb\u5230\u3002\u8fd9\u4f1a\u5bfc\u81f4 \u4e0d\u53ef\u91cd\u590d\u8bfb \u548c \u5e7b\u8bfb\u3002</li> <li>\u53ef\u91cd\u590d\u8bfb Repeatable Read\uff1a     \u6307\u4e00\u4e2a\u4e8b\u52a1 B \u6267\u884c\u8fc7\u7a0b\u4e2d\u770b\u5230\u7684\u6570\u636e\uff0c\u4e00\u76f4\u8ddf\u8fd9\u4e2a\u4e8b\u52a1\u542f\u52a8\u65f6\u770b\u5230\u7684\u6570\u636e\u662f\u4e00\u81f4\u7684\u3002\u53ea\u6709\u81ea\u5df1\u8fd9\u4e2a\u4e8b\u52a1 B \u63d0\u4ea4\u4ee5\u540e\uff0c\u624d\u80fd \u770b\u5230\u6700\u65b0\u7684\u6570\u636e\u3002\u8fd9\u4f1a\u5bfc\u81f4 \u5e7b\u8bfb\u3002</li> <li>\u4e32\u884c\u5316 Serializable\uff1a     \u5bf9\u8bb0\u5f55\u52a0\u4e0a\u8bfb\u5199\u9501\uff0c\u5f53\u591a\u4e2a\u4e8b\u52a1\u5bf9\u8fd9\u6761\u8bb0\u5f55\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\u65f6\uff0c\u5982\u679c\u53d1\u751f\u8bfb\u5199\u51b2\u7a81\uff0c\u540e\u8bbf\u95ee\u7684\u4e8b\u52a1\u5fc5\u987b\u7b49\u524d\u4e00\u4e2a\u4e8b\u52a1\u6267\u884c\u5b8c\u6210\u624d\u80fd\u7ee7\u7eed\u3002\u8fd9\u662f\u6027\u80fd\u6700\u5dee\u7684\u9694\u79bb\u7ea7\u522b\uff0c\u4f46\u662f\u53ef\u4ee5\u5f7b\u5e95\u907f\u514d \u5e7b\u8bfb\u3002</li> </ol> <ul> <li> <p>\u6309\u9694\u79bb\u6c34\u5e73\u9ad8\u4f4e\u6392\u5e8f\u5982\u4e0b: \u4e32\u884c\u5316 &gt; \u53ef\u91cd\u590d\u8bfb &gt; \u8bfb\u5df2\u63d0\u4ea4 &gt; \u8bfb\u672a\u63d0\u4ea4</p> </li> <li> <p>\u4e0d\u540c\u7684\u9694\u79bb\u7ea7\u522b\u4f1a\u5bfc\u81f4\u4e0d\u540c\u7684\u95ee\u9898\uff0c\u5982\u4e0b\u8868\u6240\u793a\uff1a</p> </li> </ul> \u8bfb\u672a\u63d0\u4ea4 \u8bfb\u5df2\u63d0\u4ea4 \u53ef\u91cd\u590d\u8bfb \u4e32\u884c\u5316 \u810f\u8bfb \u810f\u8bfb \u810f\u8bfb \u810f\u8bfb \u4e0d\u53ef\u91cd\u590d\u8bfb \u4e0d\u53ef\u91cd\u590d\u8bfb \u4e0d\u53ef\u91cd\u590d\u8bfb \u4e0d\u53ef\u91cd\u590d\u8bfb \u5e7b\u8bfb \u5e7b\u8bfb \u5e7b\u8bfb \u5e7b\u8bfb <p>MySQL \u652f\u6301\u8fd9 4 \u79cd\u9694\u79bb\u7ea7\u522b\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>SET TRANSACTION ISOLATION LEVEL</code> \u6765\u8bbe\u7f6e\u3002\u4f46\u548c SQL \u6807\u51c6\u4e0d\u540c\u7684\u662f\uff0cMySQL \u7684\u9ed8\u8ba4\u9694\u79bb\u7ea7\u522b\u662f \u53ef\u91cd\u590d\u8bfb\uff0c\u800c\u4e0d\u662f \u8bfb\u5df2\u63d0\u4ea4\u3002 \u5e76\u4e14\u5728 MySQL \u4e2d\uff0c\u53ef\u91cd\u590d\u8bfb \u662f\u901a\u8fc7 MVCC \u673a\u5236\u6765\u5b9e\u73b0\u7684\u3002\u53ef\u4ee5\u5f88\u5927\u7a0b\u5ea6\u4e0a\uff08\u4e0d\u662f\u5f7b\u5e95\uff09\u907f\u514d \u5e7b\u8bfb \u95ee\u9898\u3002</p> <pre><code>SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED;\nSET TRANSACTION ISOLATION LEVEL READ COMMITTED;\nSET TRANSACTION ISOLATION LEVEL REPEATABLE READ;\nSET TRANSACTION ISOLATION LEVEL SERIALIZABLE;\n</code></pre>"},{"location":"MySQL/5-%E4%BA%8B%E5%8A%A1/#mysql","title":"MySQL \u53ef\u91cd\u590d\u8bfb\u89e3\u51b3\u65b9\u6848","text":"<p>\u5177\u4f53\u7684\u65b9\u6848\u6709\u4e24\u79cd\uff1a</p> <ol> <li> <p>\u9488\u5bf9 \u5feb\u7167\u8bfb \uff0c\u662f\u901a\u8fc7 MVCC \u89e3\u51b3\u5e7b\u8bfb\u95ee\u9898\uff1b\u56e0\u4e3a \u53ef\u91cd\u590d\u8bfb \u9694\u79bb\u7ea7\u522b\u4e0b\uff0c\u4e8b\u52a1\u6267\u884c\u65f6\u4f1a\u521b\u5efa\u4e00\u4e2a ReadView\uff0c\u7528\u4e8e\u4fdd\u5b58\u4e8b\u52a1\u542f\u52a8\u65f6\u7684\u5feb\u7167\u3002 \u8fd9\u6837\u5728\u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u5176\u4ed6\u4e8b\u52a1\u5bf9\u6570\u636e\u7684\u4fee\u6539\u4e0d\u4f1a\u5f71\u54cd\u5230\u5f53\u524d\u4e8b\u52a1\u7684\u8bfb\u53d6\u3002\u5c31\u7b97\u4e8b\u52a1\u6267\u884c\u671f\u95f4\u6570\u636e\u88ab\u4fee\u6539\u4e5f\u4e0d\u5f71\u54cd\u3002</p> </li> <li> <p>\u9488\u5bf9 \u5f53\u524d\u8bfb \uff0c\u662f\u901a\u8fc7 Next-Key Lock \u89e3\u51b3\u5e7b\u8bfb\u95ee\u9898\uff1b\u56e0\u4e3a\u5728\u6267\u884c <code>SELECT ... FOR UPDATE</code> \u8bed\u53e5\u65f6\uff0c\u4f1a\u5bf9\u67e5\u8be2\u7684\u6570\u636e\u52a0\u4e0a Next-Key Lock\uff0c \u5176\u4ed6\u4e8b\u52a1\u5982\u679c\u5728 Next-Key Lock \u9501\u4f4f\u7684\u8303\u56f4\u5185\u63d2\u5165\u5220\u9664\u6570\u636e\uff0c\u5c31\u4f1a\u88ab\u963b\u585e\uff0c\u76f4\u5230\u5f53\u524d\u4e8b\u52a1\u6267\u884c\u5b8c\u6210\uff0c\u8fd9\u6837\u5c31\u907f\u514d\u4e86\u5e7b\u8bfb\u95ee\u9898\u3002</p> </li> </ol> <p>\u793a\u4f8b</p> \u4e8b\u52a1 A \u4e8b\u52a1 B \u542f\u52a8\u4e8b\u52a1 A \u542f\u52a8\u4e8b\u52a1 B \u67e5\u8be2\u4f59\u989d v0 100w \u67e5\u8be2\u5f97\u5230\u4f59\u989d 100w \u4fee\u6539\u4f59\u989d\u4e3a 200w \u67e5\u8be2\u4f59\u989d v1  \u63d0\u4ea4\u4e8b\u52a1 B  \u67e5\u8be2\u4f59\u989d v2  \u63d0\u4ea4\u4e8b\u52a1 A  \u67e5\u8be2\u4f59\u989d v3 <p>\u5047\u8bbe\u6709\u4e00\u5f20\u8d26\u6237\u4f59\u989d\u8868\uff0c\u91cc\u9762\u6709\u4e00\u6761\u8bb0\u5f55\u4f59\u989d\u4e3a 100w \u7684\u8bb0\u5f55\uff0c\u7136\u540e\u6709\u4e24\u4e2a\u5e76\u53d1\u4e8b\u52a1\uff0c\u4e8b\u52a1 A \u4ec5\u8d1f\u8d23\u67e5\u8be2\u4f59\u989d\uff0c\u4e8b\u52a1 B \u4f1a\u5c06\u4f59\u989d\u6539\u6210 200w\u3002</p> \u8bfb\u672a\u63d0\u4ea4\u8bfb\u5df2\u63d0\u4ea4\u53ef\u91cd\u590d\u8bfb\u4e32\u884c\u5316 \u4e8b\u52a1 A \u4e8b\u52a1 B \u542f\u52a8\u4e8b\u52a1 A \u542f\u52a8\u4e8b\u52a1 B \u67e5\u8be2\u4f59\u989d v0 100w \u67e5\u8be2\u5f97\u5230\u4f59\u989d 100w \u4fee\u6539\u4f59\u989d\u4e3a 200w \u67e5\u8be2\u4f59\u989d v1 200w  \u63d0\u4ea4\u4e8b\u52a1 B  \u67e5\u8be2\u4f59\u989d v2 200w  \u63d0\u4ea4\u4e8b\u52a1 A  \u67e5\u8be2\u4f59\u989d v3 200w <p>\u5728\u300c\u8bfb\u672a\u63d0\u4ea4\u300d\u9694\u79bb\u7ea7\u522b\u4e0b\uff0c\u4e8b\u52a1 B \u4fee\u6539\u4e86\u4f59\u989d\uff0c\u4e8b\u52a1 A \u5728\u67e5\u8be2\u4f59\u989d v1 \u65f6\u5c31\u4f1a\u76f4\u63a5\u8bfb\u5230 200w\uff0c\u8fd9\u5c31\u662f\u810f\u8bfb\u3002 v2\u3001v3 \u81ea\u7136\u4e5f\u662f\u8bfb\u5230 200w\u3002</p> \u4e8b\u52a1 A \u4e8b\u52a1 B \u542f\u52a8\u4e8b\u52a1 A \u542f\u52a8\u4e8b\u52a1 B \u67e5\u8be2\u4f59\u989d v0 100w \u67e5\u8be2\u5f97\u5230\u4f59\u989d 100w \u4fee\u6539\u4f59\u989d\u4e3a 200w \u67e5\u8be2\u4f59\u989d v1 100w  \u63d0\u4ea4\u4e8b\u52a1 B  \u67e5\u8be2\u4f59\u989d v2 200w  \u63d0\u4ea4\u4e8b\u52a1 A  \u67e5\u8be2\u4f59\u989d v3 200w <p>\u5728\u300c\u8bfb\u5df2\u63d0\u4ea4\u300d\u9694\u79bb\u7ea7\u522b\u4e0b\uff0c\u4e8b\u52a1 B \u4fee\u6539\u4e86\u4f59\u989d\uff0c\u4e8b\u52a1 A \u5728\u67e5\u8be2\u4f59\u989d v1 \u65f6\u8fd8\u662f\u8bfb\u5230 100w\uff0c\u56e0\u4e3a\u4e8b\u52a1 B \u8fd8\u672a\u63d0\u4ea4\u3002 \u5f53\u4e8b\u52a1 B \u63d0\u4ea4\u4ee5\u540e\uff0c\u4e8b\u52a1 A \u5728\u67e5\u8be2\u4f59\u989d v2 \u65f6\u8bfb\u5230 200w\uff0cv3 \u4e5f\u662f 200w\u3002</p> \u4e8b\u52a1 A \u4e8b\u52a1 B \u542f\u52a8\u4e8b\u52a1 A \u542f\u52a8\u4e8b\u52a1 B \u67e5\u8be2\u4f59\u989d v0 100w \u67e5\u8be2\u5f97\u5230\u4f59\u989d 100w \u4fee\u6539\u4f59\u989d\u4e3a 200w \u67e5\u8be2\u4f59\u989d v1 100w  \u63d0\u4ea4\u4e8b\u52a1 B  \u67e5\u8be2\u4f59\u989d v2 100w  \u63d0\u4ea4\u4e8b\u52a1 A  \u67e5\u8be2\u4f59\u989d v3 200w <p>\u5728\u300c\u53ef\u91cd\u590d\u8bfb\u300d\u9694\u79bb\u7ea7\u522b\u4e0b\uff0c\u4e8b\u52a1 B \u4fee\u6539\u4e86\u4f59\u989d\uff0c\u4e8b\u52a1 A \u5728\u67e5\u8be2\u4f59\u989d v1 \u65f6\u8bfb\u5230 100w\uff0cv2 \u4e5f\u662f 100w\uff0c\u56e0\u4e3a\u6b64\u65f6\u4e8b\u52a1 A \u8fd8\u6ca1\u6709\u63d0\u4ea4\uff0c\u5b83\u7684\u5feb\u7167\u662f 100w\u3002 \u5f53\u4e8b\u52a1 A \u63d0\u4ea4\u4ee5\u540e\uff0c\u4e8b\u52a1 A \u5728\u67e5\u8be2\u4f59\u989d v3 \u65f6\u8bfb\u5230\u5c31\u662f 200w\u3002</p> \u4e8b\u52a1 A \u4e8b\u52a1 B \u542f\u52a8\u4e8b\u52a1 A \u542f\u52a8\u4e8b\u52a1 B \u67e5\u8be2\u4f59\u989d v0 100w \u67e5\u8be2\u5f97\u5230\u4f59\u989d 100w \u4fee\u6539\u4f59\u989d\u4e3a 200w \u67e5\u8be2\u4f59\u989d v1 100w  \u63d0\u4ea4\u4e8b\u52a1 B  \u67e5\u8be2\u4f59\u989d v2 100w  \u63d0\u4ea4\u4e8b\u52a1 A  \u67e5\u8be2\u4f59\u989d v3 100w <p>\u5728\u300c\u4e32\u884c\u5316\u300d\u9694\u79bb\u7ea7\u522b\u4e0b\uff0c\u4e8b\u52a1 B \u4fee\u6539\u4f59\u989d\u65f6\u4f1a\u88ab\u963b\u585e\uff0c\u56e0\u4e3a\u4e8b\u52a1 A \u5728\u4e00\u5f00\u59cb\u67e5\u8be2v0\u65f6\u5c31\u5bf9\u4f59\u989d\u52a0\u4e86\u9501\uff0c\u76f4\u5230\u4e8b\u52a1 A \u63d0\u4ea4\u540e\uff0c\u4e8b\u52a1 B \u624d\u80fd\u7ee7\u7eed\u6267\u884c\u3002 \u6240\u4ee5\u4e8b\u52a1 A \u5728\u67e5\u8be2\u4f59\u989d v1\u3001v2\u3001v3 \u65f6\u90fd\u662f 100w\u3002</p>"},{"location":"MySQL/5-%E4%BA%8B%E5%8A%A1/#_5","title":"\u56db\u79cd\u9694\u79bb\u7ea7\u522b\u7684\u5b9e\u73b0","text":"<ul> <li>\u5bf9\u4e8e\u300c\u8bfb\u672a\u63d0\u4ea4\u300d\u7ea7\u522b\u6765\u8bf4\uff0c\u56e0\u4e3a\u53ef\u4ee5\u8bfb\u5230\u672a\u63d0\u4ea4\u7684\u6570\u636e\uff0c\u6240\u4ee5\u76f4\u63a5\u8bfb\u6700\u65b0\u6570\u636e\u5c31\u884c\u3002</li> <li>\u5bf9\u4e8e\u300c\u4e32\u884c\u5316\u300d\u7ea7\u522b\u6765\u8bf4\uff0c\u901a\u8fc7\u52a0\u8bfb\u5199\u9501\u7684\u65b9\u5f0f\u76f4\u63a5\u907f\u514d\u5e76\u884c\u8bbf\u95ee\u3002</li> <li>\u5bf9\u4e8e\u300c\u8bfb\u5df2\u63d0\u4ea4\u300d\u548c\u300c\u53ef\u91cd\u590d\u8bfb\u300d\u7ea7\u522b\u6765\u8bf4\uff0c\u9700\u8981\u901a\u8fc7 ReadView \u6765\u5b9e\u73b0\u3002ReadView \u5c31\u662f\u5bf9\u6570\u636e\u6253\u4e86\u4e00\u4e2a\u5feb\u7167\u3002 \u300c\u8bfb\u5df2\u63d0\u4ea4\u300d\u7ea7\u522b\u662f\u5728\u300c\u6bcf\u4e2a\u8bed\u53e5\u6267\u884c\u524d\u300d\u90fd\u91cd\u65b0\u751f\u6210\u4e00\u4e2a ReadView, \u800c\u300c\u53ef\u91cd\u590d\u8bfb\u300d\u7ea7\u522b\u662f\u5728\u300c\u4e8b\u52a1\u542f\u52a8\u65f6\u300d\u751f\u6210\u4e00\u4e2a ReadView\uff0c\u7136\u540e\u6574\u4e2a\u4e8b\u52a1\u671f\u95f4\u90fd\u7528\u8fd9\u4e2a ReadView \u8bfb\u53d6\u5230\u7684\u6570\u636e\u3002</li> </ul> <p>\u6ce8\u610f\uff0c\u5f00\u59cb\u6267\u884c\u4e8b\u52a1\uff0c\u5e76\u4e0d\u610f\u5473\u7740\u542f\u52a8\u4e86\u4e8b\u52a1\u3002MySQL \u6709\u4e24\u79cd\u5f00\u542f\u4e8b\u52a1\u7684\u65b9\u5f0f\uff1a</p> <ol> <li><code>begin</code> \u6216 <code>start transaction</code> \u547d\u4ee4\uff0c\u8fd9\u79cd\u65b9\u5f0f\u53ea\u6709\u5728\u6267\u884c\u5230\u7b2c\u4e00\u6761\u67e5\u8be2\u8bed\u53e5\u65f6\u624d\u4f1a\u542f\u52a8\u4e8b\u52a1\uff0c\u8fd9\u65f6\u5019\u624d\u4f1a\u751f\u6210 ReadView\u3002</li> <li><code>start transaction with consistent snapshot</code> \u547d\u4ee4\uff0c\u8fd9\u79cd\u65b9\u5f0f\u5728\u6267\u884c\u5230\u8fd9\u6761\u547d\u4ee4\u65f6\u5c31\u4f1a\u542f\u52a8\u4e8b\u52a1\uff0c\u751f\u6210 ReadView\u3002</li> </ol>"},{"location":"MySQL/5-%E4%BA%8B%E5%8A%A1/#readviewmvcc","title":"ReadView\u3001\u7248\u672c\u94fe\u3001MVCC","text":""},{"location":"MySQL/5-%E4%BA%8B%E5%8A%A1/#readview","title":"ReadView","text":"<p>ReadView \u662f InnoDB \u7528\u6765\u5b9e\u73b0 MVCC \u7684\u91cd\u8981\u6570\u636e\u7ed3\u6784\uff0c\u7528\u4e8e\u5728\u4e0d\u540c\u7684\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u4e0b\uff0c\u63d0\u4f9b\u4e0d\u540c\u7684\u8bfb\u53d6\u6570\u636e\u7684\u65b9\u5f0f\u3002</p> <p></p> <p>ReadView \u4e2d\u6709 4 \u4e2a\u91cd\u8981\u5b57\u6bb5\uff1a</p> <ul> <li>m_ids: \u6307\u5728\u521b\u5efa ReadView \u65f6\uff0c\u5f53\u524d\u548c\u6570\u636e\u5e93\u4e2d \u300c\u6d3b\u8dc3\u4e8b\u52a1\u300d\u7684\u4e8b\u52a1 ID \u5217\u8868\u3002\u201c\u6d3b\u8dc3\u4e8b\u52a1\u201d\u6307\u7684\u5c31\u662f\u542f\u52a8\u4e86\u4f46\u8fd8\u6ca1\u63d0\u4ea4\u7684\u4e8b\u52a1\u3002</li> <li>min_trx_id: \u6307\u5728\u521b\u5efa ReadView \u65f6\uff0c\u5f53\u524d\u548c\u6570\u636e\u5e93\u4e2d \u300c\u6d3b\u8dc3\u4e8b\u52a1\u300d\u7684\u6700\u5c0f\u4e8b\u52a1 ID\uff0c\u4e5f\u5c31\u662f m_ids \u4e2d\u7684\u6700\u5c0f\u503c\u3002</li> <li>max_trx_id: \u6307\u5728\u521b\u5efa ReadView \u65f6\u95f4\u70b9\u7684\u6700\u5927\u4e8b\u52a1 ID\uff0c\u4f46\u662f\u8fd9\u4e2a\u503c\u5e76\u4e0d\u662f m_ids \u4e2d\u7684\u6700\u5927\u503c\uff0c\u800c\u662f m_ids \u4e2d\u7684\u6700\u5927\u503c + 1\u3002</li> <li>creator_trx_id: \u6307 \u521b\u5efa\u8be5 ReadView \u7684\u4e8b\u52a1 ID\u3002</li> </ul> <p></p> <p>\u6709\u4e86 \u300cReadView\u300d \u4ee5\u540e\u53ea\u662f\u6709\u4e86\u4e00\u4e2a\u89c6\u56fe\uff0c\u8fd8\u9700\u8981\u642d\u914d \u300c\u7248\u672c\u94fe\u300d\uff0c\u6839\u636e \u300c\u9694\u79bb\u7ea7\u522b\u300d \u6765\u5b9e\u73b0 MVCC\u3002</p>"},{"location":"MySQL/5-%E4%BA%8B%E5%8A%A1/#_6","title":"\u7248\u672c\u94fe","text":"<p>\u5728 \u5b58\u50a8\u7ed3\u6784 \u4e2d\u63d0\u5230\uff0c\u6570\u636e\u8868\u4e2d\u7684\u6bcf\u4e00\u884c\u4e3a\u5355\u4f4d\uff0c\u884c\u4e2d\u9664\u4e86\u771f\u5b9e\u6570\u636e\u3001\u53d8\u957f\u5b57\u6bb5\u957f\u5ea6\u5217\u8868\u3001NULL bitmap\u3001\u5934\u4fe1\u606f\u5916\uff0c\u8fd8\u6709\u4e24\u4e2a\u9690\u85cf\u5b57\u6bb5\uff1atrx_id \u548c roll_pointer\u3002</p> <p></p> <p>trx_id \u8868\u660e\u7684\u662f\u8fd9\u4e00\u884c\u6570\u636e\u662f\u88ab\u54ea\u4e2a\u4e8b\u52a1\u4fee\u6539\u7684\uff0c\u8fd9\u662f\u4e00\u4e2a\u586b\u5199\u4e86\u4ee5\u540e\u5c31\u4e0d\u53d8\u7684\u503c\u3002\u5982\u679c\u4fee\u6539\u6570\u636e\uff0c\u4f1a\u518d\u590d\u5236\u4e00\u884c\uff0c\u7136\u540e\u586b\u4e0a\u65b0\u7684\u4e8b\u52a1 ID\uff0c\u5e76\u5c06 roll_pointer \u6307\u5411\u8fd9\u6761\u65e7\u7684\u884c\u3002 \u7531\u6b64\uff0c\u7248\u672c\u94fe\u5c31\u5f62\u6210\u4e86\u3002</p> <p></p>  \u8fd9\u5c31\u662f\u4e00\u4e2a\u7248\u672c\u94fe\u7684\u5c40\u90e8\u89c6\u56fe\uff0c\u53ef\u4ee5\u770b\u5230 ID \u4e3a3\u7684\u884c\uff0c\u6700\u5f00\u59cb\u662f\u7531 trx_id \u4e3a 36 \u7684\u4e8b\u52a1\u586b\u5199\u7684\uff0c\u540e\u6765\u53c8\u88ab 37 \u4fee\u6539\uff0c\u518d\u540e\u6765\u53c8\u88ab 40 \u4fee\u6539 <p></p> <p>\u6240\u4ee5 trx_id \u53ef\u4ee5\u770b\u505a\u662f\u8bb0\u5f55\u7684\u7248\u672c\u53f7\u3002</p>"},{"location":"MySQL/5-%E4%BA%8B%E5%8A%A1/#mvcc-multi-version-concurrency-control","title":"MVCC (Multi-Version Concurrency Control)","text":"<p>\u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 ReadView \u548c\u7248\u672c\u94fe\u8fde\u5b9e\u73b0 MVCC \u4e86\u3002</p> <p>\u4e00\u4e2a\u4e8b\u52a1\u53bb\u8bbf\u95ee\u8bb0\u5f55\u7684\u65f6\u5019\uff0c\u9664\u4e86\u81ea\u5df1\u66f4\u65b0\u7684\u8bb0\u5f55\u603b\u662f\u53ef\u89c1\u4e4b\u5916\uff0c\u8fd8\u6709\u4e00\u4e0b\u51e0\u79cd\u60c5\u51b5\uff1a</p> <ol> <li>\u8bb0\u5f55\u7684 trx_id &lt; min_trx_id\uff0c\u610f\u5473\u7740\u5f53\u524d\u8bfb\u5230\u8bb0\u5f55\u662f ReadView \u521b\u5efa\u524d\u63d0\u4ea4\u7684\u4e8b\u52a1\u5199\u7684\uff0c\u53ef\u4ee5\u653e\u5fc3\u8bfb\uff0c\u4e5f\u5c31\u662f\u8be5\u7248\u672c\u7684\u8bb0\u5f55\u5bf9\u5f53\u524d\u4e8b\u52a1 \u53ef\u89c1\u3002</li> <li>\u8bb0\u5f55\u7684 trx_id = creator_trx_id\uff0c\u610f\u5473\u7740\u5f53\u524d\u8bfb\u5230\u8bb0\u5f55\u662f\u5f53\u524d\u4e8b\u52a1\u5199\u7684\uff0c\u4e5f\u53ef\u4ee5\u653e\u5fc3\u8bfb\uff0c\u4e5f\u5c31\u662f\u8be5\u7248\u672c\u7684\u8bb0\u5f55\u5bf9\u5f53\u524d\u4e8b\u52a1 \u53ef\u89c1\u3002</li> <li>\u8bb0\u5f55\u7684 trx_id &gt; max_trx_id\uff0c\u610f\u5473\u7740\u5f53\u524d\u8bfb\u5230\u8bb0\u5f55\u662f\u5728 ReadView \u521b\u5efa\u540e\u5176\u4ed6\u4e8b\u52a1\u5199\u7684\uff0c\u90a3\u4e48\u8fd9\u6761\u8bb0\u5f55\u5bf9\u5f53\u524d\u4e8b\u52a1 \u4e0d\u53ef\u89c1\uff0c\u90a3\u4e48\u62ff\u7740 roll_pointer \u627e\u5230\u4e0a\u4e00\u7248\u672c\u7684\u8bb0\u5f55\uff0c\u7ee7\u7eed\u7b2c\u4e00\u6b65\u3002</li> <li>\u8bb0\u5f55\u7684 trx_id \u5728 min_trx_id \u5230 max_trx_id \u4e4b\u95f4\uff0c\u9700\u8981\u67e5\u770b trx_id \u662f\u5426\u5728 m_ids \u4e2d\uff1a<ul> <li>\u5982\u679c \u5b58\u5728\uff0c\u8bf4\u660e\u5199\u8fd9\u6761\u8bb0\u5f55\u7684\u4e8b\u52a1\u8fd8\u672a\u63d0\u4ea4\uff0c\u90a3\u4e48\uff1a<ul> <li>\u5982\u679c\u662f\u300c\u8bfb\u672a\u63d0\u4ea4\u300d\u9694\u79bb\u7ea7\u522b\uff0c\u90a3\u4e48\u53ef\u4ee5\u8bfb\uff0c\u8be5\u7248\u672c\u7684\u8bb0\u5f55\u5bf9\u5f53\u524d\u4e8b\u52a1 \u53ef\u89c1\uff1b</li> <li>\u5982\u679c\u662f\u300c\u8bfb\u672a\u63d0\u4ea4\u300d\u3001\u300c\u53ef\u91cd\u590d\u8bfb\u300d\u3001\u300c\u4e32\u884c\u5316\u300d\uff0c\u5219\u8be5\u7248\u672c\u7684\u8bb0\u5f55\u5bf9\u5f53\u524d\u4e8b\u52a1 \u4e0d\u53ef\u89c1\uff0c\u90a3\u4e48\u62ff\u7740 roll_pointer \u627e\u5230\u4e0a\u4e00\u7248\u672c\u7684\u8bb0\u5f55\uff0c\u7ee7\u7eed\u7b2c\u4e00\u6b65\u3002</li> </ul> </li> <li>\u5982\u679c \u4e0d\u5b58\u5728\uff0c\u8bf4\u660e\u5199\u8fd9\u6761\u8bb0\u5f55\u7684\u4e8b\u52a1\u5df2\u7ecf\u63d0\u4ea4\uff0c\u90a3\u4e48\u8fd9\u6761\u8bb0\u5f55\u5bf9\u5f53\u524d\u4e8b\u52a1 \u53ef\u89c1\u3002</li> </ul> </li> </ol> <p>\u901a\u8fc7 \u300cReadView\u300d \u914d\u5408 \u300c\u7248\u672c\u94fe\u300d \u4ee5\u53ca \u300c\u9694\u79bb\u7ea7\u522b\u300d\uff0c\u6765\u63a7\u5236\u591a\u4e2a\u4e8b\u52a1\u5e76\u53d1\u8bbf\u95ee\u540c\u4e00\u4e2a\u8bb0\u5f55\u65f6\u5982\u4f55\u8bfb\u5199\uff0c\u8fd9\u5c31\u662f  \u300cMVCC\u300d\u3002</p> \u4f2a\u4ee3\u7801<pre><code>class ReadView:\n\n    def mvcc(self, roll_pointer):\n        if trx_id &lt; min_trx_id:\n            return readData()\n        if trx_id == creator_trx_id:\n            return readData()\n        if trx_id &gt; max_trx_id:\n            return self.mvcc(roll_pointer)\n        if min_trx_id &gt; trx_id &gt; max_trx_id:\n            if trx_id not in m_ids:\n                return readData()\n            if isolation_level == READ_UNCOMMITTED:\n                return readData()\n            return self.mvcc(roll_pointer)\n</code></pre> <p>\u5177\u4f53\u4f8b\u5b50\u63a8\u8350 Read View \u5728 MVCC \u91cc\u5982\u4f55\u5de5\u4f5c\u7684\uff1f</p>"},{"location":"MySQL/6-%E9%94%81/","title":"6-\u9501","text":""},{"location":"MySQL/6-%E9%94%81/#_1","title":"\u9501","text":"<p>Quote</p> <p>\u53c2\u8003\u81ea \u5c0f\u6797 Coding MySQL \u6709\u54ea\u4e9b\u9501\uff1f</p>"},{"location":"MySQL/6-%E9%94%81/#_2","title":"\u5168\u5c40\u9501","text":"\u4e0a\u9501<pre><code>-- \u624b\u52a8\u52a0\u5168\u5c40\u9501\nFLUSH TABLES WITH READ LOCK;\n</code></pre> \u6267\u884c\u4ee5\u540e\u6574\u4e2a\u6570\u636e\u5e93\u5c31\u5904\u4e8e\u53ea\u8bfb\u72b6\u6001\u4e86\uff0c\u5176\u4ed6\u7ebf\u7a0b\u6267\u884c\u7684 insert, update, delete, alter table, drop table \u7b49\u8bed\u53e5\u90fd\u4f1a\u88ab\u963b\u585e\uff0c\u76f4\u5230\u6267\u884c UNLOCK TABLES \u91ca\u653e\u9501\u3002 \u91ca\u653e\u9501<pre><code>-- \u91ca\u653e\u5168\u5c40\u9501\nUNLOCK TABLES;\n</code></pre> <p>\u5982\u679c\u4f1a\u8bdd\u65ad\u5f00\u4e86\uff0c\u5168\u5c40\u9501\u4e5f\u4f1a\u81ea\u52a8\u88ab\u91ca\u653e\u3002</p> <p>\u5168\u5c40\u9501\u4e3b\u8981\u7528\u4e8e \u5168\u5e93\u903b\u8f91\u5907\u4efd\uff0c\u52a0\u5168\u5c40\u9501\u4e0d\u81f3\u4e8e\u56e0\u4e3a\u5728\u5907\u4efd\u671f\u95f4\u6570\u636e\u6216\u8868\u7ed3\u6784\u66f4\u65b0\u5bfc\u81f4\u5907\u4efd\u4e0d\u4e00\u81f4\u3002 \u4f46\u662f\u5168\u5c40\u9501\u4f1a\u5bfc\u81f4\u6574\u4e2a\u5e93\u7684\u8bfb\u5199\u90fd\u88ab\u963b\u585e\uff0c\u751f\u4ea7\u4e1a\u52a1\u7b49\u4e8e\u505c\u6ede\u3002</p> <p>\u901a\u5e38\u66f4\u5408\u9002\u7684\u505a\u6cd5\u662f\u5f00\u542f\u4e8b\u52a1\uff0c\u5728\u300c\u53ef\u91cd\u590d\u8bfb\u300d\u7684\u9694\u79bb\u7ea7\u522b\u4e0b\uff0c\u5f00\u542f\u4e8b\u52a1\u4f1a\u5728\u5907\u4efd\u671f\u95f4\u751f\u6210\u4e00\u4e2a ReadView\uff0c\u52a0\u4e0a MVCC \u673a\u5236\uff0c\u53ef\u4ee5\u4fdd\u8bc1\u5907\u4efd\u7684\u6570\u636e\u662f\u4e00\u81f4\u7684\uff0c\u540c\u65f6\u751f\u4ea7\u4e1a\u52a1\u53ef\u4ee5\u751f\u4ea7\u589e\u5220\u6539\u3002</p> <p>MySQL \u9ed8\u8ba4\u5f15\u64ce InnoDB \u652f\u6301\u4e8b\u52a1\uff0c\u9ed8\u8ba4\u9694\u79bb\u7ea7\u522b\u4e3a\u300c\u53ef\u91cd\u590d\u8bfb\u300d\uff0c\u800c MyISAM \u4e0d\u652f\u6301\u4e8b\u52a1\uff0c\u6240\u4ee5\u5728\u5907\u4efd MyISAM \u8868\u65f6\uff0c\u9700\u8981\u52a0\u5168\u5c40\u9501\u3002</p>"},{"location":"MySQL/6-%E9%94%81/#_3","title":"\u8868\u7ea7\u9501","text":""},{"location":"MySQL/6-%E9%94%81/#_4","title":"\u8868\u9501","text":"\u4e0a\u9501<pre><code>-- \u624b\u52a8\u52a0\u8868\u9501\nLOCK TABLES table_name [READ | WRITE];\n</code></pre> \u91ca\u653e\u9501<pre><code>-- \u91ca\u653e\u8868\u9501\nUNLOCK TABLES;\n</code></pre>"},{"location":"MySQL/6-%E9%94%81/#_5","title":"\u5143\u6570\u636e\u9501","text":""},{"location":"MySQL/6-%E9%94%81/#_6","title":"\u610f\u5411\u9501","text":"\u4e0a\u9501<pre><code>-- \u624b\u52a8\u52a0\u610f\u5411\u5171\u4eab\u9501\uff08\u8bfb\u9501\uff09\nSELECT ... LOCK IN SHARE MODE;\n\n-- \u624b\u52a8\u52a0\u610f\u5411\u6392\u4ed6\u9501\uff08\u5199\u9501\uff09\nSELECT ... FOR UPDATE;\n</code></pre>"},{"location":"MySQL/6-%E9%94%81/#auto-inc","title":"AUTO-INC \u9501","text":""},{"location":"MySQL/6-%E9%94%81/#_7","title":"\u884c\u7ea7\u9501","text":""},{"location":"MySQL/7-%E6%97%A5%E5%BF%97/","title":"7-\u65e5\u5fd7","text":""},{"location":"MySQL/%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84/","title":"\u5b58\u50a8\u7ed3\u6784","text":""},{"location":"MySQL/%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84/#_1","title":"\u5b58\u50a8\u7ed3\u6784","text":"<p>Quote</p> <p>\u53c2\u8003\u81ea \u5c0f\u6797 Coding MySQL \u4e00\u884c\u8bb0\u5f55\u662f\u600e\u4e48\u5b58\u50a8\u7684\uff1f</p> <p>\u5b58\u50a8\u7684\u884c\u4e3a\u662f\u7531\u5b58\u50a8\u5f15\u64ce\u5b9e\u73b0\u7684\uff0c\u4e0d\u540c\u7684\u5b58\u50a8\u5f15\u64ce\u5b9e\u73b0\u4e0d\u540c\uff0c\u8fd9\u91cc\u53ea\u8bb2 InnoDB\u3002</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c MySQL \u7684\u6570\u636e\u5e93\u6587\u4ef6\u5b58\u653e\u5728 <code>/var/lib/mysql</code> \u76ee\u5f55\u4e0b\uff0c\u6bcf\u4e2a\u6570\u636e\u5e93\u5bf9\u5e94\u4e00\u4e2a\u76ee\u5f55\uff0c\u76ee\u5f55\u540d\u79f0\u5c31\u662f\u6570\u636e\u5e93\u540d\u79f0\u3002</p> <p>\u76ee\u5f55\u4e0b\u5b58\u653e\u7740\u6570\u636e\u5e93\u7684\u8868\u6587\u4ef6\uff0c\u8868\u6587\u4ef6\u7684\u540e\u7f00\u540d\u662f <code>.frm</code>\uff0c\u5b58\u653e\u8868\u7684\u7ed3\u6784\u4fe1\u606f\u3002\u8868\u7684\u6570\u636e\u5b58\u653e\u5728 <code>.ibd</code> \u6587\u4ef6\u4e2d\u3002</p> Example <pre><code>$ tree /var/lib/mysql/user_center\nuser_center\n \u00a0\u00a0 \u251c\u2500\u2500 db.opt\n \u00a0\u00a0 \u251c\u2500\u2500 userinfo.frm\n \u00a0\u00a0 \u2514\u2500\u2500 userinfo.ibd\n</code></pre> <p>\u4ee5\u4e0a\u662f <code>user_center</code> \u6570\u636e\u5e93\u4e0b\u7684 <code>userinfo</code> \u8868\uff1a</p> <ul> <li><code>db.opt</code> \u5b58\u653e\u6570\u636e\u5e93\u7684\u4e00\u4e9b\u914d\u7f6e\u4fe1\u606f\uff0c\u4f8b\u5982\u6570\u636e\u5e93\u7684\u9ed8\u8ba4\u5b57\u7b26\u96c6\u548c\u5b57\u7b26\u6821\u9a8c\u89c4\u5219\u7b49\u7b49\u3002</li> <li><code>userinfo.frm</code> \u5b58\u653e\u8868\u7684\u7ed3\u6784\u4fe1\u606f\uff0cMySQL \u4e2d\u6bcf\u5efa\u7acb\u4e00\u5f20\u8868\u90fd\u4f1a\u751f\u6210\u4e00\u4e2a <code>.frm</code> \u6587\u4ef6\uff0c\u4e3b\u8981\u5305\u542b\u8868\u7ed3\u6784\u5b9a\u4e49\u7b49\u4fe1\u606f\u3002</li> <li><code>userinfo.ibd</code> \u5b58\u653e\u8868\u7684\u6570\u3002\u8868\u6570\u636e\u65e2\u53ef\u4ee5\u5b58\u653e\u5728\u5171\u4eab\u8868\u7a7a\u95f4\uff08\u6587\u4ef6\u540d: ibdata1\uff09\u4e2d\uff0c\u4e5f\u53ef\u4ee5\u5b58\u653e\u5728\u72ec\u7acb\u7684\u8868\u7a7a\u95f4\u4e2d\uff08\u6587\u4ef6\u540d: \u8868\u540d.ibd\uff09\uff0c     \u8fd9\u4e2a\u7531 <code>innodb_file_per_table</code> \u53c2\u6570\u51b3\u5b9a\uff0c1 \u5219\u4f7f\u7528\u72ec\u5360\u8868\u7a7a\u95f4\uff0c0 \u5219\u4f7f\u7528\u5171\u4eab\u8868\u7a7a\u95f4\u3002\u4ece MySQL 5.6.6 \u5f00\u59cb\uff0c<code>innodb_file_per_table</code> \u9ed8\u8ba4\u4e3a 1\u3002</li> </ul> <p>\u9664\u4e86\u8fd9\u4e9b\u6587\u4ef6\uff0c\u8fd8\u6709\u4e00\u4e9b\u5176\u4ed6\u6587\u4ef6\uff0c\u4f8b\u5982 <code>ibdata1</code>\u3001<code>ib_logfile0</code>\u3001<code>ib_logfile1</code>\u3001<code>ib_logfile2</code> \u7b49\u7b49\uff0c\u8fd9\u4e9b\u6587\u4ef6\u662f InnoDB \u5b58\u50a8\u5f15\u64ce\u7684\u6587\u4ef6\uff0c\u7528\u6765\u5b58\u653e InnoDB \u5b58\u50a8\u5f15\u64ce\u7684\u6570\u636e\u548c\u65e5\u5fd7\u4fe1\u606f\u3002</p>"},{"location":"MySQL/%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84/#_2","title":"\u8868\u7a7a\u95f4\u6587\u4ef6\u7ed3\u6784","text":"<p>\u4e00\u5171\u6709\u8fd9\u4e9b\u5355\u4f4d\uff1a\u8868\u7a7a\u95f4\uff08tablespace\uff09\u3001\u6bb5\uff08Segment\uff09\u3001\u533a\uff08Extent\uff09\u3001\u9875\uff08Page\uff09\u3001\u884c\uff08Row\uff09\u3002</p> <p>\u8868\u7a7a\u95f4\uff08tablespace\uff09\u7531\u6bb5\uff08Segment\uff09\u6784\u6210\uff0c\u6bb5\u7531\u533a\uff08Extent\uff09\u6784\u6210\uff0c\u533a\u7531\u9875\uff08Page\uff09\u6784\u6210\uff0c\u9875\u7531\u884c\uff08Row\uff09\u6784\u6210\uff0c\u9875\u662f\u5b58\u50a8\u7684\u6700\u5c0f\u5355\u4f4d\u3002</p> <p></p> <p></p>"},{"location":"MySQL/%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84/#row","title":"\u884c row","text":"<p>\u6570\u636e\u5e93\u8868\u4e2d\u7684\u8bb0\u5f55\u90fd\u662f\u6309\u884c\u5b58\u653e\u7684\uff0c\u6bcf\u884c\u8bb0\u5f55\u6839\u636e\u4e0d\u540c\u7684\u884c\u683c\u5f0f\u6709\u4e0d\u540c\u7684\u5b58\u50a8\u7ed3\u6784\u3002</p>"},{"location":"MySQL/%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84/#page","title":"\u9875 page","text":"<p>\u8bb0\u5f55\u662f\u6309\u7167\u884c\u5b58\u50a8\u7684\uff0c\u4f46\u662f\u6570\u636e\u5e93\u4e0d\u4f1a\u4ee5\u300c\u884c\u300d\u4e3a\u5355\u4f4d\uff0c\u5426\u5219\u4e00\u6b21\u8bfb\u53d6\uff08\u4e00\u6b21 I/O\uff09\u53ea\u80fd\u5904\u7406\u4e00\u884c\u7684\u6570\u636e\uff0c\u6548\u7387\u5f88\u4f4e\u3002</p> <p>\u6240\u4ee5 InnoDB \u7684\u6570\u636e\u662f\u6309\u7167\u300c\u9875\u300d\u4e3a\u5355\u4f4d\u6765\u8bfb\u53d6\u7684\uff0c\u5373\u5f53\u6211\u4eec\u8981\u8bfb\u4e00\u6761\u8bb0\u5f55\u7684\u65f6\u5019\uff0c\u8fd9\u4e00\u9875\u7684\u6570\u636e\u90fd\u5c06\u88ab\u8bfb\u5230\u5185\u5b58\u4e2d\uff0c\u9ed8\u8ba4\u6bcf\u4e2a\u9875\u7684\u5927\u5c0f\u4e3a 16KB\u3002</p> <p>\u9875\u662f InnoDB \u78c1\u76d8\u7ba1\u7406\u7684\u6700\u5c0f\u5355\u5143\uff0c\u6240\u4ee5\u6bcf\u6b21\u8bfb\u5199\u90fd\u662f\u4ee5 16KB \u4e3a\u5355\u4f4d\uff0c\u4e00\u6b21\u6700\u5c11\u8bfb 16KB \u7684\u5185\u5bb9\u5230\u5185\u5b58\uff0c\u4e00\u6b21\u6700\u5c11\u628a\u5185\u5b58\u4e2d\u7684 16KB \u5185\u5bb9\u5237\u65b0\u5230\u78c1\u76d8\u3002</p> <p>\u9875\u7684\u7c7b\u578b\u6709\u5f88\u591a\uff0c\u5e38\u89c1\u7684\u6709 \u6570\u636e\u9875\u3001UNDO \u65e5\u5fd7\u9875\u3001\u6ea2\u51fa\u9875 \u7b49\u3002\u8868\u4e2d\u7684\u884c\u8bb0\u5f55\u662f\u5b58\u50a8\u5728\u300c\u6570\u636e\u9875\u300d\u7684\u3002</p> Tip <ul> <li>\u6570\u636e\u9875\uff08Data Page\uff09: \u5b58\u50a8\u8868\u4e2d\u7684\u884c\u8bb0\u5f55\u3002</li> <li>UNDO\u65e5\u5fd7\u9875\uff08Undo Log Page\uff09: \u8bb0\u5f55\u4e8b\u52a1\u6267\u884c\u524d\u7684\u6570\u636e\uff0c\u7528\u4e8e\u4e8b\u52a1\u56de\u6eda\u3002</li> <li>\u6ea2\u51fa\u9875\uff08Overflow Page\uff09: \u7528\u4e8e\u5b58\u50a8\u5927\u5b57\u6bb5\u6570\u636e\uff0c\u5f53\u4e00\u4e2a\u884c\u7684\u6570\u636e\u5927\u5c0f\u8d85\u8fc7\u4e00\u4e2a\u9875\u7684\u5927\u5c0f\u65f6\uff0c\u4f1a\u628a\u8d85\u51fa\u7684\u90e8\u5206\u5b58\u50a8\u5230\u6ea2\u51fa\u9875\u4e2d\u3002</li> </ul>"},{"location":"MySQL/%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84/#extent","title":"\u533a extent","text":"<p>InnoDB \u5b58\u50a8\u5f15\u64ce\u662f\u7528 B+\u6811\u6765\u7ec4\u7ec7\u6570\u636e\u7684\u3002B+\u6811\u4e2d\u7684\u6bcf\u4e00\u5c42\u90fd\u662f\u901a\u8fc7\u53cc\u5411\u94fe\u8868\u8fde\u63a5\u8d77\u6765\u7684\u3002</p> <p></p> <p>\u5982\u679c\u4ee5\u9875\u4e3a\u5355\u4f4d\u6765\u5206\u914d\u7a7a\u95f4\uff0c\u90a3\u4e48\u76f8\u90bb\u7684\u4e24\u4e2a\u9875\u4e4b\u95f4\u7684\u7269\u7406\u4f4d\u7f6e\u4e0d\u4e00\u5b9a\u662f\u8fde\u7eed\u7684\uff0c\u4f1a\u5bfc\u81f4\u78c1\u76d8\u67e5\u8be2\u65f6\u6709\u5927\u91cf\u7684\u968f\u673a IO\uff0c\u6548\u7387\u5f88\u4f4e\u3002</p> <p>\u6240\u4ee5 InnoDB \u4f1a\u628a\u8fde\u7eed\u7684\u9875\u7ec4\u7ec7\u6210\u4e00\u4e2a\u533a\uff0c\u8fd9\u6837\u53ef\u4ee5\u51cf\u5c11\u78c1\u76d8\u7684\u968f\u673a IO\uff0c\u63d0\u9ad8\u67e5\u8be2\u6548\u7387\u3002</p> <p>\u5728\u8868\u4e2d\u6570\u636e\u91cf\u5927\u7684\u65f6\u5019\uff0c\u4e3a\u67d0\u4e2a\u7d22\u5f15\u5206\u914d\u7a7a\u95f4\u7684\u65f6\u5019\u5c31\u4e0d\u5728\u6309\u7167\u9875\uff08Page\uff09\u4e3a\u5355\u4f4d\u5206\u914d\u4e86\uff0c\u800c\u662f\u6309\u7167\u533a\uff08Extent\uff09\u4e3a\u5355\u4f4d\u5206\u914d\uff0c\u4e00\u4e2a\u533a\u5305\u542b\u591a\u4e2a\u9875\u3002</p> <p>\u6bcf\u4e2a\u533a\u7684\u5927\u5c0f\u9ed8\u8ba4\u4e3a 1MB\uff0c\u5bf9\u4e8e 16KB \u7684\u9875\uff0c\u4e00\u4e2a\u533a\u5c31\u5305\u542b 64 \u4e2a\u9875\u3002</p>"},{"location":"MySQL/%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84/#segment","title":"\u6bb5 segment","text":"<p>\u6bb5\u662f\u7531\u533a\u7ec4\u6210\u7684\uff0c\u4e00\u4e2a\u6bb5\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u533a\uff0c\u6bb5\u662f InnoDB \u5b58\u50a8\u5f15\u64ce\u7ba1\u7406\u7a7a\u95f4\u7684\u903b\u8f91\u5355\u4f4d\u3002 \u4e00\u822c\u5206\u4e3a \u6570\u636e\u6bb5\u3001\u7d22\u5f15\u6bb5\u3001\u56de\u6eda\u6bb5\u3002</p> Tip <ul> <li>\u6570\u636e\u6bb5\uff08Data Segment\uff09: \u5b58\u653e B + \u6811\u7684\u53f6\u5b50\u8282\u70b9\u7684\u533a\u7684\u96c6\u5408\u3002</li> <li>\u7d22\u5f15\u6bb5\uff08Index Segment\uff09: \u5b58\u653e B + \u6811\u7684\u975e\u53f6\u5b50\u8282\u70b9\u7684\u533a\u7684\u96c6\u5408\u3002</li> <li>\u56de\u6eda\u6bb5\uff08Rollback Segment\uff09: \u5b58\u653e\u7684\u662f\u56de\u6eda\u6570\u636e\u7684\u533a\u7684\u96c6\u5408\uff0c\u7528\u4e8e\u4e8b\u52a1\u56de\u6eda\u3002</li> </ul>"},{"location":"MySQL/%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84/#_3","title":"\u5c0f\u7ed3","text":"<p>Note</p> <p>\u6309\u884c\u5b58\u50a8\u3001\u6309\u9875\u8bfb\u53d6\u3001\u6309\u533a\u5206\u914d\u3001\u6309\u6bb5\u5206\u7c7b\uff0c\u8fd9\u5c31\u662f InnoDB \u5b58\u50a8\u5f15\u64ce\u7684\u5b58\u50a8\u7ed3\u6784\u3002</p>"},{"location":"MySQL/%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84/#innodb","title":"InnoDB \u884c\u683c\u5f0f","text":"<p>\u884c\u683c\u5f0f Row Format\uff0c\u5c31\u662f\u4e00\u6761\u8bb0\u5f55\u7684\u5b58\u50a8\u7ed3\u6784\u3002</p> <p>InnoDB \u63d0\u4f9b\u4e86 4 \u79cd\u884c\u683c\u5f0f\uff0c\u5206\u522b\u662f\uff1a</p> <ul> <li>Redundant\uff1a \u4e0d\u662f\u7d27\u51d1\u7684</li> <li>Compact\uff1a \u7d27\u51d1\u7684</li> <li>Dynamic\uff1a \u52a8\u6001\u7684</li> <li>Compressed\uff1a \u538b\u7f29\u7684</li> </ul> <p>Dynamic \u548c Compressed \u8fd9\u4e24\u4e2a\u548c Compact \u4e00\u6837\uff0c\u90fd\u662f\u7d27\u51d1\u7684\uff0c\u53ea\u662f\u5b58\u50a8\u7684\u65b9\u5f0f\u4e0d\u540c\u3002</p> <p>MySQL 5.7 \u4e4b\u524d\u7684\u7248\u672c\u9ed8\u8ba4\u7684\u884c\u683c\u5f0f\u662f Compact\uff0cMySQL 5.7 \u4e4b\u540e\u9ed8\u8ba4\u7684\u884c\u683c\u5f0f\u662f Dynamic\u3002</p>"},{"location":"MySQL/%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84/#compact","title":"Compact \u884c\u683c\u5f0f","text":"<p>Compact \u884c\u683c\u5f0f\u5206\u4e3a\u524d\u534a\u90e8\u5206\uff1a<code>\u8fd9\u4e00\u884c\u7684\u989d\u5916\u4fe1\u606f</code>\uff0c\u540e\u534a\u90e8\u5206\uff1a<code>\u8fd9\u4e00\u884c\u7684\u5b9e\u9645\u6570\u636e</code>\u3002</p> <p>\u989d\u5916\u4fe1\u606f\u90e8\u5206\u662f\u4e3a\u4e86\u63cf\u8ff0\u8fd9\u6761\u8bb0\u5f55\u800c\u6dfb\u52a0\u7684\u4e00\u4e9b\u4fe1\u606f\uff0c\u5305\u62ec\uff1a</p> <ol> <li>\u53d8\u957f\u5b57\u6bb5\u7684\u957f\u5ea6\u5217\u8868</li> <li>NULL \u503c\u7684\u4f4d\u56fe</li> <li>\u8bb0\u5f55\u5934\u4fe1\u606f</li> </ol>"},{"location":"MySQL/%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84/#_4","title":"\u53d8\u957f\u5b57\u6bb5\u7684\u957f\u5ea6\u5217\u8868","text":"<p>MySQL \u652f\u6301\u4e00\u4e9b\u53d8\u957f\u7684\u7c7b\u578b\uff0c\u5982 varchar(n)\u3001text\u3001blob \u7b49\u3002\u8fd9\u4e9b\u53d8\u957f\u7c7b\u578b\u5360\u7528\u4e24\u90e8\u5206\u5b58\u50a8\u7a7a\u95f4\uff1a\u771f\u6b63\u7684\u6570\u636e\u5185\u5bb9 \u548c \u957f\u5ea6\uff08\u5360\u7528\u7684\u5b57\u8282\u6570\uff09\u3002</p> <p>\u8fd9\u4e2a\u957f\u5ea6\u5c31\u8bb0\u5f55\u5728\u989d\u5916\u4fe1\u606f\u7684\u53d8\u957f\u5b57\u6bb5\u7684\u957f\u5ea6\u5217\u8868\u4e2d\u3002\u6bcf\u4e00\u884c\u7684 varchar \u5b57\u6bb5\u90fd\u53ef\u80fd\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u6240\u4ee5\u6bcf\u4e00\u884c\u7684 varchar \u5b57\u6bb5\u7684\u957f\u5ea6\u90fd\u4e0d\u4e00\u6837\u3002</p> <p>Example</p> <p></p><pre><code>CREATE TABLE t (\n    id          INT(11) PRIMARY KEY,\n    name        VARCHAR(10)  DEFAULT NULL,\n    phone       CHAR(11)     DEFAULT NULL,\n    description VARCHAR(100) DEFAULT NULL\n) \n    ENGINE = InnoDB\n    DEFAULT CHARACTER SET = ascii ROW_FORMAT = COMPACT;\n</code></pre> \u4e0a\u9762\u7684\u8868\u4e2d\uff0c<code>name</code> \u548c <code>description</code> \u5b57\u6bb5\u90fd\u662f varchar \u7c7b\u578b\u7684\uff0c\u6240\u4ee5\u6bcf\u4e00\u884c\u7684\u8fd9\u4e24\u4e2a\u5b57\u6bb5\u7684\u957f\u5ea6\u90fd\u662f\u4e0d\u56fa\u5b9a\u7684\uff0c\u9700\u8981\u989d\u5916\u7684\u7a7a\u95f4\u6765\u5b58\u50a8\u8fd9\u4e24\u4e2a\u5b57\u6bb5\u7684\u957f\u5ea6\u3002 \uff08\u4e3a\u4e86\u65b9\u4fbf\u7406\u89e3\uff0c\u8fd9\u91cc\u7528 ascii \u5b57\u7b26\u96c6\uff09<p></p> <p>\u73b0\u5728\u63d2\u5165\u51e0\u6761\u6570\u636e\uff1a </p><pre><code>INSERT INTO t\n    (id, name, description) \nVALUES \n    (1, 'a', '13800000000', 'xyz'),\n    (2, 'ab', '13900000000', NULL),\n    (3, NULL, '13700000000',NULL);\n</code></pre><p></p> id name phone description 1 a 13800000000 xyz 2 ab 13900000000 NULL 3 NULL 13700000000 NULL <ul> <li> <p>\u7b2c\u4e00\u6761\u8bb0\u5f55:</p> <p>\u5217 <code>name</code> \u7684\u503c\u4e3a a\uff0c\u957f\u5ea6 1 \u5b57\u8282\uff0c\u5341\u516d\u8fdb\u5236\u662f 0x01\uff1b</p> <p>\u5217 <code>description</code> \u7684\u503c\u4e3a xyz\uff0c\u957f\u5ea6 3 \u5b57\u8282\uff0c\u5341\u516d\u8fdb\u5236\u662f 0x03; </p> <p>\u5217 id \u548c phone \u4e3a\u56fa\u5b9a\u957f\u5ea6\uff0c\u8fd9\u91cc\u4e0d\u7528\u7ba1\u3002</p> <p>\u6240\u4ee5\u8fd9\u4e00\u5217\u7684\u957f\u5ea6\u5217\u8868\u4e3a \u300c0x03\uff0c 0x01\u300d\u3002</p> </li> <li> <p>\u7b2c\u4e8c\u6761\u8bb0\u5f55:</p> <p>\u5217 <code>name</code> \u7684\u503c\u4e3a ab\uff0c\u957f\u5ea6 2 \u5b57\u8282\uff0c\u5341\u516d\u8fdb\u5236\u662f 0x02\uff1b</p> <p>\u5217 <code>description</code> \u7684\u503c\u4e3a NULL\uff0cNULL \u662f\u4e0d\u4f1a\u5b58\u653e\u5728\u771f\u5b9e\u6570\u636e\u91cc\u7684\uff0c\u957f\u5ea6\u5217\u8868\u4e2d\u4e0d\u9700\u8981\u4fdd\u5b58\u8fd9\u4e2a\u5b57\u6bb5\u7684\u957f\u5ea6\u3002</p> <p>\u8fd9\u4e00\u5217\u7684\u957f\u5ea6\u5217\u8868\u4e3a \u300c0x02\u300d\u3002</p> </li> <li> <p>\u7b2c\u4e09\u6761\u8bb0\u5f55:</p> <p>\u5217 <code>name</code> \u548c\u5217 <code>description</code> \u7684\u503c\u4e3a NULL\u3002</p> <p>\u8fd9\u4e00\u5217\u7684\u957f\u5ea6\u5217\u8868\u4e3a\u7a7a \u300c\u300d\u3002</p> </li> </ul> <p></p>"},{"location":"MySQL/%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84/#null","title":"NULL \u503c\u7684\u4f4d\u56fe","text":"<p>\u8868\u4e2d\u7684\u5b57\u6bb5\u53ef\u4ee5\u4e3a NULL\uff0c\u800c NULL \u4e0d\u5360\u7528\u5b58\u50a8\u7a7a\u95f4\uff0c\u53ea\u4f1a\u4f7f\u7528\u4e00\u4e2a\u4f4d\u6765\u8868\u793a\u5bf9\u5e94\u7684\u5b57\u6bb5\u662f\u5426\u4e3a NULL\u3002 \u8fd9\u4e2a\u8868\u793a\u7684\u4e1c\u897f\u53eb\u505a NULL\u503c\u4f4d\u56fe\uff08NULL Bitmap\uff09</p> <p>\u5047\u8bbe\u8868\u4e2d\u6709 4 \u4e2a\u5b57\u6bb5\u5141\u8bb8\u4e3a NULL\uff0c\u5176\u4e2d\u7b2c 3 \u4e2a\u5b57\u6bb5\u4e3a NULL\uff0c\u90a3\u4e48 NULL \u503c\u4f4d\u56fe\u5c31\u662f 0100\uff0c\u8868\u793a\u7b2c 3 \u4e2a\u5b57\u6bb5\u4e3a NULL\uff0c\u5176\u4ed6\u5b57\u6bb5\u4e0d\u4e3a NULL\u3002</p> <p>\u6ce8\u610f\u4f4d\u56fe\u8ddf\u5b57\u6bb5\u7684\u987a\u5e8f\u662f\u76f8\u53cd\u7684\uff0c\u7b2c\u4e00\u4e2a\u5b57\u6bb5\u5bf9\u5e94\u7684\u662f\u4f4d\u56fe\u7684\u6700\u540e\u4e00\u4e2a\u4f4d\u3002 \u8fd9\u4e48\u505a\u7684\u539f\u56e0\u662f\u4e3a\u4e86\u65b9\u4fbf\u5904\u7406\uff0c\u56e0\u4e3a\u4f4d\u56fe\u662f\u53d8\u957f\u7684\uff0c\u4e0d\u662f\u56fa\u5b9a\u957f\u5ea6\u7684\u3002</p> <p></p>  \u4e0d\u8db3\u7684\u4f4d\u56fe\u4f1a\u7528 0 \u8865\u9f50\u3002\u5982\u679c\u5141\u8bb8\u4e3a NULL \u7684\u5b57\u6bb5\u4e2a\u6570\u5728 8 \u4e2a\u4ee5\u5185\uff0c\u90a3\u4e48 NULL \u503c\u4f4d\u56fe\u7684\u957f\u5ea6\u662f 1 \u5b57\u8282\uff0c\u5982\u679c\u8d85\u8fc7 8 \u4e2a\uff0c\u90a3\u4e48\u957f\u5ea6\u662f 2 \u5b57\u8282\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002<p></p> <p>\u5177\u4f53\u53ef\u4ee5\u53c2\u8003\u4e0a\u9762\u4f8b\u5b50\u4e2d\u7684\u793a\u610f\u56fe\u3002</p>"},{"location":"MySQL/%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84/#_5","title":"\u8bb0\u5f55\u5934\u4fe1\u606f","text":"<p>\u8bb0\u5f55\u5934\u4fe1\u606f\u5927\u5c0f\u56fa\u5b9a\u4f4d 5 \u5b57\u8282\uff0c\u5171 40 \u4f4d\uff0c\u4e0d\u540c\u4f4d\u7684\u542b\u4e49\u5982\u4e0b\uff1a</p> \u540d\u79f0 \u5927\u5c0f(bit) \u4f4d\u7f6e \u63cf\u8ff0 \u8be6\u7ec6\u63cf\u8ff0 \u9884\u7559\u4f4d 1 1 0-1 \u4fdd\u7559\u4f4d\uff0c\u672a\u4f7f\u7528 \u9884\u7559\u4f4d 2 1 1-2 \u4fdd\u7559\u4f4d\uff0c\u672a\u4f7f\u7528 delete_mask 1 2-3 \u5220\u9664\u6807\u8bb0\uff0c1 \u8868\u793a\u5220\u9664\uff0c0 \u8868\u793a\u672a\u5220\u9664 \u5220\u9664\u65f6\u5e76\u4e0d\u662f\u771f\u7684\u7269\u7406\u5220\u9664\uff0c\u800c\u662f\u5c06\u8fd9\u4e2a\u4f4d\u6807\u8bb0\u4e3a 1 min_rec_mask 1 3-4 \u6700\u5c0f\u8bb0\u5f55\u6807\u8bb0\uff0c1 \u8868\u793a\u6700\u5c0f\u8bb0\u5f55\uff0c0 \u8868\u793a\u4e0d\u662f\u6700\u5c0f\u8bb0\u5f55 \u6807\u8bb0\u8be5\u8bb0\u5f55\u662f\u5426\u4e3aB+\u6811\u7684\u975e\u53f6\u5b50\u8282\u70b9\u4e2d\u7684\u6700\u5c0f\u8bb0\u5f55 n_owned 4 4-8 \u8bb0\u5f55\u7684\u5f15\u7528\u8ba1\u6570 \u8bb0\u5f55\u88ab\u591a\u5c11\u4e2a\u4e8b\u52a1\u5f15\u7528 heap_no 13 8-21 \u8bb0\u5f55\u7684\u5806\u7f16\u53f7 \u8bb0\u5f55\u5728\u9875\u4e2d\u7684\u4f4d\u7f6e record_type 3 21-24 \u8bb0\u5f55\u7684\u7c7b\u578b\uff1a0\u666e\u901a\u8bb0\u5f55\u30011B+\u6811\u975e\u53f6\u8282\u70b9\u8bb0\u5f55\u30012\u6700\u5c0f\u8bb0\u5f55\u30013\u6700\u5927\u8bb0\u5f55 next_record 16 24-40 \u4e0b\u4e00\u6761\u8bb0\u5f55\u7684\u504f\u79fb\u91cf \u4e0b\u4e00\u6761\u8bb0\u5f55\u7684\u504f\u79fb\u91cf\uff0c\u7528\u4e8e\u8bb0\u5f55\u7684\u94fe\u8868"},{"location":"MySQL/%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84/#_6","title":"\u8bb0\u5f55\u7684\u771f\u5b9e\u6570\u636e","text":"<p>\u8bb0\u5f55\u7684\u771f\u5b9e\u6570\u636e\u5c31\u662f\u8868\u4e2d\u7684\u5b57\u6bb5\u7684\u503c\uff0c\u8fd9\u90e8\u5206\u6570\u636e\u662f\u7d27\u51d1\u7684\u5b58\u50a8\u5728\u4e00\u8d77\u7684\u3002</p> <p>\u4e0d\u8fc7\u9664\u4e86\u771f\u5b9e\u6570\u636e\u8fd8\u6709 3 \u4e2a\u9690\u85cf\u5b57\u6bb5\uff1a</p> \u5217\u540d \u5927\u5c0f(byte) \u63cf\u8ff0 row_id 6 \u884c\u7684 ID\uff0c\u5f53\u8868\u6ca1\u6709\u6307\u5b9a\u4e3b\u952e\u4e5f\u6ca1\u6709\u552f\u4e00\u7ea6\u675f\u65f6\uff0cInnoDB \u4f1a\u542f\u7528\u8fd9\u4e2a\u9690\u85cfID trx_id 6 \u4e8b\u52a1 ID\uff0c\u8868\u793a\u8fd9\u4e2a\u6570\u636e\u662f\u7531\u54ea\u4e2a\u4e8b\u52a1\u751f\u6210\u7684 roll_pointer 7 \u56de\u6eda\u6307\u9488\uff0c\u8fd9\u6761\u8bb0\u5f55\u4e0a\u4e00\u4e2a\u7248\u672c\u7684\u6307\u9488 <p>trx_id \u548c roll_pointer \u662f\u7528\u6765\u652f\u6301 MVCC \u7684\uff0cMVCC \u662f InnoDB \u7684\u4e00\u4e2a\u7279\u6027\uff0c\u7528\u6765\u652f\u6301\u4e8b\u52a1\u7684\u5e76\u53d1\u63a7\u5236\u3002</p>"},{"location":"MySQL/%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B/","title":"\u6267\u884c\u8fc7\u7a0b","text":""},{"location":"MySQL/%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B/#sql","title":"SQL \u6267\u884c\u8fc7\u7a0b","text":"<p>Quote</p> <p>\u53c2\u8003\u81ea \u5c0f\u6797 Coding \u6267\u884c\u4e00\u6761 select \u8bed\u53e5\uff0c\u671f\u95f4\u53d1\u751f\u4e86\u4ec0\u4e48\uff1f</p> <p></p> <p>MySQL \u7684\u67b6\u6784\u5206\u4e3a\uff1aServer\u5c42 \u548c \u5b58\u50a8\u5f15\u64ce\u5c42</p> <ul> <li> <p>Server \u5c42\uff1a\u8d1f\u8d23\u5efa\u7acb\u94fe\u63a5\u3001\u5206\u6790\u3001\u6267\u884c SQL\u3002 \u5927\u90e8\u5206\u6838\u5fc3\u529f\u80fd\u6a21\u5757\u90fd\u5728 Server \u5c42\uff0c\u4e3b\u8981\u5305\u62ec\u8fde\u63a5\u5668\u3001\u67e5\u8be2\u7f13\u5b58\u3001\u89e3\u6790\u5668\u3001\u9884\u5904\u7406\u5668\u3001\u4f18\u5316\u5668\u3001\u6267\u884c\u5668\u7b49\u3002</p> <p>\u53e6\u5916\u6240\u6709\u5185\u7f6e\u51fd\u6570\uff08\u5982\u65e5\u671f\u3001\u65f6\u95f4\u3001\u6570\u5b66\u548c\u52a0\u5bc6\u51fd\u6570\u7b49\uff09\u548c\u6240\u6709\u8de8\u5b58\u50a8\u5f15\u64ce\u7684\u529f\u80fd\uff08\u5982\u5b58\u50a8\u8fc7\u7a0b\u3001\u89e6\u53d1\u5668\u3001\u89c6\u56fe\u7b49\uff09\u90fd\u5728 Server \u5c42\u3002</p> </li> <li> <p>\u5b58\u50a8\u5f15\u64ce\u5c42\uff1a\u8d1f\u8d23\u6570\u636e\u7684\u5b58\u50a8\u548c\u63d0\u53d6\u3002\u652f\u6301 InnoDB\u3001MyISAM\u3001Memory \u7b49\u591a\u4e2a\u5b58\u50a8\u5f15\u64ce\uff0c\u4e0d\u540c\u7684\u5b58\u50a8\u5f15\u64ce\u5171\u7528\u4e00\u4e2a Server \u5c42\u3002 \u5e38\u8bf4\u7684\u7d22\u5f15\u6570\u636e\u7ed3\u6784\uff0c\u5c31\u662f\u5b58\u50a8\u5f15\u64ce\u5c42\u5b9e\u73b0\u7684\uff0c\u4e0d\u540c\u7684\u5b58\u50a8\u5f15\u64ce\u652f\u6301\u7684\u7d22\u5f15\u7c7b\u578b\u548c\u6570\u636e\u7ed3\u6784\u4e0d\u540c\u3002</p> </li> </ul>"},{"location":"MySQL/%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B/#1","title":"1. \u8fde\u63a5\u5668","text":"<p>Tip</p> <p>\u8fde\u63a5\u5668\u7528\u4e8e\u7ba1\u7406\u8fde\u63a5\u3001\u6743\u9650\u9a8c\u8bc1\u3002</p> <p>\u4e0d\u8bba\u662f MySQL \u5ba2\u6237\u7aef\uff0c\u8fd8\u662f JDBC \u7b49\u8fde\u63a5\u9a71\u52a8\uff0c\u90fd\u662f\u901a\u8fc7\u8fde\u63a5\u5668\u5206\u914d\u7684\u4e00\u4e2a\u53e5\u67c4\u6765\u8fdb\u884c\u4ea4\u4e92\u3002</p>"},{"location":"MySQL/%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B/#_1","title":"\u8fde\u63a5\u64cd\u4f5c","text":"<ul> <li>MySQL \u662f\u57fa\u4e8e TCP \u534f\u8bae \u8fdb\u884c\u4f20\u8f93\u7684\u3002</li> <li>\u5b8c\u6210 TCP \u8fde\u63a5\u5efa\u7acb\u540e\uff0c\u8fde\u63a5\u5668\u4f1a\u9a8c\u8bc1\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u82e5\u9a8c\u8bc1\u901a\u8fc7\u5219\u4f1a\u8bfb\u53d6\u8be5\u7528\u6237\u7684\u6743\u9650\u5217\u8868\uff0c\u76f4\u5230\u65ad\u5f00\u8fde\u63a5\u4e4b\u524d\uff0c\u90fd\u4f7f\u7528\u8fde\u63a5\u65f6\u8bfb\u53d6\u5230\u7684\u6743\u9650\u8fdb\u884c\u5224\u65ad\uff0c\u6240\u4ee5\u5982\u679c\u7ba1\u7406\u5458\u4e2d\u9014\u4fee\u6539\u8be5\u7528\u6237\u7684\u6743\u9650\u5e76\u4e0d\u5f71\u54cd\u5df2\u7ecf\u5b58\u5728\u7684\u8fde\u63a5\uff0c\u53ea\u6709\u91cd\u65b0\u8fde\u63a5\u624d\u4f1a\u4f7f\u7528\u65b0\u7684\u6743\u9650\u8bbe\u7f6e\u3002</li> <li><code>&gt; show processlist;</code> \u547d\u4ee4\u53ef\u4ee5\u67e5\u770b\u5f53\u524d MySQL\u670d\u52a1\u88ab\u591a\u5c11\u5ba2\u6237\u7aef\u8fde\u63a5\uff0c\u4ee5\u53ca\u8fde\u63a5\u7684\u60c5\u51b5\u3002</li> <li><code>&gt; kill connection +id;</code> \u547d\u4ee4\u53ef\u4ee5\u624b\u52a8\u65ad\u5f00\u7a7a\u95f2\u8fde\u63a5\u3002\u5982\u65ad\u5f00 ID \u4e3a 6 \u7684\u8fde\u63a5\uff1a<code>kill connection +6;</code>\u3002 \u88ab\u65ad\u5f00\u7684\u8fde\u63a5\u4e0d\u4f1a\u9a6c\u4e0a\u77e5\u9053\uff0c\u800c\u662f\u7b49\u5230\u4e0b\u4e00\u6b21\u8bf7\u6c42\u67e5\u8be2\u7684\u65f6\u5019\u624d\u4f1a\u6536\u5230 <code>ERROR 2013(HY000)</code> \u7684\u62a5\u9519\u3002</li> <li><code>wait_timeout</code> \u53c2\u6570\u7528\u4e8e\u63a7\u5236\u7a7a\u95f2\u8fde\u63a5\u53ef\u4ee5\u6301\u6709\u8fde\u63a5\u591a\u4e45\uff0c\u8d85\u8fc7\u8be5\u53c2\u6570\u8bbe\u7f6e\u7684\u503c\u4f1a\u88ab\u65ad\u5f00\u3002</li> </ul>"},{"location":"MySQL/%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B/#_2","title":"\u957f\u77ed\u8fde\u63a5","text":"<p>MySQL \u4e5f\u6709\u957f\u77ed\u8fde\u63a5\u7684\u533a\u522b\u3002</p> <p>Tip</p> <p>\u77ed\u8fde\u63a5\u4f1a\u589e\u52a0\u8fde\u63a5\u7684\u5f00\u9500\uff0c\u5bfc\u81f4\u7a0b\u5e8f\u54cd\u5e94\u6162\u3002\u957f\u8fde\u63a5\u5219\u51cf\u5c11\u4e86\u5efa\u7acb\u8fde\u63a5\u7684\u5f00\u9500\uff0c\u4f46\u662f\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5360\u7528\u5185\u5b58\u589e\u591a\u3002</p> <p>\u56e0\u4e3a MySQL \u5728\u6267\u884c\u67e5\u8be2\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4f7f\u7528\u5185\u5b58\u7ba1\u7406\u8fde\u63a5\u5bf9\u8c61\uff0c\u8fd9\u4e9b\u5bf9\u8c61\u8d44\u6e90\u53ea\u6709\u5728\u8fde\u63a5\u65ad\u5f00\u65f6\u624d\u4f1a\u91ca\u653e\u3002\u5982\u679c\u957f\u8fde\u63a5\u592a\u591a\uff0c\u4f1a\u5bfc\u81f4 MySQL \u670d\u52a1\u5185\u5b58\u5360\u7528\u8fc7\u9ad8\uff0c\u88ab\u7cfb\u7edf\u5f3a\u5236kill\uff0c\u5bfc\u81f4 MySQL \u670d\u52a1\u5f02\u5e38\u91cd\u542f\u3002</p> <p>\u89e3\u51b3\u529e\u6cd5\u6709\u4e24\u79cd\uff1a 1. \u5b9a\u671f\u65ad\u5f00\u957f\u8fde\u63a5\uff1a\u5b9a\u671f\u628a\u957f\u8fde\u63a5\u65ad\u5f00\uff08\u8ddf\u7a7a\u95f2\u4e0d\u4e00\u6837\u54e6\uff09 2. \u5ba2\u6237\u7aef\u4e3b\u52a8\u91cd\u7f6e\u8fde\u63a5\uff1a\u5f53\u5ba2\u6237\u7aef\u6267\u884c\u4e86\u4e00\u4e2a\u5f88\u5927\u7684\u64cd\u4f5c\u540e\uff0c\u5728 \u4ee3\u7801\u4e2d\u4e3b\u52a8\u8c03\u7528 mysql_reset_connection() \u51fd\u6570 \u6216\u8005 \u5173\u95ed\u540e\u91cd\u65b0\u8fde\u63a5\uff08\u4f7f\u7528\u8fde\u63a5\u6c60\u7684\u60c5\u51b5\u4e0b\uff09 \u6765\u91cd\u7f6e\u8fde\u63a5\u3002 \u8fd9\u4e2a\u8fc7\u7a0b\u4e0d\u9700\u8981\u91cd\u65b0\u8fde\u63a5\u548c\u91cd\u65b0\u6821\u9a8c\u6743\u9650\uff0c\u4f46\u662f\u4f1a\u628a\u8fde\u63a5\u6062\u590d\u5230\u521a\u521a\u521b\u5efa\u8fde\u63a5\u65f6\u7684\u72b6\u6001\u3002</p>"},{"location":"MySQL/%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B/#2","title":"2. \u67e5\u8be2\u7f13\u5b58","text":"<p>\u5982\u679c SQL \u662f SELECT \u67e5\u8be2\uff0cMySQL \u4f1a\u5148\u53bb\u67e5\u8be2\u7f13\u5b58\u91cc\u67e5\u627e\u7ed3\u679c\u3002key \u4e3a SQL \u8bed\u53e5\uff0cvalue \u4e3a\u67e5\u8be2\u7ed3\u679c\u3002</p> <p>\u4f46\u5176\u5b9e\u67e5\u8be2\u7f13\u5b58\u5f88\u9e21\u808b\uff0c\u56e0\u4e3a\u7ecf\u5e38\u7f13\u5b58\u672a\u547d\u4e2d\u3002\u6240\u4ee5 MySQL8.0 \u5728 Server \u5c42\u5c06\u67e5\u8be2\u7f13\u5b58\u5220\u6389\u4e86\u3002</p>"},{"location":"MySQL/%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B/#3-sql","title":"3. \u89e3\u6790 SQL","text":"<p>\u89e3\u6790\u5668\u505a\u4e24\u4ef6\u4e8b\u60c5\uff1a\u8bcd\u6cd5\u5206\u6790 \u548c \u8bed\u6cd5\u5206\u6790\u3002</p> <p>\u8bcd\u6cd5\u5206\u6790\u5668 \u4f1a\u6839\u636e\u8f93\u5165\u7684 SQL\uff08\u5176\u5b9e\u5c31\u662f\u4e00\u4e32\u5b57\u7b26\u4e32\uff09\u8bc6\u522b\u51fa\u5173\u952e\u5b57\u548c\u975e\u5173\u952e\u5b57\u3002</p> <p>\u4f8b\u5982 <code>SELECT username, ismale FROM userinfo WHERE id = 1</code> \u8fd9\u6761 SQL \u4f1a\u5f97\u5230 <code>SELECT</code>\u3001<code>FROM</code>\u3001<code>WHERE</code>\u3001<code>=</code> \u8fd9 4 \u4e2a\u5173\u952e\u5b57 Token\uff0c \u8fd8\u6709 <code>username</code>\u3001<code>ismale</code>\u3001<code>userinfo</code>\u3001<code>id</code>\u3001<code>1</code> \u8fd9\u4e2a 5 \u4e2a\u975e\u5173\u952e\u5b57 Token\u3002</p> <p>\u8bed\u6cd5\u5206\u6790\u5668 \u5219\u6839\u636e\u8bcd\u6cd5\u5206\u6790\u7684\u7ed3\u679c\uff08\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u6570\u7ec4\uff09\uff0c\u8fd8\u6709\u8bed\u6cd5\u89c4\u5219\uff0c\u53bb\u6784\u5efa\u51fa SQL \u7684\u8bed\u6cd5\u6811\u3002 \u5982\u679c\u6709\u8bed\u6cd5\u9519\u8bef\u5219\u4f1a\u629b\u51fa\uff0c\u6ca1\u6709\u5219\u8f93\u51fa\u4e00\u9897\u591a\u53c9\u6811\uff0c\u5373\u8bed\u6cd5\u6811\u3002</p> <p></p>"},{"location":"MySQL/%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B/#4-sql","title":"4. \u6267\u884c SQL","text":"<p>Tip</p> <p>\u6bcf\u6761 SELECT \u67e5\u8be2\u8bed\u53e5\u53ef\u4ee5\u5206\u4e3a\u4e09\u4e2a\u9636\u6bb5\uff1a</p> <ul> <li>prepare \u9636\u6bb5\uff0c\u5373\u9884\u5904\u7406\u9636\u6bb5</li> <li>optimize \u9636\u6bb5\uff0c\u5373\u4f18\u5316\u9636\u6bb5</li> <li>execute \u9636\u6bb5\uff0c\u5373\u6267\u884c\u9636\u6bb5</li> </ul>"},{"location":"MySQL/%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B/#_3","title":"\u9884\u5904\u7406\u5668","text":"<p>\u9884\u5904\u7406\u5668\u4e3b\u8981\u505a\u8fd9\u4e9b\u4e8b\u60c5\uff1a</p> <ul> <li>\u68c0\u67e5\u8981\u67e5\u8be2\u7684\u8868\u548c\u5b57\u6bb5\u662f\u5426\u5b58\u5728</li> <li>\u5c06 SELECT * \u4e2d\u7684 * \u7b26\u53f7\u6269\u5c55\u4e3a\u8868\u4e0a\u6240\u6709\u7684\u5217</li> </ul>"},{"location":"MySQL/%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B/#_4","title":"\u4f18\u5316\u5668","text":"<p>\u7ecf\u8fc7\u9884\u5904\u7406\u9636\u6bb5\u540e\uff0c\u8fd8\u9700\u8981\u4e3a SQL \u67e5\u8be2\u8bed\u53e5\u6307\u5b9a\u4e00\u4e2a\u6267\u884c\u8ba1\u5212\u3002\u8fd9\u4e2a\u5de5\u4f5c\u7531\u300c\u4f18\u5316\u5668\u300d\u6765\u5b8c\u6210\u3002</p> <p>\u4f18\u5316\u5668\u4e3b\u8981\u8d1f\u8d23\u5c06 SQL \u67e5\u8be2\u8bed\u53e5\u7684\u6267\u884c\u65b9\u6848\u786e\u5b9a\u4e0b\u6765\u3002\u6bd4\u5982\u5728\u8868\u4e2d\u6709\u591a\u4e2a\u7d22\u5f15\u65f6\uff0c\u4f18\u5316\u5668\u4f1a\u57fa\u4e8e\u67e5\u8be2\u6210\u672c\u8003\u8651\uff0c\u9009\u62e9\u6210\u672c\u6700\u5c0f\u7684\u7d22\u5f15\u3002\u5b9e\u5728\u6ca1\u6709\u6240\u4ee5\u53ef\u7528\uff0c\u5219\u4f1a\u5168\u8868\u626b\u63cf\u3002</p> <p>\u4f7f\u7528 <code>EXPLAIN</code> \u52a0\u4e0a\u67e5\u8be2\u8bed\u53e5\u6765\u67e5\u770b\u6267\u884c\u8ba1\u5212\u3002</p>"},{"location":"MySQL/%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B/#_5","title":"\u6267\u884c\u5668","text":"<p>\u786e\u5b9a\u6267\u884c\u8ba1\u5212\u4ee5\u540e\uff0c\u63a5\u4e0b\u6765\u5c31\u662f\u771f\u6b63\u5f00\u59cb\u6267\u884c SQL \u8bed\u53e5\u4e86\uff0c\u8fd9\u4e2a\u5de5\u4f5c\u7531\u300c\u6267\u884c\u5668\u300d\u5b8c\u6210\u3002</p> <p>\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u6267\u884c\u5668\u548c\u5b58\u50a8\u5f15\u64ce\u4ea4\u4e92\uff0c\u4ea4\u4e92\u662f\u4ee5\u8bb0\u5f55\u4e3a\u5355\u4f4d\u7684\u3002</p> <p>\u4ee5\u4e0b\u662f\u4e09\u79cd\u6267\u884c\u8fc7\u7a0b\u7684\u793a\u4f8b</p>"},{"location":"MySQL/%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B/#_6","title":"\u4e3b\u952e\u7d22\u5f15\u67e5\u8be2","text":"<pre><code>SELECT * FROM product WHERE id = 2;\n</code></pre> <p>\u8fd9\u6761\u8bed\u53e5\u4f7f\u7528\u5230\u4e86\u4e3b\u952e\u7d22\u5f15\uff0c\u800c\u4e14\u662f\u7b49\u503c\u67e5\u8be2\u3002\u7531\u4e8e\u4e3b\u952e\u662f\u552f\u4e00\u7684\uff0c\u6240\u4ee5\u4f18\u5316\u5668\u51b3\u5b9a\u4f7f\u7528\u8bbf\u95ee\u7c7b\u578b\u4e3a const \u8fdb\u884c\u67e5\u8be2\u3002\u6267\u884c\u6d41\u7a0b\u5982\u4e0b\uff1a</p> <ol> <li>\u6267\u884c\u5668\u7b2c\u4e00\u6b21\u67e5\u8be2\uff0c\u4f1a\u8c03\u7528 read_first_record \u51fd\u6570\u6307\u9488\u6307\u5411\u7684\u51fd\u6570\uff0c\u56e0\u4e3a\u67e5\u8be2\u7c7b\u578b\u4e3a const\uff0c\u6240\u4ee5\u6307\u9488\u4f1a\u6307\u5411 InnDB \u7684\u7d22\u5f15\u67e5\u8be2\u63a5\u53e3\uff0c\u628a id = 1 \u4f20\u8fdb\u53bb\uff0c\u8ba9\u5f15\u64ce\u5b9a\u4f4d\u7b26\u5408\u6761\u4ef6\u7684\u7b2c\u4e00\u6761\u8bb0\u5f55\u3002</li> </ol>"},{"location":"Python/Advanced/Python-No-Feature-Functional/","title":"Python\u3010Feature\u3011\u51fd\u6570\u5f0f\u7f16\u7a0b","text":"<p>Python\u7684\u9ad8\u7ea7\u7279\u60272</p> <p>\u51fd\u6570\u5f0f\u7f16\u7a0b\u7684\u4e00\u4e2a\u7279\u70b9\u5c31\u662f\uff0c\u5141\u8bb8\u628a\u51fd\u6570\u672c\u8eab\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\u53e6\u4e00\u4e2a\u51fd\u6570\uff0c\u8fd8\u5141\u8bb8\u8fd4\u56de\u4e00\u4e2a\u51fd\u6570\uff01</p>","tags":["Python","\u51fd\u6570\u5f0f\u7f16\u7a0b"]},{"location":"Python/Advanced/Python-No-Feature-Functional/#_1","title":"\u51fd\u6570\u7684\u672c\u8d28","text":"<p>\u5728\u5b66C\u8bed\u8a00\u6307\u9488\u7684\u65f6\u5019\uff0c\u4f1a\u63a5\u89e6\u5230\u4e00\u4e2a\u6982\u5ff5\uff1a\u51fd\u6570\u540d\u662f\u51fd\u6570\u6240\u5728\u5185\u5b58\u7684\u5730\u5740\uff0c\u7c7b\u4f3c-\u6570\u7ec4\u540d\u662f\u6570\u7ec4\u7684\u9996\u5143\u7d20\u7684\u5730\u5740\u3002</p> <p>\u5373\u4f7fPython\u4e2d\u6ca1\u6709\u6307\u9488\u4e00\u8bf4\uff0c\u4f46\u662f\u672c\u8d28\u8fd8\u662f\u4e00\u6837\u7684\u3002 \u53d8\u91cf\u540d\u662f\u4e00\u4e2a\u53d8\u91cf\u7684\u5730\u5740 \u51fd\u6570\u540d\u662f\u4e00\u4e2a\u51fd\u6570\u7684\u5730\u5740 \u8c03\u7528\u51fd\u6570\u7684\u65f6\u5019\u5176\u5b9e\u662f\u628a\u53c2\u6570\u4f20\u5230\u51fd\u6570\u672c\u8eab\u6240\u5728\u7684\u90a3\u5757\u5185\u5b58\u4e2d\u53bb\uff0c\u51fd\u6570\u540d\u4e0d\u8fc7\u662f\u4e00\u4e2a\u5a92\u4ecb\u800c\u5df2\u3002 \u5728C\u4e2d\u53ef\u4ee5\u8bf4\uff0c\u51fd\u6570\u540d\u5c31\u662f\u4e2a\u6307\u9488\uff0c\u6307\u5411\u4e00\u4e2a\u51fd\u6570 \u5728Python\u4e2d\u53ef\u4ee5\u8bf4\uff0c\u51fd\u6570\u540d\u5c31\u662f\u4e2a\u53d8\u91cf\uff0c\u6307\u5411\u4e00\u4e2a\u51fd\u6570</p> <p>\u65e2\u7136\u51fd\u6570\u540d\u53ea\u662f\u6307\u5411\u51fd\u6570\u672c\u8eab\u6240\u5728\u5730\u5740\uff0c\u90a3\u6211\u6362\u4e2a\u540d\u6765\u6307\u4e0d\u4e5f\u53ef\u4ee5\u3002</p> <p></p><pre><code>def sum(a, b):\n    return a + b\n\nf = sum\nf(1, 2)\n\n---------------------------------\n\n# Output:\n3\n</code></pre> \u5982\u679c\u653e\u5230\u4ea4\u4e92\u6a21\u5f0f\u4e2d\uff0c\u53ef\u4ee5\u66f4\u660e\u663e\u7684\u770b\u51fa\u6765<p></p> <pre><code># \u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\n&gt;&gt;&gt; def sum(a, b):\n...     return a + b\n...\n&gt;&gt;&gt; sum\n&lt;function sum at 0x000001F25AF6B280&gt;\n\n&gt;&gt;&gt; f=sum\n&gt;&gt;&gt; f\n&lt;function sum at 0x000001F25AF6B280&gt;\n&gt;&gt;&gt; f(3, 4)\n7\n</code></pre> <p>\u5927\u6982\u5c31\u8fd9\u4e48\u56de\u4e8b\u513f</p> <p></p>","tags":["Python","\u51fd\u6570\u5f0f\u7f16\u7a0b"]},{"location":"Python/Advanced/Python-No-Feature-Functional/#_2","title":"\u9ad8\u9636\u51fd\u6570","text":"<p>\u9ad8\u9636\u51fd\u6570\uff1a\u63a5\u53d7\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u7684\u51fd\u6570 <code>def heigh_fn(a, b, fn)</code></p> <p>\u65e2\u7136\u53d8\u91cf\u53ef\u4ee5\u6307\u5411\u51fd\u6570\uff0c\u51fd\u6570\u7684\u53c2\u6570\u80fd\u63a5\u6536\u53d8\u91cf\uff0c\u90a3\u4e48\u4e00\u4e2a\u51fd\u6570\u5c31\u53ef\u4ee5\u63a5\u6536\u53e6\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd9\u79cd\u51fd\u6570\u5c31\u79f0\u4e4b\u4e3a\u9ad8\u9636\u51fd\u6570\u3002</p> <p>\u4e00\u4e2a\u6700\u7b80\u5355\u7684\u9ad8\u9636\u51fd\u6570\uff1a </p><pre><code>def abs(num):\n    return (num) if num &gt;= 0 else (-num)\n\ndef abs_add(a, b, fn):\n    return fn(a) + fn(b)\n\nprint(abs_add(8, -4, abs))\n\n---------------------------------\n\n# Output:\n12\n</code></pre><p></p> <p>\u8fd9\u4e2a\u9ad8\u9636\u51fd\u6570\u7684\u8fc7\u7a0b\u5927\u6982\u662f\u8fd9\u6837\u7684 a = 8 b = -4 fn = abs fn(a) + fn(b) ==&gt; abs(8) + abs(-4) ==&gt; 12</p>","tags":["Python","\u51fd\u6570\u5f0f\u7f16\u7a0b"]},{"location":"Python/Advanced/Python-No-Feature-Functional/#_3","title":"\u8fd4\u56de\u51fd\u6570","text":"<p>\u8fd4\u56de\u51fd\u6570\uff1a\u8fd4\u56de\u503c\u4e3a\u51fd\u6570\u7684\u51fd\u6570</p> <p>\u901a\u5e38\u51fd\u6570\u90fd\u662f\u8fd4\u56deint\u3001str\u3001list \u8fd9\u4e9b\u53d8\u91cf\uff0c\u4f46\u662f\u53d8\u91cf\u53ef\u4ee5\u6307\u5411\u51fd\u6570\uff0c \u90a3\u51fd\u6570\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u53d8\u91cf\uff0c\u4e0d\u5c31\u4e5f\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u51fd\u6570\u3002</p> <p>\u4e3e\u4e2a\u6817\u5b50 \u5b9e\u73b0\u4e00\u4e2a\u6c42\u548c\u51fd\u6570\u3002\u53c2\u6570\u53ef\u53d8\uff0c\u53ef\u4ee5\u662f1\u4e2a\u4e5f\u53ef\u4ee5\u662f\u591a\u4e2a\u3002 </p><pre><code>def cal_sum(*args):\n    sum = 0\n    for n in args:\n        sum += n\n    return sum\n\n\nresult = cal_sum(1, 2, 3, 4, 5)\nprint(result)\n\n---------------------------------\n\n# Output:\n15\n</code></pre> \u597d\uff0c\u73b0\u5728\u518d\u5199\u4e00\u4e2a\u51fd\u6570<code>lazy_sum()</code>\uff0c\u628a\u8fd9\u4e2a\u51fd\u6570<code>cal_sum()</code>\u4f5c\u4e3a\u8fd4\u56de\u503c\u8fd4\u56de <pre><code>def lazy_sum(*args):\n    def cal_sum():\n        sum = 0\n        for n in args:\n            sum += n\n        return sum\n    return cal_sum\n</code></pre> \u53ef\u4ee5\u770b\u5230\u6700\u540e\u4e00\u53e5<code>return cal_sum</code>\u5c31\u628a\u51fd\u6570\u8fd4\u56de\u51fa\u6765\u4e86\u3002 \u90a3\u4e48\u51fd\u6570<code>lazy_sum()</code>\u5c31\u662f\u4e00\u4e2a\u8fd4\u56de\u51fd\u6570<p></p> <p>\u73b0\u5728\u8c03\u7528\u4e00\u4e0b\u8fd9\u4e2a\u8fd4\u56de\u51fd\u6570 </p><pre><code>def lazy_sum(*args):\n    print('I am the return function.')\n    def cal_sum():\n        sum = 0\n        for n in args:\n            sum += n\n        return sum\n    return cal_sum\n\n\nresult = lazy_sum(1, 2, 3, 4, 5)\nprint(result)\n\n---------------------------------\n\n# Output:\nI am the return function.\n&lt;function lazy_sum.&lt;locals&gt;.cal_sum at 0x000001C8765CB310&gt;\n</code></pre> \u54e6\u56af\uff0c<code>lazy_sum()</code>\u6ca1\u6709\u8fdb\u884c\u8ba1\u7b97\uff0c\u4f46\u4e5f\u770b\u51fa\u6765\uff0c<code>lazy_sum()</code>\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u51fd\u6570 <code>result</code>\u6b64\u65f6\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u8fd9\u65f6\u5019\u6211\u4eec\u8981\u53bb\u8c03\u7528\u4e00\u6b21\u8fd4\u56de\u503c<code>result</code>\uff0c\u624d\u4f1a\u8fdb\u884c\u8ba1\u7b97 <pre><code>def lazy_sum(*args):\n    print('I am the return function.')\n    def cal_sum():\n        sum = 0\n        for n in args:\n            sum += n\n        return sum\n    return cal_sum\n\n\nresult = lazy_sum(1, 2, 3, 4, 5)\nprint(result)\n\nres = result()\nprint(res)\n\n---------------------------------\n\n# Output:\nI am the return function.\n&lt;function lazy_sum.&lt;locals&gt;.cal_sum at 0x000001E02D07B310&gt;\n15\n</code></pre> \u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u8bf4 \u8fd4\u56de\u51fd\u6570\u662f<code>\u60f0\u6027</code>\u7684\u3002\u5c31\u662f\u8fd9\u4e48\u6765\u7684<p></p>","tags":["Python","\u51fd\u6570\u5f0f\u7f16\u7a0b"]},{"location":"Python/Advanced/Python-No-Feature-Functional/#_4","title":"\u4e3a\u4ec0\u4e48\u8981\u8fd4\u56de\u4e00\u4e2a\u51fd\u6570","text":"<p>\u5728<code>lazy_sum()</code>\u4e2d\uff0c\u6709\u4e00\u53e5<code>print</code>\u8bed\u53e5\u3002 \u4ece\u8f93\u51fa\u4e2d\u53ef\u4ee5\u770b\u51fa\uff0c\u8fd4\u56de\u51fd\u6570\u672c\u8eab\u662f\u7acb\u5373\u6267\u884c\u7684\uff0c\u4f46\u662f\u5b83\u8fd4\u56de\u51fa\u6765\u7684\u51fd\u6570\u8981\u518d\u8fdb\u884c\u4e00\u6b21\u8c03\u7528\u624d\u4f1a\u6267\u884c\u3002</p> <p>\u5355\u72ec\u4e00\u4e2a\u8fd4\u56de\u51fd\u6570\u5e76\u6ca1\u6709\u592a\u5927\u4f5c\u7528\uff0c\u4f46\u662f\u8fd4\u56de\u51fd\u6570\u548c\u9ad8\u9636\u51fd\u6570\u7ed3\u5408\u8d77\u6765\uff0c\u662f\u4e0d\u662f\u5c31\u6709\u610f\u601d\u4e86\u3002 \u63a5\u6536\u4e00\u4e2a\u51fd\u6570\uff0c\u7136\u540e\u628a\u8fd9\u4e2a\u51fd\u6570\u8fd4\u56de\u51fa\u53bb\u3002\u5728\u8fd4\u56de\u4e4b\u524d\u662f\u4e0d\u662f\u53ef\u4ee5\u8fdb\u884c\u4e00\u4e9b\u64cd\u4f5c\uff1f</p> <p>\u5047\u5982\u73b0\u5728\u6709\u4e00\u4e2a\u9700\u6c42\uff1a\u6c42\u548c\uff1b\u5b9e\u73b0\u5b8c\u4e86\u4e4b\u540e\uff0c\u4ea7\u54c1\u7ecf\u7406\u53c8\u52a0\u9700\u6c42\uff1a\u9664\u4e86<code>\u6c42\u548c</code>\u8fd8\u8981\u6253\u5370\u4e00\u4e0b\u6c42\u548c\u7528\u4e86\u591a\u957f\u65f6\u95f4\uff0c\u4e5f\u5c31\u662f<code>\u8ba1\u65f6\u529f\u80fd</code>\u3002 \u90a3\u4e48\u73b0\u5728\u4f60\u6709\u4e24\u4e2a\u529e\u6cd5 - \u4e00\u662f\u5728<code>\u6c42\u548c\u51fd\u6570</code>\u91cc\u5b9e\u73b0\u8fd9\u4e2a<code>\u8ba1\u65f6\u529f\u80fd</code>\uff0c\u4f46\u662f\u8fd9\u6837\u5c31\u5728\u4e00\u4e2a\u51fd\u6570\u91cc\u505a\u4e86\u4e24\u4ef6\u4e8b\u60c5\u3002\u5373\u4e0d\u4f18\u96c5\uff0c\u4e5f\u4e0d\u597d\u7ef4\u62a4\u3002\u8fd9\u91cc\u4e3e\u4f8b\u662f\u7b80\u5355\u7684\u6c42\u548c\uff0c\u5b9e\u9645\u5f00\u53d1\u4e2d\u53ef\u80fd\u662f\u8ddf\u590d\u6742\u7684\u529f\u80fd\u3002 - \u4e8c\u662f\u628a<code>\u8ba1\u65f6\u51fd\u6570</code>\u5199\u51fa\u6765\uff0c\u7136\u540e\u628a<code>\u6c42\u548c\u51fd\u6570</code>\u4f20\u7ed9<code>\u8ba1\u65f6\u51fd\u6570</code>\uff0c\u5728<code>\u8ba1\u65f6\u51fd\u6570</code>\u4e2d\u7ed9<code>\u6c42\u548c\u51fd\u6570</code>\u52a0\u4e0a<code>\u8ba1\u65f6\u529f\u80fd</code>\uff0c\u4e4b\u540e\u518d\u628a\u8fd9\u4e2a<code>\u6709\u8ba1\u65f6\u529f\u80fd\u7684\u6c42\u548c\u51fd\u6570</code>\u8fd4\u56de\u51fa\u53bb\u3002</p> <p><code>\u8ba1\u65f6\u51fd\u6570</code>\u8fd9\u79cd<code>\u63a5\u6536\u51fd\u6570 -&gt; \u589e\u5f3a\u51fd\u6570 -&gt; \u8fd4\u56de\u51fd\u6570</code>\u7684\u51fd\u6570\u5c31\u53eb<code>\u95ed\u5305</code></p> <p>\u4e0d\u4ec5\u53ef\u4ee5\u7528\u5728<code>\u8ba1\u65f6\u529f\u80fd</code>\uff0c\u8fd8\u80fd\u7528\u5728<code>\u65e5\u5fd7\u529f\u80fd</code>\uff0c\u6211\u53ea\u8981\u628a<code>\u6c42\u548c\u51fd\u6570</code>\u5199\u597d\uff0c\u4f20\u7ed9<code>\u65e5\u5fd7\u51fd\u6570</code>\u5c31\u53ef\u4ee5\u83b7\u5f97<code>\u65e5\u5fd7\u529f\u80fd</code>\u3002 \u51fd\u6570\u53ea\u505a\u4e00\u4ef6\u4e8b\u60c5\uff0c\u5176\u4ed6\u4e8b\u60c5\u7531\u522b\u7684\u51fd\u6570\u505a\uff0c\u9700\u8981\u4ec0\u4e48\u529f\u80fd\u628a\u51fd\u6570\u5f80\u91cc\u9762\u4e00\u4e22\uff0c\u8fd8\u4f60\u4e00\u4e2a\u589e\u5f3a\u7248\u7684\u3002Amazing\uff01\u8fd9\u5c31\u53eb<code>\u9762\u5411\u5207\u9762\u7f16\u7a0b</code></p>","tags":["Python","\u51fd\u6570\u5f0f\u7f16\u7a0b"]},{"location":"Python/Advanced/Python-No-Feature-Functional/#_5","title":"\u95ed\u5305\u3001\u88c5\u9970\u5668\u3001\u9762\u5411\u5207\u9762\u7f16\u7a0b","text":"","tags":["Python","\u51fd\u6570\u5f0f\u7f16\u7a0b"]},{"location":"Python/Advanced/Python-No-Feature-Functional/#_6","title":"\u95ed\u5305","text":"<p>\u95ed\u5305 = \u9ad8\u9636\u51fd\u6570 + \u8fd4\u56de\u51fd\u6570 \u5373\uff0c\u4e00\u4e2a<code>\u63a5\u6536\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u53c8\u8fd4\u56de\u4e00\u4e2a\u51fd\u6570</code>\u7684\u51fd\u6570\uff0c\u5c31\u53eb\u505a\u95ed\u5305 \u4f5c\u7528\uff1a\u589e\u5f3a\u51fd\u6570\u529f\u80fd\u3001\u9762\u5411\u5207\u9762\u7f16\u7a0b\uff08AOP\uff09</p>","tags":["Python","\u51fd\u6570\u5f0f\u7f16\u7a0b"]},{"location":"Python/Advanced/Python-No-Feature-Functional/#_7","title":"\u65e0\u53c2\u95ed\u5305","text":"<pre><code>import time\n\ndef print_hello():\n    print('hello!')\n\ndef cal_time(fn):\n    def improve_fn():\n        start_time = time.time()\n        fn()\n        end_time = time.time()\n        print('\u8017\u65f6\uff1a{}'.format(end_time - start_time))\n\n    return improve_fn\n\nimprove_print_hello = cal_time(print_hello)\nimprove_print_hello()\n\n# \u4e5f\u53ef\u4ee5\u5199\u505a cal_time(print_hello)()\n\n---------------------------------\n\n# Output:\nhello!\n\u8017\u65f6\uff1a0.0009620189666748047\n</code></pre> \u6817\u5b50\u4e2d\uff0c<code>print_hello()</code>\u53ea\u8d1f\u8d23\u6253\u5370hello\uff0c<code>cal_time()</code>\u8d1f\u8d23\u628a\u4f20\u8fdb\u6765\u7684\u51fd\u6570\u589e\u5f3a\u7136\u540e\u8fd4\u56de\u51fa\u53bb \u6240\u4ee5<code>cal_time</code>\u5c31\u662f\u4e00\u4e2a\u95ed\u5305","tags":["Python","\u51fd\u6570\u5f0f\u7f16\u7a0b"]},{"location":"Python/Advanced/Python-No-Feature-Functional/#_8","title":"\u5e26\u53c2\u95ed\u5305","text":"<p>\u4e0a\u9762\u7684\u6817\u5b50\uff0c<code>print_hello()</code>\u4e0d\u9700\u8981\u53c2\u6570\uff0c\u6240\u4ee5\u5728\u65e0\u53c2\u95ed\u5305\u4e2d\u53ef\u4ee5\u987a\u5229\u901a\u8fc7 \u4f46\u662f\u5982\u679c\u4e00\u4e2a\u51fd\u6570\u6709\u53c2\uff0c\u90a3\u65e0\u53c2\u95ed\u5305\u5c31\u4f1a\u629b\u51fa<code>TypeError</code>\u9519\u8bef\u3002</p> <p>\u60f3\u8981\u5e26\u53c2\u5f88\u7b80\u5355\u3002</p> <pre><code>import time\n\n\ndef add(a, b):\n    print(a + b)\n\n\ndef cal_time(fn):\n    def improve_fn(*args, **kwargs):    # \u5728\u8fd9\u91cc\u5199\u4e0b\u5f62\u53c2\n        start_time = time.time()\n        fn(*args, **kwargs)        # \u8c03\u7528\u7684\u65f6\u5019\u4f20\u8fdb\u53bb\n        end_time = time.time()\n        print('\u8017\u65f6\uff1a{}'.format(end_time - start_time))\n\n    return improve_fn\n\n\ncal_time(add)(1, 2)\n\n---------------------------------\n\n# Output:\n3\n\u8017\u65f6\uff1a0.00800633430480957\n</code></pre>","tags":["Python","\u51fd\u6570\u5f0f\u7f16\u7a0b"]},{"location":"Python/Advanced/Python-No-Feature-Functional/#_9","title":"\u63a5\u6536\u7684\u51fd\u6570\u6709\u8fd4\u56de\u503c","text":"<p>\u63a5\u6536\u7684\u51fd\u6570\u6709\u8fd4\u56de\u503c\u7684\u8bdd\uff0c\u5e94\u8be5\u5728\u95ed\u5305\u91cc\u5bf9\u51fd\u6570\u8c03\u7528\u7684\u65f6\u5019\u628a\u53c2\u6570\u63a5\u6536\u4e0b\u6765\uff0c\u7136\u540e\u8fdb\u884c\u8fd4\u56de\u3002</p> <pre><code>import time\n\n\ndef add(a, b):\n    return a + b\n\n\ndef cal_time(fn):\n    def improve_fn(*args, **kwargs):\n        start_time = time.time()\n        count = fn(*args, **kwargs)     # \u8c03\u7528\u51fd\u6570\u4e4b\u540e\u7528\u4e00\u4e2a\u53d8\u91cf\u63a5\u6536\u8fd4\u56de\u503c\n        end_time = time.time()\n        print('\u8017\u65f6\uff1a{}'.format(end_time - start_time))\n        return count                    # \u7136\u540e\u628a\u8fd4\u56de\u503c\u8fd4\u56de\u51fa\u53bb\n\n    return improve_fn\n\n\nresult = cal_time(add)(5, 12)\nprint(result)\n\n---------------------------------\n\n# Output:\n\u8017\u65f6\uff1a0.0009620189666748047\n17\n</code></pre>","tags":["Python","\u51fd\u6570\u5f0f\u7f16\u7a0b"]},{"location":"Python/Advanced/Python-No-Feature-Functional/#_10","title":"\u88c5\u9970\u5668","text":"<p>\u88c5\u9970\u5668\u662f\u95ed\u5305\u7684\u8bed\u6cd5\u7cd6\u2014\u2014<code>@\u95ed\u5305\u540d</code>\u6216<code>@\u95ed\u5305\u540d(\u53c2\u6570)</code> \u8bed\u6cd5\u7cd6\u53ea\u662f\u4e00\u4e2a\u66f4\u65b9\u4fbf\u7684\u5199\u6cd5\uff0c\u5b8c\u5168\u53ef\u4ee5\u7b49\u4ef7\u8f6c\u6362\u4e3a\u975e\u8bed\u6cd5\u7cd6\u7684\u4ee3\u7801</p> <p>\u88c5\u9970\u5668\u3001\u95ed\u5305\uff0c\u672c\u8d28\u4e0a\u4e5f\u662f\u51fd\u6570\uff0c\u8bf4\u88c5\u9970\u5668\u7684\u540c\u65f6\u4e5f\u662f\u5728\u8bf4\u95ed\u5305</p>","tags":["Python","\u51fd\u6570\u5f0f\u7f16\u7a0b"]},{"location":"Python/Advanced/Python-No-Feature-Functional/#_11","title":"\u4fdd\u7559\u539f\u51fd\u6570\u7684\u5143\u4fe1\u606f","text":"<p>\u88c5\u9970\u5668\uff08\u95ed\u5305\uff09\u7684\u539f\u7406\u5c31\u662f\u628a\u539f\u51fd\u6570\u5f53\u4f5c\u53c2\u6570\u4f20\u8fdb\u88c5\u9970\u5668\u4e2d\uff0c\u7ecf\u8fc7\u589e\u5f3a\u540e\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684<code>\u589e\u5f3a\u7248\u539f\u51fd\u6570</code> \u8fd9\u8bf4\u660e\u8fd4\u56de\u51fa\u6765\u7684<code>\u589e\u5f3a\u7248\u51fd\u6570</code>\u548c\u539f\u6765\u7684\u51fd\u6570\u4e0d\u662f\u540c\u4e00\u4e2a\u4e86\uff08\u5728\u5185\u5b58\u4e2d\u521b\u5efa\u4e86\u4e00\u4e2a\u65b0\u7684\uff09</p> <p>\u65e2\u7136\u4e0d\u662f\u5728\u539f\u51fd\u6570\u4e0a\u8fdb\u884c\u6539\u9020\uff0c\u8fd9\u5c31\u5bfc\u81f4\u51fd\u6570\u7684\u5143\u4fe1\u606f\uff08\u6587\u6863\u5b57\u7b26\u4e32\u3001\u6ce8\u89e3\u3001\u53c2\u6570\u7b7e\u540d\u7b49\uff09\u90fd\u4e22\u5931\u4e86 \u89e3\u51b3\u65b9\u6cd5\u5c31\u662f\u4f7f\u7528<code>functools</code>\u5e93\u4e2d\u7684<code>@wraps</code>\u88c5\u9970\u5668\u6765\u628a\u539f\u51fd\u6570\u7684\u5143\u4fe1\u606f\u590d\u5236\u8fc7\u6765\u3002</p> <p>\u5148\u770b\u770b<code>\u4e0d</code>\u4fdd\u7559\u5143\u4fe1\u606f\u7684\u6837\u5b50 </p><pre><code>import time\n\n\n# \u88c5\u9970\u5668\u51fd\u6570\ndef cal_time(fn):\n    '''\n    Decorator that report the execution time.\n    '''\n    def improve_fn(*args, **kwargs):\n        start = time.time()\n        result = fn(*args, **kwargs)\n        end = time.time()\n        print(fn.__name__, end - start)\n        return result\n\n    return improve_fn\n\n\n# \u539f\u51fd\u6570\n@cal_time\ndef countdown(n):\n    '''\n    Count down\n    '''\n    while n &gt; 0:\n        n -= 1\n\n\nif __name__ == '__main__':\n    countdown(10_000)\n    print(countdown.__doc__)    # \u6ca1\u6709\u4f7f\u7528wrap\uff0c\u6240\u4ee5\u5143\u4fe1\u606f\u90fd\u4e22\u5931\u4e86\n\n---------------------------------\n\n# Output:\ncountdown 0.0010008811950683594\nNone\n</code></pre> \u518d\u770b\u770b\u4f7f\u7528\u4e86<code>@wraps</code>\u7684\u6837\u5b50 <pre><code>import time\nfrom functools import wraps\n\n# \u88c5\u9970\u5668\u51fd\u6570\ndef cal_time(fn):\n    '''\n    Decorator that report the execution time.\n    '''\n    @wraps(fn)\n    def improve_fn(*args, **kwargs):\n        start = time.time()\n        result = fn(*args, **kwargs)\n        end = time.time()\n        print(fn.__name__, end - start)\n        return result\n\n    return improve_fn\n\n\n# \u539f\u51fd\u6570\n@cal_time\ndef countdown(n):\n    '''\n    Count down\n    '''\n    while n &gt; 0:\n        n -= 1\n\n\nif __name__ == '__main__':\n    countdown(10000)\n    print(countdown.__doc__)    # \u4f7f\u7528\u4e86wrap\uff0c\u6240\u4ee5\u5143\u4fe1\u606f\u6ca1\u6709\u4e22\u5931\n\n---------------------------------\n\n# Output:\ncountdown 0.0010025501251220703\n\n    Count down\n</code></pre><p></p>","tags":["Python","\u51fd\u6570\u5f0f\u7f16\u7a0b"]},{"location":"Python/Advanced/Python-No-Feature-Functional/#_12","title":"\u65e0\u53c2\u88c5\u9970\u5668","text":"<pre><code>import time\nfrom functools import wraps\n\n\ndef cal_time(fn):\n    '''\n    Decorator that report the execution time.\n    '''\n    @wraps(fn)\n    def improve_fn(*args, **kwargs):\n        start = time.time()\n        result = fn(*args, **kwargs)\n        end = time.time()\n        print(fn.__name__, 'used time:', end - start)\n        return result\n\n    return improve_fn\n\n\n# \u88c5\u9970\u5668\u91cc\u4e0d\u9700\u8981\u643a\u5e26\u53c2\u6570\n@cal_time\ndef add(a, b):\n    return a + b\n\nres = add(5, 6)\nprint(res)\n\n# \u7b49\u4ef7\u4e8e\n#\n# def add(a, b):\n#     return a + b\n#\n# improve_add = cal_time(add)\n# res = improve_add(5, 6)\n# print(res)\n\n---------------------------------\n\n# Output:\nadd used time: 0.0\n11\n</code></pre>","tags":["Python","\u51fd\u6570\u5f0f\u7f16\u7a0b"]},{"location":"Python/Advanced/Python-No-Feature-Functional/#_13","title":"\u5e26\u53c2\u88c5\u9970\u5668","text":"<pre><code>import time\nfrom functools import wraps\n\ndef cal_time(msg):    # \u7b2c\u4e00\u5c42\uff0c\u63a5\u6536\u88c5\u9970\u5668\u53c2\u6570\n    print('First floor:', msg)\n\n    def decorator(fn):    # \u7b2c\u4e8c\u5c42\uff0c\u63a5\u6536\u51fd\u6570\n        print('Second floor:', msg)\n\n        @wraps(fn)\n        def improve_fn(*args, **kwargs):    # \u7b2c\u4e09\u5c42\uff0c\u589e\u5f3a\u51fd\u6570\n            print('Third floor:', msg)\n\n            start = time.time()\n            result = fn(*args, **kwargs)\n            end = time.time()\n\n            print('Used time:', end - start)\n            return result\n\n        return improve_fn\n\n    return decorator\n\n\n@cal_time('I am the message.')\ndef countdown(time=10000):\n    while time &gt; 0:\n        time -= 1\n\n\nif __name__ == '__main__':\n    countdown()\n\n---------------------------------\n\n# Output:\nFirst floor: I am the message.\nSecond floor: I am the message.\nThird floor: I am the message.\nUsed time: 0.000997781753540039\n</code></pre> \u6709\u53c2\u88c5\u9970\u5668\u548c\u65e0\u53c2\u88c5\u9970\u5668\u7684\u533a\u522b\u4ec5\u4ec5\u53ea\u662f\u591a\u4e86\u4e00\u5c42\u51fd\u6570\u800c\u5df2 \u4e5f\u5c31\u662f\u5728\u65e0\u53c2\u88c5\u9970\u5668\u7684\u57fa\u7840\u4e0a\u591a\u4e00\u5c42\u51fd\u6570\u6765\u63a5\u6536\u88c5\u9970\u5668\u53c2\u6570\u800c\u5df2\u3002\u6ce8\u610f\u5e26\u53c2\u88c5\u9970\u5668\u5373\u4f7f\u4e0d\u586b\u53c2\u6570\u4e5f\u8981\u5199\u4e0a\u62ec\u53f7 <p>\u88c5\u9970\u5668\u53ea\u5728\u7b2c\u4e00\u6b21\u88ab\u8c03\u7528\u53bb\u88c5\u9970\u51fd\u6570\u65f6\u5bf9\u539f\u51fd\u6570\u8fdb\u884c\u589e\u5f3a - \u589e\u5f3a\u65f6\u673a\uff1a\u7b2c\u4e00\u8c03\u7528\u4e4b\u524d - \u589e\u5f3a\u6b21\u6570\uff1a\u53ea\u589e\u5f3a\u4e00\u6b21</p>","tags":["Python","\u51fd\u6570\u5f0f\u7f16\u7a0b"]},{"location":"Python/Advanced/Python-No-Feature-Functional/#_14","title":"\u9762\u5411\u5207\u9762\u7f16\u7a0b","text":"<p>\u5982\u679c\u8bf4\u7c7b\u91cc\u9762\u7684\u7ee7\u627f\u662f\u7eb5\u5411\u7ee7\u627f\uff0c\u90a3\u9762\u5411\u5207\u9762\u7f16\u7a0b\u53ef\u4ee5\u7406\u89e3\u4e3a\u6a2a\u5411\u7ee7\u627f</p> <p>\u7eb5\u5411\u7ee7\u627f\u4e2d\uff0c\u5b50\u7c7b\u7ee7\u627f\u4e86\u7236\u7c7b\u975e\u79c1\u6709\u5c5e\u6027\u548c\u65b9\u6cd5\uff1b\u540c\u5c5e\u4e00\u4e2a\u7236\u7c7b\u7684\u5b50\u7c7b\u90fd\u6709\u76f8\u540c\u7684\u7236\u7c7b\u5c5e\u6027\u548c\u65b9\u6cd5 \u6a2a\u5411\u7ee7\u627f\u4e2d\uff0c\u662f\u7ed9\u5b50\u7c7b\u589e\u52a0\u4e86\u4e00\u4e9b\u529f\u80fd\uff1b\u540c\u5c5e\u4e00\u4e2a\u7236\u7c7b\u7684\u5b50\u7c7b\u4e0d\u89c1\u5f97\u6709\u76f8\u540c\u7684\u529f\u80fd\u3002</p> <p>\u5c31\u597d\u6bd4\uff0c\u4e00\u4e2a\u7239\u751f\u4e86\u4e24\u4e2a\u5a03\uff0c\u4e24\u4e2a\u5a03\u90fd\u6709\u624b\u6709\u811a\u7684\uff0c\u8fd9\u662f\u7ee7\u627f\u81ea\u7239\u90a3\u91cc\u7684\uff08\u7eb5\u5411\u7ee7\u627f\uff09 \u4f46\u662f\u4e00\u4e2a\u5a03\u70b9\u4eae\u4e86\u6e38\u6cf3\u7684\u6280\u80fd\uff0c\u53e6\u4e00\u4e2a\u5a03\u70b9\u4eae\u4e86\u8df3\u821e\u7684\u6280\u80fd\uff08\u6a2a\u5411\u7ee7\u627f\uff09 \u8fd9\u4fe9\u5a03\u751f\u4e86\u4fe9\u5b59\u5b50\uff0c\u80af\u5b9a\u4e5f\u662f\u6709\u624b\u6709\u811a\u7684\uff0c\u4f46\u4e0d\u4e00\u5b9a\u4f1a\u6e38\u6cf3\u8df3\u821e\u3002</p> <p>\u6240\u4ee5\u9762\u5411\u5207\u9762\u7f16\u7a0b\u4e2d\uff0c\u8fd9\u79cd\u95ed\u5305\u3001\u88c5\u9970\u5668\u4e4b\u7c7b\u7684\u901a\u5e38\u662f\u7528\u5728\u7f16\u5199\u901a\u7528\u5de5\u5177\u7c7b\u4e0a\u3002</p>","tags":["Python","\u51fd\u6570\u5f0f\u7f16\u7a0b"]},{"location":"Python/Advanced/Python-No-Feature-Functional/#_15","title":"\u533f\u540d\u51fd\u6570","text":"<p><code>lambda [parameters]: expression</code> \u5192\u53f7\u524d\u9762\u7684<code>parameters</code>\u8868\u793a\u533f\u540d\u51fd\u6570\u7684\u5f62\u53c2\u5217\u8868\uff0c\u5192\u53f7\u540e\u9762\u7684<code>expression</code>\u8868\u793a\u8981return\u7684\u8bed\u53e5 <code>parameters</code>\u53ef\u4ee5\u6709\u4e5f\u53ef\u4ee5\u6ca1\u6709\u3002 \u533f\u540d\u51fd\u6570\u6709\u4e2a\u9650\u5236\u2014\u2014\u53ea\u80fd\u6709\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0c\u4e0d\u7528\u5199<code>return</code>\uff0c\u8fd4\u56de\u503c\u5c31\u662f\u8be5\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\u3002</p> <p>\u533f\u540d\u51fd\u6570\u7c7b\u4f3c\u4e8e es6 \u4e2d\u7684\u7b80\u5934\u51fd\u6570</p> <p>\u4e3e\u4e2a\u6817\u5b50\uff1a </p><pre><code>def add(a, b):\n    return a + b\n</code></pre><p></p> <p>\u5199\u6210\u533f\u540d\u51fd\u6570\u5c31\u662f </p><pre><code>lambda a, b: a + b\n</code></pre> \u5199\u6210\u7b80\u5934\u51fd\u6570\u5c31\u662f <pre><code>(a, b) =&gt; a + b\n</code></pre><p></p> <p>\u533f\u540d\u51fd\u6570\u53ef\u4ee5\u4f5c\u4e3a\u5b9e\u53c2\u3001\u8fd4\u56de\u503c\uff0c\u5728\u8fd9\u4e9b\u573a\u666f\u4e2d\u5e94\u7528\u7684\u6bd4\u8f83\u591a\u3002</p> <p>\u533f\u540d\u51fd\u6570\u4f5c\u4e3a\u5b9e\u53c2 </p><pre><code># \u666e\u901a\u5199\u6cd5\ndef abs(num):\n    return (num) if num &gt;= 0 else (-num)\n\ndef abs_add(a, b, fn):\n    return fn(a) + fn(b)\n\nprint(abs_add(8, -4, abs))\n\n---------------------------------\n# \u533f\u540d\u51fd\u6570\u5199\u6cd5\ndef abs_add(a, b, fn):\n    return fn(a) + fn(b)\n\nresult = abs_add(8, -4, lambda x: x if x &gt;= 0 else -x)    # \u533f\u540d\u51fd\u6570\u4f5c\u4e3a\u5b9e\u53c2\nprint(result)\n\n---------------------------------\n\n# Output:\n12\n</code></pre><p></p> <p>\u533f\u540d\u51fd\u6570\u4f5c\u4e3a\u8fd4\u56de\u503c </p><pre><code>def build(x, y):\n    return lambda: x * x + y * y        # \u533f\u540d\u51fd\u6570\u4f5c\u4e3a\u8fd4\u56de\u503c\n\nbuild(2, 3)\n\n---------------------------------\n\n# Output:\n13\n</code></pre><p></p>","tags":["Python","\u51fd\u6570\u5f0f\u7f16\u7a0b"]},{"location":"Python/Advanced/Python-No-Feature-Functional/#_16","title":"\u603b\u7ed3","text":"<ol> <li>\u51fd\u6570\u540d\u7684\u672c\u8d28\uff1a\u51fd\u6570\u8d77\u59cb\u5730\u5740</li> <li>\u9ad8\u9636\u51fd\u6570\uff1a\u63a5\u6536\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u7684\u51fd\u6570</li> <li>\u8fd4\u56de\u51fd\u6570\uff1a\u8fd4\u56de\u4e00\u4e2a\u51fd\u6570\uff08\u5373\u8fd4\u56de\u4e00\u4e2a\u51fd\u6570\u5730\u5740\uff09\u7684\u51fd\u6570\uff0c\u662f\u60f0\u6027\u7684</li> <li>\u95ed\u5305\uff1a\u63a5\u6536\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u51fd\u6570\u7684\u51fd\u6570\uff08\u95ed\u5305=\u9ad8\u9636\u51fd\u6570+\u8fd4\u56de\u51fd\u6570\uff09</li> <li>\u88c5\u9970\u5668\uff1a\u95ed\u5305\u7684\u8bed\u6cd5\u7cd6\uff0c@\u95ed\u5305\u540d\u5b57</li> <li>\u533f\u540d\u51fd\u6570\uff1a<code>lambda \u53c2\u6570: \u8fd4\u56de\u503c</code></li> </ol>","tags":["Python","\u51fd\u6570\u5f0f\u7f16\u7a0b"]},{"location":"Python/Advanced/Python-No-Feature-High-Level-Feature/","title":"\u9ad8\u7ea7\u7279\u6027","text":""},{"location":"Python/Advanced/Python-No-Feature-High-Level-Feature/#_1","title":"\u9ad8\u7ea7\u7279\u6027","text":""},{"location":"Python/Advanced/Python-No-Feature-High-Level-Feature/#slice","title":"\u5207\u7247 Slice","text":"<p>Note</p> <p>[startWith : end : step]</p> <p>\u5207\u7247\u9002\u7528\u4e8e list\u3001tuple\u3001string</p> <p>startWith\u662f\u5305\u542b\uff0cend\u5219\u4e0d\u5305\u542b</p> <p>\u6ce8\u610f</p> <p>\u5207\u7247\u662f\u4ece\u5de6\u5f80\u53f3\u5207\u7684</p> <p>\u5982\u679c\u7528\u6b63\u7d22\u5f15\u5f00\u59cb\uff0c\u5c31\u8981\u7528 \u6b63\u7d22\u5f15 \u6216 \u9006\u7d22\u5f15 \u7ed3\u675f\uff0c\u4f8b\u5982 <code>s[1:5] \u6216 s[1:-3]</code></p> <p>\uff01\u5982\u679c\u7528\u9006\u7d22\u5f15\u5f00\u59cb\uff0c\u5c31\u8981\u7528 \u9006\u7d22\u5f15 \u7ed3\u675f\uff08<code>s[-1:1]</code> \u8fd9\u6837\u53ea\u4f1a\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\uff0c**\u6b63\u786e**\u5e94\u8be5\u662f  <code>s[-5:-1]</code>\uff09</p> <p>\uff01\u9006\u7d22\u5f15\u8bb0\u5f97\u4e0d\u8981\u5f04\u98a0\u5012\u4e86\u3002\uff08<code>s[-1:-3]</code> \u8fd9\u6837\u53ea\u4f1a\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\uff0c**\u6b63\u786e**\u5e94\u8be5\u662f<code>s[-3:-1]</code>\uff09</p>"},{"location":"Python/Advanced/Python-No-Feature-High-Level-Feature/#_2","title":"\u7d22\u5f15","text":"<pre><code>|  P  |  y  |  t  |  h  |  o  |  n  |\n   0     1     2     3     4     5            # \u4ece\u5de6\u5f80\u53f3\uff0c\u4e0b\u6807\u4ece0\u5f00\u59cb\n  -6    -5    -4    -3    -2    -1            # \u4ece\u53f3\u5f80\u5de6\uff0c\u4e0b\u6807\u4ece-1\u5f00\u59cb\n</code></pre> <pre><code>&gt;&gt;&gt; s = 'Python'\n&gt;&gt;&gt; s[0]\n'P'\n&gt;&gt;&gt; s[0:-1]     # \u7ed3\u675f\u7d22\u5f15\u4e0d\u88ab\u622a\u53d6\n'Pytho'\n&gt;&gt;&gt; s[:5]       # \u8d77\u59cb\u7d22\u5f15\u53ef\u4ee5\u7701\u7565\u4e0d\u5199\uff0c\u4ee3\u8868\u4ece\u7b2c\u4e00\u4f4d\u5f00\u59cb\u622a\u53d6\n'Pytho'\n&gt;&gt;&gt; s[0:]       # \u7ed3\u675f\u7d22\u5f15\u53ef\u4ee5\u7701\u7565\u4e0d\u5199\uff0c\u4ee3\u8868\u622a\u53d6\u81f3\u6700\u540e\u4e00\u4f4d\n'Python'\n&gt;&gt;&gt; s[:]        # \u7b49\u4e8e\u590d\u5236\u4e86\u4e00\u6574\u4e2a\n'Python'\n\n&gt;&gt;&gt; s[1:4]\n'yth'\n&gt;&gt;&gt; s[1:-2]\n'yth'\n&gt;&gt;&gt; s[-2:1]     # \u9006\u7d22\u5f15\u5f00\u59cb\uff0c\u4e0d\u80fd\u4ee5\u6b63\u7d22\u5f15\u7ed3\u675f\n''\n&gt;&gt;&gt; s[-5:-2]\n'yth'\n&gt;&gt;&gt; s[-2:-5]    # \u53ea\u80fd\u4ece\u5de6\u5f80\u53f3\u5207\n''\n</code></pre> <pre><code>&gt;&gt;&gt; l = list(range(100))\n\n&gt;&gt;&gt; l[10:20]\n[10, 11, 12, 13, 14, 15, 16, 17, 18, 19]\n\n&gt;&gt;&gt; l[10:20:3]\n[10, 13, 16, 19]\n\n&gt;&gt;&gt; l[80::3]\n[80, 83, 86, 89, 92, 95, 98]\n\n&gt;&gt;&gt; l[:10:3]\n[0, 3, 6, 9]\n\n&gt;&gt;&gt; l[::10]\n[0, 10, 20, 30, 40, 50, 60, 70, 80, 90]\n\n&gt;&gt;&gt; l[::-10]\n[99, 89, 79, 69, 59, 49, 39, 29, 19, 9]\n</code></pre>"},{"location":"Python/Advanced/Python-No-Feature-High-Level-Feature/#iteration","title":"\u8fed\u4ee3 Iteration","text":""},{"location":"Python/Advanced/Python-No-Feature-High-Level-Feature/#_3","title":"\u5224\u65ad\u662f\u5426\u8fed\u4ee3\u5bf9\u8c61","text":"<p>\u53ef\u4ee5\u7528\u8fc7 collections \u7684 Iterable \u7c7b\u578b\uff0c\u7528 <code>isinstance()</code>\u5224\u65ad <code>\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u662f\u53ef\u8fed\u4ee3\u5bf9\u8c61</code></p> <pre><code>from collections import Iterable\n\nstr = 'abc'\nl = [1, 2, 3]\nt = (1, 2, 3)\nd = {1: 1, 2: 2, 3: 3}\ns = ({1, 2, 3})\n\nprint(isinstance(str, Iterable))    # True\nprint(isinstance(l, Iterable))      # True\nprint(isinstance(t, Iterable))      # True\nprint(isinstance(d, Iterable))      # True\nprint(isinstance(s, Iterable))      # True\nprint(isinstance(123, Iterable))    # False  \u6574\u6570\u5b57\u9762\u91cf\u4e0d\u662f\u53ef\u8fed\u4ee3\u5bf9\u8c61\n</code></pre>"},{"location":"Python/Advanced/Python-No-Feature-High-Level-Feature/#list","title":"\u8fed\u4ee3 List \u5217\u8868\u7c7b\u578b\u6570\u636e","text":"<pre><code>s = 'abcdefg'\nfor value in s:\n    print(value, end=' ')\n\n# Output\uff1a\na b c d e f g\n</code></pre> <pre><code># \u53ef\u4ee5\u901a\u8fc7 enumerate() \u7ed9string\uff0clist\uff0ctuple \u7b49\u751f\u6210\u4e0b\u6807\n\ns = 'abcdefg'\nfor i, value in enumerate(s):\n    print(i, value)\n\n# Output\uff1a\n0 a\n1 b\n2 c\n3 d\n4 e\n5 f\n6 g\n</code></pre> <pre><code>l = ['a', True, (1, 2), 43]\nfor i, value in enumerate(l):\n    print(i, value)\n\n# Output:\n0 a\n1 True\n2 (1, 2)\n3 43\n</code></pre> <pre><code># \u540c\u65f6\u5f15\u7528\u4e24\u4e2a\u53d8\u91cf\nfor x, y in [(11, 12), (21, 22), (31, 32)]:\n    print(x, y)\n\n# Output:\n11 12\n21 22\n31 32\n\n######################################################\n\nfor x, y, z in [(11, 12, 13), (21, 22, 23), (31, 32, 33)]:\n    print(x, y, z)\n\n# Output:\n11 12 13\n21 22 23\n31 32 33\n</code></pre>"},{"location":"Python/Advanced/Python-No-Feature-High-Level-Feature/#dict-","title":"\u8fed\u4ee3 Dict \u952e-\u503c\u5bf9\u7c7b\u578b\u6570\u636e","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cDict\u8fed\u4ee3\u7684\u662fkey\uff0c\u5982\u679c\u8981\u8fed\u4ee3value\uff0c\u53ef\u4ee5\u7528 <code>for value in d.values()</code> \u5982\u679c\u8981\u540c\u65f6\u8fed\u4ee3key \u548c value\uff0c \u53ef\u4ee5\u7528 <code>for k, v in d.items()</code></p> <pre><code>d = {'a': 'Alice', 'b': 'Boii', 'c': 'Cai'}\nfor i in d:\n    print(i)\n\n# Output:\na\nb\nc\n\n#############################################\n\nd = {'a': 'Alice', 'b': 'Boii', 'c': 'Cai'}\nfor i in d.values():\n    print(i)\n\n# Output:\nAlice\nBoii\nCai\n\n#############################################\n\nd = {'a': 'Alice', 'b': 'Boii', 'c': 'Cai'}\nfor k, v in d.items():\n    print(k, '-', v)\n\n# Output:\na - Alice\nb - Boii\nc - Cai\n</code></pre>"},{"location":"Python/Advanced/Python-No-Feature-High-Level-Feature/#list-comprehensions","title":"\u5217\u8868\u751f\u6210\u5f0f List Comprehensions","text":""},{"location":"Python/Advanced/Python-No-Feature-High-Level-Feature/#_4","title":"\u5217\u8868\u751f\u6210\u5f0f","text":"<p>[ i-expression for i in Iterations ]</p> <p>[ i-expression for i in Iterations if expression ]</p> <p>[ i-expression if expression else expression for i in Iterations ]</p> <p></p><pre><code>[ \u00b7\u00b7\u00b7 for \u00b7\u00b7\u00b7 in \u00b7\u00b7\u00b7 ]\n[ \u00b7\u00b7\u00b7 for \u00b7\u00b7\u00b7 in \u00b7\u00b7\u00b7 if \u00b7\u00b7\u00b7 ]\n[ \u00b7\u00b7\u00b7 if \u00b7\u00b7\u00b7 else \u00b7\u00b7\u00b7 for \u00b7\u00b7\u00b7 in \u00b7\u00b7\u00b7 ]\n</code></pre> \u5217\u8868\u751f\u6210\u5f0f\u662f\u4e00\u79cd\u975e\u5e38\u7b80\u6d01\u7684\u8bed\u6cd5\uff0c\u53ef\u4ee5\u5927\u5e45\u5ea6\u7684\u538b\u7f29\u4ee3\u7801\u3002<p></p> <p>\u9605\u8bfb\u65b9\u5f0f\uff1a</p> <ul> <li> <p><code>[i-expression for i in Iterations]</code></p> <p>\u904d\u5386\u8fed\u4ee3\u5bf9\u8c61 Iterations\uff0c\u5c06\u6bcf\u4e2a\u5143\u7d20 e \u653e\u5230 i-expression\u4e2d\u8fd0\u7b97\u540e\uff0c\u4f5c\u4e3a\u8fd9\u4e2a\u5217\u8868 list \u7684\u5143\u7d20</p> </li> <li> <p><code>[i-expression for i in Iterations if expression]</code></p> <p>\u904d\u5386\u8fed\u4ee3\u5bf9\u8c61 Iterations\uff0c\u5c06\u6bcf\u4e2a\u5143\u7d20 e \u653e\u5230 if \u4e2d\u7684 expression\u4e2d\u8fd0\u7b97\u540e\uff0c\u653e\u5230 i-expression \u4e2d\u8fd0\u7b97\uff0c\u7136\u540e\u4f5c\u4e3a\u8fd9\u4e2a\u5217\u8868 list \u7684\u5143\u7d20</p> </li> <li> <p><code>[i-expression if expression else expression for i in Iterations]</code></p> <p>\u904d\u5386\u8fed\u4ee3\u5bf9\u8c61 Iterations\uff0c\u5c06\u6bcf\u4e2a\u5143\u7d20 e \u653e\u5230 if else \u4e2d\u7684 expression\u4e2d\u8fd0\u7b97\u540e\uff0c\u653e\u5230 i-expression \u4e2d\u8fd0\u7b97\uff0c\u7136\u540e\u4f5c\u4e3a\u8fd9\u4e2a\u5217\u8868 list \u7684\u5143\u7d20</p> </li> </ul> <p>for \u524d\u7684 if else \u53ef\u4ee5\u770b\u6210\u4e09\u76ee\u8fd0\u7b97\u7b26\uff0c\u8fd9\u6837\u6bd4\u8f83\u597d\u7406\u89e3\u3002</p> <ol> <li>\u4e09\u76ee\u8fd0\u7b97\u7b26\uff1aTrue\u65f6\u6267\u884c if expression else Flase\u65f6\u6267\u884c</li> <li>\u5bf9\u6bd4\u4e00\u4e0b\uff1a<code>[ i-expression if expression else expression for i in Iterations ]</code></li> <li>\u4ee3\u5165\u4e00\u4e0b\uff1a<code>[ True\u65f6\u6267\u884c if expression else Flase\u65f6\u6267\u884c for i in Iterations ]</code></li> </ol> <p>\u4e00\u53e5\u8bdd\uff1a\u539f\u672c\u670910\u4e2a\uff0cfor...if \u540e\u4e0d\u4e00\u5b9a\u6709 10 \u4e2a\uff0c if...else...for \u4ee5\u540e\u670910\u4e2a\uff0c\u4e0d\u8fc7\u53ef\u80fd\u4e0d\u5c3d\u76f8\u540c\u3002 \u4e24\u53e5\u8bdd\uff1afor \u524d\u5fc5 else\uff0cfor \u540e\u4e0delse\u3002</p> <p>Warning</p> <p>\u6ce8\u610f\uff1ai-expression \u7684<code>\u8ba1\u7b97\u53d8\u91cf</code>\u548c for \u91cc\u7684<code>\u4e34\u65f6\u53d8\u91cf</code>\u8981\u76f8\u540c</p> <p>\u666e\u901a\u5217\u8868\u751f\u6210\u5f0f</p> <pre><code># range(1, 11) \u751f\u62101~10 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n# for in \u904d\u5386\u8fd910\u4e2a\u6570\n# \u6bcf\u6b21\u904d\u5386\u90fd\u628a\u5f53\u524d\u5143\u7d20\u62ff\u5230 i-expression \u5373 x * x \u505a\u76f8\u4e58\u8ba1\u7b97\n# \u7136\u540e\u4f5c\u4e3a\u5217\u8868\u7684\u5143\u7d20\n# \u6ce8\u610f for \u7684\u4e34\u65f6\u53d8\u91cf\u662f x\uff0ci-expression \u7684\u53d8\u91cf\u4e5f\u662f x\uff0c\u8fd9\u4e24\u4e2a\u8981\u76f8\u540c\n\n# \u8fd9\u91cc\u662f\u8ba1\u7b97\u51fa1~10\u6bcf\u4e2a\u6570\u7684\u5e73\u65b9\n&gt;&gt;&gt; [x * x for x in range(1, 11)]\n[1, 4, 9, 16, 25, 36, 49, 64, 81, 100]\n\n\n# \u628a\u4e00\u4e2a List \u4e2d\u6240\u6709\u5b57\u7b26\u4e32\u53d8\u5c0f\u5199\n&gt;&gt;&gt; L = ['Hello', 'World', 'IBM', 'Apple']\n&gt;&gt;&gt; [s.lower() for s in L]\n['hello', 'world', 'ibm', 'apple']\n</code></pre> <p>for \u91cc\u5e26 if \u7b5b\u9009\u7684\u5217\u8868\u751f\u6210\u5f0f</p> <pre><code># range(1, 11) \u751f\u62101~10 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n# for in \u904d\u5386\u8fd910\u4e2a\u6570\n# \u6bcf\u6b21\u904d\u5386\u90fd\u628a\u5f53\u524d\u5143\u7d20\u62ff\u5230 if \u91cc\u8ba1\u7b97, \u5f97\u5230 [2, 4, 6, 8, 10]\n# \u7136\u540e\u653e\u5230 i-expression \u5373 x * x \u505a\u76f8\u4e58\u8ba1\u7b97\u5f97\u5230 [4, 16, 36, 64, 100]\n# \u6700\u540e\u4f5c\u4e3a\u5217\u8868\u7684\u5143\u7d20\n\n# \u8fd9\u91cc\u662f\u7b5b\u9009\u51fa\u5076\u6570\uff0c\u7136\u540e\u8ba1\u7b97\u5e73\u65b9\n\n&gt;&gt;&gt; [x * x for x in range(1, 11) if x % 2 == 0]\n[4, 16, 36, 64, 100]\n</code></pre> <p>\u53cc\u5faa\u73af\u7684\u5217\u8868\u751f\u6210\u5f0f</p> <pre><code># \u8fd8\u53ef\u4ee5\u4f7f\u7528\u53cc\u5faa\u73af\uff0c\u751f\u6210\u5168\u6392\u5217\n\n&gt;&gt;&gt; [m + n for m in 'ABC' for n in 'XYZ']\n['AX', 'AY', 'AZ', 'BX', 'BY', 'BZ', 'CX', 'CY', 'CZ']\n</code></pre> <p>\u591a\u53d8\u91cf\u7684\u5217\u8868\u751f\u6210\u5f0f</p> <pre><code># \u4e00\u4e2a\u5faa\u73af\u591a\u4e2a\u53d8\u91cf\u4e5f\u662f\u53ef\u4ee5\u7684\n&gt;&gt;&gt; d = {'x': 'A', 'y': 'B', 'z': 'C' }\n&gt;&gt;&gt; [k + '-' + v for k, v in d.items()]\n['y-B', 'x-A', 'z-C']\n</code></pre> <p>for \u524d\u5e26 if \u7684\u5217\u8868\u751f\u6210\u5f0f</p> <pre><code># # range(1, 11) \u751f\u62101~10 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n# for in \u904d\u5386\u8fd910\u4e2a\u6570\n# \u6bcf\u6b21\u904d\u5386\u90fd\u628a\u5f53\u524d\u5143\u7d20\u62ff\u5230 for \u524d\u7684 if else\u4e09\u76ee\u8fd0\u7b97\u7b26\u91cc\u8ba1\u7b97\n# x if x % 2 == 0 else -x ,\u5076\u6570\u6b63\u5e38\u8f93\u51fa, \u5947\u6570\u53d8\u8d1f\u6570\uff0c\u5f97\u5230 [-1, 2, -3, 4, -5, 6, -7, 8, -9, 10]\n# \u6700\u540e\u4f5c\u4e3a\u5217\u8868\u7684\u5143\u7d20\n&gt;&gt;&gt; [x if x % 2 == 0 else -x for x in range(1, 11)]\n[-1, 2, -3, 4, -5, 6, -7, 8, -9, 10]\n\n# \u518d\u7a0d\u5fae\u6539\u52a8\u4e0b\n# \u628a x if x % 2 == 0 else x + 10 \u770b\u4f5c\u4e09\u76ee\u8fd0\u7b97\u7b26\u5c31\u5f88\u597d\u7406\u89e3\n&gt;&gt;&gt; [x if x % 2 == 0 else x + 10 for x in range(1, 11)]\n[11, 2, 13, 4, 15, 6, 17, 8, 19, 10]\n</code></pre>"},{"location":"Python/Advanced/Python-No-Feature-High-Level-Feature/#_5","title":"\u5176\u4ed6\u751f\u6210\u5f0f","text":"<p>\u9664\u4e86\u5217\u8868\u751f\u6210\u5f0f\uff0c\u8fd8\u6709<code>\u5b57\u5178\u751f\u6210\u5f0f</code>\u3001<code>\u5143\u7ec4\u751f\u6210\u5f0f</code>\uff0c\u5176\u5b9e\u73b0\u90fd\u662f\u4e00\u6837\u7684</p> <pre><code>{k: v for k, v in d.items()}\n{k: v for k, v in d.items() if condition}\n{k: v if condition else k: -v for k, v in d.items() }\n</code></pre> <p>\u5143\u7ec4\u751f\u6210\u5f0f \u751f\u6210\u4e00\u4e2a\u751f\u6210\u5668\u5bf9\u8c61\uff0c\u4e0b\u9762\u5c06\u4f1a\u8bb2\u5230\u3002</p>"},{"location":"Python/Advanced/Python-No-Feature-High-Level-Feature/#_6","title":"\u9519\u8bef\u793a\u8303","text":"<pre><code># for \u540e if \u52a0 else\n&gt;&gt;&gt; [x for x in range(1, 11) if x % 2 == 0 else 0]\n  File \"&lt;stdin&gt;\", line 1\n    [x for x in range(1, 11) if x % 2 == 0 else 0]\n                                              ^\nSyntaxError: invalid syntax\n\n# for \u524d if \u4e0d\u52a0 else\n&gt;&gt;&gt; [x if x % 2 == 0 for x in range(1, 11)]\n  File \"&lt;stdin&gt;\", line 1\n    [x if x % 2 == 0 for x in range(1, 11)]\n                     ^\nSyntaxError: invalid syntax\n</code></pre>"},{"location":"Python/Advanced/Python-No-Feature-High-Level-Feature/#_7","title":"\u603b\u7ed3","text":"<ul> <li><code>for...in...</code> \u6700\u5148\uff0c<code>if \u6216 if else</code> \u968f\u540e\uff0c<code>i-expression</code> \u6700\u540e</li> <li><code>for \u524d if</code> \u5fc5\u52a0 else\uff0c<code>for \u540e if</code> \u4e0d\u52a0 else</li> <li><code>for \u524d if</code> \u662f\u5bf9 for\u7684\u8f93\u51fa\u8fdb\u884c\u5904\u7406\uff0c<code>for \u540e if</code> \u662f\u5bf9for\u7684\u8f93\u51fa\u8fdb\u884c\u63a7\u5236\u8fc7\u6ee4</li> </ul>"},{"location":"Python/Advanced/Python-No-Feature-High-Level-Feature/#generator","title":"\u751f\u6210\u5668 Generator","text":""},{"location":"Python/Advanced/Python-No-Feature-High-Level-Feature/#_8","title":"\u666e\u901a\u5f62\u5f0f","text":"<p>\u5143\u7ec4\u751f\u6210\u5f0f \u751f\u6210\u4e00\u4e2a\u751f\u6210\u5668\u5bf9\u8c61\uff0c\u901a\u8fc7for\u6216\u8005next\u904d\u5386,\u904d\u5386\u540e\uff0c\u539f\u751f\u6210\u5668\u5bf9\u8c61\u5c31\u4e0d\u5b58\u5728\u4e86</p> <p>Note</p> <p>( i-expression for i in Iterations )</p> <p>( i-expression for i in Iterations if expression )</p> <p>( i-expression if expression else expression for i in Iterations )</p> <pre><code>(\u00b7\u00b7\u00b7 for \u00b7\u00b7\u00b7 in \u00b7\u00b7\u00b7 )\n(\u00b7\u00b7\u00b7 for \u00b7\u00b7\u00b7 in \u00b7\u00b7\u00b7 if \u00b7\u00b7\u00b7 )\n(\u00b7\u00b7\u00b7 if \u00b7\u00b7\u00b7 else \u00b7\u00b7\u00b7 for \u00b7\u00b7\u00b7 in \u00b7\u00b7\u00b7 )\n</code></pre> <p>\u751f\u6210\u5668\uff0c\u662f\u4e00\u79cd\u4e00\u8fb9\u5faa\u73af\u4e00\u8fb9\u8ba1\u7b97\u7684\u673a\u5236</p> <p>\u6bd4\u5982\u73b0\u5728\u9700\u8981\u4e00\u4e2a<code>1\u5230100W\u7684\u5e73\u65b9</code>\u7684\u5217\u8868\uff0c\u7528\u5217\u8868\u751f\u6210\u5f0f\u8868\u793a\u4e3a<code>[ x * x for x in range(1000000)]</code></p> <p>\u4f46\u5982\u679c\u53ea\u9700\u8981\u7ecf\u5e38\u8bbf\u95ee\u524d\u9762\u51e0\u4e2a\u5143\u7d20\uff0c\u5219\u6d6a\u8d39\u4e86\u5f88\u5927\u7684\u7a7a\u95f4</p> <p>\u800c**\u751f\u6210\u5668\u662f\u4fdd\u5b58\u4e86\u4e00\u79cd\u7b97\u6cd5\uff0c\u5b83\u4e0d\u4f1a\u76f4\u63a5\u521b\u5efa100W\u4e2a\u6570\uff0c\u800c\u662f\u7b49\u5230\u8c03\u7528\u7684\u65f6\u5019\u901a\u8fc7\u8ba1\u7b97\u83b7\u5f97**</p> <p>\u4e5f\u5c31\u662f\u8bf4\uff1a\u5217\u8868\u751f\u6210\u5f0f\u662f\u4e00\u79cd\u7f29\u5199\uff0c\u751f\u6210\u5668\u662f\u4e00\u79cd\u7b97\u6cd5</p> <p>Tip</p> <p>\u751f\u6210\u5668 vs \u5217\u8868\u751f\u6210\u5f0f\uff1a</p> <p>\u5217\u8868\u751f\u6210\u5f0f \u662f\u4f7f\u7528 <code>[]</code>\uff0c\u751f\u6210\u5668 \u662f\u4f7f\u7528 <code>()</code></p> <p>\u5217\u8868\u751f\u6210\u5f0f\u662f\u4e00\u4e2a\u5217\u8868\uff0c\u53ef\u4ee5\u76f4\u63a5\u5217\u51fa\u6240\u6709\u5143\u7d20\uff1b\u751f\u6210\u5668\u8981\u7528<code>next()</code>\u6216<code>\u904d\u5386</code>\u6765\u5217\u51fa\u6240\u6709\u5143\u7d20</p> <pre><code>&gt;&gt;&gt; L = [ x * x for x in range(10)]\n&gt;&gt;&gt; L\n[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]\n\n&gt;&gt;&gt; G = ( x * x for x in range(10) )\n&gt;&gt;&gt; G\n&lt;generator object &lt;genexpr&gt; at 0x00000204807D8D60&gt;\n&gt;&gt;&gt; next(G)\n0\n&gt;&gt;&gt; next(G)\n1\n&gt;&gt;&gt; next(G)\n4\n&gt;&gt;&gt; next(G)\n9\n&gt;&gt;&gt; next(G)\n16\n&gt;&gt;&gt; next(G)\n25\n&gt;&gt;&gt; next(G)\n36\n&gt;&gt;&gt; next(G)\n49\n&gt;&gt;&gt; next(G)\n64\n&gt;&gt;&gt; next(G)\n81\n&gt;&gt;&gt; next(G)\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nStopIteration\n</code></pre> <p>\u751f\u6210\u5668\u662f\u7b97\u6cd5\uff0c\u662f\u89c4\u5f8b\uff0c\u662f\u8ba1\u7b97\u65b9\u5f0f\uff0c\u901a\u8fc7<code>next(G)</code>\u8ba1\u7b97\u51faG\u7684\u4e0b\u4e00\u4e2a\u5143\u7d20\u7684\u503c\uff0c\u76f4\u5230\u6700\u540e\u4e00\u4e2a\u5143\u7d20.</p> <p>\u6ca1\u6709\u66f4\u591a\u5143\u7d20\u7684\u65f6\u5019\uff0c\u629b\u51fa<code>StopIteration</code>\u9519\u8bef</p> <p>\u4f46\u662f\u8fd9\u79cd\u4e0d\u65ad\u8c03\u7528<code>next()</code>\u7684\u65b9\u6cd5\u663e\u7136\u4e0d\u79d1\u5b66\uff0c</p> <p>\u6240\u4ee5\u4e00\u822c\u90fd\u662f\u7528<code>for\u5faa\u73af</code></p> <pre><code>G = ( x * x for x in range(10) )\nfor i in G:\n    print(i, end=' ')\n\n# Output:\n0 1 4 9 16 25 36 49 64 81\n</code></pre>"},{"location":"Python/Advanced/Python-No-Feature-High-Level-Feature/#_9","title":"\u51fd\u6570\u5f62\u5f0f","text":"<p>\u751f\u6210\u5668\u7684\u53e6\u4e00\u79cd\u5b9e\u73b0\u65b9\u5f0f\u662f <code>\u51fd\u6570\u5f62\u5f0f</code></p> <pre><code>def funcName():\n    sth\n    while True:\n        yield sth\n        sth\n</code></pre> <p>\u666e\u901a\u51fd\u6570\u901a\u8fc7<code>return\u8bed\u53e5</code>\u8fd4\u56de</p> <p>\u751f\u6210\u5668\u901a\u8fc7<code>yield\u8bed\u53e5</code>\u8fd4\u56de\uff0c\u5e76\u5728\u4e0b\u6b21\u8c03\u7528\u65f6\u4ece<code>yield\u8bed\u53e5</code>\u5904\u7ee7\u7eed</p> <p><code>yield</code>\u53ef\u4ee5\u770b\u6210<code>return</code>\uff0c\u90fd\u662f\u8fd4\u56de\u4e00\u4e2a\u503c\u51fa\u53bb</p> <p>\u53ea\u4e0d\u8fc7\u4f7f\u7528<code>yield</code>\u5728\u4e0b\u6b21\u8c03\u7528\u65f6\u4f1a\u4ece<code>yield</code>\u5904\u7ee7\u7eed\u3002</p>"},{"location":"Python/Advanced/Python-No-Feature-High-Level-Feature/#_10","title":"\u5b9e\u4f8b","text":"<p>\u4f8b\u5982\u6253\u5370\u6768\u8f89\u4e09\u89d2 </p><pre><code>          1\n         / \\\n        1   1\n       / \\ / \\\n      1   2   1\n     / \\ / \\ / \\\n    1   3   3   1\n   / \\ / \\ / \\ / \\\n  1   4   6   4   1\n / \\ / \\ / \\ / \\ / \\\n1   5   10  10  5   1\n</code></pre> \u671f\u5f85\u8f93\u51fa\u662f\u8fd9\u6837\u7684 <pre><code># [1]\n# [1, 1]\n# [1, 2, 1]\n# [1, 3, 3, 1]\n# [1, 4, 6, 4, 1]\n# [1, 5, 10, 10, 5, 1]\n# [1, 6, 15, 20, 15, 6, 1]\n# [1, 7, 21, 35, 35, 21, 7, 1]\n# [1, 8, 28, 56, 70, 56, 28, 8, 1]\n# [1, 9, 36, 84, 126, 126, 84, 36, 9, 1]\n</code></pre> \u5b9e\u73b0\u601d\u8def\uff1a<p></p> <p>\u5148\u770b\u6768\u8f89\u4e09\u89d2\u7684\u89c4\u5f8b\uff1a\u5934\u5c3e\u90fd\u662f1\uff0c\u4e2d\u95f4\u662f\u4e0a\u4e00\u5c42<code>\u7b2cn\u4e2a</code>+<code>\u7b2cn+1\u4e2a</code>\uff0c\u6bcf\u4e00\u5c42\u90fd\u662flist</p> <p>\u800c\u4e14\u7b2c\u4e00\u5c42\u6bd4\u8f83\u7279\u6b8a\uff0c\u662f [1]</p> <p>\u53ef\u4ee5\u5148\u628a\u6768\u8f89\u4e09\u89d2\u6838\u5fc3\u7684\u7b97\u6cd5\u641e\u5b9a\u3002</p>"},{"location":"Python/Advanced/Python-No-Feature-High-Level-Feature/#_11","title":"\u6838\u5fc3\u7b97\u6cd5","text":"<pre><code>L = [1]\nL = [1] + [L[n] + L[n+1] for n in range(len(L)-1)] +[1]\n</code></pre> <code>[1] + [L[n] + L[n+1] for n in range(len(L)-1)] +[1]</code> \u5c31\u662f\u6838\u5fc3\u7b97\u6cd5\u4e86 <p>\u628a\u4ed6\u62c6\u5f00\u6765\u770b\uff0c\u53ef\u4ee5\u53d1\u73b0\u8fd9\u4e2a\u8868\u8fbe\u5f0f\u662f\u7531\u4e2d\u95f4\u6bb5\u52a0\u4e0a\u5934\u5c3e\u7684 <code>[1]</code> \u7ec4\u6210\u7684</p> <p>\u518d\u770b\u4e2d\u95f4\u6bb5 <code>[L[n] + L[n+1] for n in range(len(L)-1)]</code></p> <p>\u8fd9\u662f\u4e00\u4e2a\u5217\u8868\u751f\u6210\u5f0f</p> <p><code>range(len(L)-1)</code>\u4f1a\u751f\u6210 0 1 2 ...</p> <p>\u5047\u8bbe\u5f53\u524d\u4e3a\u7b2c5\u5c42\uff0c\u51c6\u5907\u751f\u6210 [1, 4, 6, 4, 1]</p> <p>\u5f53\u524d\u7684 L \u662f [1, 3, 3, 1]\uff0c\u90a3\u4e48<code>len(L)</code>\u5219\u662f4\uff0c</p> <p><code>range(len(L) - 1)</code>\u5219\u7b49\u4ef7\u4e8e<code>range(3)</code>,\u4f1a\u751f\u6210 0 1 2</p> <p><code>[L[n] + L[n+1] for n in range(len(L)-1)]</code>\u5219\u7b49\u4ef7\u4e8e</p> <p><code>[L[0]+L[1], L[1]+L[2], L[2]+L[3]]</code> \u5219\u7b49\u4ef7\u4e8e</p> <p><code>[  1 + 3,     3 + 3,     3 + 1  ]</code>\u5219\u7b49\u4ef7\u4e8e</p> <p><code>[4, 6, 4]</code> \u6b63\u597d\u5c31\u662f\u4e2d\u95f4\u6bb5</p> <p>\u518d\u52a0\u4e0a\u5934\u5c3e\u4e24\u4e2a [1]\uff1a <code>[1, 4, 6, 4, 1]</code></p>"},{"location":"Python/Advanced/Python-No-Feature-High-Level-Feature/#_12","title":"\u505a\u6210\u751f\u6210\u5668","text":"<p>\u56e0\u4e3a\u7b2c\u4e00\u5c42 \u7279\u6b8a\uff0c\u6240\u4ee5\u7528\u5c0f\u62ec\u53f7\u5217\u8868\u751f\u6210\u5f0f<code>()</code>\u505a\u4e0d\u51fa\u6765\uff0c\u6539\u7528\u51fd\u6570\u5f62\u5f0f</p> <pre><code>def triangles():\n    L = [1]\n    while True:\n        yield L\n        L = [1] + [L[x]+L[x+1] for x in range(len(L)-1)] + [1]\n</code></pre> <p>\u7b2c\u4e00\u6b21\u8fed\u4ee3\u751f\u6210\u5668triangles\u65f6\uff0c\u4f1a\u6267\u884c <code>L = [1]</code>\uff0c\u7136\u540e\u8fdb\u5165\u5faa\u73af\uff0c\u9047\u5230<code>yield L</code>\u628aL\u8fd4\u56de\u51fa\u53bb</p> <p>\u7b2c\u4e8c\u6b21\u8fed\u4ee3\u751f\u6210\u5668triangles\u65f6\uff0c\u4f1a\u4ece<code>yield L</code>\u5904\u7ee7\u7eed\uff0c</p> <p>\u7136\u540e\u6267\u884c\u6838\u5fc3\u7b97\u6cd5 <code>L = [1] + [L[x]+L[x+1] for x in range(len(L)-1)] + [1]</code></p> <p>\u4e4b\u540e\u7ee7\u7eed\u5faa\u73af\uff0c\u53c8\u9047\u5230<code>yield L</code>\uff0c\u628a\u66f4\u65b0\u8fc7\u7684 L \u8fd4\u56de\u51fa\u53bb</p> <p>\u63a5\u7740\u7b2c\u4e09\u6b21\uff0c\u7b2c\u56db\u6b21...</p> <p>\u5176\u5b9e\u6709\u70b9\u7c7b\u4f3c C \u8bed\u8a00\u4e2d\u88ab<code>static</code>\u4fee\u9970\u7684\u5c40\u90e8\u53d8\u91cf\uff0c\u51fd\u6570\u8c03\u7528\u5b8c\u4e0d\u4f1a\u88ab\u9500\u6bc1\uff0c\u7a0b\u5e8f\u7ed3\u675f\u624d\u9500\u6bc1</p>"},{"location":"Python/Advanced/Python-No-Feature-High-Level-Feature/#_13","title":"\u904d\u5386\u8f93\u51fa","text":"<pre><code>for n, t in enumerate(triangles()):\n    results.append(t)\n    n += 1\n    if n == 10:\n        break\n</code></pre> <p>\u751f\u6210\u5668\u4e5f\u662f\u4e00\u4e2a\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff0c\u6240\u4ee5\u53ef\u4ee5\u7528 <code>for...in...</code>\u6765\u8fed\u4ee3\u8f93\u51fa</p> <p><code>enumerate()</code>\u8d4b\u4e88\u4e86\u5bf9\u5e94\u7684\u4e0b\u6807</p> <p>\u8fd9\u4e2a\u751f\u6210\u5668\u53ef\u4ee5\u65e0\u9650\u5faa\u73af\u4e0b\u53bb\uff0c\u53ef\u4ee5\u83b7\u5f97\u65e0\u7a77\u5c42\uff0c\u8fd9\u91cc\u6253\u537010\u5c42\u4f5c\u4e3a\u793a\u8303\u5373\u53ef</p> <p>\u6700\u540e\u53ef\u4ee5\u5f97\u5230\u671f\u5f85\u8f93\u51fa\uff1a</p> <pre><code>[1]\n[1, 1]\n[1, 2, 1]\n[1, 3, 3, 1]\n[1, 4, 6, 4, 1]\n[1, 5, 10, 10, 5, 1]\n[1, 6, 15, 20, 15, 6, 1]\n[1, 7, 21, 35, 35, 21, 7, 1]\n[1, 8, 28, 56, 70, 56, 28, 8, 1]\n[1, 9, 36, 84, 126, 126, 84, 36, 9, 1]\n</code></pre>"},{"location":"Python/Advanced/Python-No-Feature-High-Level-Feature/#_14","title":"\u5b8c\u6574\u4ee3\u7801","text":"<pre><code>def triangles():\n    L = [1]\n    while True:\n        yield L\n        L = [1] + [L[x]+L[x+1] for x in range(len(L)-1)] + [1]\n\n\nresults = []\nfor n, t in enumerate(triangles()):\n    results.append(t)\n    n += 1\n    if n == 10:\n        break\n\nfor t in results:\n    print(t)\n\nif results == [\n    [1],\n    [1, 1],\n    [1, 2, 1],\n    [1, 3, 3, 1],\n    [1, 4, 6, 4, 1],\n    [1, 5, 10, 10, 5, 1],\n    [1, 6, 15, 20, 15, 6, 1],\n    [1, 7, 21, 35, 35, 21, 7, 1],\n    [1, 8, 28, 56, 70, 56, 28, 8, 1],\n    [1, 9, 36, 84, 126, 126, 84, 36, 9, 1]\n]:\n    print('\u6d4b\u8bd5\u901a\u8fc7!')\nelse:\n    print('\u6d4b\u8bd5\u5931\u8d25!')\n</code></pre>"},{"location":"Python/Advanced/Python-No-Feature-High-Level-Feature/#_15","title":"\u603b\u7ed3","text":"<p>\u666e\u901a\u5f62\u5f0f-\u751f\u6210\u5668\uff1a\u628a\u5217\u8868\u751f\u6210\u5f0f\u7684<code>[]</code>\u6362\u6210<code>()</code> </p> <p>\u51fd\u6570\u5f62\u5f0f-\u751f\u6210\u5668\uff1a\u51fd\u6570\u4e2d\u5e26<code>yield</code>\uff0c\u4e0b\u4e00\u6b21\u8c03\u7528\u65f6\u4f1a\u4ece<code>yield</code>\u5904\u7ee7\u7eed</p>"},{"location":"Python/Advanced/Python-No-Feature-High-Level-Feature/#iterator","title":"\u8fed\u4ee3\u5668 Iterator","text":"<p>\u53ef\u4ee5\u88ab<code>next()</code>\u51fd\u6570\u8c03\u7528\u5e76\u4e0d\u65ad\u8fd4\u56de\u4e0b\u4e00\u4e2a\u503c\u7684\u5bf9\u8c61\u79f0\u4e3a\u8fed\u4ee3**\u5668**\uff1a<code>Iterator</code>\u3002</p> <p>\u53ef\u8fed\u4ee3**\u5bf9\u8c61**\uff1a \u53ef\u4ee5\u76f4\u63a5\u4f5c\u7528\u4e8e for \u5faa\u73af\u7684\u5bf9\u8c61\u7edf\u79f0\u4e3a\u53ef\u8fed\u4ee3**\u5bf9\u8c61**<code>Iterable</code> \u53ef\u8fed\u4ee3**\u5bf9\u8c61**<code>Iterable</code>\uff1a 1. List\u3001Tuple\u3001Dict\u3001Set\u3001String\uff1b 2. \u751f\u6210\u5668Generator\u3001\u5e26<code>yield</code>\u7684Generator Function</p> <p>\u53ef\u4ee5\u7528<code>isinstance(obj, Iterable)</code>\u5224\u65ad\u662f\u5426\u662f\u53ef\u8fed\u4ee3**\u5bf9\u8c61**</p> <p>\u8fed\u4ee3**\u5668**\uff1a \u4e0d\u4f46\u53ef\u4ee5\u4f5c\u7528\u4e8e for \u5faa\u73af\uff0c\u8fd8\u53ef\u4ee5\u88ab<code>next()</code>\u51fd\u6570\u8c03\u7528\u5e76\u4e0d\u65ad\u8fd4\u56de\u4e0b\u4e00\u4e2a\u503c\u5219\u79f0\u4e3a\u8fed\u4ee3**\u5668**\uff1a<code>Iterator</code>\u3002 \u751f\u6210\u5668Generator\u3001\u5e26<code>yield</code>\u7684Generator Function\u5c31\u662f\u8fed\u4ee3**\u5668** \u53ef\u4ee5\u7528<code>isinstance(obj, Iterator)</code>\u5224\u65ad\u662f\u5426\u662f\u8fed\u4ee3**\u5668**</p> <p>\u6240\u4ee5\uff1aGenerator\u3001Generator Function \u65e2\u662f <code>Iterator</code>\uff0c\u4e5f\u662f <code>Iterable</code> \u800c List\u3001Tuple\u3001Dict\u3001Set\u3001String \u4ec5\u4ec5\u53ea\u662f <code>Iterable</code>\uff0c\u4f46\u662f\uff0c\u4f7f\u7528<code>iter()</code>\u51fd\u6570\u53ef\u4ee5\u4f7f\u4ed6\u4eec\u53d8\u6210\u8fed\u4ee3**\u5668**<code>Iterator</code></p> <pre><code>&gt;&gt;&gt; isinstance(iter([]), Iterator)\nTrue\n&gt;&gt;&gt; isinstance(iter('Boii'), Iterator)\nTrue\n</code></pre>"},{"location":"Python/Advanced/Python-No-Feature-High-Level-Feature/#_16","title":"\u8fed\u4ee3\u5668\u7684\u672c\u8d28","text":"<p>Python\u7684<code>Iterator\u5bf9\u8c61</code>\u8868\u793a\u7684\u662f\u4e00\u4e2a\u6570\u636e\u6d41\uff0c<code>Iterator\u5bf9\u8c61</code>\u53ef\u4ee5\u88ab<code>next()\u51fd\u6570</code>\u8c03\u7528\u5e76\u4e0d\u65ad\u8fd4\u56de\u4e0b\u4e00\u4e2a\u6570\u636e\uff0c\u76f4\u5230\u6ca1\u6709\u6570\u636e\u65f6\u629b\u51fa<code>StopIteration</code>\u9519\u8bef\u3002 \u53ef\u4ee5\u628a\u8fd9\u4e2a\u6570\u636e\u6d41\u770b\u505a\u662f\u4e00\u4e2a\u6709\u5e8f\u5e8f\u5217\uff0c\u4f46\u6211\u4eec\u5374\u4e0d\u80fd\u63d0\u524d\u77e5\u9053\u5e8f\u5217\u7684\u957f\u5ea6 \u53ea\u80fd\u4e0d\u65ad\u901a\u8fc7<code>next()\u51fd\u6570</code>\u5b9e\u73b0\u6309\u9700\u8ba1\u7b97\u4e0b\u4e00\u4e2a\u6570\u636e\uff0c\u6240\u4ee5<code>Iterator</code>\u7684\u8ba1\u7b97\u662f**\u60f0\u6027**\u7684\uff0c\u53ea\u6709\u5728\u9700\u8981\u8fd4\u56de\u4e0b\u4e00\u4e2a\u6570\u636e\u65f6\u5b83\u624d\u4f1a\u8ba1\u7b97</p>"},{"location":"Python/Advanced/Python-No-Feature-High-Level-Feature/#_17","title":"\u81ea\u5b9a\u4e49\u53ef\u8fed\u4ee3\u7c7b","text":"<p>\u53ea\u8981\u7c7b\u4e2d\u5b9e\u73b0\u4e86<code>__iter__()</code>\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u7c7b\u7684\u5bf9\u8c61\u5c31\u662f\u53ef\u8fed\u4ee3**\u5bf9\u8c61**<code>Iterable</code>\u3002 \u53ea\u8981\u7c7b\u4e2d\u5b9e\u73b0\u4e86<code>__iter__()</code>\u548c<code>__next__()</code>\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u7c7b\u5c31\u662f\u4e2a\u8fed\u4ee3**\u5668**<code>Iteratorn</code>\u3002</p> <p><code>__iter__()</code>\u65b9\u6cd5\u5fc5\u987b\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3**\u5668**\u3002 \u90a3\u4e48\u4ee3\u7801\u5c31\u662f\u8fd9\u6837\u5b50\uff1a</p> <p></p><pre><code># 1. \u521b\u5efa\u4e00\u4e2a\u7c7b\nclass Classmate:\n    def __init__(self):\n        self.names = list()\n\n    def add(self, value):\n        self.names.append(value)\n\n    # 2. \u5b9e\u73b0__iter__\u65b9\u6cd5\uff0c\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\n    def __iter__(self):\n        \"\"\"\u53ea\u6709\u5b9e\u73b0\u4e86__iter__\u65b9\u6cd5\uff0c\u624d\u80fd\u53ef\u8fed\u4ee3\"\"\"\n        return ClassmateIterator(self)  # __iter__ \u5fc5\u987b\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\u5bf9\u8c61\n\n\n# 3. \u521b\u5efa\u4e00\u4e2a\u8fed\u4ee3\u5668\nclass ClassmateIterator:\n    \"\"\"\u5b9e\u73b0\u4e86__iter__\u548c__next__\u65b9\u6cd5\uff0c\u624d\u662f\u4e00\u4e2a\u8fed\u4ee3\u5668\"\"\"\n    def __init__(self, obj):\n        self.obj = obj\n        self.current_num = 0\n\n    # 4. \u8fed\u4ee3\u5668\u9700\u8981\u5b9e\u73b0 __iter__, __next__\u65b9\u6cd5\n    def __iter__(self):\n        pass\n\n    def __next__(self):\n        \"\"\"\u5b9e\u73b0\u4e86__iter__\u548c__next__\u65b9\u6cd5\uff0c\u624d\u662f\u4e00\u4e2a\u8fed\u4ee3\u5668\"\"\"\n        if self.current_num &lt; len(self.obj.names):\n            res = self.obj.names[self.current_num]\n            self.current_num += 1\n            return res\n        else:\n            raise StopIteration\n\n\nif __name__ == '__main__':\n    clsm = Classmate()\n    clsm.add(123)\n    clsm.add(456)\n    clsm.add(789)\n\n    # \u901a\u8fc7\u5faa\u73af\u68c0\u67e5classmate\u5bf9\u8c61\u662f\u5426\u53ef\u8fed\u4ee3\n    for i in clsm:\n        print(i)\n\n--------------------------------------------------\n\n# Output:\n123\n456\n789\n</code></pre> \u603b\u7ed3\u8d77\u6765\u5c31\u662f\uff1a \u521b\u5efa\u4e00\u4e2a\u7c7b\u5e76\u5b9e\u73b0<code>__iter__()</code>\u65b9\u6cd5\u53bb\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668 \u521b\u5efa\u4e00\u4e2a\u7c7b\u5e76\u5b9e\u73b0<code>__iter__()</code>\u548c<code>__next__()</code>\u65b9\u6cd5\uff0c\u4f7f\u5176\u6210\u4e3a\u8fed\u4ee3\u5668\u3002<p></p> <p>\u8fd9\u6837\u770b\u8d77\u6765\u597d\u50cf\u4e3a\u4e86\u5b9e\u73b0\u4e00\u4e2a\u8fed\u4ee3\u5668\u53c8\u751f\u6210\u4e86\u4e00\u4e2a\u8fed\u4ee3\u5668 \u65e2\u7136\u6211\u662f\u60f3\u9020\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c<code>__iter__()</code>\u65b9\u6cd5\u6709\u9700\u8981\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\u5bf9\u8c61\uff0c\u90a3\u6211\u8fd4\u56de\u81ea\u5df1\u4e0d\u884c\u5417\uff1f</p> <p>\u53ef\u4ee5\uff01 </p><pre><code># 1. \u521b\u5efa\u4e00\u4e2a\u7c7b\nclass Classmate:\n    def __init__(self):\n        self.names = list()\n        self.current_num = 0\n\n    def add(self, value):\n        self.names.append(value)\n\n    # 2. \u5b9e\u73b0__iter__\u65b9\u6cd5\uff0c\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\n    def __iter__(self):\n        \"\"\"\u53ea\u6709\u5b9e\u73b0\u4e86__iter__\u65b9\u6cd5\uff0c\u624d\u80fd\u53ef\u8fed\u4ee3\"\"\"\n        return self  # __iter__ \u5fc5\u987b\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\u5bf9\u8c61\uff0c\u8fd9\u91cc\u5c31\u8fd4\u56de\u81ea\u5df1\u5c31\u884c\n\n    # 3. \u5b9e\u73b0__next__\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u4f1a\u5728\u5916\u90e8\u4f7f\u7528next(Iterator)\u65f6\u8c03\u7528\u3002\n    def __next__(self):\n        \"\"\"\u5b9e\u73b0\u4e86__iter__\u548c__next__\u65b9\u6cd5\uff0c\u624d\u662f\u4e00\u4e2a\u8fed\u4ee3\u5668\"\"\"\n        if self.current_num &lt; len(self.names):\n            res = self.names[self.current_num]\n            self.current_num += 1\n            return res\n        else:\n            raise StopIteration\n\n\nif __name__ == '__main__':\n    clsm = Classmate()\n    clsm.add(123)\n    clsm.add(456)\n    clsm.add(789)\n\n    # \u901a\u8fc7\u5faa\u73af\u68c0\u67e5classmate\u5bf9\u8c61\u662f\u5426\u53ef\u8fed\u4ee3\n    for i in clsm:\n        print(i)\n\n--------------------------------------------------\n\n# Output:\n123\n456\n789\n</code></pre><p></p>"},{"location":"Python/Advanced/Python-No-Feature-High-Level-Feature/#_18","title":"\u603b\u7ed3","text":"<ol> <li>\u53ef\u8fed\u4ee3\u5bf9\u8c61\u548c\u8fed\u4ee3\u5668\uff0c\u901a\u8fc7\u51fd\u6570<code>iter()</code>\u8f6c\u6362</li> <li>\u8fed\u4ee3\u5668\uff1a\u6570\u636e\u6d41\uff0c\u53d8\u957f\uff0c\u60f0\u6027\u7684 </li> <li>\u7ee7\u627f\u5173\u7cfb\uff1aIterable&gt;Iterator&gt;Generator(\u53c2\u8003python doc)</li> <li>Iterable\uff1alist\u3001tuple\u3001dict\u3001set\u3001str\u3001Iterator\u3001Generator\u7b49</li> <li>Iterator\u8f6c\u5316\u6210Iterator\uff1aIterator=iter(Iterable)</li> <li>\u81ea\u5b9a\u4e49\u8fed\u4ee3\u7c7b\u65f6\u5fc5\u987b\u5b9e\u73b0<code>__iter__()</code>\u548c<code>__next__()</code>\u65b9\u6cd5</li> <li><code>__iter__()</code>\u65b9\u6cd5\u5fc5\u987b\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668</li> </ol>"},{"location":"Python/Advanced/Python-No-Feature-Utility-Class/","title":"Python\u3010Feature\u3011\u5de5\u5177\u7c7b","text":"<p>Python\u7684\u9ad8\u7ea7\u7279\u60273</p> <p></p>","tags":["Python","\u51fd\u6570\u5f0f\u7f16\u7a0b"]},{"location":"Python/Advanced/Python-No-Feature-Utility-Class/#map","title":"map","text":"<p>\u5c06\u4f20\u5165\u7684\u51fd\u6570\u4f5c\u7528\u4e8e\u53ef\u8fed\u4ee3\u5bf9\u8c61\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u4e0a</p> <p><code>map(function, iterable)</code> \u53c2\u6570\uff1amap \u53ef\u4ee5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u51fd\u6570\uff0c\u7b2c\u4e8c\u4e2a\u662f\u53ef\u8fed\u4ee3\u5bf9\u8c61 \u4f5c\u7528\uff1a\u5c06\u53ef\u8fed\u4ee3\u5bf9\u8c61\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u653e\u5728 function \u4e2d\u8fdb\u884c\u5904\u7406 \u8fd4\u56de\uff1amap \u8fd4\u56de\u7684\u662f\u4e00\u4e2a map \u5bf9\u8c61\uff0c\u8fd9\u662f\u4e00\u4e2a\u53ef\u8fed\u4ee3\u5bf9\u8c61</p> <p></p> <p>\u4e3e\u4e2a\u6817\u5b50\uff1a </p><pre><code># \u4f7f\u7528map\u793a\u4f8b\nalpha = ['a', 'b', 'c', 'x', 'y', 'z']\nm = map(lambda x: x + 'i', alpha)\nprint(m)\nprint(list(m))    # \u8fd4\u56de\u7684map\u5bf9\u8c61\u7528m\u63a5\u6536\uff0c\u7136\u540e\u8f6c\u6362\u6210\u5217\u8868\uff0c\u6253\u5370\u51fa\u6765\n\n--------------------------------------------------\n\n# Output:\n&lt;map object at 0x000001D50CEBAD00&gt;\n['ai', 'bi', 'ci', 'xi', 'yi', 'zi']\n</code></pre><p></p> <p>\u5982\u679c\u4e0d\u4f7f\u7528 map \u51fd\u6570\uff0c\u5e94\u8be5\u8fd9\u6837\u5199 </p><pre><code># \u4e0d\u9002\u7528map\u7684\u793a\u4f8b\nalpha = ['a', 'b', 'c', 'x', 'y', 'z']\n\ndef add_alpha(list1):\n    \"\"\" \u904d\u5386list1\uff0c\u6bcf\u4e2a\u5143\u7d20\u90fd\u52a0\u4e0a i \u7136\u540e\u653e\u8fdb list2 \u4e2d \"\"\"\n    list2 = list()\n    for alpha in list1:\n        list2.append(alpha + 'i')\n    return list2\n\nm = add_alpha(alpha)\nprint(m)\nprint(type(m))\n\n--------------------------------------------------\n\n# Output:\n['ai', 'bi', 'ci', 'xi', 'yi', 'zi']\n&lt;class 'list'&gt;\n</code></pre> \u6548\u679c\u662f\u4e00\u6837\u7684\uff0c\u4f46\u662f\u5e76\u6ca1\u6709\u50cf map \u90a3\u4e48\u7b80\u6d01<p></p> <p>\u540c\u6837\uff0c\u4e0a\u9762\u7684\u793a\u4f8b\u8fd8\u53ef\u4ee5\u4f7f\u7528\u66f4\u7b80\u6d01\u7684\u529e\u6cd5\uff0c\u7528\u5217\u8868\u751f\u6210\u5f0f \u524d\u63d0\u662f\u5176\u903b\u8f91\u6bd4\u8f83\u7b80\u5355\uff0c\u5982\u679c\u590d\u6742\u8fd8\u662f\u8981\u53e6\u5916\u7f16\u5199 \u64cd\u4f5c\u51fd\u6570\uff0c\u7136\u540e\u4f20\u7ed9 map() </p><pre><code>alpha = ['a', 'b', 'c', 'x', 'y', 'z']\nprint([x + 'i' for x in alpha])\n\n--------------------------------------------------\n\n# Output:\n['ai', 'bi', 'ci', 'xi', 'yi', 'zi']\n</code></pre><p></p> <p>\u6b64\u5916\uff0c\u56e0\u4e3a\u8fd4\u56de\u51fa\u6765\u7684\u5df2\u7ecf\u4e0d\u662f\u539f\u672c\u653e\u8fdb\u53bb\u7684\u53ef\u8fed\u4ee3\u5bf9\u8c61\u4e86\uff0c\u6240\u4ee5\u5373\u4f7f\u5143\u7ec4\u4e0d\u80fd\u4fee\u6539\uff0cmap \u4e5f\u80fd\u8fdb\u884c\u64cd\u4f5c </p><pre><code># \u5bf9\u5143\u7ec4\u8fdb\u884c\u64cd\u4f5c\nm = (12, 23, 28, 19, 16, 30)\nprint('m source:  ', id(m))    # \u6253\u5370\u539f\u5143\u7ec4\u7684\u5730\u5740\nm = map(lambda x: x * x, m)    # \u5bf9\u5143\u7ec4\u8fdb\u884c\u64cd\u4f5c\nprint('m operated:', id(m))    # \u6253\u5370\u4fee\u6539\u540e\u5143\u7ec4\u7684\u5730\u5740\nprint('m is a', m)             # \u6253\u5370\u7ed3\u679c\u663e\u793a m \u662f\u4e2a map\u5bf9\u8c61\nprint(list(m))                 # \u628a m \u8f6c\u6210\u5217\u8868\u6253\u5370\u51fa\u6765\n\n--------------------------------------------------\n\n# Output:\nm source:   2599500087840\nm operated: 2599500555024\nm is a &lt;map object at 0x0000025D3E4EA310&gt;\n[144, 529, 784, 361, 256, 900]\n</code></pre><p></p>","tags":["Python","\u51fd\u6570\u5f0f\u7f16\u7a0b"]},{"location":"Python/Advanced/Python-No-Feature-Utility-Class/#filter","title":"filter","text":"<p>\u5bf9\u53ef\u8fed\u4ee3\u5bf9\u8c61\u8fdb\u884c\u8fc7\u6ee4 Python2 \u4e2d filter \u662f\u4e2a\u5185\u7f6e\u51fd\u6570, Python3 \u4e2d filter \u662f\u4e2a\u5185\u7f6e\u7c7b</p> <p><code>filter(condition_function, iterable)</code> \u53c2\u6570\uff1afilter \u53ef\u4ee5\u63a5\u6536\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u51fd\u6570\uff0c\u7b2c\u4e8c\u4e2a\u662f\u53ef\u8fed\u4ee3\u5bf9\u8c61 \u4f5c\u7528\uff1a\u5c06 \u53ef\u8fed\u4ee3\u5bf9\u8c61 \u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u653e\u5728 function \u4e2d\u8fdb\u884c\u8fc7\u6ee4\uff0c\u6ee1\u8db3 function \u4e2d\u7684\u8fc7\u6ee4\u89c4\u5219\u4fbf\u8fd4\u56de \u8fd4\u56de\uff1afilter \u8fd4\u56de\u7684\u662f\u4e00\u4e2a filter\u5bf9\u8c61\uff0c\u8fd9\u662f\u4e00\u4e2a\u53ef\u8fed\u4ee3\u5bf9\u8c61\u3002</p> <p></p> <p></p><pre><code># filter \u793a\u4f8b\nf = [12, 23, 28, 19, 16, 30]\nprint('f source:  ', id(f))             # \u6253\u5370\u539f\u5143\u7ec4\u7684\u5730\u5740\nf = filter(lambda x: x &gt;= 18, f)        # \u5bf9 \u5217\u8868\u8fdb\u884c\u8fc7\u6ee4\uff0c\u8fc7\u6ee4\u51fa\u5927\u4e8e\u7b49\u4e8e18\u7684\u5143\u7d20\nprint('f operated:', id(f))             # \u6253\u5370\u4fee\u6539\u540e\u5143\u7ec4\u7684\u5730\u5740\nprint('f is a', f)                      # \u6253\u5370\u7ed3\u679c\u663e\u793a f \u662f\u4e2a filter\u5bf9\u8c61\nprint(list(f))                          # \u628a f \u8f6c\u6210\u5217\u8868\u6253\u5370\u51fa\u6765\n\n--------------------------------------------------\n\n# Output:\nf source:   2379695132608\nf operated: 2379696090368\nf is a &lt;filter object at 0x0000022A10F0AD00&gt;\n[23, 28, 19, 30]\n</code></pre> \u540c\u6837\uff0cfilter \u4e5f\u53ef\u4ee5\u5bf9\u5143\u7ec4\u64cd\u4f5c\uff0c\u7b80\u5355\u7684\u8fc7\u6ee4\u89c4\u5219\u4e5f\u53ef\u4ee5\u7528\u5217\u8868\u751f\u6210\u5f0f\u4ee3\u66ff<p></p> <pre><code># \u7528\u5217\u8868\u751f\u6210\u5f0f\u5b9e\u73b0\u7b80\u5355\u8fc7\u6ee4\nf = [12, 23, 28, 19, 16, 30]\nprint([x for x in f if x &gt;= 18])\n\n--------------------------------------------------\n\n# Output:\n[23, 28, 19, 30]\n</code></pre>","tags":["Python","\u51fd\u6570\u5f0f\u7f16\u7a0b"]},{"location":"Python/Advanced/Python-No-Feature-Utility-Class/#reduce","title":"reduce","text":"<p>reduce \u4e0d\u662f\u5185\u7f6e\u51fd\u6570\uff0c\u5fc5\u987b\u5bfc\u5165</p> <p><code>from functools import reduce</code> <code>reduce(function, sequence, initial=_initial_missing)</code></p> <p>\u53c2\u6570\uff1areduce \u7b2c\u4e00\u4e2a\u53c2\u6570\u63a5\u6536\u4e00\u4e2a\u5e26\u4e24\u4e2a\u5f62\u53c2\u7684\u51fd\u6570\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u63a5\u6536\u4e00\u4e2a\u5e8f\u5217 \u4f5c\u7528\uff1a\u628a\u51fd\u6570\u4f5c\u7528\u5728\u4e00\u4e2a\u5e8f\u5217\u4e0a\uff0c\u51fd\u6570\u5fc5\u987b\u63a5\u6536\u4e24\u4e2a\u53c2\u6570\uff0creduce \u628a\u7ed3\u679c\u7ee7\u7eed\u548c\u5e8f\u5217\u7684\u4e0b\u4e00\u4e2a\u5143\u7d20\u505a\u7d2f\u8ba1\u8fd0\u7b97 \u8fd4\u56de\uff1a\u4e00\u4e2a\u8ba1\u7b97\u7ed3\u679c</p> <p></p> <p>\u542c\u8d77\u6765\u6709\u70b9\u7ed5\uff0c\u7528\u793a\u4f8b\u89e3\u91ca</p> <p></p><pre><code>from functools import reduce\n\ndef foo(x, y):\n    return x + y\n\nscores = [100, 89, 76, 87]\nr = reduce(foo, scores)\nprint(r)\n\n--------------------------------------------------\n\n# Output:\n352\n</code></pre> \u5728 reduce \u4e2d\u4f1a\u4e00\u6b21\u6b21\u8c03\u7528scores\u4e2d\u7684\u5143\u7d20\u653e\u5230foo\u51fd\u6570\u4e2d\u8fdb\u884c\u8ba1\u7b97 \u7b2c\u4e00\u8f6e\uff1ax = 100, y = 89, result = 189 \u7b2c\u4e8c\u8f6e\uff1ax = result, y = 76, result = 265 (\u5373 189 + 76) \u7b2c\u4e09\u8f6e\uff1ax = result, y = 87, result = 352 (\u5373 265 + 87) \u6700\u540e\u628a result \u4e5f\u5c31\u662f 352 \u8fd4\u56de\u51fa\u53bb<p></p> <p>\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\u7684\u5e8f\u5217\u8fd8\u662f\u6bd4\u8f83\u7b80\u5355\u7684\uff0c\u5982\u679c\u9047\u5230\u590d\u6742\u7684\u6570\u636e\u5bf9\u8c61\uff0c\u5219\u4e0d\u80fd\u8fd9\u4e48\u7b80\u5355\u5904\u7406</p> <p></p><pre><code>from functools import reduce\n\ndic = [\n    {'name': 'Alice', 'age': 18, 'score': 78},\n    {'name': 'Boii', 'age': 17, 'score': 89},\n    {'name': 'Candy', 'age': 19, 'score': 65},\n    {'name': 'Dannis', 'age': 22, 'score': 99}\n]\n\n\ndef foo(x, y):\n    return x['score'] + y['score']    # \u7b2c\u4e8c\u8f6e\u5c31\u4f1a\u51fa\u9519\n\n\nr = reduce(foo, dic)\nprint(r)\n\n--------------------------------------------------\n\n# Output:\nTraceback (most recent call last):\n  File \"d:/---Programming---/Python/Project/\u7ec3\u4e60/mo2.py\", line 58, in &lt;module&gt;\n    r = reduce(foo, dic)\n  File \"d:/---Programming---/Python/Project/\u7ec3\u4e60/mo2.py\", line 55, in foo\n    return x + y['score']\nTypeError: unsupported operand type(s) for +: 'dict' and 'int'\n</code></pre> \u54e6\u56af\uff0c\u62a5\u9519\u3002 \u62a5\u9519\u4fe1\u606f\u4e3a\uff1aunsupported operand type(s) for +: 'dict' and 'int' \u4e0d\u652f\u6301 \u5b57\u5178\u5bf9\u8c61\u548c\u6574\u578b\u505a \u76f8\u52a0\u64cd\u4f5c<p></p> <p>\u65e2\u7136\u8bf4\u76f8\u52a0\uff0c\u770b\u6765\u95ee\u9898\u51fa\u5728foo\u51fd\u6570\u8eab\u4e0a \u4ee5\u4e0a\u9762\u7684\u65b9\u5f0f\u518d\u8fdb\u884c\u4e00\u6b21\u63a8\u5bfc \u7b2c\u4e00\u8f6e\uff1a x = {'name': 'Alice', 'age': 18, 'score': 78}, y = {'name': 'Boii', 'age': 17, 'score': 89},  \u5219 x['score'] = 78, y['score'] = 89, result = 167 \u7b2c\u4e8c\u8f6e\uff1a x = result, y = {'name': 'Candy', 'age': 19, 'score': 65},  \u5219 x['score'] =...     \u95ee\u9898\u5c31\u51fa\u5728\u8fd9</p> <p>\u7b2c\u4e00\u6b21\u8ba1\u7b97\u4e4b\u540eresult \u7ed9\u4e86x\uff0cx\u5c31\u6210\u4e86\u6574\u578b\uff0c\u5f53\u7136\u53d6\u4e0d\u51fa score</p> <p>\u89e3\u51b3\u65b9\u6cd5\uff0c\u6539\u4e3a <code>return x + y['score']</code></p> <p></p><pre><code>from functools import reduce\n\ndic = [\n    {'name': 'Alice', 'age': 18, 'score': 78},\n    {'name': 'Boii', 'age': 17, 'score': 89},\n    {'name': 'Candy', 'age': 19, 'score': 65},\n    {'name': 'Dannis', 'age': 22, 'score': 99}\n]\n\n\ndef foo(x, y):\n    return x + y['score']    # \u4e00\u4e2a\u5b57\u5178 + \u4e00\u4e2a\u6574\u578b\uff0c\u4f9d\u7136\u62a5\u9519\n\n\nr = reduce(foo, dic)\nprint(r)\n\n--------------------------------------------------\n\n# Output:\nTraceback (most recent call last):\n  File \"d:/---Programming---/Python/Project/\u7ec3\u4e60/mo2.py\", line 58, in &lt;module&gt;\n    r = reduce(foo, dic)\n  File \"d:/---Programming---/Python/Project/\u7ec3\u4e60/mo2.py\", line 55, in foo\n    return x + y['score']\nTypeError: unsupported operand type(s) for +: 'dict' and 'int'\n</code></pre> \u4f9d\u7136\u62a5\u9519\uff0c\u8fd9\u56de\u95ee\u9898\u51fa\u5728\u7b2c\u4e00\u8f6e x = {'name': 'Alice', 'age': 18, 'score': 78}\uff0cy['score'] = 89 \u4e00\u4e2a\u662f\u5b57\u5178\u4e00\u4e2a\u662f\u6574\u578b<p></p> <p>\u89e3\u51b3\u65b9\u6cd5\uff0c\u8bbe\u7f6e\u521d\u59cb\u503c</p> <p></p><pre><code>from functools import reduce\n\ndic = [\n    {'name': 'Alice', 'age': 18, 'score': 78},\n    {'name': 'Boii', 'age': 17, 'score': 89},\n    {'name': 'Candy', 'age': 19, 'score': 65},\n    {'name': 'Dannis', 'age': 22, 'score': 99}\n]\n\n\ndef foo(x, y):\n    return x + y['score']\n\n\nr = reduce(foo, dic, 0)\nprint(r)\n\n--------------------------------------------------\n\n# Output:\n331\n</code></pre> \u7b2c\u4e00\u8f6e\uff1a x = 0, y = {'name': 'Alice', 'age': 18, 'score': 78}, \u5219 y['score'] = 78, result = 78 \u7b2c\u4e8c\u8f6e\uff1a x = result, y ={'name': 'Boii', 'age': 17, 'score': 89}, \u5219 y['score'] = 89, result = 167 \u7b2c\u4e09\u8f6e\uff1a x = result, y ={'name': 'Candy', 'age': 19, 'score': 65}, \u5219 y['score'] = 65, result = 232 \u7b2c\u56db\u8f6e\uff1a x = result, y ={'name': 'Dannis', 'age': 22, 'score': 99}, \u5219 y['score'] = 99, result = 331 \u6700\u540e\u628a 331 \u8fd4\u56de\u51fa\u53bb<p></p>","tags":["Python","\u51fd\u6570\u5f0f\u7f16\u7a0b"]},{"location":"Python/Advanced/OOP/Python-No-11-Class%26Object/","title":"\u7c7b\u548c\u5bf9\u8c61","text":""},{"location":"Python/Advanced/OOP/Python-No-11-Class%26Object/#classinstance","title":"Class&amp;Instance","text":"<p>\u5c01\u88c5\u3001\u7ee7\u627f\u3001\u591a\u6001</p>"},{"location":"Python/Advanced/OOP/Python-No-11-Class%26Object/#class","title":"Class","text":"<p>\u7c7b\u5c31\u50cf\u6a21\u5177\uff0c\u7528\u6a21\u5177\u5236\u4f5c\u51fa\u6765\u7684\u4ea7\u54c1\u53eb\u505a\u5bf9\u8c61</p> <pre><code># \u4e0d\u5e26\u7ee7\u627f\u7684\u7c7b\nclass ClsName:    # \u7c7b\u540d\n    # \u9759\u6001\u5b57\u6bb5\uff0c\u901a\u8fc7\u7c7b\u8bbf\u95ee print(ClsName.name), \u5728\u5185\u5b58\u4e2d\u53ea\u4fdd\u5b58\u4e00\u4efd\n    name = ''\n    age = 0        # public\u7c7b\u53d8\u91cf\uff0c\u4efb\u4f55\u533a\u57df\u90fd\u80fd\u8bbf\u95ee\n    _weight = 0    # protected\u7c7b\u53d8\u91cf\uff0c\u5f53\u524d\u7c7b\u548c\u5b50\u7c7b\u548c\u540c\u4e00\u6a21\u5757\u4e2d\u624d\u80fd\u8bbf\u95ee\n    __height = 0   # private\u7c7b\u53d8\u91cf\uff0c\u53ea\u6709\u5f53\u524d\u7c7b\u624d\u80fd\u8bbf\u95ee\n\n    # \u6784\u9020\u65b9\u6cd5\n    def __init__(self,[para1[, para2[, paraN]):\n        \"\"\" \u8fd9\u91cc\u662f\u7c7b\u6587\u6863 \"\"\"\n        # \u666e\u901a\u5b57\u6bb5\uff0c\u901a\u8fc7\u5b9e\u4f8b\u6765\u8bbf\u95ee print(clsInstance.para1), \u6bcf\u4e2a\u5b9e\u4f8b\u4e2d\u90fd\u4fdd\u5b58\n        self.para1 = para1\n        self.para2 = para2\n\n    # \u7c7b\u65b9\u6cd5\n    def method(self):\n        \"\"\" \u8fd9\u91cc\u662f\u65b9\u6cd5\u6ce8\u91ca \"\"\"\n        &lt;statement&gt;\n\n    # \u7c7b\u7684\u79c1\u6709\u65b9\u6cd5\n    def __private_method(self):\n        &lt;statement&gt;\n\n# \u7ee7\u627f\u4e86\u522b\u7684\u7c7b\u7684\u7c7b\nclass ClsName(BaseClsName1[, Base2[, Base3[, BaseN]):    # \u62ec\u53f7\u5185\u662f\u8fd9\u4e2a\u7c7b\u6240\u7ee7\u627f\u7684\u7236\u7c7b\n    &lt;statement&gt;\n</code></pre>"},{"location":"Python/Advanced/OOP/Python-No-11-Class%26Object/#self","title":"self","text":"<p>\u8fd9\u662f<code>\u65b9\u6cd5</code>\u548c<code>\u51fd\u6570</code>\u7684\u533a\u522b\u4e4b\u5904\uff1a\u4e0d\u7ba1\u662f\u4ec0\u4e48\u65b9\u6cd5\u90fd\u8981\u6709<code>self</code>\u8fd9\u4e2a\u53c2\u6570\uff0c\u518d\u5199\u5176\u4ed6\u53c2\u6570\u3002</p> <p>\u8fd9\u4e2a<code>self</code>\u662f\u552f\u4e00\u7684\u4e0d\u53ef\u7f3a\u5c11\u7684\uff0c\u5b83\u7b49\u4ef7\u4e8ejava \u548c C++\u4e2d\u7684<code>this</code>\u3002</p> <p>\u4f46\u662f\u8c03\u7528\u65b9\u6cd5\u7684\u65f6\u5019\u4e0d\u9700\u8981\u7ed9\u5b83\u8d4b\u503c\u3002</p> <p>\u5f53\u8fd9\u6837\u8c03\u7528\u5bf9\u8c61\u7684\u65b9\u6cd5\u65f6\uff1a<code>myobject.method(arg1,arg2)</code>\uff0c\u89e3\u91ca\u5668\u4f1a\u89e3\u91ca\u4e3a<code>MyClass.method(myobject, arg1, arg2)</code>\uff0c\u8fd9\u5c31\u662f\u65b9\u6cd5\u7684\u81ea\u52a8\u4f20\u503c</p>"},{"location":"Python/Advanced/OOP/Python-No-11-Class%26Object/#vs","title":"\u7c7b\u53d8\u91cf VS \u5bf9\u8c61\u53d8\u91cf","text":"<p>\u7c7b\u53d8\u91cf\u6216\u8005\u8bf4\u9759\u6001\u5b57\u6bb5\u90fd\u662f\u4e00\u4e2a\u4e1c\u897f\u3002\uff08\u7c7b\u53d8\u91cf == \u9759\u6001\u5b57\u6bb5\u3001\u7c7b\u5c5e\u6027\uff09</p> <p>\u5bf9\u8c61\u53d8\u91cf\u6216\u8005\u8bf4\u666e\u901a\u5b57\u6bb5\u4e5f\u90fd\u662f\u4e00\u4e2a\u4e1c\u897f\u3002\uff08\u5bf9\u8c61\u53d8\u91cf == \u666e\u901a\u5b57\u6bb5\u3001\u5b9e\u4f8b\u5c5e\u6027\uff09</p> <p>\u987e\u540d\u601d\u4e49\uff0c<code>\u7c7b\u53d8\u91cf</code>\u5c31\u662f\u5c5e\u4e8e<code>\u7c7b</code>\u7684\u53d8\u91cf\uff0c<code>\u5bf9\u8c61\u53d8\u91cf</code>\u5c31\u662f\u5c5e\u4e8e<code>\u5bf9\u8c61\uff08\u5b9e\u4f8b\uff09</code>\u7684\u53d8\u91cf</p>"},{"location":"Python/Advanced/OOP/Python-No-11-Class%26Object/#_1","title":"\u5dee\u522b","text":"<p>\u5b9a\u4e49\uff1a </p><pre><code>class Person:\n    # \u7c7b\u53d8\u91cf\u3001\u9759\u6001\u5b57\u6bb5\u3001\u7c7b\u5c5e\u6027\n    eyes = 2\n    nose = 1\n\n    def __init__(self, name, age):\n        # \u5bf9\u8c61\u53d8\u91cf\u3001\u666e\u901a\u5b57\u6bb5\u3001\u5b9e\u4f8b\u5c5e\u6027\n        self.name = name\n        self.age = age\n</code></pre> ![](<p></p> <p>\u5b9e\u4f8b\u5316\uff1a </p><pre><code># \u521b\u5efa\u4e24\u4e2a\u5bf9\u8c61\uff08\u5b9e\u4f8b\u5316\uff09\np1 = Person('Boii', 20)\np2 = Person('Cai', 18)\n\n\n# \u8bbf\u95ee\u9759\u6001\u53d8\u91cf\nprint(Person.eyes)    # 2 \u901a\u8fc7\u7c7b\u540d\u8bbf\u95ee\nprint(p1.eyes)        # 2 \u901a\u8fc7\u5bf9\u8c61\u8bbf\u95ee\nprint(p2.nose)        # 1 \u901a\u8fc7\u5bf9\u8c61\u8bbf\u95ee\n\n# \u8bbf\u95ee\u5bf9\u8c61\u53d8\u91cf\nprint(p1.name)   # Boii\nprint(p2.name)   # Cai\n</code></pre> <p></p> <p>\u4fee\u6539\u7c7b\u53d8\u91cf\u4ee5\u540e\uff1a </p><pre><code># \u4fee\u6539\u9759\u6001\u53d8\u91cf\nPerson.eyes = 1\n\nprint(p1.eyes)    # 1\nprint(p2.eyes)    # 1\n</code></pre> <p></p> <p></p><pre><code># \u4fee\u6539\u5bf9\u8c61\u53d8\u91cf\np1.age = 50\n\nprint(p1.age)    # 50\nprint(p2.age)    # 18, \u6539\u4e86\u5bf9\u8c61A\u7684\uff0c\u5bf9\u8c61B\u662f\u4e0d\u53d7\u5f71\u54cd\u7684\n</code></pre> <p></p> <p>\u7c7b\u53d8\u91cf\uff0c\u662f\u5c5e\u4e8e\u7c7b\u7684\uff0c\u5b58\u5728\u7c7b\u90a3\u5757\u5185\u5b58\u4e2d\uff0c\u7c7b\u53d8\u91cf\u88ab\u8be5\u7c7b\u521b\u5efa\u51fa\u6765\u7684\u5bf9\u8c61\u5171\u4eab\u3002</p> <p>\u4f8b\u5982\u4e0a\u56fe\u4e2d\uff0c\u6700\u4e0a\u9762\u7684\u8868\u683c\u4e2d\u5c31\u662f\u7c7b\u672c\u8eab\u5360\u7684\u5185\u5b58\uff0c\u5176\u4e2d\u5c31\u6709\u7c7b\u53d8\u91cf eyes \u548c nose</p> <p>\u4e0b\u9762\u4e24\u4e2a\u5c0f\u8868\u683c\u5c31\u662f\u5bf9\u8c61 p1 \u548c p2 \u5404\u81ea\u5360\u7684\u7a7a\u95f4\uff0c\u5176\u4e2d\u5c31\u4fdd\u5b58\u7740\u5bf9\u8c61\u53d8\u91cf name\uff0cage</p> <p>\u4fee\u6539\u7c7b\u53d8\u91cf eyes \u548c nose \u540e\uff0c\u5bf9\u8c61 p1 \u548c p2 \u53bb\u8bbf\u95ee eyes \u548c nose \u5c31\u4f1a\u8bbf\u95ee\u5230\u4fee\u6539\u540e\u7684\u503c</p> <p>\u4fee\u6539\u5bf9\u8c61\u53d8\u91cf name \u6216 age \u540e\uff0c\u5bf9\u8c61\u4e4b\u95f4\u4e92\u4e0d\u5f71\u54cd\u3002</p> <p>\u5047\u8bbe\u4e00\u4e2a\u7c7b\u521b\u5efa\u4e86\u4e24\u4e2a\u5bf9\u8c61A \u548c B</p> <p>\u8fd9\u65f6\u5185\u5b58\u4e2d\u5176\u5b9e\u662f\u6709\u4e09\u5757\u7a7a\u95f4\u7684\uff0c\u4e00\u5757\u662f\u7c7b\u7684\uff0c\u4e00\u5757\u662f\u5bf9\u8c61A\u7684\uff0c\u4e00\u5757\u662f\u5bf9\u8c61B\u7684\u3002</p> <p>\u5f53\u901a\u8fc7<code>\u7c7b\u540d.\u7c7b\u53d8\u91cf</code>\u8bbf\u95ee\u7684\u65f6\u5019\uff0c\u662f\u8bbf\u95ee<code>\u7c7b\u90a3\u5757\u5185\u5b58</code>\u91cc\u7684\u7c7b\u53d8\u91cf\u7684</p> <p>\u5f53\u901a\u8fc7<code>\u7c7b\u540d.\u7c7b\u53d8\u91cf</code>\u4fee\u6539\u7684\u65f6\u5019\uff0c\u662f\u4fee\u6539<code>\u7c7b\u90a3\u5757\u5185\u5b58</code>\u91cc\u7684\u7c7b\u53d8\u91cf\u7684</p> <p>\u5f53\u901a\u8fc7<code>\u5bf9\u8c61.\u7c7b\u53d8\u91cf</code>\u8bbf\u95ee\u7684\u65f6\u5019\uff0c\u662f\u7cfb\u7edf\u8dd1\u53bb<code>\u7c7b\u90a3\u5757\u5185\u5b58</code>\u91cc\u8bbf\u95ee\u7c7b\u53d8\u91cf\u7684</p> <p>\u5f53\u901a\u8fc7<code>\u5bf9\u8c61.\u7c7b\u53d8\u91cf</code>\u4fee\u6539\u7684\u65f6\u5019\uff0c\u662f\u7cfb\u7edf\u8dd1\u53bb<code>\u7c7b\u90a3\u5757\u5185\u5b58</code>\u91cc \u590d\u5236 \u7c7b\u53d8\u91cf\u5230<code>\u5bf9\u8c61\u90a3\u5757\u5185\u5b58</code>\u91cc\u7684</p> <p>\u6b64\u65f6\u901a\u8fc7<code>\u7c7b\u540d.\u7c7b\u53d8\u91cf</code>\u4fee\u6539\uff0c\u518d\u901a\u8fc7<code>\u5bf9\u8c61.\u7c7b\u53d8\u91cf</code>\u8bbf\u95ee\uff0c\u5176\u5b9e\u8bbf\u95ee\u7684\u662f<code>\u5bf9\u8c61\u81ea\u5df1\u5185\u5b58</code>\u91cc\u7684\u90a3\u4e2a\u7c7b\u53d8\u91cf</p> <p></p><pre><code>class Person:\n    # \u7c7b\u53d8\u91cf\u3001\u9759\u6001\u5b57\u6bb5\n    eyes = 2\n\n    def __init__(self, name, age):\n        self.name = name\n        self.age = age\n\n# \u521b\u5efa\u4e24\u4e2a\u5bf9\u8c61\np1 = Person('Boii', 20)\np2 = Person('Cai', 18)\n\n\n# \u901a\u8fc7\u7c7b \u8bbf\u95ee\u9759\u6001\u53d8\u91cf\nprint(Person.eyes)        # 2\n# \u901a\u8fc7\u5bf9\u8c61 \u8bbf\u95ee\u9759\u6001\u53d8\u91cf\nprint(p1.eyes)       # 2\nprint(p2.eyes)       # 2\n\n\n### \u901a\u8fc7\u7c7b \u4fee\u6539\u9759\u6001\u53d8\u91cf\nPerson.eyes = 1\n# \u518d\u901a\u8fc7\u7c7b \u8bbf\u95ee\u9759\u6001\u53d8\u91cf\nprint(Person.eyes)        # 1\n# \u518d\u901a\u8fc7\u5bf9\u8c61 \u8bbf\u95ee\u9759\u6001\u53d8\u91cf\nprint(p1.eyes)       # 1\nprint(p2.eyes)       # 1\n\n\n\n### \u901a\u8fc7\u5bf9\u8c61 \u4fee\u6539\u5bf9\u8c61\u53d8\u91cf\np1.eyes = 50\n\n# \u518d\u901a\u8fc7\u7c7b \u8bbf\u95ee\u9759\u6001\u53d8\u91cf\nprint(Person.eyes)        # 1\n# \u518d\u901a\u8fc7\u5bf9\u8c61 \u8bbf\u95ee\u9759\u6001\u53d8\u91cf\nprint(p1.eyes)       # 50    \u6b64\u65f6personA\u7684\u5185\u5b58\u91cc\u5df2\u7ecf\u6709eyes\u8fd9\u4e2a\u53d8\u91cf\u4e86\nprint(p2.eyes)       # 1\n</code></pre> <p></p> <p>\u6ce8\u610f p1 \u4e2d \u5df2\u7ecf\u591a\u4e86\u4e00\u4e2a eyes \u7684\u53d8\u91cf\u4e86</p>"},{"location":"Python/Advanced/OOP/Python-No-11-Class%26Object/#_2","title":"\u53e6\u5916","text":"<p>\u4f46\u662f\u6ce8\u610f\uff0c\u5982\u679c\u9759\u6001\u53d8\u91cf\u662f\u5b57\u5178 dict\uff0c\u5219\u4e0d\u7ba1\u600e\u4e48\u8bbf\u95ee\u600e\u4e48\u4fee\u6539\uff0c\u5f97\u5230\u7684\u90fd\u662f\u4e00\u81f4\u7684</p> <p>\u770b\u4e0b\u9762\u7684\u4f8b\u5b50\uff0c\u7c7b\u53d8\u91cf\u4e2d\u6709\u4e00\u4e2a\u5b57\u5178\u7c7b\u578b d </p><pre><code>class Person:\n    # \u7c7b\u53d8\u91cf\u3001\u9759\u6001\u5b57\u6bb5\n    eyes = 2\n    d = {1: 'A', 2: 'B'}\n\n    def __init__(self, name, age):\n        # \u5bf9\u8c61\u53d8\u91cf\u3001\u666e\u901a\u5b57\u6bb5\n        self.name = name\n        self.age = age\n</code></pre><p></p> <p></p> <p>\u521b\u5efa\u4e24\u4e2a\u5bf9\u8c61\uff0c\u7136\u540e\u901a\u8fc7\u5bf9\u8c61\u4fee\u6539\u7c7b\u53d8\u91cf\uff0c\u548c\u901a\u8fc7\u5bf9\u8c61\u4fee\u6539\u5b57\u5178\u7c7b\u578b\u7c7b\u53d8\u91cf</p> <p></p><pre><code># \u521b\u5efa\u4e24\u4e2a\u5bf9\u8c61\np1 = Person('Boii', 20)\np2 = Person('Cai', 18)\n\n# \u901a\u8fc7\u7c7b \u4fee\u6539\u9759\u6001\u53d8\u91cf, \u6539\u52a8\u7684\u662f\u7c7b\u7a7a\u95f4\u91cc\u7684eyes\nPerson.eyes = 1\n\n# \u901a\u8fc7\u5bf9\u8c61 \u4fee\u6539\u9759\u6001\u53d8\u91cf, \u662f\u590d\u5236\u4e00\u4efdeyes\u5230\u5bf9\u8c61\u7a7a\u95f4\u91cc\u5e76\u4fee\u6539\np1.eyes = 3\n\n# \u901a\u8fc7\u5bf9\u8c61 \u4fee\u6539\u9759\u6001\u5b57\u5178\u53d8\u91cf, \u5e76\u4e0d\u4f1a\u590d\u5236\u4e00\u4efdd\u5230\u5bf9\u8c61\u7a7a\u95f4\u91cc\np1.d[1] = 50\n</code></pre> <p></p> <p>\u53ef\u4ee5\u770b\u5230\u901a\u8fc7\u7c7b\u540d\u4fee\u6539\u540e\uff0c\u7c7b\u7a7a\u95f4\u91cc\u7684eyes\u88ab\u4fee\u6539\u4e86</p> <p>\u901a\u8fc7\u5bf9\u8c61\u4fee\u6539\u7c7b\u53d8\u91cf\u4e4b\u540e\uff0c\u5bf9\u8c61\u7a7a\u95f4\u91cc\u591a\u4e86\u4e00\u4e2a eyes \u53d8\u91cf\u5e76\u4e14\u5df2\u7ecf\u4fee\u6539\u4e86</p> <p>\u901a\u8fc7\u5bf9\u8c61\u4fee\u6539\u5b57\u5178\u7c7b\u578b\u7c7b\u53d8\u91cf\u4e4b\u540e\uff0c\u6ca1\u6709\u590d\u5236\u4e00\u4efd\uff0c\u800c\u662f\u4fee\u6539\u4e86\u7c7b\u7a7a\u95f4\u91cc\u5b57\u5178\u7684\u503c</p>"},{"location":"Python/Advanced/OOP/Python-No-11-Class%26Object/#_3","title":"\u5c0f\u7ed3","text":"<ol> <li>\u7c7b\u53d8\u91cf\uff0c\u53c8\u79f0\u9759\u6001\u5b57\u6bb5\u3001\u7c7b\u5c5e\u6027</li> <li>\u5bf9\u8c61\u53d8\u91cf\uff0c\u53c8\u79f0\u666e\u901a\u5b57\u6bb5\u3001\u5b9e\u4f8b\u5c5e\u6027</li> <li>\u7c7b\u53d8\u91cf\u662f\u6240\u6709\u5bf9\u8c61\u5171\u6709\u7684\uff0c\u5bf9\u8c61\u53d8\u91cf\u662f\u5bf9\u8c61\u81ea\u5df1\u72ec\u6709\u7684</li> <li>\u7c7b\u53d8\u91cf\u53ef\u4ee5\u901a\u8fc7 <code>\u7c7b\u540d.\u7c7b\u53d8\u91cf</code>\u3001<code>\u5bf9\u8c61.\u7c7b\u53d8\u91cf</code>\u8bbf\u95ee</li> <li>\u7c7b\u53d8\u91cf\u53ef\u4ee5\u901a\u8fc7 <code>\u7c7b\u540d.\u7c7b\u53d8\u91cf</code>\u3001<code>\u5bf9\u8c61.\u7c7b\u53d8\u91cf</code>\u4fee\u6539</li> <li>\u901a\u8fc7 <code>\u5bf9\u8c61.\u7c7b\u53d8\u91cf</code> \u4fee\u6539\u65f6\uff0c\u9664\u975e\u8be5\u7c7b\u53d8\u91cf\u662f\u5b57\u5178\u7c7b\u578b\uff0c\u5426\u5219\u90fd\u4f1a\u628a\u7c7b\u53d8\u91cf\u590d\u5236\u4e00\u4efd\u5230\u5bf9\u8c61\u4e2d\u53bb</li> </ol>"},{"location":"Python/Advanced/OOP/Python-No-11-Class%26Object/#_4","title":"\u5b9e\u4f8b\u65b9\u6cd5\u3001\u7c7b\u65b9\u6cd5\u3001\u9759\u6001\u65b9\u6cd5","text":""},{"location":"Python/Advanced/OOP/Python-No-11-Class%26Object/#_5","title":"\u5b9e\u4f8b\u65b9\u6cd5","text":"<p>\u6700\u666e\u901a\u6700\u5e38\u7528\u7684\u65b9\u6cd5\u3002\u7c7b\u4e2d\u5b9a\u4e49\u7684\u975e\u79c1\u6709\u7684\u65b9\u6cd5\uff0c\u6bcf\u4e2a\u5bf9\u8c61\u5728\u88ab\u521b\u5efa\u4ee5\u540e\u90fd\u6709\u81ea\u5df1\u7684\u5b9e\u4f8b\u65b9\u6cd5\u3002</p> <ul> <li>\u5b9a\u4e49\uff1a\u7b2c\u4e00\u4e2a\u53c2\u6570\u5fc5\u987b\u662f\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u8be5\u53c2\u6570\u540d\u4e00\u822c\u7ea6\u5b9a\u4e3a\u201cself\u201d\uff0c\u901a\u8fc7\u5b83\u6765\u4f20\u9012\u5b9e\u4f8b\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff08\u4e5f\u53ef\u4ee5\u4f20\u7c7b\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff09\uff1b         \u5982<code>p1.instanceMethod()</code>\uff0cPython \u89e3\u91ca\u5668\u4f1a\u628a\u5bf9\u8c61 p1 \u4f20\u7ed9self\u53c2\u6570</li> <li>\u8c03\u7528\uff1a\u53ea\u80fd\u7531\u5b9e\u4f8b\u5bf9\u8c61\u8c03\u7528\u3002</li> </ul> <pre><code>class Person:\n    ...\n    ...\n    # \u5b9a\u4e49\u5b9e\u4f8b\u65b9\u6cd5\n    def walk(self, step):\n        return f\"I walked {step} steps.\"\n\np1 = Person()\nprint(p1.walk(5))        # \u8c03\u7528\u5b9e\u4f8b\u65b9\u6cd5\n\n-------------------------------\nOutput:\n\nI walked 5 steps.\n</code></pre>"},{"location":"Python/Advanced/OOP/Python-No-11-Class%26Object/#classmethod","title":"\u7c7b\u65b9\u6cd5 @classmethod","text":"<p>\u5c5e\u4e8e\u7c7b\u7684\u65b9\u6cd5\uff0c\u548c\u7c7b\u53d8\u91cf\u4e00\u6837\uff0c\u6240\u6709\u5bf9\u8c61\u5171\u4eab\u7c7b\u65b9\u6cd5</p> <ul> <li> <p>\u5b9a\u4e49\uff1a\u4f7f\u7528\u88c5\u9970\u5668<code>@classmethod</code>\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u5fc5\u987b\u662f\u5f53\u524d\u7c7b\u5bf9\u8c61\uff0c\u8be5\u53c2\u6570\u540d\u4e00\u822c\u7ea6\u5b9a\u4e3a\u201ccls\u201d\uff0c\u901a\u8fc7\u5b83\u6765\u4f20\u9012\u7c7b\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff08\u4e0d\u80fd\u4f20\u5b9e\u4f8b\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff09\uff1b</p> <p>\u5982<code>p1.clsMethod</code> \u6216 <code>Person.clsMethod</code>\uff0cPython\u89e3\u91ca\u5668\u4f1a\u628a\u7c7b Person \u4f20\u7ed9 cls \u53c2\u6570</p> </li> <li> <p>\u8c03\u7528\uff1a\u7c7b\u5bf9\u8c61\u6216\u5b9e\u4f8b\u5bf9\u8c61\u90fd\u53ef\u4ee5\u8c03\u7528\u3002</p> </li> </ul> <pre><code>class Person:\n    __count = 0\n\n    def __init__(self):\n        Person.__count += 1\n    ...\n    ...\n    @classmethod\n    def get_count(cls):\n        return cls.__count\n</code></pre>"},{"location":"Python/Advanced/OOP/Python-No-11-Class%26Object/#staticmethod","title":"\u9759\u6001\u65b9\u6cd5 @staticmethod","text":"<p>\u7528\u6765\u5b58\u653e\u903b\u8f91\u6027\u7684\u4ee3\u7801\uff0c\u903b\u8f91\u4e0a\u5c5e\u4e8e\u7c7b\uff0c\u4f46\u662f\u548c\u7c7b\u672c\u8eab\u6ca1\u6709\u5173\u7cfb\uff0c\u5373\uff0c\u5728\u9759\u6001\u65b9\u6cd5\u4e2d\uff0c\u4e0d\u4f1a\u6d89\u53ca\u5230\u7c7b\u4e2d\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u7684\u64cd\u4f5c\u3002</p> <p>\u53ef\u4ee5\u7406\u89e3\u4e3a\u9759\u6001\u65b9\u6cd5\u662f\u4e2a \u72ec\u7acb\u7684\u3001\u5355\u7eaf\u7684 \u51fd\u6570\uff0c\u4ec5\u4ec5\u6258\u5173\u4e8e\u67d0\u4e2a\u7c7b\u7684\u540d\u79f0\u7a7a\u95f4\u4e2d\uff0c\u4fbf\u4e8e\u4f7f\u7528\u548c\u7ef4\u62a4\u3002</p> <ul> <li>\u5b9a\u4e49\uff1a\u4f7f\u7528\u88c5\u9970\u5668<code>@staticmethod</code>\u3002\u53c2\u6570\u968f\u610f\uff0c\u6ca1\u6709\u201cself\u201d\u548c\u201ccls\u201d\u53c2\u6570\uff0c\u4f46\u662f\u65b9\u6cd5\u4f53\u4e2d\u4e0d\u80fd\u4f7f\u7528\u7c7b\u6216\u5b9e\u4f8b\u7684\u4efb\u4f55\u5c5e\u6027\u548c\u65b9\u6cd5\uff1b</li> <li>\u8c03\u7528\uff1a\u7c7b\u5bf9\u8c61\u6216\u5b9e\u4f8b\u5bf9\u8c61\u90fd\u53ef\u4ee5\u8c03\u7528\u3002</li> </ul> <pre><code>class Person:\n    __count = 0\n\n    def __init__(self):\n        Person.__count += 1\n    ...\n    ...\n    @staticmethod\n    def get_time():\n        return time.time()\n</code></pre>"},{"location":"Python/Advanced/OOP/Python-No-11-Class%26Object/#_6","title":"\u6784\u9020\u65b9\u6cd5","text":"<p><code>def __init__(self)</code>\u5c31\u662f\u7c7b\u7684\u6784\u9020\u65b9\u6cd5</p> <p>\u6784\u9020\u65b9\u6cd5\u7684\u5f62\u53c2\u53ef\u4ee5\u67091~N\u4e2a\u3002\u800c<code>\u53c2\u6570self</code>\u662f\u5fc5\u9009\u7684\u9996\u4e2a\u7684\uff0c\u8fd9\u4e2a<code>self</code>\u76f8\u5f53\u4e8e<code>this</code>\u3002</p> <p><code>self</code>\u53ef\u4ee5\u6362\u6210\u5176\u4ed6\uff0c\u4f46\u662f\u4e3a\u907f\u514d\u4e89\u8bae\u548c\u6b67\u4e49\uff0c\u6700\u597d\u7528<code>self</code></p> <p>\u5bf9\u4e8e\u4e00\u4e2a\u5bf9\u8c61\uff0c\u53ef\u4ee5\u81ea\u7531\u7684\u589e\u52a0\u5c5e\u6027\u6216\u8005\u8bf4\u5bf9\u8c61\u53d8\u91cf\u3001\u666e\u901a\u5b57\u6bb5\uff0c\u4f46\u662f\u901a\u8fc7\u6784\u9020\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5f3a\u5236\u8981\u6c42<code>\u5728\u5b9e\u4f8b\u5316\u5bf9\u8c61\u65f6\u4f20\u5165\u5fc5\u987b\u7684\u53c2\u6570</code>\u3002</p> <pre><code>class Animal:\n    def __init__(self):\n        pass\n\nanimalA = Animal()    # self \u4e0d\u9700\u8981\u4f20\u5165\nanimalA.weigth = 180  # \u53ef\u4ee5\u81ea\u7531\u7684\u589e\u52a0\u5bf9\u8c61\u5c5e\u6027\n\nclass Person:\n    def __init__(self, name, age):\n        pass\n\npersonA = Person('Boii', 20)    # \u521b\u5efa\u5bf9\u8c61\u65f6\u5fc5\u987b\u7ed9 name \u548c age\n\npersonB = Person()    # \uff01\uff01\u9519\u8bef\n</code></pre>"},{"location":"Python/Advanced/OOP/Python-No-11-Class%26Object/#_7","title":"\u8bbf\u95ee\u9650\u5236","text":"<p>\u4e0d\u52a0\u4e0b\u5212\u7ebf\uff0c\u4ec5\u53d8\u91cf\u540d/\u65b9\u6cd5\u540d = public\uff0c\u4efb\u4f55\u533a\u57df\u90fd\u53ef\u4ee5\u8bbf\u95ee</p> <p>\u4e00\u6761\u4e0b\u5212\u7ebf+\u53d8\u91cf\u540d/\u65b9\u6cd5\u540d = protected\uff0c<code>\u5f53\u524d\u7c7b</code>\u6216<code>\u5b50\u7c7b</code>\u6216<code>\u540c\u4e00\u6a21\u5757</code>\u624d\u53ef\u4ee5\u8bbf\u95ee</p> <p>\u4e24\u6761\u4e0b\u5212\u7ebf+\u53d8\u91cf\u540d/\u65b9\u6cd5\u540d = private\uff0c <code>\u5f53\u524d\u7c7b</code>\u624d\u53ef\u4ee5\u8bbf\u95ee</p> <p>Example</p> public \u793a\u4f8bprotected \u793a\u4f8bprivate \u793a\u4f8b <pre><code># public \u793a\u4f8b\n\nclass Person:\n    def __init__(self, name):\n        self.name = name    # public \u5c5e\u6027\n\n    def show(self):\n        print(self.name)    # \u7c7b\u5185\u90e8\u53ef\u4ee5\u8bbf\u95ee\n\n\nperson = Person('Boii')\n\nprint(person.name)    # Boii \u7c7b\u5916\u90e8\u4e5f\u53ef\u4ee5\u8bbf\u95ee\n</code></pre> <pre><code>## Person.py\nclass Person:\n    def __init__(self, name):\n        self._name = name    # protected \u5c5e\u6027\n\n    def show(self):\n        print(self._name)     # \u5f53\u524d\u7c7b\u4e2d\u53ef\u4ee5\u8bbf\u95ee\n\n\nperson = Person('Boii')\n\nperson.show()                 # Boii\n</code></pre> <pre><code>## Student.py \nfrom Person import Person\n\n\nclass Student(Person):\n    def __init__(self, name, age):\n        super().__init__(name)    # \u5728\u5b50\u7c7b\u4e2d\u901a\u8fc7 super().__init__() \u8bbf\u95ee\n        self.age = age\n\n    def show(self):\n        print(f'\u59d3\u540d\uff1a{self._name}, \u5e74\u9f84\uff1a{self.age}')\n\n\nstudent = Student('Boii', 20)\n\nstudent.show()            # \u59d3\u540d\uff1aBoii, \u5e74\u9f84\uff1a20\n</code></pre> <pre><code># private \u793a\u4f8b\n\nclass Person:\n    def __init__(self, name):\n        self.__name = name\n\n    def show(self):\n        print(self.__name)\n\n    def get_name(self):\n        return self.__name\n\n    def set_name(self, name):\n        self.__name = name\n\nperson = Person('Boii')\n\nprint(person.__name)        # \u9519\u8bef\uff01\uff01\u53ea\u80fd\u5728\u7c7b\u4e2d\u8bbf\u95ee\u79c1\u6709\u53d8\u91cf\n\nprint(person.get_name())    # Boii, \u901a\u8fc7get\u65b9\u6cd5\u8bbf\u95ee\n\nperson.set_name('Alice')    # \u901a\u8fc7set\u65b9\u6cd5\u6539\u53d8\n\nprint(person.get_name())    # Alice\n</code></pre> <p>private\u53d8\u91cf\u5b9e\u9645\u4e0a\u662f\u56e0\u4e3a python\u89e3\u91ca\u5668\u5bf9\u5916\u628a <code>__name</code> \u6539\u6210\u4e86 <code>_Person__name</code>\uff0c\u4f9d\u7136\u53ef\u4ee5\u901a\u8fc7<code>person._Person__name</code>\u6765\u8bbf\u95ee\uff0c\u4f46\u662f\u5f3a\u70c8\u5efa\u8bae\u4e0d\u8981\u8fd9\u4e48\u505a\u3002</p> <p>\u70b9\u51fb\u67e5\u770b\u66f4\u591a\u5173\u4e8e\u8bbf\u95ee\u9650\u5236\u3001\u79c1\u6709\u5316\u7684\u95ee\u9898</p>"},{"location":"Python/Advanced/OOP/Python-No-11-Class%26Object/#_8","title":"\u5c01\u88c5\u3001\u7ee7\u627f\u548c\u591a\u6001","text":"<pre><code>\u9762\u5411\u5bf9\u8c61\u4e09\u5927\u7279\u6027\uff1a\u5c01\u88c5\u3001\u7ee7\u627f\u3001\u591a\u6001\n\n- **\u5c01\u88c5**\n\n    \u628a\u4e00\u7c7b\u4e1c\u897f\u5171\u901a\u7684\u5c5e\u6027\u3001\u884c\u4e3a\u5b9a\u4e49\u5728\u4e00\u4e2a\u7c7b\u4e2d\uff0c\u5c31\u662f\u5c01\u88c5\u3002\n\n\n\n- **\u7ee7\u627f**\n\n    \u4e00\u4e2a\u7c7b\uff0c\u7ee7\u627f\u4e86\u522b\u7684\u7c7b\u4ee5\u540e\uff0c\u8fd9\u4e2a\u7c7b\u53eb\u505a`\u5b50\u7c7b`\n\n    \u88ab\u7ee7\u627f\u7684\u7c7b\uff0c\u53eb\u505a`\u57fa\u7c7b\u3001\u7236\u7c7b\u3001\u8d85\u7c7b`\n\n    \u7ee7\u627f\u4ee5\u540e\uff0c\u5b50\u7c7b\u5c31\u62e5\u6709\u4e86\u7236\u7c7b\u7684\u5168\u90e8 `\u975eprivate \u529f\u80fd`\n\n    Python\u4e2d\uff0c\u5b50\u7c7b\u53ef\u4ee5\u540c\u65f6\u7ee7\u627f\u591a\u4e2a\u7236\u7c7b\n\n\n\n- **\u591a\u6001**\n\n    \u5728\u5b50\u7c7b\u4e2d\u7f16\u5199`\u4e0e\u7236\u7c7b\u540c\u540d`\u7684\u65b9\u6cd5\uff0c\u53eb\u505a`\u65b9\u6cd5\u91cd\u5199`\uff0c\n\n    \u9002\u7528\u4e8e\u7236\u7c7b\u529f\u80fd\u4e0d\u80fd\u6ee1\u8db3\u5b50\u7c7b\u8981\u6c42\u65f6\u3002\u8fd9\u79f0\u4e4b\u4e3a**\u591a\u6001**\n\n    \u5f53\u7236\u7c7b\u5b50\u7c7b\u7684\u65b9\u6cd5\u76f8\u540c\u65f6\uff0c\u603b\u662f\u4f1a\u4f18\u5148\u8c03\u7528\u5b50\u7c7b\u7684\u65b9\u6cd5\n</code></pre> <pre><code>class Animal:\n    def run(self):\n        print('Running---')\n\nclass Dog(Animal):    # \u7ee7\u627f\u7236\u7c7b Animal\n    pass\n\n\nclass Cat(Animal):    # \u7ee7\u627f\u7236\u7c7b Animal\n    def run(self):    # \u65b9\u6cd5\u91cd\u5199\n        print('Cat is Running---')\n\n\ndog = Dog()\ndog.run()    # Running---\n\ncat = Cat()\ncat.run()    # Cat is Running---\n</code></pre>"},{"location":"Python/Advanced/OOP/Python-No-11-Class%26Object/#_9","title":"\u7ee7\u627f","text":"<p><code>class ClsName(BaseClass)</code></p> <p>\u5728\u7ee7\u627f\u4e2d\uff0c\u7236\u7c7b\u548c\u5b50\u7c7b\u90fd\u6709\u7684\u65b9\u6cd5\uff08\u540c\u540d\u7684\u65b9\u6cd5\uff09\uff0c\u4f1a\u4f18\u5148\u8c03\u7528\u5b50\u7c7b\u7684\uff1b\u5b50\u7c7b\u6ca1\u6709\u7684\uff0c\u624d\u8c03\u7528\u7236\u7c7b\u7684</p> <p>\u5b50\u7c7b\u4e2d\u4e0d\u5b9a\u4e49\u6784\u9020\u65b9\u6cd5<code>__init__()</code>\uff0c\u4f1a\u8c03\u7528\u7236\u7c7b\u7684\u6784\u9020\u65b9\u6cd5<code>__init__()</code></p>"},{"location":"Python/Advanced/OOP/Python-No-11-Class%26Object/#_10","title":"\u5355\u7ee7\u627f","text":"<p>\u5728 \u5355\u7ee7\u627f \u4e2d\uff1a\u5982\u679c\u7236\u7c7b\u6784\u9020\u65b9\u6cd5\u6709\u53c2\u6570\uff0c\u5219\u5b50\u7c7b\u5fc5\u987b\u6709\u6784\u9020\u65b9\u6cd5\uff0c\u5e76\u8c03\u7528\u7236\u7c7b\u7684\u6784\u9020\u65b9\u6cd5\u4e14\u4f20\u53c2</p> <pre><code># \u5b50\u7c7b\u6ca1\u6709__init__\uff0c\u9ed8\u8ba4\u8c03\u7528\u7236\u7c7b\u7684__init__\n# \u7236\u7c7b\u7684__init__\u6ca1\u6709\u53c2\u6570\uff0c\u6240\u4ee5\u5b50\u7c7b\u53ef\u4ee5\u4e0d\u5199__init__\n\nclass Person:\n    def __init__(self):\n        self.name = \"Anonymity\"\n        self.age = 18\n\n\nclass Student(Person):\n    pass\n\ns = Student()\n</code></pre> <pre><code># \u7236\u7c7b\u7684__init__\u6709\u53c2\u6570\uff0c\u5b50\u7c7b\u5fc5\u987b\u6709__init__\uff0c\u5e76\u8c03\u7528\u7236\u7c7b\u7684__init__\u4e14\u4f20\u53c2\n\nclass Person:\n    def __init__(self, name):\n        self.name = name\n\n\nclass Student(Person):\n    def __init__(self, name, age):\n        self.age = age\n        super().__init__(name)\n\n\ns = Student(\"Boii\", 18)\n</code></pre>"},{"location":"Python/Advanced/OOP/Python-No-11-Class%26Object/#_11","title":"\u591a\u7ee7\u627f","text":"<p>\u5728 \u591a\u7ee7\u627f \u4e2d\uff1a</p> <ul> <li>\u5982\u679c\u5b50\u7c7b\u6ca1\u6709<code>__init__()</code>\uff0c\u4f1a\u8c03\u7528\u7b2c\u4e00\u4e2a\u7236\u7c7b\u7684<code>__init__()</code></li> <li>\u5982\u679c\u7b2c\u4e00\u4e2a\u7236\u7c7b\u6ca1\u6709<code>__init__()</code>\uff0c\u4f1a\u627e\u7b2c\u4e8c\u4e2a\u7236\u7c7b\uff0c\u4ee5\u6b64\u7c7b\u63a8...</li> </ul> <p>\u5176\u4e2d\uff0c\u53ea\u8981\u4efb\u4f55\u4e00\u4e2a\u7236\u7c7b\u7684<code>__init__()</code>\u6709\u53c2\u6570\uff0c\u5b50\u7c7b\u5c31\u5fc5\u987b\u6709<code>__init__()</code>\u6765\u8c03\u7528\u7236\u7c7b\u7684<code>__init__()</code></p> <p>\u5982\u679c\u6709\u8d85\u8fc7\u4e00\u4e2a\u7236\u7c7b\u7684<code>__init__()</code>\u6709\u53c2\u6570\uff0c\u5219\u5e94\u8be5\u5199\u4f5c <code>BaseClsName.__init__(self, paras)</code> \u6216 <code>BaseClsName(type, obj).__init__(paras)</code></p> <pre><code>class BaseA:\n    def __init__(self, name, age):\n        self.name = name\n        self.age = age\n\n\nclass BaseB:\n    def __init__(self, gender, nationality):\n        self.gender = gender\n        self.nationality = nationality\n\n\nclass Student(BaseA, BaseB):\n    def __init__(self, name, age, gender, nationality):\n\n        BaseA(Student, self).__init__(name, age)\n\n        BaseB.__init__(self, gender, nationality)\n\n\ns = Student(\"Boii\", 18, \"male\", \"China\")\n</code></pre>"},{"location":"Python/Advanced/OOP/Python-No-11-Class%26Object/#_12","title":"\u94bb\u77f3\u7ee7\u627f","text":"<p>\u83f1\u5f62\u7ee7\u627f\u662f\u6307\uff1a\u5b50\u7c7b sub \u7ee7\u627f\u4e86 \u7236\u7c7b A\uff0cB\uff0c\u800c\u7236\u7c7b A\uff0cB\u53c8\u5171\u540c\u7ee7\u627f\u4e86\u7956\u7236\u7c7b Base</p> <pre><code>     [Base]\n    \u2197     \u2196\n  [A]      [B]\n    \u2196     \u2197\n     [sub]\n</code></pre> <p>\u7531\u4e8ePython\u7684\u673a\u5236\uff0c\u89e3\u91ca\u5668\u5728\u521b\u5efa sub\u7c7b\u5bf9\u8c61\u65f6\u4f1a\u627e\u5230 A \u7684 \u6784\u9020\u65b9\u6cd5\uff0c\u63a5\u7740\u627e\u5230 Base \u7684\u6784\u9020\u65b9\u6cd5</p> <p>\u7136\u540e\u518d\u627e B \u7684\u6784\u9020\u65b9\u6cd5\uff0c\u63a5\u7740\u627e\u5230 Base \u7684\u6784\u9020\u65b9\u6cd5\uff0c\u8fd9\u6837\u7b49\u4e8e\u91cd\u590d\u8c03\u7528\u4e86 Base \u7684\u6784\u9020\u65b9\u6cd5</p> <p></p><pre><code>class Base:\n    def __init__(self):\n        print(\"Base.__init__\")\n\n\nclass A(Base):\n    def __init__(self):\n        Base.__init__(self)\n        print(\"A.__init__\")\n\n\nclass B(Base):\n    def __init__(self):\n        Base.__init__(self)\n        print(\"B.__init__\")\n\n\nclass sub(A, B):\n    def __init__(self):\n        A.__init__(self)\n        B.__init__(self)\n        print(\"sub.__init__\")\n\n\nsub()\n\n# Output:\nBase.__init__\nA.__init__\nBase.__init__\nB.__init__\nsub.__init__\n</code></pre> Base \u7684 <code>__init__()</code> \u88ab\u8c03\u7528\u4e86\u4e24\u6b21<p></p> <p>\u8fd9\u65f6\u5019\u53ef\u4ee5\u6539\u5199 sub\uff0cA\uff0cB \u7684 <code>__init__()</code>\u4e3a<code>super().__init__</code></p> <pre><code>class Base:\n    def __init__(self):\n        print(\"Base.__init__\")\n\n\nclass A(Base):\n    def __init__(self):\n        super().__init__()\n        print(\"A.__init__\")\n\n\nclass B(Base):\n    def __init__(self):\n        super().__init__()\n        print(\"B.__init__\")\n\n\nclass sub(A, B):\n    def __init__(self):\n        super().__init__()\n        print(\"sub.__init__\")\n\n\nsub()\n\n# Output:\nBase.__init__\nB.__init__\nA.__init__\nsub.__init__\n</code></pre>"},{"location":"Python/Advanced/OOP/Python-No-11-Class%26Object/#_13","title":"\u591a\u6001\u7684\u597d\u5904","text":"<p>\u5982\u4e0a\u793a\u4f8b\uff0c\u591a\u6001\u4f7f\u5f97\u7ee7\u627f\u4e4b\u540e\u8fd8\u53ef\u4ee5\u8fdb\u884c\u6269\u5c55\uff0c\u4f46\u662f\u591a\u6001\u8fd8\u6709\u53e6\u4e00\u4e2a\u597d\u5904\u3002</p> <p>\u793a\u4f8b\u4e2d\uff0cAnimal \u662f\u7236\u7c7b\uff0cDog \u548c Cat \u662f\u5b50\u7c7b\u3002</p> <p>Animal \u662f Animal \u7c7b\u578b\uff1bDog \u662f Dog \u7c7b\u578b\uff0c\u4e5f\u662f Animal \u7c7b\u578b\uff1bCat \u540c\u7406</p> <pre><code>&gt;&gt;&gt; animal = Animal()\n&gt;&gt;&gt; dog = Dog()\n&gt;&gt;&gt; cat = Cat()\n\n&gt;&gt;&gt; isinstance(animal, Animal)\nTrue\n&gt;&gt;&gt; isinstance(dog, Dog)\nTrue\n&gt;&gt;&gt; isinstance(dog, Animal)\nTrue\n&gt;&gt;&gt; isinstance(cat, Cat)\nTrue\n&gt;&gt;&gt; isinstance(cat, Animal)\nTrue\n&gt;&gt;&gt; isinstance(animal, Dog)\nFalse\n</code></pre> <p>\u4e00\u53e5\u8bdd\u603b\u7ed3\u5c31\u662f\uff0c\u5bf9\u8c61\u7684\u7c7b\u578b\u662f<code>\u81ea\u8eab\u7c7b+\u7236\u7c7b</code>\uff0c\u800c\u6240\u6709\u7c7b\u90fd\u81ea\u52a8\u7ee7\u627f\u81ea <code>object\u7c7b</code></p> <p>\u56e0\u4e3a\u8fd9\u4e2a\u7279\u6027\uff0c\u4f7f\u5f97python\u66f4\u52a0\u7075\u6d3b</p> <p>\u5047\u8bbe\u73b0\u5728\u6709\u4e2a\u51fd\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u63a5\u53d7\u4e00\u4e2aanimal\u7c7b\u578b\u5bf9\u8c61</p> <pre><code>def run_twice(animal):\n    animal.run()\n    animal.run()\n</code></pre> <p>\u5728\u8c03\u7528\u7684\u65f6\u5019\uff1a </p><pre><code>&gt;&gt;&gt; animal = Animal()\n&gt;&gt;&gt; dog = Dog()\n&gt;&gt;&gt; cat = Cat()\n\n&gt;&gt;&gt; run_twice(animal)\nRunning---\nRunning---\n\n&gt;&gt;&gt; run_twice(cat)\nCat is Running---\nCat is Running---\n\n&gt;&gt;&gt; run_twice(dog)\nRunning---\nRunning---\n</code></pre><p></p> <p>\u53ef\u4ee5\u53d1\u73b0\uff0c\u8fd9\u4e2a\u63a5\u53d7Animal\u7c7b\u578b\u7684\u51fd\u6570\uff0c\u4e0d\u4ec5\u53ef\u4ee5\u63a5\u53d7Animal\u7c7b\u53ca\u5176\u5b50\u7c7b\u7684\u5bf9\u8c61\uff0c\u8fd8\u53ef\u4ee5\u6839\u636e\u4f20\u5165\u5bf9\u8c61\u7684\u4e0d\u540c\u5b9e\u73b0\u4e0d\u540c\u7684\u6548\u679c</p> <p>\u5373\u4f7f\u518d\u5b9a\u4e49\u4e00\u4e2a\u7c7b\u7ee7\u627fAnimal\uff0c\u7136\u540e\u521b\u5efa\u5bf9\u8c61\u4f20\u5165 <code>run_twice()</code>\uff0c\u4f9d\u7136\u53ef\u4ee5\u5b9e\u73b0\u76f8\u540c\u7684\u6548\u679c\uff0c\u800c\u4e14\u4e0d\u9700\u8981\u6539\u52a8<code>run_twice()</code></p> <p>\u540c\u7406\uff0c\u6240\u6709\u7684\u7c7b\u90fd\u7ee7\u627f\u81ea<code>object</code>\uff0c\u5982\u679c\u662f<code>run_twice(object)</code>\uff0c\u5219\u53ef\u4ee5\u63a5\u53d7\u4efb\u4f55\u7c7b\u578b\u7684\u5bf9\u8c61</p> <p>\u6240\u4ee5\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u53d8\u91cf\uff0c\u53ea\u9700\u8981\u77e5\u9053\u5176\u7236\u7c7b<code>Animal</code>\uff0c\u5c31\u53ef\u4ee5\u653e\u5fc3\u7684\u4f7f\u7528\uff0c\u5728\u8c03\u7528\u65f6<code>animal.run()</code>\u662f\u4f5c\u7528\u5728animal\u8fd8\u662fdog\u8fd8\u662fcat\uff0c\u7531\u8fd0\u884c\u65f6\u8be5\u5bf9\u8c61\u7684\u786e\u5207\u7c7b\u578b\u51b3\u5b9a\u3002</p> <p>\u8c03\u7528\u65b9\u53ea\u7ba1\u8c03\u7528\uff0c\u4e0d\u7ba1\u7ec6\u8282\u3002\u6bcf\u5f53\u65b0\u589e\u4e00\u79cd<code>Animal\u5b50\u7c7b</code>\u65f6\uff0c\u53ea\u8981\u786e\u4fdd<code>run()</code>\u65b9\u6cd5\u7f16\u5199\u6b63\u786e\uff0c\u4e0d\u7528\u7ba1<code>run_twice()</code>\u600e\u4e48\u5b9e\u73b0\u3002</p> <p>\u8fd9\u5c31\u662f<code>&lt;\u5f00\u95ed\u539f\u5219&gt;</code>:</p> <ul> <li>\u5bf9\u6269\u5c55\u5f00\u653e\uff1a\u5141\u8bb8\u65b0\u589e<code>Animal</code>\u5b50\u7c7b\uff1b</li> <li>\u5bf9\u4fee\u6539\u5c01\u95ed\uff1a\u4e0d\u9700\u8981\u4fee\u6539<code>\u4f9d\u8d56Animal\u7c7b\u578b</code>\u7684<code>run_twice()</code>\u7b49\u51fd\u6570</li> </ul>"},{"location":"Python/Advanced/OOP/Python-No-11-Class%26Object/#_14","title":"\u591a\u6001\u5728\u9759\u6001\u8bed\u8a00\u548c\u52a8\u6001\u8bed\u8a00\u4e2d\u7684\u533a\u522b","text":"<p>\u591a\u6001\u7684\u8fd9\u79cd\u7279\u6027\u5728<code>\u52a8\u6001\u8bed\u8a00</code>\u548c<code>\u9759\u6001\u8bed\u8a00</code>\u4e2d\u8fd8\u6709\u4e9b\u533a\u522b.</p> <p>\u50cfjava\u8fd9\u79cd\u9759\u6001\u8bed\u8a00\uff0c<code>run_twice(Animal)</code>\u4f20\u5165\u7684\u5bf9\u8c61\u5fc5\u987b\u662f<code>Animal\u7c7b\u578b\u6216\u5176\u5b50\u7c7b</code>\uff0c\u5426\u5219\u65e0\u6cd5\u8c03\u7528<code>run()</code>\u65b9\u6cd5\u3002</p> <p>\u800cpython\u8fd9\u79cd\u52a8\u6001\u8bed\u8a00\uff0c\u5219\u4e0d\u4e00\u5b9a\u8981\u4f20\u5165Animal\u7c7b\u578b\uff0c\u53ea\u9700\u8981\u4fdd\u8bc1\u4f20\u5165\u7684\u5bf9\u8c61\u6709\u4e00\u4e2a<code>run()</code>\u65b9\u6cd5\u5c31\u53ef\u4ee5\u3002</p> <p>\u8fd9\u5c31\u662f\u52a8\u6001\u8bed\u8a00\u7684<code>\u201c\u9e2d\u5b50\u7c7b\u578b\u201d</code>\uff0c\u5b83\u5e76\u4e0d\u8981\u6c42\u4e25\u683c\u7684\u7ee7\u627f\u4f53\u7cfb\uff0c\u4e00\u4e2a\u5bf9\u8c61\u53ea\u8981\u201c\u770b\u8d77\u6765\u50cf\u9e2d\u5b50\uff0c\u8d70\u8d77\u8def\u6765\u50cf\u9e2d\u5b50\u201d\uff0c\u90a3\u5b83\u5c31\u53ef\u4ee5\u88ab\u770b\u505a\u662f\u9e2d\u5b50\u3002</p> <pre><code>class Timer:\n    def run(self):\n        print('Start---')\n</code></pre> <p>\u50cf\u8fd9\u4e2a\u7c7b\uff0c\u6ca1\u6709\u7ee7\u627fAnimal\uff0c\u4f46\u4f9d\u7136\u53ef\u4ee5\u4f20\u7ed9<code>run_twice(Animal)</code>\u3002</p> <p>\u793a\u4f8b\uff1a </p><pre><code>class Animal(object):   # \u7f16\u5199Animal\u7c7b\n    def run(self):\n        print(\"Animal is running...\")\n\nclass Dog(Animal):      # Dog\u7c7b\u7ee7\u627fAmimal\u7c7b\uff0c\u6ca1\u6709run\u65b9\u6cd5\n    pass\n\nclass Cat(Animal):      # Cat\u7c7b\u7ee7\u627fAnimal\u7c7b\uff0c\u6709\u81ea\u5df1\u7684run\u65b9\u6cd5\n    def run(self):\n        print('Cat is running...')\n    pass\n\nclass Car(object):      # Car\u7c7b\u4e0d\u7ee7\u627f\uff0c\u6709\u81ea\u5df1\u7684run\u65b9\u6cd5\n    def run(self):\n        print('Car is running...')\n\nclass Stone(object):    # Stone\u7c7b\u4e0d\u7ee7\u627f\uff0c\u4e5f\u6ca1\u6709run\u65b9\u6cd5\n    pass\n\ndef run_twice(animal):\n    animal.run()\n    animal.run()\n\nrun_twice(Animal())\nrun_twice(Dog())\nrun_twice(Cat())\nrun_twice(Car())\nrun_twice(Stone())\n</code></pre><p></p> <p>\u8f93\u51fa\uff1a </p><pre><code>Animal is running...\nAnimal is running...\nAnimal is running...\nAnimal is running...\nCat is running...\nCat is running...\nCar is running...\nCar is running...\n\nAttributeError: 'Stone' object has no attribute 'run'\n</code></pre><p></p>"},{"location":"Python/Advanced/OOP/Python-No-12-Privatization/","title":"\u79c1\u6709\u5316","text":""},{"location":"Python/Advanced/OOP/Python-No-12-Privatization/#_1","title":"\u7c7b\u7684\u79c1\u6709\u5316","text":"<p>Python \u662f\u52a8\u6001\u8bed\u8a00\uff0c\u53ef\u4ee5\u5728\u7a0b\u5e8f\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u52a8\u6001\u5730\u7ed9class\u52a0\u4e0a\u5c5e\u6027\u6216\u65b9\u6cd5\u3002</p> <p>\u8fd9\u79cd\u4e0d\u52a0\u4ee5\u8282\u5236\u7684\u7279\u6027\u5f88\u5bb9\u6613\u9020\u6210\u70c2\u4ee3\u7801\u4e00\u5806\u3002\u5bf9\u6b64 Python \u63d0\u4f9b\u4e86\u4e00\u4e9b\u89e3\u51b3\u65b9\u6848\u3002</p>"},{"location":"Python/Advanced/OOP/Python-No-12-Privatization/#slots","title":"slots \u53d8\u91cf\u7ed1\u5b9a\u767d\u540d\u5355","text":"<p><code>__slots__ = (attributes_of_tuple)</code></p> <p>\u5199\u5728\u7c7b\u53d8\u91cf\u5904</p> <p>attributes_of_tuple\u662f\u4e2a\u5143\u7ec4\uff0c\u5143\u7ec4\u4e2d\u6bcf\u4e00\u4e2a\u5143\u7d20\u8981\u7528string\u578b\u3002</p> <pre><code>class ClsName:\n    __slots__ = ('name', 'age')\n    ...\n</code></pre> <p>\u5728\u4ea4\u4e92\u6a21\u5f0f\u4e2d</p> \u6ca1\u6709\u767d\u540d\u5355\u7528\u4e86\u767d\u540d\u5355 <pre><code># \u6ca1\u6709\u767d\u540d\u5355\uff0c\u53ef\u4ee5\u968f\u610f\u7ed1\u5b9a\u5c5e\u6027\n&gt;&gt;&gt; class Person:\n...     pass\n...\n&gt;&gt;&gt; p = Person()\n&gt;&gt;&gt; p.name = 'Boii'\n&gt;&gt;&gt; p.age = 18\n&gt;&gt;&gt; p.score = 100\n\n&gt;&gt;&gt; print(p.name, p.age, p.score)\nBoii 18 100\n</code></pre> <pre><code># \u4f7f\u7528\u4e86\u767d\u540d\u5355\uff0c\u53ea\u80fd\u7ed1\u5b9a\u767d\u540d\u5355\u4e0a\u7684\u5c5e\u6027\n&gt;&gt;&gt; class Person:\n...     __slots__ = ('name', 'age')\n...\n&gt;&gt;&gt; p = Person()\n&gt;&gt;&gt; p.name = 'Boii'    # \u767d\u540d\u5355\u4e2d\u7684\u5c5e\u6027\uff0c\u53ef\u4ee5\u7ed1\u5b9a\n&gt;&gt;&gt; p.age = 18         # \u767d\u540d\u5355\u4e2d\u7684\u5c5e\u6027\uff0c\u53ef\u4ee5\u7ed1\u5b9a\n&gt;&gt;&gt; p.score = 100      # \u767d\u540d\u5355\u4e2d\u6ca1\u6709\u7684\u5c5e\u6027\uff0c\u7ed1\u5b9a\u5931\u8d25\n# \u767d\u540d\u5355\u4e2d\u6ca1\u6709 score\uff0c\u6240\u4ee5\u7ed1\u5b9a\u5931\u8d25\nTraceback (most recent call last):\nFile \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nAttributeError: 'Person' object has no attribute 'score'\n</code></pre> <p>\u5728\u6a21\u5757\u6587\u4ef6\u4e2d</p> \u6ca1\u6709\u767d\u540d\u5355\u7528\u4e86\u767d\u540d\u5355 <pre><code>class Person:\n\n    __slots__ = ('score', 'gender')\n\n    def __init__(self, name, age):\n        self.name = name\n        self.age = age\n\n# \u767d\u540d\u5355\u4e2d\u6ca1\u6709 name \u548c age\uff0c\u6240\u4ee5\u8fde\u521b\u5efa\u5bf9\u8c61\u90fd\u4f1a\u5931\u8d25\nperson = Person('Boii', 20)\n\n# Output:\nAttributeError: 'Person' object has no attribute 'name'\n</code></pre> <pre><code>class Person:\n\n    __slots__ = ('name', 'age', 'score', 'gender')\n\n    def __init__(self, name, age):\n        self.name = name\n        self.age = age\n\n\np = Person('Boii', 20)\n\nprint(p.name, p.age)\n\np.name = 'Kali'     # \u767d\u540d\u5355\u4e2d\u5b58\u5728\uff0c\u53ef\u4ee5\u4fee\u6539\np.age = 30          # \u767d\u540d\u5355\u4e2d\u5b58\u5728\uff0c\u53ef\u4ee5\u4fee\u6539\np.score = 100       # \u767d\u540d\u5355\u4e2d\u5b58\u5728\uff0c\u53ef\u4ee5\u7ed1\u5b9a\np.gender = 'male'   # \u767d\u540d\u5355\u4e2d\u5b58\u5728\uff0c\u53ef\u4ee5\u7ed1\u5b9a\n\nprint(p.name, p.age, p.score, p.gender)\n\n# Output:\nBoii 20\nKali 30 100 male\n</code></pre> <p>\u4f7f\u7528__slots__\u8981\u6ce8\u610f\uff0c<code>__slots__</code>\u5b9a\u4e49\u7684\u5c5e\u6027\u4ec5\u5bf9\u5f53\u524d\u7c7b\u5b9e\u4f8b\u8d77\u4f5c\u7528\uff0c\u5bf9\u7ee7\u627f\u7684\u5b50\u7c7b\u662f\u4e0d\u8d77\u4f5c\u7528\u7684</p> <p>\u9664\u975e\u5728\u5b50\u7c7b\u4e2d\u4e5f\u5b9a\u4e49<code>__slots__</code>\uff0c\u8fd9\u6837\uff0c\u5b50\u7c7b\u5b9e\u4f8b\u5141\u8bb8\u5b9a\u4e49\u7684\u5c5e\u6027\u5c31\u662f\u81ea\u8eab\u7684<code>__slots__</code>\u52a0\u4e0a\u7236\u7c7b\u7684<code>__slots__</code>\u3002</p>"},{"location":"Python/Advanced/OOP/Python-No-12-Privatization/#property","title":"@property","text":"<p>\u5f53\u4e00\u4e2a\u7c7b\u4e2d\u6709\u4e0d\u60f3\u7ed9\u5916\u754c\u968f\u4fbf\u8bbf\u95ee\u6216\u4fee\u6539\u7684\u5c5e\u6027\u65f6\uff0c\u53ef\u4ee5\u5c06\u8be5\u53d8\u91cf\u53d8\u6210 private \u578b\u7684</p> <p>\u4f8b\u5982 <code>__age = 18</code></p> <p>\u8fd9\u6837\u7684\u5c5e\u6027\u53ea\u80fd\u5728\u7c7b\u4e2d\u8bbf\u95ee\u548c\u4fee\u6539\uff0c\u5916\u754c\u8981\u8fdb\u884c\u8bbf\u95ee\u548c\u4fee\u6539\u53ea\u80fd\u901a\u8fc7\u7c7b\u4e2d\u7684<code>getter\u3001setter</code>\u65b9\u6cd5\u3002\u4f8b\u5982\uff1a</p> <pre><code>class Person:\n    def __init__(self, age):\n        self.__age = age\n\n    def get_age(self):\n        return self.__age\n\n    def set_age(self, value):\n        if value &gt; 0 and value &lt; 200:\n            self.__age = value\n\np = Person(20)\n\nprint(p.get_age())    # 20\np.set_age(18)\nprint(p.get_age())    # 18\n</code></pre> <p>\u901a\u8fc7 <code>getter\u3001setter</code> \uff0c\u5728\u8bbf\u95ee\u548c\u4fee\u6539\u7684\u65f6\u5019\u6bd4\u8f83\u9ebb\u70e6\uff0c\u8981\u901a\u8fc7\u8c03\u7528\u65b9\u6cd5\u3002</p> <p>\u4f7f\u7528 <code>\u88c5\u9970\u5668@property</code> \u5219\u53ef\u4ee5\u6bd4\u8f83\u65b9\u4fbf\uff0c\u50cf\u53d8\u91cf\u4e00\u6837\u53bb\u8bbf\u95ee\u548c\u4fee\u6539</p>"},{"location":"Python/Advanced/OOP/Python-No-12-Privatization/#_2","title":"\u4f7f\u7528\u65b9\u6cd5","text":"<pre><code>class ClsName:\n\n    def __init__(self, attributeName):\n        self.__attributeName = attributeName\n\n    # \u8981\u5148\u5199getter\n    @property\n    def attributeName(self):\n        return self.__attributeName\n\n    # \u518d\u5199setter\n    @attributeName.setter\n    def attributeName(self, value):\n        self.__attributeName = value\n\n\ncls = ClsName()\n\nprint(cls.attributeName)    # \u8bbf\u95ee\ncls.attributeName = value   # \u4fee\u6539\n</code></pre> <p>\u73b0\u5728\u6539\u5199\u4e0a\u9762 Person \u7c7b\u7684\u4f8b\u5b50\uff1a </p><pre><code>class Person:\n\n    def __init__(self, age):\n        self.__age = age\n\n    @property\n    def age(self):\n        return self.__age\n\n    @age.setter\n    def age(self, value):\n        if value &gt; 0 and value &lt; 200:\n            self.__age = value\n\n\np = Person(18)\nprint(p.age)    # 18\np.age = 20\nprint(p.age)    # 20\n</code></pre><p></p>"},{"location":"Python/Advanced/OOP/Python-No-13-Magic-Method/","title":"\u9b54\u672f\u65b9\u6cd5","text":""},{"location":"Python/Advanced/OOP/Python-No-13-Magic-Method/#_1","title":"\u9b54\u672f\u65b9\u6cd5","text":""},{"location":"Python/Advanced/OOP/Python-No-13-Magic-Method/#__str__","title":"<code>__str__()</code>","text":"<p>Abstract</p> <ul> <li>\u89e6\u53d1\u65f6\u673a:\u4f7f\u7528print(\u5bf9\u8c61)\u6216\u8005str(\u5bf9\u8c61)\u7684\u65f6\u5019\u89e6\u53d1</li> <li>\u53c2\u6570\uff1a\u4e00\u4e2aself\u63a5\u6536\u5bf9\u8c61</li> <li>\u8fd4\u56de\u503c\uff1a\u5fc5\u987b\u662f\u5b57\u7b26\u4e32\u7c7b\u578b</li> <li>\u4f5c\u7528\uff1aprint\uff08\u5bf9\u8c61\u65f6\uff09\u8fdb\u884c\u64cd\u4f5c\uff0c\u5f97\u5230\u5b57\u7b26\u4e32\uff0c\u901a\u5e38\u7528\u4e8e\u5feb\u6377\u64cd\u4f5c</li> <li>\u8c03\u7528\u65b9\u5f0f\uff1a<code>print(obj)</code></li> </ul> <p>\u53e6\u5916\uff0c\u8fd8\u6709\u4e00\u4e2a\u4e0e<code>__str__()</code>\u76f8\u540c\u7684\u5b50\u65b9\u6cd5\uff1a<code>__repr__()</code>\uff0c\u6548\u679c\u4e00\u6837\uff0c\u9002\u7528\u4e8e\u8c03\u8bd5\u65f6\uff0c\u533a\u522b\u5728\u4e8e</p> <p><code>&gt;&gt;&gt; print(obj)</code> \u65f6\u8c03\u7528\u7684\u662f <code>__str__()</code></p> <p><code>&gt;&gt;&gt; obj</code> \u65f6\u8c03\u7528\u7684\u662f <code>__repr__()</code></p> JavaPython <pre><code>public class Person{\n\n    String name = \"\";\n    int age = 0;\n\n    public Person(String name, int age){\n        this.name = name;\n        this.age = age;\n    }\n\n    ...\n\n    public String toString() {\n        return \"name: \" + this.name + \", age: \" + this.age;\n    }\n}\n\n\nPerson p = new Person(\"Boii\", 18);\nsystem.out.println(p);\n\n// Output:\n// name: Boii, age: 18\n</code></pre> <pre><code>class Person:\n    def __init__(self, name, age):\n        self.name = name\n        self.age = age\n\n    def __str__(self):\n        return \"name: \" + self.name + \", age: \" + self.age\n\n    __repr__ = __str__    # \u5077\u61d2\u5199\u6cd5\n\n\np = Person(\"Boii\", 18)\nprint(p)\n\n# Output:\n# name: Boii, age: 18\n</code></pre>"},{"location":"Python/Advanced/OOP/Python-No-13-Magic-Method/#__call__","title":"<code>__call__()</code>","text":"<p>Abstract</p> <p>\u8c03\u7528\u5bf9\u8c61\u7684\u9b54\u672f\u65b9\u6cd5</p> <ul> <li>\u89e6\u53d1\u65f6\u673a:\u5c06\u5bf9\u8c61\u5f53\u4f5c\u51fd\u6570\u8c03\u7528\u65f6\u89e6\u53d1 \u5bf9\u8c61()</li> <li>\u53c2\u6570:\u81f3\u5c11\u4e00\u4e2aself\u63a5\u6536\u5bf9\u8c61\uff0c\u5176\u4f59\u6839\u636e\u8c03\u7528\u65f6\u53c2\u6570\u51b3\u5b9a</li> <li>\u8fd4\u56de\u503c\uff1a\u6839\u636e\u60c5\u51b5\u800c\u5b9a</li> <li>\u4f5c\u7528\uff1a\u53ef\u4ee5\u5c06\u590d\u6742\u7684\u6b65\u9aa4\u8fdb\u884c\u5408\u5e76\u64cd\u4f5c\uff0c\u51cf\u5c11\u8c03\u7528\u7684\u6b65\u9aa4\uff0c\u65b9\u4fbf\u4f7f\u7528</li> <li>\u8c03\u7528\u65b9\u5f0f\uff1a<code>obj()</code></li> </ul> <pre><code>class Athlete:\n    def prepare(self):\n        print('The athlete is preparing...')\n\n    def warm_up(self):\n        print('The athlete is warming up...')\n\n    def attend(self):\n        print('The athlete attended.')\n\n    def run(self):\n        print('The athlete ran.')\n\n    def __call__(self):\n        self.prepare()\n        self.warm_up()\n        self.attend()\n        self.run()\n\nathlete = Athlete()\nathlete()\n\n# Output:\nThe athlete is preparing...\nThe athlete is warming up...\nThe athlete attended.\nThe athlete ran.\n</code></pre> <p>\u793a\u4f8b\u4e2d\u53ea\u662f\u7b80\u5355\u8c03\u7528\u81ea\u8eab\u51fd\u6570\uff0c\u5b9e\u9645\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u4f1a\u6709\u66f4\u591a\u5982\u5f00\u542f\u7ebf\u7a0b\uff0c\u8c03\u7528\u522b\u7684\u7c7b\u7b49\u590d\u6742\u64cd\u4f5c</p> <p>\u5f88\u591a\u65f6\u5019\uff0c\u9700\u8981\u5224\u65ad\u4e00\u4e2a\u5bf9\u8c61\u80fd\u5426\u88ab\u8c03\u7528\uff0c\u80fd\u88ab\u8c03\u7528\u7684\u5bf9\u8c61\u5c31\u662f\u4e00\u4e2a<code>Callable</code></p> <p>\u51fd\u6570\uff0c\u548c\u5e26\u6709 <code>__call__()</code>\u7684\u7c7b\u5bf9\u8c61\u5c31\u662fCallable</p> <p>\u53ef\u4ee5\u901a\u8fc7 <code>callable(obj)</code>\u6765\u5224\u65ad\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u53ef\u4ee5\u88ab\u8c03\u7528</p>"},{"location":"Python/Advanced/OOP/Python-No-13-Magic-Method/#__iter__","title":"<code>__iter__()</code>","text":"<p>\u8c03\u7528\u5bf9\u8c61\u7684\u9b54\u672f\u65b9\u6cd5</p> <ul> <li>\u89e6\u53d1\u65f6\u673a\uff1a\u5bf9\u8c61\u88ab\u7528\u4e8e <code>for...in</code></li> <li>\u53c2\u6570\uff1a\u81f3\u5c11\u4e00\u4e2aself\u63a5\u6536\u5bf9\u8c61</li> <li>\u8fd4\u56de\u503c\uff1a\u6839\u636e\u60c5\u51b5\u800c\u5b9a</li> <li>\u4f5c\u7528\uff1a\u4f7f\u7c7b\u5177\u6709\u53ef\u8fed\u4ee3\u7684\u80fd\u529b</li> <li>\u8c03\u7528\u65b9\u5f0f\uff1a<code>for...in obj</code></li> </ul> <p>\u5982\u679c\u4e00\u4e2a\u7c7b\u60f3\u88ab\u7528\u4e8efor ... in\u5faa\u73af\uff0c\u7c7b\u4f3clist\u6216tuple\u90a3\u6837\uff0c\u5c31\u5fc5\u987b\u5b9e\u73b0\u4e00\u4e2a__iter__()\u65b9\u6cd5\uff0c</p> <p>\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5bf9\u8c61\uff0c</p> <p>\u7136\u540e\uff0cPython\u7684for\u5faa\u73af\u5c31\u4f1a\u4e0d\u65ad\u8c03\u7528\u8be5\u8fed\u4ee3\u5bf9\u8c61\u7684__next__()\u65b9\u6cd5\u62ff\u5230\u5faa\u73af\u7684\u4e0b\u4e00\u4e2a\u503c\uff0c</p> <p>\u76f4\u5230\u9047\u5230StopIteration\u9519\u8bef\u65f6\u9000\u51fa\u5faa\u73af\u3002</p> <p>\u4ee5\u6590\u6ce2\u90a3\u5951\u6570\u5217\u4e3a\u4f8b\uff0c\u5199\u4e00\u4e2aFib\u7c7b\uff0c\u53ef\u4ee5\u4f5c\u7528\u4e8efor\u5faa\u73af\uff1a</p> <pre><code>class Fib(object):\n    def __init__(self):\n        self.a, self.b = 0, 1   # \u521d\u59cb\u5316\u4e24\u4e2a\u8ba1\u6570\u5668a\uff0cb\n\n    def __iter__(self):\n        return self             # \u5b9e\u4f8b\u672c\u8eab\u5c31\u662f\u8fed\u4ee3\u5bf9\u8c61\uff0c\u6545\u8fd4\u56de\u81ea\u5df1\n\n    def __next__(self):\n        self.a, self.b = self.b, self.a + self.b # \u8ba1\u7b97\u4e0b\u4e00\u4e2a\u503c\n        if self.a &gt; 100000:     # \u9000\u51fa\u5faa\u73af\u7684\u6761\u4ef6\n            raise StopIteration()\n        return self.a           # \u8fd4\u56de\u4e0b\u4e00\u4e2a\u503c\n\n\n&gt;&gt;&gt; for n in Fib():\n...     print(n)\n...\n1\n1\n2\n3\n5\n...\n46368\n75025\n</code></pre>"},{"location":"Python/Advanced/OOP/Python-No-13-Magic-Method/#__getitem__","title":"<code>__getitem__()</code>","text":""},{"location":"Python/Advanced/OOP/Python-No-13-Magic-Method/#__getattr__","title":"<code>__getattr__()</code>","text":"<ul> <li>\u89e6\u53d1\u65f6\u673a\uff1a\u83b7\u53d6\u4e0d\u5b58\u5728\u7684\u5bf9\u8c61\u6210\u5458\u65f6\u89e6\u53d1</li> <li>\u53c2\u6570\uff1a1\u63a5\u6536\u5f53\u524d\u5bf9\u8c61\u7684self\uff0c\u4e00\u4e2a\u662f\u83b7\u53d6\u6210\u5458\u540d\u79f0\u7684\u5b57\u7b26\u4e32</li> <li>\u8fd4\u56de\u503c\uff1a\u5fc5\u987b\u6709\u503c</li> <li>\u4f5c\u7528:\u4e3a\u8bbf\u95ee\u4e0d\u5b58\u5728\u7684\u5c5e\u6027\u8bbe\u7f6e\u503c</li> <li>\u6ce8\u610f\uff1agetattribute\u65e0\u8bba\u4f55\u65f6\u90fd\u4f1a\u5728getattr\u4e4b\u524d\u89e6\u53d1\uff0c\u89e6\u53d1\u4e86getattribute\u5c31\u4e0d\u4f1a\u5728\u89e6\u53d1getattr\u4e86</li> </ul>"},{"location":"Python/Advanced/OOP/Python-No-14-Enum/","title":"\u679a\u4e3e\u7c7b","text":""},{"location":"Python/Advanced/OOP/Python-No-14-Enum/#_1","title":"\u679a\u4e3e\u7c7b\u578b","text":""},{"location":"Python/Advanced/OOP/Python-No-14-Enum/#_2","title":"\u521b\u5efa\u679a\u4e3e","text":"<p>\u6709\u4e24\u79cd\u65b9\u6cd5\u521b\u5efa\u679a\u4e3e</p> <ol> <li>\u57fa\u4e8e class \u8bed\u6cd5\u521b\u5efa</li> <li>\u57fa\u4e8e Function API \u521b\u5efa</li> </ol> <p>\u7b2c\u4e00\u6b65\uff0c\u5bfc\u5165Enum\u7c7b</p> <pre><code>from enum import Enum\n</code></pre>"},{"location":"Python/Advanced/OOP/Python-No-14-Enum/#class","title":"\u57fa\u4e8e class \u8bed\u6cd5\u521b\u5efa","text":"<pre><code>from enum import Enum\n\nclass Weekend(Enum)\uff1b\n    Mon = 1\n    Tue = 2\n    Wed = 3\n    Thr = 4\n    Fri = 5\n    Sat = 6\n    Sun = 7\n</code></pre> \u4e0a\u9762\u4f8b\u5b50 <ol> <li>\u5b9a\u4e49\u4e86 Weekend \u679a\u4e3e\u7c7b\u578b</li> <li>\u5b9a\u4e49\u4e86 Weekend \u7684\u679a\u4e3e\u6210\u5458 Weekend.Mon\uff0cWeekend.Tue...</li> <li>\u4e3a\u6bcf\u4e00\u4e2a\u679a\u4e3e\u6210\u5458\u8d4b\u503c\u3002\u5982Weekend.Mon \u7684\u503c\u4e3a1\u3002\u503c\u53ef\u4ee5\u6307\u5b9a\u4e3a\u5176\u4ed6\u7c7b\u578b\uff0c\u4e0d\u662f\u5fc5\u987b\u6574\u578b</li> </ol> <p>\u679a\u4e3e\u6210\u5458\u5305\u542b\u4e24\u4e2a\u5c5e\u6027\uff1a<code>name</code>\u548c<code>value</code></p> <pre><code>&gt;&gt;&gt; Weekend.Mon.name\nMon\n&gt;&gt;&gt; Weekend.Mon.value\n1\n</code></pre> <p>\u5b9a\u4e49string\u7c7b\u578b\u7684\u503c</p> <pre><code>from enum import Enum\n\nclass Weekend(Enum)\uff1b\n    Monday = 'Mon'\n    Tuesday = 'Tue'\n    Wednesday = 'Wed'\n    Thursday = 'Thu'\n    Friday = 'Fri'\n    Saturday = 'Sat'\n    Sunday = 'Sun'\n\n&gt;&gt;&gt; Weekend.Monday.value\n'Mon'\n</code></pre>"},{"location":"Python/Advanced/OOP/Python-No-14-Enum/#function-api","title":"\u57fa\u4e8e Function API \u521b\u5efa","text":"<p>Abstract</p> <p><code>Enum(enum name, enumerators)</code></p> <p>\u7b2c\u4e00\u4e2a\u53c2\u6570 enum name \u8868\u793a\u679a\u4e3e\u540d\u79f0\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570enumerators \u8868\u793a\u679a\u4e3e\u6210\u5458\u5217\u8868</p> <p>\u679a\u4e3e\u6210\u5458\u5217\u8868\u6709\u4e09\u79cd\u65b9\u5f0f\uff1a</p> <ol> <li> <p>\u4f7f\u7528\u5b57\u7b26\u4e32\u8868\u793a\uff0c\u5404\u6210\u5458\u540d\u4f7f\u7528\u7a7a\u683c\u9694\u5f00\u3002\u6210\u5458\u7684\u503c\u4ece1\u5f00\u59cb\u81ea\u52a8\u9012\u589e</p> <p><code>Enum('enum_name', 'member1 member2 member3 ... memberN')</code></p> </li> <li> <p>\u4f7f\u7528\u5143\u7ec4\u8868\u793a\uff0c\u6210\u5458\u7684\u503c\u4ece1\u5f00\u59cb\u81ea\u52a8\u9012\u589e</p> <p><code>Enum('enum_name', ('member1', 'member2', 'member3', ... , 'memberN'))</code></p> </li> <li> <p>\u4f7f\u7528\u5b57\u5178\u8868\u793a\uff0c\u5b57\u5178\u53ef\u4ee5\u6307\u5b9a\u679a\u4e3e\u6210\u5458\u7684\u503c\uff0c\u5176\u4e2d\u5b57\u5178\u7684\u952e\u4e3a\u679a\u4e3e\u6210\u5458\u540d\uff0c\u503c\u4e3a\u679a\u4e3e\u6210\u5458\u7684\u503c</p> <p><code>Enum('enum_name', {'member1_key': memberl_value, 'member_key2': member2_value,...})</code></p> </li> </ol> <pre><code>from enum import Enum\n\n# \u4ee5\u4e0b\u4e09\u53e5\u8868\u8fbe\u5f0f\u4e92\u76f8\u7b49\u4ef7\nweekend = Enum('week','Mon Tue Wed Thu Fri Sat Sun')\nweekend = Enum('week',('Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun')\nweekend = Enum('week',{'Mon':1, 'Tue':2, 'Wed':3, 'Thu':4, 'Fri':5, 'Sat':6, 'Sun':7})\n\n&gt;&gt;&gt; weekend.Mon.value\n1\n</code></pre>"},{"location":"Python/Advanced/OOP/Python-No-14-Enum/#_3","title":"\u8bbf\u95ee\u679a\u4e3e\u6210\u5458","text":"<p>\u8bbf\u95ee\u679a\u4e3e\u6210\u5458\u6709\u4e09\u79cd\u65b9\u5f0f\uff1a</p> <ol> <li>\u4f7f\u7528\u70b9\u53f7(\".\")\u5f15\u7528</li> <li>\u4f7f\u7528value\u83b7\u53d6\uff0c\u503c\u5bf9\u5e94\u7684\u679a\u4e3e\u6210\u5458</li> <li>\u4f7f\u7528\u679a\u4e3e\u6210\u5458\u540d</li> </ol> <pre><code>from enum import Enum\n\nclass Weekend(Enum):\n    Mon = 1\n    Tue = 2\n    Wed = 3\n    Thr = 4\n    Fri = 5\n    Sat = 6\n    Sun = 7\n\n# \u6309\u503c\u8bbf\u95ee\nprint(Weekend(5))        # Weekend.Fri\n\n# \u6309\u679a\u4e3e\u540d\u8bbf\u95ee\nprint(Weekend['Sun'])    # Weekend.Sun\n\n# \u8bbf\u95ee\u6210\u5458\u7684\u540d\u79f0\nprint(Weekend.Tue.name)  # Tue\n\n# \u8bbf\u95ee\u6210\u5458\u7684\u503c\nprint(Weekend.Thr.value) # 4\n</code></pre>"},{"location":"Python/Advanced/OOP/Python-No-14-Enum/#_4","title":"\u679a\u4e3e\u904d\u5386","text":"<p>\u5982\u679c\u628a\u679a\u4e3e\u5f53\u4f5c Dict \u6765\u770b\uff0c<code>\u679a\u4e3e\u7c7b.\u679a\u4e3e\u6210\u5458\u540d</code>\u662fkey\uff0c<code>\u8d4b\u7ed9\u679a\u4e3e\u6210\u5458\u7684\u503c</code>\u662fvalue</p> <pre><code>print(\"name:    member   | value\")\nprint(\"-\" * 25)\n\nfor name, member in Weekend.__members__.items():\n    print(name + \" : \" + str(member) + \" | \" + str(member.value))\n\n\n# Output:\n\nname:    member   | value\n-------------------------\nMon : Weekend.Mon | 0\nTue : Weekend.Tue | 1\nWed : Weekend.Wed | 2\nThr : Weekend.Thr | 3\nFri : Weekend.Fri | 4\nSat : Weekend.Sat | 5\nSun : Weekend.Sun | 6\n\n\n\n&gt;&gt;&gt; print(Weekend.__members__)\n{'Mon': &lt;Weekend.Mon: 0&gt;,\n 'Tue': &lt;Weekend.Tue: 1&gt;,\n 'Wed': &lt;Weekend.Wed: 2&gt;,\n 'Thr': &lt;Weekend.Thr: 3&gt;,\n 'Fri': &lt;Weekend.Fri: 4&gt;,\n 'Sat': &lt;Weekend.Sat: 5&gt;,\n 'Sun': &lt;Weekend.Sun: 6&gt;}\n\n\n&gt;&gt;&gt; type(Weekend.__members__)\n&lt;class 'mappingproxy'&gt;\n</code></pre>"},{"location":"Python/Advanced/OOP/Python-No-14-Enum/#_5","title":"\u679a\u4e3e\u6bd4\u8f83","text":"<p>\u679a\u4e3e\u6210\u5458\u5e76\u975e\u6574\u578b\uff0c\u800c\u662f\u4e00\u79cd\u6620\u5c04\u7c7b\u578b\uff0c\u662f\u4e0d\u80fd\u505a\u5927\u5c0f\u6bd4\u8f83\u7684</p> <p>\u5f53\u65f6\u53ef\u4ee5\u505a\u76f8\u7b49\u6bd4\u8f83</p> <pre><code>&gt;&gt;&gt; Weekend.Mon == Weekend.Mon\nTrue\n&gt;&gt;&gt; Weekend.Mon == Weekend.Tue\nFalse\n&gt;&gt;&gt; Weekend.Mon != Weekend.Tue\nTrue\n&gt;&gt;&gt; Weekend.Mon == 0\nFalse\n</code></pre>"},{"location":"Python/Advanced/OOP/Python-No-14-Enum/#_6","title":"\u9650\u5b9a\u679a\u4e3e\u552f\u4e00\u6027","text":"<p>\u9650\u5b9a\u679a\u4e3e\u552f\u4e00\u6027\u662f\u6307 \u9650\u5236\u679a\u4e3e\u7c7b\u4e2d\u7684\u679a\u4e3e\u6210\u5458 \u7684 \u540d\u79f0\u548c\u503c\u90fd\u4e0d\u91cd\u590d</p> <p>\u9650\u5b9a\u679a\u4e3e\u552f\u4e00\u6027\u975e\u5e38\u7b80\u5355</p> <p>\u5bfc\u5165 unique\u7c7b\uff0c\u7136\u540e\u5728\u81ea\u5b9a\u4e49\u7684\u679a\u4e3e\u7c7b\u524d\u52a0\u4e0a\u88c5\u9970\u5668 <code>@unique</code></p> <pre><code>from enum import Enum, unique\n\n@unique\nclass Weekend:\n    Mon = 0\n    Tue = 1\n    Wed = 2\n    Thr = 3\n    Fri = 4\n    Sat = 5\n    Sun = 6\n</code></pre>"},{"location":"Python/Advanced/Thread/Python-No-15-Abstract/","title":"\u603b\u53d9","text":"<p>\u8fdb\u7a0b\u662f \u5185\u5b58\u8d44\u6e90\u5206\u914d\u7684\u5355\u4f4d</p> <p>\u7ebf\u7a0b\u662f \u64cd\u4f5c\u7cfb\u7edf\u8c03\u5ea6\u7684\u5355\u4f4d\uff0c\u771f\u6b63\u6267\u884c\u4efb\u52a1\u7684\u662f\u7ebf\u7a0b</p> <p>\u534f\u7a0b\u662f\u7ebf\u7a0b\u4e2d \u4efb\u52a1\u7ec6\u5206\u4e0b\u6765\u7684\u5355\u4f4d</p> <p>\u4ee3\u7801\u662f\u7531\u7ebf\u7a0b\u6267\u884c\u7684</p> <p>\u7ebf\u7a0b\u5fc5\u987b\u5728\u8fdb\u7a0b\u4e2d\u8fd0\u884c</p> <p>\u7ebf\u7a0b\u53ef\u4ee5\u62c6\u5206\u6210\u591a\u4e2a\u534f\u7a0b</p> <p></p> <p>\u4ece\u56fe\u4e2d\u53ef\u4ee5\u770b\u51fa</p> <p>\u4e00\u4e2a\u8fdb\u7a0b\u4e2d\u67091\u6216\u591a\u4e2a\u7ebf\u7a0b\uff0c\u8fdb\u7a0b\u5c31\u50cf\u4e00\u4e2a\u5bb9\u5668\u4e00\u6837\uff0c\u662f\u5185\u5b58\u8d44\u6e90\u5206\u914d\u7684\u5355\u4f4d</p> <p>\u7ebf\u7a0b\u662f\u7531\u64cd\u4f5c\u7cfb\u7edf\u8c03\u5ea6\u7684\uff0c\u628aCPU\u8ba1\u7b97\u8d44\u6e90\u7ed9\u54ea\u4e2a\u7ebf\u7a0b\u4f7f\u7528\u662f\u64cd\u4f5c\u7cfb\u7edf\u7ba1\u7684</p> <p>\u6bcf\u4e2a\u7ebf\u7a0b\u91cc\u6216\u591a\u6216\u5c11\u6709\u51e0\u4e2a\u534f\u7a0b\uff0c\u8fd9\u4e9b\u662f\u7a0b\u5e8f\u7ba1\u7406\u7684</p> <p>Note</p> <p>\u7a0b\u5e8f &gt; \u8fdb\u7a0b &gt; \u7ebf\u7a0b &gt; \u534f\u7a0b</p> <ul> <li>\u4ee3\u7801\u5199\u597d\u4e86\uff0c\u8eba\u5728\u786c\u76d8\u4e86\uff0c\u90a3\u53eb \u7a0b\u5e8f<ul> <li>\u4ee3\u7801\u62ff\u5230\u5185\u5b58\u91cc\u8dd1\uff0c\u90a3\u53eb \u8fdb\u7a0b</li> <li>\u7a0b\u5e8f\u89c9\u5f97\u4e00\u4e2a\u4e3b\u8fdb\u7a0b\u4e0d\u591f\uff0c\u53ef\u4ee5\u518d\u5f00N\u4e2a \u5b50\u8fdb\u7a0b<ul> <li>\u8fdb\u7a0b\u53ea\u662f\u4e00\u4e2a\u5bb9\u5668\uff0c\u9700\u8981\u5e72\u6d3b\u7684\uff0c\u6240\u4ee5\u5f97\u6709 \u7ebf\u7a0b</li> <li>\u8fdb\u7a0b\u89c9\u5f97\u4e00\u4e2a\u4e3b\u7ebf\u7a0b\u4e0d\u591f\uff0c\u53ef\u4ee5\u518d\u5f00N\u4e2a \u5b50\u7ebf\u7a0b<ul> <li>\u7ebf\u7a0b\u89c9\u5f97\u6709\u5f88\u591a\u8017\u65f6\u64cd\u4f5c\uff08\u5982\u8bfb\u5199\u6587\u4ef6\u3001\u7f51\u7edc\u8bf7\u6c42\uff09\uff0c\u60f3\u628a\u7b49\u5f85\u7684\u65f6\u95f4\u5229\u7528\u8d77\u6765\u505a\u5176\u4ed6\u8fd8\u6ca1\u5b8c\u6210\u7684\u4efb\u52a1\uff0c\u53ef\u4ee5\u641e\u51fa\u5f88\u591a\u4e2a \u534f\u7a0b</li> </ul> </li> </ul> </li> </ul> </li> </ul> <p></p> <p>\u8fd9\u4e48\u591a\u4e2a\u6982\u5ff5\uff0c\u5176\u88ab\u53d1\u660e\u7684\u76ee\u7684\u90fd\u662f\u4e3a\u4e86 \u66f4\u9ad8\u6548\u7684\u5229\u7528\u8ba1\u7b97\u673a</p> <p>\u5728\u4e0a\u53e4\u65f6\u4ee3\uff0c\u5355CPU-\u5355\u6838\uff0c\u5728\u540c\u4e00\u65f6\u95f4\u5185\u53ea\u80fd\u505a\u4e00\u4ef6\u4e8b\u60c5\uff0c\u4e0d\u53ef\u80fd\u50cf\u73b0\u5728\u8fd9\u6837\u53c8\u542c\u6b4c\u53c8\u4e0a\u7f51\u53c8\u5199\u6587\u6863 \u4eba\u4eec\u53d1\u73b0CPU\u7684\u8ba1\u7b97\u901f\u5ea6\u5947\u9ad8\uff0c\u6240\u4ee5\u5229\u7528\u4e86\u65f6\u95f4\u7247(\u5c31\u662f\u77ed\u5230\u4eba\u7c7b\u65e0\u6cd5\u53d1\u73b0\u7684\u65f6\u957f)\u591a\u6b21\u5207\u6362\u8fd0\u884c\u7a0b\u5e8f\uff0c\u96e8\u9732\u5747\u6cbe \u8fd9\u6837 \u5355CPU-\u5355\u6838 \u4e5f\u80fd\u5b9e\u73b0\u591a\u4e2a\u4efb\u52a1\u540c\u65f6\u8fdb\u884c\u3002 \u4e0d\u8fc7\u8fd9\u53ea\u662f\u770b\u8d77\u6765\u50cf\u662f\u5728\u540c\u65f6\u8fd0\u884c\uff0c\u5982\u679c\u4f60\u80fd\u6682\u505c\u65f6\u95f4\uff0c\u4f60\u4f1a\u53d1\u73b0CPU\u53ea\u662f\u5728\u6267\u884c\u67d0\u4e00\u4e2a\u7a0b\u5e8f\u800c\u5df2\u3002 \u8fd9\u79cd\u8ba9CPU\u8d44\u6e90\u5728\u7a0b\u5e8f\u4e4b\u95f4\u53cd\u590d\u6a2a\u8df3\uff0c\u4ece\u800c\u5b9e\u73b0\u591a\u4efb\u52a1\u7684\u6280\u672f\uff0c\u53eb\u505a \u5e76\u53d1</p> <p>\u90a3\u5982\u679c\u6211\u5c31\u662f\u60f3\u8981\u6309\u4e0b\u65f6\u95f4\u6682\u505c\u6309\u94ae\u7684\u65f6\u5019\uff0c\u771f\u7684\u6709\u591a\u4e2a\u7a0b\u5e8f\u5728\u4e00\u8d77\u6267\u884c\u600e\u4e48\u529e\uff1f \u518d\u52a0\u4e2aCPU\u54af\u3002\u8fd9\u53eb \u5e76\u884c</p>"},{"location":"Python/Advanced/Thread/Python-No-15-Abstract/#_1","title":"\u4e3e\u4e2a\u6817\u5b50","text":"<p>\u73b0\u5728\u6709\u4e00\u4e2a\u73a9\u5177\u5382\uff0c\u5382\u91cc\u9762\u67092\u4e2a\u8f66\u95f4\uff1a\u4e00\u4e2a\u751f\u4ea7\u73a9\u5177\uff0c\u4e00\u4e2a\u751f\u4ea7\u5bb6\u7535 \u6bcf\u4e2a\u8f66\u95f4\u6709N\u6761\u6d41\u6c34\u7ebf\uff0c\u6bcf\u6761\u6d41\u6c34\u7ebf\u4e0a\u6709N\u4e2a\u5de5\u4eba\uff0c\u6bcf\u4e2a\u5de5\u4eba\u90fd\u6709\u5404\u81ea\u7684\u4efb\u52a1 \u8f66\u95f4\u9700\u8981\u5730\u65b9\u642d\u5efa\uff0c\u8fd8\u9700\u8981\u7535\u529b\u4f9b\u5e94</p> <p>\u6211\u4eec\u634b\u4e00\u634b\u5173\u7cfb\uff1a</p> <p>\u53d1\u7535\u673a  -&gt; CPU \u5382         -&gt; \u5185\u5b58 \u8f66\u95f4      -&gt; \u8fdb\u7a0b \u6d41\u6c34\u7ebf  -&gt; \u7ebf\u7a0b \u5de5\u4eba     -&gt; \u4efb\u52a1</p> <p>\u8f66\u95f4\u6ca1\u5efa\u8d77\u6765\uff0c\u5c31\u50cf\u4ee3\u7801\u653e\u5728\u786c\u76d8\u91cc\uff0c\u4ee3\u7801\u6254\u786c\u76d8\u91cc\u4e0d\u5c31\u53eb \u7a0b\u5e8f \u4e48</p> <p>\u628a \u8f66\u95f4 \u5efa\u5230 \u5382\u623f \u91cc\u7528\u8d77\u6765\uff0c\u90a3\u4e9b \u8f66\u95f4 \u5c31\u6210\u4e86 \u6709\u7528\u7684\u8f66\u95f4 \u628a \u4ee3\u7801 \u653e\u5230 \u5185\u5b58 \u91cc\u8dd1\u8d77\u6765\uff0c\u90a3\u4e9b \u4ee3\u7801 \u5c31\u6210\u4e86 \u8fdb\u7a0b</p> <p>\u8f66\u95f4 \u642d\u597d\u4e86\u5f97\u6709 \u6d41\u6c34\u7ebf \u6765 \u7ec4\u88c5\u4ea7\u54c1\u554a \u8fdb\u7a0b \u5efa\u597d\u4e86\u8fd8\u5f97\u6709 \u7ebf\u7a0b \u6765 \u6267\u884c\u4efb\u52a1\u554a</p> <p>\u6240\u4ee5\u6bcf\u4e2a\u8f66\u95f4\u81f3\u5c11\u6709\u4e00\u6761\u4e3b\u6d41\u6c34\u7ebf \u6240\u4ee5\u6bcf\u4e2a\u8fdb\u7a0b\u81f3\u5c11\u6709\u4e00\u4e2a\u4e3b\u7ebf\u7a0b</p> <p>\u8f66\u95f4 \u4e00\u5f00\u59cb\u53ea\u6709\u4e00\u6761\u4e3b\u6d41\u6c34\u7ebf\u505a\u5168\u90e8\u6b65\u9aa4\uff0c\u6709\u5929\u53d1\u73b0\u6709\u4e2a\u6b65\u9aa4\u7279\u522b\u9ebb\u70e6 \u8fdb\u7a0b \u4e00\u5f00\u59cb\u53ea\u6709\u4e00\u4e2a \u4e3b\u7ebf\u7a0b \u505a\u6240\u6709\u4e8b\u60c5\uff0c\u6709\u5929\u53d1\u73b0\u6709\u4e2a\u64cd\u4f5c\u7279\u522b\u8017\u65f6</p> <p>\u4e8e\u662f\u4e3b\u6d41\u6c34\u7ebf\u5c31\u518d\u62c9\u4e86\u4e00\u6761\u526f\u6d41\u6c34\u7ebf\u6765\u8d1f\u8d23\u8fd9\u4e2a\u9ebb\u70e6\u7684\u6b65\u9aa4\uff0c\u81ea\u5df1\u7ee7\u7eed\u4e0b\u4e00\u6b65\uff0c\u518d\u6709\u9ebb\u70e6\u6b65\u9aa4\u5c31\u7ee7\u7eed\u52a0\u526f\u6d41\u6c34\u7ebf \u4e8e\u662f\u4e3b\u7ebf\u7a0b\u5f00\u542f\u4e00\u4e2a \u5b50\u7ebf\u7a0b \u6765\u8d1f\u8d23\u8fd9\u4e2a\u8017\u65f6\u64cd\u4f5c\uff0c\u4e3b\u7ebf\u7a0b\u7ee7\u7eed\u6267\u884c\uff0c\u518d\u6709\u8017\u65f6\u64cd\u4f5c\u5c31\u7ee7\u7eed\u52a0\u5b50\u7ebf\u7a0b</p> <p>\u6709\u4e00\u5929\u5355\u5b50\u592a\u591a\uff0c\u4e00\u6761\u8f66\u95f4\u4e0d\u591f\uff0c\u90a3\u5c31\u52a0\u6761\u526f\u8f66\u95f4\u54af\uff0c\u518d\u4e0d\u591f\u518d\u52a0 \u6709\u4e00\u5929\u8ba1\u7b97\u91cf\u592a\u5927\uff0c\u4e00\u4e2a\u8fdb\u7a0b\u4e0d\u591f\uff0c\u90a3\u5c31\u52a0\u4e2a \u5b50\u8fdb\u7a0b \u54af\uff0c\u518d\u4e0d\u591f\u518d\u52a0</p> <p>\u800c\u4e14\u526f\u8f66\u95f4\u5f97\u66f4\u4e3b\u8f66\u95f4\u4e00\u6a21\u4e00\u6837 \u800c\u4e14\u5b50\u8fdb\u7a0b\u5f97\u5b8c\u5168\u590d\u5236\u4e3b\u8fdb\u7a0b\uff0c\u5305\u62ec\u4ee3\u7801\u3001\u72b6\u6001\u7b49\u7b49</p> <p>\u5e76\u4e14\uff0c\u4e00\u4e2a\u8f66\u95f4\u6302\u4e86\u6ca1\u4e8b\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5176\u4ed6\u8f66\u95f4 \u5e76\u4e14\uff0c\u4e00\u4e2a\u8fdb\u7a0b\u6302\u4e86\u6ca1\u4e8b\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5176\u4ed6\u8fdb\u7a0b</p> <p>\u90a3\u73b0\u5728\u8f66\u95f4\u4e4b\u95f4 \u8981\u4f20\u9012\u96f6\u4ef6\u600e\u4e48\u529e\uff0c\u642d\u4e2a\u7ba1\u5b50\uff0c\u76f4\u63a5\u6e9c\u8fc7\u53bb\uff0c\u5148\u653e\u7684\u522b\u4eba\u5c31\u5148\u62ff\u5230 \u90a3\u73b0\u5728 \u8fdb\u7a0b\u4e4b\u95f4 \u8981\u8fdb\u884c \u901a\u4fe1 \u600e\u4e48\u529e\uff0c\u7528 \u961f\u5217 \u6216\u8005 \u7ba1\u9053 \u5457\uff0c\u5148\u653e\u7684\u5c31\u5148\u62ff\u5230</p> <p>\u90a3\u6d41\u6c34\u7ebf\u4e4b\u95f4\u8981\u4f20\u9012\u4e1c\u897f\u600e\u4e48\u529e\uff1f\u653e\u8f66\u95f4\u7684\u5de5\u5177\u8f66\u4e0a\u4e0d\u5c31\u5b8c\u4e86 \u90a3\u7ebf\u7a0b\u4e4b\u95f4\u8981 \u901a\u4fe1 \u600e\u4e48\u529e\uff1f\u7528 \u5168\u5c40\u53d8\u91cf \u4e0d\u5c31\u5b8c\u4e86</p> <p>\u6d41\u6c34\u7ebf\u8ddf\u8f66\u95f4\u53ef\u4e0d\u4e00\u6837\uff0c\u8981\u662f\u54ea\u6761\u526f\u6d41\u6c34\u7ebf\u6302\u4e86\u662f\u4f1a\u5f71\u54cd\u6574\u4e2a\u8f66\u95f4\u7684 \u7ebf\u7a0b\u8ddf\u8fdb\u7a0b\u53ef\u4e0d\u4e00\u6837\uff0c\u8981\u662f\u54ea\u4e2a\u5b50\u7ebf\u7a0b\u6302\u4e86\u662f\u4f1a\u5f71\u54cd\u6574\u4e2a\u8fdb\u7a0b\u7684</p> <p>\u4e3b\u6d41\u6c34\u7ebf\u8981\u662f\u6302\u4e86\uff0c\u6574\u4e2a\u8f66\u95f4\u5b8c\u728a\u5b50 \u4e3b\u7ebf\u7a0b\u8981\u662f\u6302\u4e86\uff0c\u6574\u4e2a\u8fdb\u7a0b\u5b8c\u728a\u5b50</p> <p>\u6709\u7684\u6d41\u6c34\u7ebf\u5c31\u4e00\u4e2a\u5de5\u4eba\uff0c\u6709\u7684\u6d41\u6c34\u7ebf\u6709\u591a\u4e2a\u5de5\u4eba\uff0c\u8fd9\u4e2a\u5de5\u4eba\u52a8\u4f5c\u6162\u4e86\uff0c\u5c31\u628a\u87ba\u4e1d\u5200\u7ed9\u522b\u7684\u5de5\u4eba\u5148\u7528 \u6709\u7684\u7ebf\u7a0b\u5c31\u4e00\u4e2a\u534f\u7a0b\uff0c\u6709\u7684\u7ebf\u7a0b\u6709\u591a\u4e2a\u534f\u7a0b\uff0c\u8fd9\u4e2a\u534f\u7a0b\u963b\u585e\u4e86\uff0c\u5c31\u628a\u8fd0\u884c\u6743\u7ed9\u522b\u7684\u534f\u7a0b</p> <p>\u8fd9\u79cd\u79ef\u6781\u5229\u7528\u7b49\u5f85\u65f6\u95f4\u5b89\u6392\u5176\u4ed6\u5de5\u4eba\u7684\u6a21\u5f0f\uff0c\u53eb\u505a\u9ad8\u6548\u5229\u7528\u65f6\u95f4 \u8fd9\u79cd\u79ef\u6781\u5229\u7528\u7b49\u5f85\u65f6\u95f4\u505a\u5176\u4ed6\u4efb\u52a1\u7684\u5f62\u5f0f\uff0c\u53eb\u505a \u534f\u7a0b</p> <p>\u90a3\u73b0\u5728\u53d1\u7535\u673a\u53ea\u6709\u4e00\u4e2a\uff0c\u751f\u4ea7\u73a9\u5177\u7684\u8f66\u95f4\u8981\u7528\uff0c\u751f\u4ea7\u5bb6\u7535\u7684\u8f66\u95f4\u8981\u7528\uff0c\u8001\u677f\u53c8\u60f3\u4e24\u4e2a\u8f66\u95f4\u540c\u65f6\u751f\u4ea7 \u90a3\u73b0\u5728CPU\u53ea\u6709\u4e00\u4e2a\uff0c\u8fdb\u7a0bA\u8981\u7528\uff0c\u8fdb\u7a0bB\u8981\u7528\uff0c\u7528\u6237\u53c8\u60f3\u4e24\u4e2a\u8fdb\u7a0b\u4f7f\u7528\u8fd0\u884c</p> <p>\u90a3\u5c31\u8ba9\u53d1\u7535\u673a\u5feb\u901f\u5728\u4e24\u4e2a\u8f66\u95f4\u4e4b\u95f4\u5feb\u901f\u5207\u6362\uff0c\u54ea\u4e2a\u8f66\u95f4\u6709\u7535\u4e86\u7acb\u9a6c\u5e72\u6d3b\uff0c\u6ca1\u7535\u4e86\u7acb\u9a6c\u6682\u505c \u90a3\u5c31\u8ba9CPU\u8d44\u6e90\u5728\u4e24\u4e2a\u8fdb\u7a0b\u4e4b\u95f4\u53cd\u590d\u6a2a\u8df3\uff0c\u54ea\u4e2a\u8fdb\u7a0b\u88ab\u9009\u4e2d\u4e86\u7acb\u9a6c\u8fd0\u884c\uff0c\u65f6\u95f4\u7247\u5230\u4e86\u7acb\u9a6c\u6682\u505c</p> <p>\u56e0\u4e3a\u901f\u5ea6\u975e\u5e38\u5feb\uff0c\u6240\u4ee5\u8001\u677f\u770b\u7740\u4ee5\u4e3a\u4e24\u4e2a\u8f66\u95f4\u90fd\u542f\u52a8\u4e86 \u56e0\u4e3a\u901f\u5ea6\u975e\u5e38\u5feb\uff0c\u6240\u4ee5\u7528\u6237\u771f\u7684\u4ee5\u4e3a\u4e24\u4e2a\u4efb\u52a1\u540c\u65f6\u8fd0\u884c\uff0c\u8fd9\u53eb \u5e76\u53d1</p> <p>\u6709\u4e00\u5929\u8001\u677f\u53d1\u8d22\uff0c\u52a0\u4e86\u4e00\u53f0\u53d1\u7535\u673a\uff0c\u8fd9\u4e0b\u4e24\u4e2a\u8f66\u95f4\u90fd\u6709\u7535\u4e86\uff0c\u771f\u6b63\u7684\u4e24\u4e2a\u8f66\u95f4\u540c\u65f6\u751f\u4ea7 \u6709\u4e00\u5929\u7528\u6237\u53d1\u8d22\uff0c\u52a0\u4e86\u4e00\u4e2aCPU\uff0c\u8fd9\u4e0b\u4e24\u4e2a\u8fdb\u7a0b\u90fd\u6709\u8d44\u6e90\u4e86\uff0c\u771f\u6b63\u5b9e\u73b0\u4e24\u4e2a\u8fdb\u7a0b\u540c\u65f6\u8fd0\u884c\uff0c\u8fd9\u53eb \u5e76\u884c</p> <p>\u8fdb\u7a0b\u5360\u7684\u8d44\u6e90\u6bd4\u8f83\u5927\uff0c\u4f46\u662f\u5b89\u5168\uff0c\u4e00\u4e2a\u8fdb\u7a0b\u6302\u6389\u4e0d\u4f1a\u5bfc\u81f4\u53e6\u5916\u4e00\u4e2a\u8fdb\u7a0b\u6302\u6389 \u7ebf\u7a0b\u5207\u6362\u5f00\u9500\u66f4\u5c0f \u534f\u7a0b\u5229\u7528\u7b49\u5f85\u7684\u65f6\u95f4\u505a\u522b\u7684\u4e8b\uff0c\u4f46\u662f\u9700\u8981\u7a0b\u5e8f\u627f\u62c5\u8c03\u5ea6\u8d23\u4efb</p> <p>\u5728\u4e0d\u8003\u8651 GIL\uff08\u5168\u5c40\u9501\uff09\u7684\u60c5\u51b5\u4e0b\uff0c\u4f18\u5148\u7528\u534f\u7a0b\u3001\u518d\u7528\u7ebf\u7a0b\u3001\u6700\u540e\u7528\u8fdb\u7a0b</p>"},{"location":"Python/Advanced/Thread/Python-No-16-Process/","title":"\u8fdb\u7a0b","text":"<p>\u8fdb\u7a0b\uff0c\u662f\u8d44\u6e90\u5206\u914d\u7684\u5355\u4f4d</p> <p>\u7a0b\u5e8f\uff1a\u4f8b\u5982<code>xxx.py</code>\u8fd9\u662f\u7a0b\u5e8f\uff0c\u662f\u9759\u6001\u7684 \u8fdb\u7a0b\uff1a\u4e00\u4e2a\u7a0b\u5e8f\u8fd0\u884c\u8d77\u6765\u540e\uff0c\u4ee3\u7801+\u7528\u5230\u7684\u8d44\u6e90 \u79f0\u4e4b\u4e3a\u8fdb\u7a0b\uff0c\u5b83\u662f\u64cd\u4f5c\u7cfb\u7edf\u5206\u914d\u8d44\u6e90\u7684<code>\u57fa\u672c\u5355\u5143</code>\u3002</p> <p>\u8fdb\u7a0b\uff0c\u662f\u8d44\u6e90\u5206\u914d\u7684\u5355\u4f4d \u7ebf\u7a0b\uff0c\u662f\u64cd\u4f5c\u7cfb\u7edf\u8c03\u5ea6\u7684\u5355\u4f4d</p>"},{"location":"Python/Advanced/Thread/Python-No-16-Process/#_1","title":"\u8fdb\u7a0b\u7684\u72b6\u6001","text":"<p>\u5de5\u4f5c\u4e2d\uff0c\u4efb\u52a1\u6570\u5f80\u5f80\u5927\u4e8eCPU\u6838\u5fc3\u6570\uff0c\u5373\u4e00\u5b9a\u6709\u4e00\u4e9b\u4efb\u4f55\u6b63\u5728\u6267\u884c\uff0c\u800c\u53e6\u5916\u4e00\u4e9b\u4efb\u52a1\u5728\u7b49\u5f85CPU\u8fdb\u884c\u6267\u884c \u56e0\u6b64\u8fdb\u7a0b\u6709\u4e0d\u540c\u7684\u72b6\u6001</p> <p>\u8fdb\u7a0b\u7684\u72b6\u6001\u5206\u4e3a\uff1a<code>\u65b0\u5efa</code>\u3001<code>\u5c31\u7eea</code>\u3001<code>\u8fd0\u884c</code>\u3001<code>\u7b49\u5f85\uff08\u5835\u585e\uff09</code>\u3001<code>\u6b7b\u4ea1</code></p> <p></p> <ul> <li>\u5c31\u7eea\u6001\uff1a\u8fd0\u884c\u7684\u6761\u4ef6\u90fd\u5df2\u7ecf\u5177\u5907\uff0c\u6b63\u5728\u7b49\u5728CPU\u6267\u884c</li> <li>\u6267\u884c\u6001\uff1aCPU\u6b63\u5728\u6267\u884c\u5176\u529f\u80fd</li> <li>\u7b49\u5f85\u6001\uff1a\u7b49\u5f85\u67d0\u4e9b\u6761\u4ef6\u6ee1\u8db3\uff1b\u4f8b\u5982\u4e00\u4e2a\u7a0b\u5e8fsleep\u4e86\uff0c\u5c31\u5904\u4e8e\u7b49\u5f85\u6001</li> </ul> <p>\u8fdb\u7a0b\u5c31\u597d\u50cf\u6d41\u6c34\u7ebf\u3002 \u4e00\u4e2a\u8fdb\u7a0b\u5c31\u662f\u4e00\u6761\u6d41\u6c34\u7ebf\uff0c\u6bcf\u6761\u6d41\u6c34\u7ebf\u4e4b\u95f4\u662f\u76f8\u4e92\u72ec\u7acb\u7684\uff1b \u6d41\u6c34\u7ebf\u5c65\u5e26\u4e0a\u7684\u4ea7\u54c1\u5c31\u662f\u5168\u5c40\u53d8\u91cf\uff1b \u6d41\u6c34\u7ebf\u4e0a\u7684\u5de5\u4eba\u5c31\u662f\u7ebf\u7a0b\uff1b</p> <p>\u4ea7\u54c1\uff08\u5168\u5c40\u53d8\u91cf\uff09\u5bf9\u4e8e\u540c\u4e00\u6761\u6d41\u6c34\u7ebf\u7684\u5de5\u4eba\uff08\u7ebf\u7a0b\uff09\u6765\u8bf4\u662f\u5171\u4eab\u7684\uff0c\u6bcf\u4e2a\u4eba\u90fd\u53ef\u4ee5\u8bbf\u95ee \u6d41\u6c34\u7ebf\uff08\u8fdb\u7a0b\uff09\u4e4b\u95f4\u662f\u76f8\u4e92\u72ec\u7acb\u7684\uff0c\u4e0d\u80fd\u6d41\u6c34\u7ebfA\u7684\u4ea7\u54c1\u53ef\u4ee5\u88ab\u6d41\u6c34\u7ebfB\u8bbf\u95ee\uff0c\u90a3\u4e0d\u5c31\u4e71\u5957\u4e86\u3002</p>"},{"location":"Python/Advanced/Thread/Python-No-16-Process/#_2","title":"\u521b\u5efa\u8fdb\u7a0b","text":"<p>\u521b\u5efa\u8fdb\u7a0b\u5206\u4e3a\u4e09\u6b65\uff1a</p> <ol> <li>\u5bfc\u5165 multiprocessing \u6a21\u5757</li> <li>\u521b\u5efa\u4e00\u4e2a Process \u5bf9\u8c61</li> <li>\u901a\u8fc7 Process \u5bf9\u8c61\u542f\u52a8\u7ebf\u7a0b</li> </ol> <p>\u521b\u5efa\u4e00\u4e2a Process\u5bf9\u8c61\u7684\u65f6\u5019\u53ef\u4ee5\u4f20\u5165\u53c2\u6570</p> <p><code>multiprocessing.Process(group=None, target=None, name=None, args=(), kwargs={}, *, daemon=None)</code></p> <ul> <li>\u5e94\u59cb\u7ec8\u4f7f\u7528\u5173\u952e\u5b57\u53c2\u6570\u8c03\u7528\u6784\u9020\u51fd\u6570\u3002</li> <li>group\uff1a\u5e94\u8be5\u59cb\u7ec8\u662f None \uff1b\u5b83\u4ec5\u7528\u4e8e\u517c\u5bb9 threading.Thread \u3002</li> <li>target\uff1a\u662f\u7531 run() \u65b9\u6cd5\u8c03\u7528\u7684\u53ef\u8c03\u7528\u5bf9\u8c61\u3002\u5b83\u9ed8\u8ba4\u4e3a None \uff0c\u610f\u5473\u7740\u4ec0\u4e48\u90fd\u6ca1\u6709\u88ab\u8c03\u7528\u3002</li> <li>name\uff1a\u662f\u8fdb\u7a0b\u540d\u79f0</li> <li>args\uff1a\u662f\u76ee\u6807\u8c03\u7528\u7684\u53c2\u6570\u5143\u7ec4\u3002</li> <li>kwargs\uff1a\u662f\u76ee\u6807\u8c03\u7528\u7684\u5173\u952e\u5b57\u53c2\u6570\u5b57\u5178\u3002</li> <li>daemon\uff1a<ul> <li>\u5982\u679c\u63d0\u4f9b\uff0c\u5219\u952e\u53c2\u6570 daemon \u5c06\u8fdb\u7a0b daemon \u6807\u5fd7\u8bbe\u7f6e\u4e3a True \u6216 False \u3002</li> <li>\u5982\u679c\u662f None \uff08\u9ed8\u8ba4\u503c\uff09\uff0c\u5219\u8be5\u6807\u5fd7\u5c06\u4ece\u521b\u5efa\u7684\u8fdb\u7a0b\u7ee7\u627f\u3002</li> </ul> </li> <li>\u5982\u679c\u5b50\u7c7b\u91cd\u8f7d\u4e86\u6784\u9020\u51fd\u6570\uff0c\u5fc5\u987b\u5148\u8c03\u7528\u7236\u7c7b\u6784\u9020\u5668<code>Process.__init__()</code>\uff0c\u518d\u505a\u5176\u4ed6\u4e8b\u60c5\u3002</li> </ul> <pre><code>import multiprocessing\nimport time\n\ndef say_hi():\n    while True:\n        print(\"Hi-------\")\n        time.sleep(1)\n\ndef say_yes():\n    while True:\n        print(\"Yes------\")\n        time.sleep(1)\n\ndef main():\n    p1 = multiprocessing.Process(target=say_hi)\n    p2 = multiprocessing.Process(target=say_yes)\n    p1.start()\n    p2.start()\n\n\n\nif __name__ == '__main__':\n    main()\n\n--------------------------------------------------\n\n# Output:\nHi-------\nYes------\nHi-------\nYes------\nHi-------\nYes------\nHi-------\n...\n</code></pre>"},{"location":"Python/Advanced/Thread/Python-No-16-Process/#_3","title":"\u8fdb\u7a0b\u95f4\u901a\u4fe1","text":"<p>\u8fdb\u7a0b\u95f4\u7684\u901a\u4fe1\u6709\u5f88\u591a\u4e2d\u65b9\u5f0f\uff0c\u6bd4\u5982\u901a\u8fc7\u5e26\u7f51\u7edc\u529f\u80fd\u7684<code>socket</code>\uff0c\u6216\u8005\u961f\u5217<code>Queue</code></p> <p>\u5047\u8bbe\u4e24\u4e2a\u8fdb\u7a0b\u4e4b\u95f4\u8981\u901a\u4fe1\uff0c\u8fdb\u7a0bA\u5411\u5185\u5b58\u4e2d\u7684<code>Queue</code>\u653e\u8981\u901a\u4fe1\u7684\u5185\u5bb9\uff0c\u8fdb\u7a0bB\u53bb<code>Queue</code>\u4e2d\u53d6\u5373\u53ef\u3002 \u8fdb\u7a0b\u662f\u8fd0\u884c\u5728\u5185\u5b58\u4e2d\u7684\uff0c<code>Queue</code>\u4e5f\u662f\u8fd0\u884c\u5728\u5185\u5b58\u4e2d\u7684\uff0c\u6240\u4ee5\u901f\u5ea6\u5f88\u5feb\u3002 <code>Queue</code>\u5bf9\u4e8e\u8fdb\u7a0b\u6765\u8bf4\u662f\u5171\u4eab\u7684\u3002</p> <pre><code>import multiprocessing as p\n\n\ndef download_from_web(q):\n    \"\"\"\u4e0b\u8f7d\u6570\u636e\"\"\"\n    # \u6a21\u62df\u4ece\u7f51\u4e0a\u4e0b\u8f7d\u7684\u6570\u636e\n    data = [11, 22, 33, 44]\n\n    # \u5411\u961f\u5217\u4e2d\u5199\u5165\u6570\u636e\n    for temp in data:\n        if not q.full():    # \u5982\u679c\u961f\u5217\u672a\u6ee1\n        q.put(temp)    # \u901a\u8fc7 put \u5c06\u5185\u5bb9\u653e\u8fdb\u961f\u5217\n\n    print(\"download: \u4e0b\u8f7d\u5b8c\u6210\u5e76\u5b58\u5165\u961f\u5217\")\n\ndef analysis_data(q):\n    \"\"\"\u6570\u636e\u5904\u7406\"\"\"\n    # \u4ece\u961f\u5217\u4e2d\u83b7\u53d6\u6570\u636e\n    data = list()\n    # \u6a21\u62df\u6570\u636e\u5904\u7406\n    while True:\n        data.append(q.get())    # \u901a\u8fc7 get \u53d6\u961f\u5217\u4e2d\u7684\u5185\u5bb9\n        if q.empty():    # \u5982\u679c\u961f\u5217\u4e3a\u7a7a\u5219\u9000\u51fa\n            break\n\n    print(\"analysis:\", data)\n\n\ndef main():\n    # 1.\u521b\u5efa\u4e00\u4e2a\u961f\u5217\n    q = p.Queue(3)\n    # 2.\u521b\u5efa\u591a\u4e2a\u8fdb\u7a0b\uff0c\u5c06\u961f\u5217\u7684\u5e94\u7528\u5f53\u4f5c\u5b9e\u53c2\u4f20\u9012\u5230\u91cc\u9762\n    p1 = p.Process(target=download_from_web, args=(q, ))\n    p2 = p.Process(target=analysis_data, args=(q, ))\n\n    p1.start()\n    p2.start()\n\n\nif __name__ == \"__main__\":\n    main()\n\n\ndef download_from_web(q):\n    \"\"\"\u4e0b\u8f7d\u6570\u636e\"\"\"\n    # \u6a21\u62df\u4ece\u7f51\u4e0a\u4e0b\u8f7d\u7684\u6570\u636e\n    data = [11, 22, 33, 44]\n\n    # \u5411\u961f\u5217\u4e2d\u5199\u5165\u6570\u636e\n    for temp in data:\n        q.put(temp)\n\n    print(\"download: \u4e0b\u8f7d\u5b8c\u6210\u5e76\u5b58\u5165\u961f\u5217\")\n\ndef analysis_data(q):\n    \"\"\"\u6570\u636e\u5904\u7406\"\"\"\n    # \u4ece\u961f\u5217\u4e2d\u83b7\u53d6\u6570\u636e\n    data = list()\n    # \u6a21\u62df\u6570\u636e\u5904\u7406\n    while True:\n        data.append(q.get())\n        if q.empty():\n            break\n\n    print(\"analysis:\", data)\n\n\ndef main():\n    # 1.\u521b\u5efa\u4e00\u4e2a\u961f\u5217\n    q = p.Queue(3)\n    # 2.\u521b\u5efa\u591a\u4e2a\u8fdb\u7a0b\uff0c\u5c06\u961f\u5217\u7684\u5e94\u7528\u5f53\u4f5c\u5b9e\u53c2\u4f20\u9012\u5230\u91cc\u9762\n    p1 = p.Process(target=download_from_web, args=(q, ))\n    p2 = p.Process(target=analysis_data, args=(q, ))\n\n    p1.start()\n    p2.start()\n\n\nif __name__ == \"__main__\":\n    main()\n\n--------------------------------------------------\n\n# Output:\ndownload: \u4e0b\u8f7d\u5b8c\u6210\u5e76\u5b58\u5165\u961f\u5217\nanalysis: [11, 22, 33, 44]\n</code></pre> <ol> <li><code>q.put(obj[, block[, timeout])</code></li> <li>obj\uff1a\u8981\u4f20\u9012\u7684\u5185\u5bb9</li> <li>block\uff1a\u963b\u585e\uff0c\u9ed8\u8ba4True<ul> <li>True\uff0c\u961f\u5217\u6ee1\u4e86\u4ee5\u540e\u4f1a\u4e00\u76f4\u7b49\u5f85</li> <li>Flase\uff0c\u961f\u5217\u6ee1\u4e86\u4e4b\u540e\u4f1a\u629b\u51fa<code>queue.Full</code>\u9519\u8bef</li> </ul> </li> <li>timeout\uff1a\u6d6e\u70b9\u578b\uff0c\u5355\u4f4d\u2014\u2014\u79d2\uff0c\u9ed8\u8ba4None\uff1b<ul> <li>\u503c\u4e3a\u6b63\u6570\u65f6\uff0c\u7b49\u5f85\u65f6\u957f\u4e3a\u8bbe\u5b9a\u7684\u79d2\u6570</li> <li>\u503c\u4e3a-1\u65f6\uff0c\u5c06\u65e0\u9650\u7b49\u5f85</li> <li>blocking=Flase\u65f6\uff0ctimeout\u4e0d\u8d77\u4f5c\u7528\u3002</li> </ul> </li> <li> <p>\u5982\u679c\u961f\u5217\u5173\u95ed\u5df2\u7ecf\u5173\u95ed\u4f1a\u629b\u51fa<code>ValueError</code>\uff083.8+\uff09 <code>q.put_nowait(obj)</code>\u76f8\u5f53\u4e8e<code>q.put(block=Flase)</code></p> </li> <li> <p><code>q.get([block[, timeout])</code></p> </li> <li>block\uff1a\u963b\u585e\uff0c\u9ed8\u8ba4True<ul> <li>True\uff0c\u961f\u5217\u7a7a\u4e86\u4ee5\u540e\u4f1a\u4e00\u76f4\u7b49\u5f85</li> <li>Flase\uff0c\u961f\u5217\u7a7a\u4e86\u4e4b\u540e\u4f1a\u629b\u51fa<code>queue.Empty</code>\u9519\u8bef</li> </ul> </li> <li>timeout\uff1a\u6d6e\u70b9\u578b\uff0c\u5355\u4f4d\u2014\u2014\u79d2\uff0c\u9ed8\u8ba4None\uff1b<ul> <li>\u503c\u4e3a\u6b63\u6570\u65f6\uff0c\u7b49\u5f85\u65f6\u957f\u4e3a\u8bbe\u5b9a\u7684\u79d2\u6570</li> <li>\u503c\u4e3a-1\u65f6\uff0c\u5c06\u65e0\u9650\u7b49\u5f85</li> <li>blocking=Flase\u65f6\uff0ctimeout\u4e0d\u8d77\u4f5c\u7528\u3002</li> </ul> </li> <li>\u5982\u679c\u961f\u5217\u5173\u95ed\u5df2\u7ecf\u5173\u95ed\u4f1a\u629b\u51fa<code>ValueError</code>\uff083.8+\uff09 <code>q.get_nowait()</code>\u76f8\u5f53\u4e8e<code>q.get(block=Flase)</code></li> </ol>"},{"location":"Python/Advanced/Thread/Python-No-16-Process/#_4","title":"\u8fdb\u7a0b\u6c60","text":"<p>\u8fdb\u7a0b\u7684\u521b\u5efa\u548c\u6d88\u8d39\u662f\u5f88\u8017\u8d39\u8d44\u6e90\u7684\uff0c\u800c\u5b9e\u9645\u60c5\u51b5\u4e2d\u53ef\u80fd\u51fa\u73b0\u6210\u5343\u4e0a\u767e\u4e07\u4e2a\u8fdb\u7a0b\u9700\u8981\u6267\u884c\uff0c\u8fd9\u65f6\u5019\u4e0d\u53ef\u80fd\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u5355\u72ec\u521b\u5efa\u548c\u9500\u6bc1 \u8fd9\u4e9b\u8fdb\u7a0b\u5927\u540c\u5c0f\u5f02\uff0c\u4f46\u662f\u8fdb\u7a0b\u7684\u521b\u5efa\u548c\u9500\u6bc1\u662f\u76f8\u540c\u7684\u3002 \u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u628a\u521b\u5efa\u548c\u9500\u6bc1\u7684\u5de5\u4f5c\u62bd\u53d6\u51fa\u6765\uff0c\u901a\u8fc7\u66f4\u6362\u8fdb\u7a0b\u7684\u5185\u5bb9\uff0c\u4ee5\u6b64\u8fbe\u5230\u8f83\u5c0f\u5f00\u9500\u7684\u76ee\u7684\u3002 \u8fd9\u79cd\u6280\u672f\u53eb\u505a \u8fdb\u7a0b\u6c60</p> <p>\u8fdb\u7a0b\u6c60\u5c31\u597d\u6bd4\u516c\u56ed\u91cc\u7684\u6e56\uff0c\u8fdb\u7a0b\u5c31\u597d\u6bd4\u8239\u3002 \u4f60\u4f5c\u4e3a\u8001\u677f\uff0c\u4eca\u5929\u6765\u4e86\u4e00\u4e2a\u4eba\u8981\u5212\u8239\uff0c\u4f60\u53bb\u4e70\u4e00\u8258\u8239\uff0c\u5ba2\u4eba\u5212\u5b8c\u4e86\u4f60\u628a\u8239\u5356\u4e86\u3002 \u660e\u5929\u518d\u6765\u4e24\u4e2a\u5ba2\u4eba\uff0c\u4f60\u53c8\u53bb\u4e70\u4e24\u8258\u8239\uff0c\u5ba2\u4eba\u5212\u5b8c\u4e86\u4f60\u53c8\u628a\u8239\u5356\u4e86\u3002 \u4e07\u4e00\u6765\u4e86\u4e00\u4e07\u4e2a\u5ba2\u4eba\uff0c\u4f60...\u6ca1\u94b1\u4e70\u8239\u4e86\u54c8\u54c8\u54c8\u3002 \u8fd9\u662f\u666e\u901a\u7684\u8fdb\u7a0b\u4f7f\u7528\u65b9\u6cd5\u3002</p> <p>\u4f60\u4f5c\u4e3a\u8001\u677f\uff0c\u5148\u4e70\u597dN\u8258\u8239\uff08\u5f00\u542f\u8fdb\u7a0b\u6c60\uff09\uff0c\u6765\u4e86\u4e00\u4e2a\u5ba2\u4eba\uff0c\u4e0a\u8239\uff0c\u7528\u5b8c\u4e86\u6362\u4f60\uff0c\u4e0b\u4e00\u4e2a\u5ba2\u4eba\u4e0a\u53bb... \u7b49\u5230\u54ea\u5929\u751f\u610f\u4e0d\u505a\u4e86\u5173\u95e8\uff0c\u5c31\u628a\u8239\u4e00\u8d77\u5356\u6389\u5173\u95e8\uff08\u5173\u95ed\u8fdb\u7a0b\u6c60\uff09\u3002 \u8fd9\u662f\u8fdb\u7a0b\u6c60\u7684\u4f7f\u7528\u65b9\u6cd5 \u3002\u7701\u4e0b\u4e86\u4e70\u8239\u5356\u8239\uff08\u521b\u5efa\u548c\u9500\u6bc1\u8fdb\u7a0b\uff09\u7684\u529f\u592b\u3002</p> <p>\u8fdb\u7a0b\u6c60\u4e2d\u6700\u5927\u5bb9\u91cf\u80fd\u540c\u65f6\u5bb9\u7eb3\u591a\u5c11\u4e2a\u8fdb\u7a0b\u662f\u7531\u5f00\u53d1\u8005\u6307\u5b9a\u7684\uff0c\u5177\u4f53\u591a\u5c11\u4e2a\u8981\u7ecf\u8fc7\u6d4b\u8bd5\u4eba\u5458\u538b\u529b\u6d4b\u8bd5\u4ee5\u540e\u5f97\u51fa\u4e00\u4e2a\u5408\u9002\u7684\u6570\u91cf\u3002 \u5f53\u8fdb\u7a0b\u6c60\u521b\u5efa\u4ee5\u540e\uff0c\u4e0d\u4f1a\u7acb\u5373\u5de5\u4f5c\uff0c\u800c\u662f\u7b49\u5230\u6709\u8fdb\u7a0b\u88ab\u521b\u5efa\u4e86\u624d\u5f00\u59cb\u5de5\u4f5c\u3002</p> <pre><code>from multiprocessing import Pool\nimport os\nimport time\nimport random\n\n\ndef work(msg):\n    print(\"Process-{} running, pid\uff1a{}\".format(msg, os.getpid()))\n    start = time.time()\n    time.sleep(random.random() * 2)\n    end = time.time()\n    print(\"Process-{} finish, time consuming\uff1a{:.2f}\".format(msg, end - start))\n\n\ndef main():\n    po = Pool(3)  # \u5b9a\u4e49\u4e00\u4e2a\u8fdb\u7a0b\u6c60\uff0c\u6700\u5927\u8fdb\u7a0b\u6570\u4e3a3\n    for i in range(1, 11):\n        # Pool.apply_async(\u8981\u8c03\u7528\u7684\u76ee\u6807, (\u4f20\u9012\u7ed9\u76ee\u6807\u7684\u53c2\u6570\u5143\u7ec4,))\n        # \u6bcf\u6b21\u5faa\u73af\u5c06\u4f1a\u7528\u7a7a\u95f2\u51fa\u6765\u7684\u5b50\u8fdb\u7a0b\u53bb\u8c03\u7528\u76ee\u6807\n        po.apply_async(work, (i, ))\n\n    print(\"------start------\")\n    po.close()    # \u5173\u95ed\u8fdb\u7a0b\u6c60\uff0c\u5173\u95ed\u540epo\u4e0d\u5728\u63a5\u6536\u65b0\u7684\u8bf7\u6c42\n    po.join()     # \u7b49\u5f85po\u4e2d\u6240\u6709\u5b50\u8fdb\u7a0b\u6267\u884c\u5b8c\u540e\u518d\u5173\u95ed\uff0c\u5fc5\u987b\u653e\u5728close\u8bed\u53e5\u540e\n    print(\"-------end-------\")\n\n\nif __name__ == '__main__':\n    main()\n\n--------------------------------------------------\n\n# Output:\n------start------\nProcess-1 running, pid\uff1a20364\nProcess-2 running, pid\uff1a15912\nProcess-3 running, pid\uff1a16504\nProcess-2 finish, time consuming\uff1a1.01\nProcess-4 running, pid\uff1a15912\nProcess-3 finish, time consuming\uff1a1.03\nProcess-5 running, pid\uff1a16504\nProcess-4 finish, time consuming\uff1a0.17\nProcess-6 running, pid\uff1a15912\nProcess-5 finish, time consuming\uff1a0.23\nProcess-7 running, pid\uff1a16504\nProcess-1 finish, time consuming\uff1a1.50\nProcess-8 running, pid\uff1a20364\nProcess-6 finish, time consuming\uff1a1.43\nProcess-9 running, pid\uff1a15912\nProcess-8 finish, time consuming\uff1a1.65\nProcess-10 running, pid\uff1a20364\nProcess-9 finish, time consuming\uff1a0.55\nProcess-7 finish, time consuming\uff1a1.99\nProcess-10 finish, time consuming\uff1a0.20\n-------end-------\n</code></pre>"},{"location":"Python/Advanced/Thread/Python-No-16-Process/#_5","title":"\u521b\u5efa\u8fdb\u7a0b\u6c60","text":"<p>\u521b\u5efa\u8fdb\u7a0b\u6c60\u603b\u5171\u5206\u6b65\uff1a</p> <ol> <li>\u5bfc\u5165 multiprocessing \u6a21\u5757</li> <li>\u521b\u5efa\u4e00\u4e2a Pool \u5bf9\u8c61\u5e76\u6307\u5b9a\u6700\u5927\u8fdb\u7a0b\u6570</li> <li>\u4f7f\u7528<code>apply()</code>\u6216<code>apply_async()</code>\u65b9\u6cd5</li> <li>\u4f7f\u7528<code>close()</code>\u65b9\u6cd5\u505c\u6b62\u63a5\u6536\u8fdb\u7a0b</li> <li>\u4f7f\u7528<code>join()</code>\u65b9\u6cd5\u58f0\u660e\u7b49\u5f85\u5b50\u8fdb\u7a0b\u5b8c\u6bd5\u518d\u5173\u95ed\u8fdb\u7a0b\u6c60</li> </ol>"},{"location":"Python/Advanced/Thread/Python-No-17-Thread/","title":"Python\u3010No-17\u3011\u7ebf\u7a0b","text":"<p>\u7ebf\u7a0b\uff0c\u662f\u64cd\u4f5c\u7cfb\u7edf\u8c03\u5ea6\u7684\u5355\u4f4d</p> <p>\u4e00\u4e2a\u7a0b\u5e8f\u5199\u5b8c\u4e86\uff0c\u653e\u5728\u786c\u76d8\u91cc\u4e0d\u8fd0\u884c\uff0c\u53eb\u505a \u7a0b\u5e8f \u4e00\u4e2a\u7a0b\u5e8f\u5199\u5b8c\u4e86\uff0c\u653e\u5230\u5185\u5b58\u91cc\u8dd1\u8d77\u6765\uff0c\u53eb\u505a \u8fdb\u7a0b \u4e00\u4e2a\u8fdb\u7a0b\u4e2d\u81f3\u5c11\u6709\u4e00\u4e2a \u7ebf\u7a0b \uff0c\u79f0\u4e3a \u4e3b\u7ebf\u7a0b \u4e00\u4e2a\u7ebf\u7a0b\u8981\u5e72\u5f88\u591a\u4e8b\u60c5\uff0c\u6709\u4e9b\u4e8b\u60c5\u5f88\u8017\u65f6\uff0c\u5c31\u521b\u5efa\u4e2a \u5b50\u7ebf\u7a0b \uff0c\u8ba9\u5b50\u7ebf\u7a0b\u53bb\u505a\uff0c\u4e3b\u7ebf\u7a0b\u7ee7\u7eed\u4e0b\u4e00\u6b65</p> <p>\u5f53\u6709\u591a\u4e2a\u7ebf\u7a0b\u7684\u65f6\u5019\uff0cCPU\u4f1a\u8f6e\u6d41\u5207\u6362\u6267\u884c\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u6267\u884c\u591a\u957f\u65f6\u95f4\u53eb\u505a \u65f6\u95f4\u7247 \u6bd4\u5982 t1 \u5206\u5230\u4e860.001\u79d2\u7684\u65f6\u95f4\u7247\uff0ct2 \u5206\u5230\u4e860.002\u79d2\u7684\u65f6\u95f4\u7247 \u663e\u7136\u8fd9\u4e48\u77ed\u65f6\u95f4\u662f\u4e0d\u591f\u6267\u884c\u7684\uff0c\u6240\u4ee5CPU\u4f1a\u5feb\u901f\u7684\u5207\u6765\u5207\u53bb\uff0c\u8fd9\u6837\u5c31\u770b\u8d77\u6765\u597d\u50cf\u80fd\u6267\u884c \u591a\u4efb\u52a1 \u591a\u4efb\u52a1\u5c31\u662f\u4f60\u53ef\u4ee5\u540c\u65f6\u542c\u6b4c\u3001\u5199\u6587\u6863\u3001\u6302QQ\u7b49\u7b49\uff0c\u4f46\u5176\u5b9e\u540c\u4e00\u65f6\u523bCPU\u53ea\u6267\u884c\u4e00\u4e2a\u7ebf\u7a0b \u53ea\u4e0d\u8fc7\u5207\u6362\u7684\u5feb\uff0c\u65f6\u95f4\u7247\u4e5f\u5f88\u5c0f\uff0c\u6240\u4ee5\u4eba\u611f\u89c9\u4e0d\u51fa\u6765\u3002</p> <p>\u7ebf\u7a0b\u7684\u6267\u884c\u987a\u5e8f\u662f\u7531\u64cd\u4f5c\u7cfb\u7edf\u51b3\u5b9a\u7684\uff0c\u5f00\u53d1\u8005\u5de6\u53f3\u4e0d\u4e86\u3002</p> <p>\u5b50\u7ebf\u7a0b\u7531\u4e3b\u7ebf\u7a0b\u521b\u5efa\uff0c\u5b50\u7ebf\u7a0b\u5173\u95ed\u540e\u7559\u4e0b\u7684\u8fa3\u9e21\u7531\u4e3b\u7ebf\u7a0b\u6e05\u7406 \u4e00\u65e6\u4e3b\u7ebf\u7a0b\u6302\u4e86\uff0c\u5b50\u7ebf\u7a0b\u5168\u90e8\u6302\u6389\u3002 \u4e3b\u7ebf\u7a0b\u4f1a\u7b49\u5f85\u6240\u6709\u5b50\u7ebf\u7a0b\u7ed3\u675f\u540e\u624d\u7ed3\u675f</p> <p>\u5355\u7ebf\u7a0b\u64cd\u4f5c </p><pre><code>import time\n\n\ndef say_hi():\n    for i in range(5):\n        print('Hi!')\n        time.sleep(1)    # \u8017\u65f6\u64cd\u4f5c\n\n\ndef say_yes():\n    for i in range(5):\n        print('Yes!')\n        time.sleep(1)    # \u8017\u65f6\u64cd\u4f5c\n\n\ndef main():\n    say_hi()\n    say_yes()\n\n\nif __name__ == '__main__':\n    main()\n\n--------------------------------------------------\n\n# Output:\nHi!\nHi!\nHi!\nHi!\nHi!\nYes!\nYes!\nYes!\nYes!\nYes!\n</code></pre><p></p> <p>\u591a\u7ebf\u7a0b\u64cd\u4f5c </p><pre><code>import time\nimport threading    # \u5bfc\u5165 threading \u6a21\u5757\n\n\ndef say_hi():\n    for i in range(5):\n        print('Hi!')\n        time.sleep(1)    # \u8017\u65f6\u64cd\u4f5c\n\n\ndef say_yes():\n    for i in range(5):\n        print('Yes!')\n        time.sleep(1)    # \u8017\u65f6\u64cd\u4f5c\n\n\ndef main():\n    t1 = threading.Thread(target=say_hi)    # \u521b\u5efa\u4e00\u4e2a\u7ebf\u7a0b\u5bf9\u8c61\n    t2 = threading.Thread(target=say_yes)   # \u521b\u5efa\u4e00\u4e2a\u7ebf\u7a0b\u5bf9\u8c61\n    t1.start()    # \u542f\u52a8\u7ebf\u7a0b\n    t2.start()    # \u542f\u52a8\u7ebf\u7a0b\n\n\nif __name__ == '__main__':\n    main()\n\n--------------------------------------------------\n\n# Output:\nHi!\nYes!\nHi!\nYes!\nHi!\nYes!\nYes!\nHi!\nHi!\nYes!\n</code></pre><p></p> <p>\u5355\u7ebf\u7a0b\u548c\u591a\u7ebf\u7a0b\u7684\u533a\u522b\u5c31\u50cf\u8fd9\u4e2a\u6817\u5b50</p> <p>\u4f60\u8981\u6765\u4e00\u6bb5\u70ed\u821erap\uff0c - \u5355\u7ebf\u7a0b\u7684\u64cd\u4f5c\u662f\uff1arap\u5b8c\u518d\u70ed\u821e\uff0c\u6216\u8005\u70ed\u821e\u5b8c\u518drap - \u591a\u7ebf\u7a0b\u7684\u64cd\u4f5c\u662f\uff1a\u8fb9\u70ed\u821e\u8fb9rap</p>"},{"location":"Python/Advanced/Thread/Python-No-17-Thread/#_1","title":"\u521b\u5efa\u5b50\u7ebf\u7a0b\u5e76\u542f\u52a8","text":"<p>\u521b\u5efa\u7ebf\u7a0b\u64cd\u4f5c\u53ef\u4ee5\u5206\u4e3a\u4e09\u6b65\uff1a</p> <ol> <li>\u5bfc\u5165 threading \u6a21\u5757</li> <li>\u521b\u5efa\u4e00\u4e2aThread\u5bf9\u8c61</li> <li>\u901a\u8fc7Thread\u5bf9\u8c61\u542f\u52a8\u7ebf\u7a0b</li> </ol> <p>\u521b\u5efa\u4e00\u4e2aThread\u5bf9\u8c61\u7684\u65f6\u5019\u53ef\u4ee5\u4f20\u5165\u53c2\u6570 <code>threading.Thread(group=None, target=None, name=None, args=(), kwargs={}, *, daemon=None)</code></p> <ul> <li>group \u5e94\u8be5\u4e3a None\uff1b\u4e3a\u4e86\u65e5\u540e\u6269\u5c55 ThreadGroup \u7c7b\u5b9e\u73b0\u800c\u4fdd\u7559\u3002</li> <li>target\uff1a\u7ebf\u7a0b\u4e2d\u9700\u8981\u6267\u884c\u7684\u51fd\u6570 \u3002\u9ed8\u8ba4\u662f None\uff0c\u8868\u793a\u4e0d\u9700\u8981\u8c03\u7528\u4efb\u4f55\u65b9\u6cd5\u3002</li> <li>name\uff1a\u7ebf\u7a0b\u540d\u79f0 \u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u7531 \"Thread-N\" \u683c\u5f0f\u6784\u6210\u4e00\u4e2a\u552f\u4e00\u7684\u540d\u79f0\uff0c\u5176\u4e2d N \u662f\u5c0f\u7684\u5341\u8fdb\u5236\u6570\u3002</li> <li>args\uff1a\u7528\u4e8e\u8c03\u7528\u76ee\u6807\u51fd\u6570\u7684 \u53c2\u6570\u5143\u7ec4 \u3002\u9ed8\u8ba4\u662f ()\u3002<code>\uff08\u5fc5\u987b\u662f\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff09</code></li> <li>kwargs\uff1a\u7528\u4e8e\u8c03\u7528\u76ee\u6807\u51fd\u6570\u7684\u5173\u952e\u5b57 \u53c2\u6570\u5b57\u5178 \u3002\u9ed8\u8ba4\u662f {}\u3002<code>\uff08\u5fc5\u987b\u662f\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff09</code></li> <li><code>daemon\u4e0d\u662fNone</code>\uff0c\u7ebf\u7a0b\u5c06\u88ab\u663e\u5f0f\u7684\u8bbe\u7f6e\u4e3a<code>\u5b88\u62a4\u6a21\u5f0f</code>\uff0c\u4e0d\u7ba1\u8be5\u7ebf\u7a0b\u662f\u5426\u662f\u5b88\u62a4\u6a21\u5f0f\u3002</li> <li><code>daemon=None</code>\uff0c\u7ebf\u7a0b\u5c06\u7ee7\u627f\u5f53\u524d\u7ebf\u7a0b\u7684\u5b88\u62a4\u6a21\u5f0f\u5c5e\u6027\u3002</li> <li>\u5982\u679c\u5b50\u7c7b\u91cd\u8f7d\u4e86\u6784\u9020\u51fd\u6570\uff0c\u5fc5\u987b\u5148\u8c03\u7528\u7236\u7c7b\u6784\u9020\u5668<code>Thread.__init__()</code>\uff0c\u518d\u505a\u5176\u4ed6\u4e8b\u60c5\u3002</li> </ul>"},{"location":"Python/Advanced/Thread/Python-No-17-Thread/#_2","title":"\u51fd\u6570\u65b9\u5f0f","text":"<p>\u51fd\u6570\u65b9\u5f0f\u9002\u5408\u4e8e \u2014\u2014 \u4e00\u4e2a\u7ebf\u7a0b\u4e2d\u8981\u505a\u7684\u4e8b\u60c5\u6bd4\u8f83\u5c11\uff0c\u4e00\u4e2a\u51fd\u6570\u5c31\u80fd\u641e\u5b9a\u3002</p> <ol> <li>\u5bfc\u5165 threading \u6a21\u5757</li> <li>\u521b\u5efa\u4e00\u4e2aThread\u5bf9\u8c61\u5e76\u628a\u51fd\u6570\u4f20\u8fdb\u53bb</li> <li>\u901a\u8fc7Thread\u5bf9\u8c61\u542f\u52a8\u7ebf\u7a0b</li> </ol> <pre><code>import threading    # 1. \u5bfc\u5165 thrading \u6a21\u5757\n\n\ndef funcName():     # \u9700\u8981\u5b50\u7ebf\u7a0b\u6267\u884c\u7684\u51fd\u6570\n    pass\n\n\nt1 = threading.Thread(target=funcName)    # 2. \u521b\u5efa\u4e00\u4e2aThread\u5bf9\u8c61\u5e76\u628a\u51fd\u6570\u4f20\u8fdb\u53bb\nt1.start()    # 3. \u542f\u52a8\u7ebf\u7a0b\n</code></pre>"},{"location":"Python/Advanced/Thread/Python-No-17-Thread/#_3","title":"\u7ee7\u627f\u65b9\u5f0f","text":"<p>\u7ee7\u627f\u65b9\u5f0f\u9002\u5408\u4e8e \u2014\u2014 \u4e00\u4e2a\u7ebf\u7a0b\u91cc\u9762\u505a\u7684\u4e8b\u60c5\u6bd4\u8f83\u590d\u6742\uff0c\u9700\u8981\u5206\u6210\u591a\u4e2a\u51fd\u6570\u6765\u505a\u3002</p> <ol> <li>\u5bfc\u5165 threading \u6a21\u5757</li> <li>\u521b\u5efa\u4e00\u4e2a\u7c7b\u7ee7\u627f Thread \u7c7b</li> <li>\u91cd\u5199 run \u65b9\u6cd5</li> <li>\u521b\u5efa\u4e00\u4e2a\u7ee7\u627f\u4e86 Thread \u7c7b\u7684\u5bf9\u8c61</li> <li>\u7528start\u65b9\u6cd5\u542f\u52a8\u7ebf\u7a0b</li> </ol> <pre><code>import threading    # 1. \u5bfc\u5165 threading \u6a21\u5757\n\n\nclass clsName(threading.Thread):    # 2. \u7ee7\u627fThread\u7c7b\n    def run(self):                  # 3. \u91cd\u5199run\u65b9\u6cd5\n        print(self.name)    # self.name \u4fdd\u5b58\u7684\u662f\u5f53\u524d\u7ebf\u7a0b\u7684\u540d\u79f0\n\n\nt1 = clsName()    # 4. \u521b\u5efa\u4e00\u4e2a\u7ee7\u627f\u4e86 Thread \u7c7b\u7684\u5bf9\u8c61\nt1.start()        # 5. \u542f\u52a8\u7ebf\u7a0b\n</code></pre> <p><code>t1.start()</code>\u53ea\u4f1a\u53bb\u8c03\u7528<code>run</code>\u65b9\u6cd5\u3002\u5982\u679c\u7c7b\u4e2d\u8fd8\u6709\u5176\u4ed6\u65b9\u6cd5\uff0c\u53ea\u80fd\u5728\u7c7b\u4e2d\u8c03\u7528\uff0c\u4e0d\u80fd\u7528 <code>t1</code>\u53bb\u8c03\u7528\u3002 \u4e5f\u5c31\u662f\u8bf4\uff0c\u7ee7\u627f\u4e86 Thread \u7684\u7c7b\u7684\u4e4b\u7c7b\uff0c\u9664\u4e86run\u65b9\u6cd5\uff0c\u5176\u4ed6\u65b9\u6cd5\u90fd\u53ef\u4ee5\u5b9a\u4e49\u6210\u79c1\u6709\u7684\uff08\u516c\u6709\u7684\u5916\u9762\u4e5f\u4e0d\u80fd\u8c03\u7528\u554a\uff09</p> <pre><code>import threading\n\n\nclass MyThread(threading.Thread):\n    def run(self):\n        print(self.name)\n        self.__say_hi()\n        self.__say_yes()\n\n    def __say_hi(self):\n        print('Hi!')\n\n    def __say_yes(self):\n        print('Yes!')\n\n\nt1 = MyThread()\nt1.start()\n\n--------------------------------------------------\n\n# Output:\nThread-1\nHi!\nYes!\n</code></pre>"},{"location":"Python/Advanced/Thread/Python-No-17-Thread/#join","title":"\u63d2\u961f join()","text":"<p><code>join([timeout])</code> \u5f53\u67d0\u4e2a\u7ebf\u7a0b\u5bf9\u8c61\u6210\u529f\u8c03\u7528\u4e86 join() \u65b9\u6cd5\u4e4b\u540e\uff0c\u4f1a\u4f18\u5148\u83b7\u5f97CPU\u7684\u8d44\u6e90\uff0c\u8ba9\u5176\u4ed6\u7ebf\u7a0b\u7b49\u5f85 \u77e5\u9053\u8fd9\u4e2a\u7ebf\u7a0b\u5bf9\u8c61\u6267\u884c\u7ed3\u675f\u540e\uff0c\u624d\u628a\u8d44\u6e90\u8ba9\u7ed9\u522b\u7684\u7ebf\u7a0b</p> <p></p><pre><code>import threading\n\n\ndef f1(n):\n    for i in range(n):\n        print(threading.current_thread().getName())\n\n\ndef f2(n):\n    for i in range(n):\n        print(threading.current_thread().getName() + \"------\" + str(i))\n\n\ndef main():\n    t1 = threading.Thread(target=f1, args=(5,))\n    t2 = threading.Thread(target=f2, args=(5,))\n    t1.start()\n    t2.start()\n\n    for i in range(5):\n        print(threading.current_thread().getName())\n\n\nif __name__ == '__main__':\n    main()\n\n--------------------------------------------------\n\n# Output:\nThread-1\nThread-1\nMainThread\nThread-2------0\nMainThread\nThread-2------1\nMainThread\nThread-2------2\nMainThread\nMainThread\nThread-2------3\nThread-2------4\nThread-1\nThread-1\nThread-1\n</code></pre> \u53ef\u4ee5\u770b\u5230\uff0c\u6ca1\u6709\u52a0 join \u65b9\u6cd5\uff0c\u6240\u4ee5\u4e3b\u7ebf\u7a0b \u548c t1 \u548c t2 \u76f8\u4e92\u4e89\u62a2\u8d44\u6e90\u3002 \u5982\u679c\u73b0\u5728\u9700\u8981 t1 \u8fd9\u4e2a\u7ebf\u7a0b\u6267\u884c\u5b8c\u518d\u7ed9\u5176\u4ed6\u7ebf\u7a0b\u6267\u884c\uff0c\u4e5f\u5c31\u662f\u8bf4\u8981\u6c42 t1 \u72ec\u5360\u4e00\u6bb5\u65f6\u95f4 \u90a3\u5c31\u8ba9 t1 \u8c03\u7528 join() \u65b9\u6cd5<p></p> <p></p><pre><code>import threading\n\n\ndef f1(n):\n    for i in range(n):\n        print(threading.current_thread().getName())\n\n\ndef f2(n):\n    for i in range(n):\n        print(threading.current_thread().getName() + \"------\" + str(i))\n\n\ndef main():\n    t1 = threading.Thread(target=f1, args=(5,))\n    t2 = threading.Thread(target=f2, args=(5,))\n    t1.start()\n    t1.join()\n    t2.start()\n\n    for i in range(5):\n        print(threading.current_thread().getName())\n\n\nif __name__ == '__main__':\n    main()\n\n--------------------------------------------------\n\n# Output:\nThread-1\nThread-1\nThread-1\nThread-1\nThread-1\nThread-2------0\nThread-2------1\nMainThread\nThread-2------2\nMainThread\nThread-2------3\nMainThread\nThread-2------4\nMainThread\nMainThread\n</code></pre> \u8fd9\u6837\u5c31\u5b9e\u73b0\u4e86 t1 \u72ec\u5360\u8d44\u6e90\uff0c\u5b8c\u6210\u540e\u624d\u7ed9\u5176\u4ed6\u7ebf\u7a0b<p></p>"},{"location":"Python/Advanced/Thread/Python-No-17-Thread/#_4","title":"\u67e5\u770b\u6240\u6709\u7ebf\u7a0b","text":"<p><code>threading.enumerate()</code> \u4ee5\u5217\u8868\u5f62\u5f0f\u8fd4\u56de\u5f53\u524d\u6240\u6709\u5b58\u6d3b\u7684 Thread \u5bf9\u8c61\u3002 \u8be5\u5217\u8868\u5305\u542b\u5b88\u62a4\u7ebf\u7a0b\uff0ccurrent_thread() \u521b\u5efa\u7684\u865a\u62df\u7ebf\u7a0b\u5bf9\u8c61\u548c\u4e3b\u7ebf\u7a0b\u3002 \u5b83\u4e0d\u5305\u542b\u5df2\u7ec8\u7ed3\u7684\u7ebf\u7a0b\u548c\u5c1a\u672a\u5f00\u59cb\u7684\u7ebf\u7a0b\u3002</p> <pre><code>import time\nimport threading\n\n\ndef say_hi():\n    for i in range(3):\n        print('Hi!')\n        time.sleep(1)\n\n\ndef say_yes():\n    for i in range(3):\n        print('Yes!')\n        time.sleep(1)\n\n\ndef main():\n    t1 = threading.Thread(target=say_hi)\n    t2 = threading.Thread(target=say_yes)\n\n    t1.start()\n    t2.start()\n\n    while True:\n        print(threading.enumerate())\n        if len(threading.enumerate()) &lt;= 1:\n            break\n        time.sleep(1)\n\n\nif __name__ == '__main__':\n    main()\n\n--------------------------------------------------\n\n# Output:\nHi!\nYes!\n[&lt;_MainThread(MainThread, started 1292)&gt;, &lt;Thread(Thread-1, started 7968)&gt;, &lt;Thread(Thread-2, started 3796)&gt;]\n[&lt;_MainThread(MainThread, started 1292)&gt;, &lt;Thread(Thread-1, started 7968)&gt;, &lt;Thread(Thread-2, started 3796)&gt;]\nHi!\nYes!\nHi!\nYes!\n[&lt;_MainThread(MainThread, started 1292)&gt;, &lt;Thread(Thread-1, started 7968)&gt;, &lt;Thread(Thread-2, started 3796)&gt;]\n[&lt;_MainThread(MainThread, started 1292)&gt;, &lt;Thread(Thread-1, started 7968)&gt;]\n</code></pre>"},{"location":"Python/Advanced/Thread/Python-No-17-Thread/#_5","title":"\u591a\u7ebf\u7a0b\u5171\u4eab\u5168\u5c40\u53d8\u91cf","text":"<p>\u5047\u8bbe\u73b0\u5728\u6709\u4e2a\u4efb\u52a1\uff0c\u53bb\u6293\u53d6\u67d0\u4e2a\u7f51\u7ad9\u4e0a\u6240\u6709\u7684\u7167\u7247\uff0c\u7136\u540e\u53d1\u9001\u5230\u67d0\u4e2a\u90ae\u7bb1\u3002 \u8fd9\u91cc\u5c31\u53ef\u4ee5\u5206\u6210\u4e24\u4e2a\u5b50\u4efb\u52a1\uff0c\u4e00\u4e2a\u6293\u53d6\u7167\u7247\uff0c\u4e00\u4e2a\u53d1\u9001\u7167\u7247 \u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u7ebf\u7a0b\u8d1f\u8d23\u6293\u53d6\u7167\u7247\uff0c\u4e00\u4e2a\u7ebf\u7a0b\u8d1f\u8d23\u53d1\u9001\u7167\u7247</p> <p>\u90a3\u4e48\u53ef\u4ee5\u53d1\u73b0\uff0c<code>\u7167\u7247</code>\u662f\u4e24\u4e2a\u7ebf\u7a0b\u90fd\u8981\u7528\u5230\u7684\u6570\u636e\u3002 \u6240\u4ee5\u6211\u4eec\u5e94\u8be5\u628a<code>\u7167\u7247</code>\u8bbe\u7f6e\u4e3a \u5168\u5c40\u53d8\u91cf \uff0c\u8fd9\u6837\u4e24\u4e2a\u7ebf\u7a0b\u624d\u53ef\u4ee5\u8fdb\u884c\u5408\u4f5c\u3002</p> <p>\u5728\u591a\u7ebf\u7a0b\u4efb\u52a1\u4e2d\uff0c<code>\u5168\u5c40\u53d8\u91cf</code>\u662f\u53ef\u4ee5\u7ed9\u6bcf\u4e00\u4e2a\u7ebf\u7a0b\u5171\u4eab\u7684\u3002</p> <p></p><pre><code>import threading\n\ng_num = 10    # \u5168\u5c40\u53d8\u91cf\n\n\ndef add1():\n    global g_num\n    g_num += 5\n    print(\"add1----------- %d\" % g_num)\n\n\ndef add2():\n    print(\"add2----------- %d\" % g_num)\n\n\ndef main():\n    t1 = threading.Thread(target=add1, name='add1')\n    t2 = threading.Thread(target=add2, name='add2')\n\n    t1.start()\n    t2.start()\n    print(\"main----------- %d\" % g_num)\n\n\nif __name__ == \"__main__\":\n    main()\n\n--------------------------------------------------\n\n# Output:\nadd1----------- 15\nadd2----------- 15\nmain----------- 15\n</code></pre> \u4ece\u6817\u5b50\u4e2d\u53ef\u4ee5\u770b\u51fa\uff0c\u7ebf\u7a0b<code>t1</code>\u4e2d\u7684<code>add1</code>\u5bf9\u5168\u5c40\u53d8\u91cf<code>g_num</code>\u8fdb\u884c\u4e86\u4fee\u6539 \u5728\u7ebf\u7a0b<code>t2</code>\u7684<code>add2</code>\u5bf9<code>g_num</code>\u8fdb\u884c\u8bbf\u95ee\u7684\u65f6\u5019\u8bbf\u95ee\u5230\u7684\u662f\u4fee\u6539\u540e\u7684\u503c \u5728\u4e3b\u7ebf\u7a0b\u7684<code>main</code>\u65b9\u6cd5\u4e2d\u8bbf\u95ee\u4e5f\u662f\u4fee\u6539\u540e\u7684\u503c\u3002<p></p> <p>\u6240\u4ee5\uff1a\u5168\u5c40\u53d8\u91cf\u5bf9\u4e8e\u4efb\u4f55\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u5305\u62ec\u4e3b\u7ebf\u7a0b\uff0c\u6765\u8bf4\u90fd\u662f\u5171\u4eab\u7684\u3002</p>"},{"location":"Python/Advanced/Thread/Python-No-17-Thread/#_6","title":"\u9501","text":"<p>\u5168\u5c40\u53d8\u91cf\u5bf9\u4e8e\u4efb\u4f55\u4e00\u4e2a\u7ebf\u7a0b\u6765\u8bf4\u90fd\u662f\u5171\u4eab\u7684\uff0c\u90a3\u5c31\u4e00\u5b9a\u4f1a\u5f15\u53d1\u4e89\u62a2\u8d44\u6e90\u7684\u60c5\u51b5\uff0c\u8fd9\u662f\u7531CPU\u7684\u8fd0\u884c\u673a\u5236\u5bfc\u81f4\u7684\u3002 \u5982\u679c\u5bf9\u540c\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\uff0c\u4e24\u4e2a\u7ebf\u7a0b\u4e00\u4e2a\u5199\u4e00\u4e2a\u8bfb\u5012\u8fd8\u597d\uff0c\u4f46\u662f\u5982\u679c\u4e24\u4e2a\u540c\u65f6\u5199\u5c31\u4f1a\u5f15\u53d1\u5404\u79cd\u95ee\u9898\u3002 \u7279\u522b\u662f\u5728\u94f6\u884c\u3001\u91d1\u878d\u9886\u57df\uff0c\u4f1a\u5f15\u53d1\u66f4\u5927\u7684\u95ee\u9898\u3002\u6bd4\u5982\u4e00\u8fb9\u8f6c\u4e86\u5e10\u8fd8\u6ca1\u6536\u5230\u7a81\u7136\u51fa\u73b0\u95ee\u9898\uff0c\u8f6c\u8d26\u7684\u6263\u94b1\u4e86\uff0c\u6536\u8d26\u7684\u6ca1\u6536\u5230\uff0c\u90a3\u5c31\u51c9\u51c9\u4e86~</p> <p>\u6240\u4ee5\u4e3a\u4e86\u89e3\u51b3\u8fd9\u79cd\u7f3a\u9677\uff0c\u5f15\u5165\u4e86\u9501\u7684\u6982\u5ff5\u3002 \u4e3e\u4e2a\u6817\u5b50\uff0c\u5f88\u591a\u4eba\u4e0a\u4e00\u4e2a\u5395\u6240\uff0c\u524d\u9762\u7684\u8fdb\u53bb\u4e86\u5f97\u9501\u95e8\u5427\uff1f\u529e\u5b8c\u4e8b\u4e86\u5f00\u9501\u51fa\u6765\u540e\u9762\u7684\u624d\u80fd\u8fdb\u53bb\uff0c\u4e0a\u9501\uff0c\u529e\u4e8b\u513f\u3002 \u9501\u5c31\u662f\u8fd9\u6837\u7684\u6982\u5ff5\u3002\u54ea\u4e2a\u7ebf\u7a0b\u5148\u62a2\u5230\u9501\u54ea\u4e2a\u5c31\u5148\u6267\u884c\uff0c\u6267\u884c\u5b8c\u4e86\u91ca\u653e\u9501\uff0c\u4e0b\u4e00\u4e2a\u7ebf\u7a0b\u62a2\u5230\u4e86\u5c31\u9501\u4e0a..... \u8fd9\u53eb\u505a \u540c\u6b65\u63a7\u5236</p> <p>\u4e92\u65a5\u9501</p> <p>\u521b\u5efa\u9501\uff1a<code>mutex = threading.Lock()</code>\uff0c\u9ed8\u8ba4\u6ca1\u6709\u4e0a\u9501\u7684 \u9501\u5b9a\uff1a<code>mutex.acquire(blocking=True, timeout=1)</code> \u89e3\u9501\uff1a<code>mutex.release()</code></p> <ol> <li><code>acquire(blocking=True, timeout=1)</code>    \u6210\u529f\u83b7\u5f97\u9501\u8fd4\u56deTrue\uff0c\u5426\u5219\u8fd4\u56deFlase</li> <li>blocking\uff1a\u8bbe\u7f6e\u4e3a<code>True</code>\u65f6\uff0c\u4f1a\u4e00\u76f4\u7b49\u5230\u524d\u9762\u7684\u9501\u91ca\u653e\u7136\u540e\u9501\u5b9a\uff0c\u8bbe\u7f6e\u4e3a<code>Flase</code>\u5219\u4e0d\u4f1a\u3002</li> <li> <p>timeout\uff1a\u6d6e\u70b9\u578b\uff0c\u5355\u4f4d\u2014\u2014\u79d2\uff1b</p> <ul> <li>\u503c\u4e3a\u6b63\u6570\u65f6\uff0c\u7b49\u5f85\u65f6\u957f\u4e3a\u8bbe\u5b9a\u7684\u79d2\u6570</li> <li>\u503c\u4e3a-1\u65f6\uff0c\u5c06\u65e0\u9650\u7b49\u5f85</li> <li><code>blocking=Flase</code>\u65f6\uff0ctimeout\u4e0d\u8d77\u4f5c\u7528\u3002</li> </ul> </li> <li> <p><code>release()</code>    \u9501\u88ab\u9501\u5b9a\u65f6\uff0c\u91cd\u7f6e\u4e3a\u672a\u9501\u5b9a\u3002\u9501\u6ca1\u88ab\u9501\u5b9a\u65f6\uff0c\u5f15\u53d1<code>RuntimeError</code>\u9519\u8bef\u3002</p> </li> </ol> <pre><code>import threading\nimport time\n\ng_num = 0\nmutex = threading.Lock()\n\n\ndef add1(num):\n    global g_num\n    mutex.acquire()\n    for i in range(num):\n        g_num += 1\n    mutex.release()\n    print(\"add1----------- %d\" % g_num)\n\n\ndef add2(num):\n     global g_num\n    mutex.acquire()\n    for i in range(num):\n        g_num += 1\n    mutex.release()\n    print(\"add2----------- %d\" % g_num)\n\n\ndef main():\n    t1 = threading.Thread(target=add1, args=(1_000_000, ))\n    t2 = threading.Thread(target=add2, args=(1_000_000, ))\n\n    t1.start()\n    t2.start()\n    time.sleep(2)\n    print(\"main----------- %d\" % g_num)\n\n\nif __name__ == \"__main__\":\n    main()\n\n--------------------------------------------------\n\n# Output:\nadd1----------- 1000000\nadd2----------- 2000000\nmain----------- 2000000\n</code></pre>"},{"location":"Python/Advanced/Thread/Python-No-17-Thread/#_7","title":"\u6b7b\u9501","text":"<p>\u9501\u5e76\u975e\u53ea\u6709\u4e00\u4e2a\uff0c\u53ef\u4ee5\u6709\u591a\u4e2a\u3002\u6709\u591a\u4e2a\u9501\uff0c\u5c31\u53ef\u80fd\u53d1\u751f\u6b7b\u9501\u3002</p> <p>\u4e3e\u4e2a\u6817\u5b50\uff0c \u7535\u5f71\u91cc\u7ecf\u5e38\u80fd\u770b\u89c1\u7684\u955c\u5934\u2014\u2014\u4fe9\u4eba\u6253\u67b6\u4e0d\u5206\u4e0a\u4e0b\uff0cA\u9501\u4f4f\u4e86B\u7684\u811a\u8e1d\uff0cB\u9501\u4f4f\u4e86A\u7684\u8116\u5b50\u3002 A\uff1a\u4f60\u653e\u5f00\u6211 B\uff1a\u4f60\u5148\u653e\u5f00\u6211 A\uff1a\u4f60\u653e\u5f00\u6211\u6211\u5c31\u653e\u5f00\u4f60 B\uff1a\u4f60\u5148\u653e\u5f00\u6211\uff0c\u6211\u518d\u653e\u5f00\u4f60 A\uff1a\u51ed\u4ec0\u4e48\u6211\u5148\u653e B\uff1a\u90a3\u6211\u4e5f\u4e0d\u653e ...2000 year later... \u4e24\u4eba\u6b7b\u4e86\u3002 The end.</p> <p>\u8fd9\u5c31\u662f\u6b7b\u9501\uff0c\u4e92\u4e0d\u76f8\u8ba9\uff0c\u4e92\u76f8\u9501\u4e86\u5bf9\u65b9\u9700\u8981\u7684\u8d44\u6e90\uff0c\u90fd\u7b49\u7740\u5bf9\u65b9\u5148\u91ca\u653e</p> <p>\u7ebf\u7a0bA\u4e0a\u4e86A\u9501\u5e72\u6d3b\uff0c\u7ebf\u7a0bB\u4e0a\u4e86B\u9501\uff0c\u8fd9\u662f\u4e24\u628a\u9501\uff0c\u6240\u4ee5\u76f8\u5b89\u65e0\u4e8b\u3002 \u8fd0\u884c\u7740\u8fd0\u884c\u7740\u7ebf\u7a0bA\u9700\u8981\u4e00\u4efd\u8d44\u6e90\uff0c\u8fd9\u4efd\u8d44\u6e90\u88ab\u7ebf\u7a0bB\u4e0a\u4e86\u9501\u7528\u7740\u5462\uff1b\u7ebf\u7a0bB\u4e5f\u9700\u8981\u4e00\u4efd\u8d44\u6e90\uff0c\u8fd9\u4efd\u8d44\u6e90\u88ab\u7ebf\u7a0bA\u4e0a\u4e86\u9501\u7528\u7740\u5462\u3002 \u8fd9\u65f6\u5019\u7ebf\u7a0bA\u548c\u7ebf\u7a0bB\u90fd\u5728\u7b49\u5bf9\u65b9\u91ca\u653e\u9501\uff0c\u5c31\u8fd9\u4e48\u4e00\u76f4\u7b49\u4e00\u76f4\u7b49</p> <pre><code>import time\nimport threading\n\nclass ThreadLockA(theading.Thread):\n    def run(self):\n        mutexA.acquire()    # \u4f7f\u7528A\u9501\u4e0a\u9501\n\n        print(self.name + '-----------doA--up--')\n        time.sleep(1)\n\n        # \u8fd9\u91cc\u4f1a\u4e0a\u9501\u5931\u8d25\uff0c\u56e0\u4e3a\u4e0a\u9762 time.sleep(1)\u7684\u65f6\u5019B\u9501\u5df2\u7ecf\u88ab\u4e0a\u9501\u4e86\n        # \u6216\u8005\u6b64\u7ebf\u7a0b\u540e\u6267\u884c\uff0cA\u9501\u5df2\u7ecf\u88ab\u4e0a\u9501\u4e86\uff0c\u4f1a\u4e0a\u9501\u5931\u8d25\u3002\n        # \u6240\u4ee5\u6b7b\u9501\u4f1a\u53d1\u751f\u5728\u8fd9\n        mutexB.acquire()    # \u8bf7\u6c42B\u9501\u4e0a\u9501\n        print(self.name + '-----------doA--down--')\n        mutexB.release()\n\n        mutexA.release()    # \u5bf9A\u9501\u8fdb\u884c\u89e3\u9501\n\nclass ThreadLockB(threading.Thread)\uff1b\n    def run(self):\n        mutexB.acquire()    # \u4f7f\u7528B\u9501\u4e0a\u9501\n\n        print(self.name + '-----------doB--up--')\n        time.sleep(1)\n\n        # \u8fd9\u91cc\u4f1a\u4e0a\u9501\u5931\u8d25\uff0c\u56e0\u4e3a\u4e0a\u9762 time.sleep(1)\u7684\u65f6\u5019A\u9501\u5df2\u7ecf\u88ab\u4e0a\u9501\u4e86\n        # \u6216\u8005\u6b64\u7ebf\u7a0b\u540e\u6267\u884c\uff0cA\u9501\u5df2\u7ecf\u88ab\u4e0a\u9501\u4e86\uff0c\u4f1a\u4e0a\u9501\u5931\u8d25\u3002\n        # \u6240\u4ee5\u6b7b\u9501\u4f1a\u53d1\u751f\u5728\u8fd9\n        mutexA.acquire()\n        print(self.name + '-----------doB--down--')\n        mutexA.release()\n\n        mutexB.release()    # \u5bf9B\u9501\u8fdb\u884c\u89e3\u9501\n\nmutexA = threading.Lock()\nmutexB = threading.Lock()\n\nif __name__ == '__main__':\n    t1 = ThreadLockA()\n    t2 = ThreadLockB()\n    t1.start()\n    t2.start()\n\n--------------------------------------------------\n\n# Output:\n-----------doA--up--\n-----------doB--up--\n\n\u00b7\u00b7\u00b7\n\u8fd9\u91cc\u5df2\u7ecf\u5361\u6b7b\u4e86\n</code></pre> <p>\u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\uff0c\u53c8\u4e24\u79cd\u65b9\u6cd5 1. \u7a0b\u5e8f\u8bbe\u8ba1\u65f6\u8981\u5c3d\u91cf\u907f\u514d\uff08\u4f7f\u7528\u94f6\u884c\u5bb6\u7b97\u6cd5\uff09 2. \u6dfb\u52a0\u8d85\u65f6\u65f6\u95f4\u7b49</p>"},{"location":"Python/Advanced/Thread/Python-No-18-Coroutine/","title":"Python\u3010No-18\u3011\u534f\u7a0b","text":"<p>\u534f\u7a0b\uff0c\u65f6\u95f4\u7ba1\u7406\u5927\u5e08</p> <p>Note</p> <p>\u7ebf\u7a0b \u662f\u7cfb\u7edf\u7ea7\u522b\u7684\uff0c\u7531\u64cd\u4f5c\u7cfb\u7edf\u8c03\u5ea6</p> <p>\u534f\u7a0b \u662f\u7a0b\u5e8f\u7ea7\u522b\u7684\uff0c\u7531\u7a0b\u5e8f\u6839\u636e\u9700\u8981\u81ea\u5df1\u8c03\u5ea6</p> <p>\u534f\u7a0b\u53ef\u4ee5\u60f3\u8c61\u6210\u7ebf\u7a0b\u91cc\u7684\u7ebf\u7a0b\uff0c\u4e5f\u5c31\u662f\u5c06\u4e00\u4e2a\u7ebf\u7a0b\u91cc\u591a\u4e2a\u4efb\u52a1\u5206\u62c6\u7ed9\u591a\u4e2a\u534f\u7a0b\u3002</p> <p>\u4f7f\u7528\u7ebf\u7a0b\u7684\u65f6\u5019\u662f\uff1a\u7ebf\u7a0b\u6267\u884c\u9047\u5230\u8017\u65f6\uff08\u963b\u585e\uff09\u7684\u5730\u65b9\uff0c\u518d\u5f00\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u53bb\u6267\u884c\u8fd9\u4e2a\u8017\u65f6\u7684\u4efb\u52a1\uff0c\u539f\u672c\u7684\u7ebf\u7a0b\u7ee7\u7eed\u6267\u884c\u3002 \u5c31\u597d\u6bd4\u6211\u5728\u7b97\u9898\uff0c\u7b97\u7740\u7b97\u7740\u8ba1\u7b97\u91cf\u6bd4\u8f83\u5927\u6bd4\u8f83\u8017\u65f6\uff0c\u6211\u5c31\u53eb\u4e86\u5c0f\u660e\u5e2e\u6211\u7b97\uff0c\u6211\u7ee7\u7eed\u7b97\u4e0b\u9762\u7684\u3002</p> <p>\u4f7f\u7528\u534f\u7a0b\u7684\u65f6\u5019\u662f\uff1a\u5229\u7528\u522b\u7684\u534f\u7a0b\u6267\u884c\u8017\u65f6\u64cd\u4f5c\u65f6\u7684\u90a3\u70b9\u65f6\u95f4\u5207\u6362\u53bb\u522b\u7684\u534f\u7a0b\u7ee7\u7eed\u6267\u884c\uff0c\u4e5f\u5c31\u662f\u5728\u534f\u7a0b\u4e4b\u95f4\u53cd\u590d\u6a2a\u8df3\u3002 \u5c31\u597d\u6bd4\u6211\u5728\u7b97\u9898\uff0c\u7b97\u7740\u7b97\u7740\u8ba1\u7b97\u91cf\u6709\u70b9\u5927\uff0c\u5c31\u5148\u505a\u522b\u7684\u9898\uff0c\u56de\u5934\u81ea\u5df1\u518d\u7ee7\u7eed\u628a\u9898\u7b97\u5b8c</p> <p>\u534f\u7a0b\u7684\u4f18\u70b9\uff1a 1. \u65e0\u9700\u7ebf\u7a0b\u4e0a\u4e0b\u6587\u5207\u6362\u7684\u5f00\u9500\uff0c\u56e0\u4e3a\u90fd\u5728\u540c\u4e00\u4e2a\u7ebf\u7a0b\u91cc\uff0c\u907f\u514d\u4e86\u65e0\u610f\u4e49\u7684\u8c03\u5ea6\uff0c\u7531\u6b64\u53ef\u4ee5\u63d0\u9ad8\u6027\u80fd\u3002 2. \u65e0\u9700\u539f\u5b50\u64cd\u4f5c\u9501\u5b9a\u53ca\u540c\u6b65\u7684\u5f00\u9500 3. \u65b9\u4fbf\u5207\u6362\u63a7\u5236\u6d41\uff0c\u7b80\u5316\u7f16\u7a0b\u6a21\u578b 4. \u9ad8\u5e76\u53d1+\u9ad8\u6269\u5c55\u6027+\u4f4e\u6210\u672c\uff1a\u4e00\u4e2aCPU\u652f\u6301\u4e0a\u4e07\u4e2a\u534f\u7a0b\u90fd\u4e0d\u662f\u95ee\u9898\u3002\u6240\u4ee5\u5f88\u9002\u5408\u9ad8\u5e76\u53d1\u5904\u7406\u3002</p> <p>\u7f3a\u70b9\uff1a 1. \u56e0\u4e3a\u534f\u7a0b\u90fd\u662f\u7a0b\u5e8f\u8c03\u5ea6\u7684\uff0c\u6240\u4ee5\u9700\u8981\u7a0b\u5e8f\u5458\u627f\u62c5\u8c03\u5ea6\u7684\u8d23\u4efb\uff0c\u540c\u65f6\u4e5f\u5931\u53bb\u4e86\u6807\u51c6\u7ebf\u7a0b\u4f7f\u7528\u591aCPU\u7684\u80fd\u529b 2. \u65e0\u6cd5\u5229\u7528\u591a\u6838\u8d44\u6e90\uff1a\u534f\u7a0b\u7684\u672c\u8d28\u662f\u4e2a\u5355\u7ebf\u7a0b\uff0c\u4e0d\u80fd\u540c\u65f6\u7528\u4e0a\u5355\u4e2aCPU\u7684\u591a\u4e2a\u6838\u3002\u534f\u7a0b\u9700\u8981\u548c\u8fdb\u7a0b\u914d\u5408\u624d\u80fd\u8fd0\u884c\u5728\u591aCPU\u4e0a\uff0c\u4e0d\u8fc7\u7edd\u5927\u90e8\u5206\u5e94\u7528\u90fd\u6ca1\u6709\u8fd9\u4e2a\u5fc5\u8981\uff0c\u9664\u975e\u662fCPU\u5bc6\u96c6\u578b\u5e94\u7528 3. \u8fdb\u884c\u963b\u585e\u64cd\u4f5c\uff08\u5982IO\uff09\u4f1a\u963b\u585e\u6389\u6574\u4e2a\u7a0b\u5e8f\u3002</p>"},{"location":"Python/Advanced/Thread/Python-No-18-Coroutine/#yield","title":"\u4f7f\u7528 yield \u5b9e\u73b0\u5e76\u53d1","text":"<pre><code>import time \n\ndef task_1():\n    while True:\n        print(\"{:-^16s}\".format(\"task_1\"))\n        time.sleep(0.1)\n        yield\n\ndef task_2():\n    while True:\n        print(\"{:-^16s}\".format(\"task_2\"))\n        time.sleep(0.1)\n        yield\n\ndef main():\n    t1 = task_1()\n    t2 = task_2()\n    # \u5148\u8ba9t1\u8fd0\u884c\u4e00\u4f1a\u513f\uff0c\u5f53t1\u4e2d\u9047\u5230yield\u7684\u65f6\u5019\uff0c\u518d\u8fd4\u56de\u5230main()\u7684while\u5faa\u73af\n    # \u7136\u540e\u6267\u884ct2\uff0c\u5f53\u5b83\u9047\u5230yield\u7684\u65f6\u5019\uff0c\u518d\u6b21\u5207\u6362\u5230t1\u4e2d\n    # \u5c31\u8fd9\u6837t1/t2/t1/t2...\u4ea4\u66ff\u8fd0\u884c\uff0c\u6700\u7ec8\u5b9e\u73b0\u4e86\u591a\u4efb\u52a1...\u534f\u7a0b\n    while True:\n        next(t1)\n        next(t2)\n\n\nif __name__ == '__main__':\n    main()\n\n--------------------------------------------------\n\n# Output:\n-----task_1-----\n-----task_2-----\n-----task_1-----\n-----task_2-----\n-----task_1-----\n-----task_2-----\n-----task_1-----\n-----task_2-----\n-----task_1-----\n-----task_2-----\n...\n</code></pre>"},{"location":"Python/Advanced/Thread/Python-No-18-Coroutine/#greenlet","title":"\u4f7f\u7528 greenlet \u5b9e\u73b0\u5e76\u53d1","text":"<p>&gt;_: <code>pip install greenlet</code></p> <pre><code>from greenlet import greenlet\nimport time\n\ndef task_1():\n    while True:\n        print(\"{:-^16s}\".format(\"task_1\"))\n        gr2.switch()        # \u5207\u6362\u5230 gr2\u4e2d\uff0c\u4e5f\u5c31\u662f task_2() \u4e2d\u8fd0\u884c\n        time.sleep(0.5)\n\n\ndef task_2():\n    while True:\n        print(\"{:-^16s}\".format(\"task_2\"))\n        gr1.switch()        # \u5207\u6362\u5230 gr1\u4e2d\uff0c\u4e5f\u5c31\u662f task_1() \u4e2d\u8fd0\u884c\n        time.sleep(0.5)\n\ngr1 = greenlet(task_1)\ngr2 = greenlet(task_2)\n\n# \u5207\u6362\u5230 gr1\u4e2d\uff0c\u4e5f\u5c31\u662f task_1() \u4e2d\u8fd0\u884c\ngr1.switch\n\n--------------------------------------------------\n\n# Output:\n-----task_1-----\n-----task_2-----\n-----task_1-----\n-----task_2-----\n-----task_1-----\n-----task_2-----\n-----task_1-----\n-----task_2-----\n-----task_1-----\n-----task_2-----\n...\n</code></pre>"},{"location":"Python/Advanced/Thread/Python-No-18-Coroutine/#gevent","title":"\u4f7f\u7528 gevent \u5b9e\u73b0\u5e76\u53d1","text":"<pre><code>import gevent\ngevent.spawn(funcName, args)\n</code></pre> <p>\u5148\u770b\u770b\u6ca1\u6709\u963b\u585e\u64cd\u4f5c\u7684\u65f6\u5019\uff1a </p><pre><code># \u6ca1\u6709\u963b\u585e\nimport gevent\n\n\ndef task_1(n):\n    for i in range(n):\n        print(gevent.getcurrent(), i)\n\n\ndef task_2(n):\n    for i in range(n):\n        print(gevent.getcurrent(), i)\n\n\ndef task_3(n):\n    for i in range(n):\n        print(gevent.getcurrent(), i)\n\n\ndef main():\n    g1 = gevent.spawn(task_1, 5)\n    g2 = gevent.spawn(task_2, 5)\n    g3 = gevent.spawn(task_3, 5)\n\n    g1.join()\n    g2.join()\n    g3.join()\n\n\nif __name__ == '__main__':\n    main()\n\n--------------------------------------------------\n\n# Output:\n&lt;Greenlet at 0x1f6eaf0cd00: task_1(5)&gt; 0\n&lt;Greenlet at 0x1f6eaf0cd00: task_1(5)&gt; 1\n&lt;Greenlet at 0x1f6eaf0cd00: task_1(5)&gt; 2\n&lt;Greenlet at 0x1f6eaf0cd00: task_1(5)&gt; 3\n&lt;Greenlet at 0x1f6eaf0cd00: task_1(5)&gt; 4\n&lt;Greenlet at 0x1f6eaf0ce10: task_2(5)&gt; 0\n&lt;Greenlet at 0x1f6eaf0ce10: task_2(5)&gt; 1\n&lt;Greenlet at 0x1f6eaf0ce10: task_2(5)&gt; 2\n&lt;Greenlet at 0x1f6eaf0ce10: task_2(5)&gt; 3\n&lt;Greenlet at 0x1f6eaf0ce10: task_2(5)&gt; 4\n&lt;Greenlet at 0x1f6eaf0cbf0: task_3(5)&gt; 0\n&lt;Greenlet at 0x1f6eaf0cbf0: task_3(5)&gt; 1\n&lt;Greenlet at 0x1f6eaf0cbf0: task_3(5)&gt; 2\n&lt;Greenlet at 0x1f6eaf0cbf0: task_3(5)&gt; 3\n&lt;Greenlet at 0x1f6eaf0cbf0: task_3(5)&gt; 4\n</code></pre> gevent \u662f\u5229\u7528\u534f\u7a0b\u963b\u585e\u7684\u65f6\u5019\u53bb\u6267\u884c\u522b\u7684\u534f\u7a0b \u8fd9\u91cc\u6ca1\u6709\u963b\u585e\u64cd\u4f5c\uff0c\u6240\u4ee5\u5e76\u4e0d\u4f1a\u53d1\u751f\u4ec0\u4e48\u53d8\u5316\uff0c\u8ddf\u666e\u901a\u51fd\u6570\u8c03\u7528\u4e00\u6837\uff0c\u66f4\u63d0\u4e0d\u4e0a\u5e76\u53d1<p></p> <p>\u73b0\u5728\u6765\u52a0\u70b9\u963b\u585e\u64cd\u4f5c\u770b\u770b </p><pre><code># \u6709\u963b\u585e\nimport gevent\n\n\ndef task_1(n):\n    for i in range(n):\n        print(gevent.getcurrent(), i)\n        # time.sleep(0.1)    # \u5728gevent\u4e2d\uff0ctime.sleep()\u8fd9\u79cd\u963b\u585e\u64cd\u4f5c\u662f\u4e0d\u8d77\u4f5c\u7528\u7684\n        gevent.sleep(0.1)\n\n\ndef task_2(n):\n    for i in range(n):\n        print(gevent.getcurrent(), i)\n        gevent.sleep(0.1)\n\n\ndef task_3(n):\n    for i in range(n):\n        print(gevent.getcurrent(), i)\n        gevent.sleep(0.1)\n\n\ndef main():\n    g1 = gevent.spawn(task_1, 5)\n    g2 = gevent.spawn(task_2, 5)\n    g3 = gevent.spawn(task_3, 5)\n\n    g1.join()\n    g2.join()\n    g3.join()\n\n\n\nif __name__ == '__main__':\n    main()\n\n--------------------------------------------------\n\n# Output:\n&lt;Greenlet at 0x1433a62b370: task_1(5)&gt; 0\n&lt;Greenlet at 0x1433a62b590: task_2(5)&gt; 0\n&lt;Greenlet at 0x1433a62b480: task_3(5)&gt; 0\n&lt;Greenlet at 0x1433a62b370: task_1(5)&gt; 1\n&lt;Greenlet at 0x1433a62b590: task_2(5)&gt; 1\n&lt;Greenlet at 0x1433a62b480: task_3(5)&gt; 1\n&lt;Greenlet at 0x1433a62b370: task_1(5)&gt; 2\n&lt;Greenlet at 0x1433a62b590: task_2(5)&gt; 2\n&lt;Greenlet at 0x1433a62b480: task_3(5)&gt; 2\n&lt;Greenlet at 0x1433a62b370: task_1(5)&gt; 3\n&lt;Greenlet at 0x1433a62b590: task_2(5)&gt; 3\n&lt;Greenlet at 0x1433a62b480: task_3(5)&gt; 3\n&lt;Greenlet at 0x1433a62b370: task_1(5)&gt; 4\n&lt;Greenlet at 0x1433a62b590: task_2(5)&gt; 4\n&lt;Greenlet at 0x1433a62b480: task_3(5)&gt; 4\n</code></pre><p></p> <p>\u4e0a\u8ff0\u4ee3\u7801 \u5efa\u7acb\u4e86\u4e09\u4e2a gevent \u5bf9\u8c61\uff0c\u91cc\u9762\u5206\u522b\u8f6c\u8f7d\u4e86 task_1\u3001task_2\u3001task_3 \u4e09\u4e2a\u6267\u884c\u51fd\u6570\u3002 \u63a5\u7740\u4e09\u4e2a gevent \u5bf9\u8c61\u90fd\u4f7f\u7528 join \u65b9\u6cd5\u8fd0\u884c\u4e86\u6267\u884c\u51fd\u6570 \u5728\u4e09\u4e2a\u6267\u884c\u51fd\u6570\u4e2d\u53c8\u7528\u4e86 gevent.sleep() \u6a21\u62df\u963b\u585e\u64cd\u4f5c\uff08\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\u5e76\u4e0d\u4f1a\u4e13\u95e8\u7528sleep\u53bb\u963b\u585e\uff0c\u800c\u662f\u5728\u6267\u884c\u5230 IO \u7b49\u8017\u65f6\u64cd\u4f5c\u65f6\uff0cgevent\u81ea\u52a8\u5207\u6362\u3002\uff09</p> <p>\u5728\u6267\u884c task_1 \u7684\u65f6\u5019\uff0c\u6253\u5370\u4e86\u7b2c\u4e00\u53e5\uff0c\u7136\u540e\u9047\u5230\u4e86 gevent.sleep() \u7684\u963b\u585e\u64cd\u4f5c\uff0c\u5207\u6362\u5230 task_2 \uff0c\u6253\u5370\u4e86\u7b2c\u4e8c\u5c40\uff0c\u53c8\u9047\u5230\u963b\u585e\uff0c\u53c8\u5207\u6362...\u4e00\u76f4\u5230\u5168\u90e8\u6267\u884c\u5b8c\u6bd5</p> <p>\u53e6\u5916\uff0ctask_1 \u4e2d\u7684 time.sleep() \u5728 gevent \u7ba1\u7406\u7684\u534f\u7a0b\u4e2d\u662f\u4e0d\u8d77\u4f5c\u7528\u7684\uff0c\u9700\u8981\u4f7f\u7528 gevent.sleep() \u624d\u884c\u3002</p> <p>\u8fd9\u5c31\u5e26\u6765\u4e00\u4e2a\u95ee\u9898\uff1a\u5982\u679c\u6211\u7684\u4ee3\u7801\u662f\u5f00\u53d1\u5b8c\u4e86\u624d\u52a0\u5165\u4e86 gevent \uff0c\u90a3\u5c82\u4e0d\u662f\u8981\u628a\u5f88\u591a\u5730\u65b9\u624b\u52a8\u6539\u5230 gevent \u80fd\u63a5\u53d7\u3002\u8fd8\u597d gevent \u63d0\u4f9b\u4e86\u4e00\u4e2a\u8865\u4e01</p>"},{"location":"Python/Advanced/Thread/Python-No-18-Coroutine/#gevent_1","title":"gevent \u8865\u4e01","text":"<pre><code>import time\nimport gevent\nfrom gevent import monkey\n\nmonkey.patch_all()    # \u6253\u8865\u4e01, \u4e00\u5b9a\u8981\u5199\u5728\u6700\u4e0a\u65b9\n\n\ndef task_1(n):\n    for i in range(n):\n        print(gevent.getcurrent(), i)\n        time.sleep(0.1)\n\n\ndef task_2(n):\n    for i in range(n):\n        print(gevent.getcurrent(), i)\n        time.sleep(0.1)\n\n\ndef task_3(n):\n    for i in range(n):\n        print(gevent.getcurrent(), i)\n        time.sleep(0.1)\n\n\ndef main():\n    g1 = gevent.spawn(task_1, 5)\n    g2 = gevent.spawn(task_2, 5)\n    g3 = gevent.spawn(task_3, 5)\n\n    g1.join()\n    g2.join()\n    g3.join()\n\n\nif __name__ == '__main__':\n    main()\n\n--------------------------------------------------\n\n# Output:\n&lt;Greenlet at 0x1433a62b370: task_1(5)&gt; 0\n&lt;Greenlet at 0x1433a62b590: task_2(5)&gt; 0\n&lt;Greenlet at 0x1433a62b480: task_3(5)&gt; 0\n&lt;Greenlet at 0x1433a62b370: task_1(5)&gt; 1\n&lt;Greenlet at 0x1433a62b590: task_2(5)&gt; 1\n&lt;Greenlet at 0x1433a62b480: task_3(5)&gt; 1\n&lt;Greenlet at 0x1433a62b370: task_1(5)&gt; 2\n&lt;Greenlet at 0x1433a62b590: task_2(5)&gt; 2\n&lt;Greenlet at 0x1433a62b480: task_3(5)&gt; 2\n&lt;Greenlet at 0x1433a62b370: task_1(5)&gt; 3\n&lt;Greenlet at 0x1433a62b590: task_2(5)&gt; 3\n&lt;Greenlet at 0x1433a62b480: task_3(5)&gt; 3\n&lt;Greenlet at 0x1433a62b370: task_1(5)&gt; 4\n&lt;Greenlet at 0x1433a62b590: task_2(5)&gt; 4\n&lt;Greenlet at 0x1433a62b480: task_3(5)&gt; 4\n</code></pre>"},{"location":"Python/Advanced/Thread/Python-No-18-Coroutine/#joinall","title":"joinall","text":"<p>\u6709\u6ca1\u6709\u53d1\u73b0</p> <p>g1.join() g2.join() g3.join()</p> <p>\u5199\u4e86\u4e09\u4e2ajoin, \u4e0d\u5982\u7ed9\u4ed6\u6765\u4e2a\u4e00\u6b21\u6027: </p> <p><code>gevent.joinall(spawn_list, timeout=None, raise_error=False, count=None)</code></p> <pre><code>import time\nimport gevent\nfrom gevent import monkey\n\nmonkey.patch_all()\n\n\ndef task_1(n):\n    for i in range(n):\n        print(gevent.getcurrent(), i)\n        time.sleep(0.1)\n\n\ndef task_2(n):\n    for i in range(n):\n        print(gevent.getcurrent(), i)\n        time.sleep(0.1)\n\n\ndef task_3(n):\n    for i in range(n):\n        print(gevent.getcurrent(), i)\n        time.sleep(0.1)\n\n\ndef main():\n    # joinall \u63a5\u53d7\u4e00\u4e2a spawn \u5217\u8868\n    gevent.joinall([\n        gevent.spawn(task_1, 5),\n        gevent.spawn(task_2, 5),\n        gevent.spawn(task_3, 5)\n    ]\uff0c timeout=5)\n\n\nif __name__ == '__main__':\n    main()\n\n--------------------------------------------------\n\n# Output:\n&lt;Greenlet at 0x12e8cba9d00: task_1(5)&gt; 0\n&lt;Greenlet at 0x12e8cba9e10: task_2(5)&gt; 0\n&lt;Greenlet at 0x12e8cba9bf0: task_3(5)&gt; 0\n&lt;Greenlet at 0x12e8cba9d00: task_1(5)&gt; 1\n&lt;Greenlet at 0x12e8cba9e10: task_2(5)&gt; 1\n&lt;Greenlet at 0x12e8cba9bf0: task_3(5)&gt; 1\n&lt;Greenlet at 0x12e8cba9d00: task_1(5)&gt; 2\n&lt;Greenlet at 0x12e8cba9e10: task_2(5)&gt; 2\n&lt;Greenlet at 0x12e8cba9bf0: task_3(5)&gt; 2\n&lt;Greenlet at 0x12e8cba9d00: task_1(5)&gt; 3\n&lt;Greenlet at 0x12e8cba9e10: task_2(5)&gt; 3\n&lt;Greenlet at 0x12e8cba9bf0: task_3(5)&gt; 3\n&lt;Greenlet at 0x12e8cba9d00: task_1(5)&gt; 4\n&lt;Greenlet at 0x12e8cba9e10: task_2(5)&gt; 4\n&lt;Greenlet at 0x12e8cba9bf0: task_3(5)&gt; 4\n</code></pre> <p>\u53ea\u7ba1\u5728 joinall \u91cc\u521b\u5efa spawn \u5bf9\u8c61\u5c31\u884c\uff0c\u5176\u4ed6\u4e0d\u7528\u7ba1\uff0cgevent \u81ea\u5df1\u4f1a\u5904\u7406\u597d\u7684 \u8fd9\u4e5f\u662f\u6700\u5e38\u7528\u7684\u65b9\u6cd5</p>"},{"location":"Python/Basic/Python-No-1-Abstract/","title":"\u603b\u53d9","text":""},{"location":"Python/Basic/Python-No-1-Abstract/#_1","title":"\u603b\u53d9","text":"<ul> <li>\u8bed\u8a00\u54f2\u5b66\uff1a \u7b80\u6d01</li> <li>\u7c7b\u578b\uff1a\u89e3\u91ca\u578b\u8bed\u8a00\u3001\u52a8\u6001\u8bed\u8a00\u3001\u9762\u5411\u5bf9\u8c61\uff08\u4e00\u5207\u7686\u5bf9\u8c61\uff09</li> <li> <p>\u7f3a\u70b9\uff1a</p> <ol> <li>\u901f\u5ea6\u6162</li> <li>\u4ee3\u7801\u4e0d\u80fd\u52a0\u5bc6</li> </ol> </li> <li> <p>\u8bed\u8a00\u601d\u60f3\uff1a</p> <ol> <li>\u4e00\u5207\u7686\u5bf9\u8c61</li> <li>\u51fd\u6570\u662f\u4e00\u7b49\u516c\u6c11</li> </ol> </li> </ul>"},{"location":"Python/Basic/Python-No-1-Abstract/#_2","title":"\u89e3\u91ca\u5668","text":""},{"location":"Python/Basic/Python-No-1-Abstract/#cpython","title":"CPython","text":"<p>\u9ed8\u8ba4\u89e3\u91ca\u5668\u3002</p>"},{"location":"Python/Basic/Python-No-1-Abstract/#pypy","title":"PyPy","text":"<p>\u76ee\u6807\u662f\u6267\u884c\u901f\u5ea6\uff0c\u91c7\u7528JIT\u6280\u672f\uff0c\u5bf9python\u4ee3\u7801\u8fdb\u884c\u52a8\u7f16\u8bd1\u3002 \u4f46\u662f\u4e0eCPython\u4e0d\u540c\u3002 PyPy VS CPython</p>"},{"location":"Python/Basic/Python-No-1-Abstract/#jython","title":"Jython","text":"<p>Jython\u662f\u8fd0\u884c\u5728Java\u5e73\u53f0\u4e0a\u7684Python\u89e3\u91ca\u5668\uff0c\u53ef\u4ee5\u76f4\u63a5\u628aPython\u4ee3\u7801\u7f16\u8bd1\u6210Java\u5b57\u8282\u7801\u6267\u884c\u3002</p>"},{"location":"Python/Basic/Python-No-1-Abstract/#ironpython","title":"IronPython","text":"<p>IronPython\u548cJython\u7c7b\u4f3c\uff0c\u53ea\u4e0d\u8fc7IronPython\u662f\u8fd0\u884c\u5728\u5fae\u8f6f.Net\u5e73\u53f0\u4e0a\u7684Python\u89e3\u91ca\u5668\uff0c\u53ef\u4ee5\u76f4\u63a5\u628aPython\u4ee3\u7801\u7f16\u8bd1\u6210.Net\u7684\u5b57\u8282\u7801\u3002</p>"},{"location":"Python/Basic/Python-No-1-Abstract/#_3","title":"\u547d\u4ee4\u884c\u6a21\u5f0f &amp; \u4ea4\u4e92\u6a21\u5f0f","text":""},{"location":"Python/Basic/Python-No-1-Abstract/#_4","title":"\u547d\u4ee4\u884c\u6a21\u5f0f","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500--------------------\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502Command Prompt                                      - \u25a1 x \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500--------------------\u2500\u2524\n\u2502Microsoft Windows [Version 10.0.0]                        \u2502\n\u2502(c) 2015 Microsoft Corporation. All rights reserved.      \u2502\n\u2502                                                          \u2502\n\u2502C:\\&gt; _                                                    \u2502\n\u2502                                                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500--------------------\u2500\u2518\n</code></pre> <p>\u53ef\u4ee5\u5207\u6362\u5230\u6587\u4ef6\u6240\u5728\u76ee\u5f55\u4e0b\uff0c\u7136\u540e\u8f93\u5165 <code>python \u6587\u4ef6\u540d.py</code> \u6765\u6267\u884cpython\u6587\u4ef6</p>"},{"location":"Python/Basic/Python-No-1-Abstract/#python","title":"Python\u4ea4\u4e92\u6a21\u5f0f","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500----------------\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502Command Prompt - python                           - \u25a1 x \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500----------------\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502Microsoft Windows [Version 10.0.0]                      \u2502\n\u2502(c) 2015 Microsoft Corporation. All rights reserved.    \u2502\n\u2502                                                        \u2502\n\u2502C:\\&gt; python                                             \u2502\n\u2502Python 3.7 ... on win32                                 \u2502\n\u2502Type \"help\", ... for more information.                  \u2502\n\u2502&gt;&gt;&gt; 100 + 200                                           \u2502\n\u2502300                                                     \u2502\n\u2502&gt;&gt;&gt; _                                                   \u2502\n\u2502                                                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500----------------\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>\u8f93\u5165 <code>python</code> \u8fdb\u5165\u4ea4\u4e92\u6a21\u5f0f\uff0c \u8f93\u5165 <code>exit()</code> \u6216 <code>quit()</code> \u9000\u51fa\u4ea4\u4e92\u6a21\u5f0f</p>"},{"location":"Python/Basic/Python-No-1-Abstract/#_5","title":"\u6587\u4ef6\u540d","text":"<ul> <li>\u6269\u5c55\u540d\uff1a.py</li> <li>\u6587\u4ef6\u540d\uff1a\u82f1\u6587\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf</li> </ul>"},{"location":"Python/Basic/Python-No-1-Abstract/#py","title":"\u76f4\u63a5\u8fd0\u884c.py\u6587\u4ef6","text":"<ul> <li> Win</li> <li> Linux</li> <li> Mac</li> </ul> <p>\u524d\u63d0\uff1a</p> <p>1)  \u5728hello.py\u6587\u4ef6\u7684\u7b2c\u4e00\u884c\u52a0\u4e0a\u4e00\u4e2a\u7279\u6b8a\u7684\u6ce8\u91ca <code>#!/usr/bin/env python3</code> \uff0c \u5982 </p><pre><code>#!/usr/bin/env python3\n\nprint(\"Hello World!\")\n</code></pre> 2)  \u901a\u8fc7\u547d\u4ee4\u7ed9hello.py\u6587\u4ef6\u6267\u884c\u6743\u9650 <pre><code>$ chmod a+x hello.py\n</code></pre><p></p>"},{"location":"Python/Basic/Python-No-1-Abstract/#_6","title":"\u4e2d\u6587\u7f16\u7801","text":"<p>Note</p> <p>Python2 \u9ed8\u8ba4\u7f16\u7801\u683c\u5f0f\u662f\uff1aASCII\uff0c\u4f7f\u7528\u4e2d\u6587\u4f1a\u51fa\u9519 \u89e3\u51b3\u65b9\u6cd5\uff1a\u5728\u6587\u4ef6\u5f00\u5934\u52a0\u5165 <code># -*- coding: UTF-8 -*-</code> \u6216 <code># coding=utf-8</code></p> <pre><code>#!/usr/bin/python\n# -*- coding: UTF-8 -*-\n\nprint(\"\u653e\u7801\u8fc7\u6765\")\n</code></pre> <p>Note</p> <p>Python3 \u9ed8\u8ba4\u7f16\u7801\u683c\u5f0f\u662f\uff1aUTF-8\uff0c\u6240\u4ee5\u65e0\u9700\u6307\u5b9a\u7f16\u7801\u683c\u5f0f \u6ce8\u610f\uff1apy\u6587\u4ef6\u9700\u8981\u5b58\u50a8\u683c\u5f0f\u4e3a UTF-8</p> <pre><code>#!/usr/bin/env python3\n\nprint(\"\u653e\u7801\u8fc7\u6765\")\n</code></pre> <p>\u4f46\u6700\u597d\u8fd8\u662f\u52a0\u4e0a</p> <pre><code>#!/usr/bin/env python3\n# -*- coding: UTF-8 -*-\n\nprint(\"\u653e\u7801\u8fc7\u6765\")\n</code></pre>"},{"location":"Python/Basic/Python-No-1-Abstract/#python_1","title":"python\u7684\u4e00\u5207\u7686\u5bf9\u8c61","text":"<pre><code># \u793a\u4f8b\u5982\u4e0b\na=2019\nb=\"\u4e00\u5207\u7686\u5bf9\u8c61\"\nprint(type(2019))\nprint(type(int))\nprint(type(b))\nprint(type(str))\n\nclass Student:\n    pass\n\nstu = Student()\nprint(type(stu))\nprint(type(Student))\nprint(int.__bases__)\nprint(str.__bases__)\nprint(Student.__bases__)\nprint(type.__bases__)\nprint(object.__bases__)\nprint(type(object))\nprint(type(type))\n</code></pre> \u8fd0\u884c\u7ed3\u679c\uff1a <pre><code>&lt;class 'int'&gt;                # 2019\u662f\u7531int\u8fd9\u4e2a\u7c7b\u521b\u5efa\u7684\u5b9e\u4f8b\n&lt;class 'type'&gt;               # int\u8fd9\u4e2a\u7c7b\u662f\u7531type\u8fd9\u4e2a\u7c7b\u521b\u5efa\u7684\u5b9e\u4f8b\n&lt;class 'str'&gt;                # \u540c\u4e0a\n&lt;class 'type'&gt;\n&lt;class '__main__.Student'&gt;   # stu\u662f\u7c7bStudent\u521b\u5efa\u7684\u5b9e\u4f8b\n&lt;class 'type'&gt;               # \u7c7bStudent\u662f\u7531type\u8fd9\u4e2a\u7c7b\u521b\u5efa\u7684\u5b9e\u4f8b\n(&lt;class 'object'&gt;,)          # \u7c7bint\u7684\u57fa\u7c7b\u662fobject\u8fd9\u4e2a\u7c7b\n(&lt;class 'object'&gt;,)          # \u540c\u4e0a\n(&lt;class 'object'&gt;,)          # \u540c\u4e0a\n(&lt;class 'object'&gt;,)          # \u91cd\u70b9\uff1a\u7c7btype\u7684\u57fa\u7c7b\u4e5f\u662fobject\u8fd9\u4e2a\u57fa\u7c7b\n()                           # \u91cd\u70b9\uff1a\u7c7bobject\u6ca1\u6709\u57fa\u7c7b\n&lt;class 'type'&gt;               # \u96be\u70b9\uff1a\u7c7bobject\u662f\u7531\u7c7btype\u521b\u5efa\u7684\u5b9e\u4f8b\n&lt;class 'type'&gt;               # \u96be\u70b9\uff1a\u7c7btype\u662f\u7531type\u7c7b\u81ea\u8eab\u521b\u5efa\u7684\u5b9e\u4f8b\n</code></pre> <p>\u5bf9\u4e8e\u4e0a\u9762\u56fe\u7247\u7684\u89e3\u8bfb\u5982\u4e0b\uff1a</p> <ol> <li>object\u662f\u4e00\u5207\u5bf9\u8c61\uff1alist\u3001str\u3001dict\u3001tuple\u7684\u57fa\u7c7b\uff0c\u540c\u65f6object\u662ftype\u7684\u5b9e\u4f8b</li> <li>\u7c7btype\u662f\u81ea\u8eab\u7684\u5b9e\u4f8b\uff0c\u540c\u65f6type\u4e5f\u7ee7\u627f\u81eaobject\u7c7b</li> <li>\u7531\u7ed3\u8bba1\u548c\u7ed3\u8bba2\uff0c\u5f97\u51fa\u4e00\u5207\u7686\u5bf9\u8c61\uff0c\u540c\u65f6\u4e00\u5207\u7686\u7ee7\u627f\u81eaobject\u7c7b</li> </ol> <p><code>\u7c7bobject</code>\u662f\u4e00\u5207\u5bf9\u8c61\u7684\u57fa\u7c7b <code>\u7c7bobject</code>\u662f<code>\u7c7btype</code>\u7684\u5b9e\u4f8b</p> <p><code>\u7c7btype</code>\u7ee7\u627f\u81ea<code>\u7c7bobject</code> <code>\u7c7btype</code>\u662f<code>\u7c7btype</code>\u7684\u5b9e\u4f8b</p> <p>\u4e00\u5207\u7686\u5bf9\u8c61\uff0c\u4e00\u5207\u7686\u7ee7\u627f\u81eaobject\u7c7b</p>"},{"location":"Python/Basic/Python-No-10-Module/","title":"\u6a21\u5757","text":""},{"location":"Python/Basic/Python-No-10-Module/#module","title":"\u6a21\u5757 Module","text":"<p>\u4e00\u4e2a <code>.py</code>\u6587\u4ef6\u5c31\u79f0\u4e4b\u4e3a\u4e00\u4e2a<code>\u6a21\u5757 module</code></p> <p>\u597d\u5904\uff1a</p> <ol> <li>\u63d0\u9ad8\u4e86\u4ee3\u7801\u7684\u53ef\u7ef4\u62a4\u6027\uff1b</li> <li>\u53ef\u4ee5\u88ab\u5176\u4ed6\u5730\u65b9\u5e94\u7528\uff1b</li> <li>\u53ef\u4ee5\u907f\u514d\u547d\u540d\u51b2\u7a81\u3002</li> </ol>"},{"location":"Python/Basic/Python-No-10-Module/#import","title":"import","text":"<p>import\u52a0\u8f7d\u7684\u6a21\u5757\u5206\u4e3a\u56db\u4e2a\u901a\u7528\u7c7b\u522b\uff1a</p> <ol> <li>\u4f7f\u7528python\u7f16\u5199\u7684\u4ee3\u7801\uff08<code>py\u6587\u4ef6</code>\uff09\uff1b</li> <li>\u5df2\u88ab\u7f16\u8bd1\u4e3a\u5171\u4eab\u5e93\u6216DLL\u7684<code>C\u6216C++\u6269\u5c55</code>\uff1b</li> <li>\u5305\u597d\u4e00\u7ec4\u6a21\u5757\u7684<code>\u5305</code></li> <li>\u4f7f\u7528C\u7f16\u5199\u5e76\u94fe\u63a5\u5230python\u89e3\u91ca\u5668\u7684<code>\u5185\u7f6e\u6a21\u5757</code>.</li> </ol>"},{"location":"Python/Basic/Python-No-10-Module/#package","title":"\u5305 Package","text":"<p>\u6a21\u5757\u7684\u4e0a\u4e00\u7ea7\u79f0\u4e3a<code>\u5305 package</code></p> <ul> <li>\u5305\u662f\u4e00\u4e2a\u6587\u4ef6\u5939\uff0c\u53ef\u4ee5\u901a\u8fc7\u5305\u6765\u7ec4\u7ec7\u6a21\u5757\uff0c\u907f\u514d\u51b2\u7a81\u3002</li> <li>\u4e00\u4e2a\u5305\u91cc\u5fc5\u987b\u542b\u6709\u4e00\u4e2a<code>__init__.py</code><ol> <li><code>__init__.py</code>\u53ef\u4ee5\u662f\u7a7a\u6587\u4ef6\uff0c\u4e5f\u53ef\u4ee5\u6709Python\u4ee3\u7801</li> <li><code>__init__.py</code>\u672c\u8eab\u5c31\u7b97\u4e00\u4e2a\u6a21\u5757\uff0c\u5b83\u7684\u6a21\u5757\u540d\u5c31\u662f\u5305\u540d</li> </ol> </li> <li>\u5305\u91cc\u9762\u8fd8\u53ef\u4ee5\u6709\u5305</li> </ul> <pre><code>MyPackage\n \u251c\u2500 web\n \u2502  \u251c\u2500 __init__.py\n \u2502  \u251c\u2500 utils.py\n \u2502  \u2514\u2500 test.py\n \u251c\u2500 dirc\n \u2502  \u251c\u2500 utils.py\n \u2502  \u2514\u2500 test.py\n \u2502\n \u251c\u2500 __init__.py\n \u251c\u2500 main.py\n \u2514\u2500 utils.py\n</code></pre> <ul> <li>\u9876\u5c42\u5305\u4e3a MyPackage</li> <li>\u5b50\u5305\u4e3a web</li> <li>\u666e\u901a\u76ee\u5f55 dirc \uff08\u56e0\u4e3a\u5b83\u6ca1\u6709<code>__init__.py</code>\u6587\u4ef6\uff09</li> <li><code>test.py</code>\u7684\u6a21\u5757\u540d\u4e3a<code>MyPackage.web.test</code></li> <li><code>utils.py</code>\u6709\u4e24\u4e2a\uff0c\u6a21\u5757\u540d\u5206\u522b\u4e3a<code>MyPackage.web.utils</code>\u548c<code>MyPackage.utils</code></li> </ul> <p>\u81ea\u5df1\u521b\u5efa\u6a21\u5757\u65f6\u6ce8\u610f\u547d\u540d\u4e0d\u8981\u4e0e\u7cfb\u7edf\u6a21\u5757\u51b2\u7a81</p> <p>\u8981\u68c0\u67e5\u7cfb\u7edf\u4e2d\u662f\u5426\u5b58\u5728\u8be5\u6a21\u5757\uff0c\u53ef\u4ee5\u5728\u4ea4\u4e92\u73af\u5883\u4e0b\u6267\u884c <code>import abc</code>\uff0c\u82e5\u6210\u529f\u8bf4\u660e\u7cfb\u7edf\u5b58\u5728\u6b64\u6a21\u5757\u3002</p> <pre><code>&gt;&gt;&gt; import aabbccc\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nModuleNotFoundError: No module named 'aabbccc'\n</code></pre>"},{"location":"Python/Basic/Python-No-10-Module/#_1","title":"\u4f7f\u7528\u6a21\u5757","text":"<pre><code>#!/usr/bin/env python3\n# -*- coding: utf-8 -*-\n\n\"Here is the module documentation\"\n\n__author__ = 'Boii'\n\nimport sys\n\n\ndef test():\n    args = sys.argv\n    if len(args) == 1:\n        print('Hello, world!')\n    elif len(args) == 2:\n        print('Hello, %s!' % args[1])\n    else:\n        print('Too many arguments!')\n\n\nif __name__ == '__main__':\n    test()\n</code></pre>"},{"location":"Python/Basic/Python-No-10-Module/#_2","title":"\u6807\u51c6\u6a21\u5757\u6587\u4ef6\u6a21\u677f","text":"<ul> <li><code>#!/usr/bin/env python3</code> \u662f\u5411Unix / Linux / Mac \u7cfb\u7edf\u58f0\u660e\u672c\u6587\u4ef6\u662fPython3\u6587\u4ef6</li> <li><code># -*- coding: utf-8 -*-</code> \u8868\u793a\u672c\u6587\u4ef6\u4f7f\u7528\u6807\u51c6utf-8\u7f16\u7801\uff0c\u867d\u7136Python3\u4e4b\u540e\u9ed8\u8ba4\u652f\u6301\u4e2d\u6587\uff0c\u4f46\u4e3a\u4fdd\u7a33\u59a5\u8fd8\u662f\u5199\u4e0a</li> <li><code>\"Here is the module documentation\"</code>\u662f\u6a21\u5757\u6587\u6863\u6ce8\u91ca\uff0c\u4efb\u4f55\u6a21\u5757\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e32\u90fd\u88ab\u89c6\u4e3a\u6a21\u5757\u7684\u6587\u6863\u6ce8\u91ca\u3002\u53ef\u4ee5\u901a\u8fc7<code>\u6a21\u5757\u540d.__doc__</code>\u83b7\u5f97\u3002</li> <li><code>__author__ = 'Boii'</code>\u662f\u4f5c\u8005\u3002\u53ef\u4ee5\u901a\u8fc7<code>\u6a21\u5757\u540d.__author__</code>\u83b7\u5f97\u3002</li> </ul> <p>\u6807\u51c6\u6a21\u5757\u6587\u4ef6\u6a21\u677f\u4e5f\u53ef\u4ee5\u4e0d\u5199\uff0c\u5e76\u4e0d\u5f71\u54cd\u3002</p>"},{"location":"Python/Basic/Python-No-10-Module/#name","title":"\u5bfc\u5165\u3001\u53c2\u6570\u5217\u8868\u3001name","text":"<ul> <li><code>import sys</code>\u5f15\u5165\u4e86\u5185\u7f6e\u6a21\u5757<code>sys</code></li> <li><code>args = sys.argv</code>\uff0c\u8fd9\u91cc<code>sys.argv</code>\u662f\u53c2\u6570\u5217\u8868\uff0c\u662f\u4e00\u4e2a list\uff0c\u4fdd\u5b58\u7684\u662f<code>\u901a\u8fc7\u547d\u4ee4\u6267\u884c\u672c\u6587\u4ef6\u7684\u65f6\u5019\u6240\u5e26\u7684\u53c2\u6570</code>\u3002\u4f46\u8be5 list\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u6c38\u8fdc\u662f\u6587\u4ef6\u540d\u3002<ul> <li>\u4f8b\u5982\u4e0a\u9762\u7684\u6587\u4ef6\u540d\u4e3a<code>Hello.py</code>\uff0c\u5219\u8fd0\u884c\u547d\u4ee4<code>python Hello.py</code>\u540esys,argv\u4e3a<code>['Hello.py']</code>.</li> <li>\u5982\u679c\u6267\u884c\u7684\u547d\u4ee4\u4e3a<code>python Hello.py Boii</code>\uff0c\u5219sys.argv\u4e3a<code>['Hello.py', 'Boii']</code></li> </ul> </li> <li><code>if __name__ == '__main__': test()</code>\u5982\u679c\u8fd9\u4e2a\u6587\u4ef6\u662f\u72ec\u7acb\u8fd0\u884c\u7684\uff0c\u5219 if \u4e3a True\uff0c\u5982\u679c\u8fd9\u4e2a\u6587\u4ef6\u662f\u88ab\u5bfc\u5165\u7684\uff0c\u5219 if \u4e3a False\u3002</li> </ul> <pre><code>$ python Hello.py\nHello, world!\n$ python Hello.py Boii\nHello, Boii!\n</code></pre> \u2191 \u901a\u8fc7\u547d\u4ee4\u72ec\u7acb\u8fd0\u884c\u8fd9\u4e2a\u6587\u4ef6\uff0c\u6240\u4ee5 if \u4e3a True\uff0c\u6267\u884c\u4e86 test() \u51fd\u6570 <pre><code>$ python\nPython 3.8.3\n&gt;&gt;&gt;\n&gt;&gt;&gt; import Hello\n&gt;&gt;&gt;\n&gt;&gt;&gt; Hello.test()\nHello, world!\n</code></pre> \u2191 \u901a\u8fc7\u5bfc\u5165\u7684\u65b9\u5f0f\u8fd0\u884c\u8fd9\u4e2a\u6587\u4ef6\uff0c\u6240\u4ee5 if \u4e3a False\uff0c\u6ca1\u6709\u6267\u884c test() \u51fd\u6570\uff0c\u7b49\u5230 Hello.test() \u4e3b\u52a8\u8c03\u7528\u65f6\u624d\u6267\u884c\u4e86 test() \u51fd\u6570"},{"location":"Python/Basic/Python-No-10-Module/#_3","title":"\u603b\u7ed3","text":"<p>\u4e00\u4e2a .py \u6587\u4ef6\u5c31\u662f\u4e00\u4e2a\u6a21\u5757 module \u4e00\u4e2a\u5e26\u6709 <code>__init__.py</code> \u7684\u6587\u4ef6\u5939\u5c31\u662f\u4e00\u4e2a\u5305 package</p>"},{"location":"Python/Basic/Python-No-19-File/","title":"File","text":""},{"location":"Python/Basic/Python-No-19-File/#_1","title":"\u6587\u4ef6","text":"<p>\u540c\u6b65\u548c\u5f02\u6b65\u7684\u533a\u522b\u5c31\u5728\u4e8e\u662f\u5426\u7b49\u5f85IO\u6267\u884c\u7684\u7ed3\u679c\u3002\u597d\u6bd4\u4f60\u53bb\u9ea6\u5f53\u52b3\u70b9\u9910\uff0c \u4f60\u8bf4\u201c\u6765\u4e2a\u6c49\u5821\u201d\uff0c\u670d\u52a1\u5458\u544a\u8bc9\u4f60\uff0c\u5bf9\u4e0d\u8d77\uff0c\u6c49\u5821\u8981\u73b0\u505a\uff0c\u9700\u8981\u7b495\u5206\u949f\uff0c\u4e8e\u662f\u4f60\u7ad9\u5728\u6536\u94f6\u53f0\u524d\u9762\u7b49\u4e865\u5206\u949f\uff0c\u62ff\u5230\u6c49\u5821\u518d\u53bb\u901b\u5546\u573a\uff0c\u8fd9\u662f \u540c\u6b65IO\u3002</p> <p>\u4f60\u8bf4\u201c\u6765\u4e2a\u6c49\u5821\u201d\uff0c\u670d\u52a1\u5458\u544a\u8bc9\u4f60\uff0c\u6c49\u5821\u9700\u8981\u7b495\u5206\u949f\uff0c\u4f60\u53ef\u4ee5\u5148\u53bb\u901b\u5546\u573a\uff0c\u7b49\u505a\u597d\u4e86\uff0c\u6211\u4eec\u518d\u901a\u77e5\u4f60\uff0c\u8fd9\u6837\u4f60\u53ef\u4ee5\u7acb\u523b\u53bb\u5e72\u522b\u7684\u4e8b\u60c5\uff08\u901b\u5546\u573a\uff09\uff0c\u8fd9\u662f \u5f02\u6b65IO\u3002</p> <p>\u5f88\u660e\u663e\uff0c\u4f7f\u7528\u5f02\u6b65IO\u6765\u7f16\u5199\u7a0b\u5e8f\u6027\u80fd\u4f1a\u8fdc\u8fdc\u9ad8\u4e8e\u540c\u6b65IO\uff0c\u4f46\u662f\u5f02\u6b65IO\u7684\u7f3a\u70b9\u662f\u7f16\u7a0b\u6a21\u578b\u590d\u6742\u3002\u60f3\u60f3\u770b\uff0c\u4f60\u5f97\u77e5\u9053\u4ec0\u4e48\u65f6\u5019\u901a\u77e5\u4f60\u201c\u6c49\u5821\u505a\u597d\u4e86\u201d\uff0c\u800c\u901a\u77e5\u4f60\u7684\u65b9\u6cd5\u4e5f\u5404\u4e0d\u76f8\u540c\u3002\u5982\u679c\u662f\u670d\u52a1\u5458\u8dd1\u8fc7\u6765\u627e\u5230\u4f60\uff0c\u8fd9\u662f \u56de\u8c03\u6a21\u5f0f\uff0c\u5982\u679c\u670d\u52a1\u5458\u53d1\u77ed\u4fe1\u901a\u77e5\u4f60\uff0c\u4f60\u5c31\u5f97\u4e0d\u505c\u5730\u68c0\u67e5\u624b\u673a\uff0c\u8fd9\u662f \u8f6e\u8be2\u6a21\u5f0f\u3002\u603b\u4e4b\uff0c\u5f02\u6b65IO\u7684\u590d\u6742\u5ea6\u8fdc\u8fdc\u9ad8\u4e8e\u540c\u6b65IO\u3002</p> <p>\u6587\u4ef6\u8bfb\u5199\u5176\u5b9e\u90fd\u662f\u7531\u64cd\u4f5c\u7cfb\u7edf\u5b8c\u6210\u7684\uff0c\u73b0\u4ee3\u64cd\u4f5c\u7cfb\u7edf\u662f\u4e0d\u5141\u8bb8\u666e\u901a\u7a0b\u5e8f\u76f4\u63a5\u64cd\u4f5c\u78c1\u76d8\u7684\uff0c\u6240\u4ee5\u8bfb\u5199\u6587\u4ef6\u5c31\u662f\u8bf7\u6c42\u64cd\u4f5c\u7cfb\u7edf\u6253\u5f00\u4e00\u4e2a <code>\u6587\u4ef6\u5bf9\u8c61</code>\uff08\u53c8\u79f0\uff1a\u6587\u4ef6\u63cf\u8ff0\u7b26\uff09\uff0c\u901a\u8fc7\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u7684\u63a5\u53e3\u4ece\u8fd9\u4e2a <code>\u6587\u4ef6\u5bf9\u8c61</code> \u4e2d\u8bfb\u53d6\u6570\u636e\u6216\u5199\u5165\u6570\u636e</p>"},{"location":"Python/Basic/Python-No-19-File/#io","title":"\u540c\u6b65IO","text":"<pre><code>&gt;&gt;&gt; with open(file_path, 'r/w/a') as alias:\n\u00b7\u00b7\u00b7     do sth\n</code></pre> <ul> <li><code>r</code>  \uff1a\u8bfb</li> <li><code>w</code>  \uff1a\u8986\u76d6\u5199</li> <li><code>a+</code>\uff1a\u8ffd\u52a0\u5199</li> </ul>"},{"location":"Python/Basic/Python-No-19-File/#read","title":"\u8bfb read","text":"<p>\u8bfb\u53d6\u7684\u8fc7\u7a0b\uff1a1. \u6253\u5f00\u6587\u4ef6\uff1b2. \u8bfb\u53d6\u6587\u4ef6\uff1b3. \u5173\u95ed\u6587\u4ef6</p> <ul> <li> <p>\u7b2c\u4e00\u6b65\uff1a<code>f = open('/user/boii/io_note.txt', 'r')</code>     \u7528python\u5185\u7f6e\u7684<code>open()</code>\u51fd\u6570\u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\u5bf9\u8c61\uff0c     \u7b2c\u4e00\u4e2a\u53c2\u6570\u4f20\u5165\u8bfb\u7684\u6587\u4ef6\u7684\u8def\u5f84\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4f20\u5165<code>r</code>\u4e3a\u8bfb\u53d6\u7684\u610f\u601d     \u5982\u679c\u6253\u5f00\u6210\u529f\uff0c<code>open()</code>\u4f1a\u8fd4\u56de\u4e00\u4e2a<code>\u6587\u4ef6\u5bf9\u8c61</code>\uff1b     \u5982\u679c\u6253\u5f00\u5931\u8d25\uff0c<code>open()</code>\u4f1a\u629b\u51fa\u4e00\u4e2a<code>IOError</code>\u9519\u8bef\u3002</p> </li> <li> <p>\u7b2c\u4e8c\u6b65\uff1a<code>f.read()</code>     \u901a\u8fc7<code>read()</code>\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5c06\u5168\u90e8\u5185\u5bb9\u8bfb\u53d6\u51fa\u6765\u3002</p> </li> <li> <p>\u7b2c\u4e09\u6b65\uff1a<code>f.close()</code>     \u6587\u4ef6\u6253\u5f00\u6210\u529f\u540e\uff0c\u5fc5\u987b\u4f7f\u7528<code>close()</code>\u65b9\u6cd5\u5173\u95ed\u6587\u4ef6\u3002     \u56e0\u4e3a\u6587\u4ef6\u5bf9\u8c61\u4f1a\u5360\u7528\u64cd\u4f5c\u7cfb\u7edf\u8d44\u6e90\uff0c\u4e14\u64cd\u4f5c\u7cfb\u7edf\u540c\u4e00\u65f6\u95f4\u80fd\u6253\u5f00\u7684\u6587\u4ef6\u6570\u91cf\u4e5f\u6709\u9650\u3002     \u6587\u4ef6\u6253\u5f00\u5931\u8d25\u540e\uff0c\u4f1a\u4ea7\u751f<code>IOError</code>\uff0c\u5219\u4e0d\u4f1a\u8c03\u7528<code>f.close()</code></p> </li> </ul> <p>\u7efc\u5408\u8d77\u6765\u53ef\u4ee5\u8fd9\u4e48\u5199\uff1a </p><pre><code>try:\n    f = open('/user/boii/io_note.txt', 'r')    # \u6253\u5f00\u6587\u4ef6\n    print(f.read())    # \u8bfb\u53d6\u6587\u4ef6\nexcept IOError as e:\n    print(e)\nelse:\n    f.close()    # \u5173\u95ed\u6587\u4ef6\n\n--------------------------------------------------\n\n# Output:\n# \u5982\u679c\u6587\u4ef6\u6253\u5f00\u6210\u529f\uff0c\u4f1a\u8f93\u51fa\uff08\u6587\u4ef6\u5168\u90e8\u5185\u5bb9\uff09\uff1aio\n# \u5982\u679c\u6587\u4ef6\u6253\u5f00\u5931\u8d25\uff0c\u4f1a\u8f93\u51fa\uff1a[Errno 2] No such file or directory: '/user/boii/io_note.txt'\n</code></pre><p></p> <p>\u4f46\u662f\u8fd9\u6837\u592a\u7e41\u7410\uff0c\u4e00\u70b9\u4e5f\u4e0d\u7b26\u5408Python\u4f18\u96c5\u7684\u6c14\u8d28\u3002 \u6240\u4ee5 Python \u5f15\u5165\u4e86<code>with</code>\u8bed\u53e5\u6765\u81ea\u52a8\u5e2e\u6211\u4eec\u8c03\u7528<code>close()</code>\u65b9\u6cd5</p> <pre><code>with open('/user/boii/io_note.txt', 'r') as f:\n    print(f.read())\n</code></pre>"},{"location":"Python/Basic/Python-No-19-File/#readsize","title":"\u6307\u5b9a\u5b57\u8282 read(size)","text":"<p><code>file_obj.read(size)</code></p> <p><code>read()</code>\u65b9\u6cd5\u4e0d\u586b\u5199\u53c2\u6570\uff0c\u76f4\u63a5\u8bfb\u53d6\u6587\u4ef6\u5168\u90e8\u5185\u5bb9\u3002\u5982\u679c\u4e00\u4e2a\u6587\u4ef6\u592a\u5927\uff0c\u5168\u90e8\u8bfb\u53d6\u4f1a\u7206\u5185\u5b58\u7684\u3002</p> <p>\u6240\u4ee5\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9a size \u7684\u65b9\u5f0f\u6307\u5b9a\u8bfb\u53d6 size \u4e2a\u5b57\u8282\u7684\u5185\u5bb9\u3002</p> <pre><code># io.txt\nHello Python!\nI am Boii.\nI am learning.\n\n--------------------------------------------------\n\n# io_read.py\nwith open('io.txt', 'r') as f:\n    data = f.read(8)    # \u8bfb\u53d6\u524d8\u4e2a\u5b57\u8282\n    print(data)\n\n--------------------------------------------------\n\n# Output:\nHello Py\n</code></pre>"},{"location":"Python/Basic/Python-No-19-File/#seeksize","title":"\u8df3\u8fc7\u5b57\u8282 seek(size)","text":"<p><code>file_obj.seek(size)</code></p> <p>\u901a\u8fc7 <code>seek()</code>\u53ef\u4ee5\u5728\u8bfb\u53d6\u4e4b\u524d\u8df3\u8fc7 size \u4e2a\u5b57\u8282\uff0c\u518d\u5f00\u59cb\u8bfb\u53d6</p> <pre><code># io.txt\nHello Python!\nI am Boii.\nI am learning.\n\n--------------------------------------------------\n\n# io_read.py\nwith open('io.txt', 'r') as f:\n    f.seek(3)\n    data = f.read(8)    # \u8bfb\u53d6\u524d8\u4e2a\u5b57\u8282\n    print(data)\n\n--------------------------------------------------\n\n# Output:\nlo Pytho\n</code></pre>"},{"location":"Python/Basic/Python-No-19-File/#readline","title":"\u8bfb\u53d6\u4e00\u884c readline()","text":"<p><code>file_obj.readline()</code></p> <p><code>readline()</code>\u65b9\u6cd5\u4f1a\u8bfb\u53d6\u6587\u4ef6\u7684\u4e00\u884c\uff0c\u9047\u5230<code>\\n</code>\u5c31\u8ba4\u4e3a\u662f\u4e00\u884c</p> <p></p><pre><code># io.txt\nHello Python!\nI am Boii.\nI am learning.\n\n--------------------------------------------------\n\n# io_read.py\nwith open('io.txt', 'r') as f:\n    data = f.readline()    # \u8bfb\u53d6\u7b2c\u4e00\u884c\n    print(data)\n\n--------------------------------------------------\n\n# Output:\nHello Python!\n</code></pre> \u8fd9\u6837\u53ea\u80fd\u8bfb\u53d6\u4e00\u884c\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>while</code> \u5faa\u73af\u4e00\u884c\u4e00\u884c\u7684\u8bfb\u53d6<p></p> <pre><code># io.txt\nHello Python!\nI am Boii.\nI am learning.\n\n--------------------------------------------------\n\n# io_read.py\nwith open('io.txt', 'r') as f:\n    data = f.readline()    # \u8bfb\u53d6\u7b2c\u4e00\u884c\n    while data:\n        print(data, end='')\n        data = f.readline()    # \u63a5\u7740\u8bfb\u4e0b\u4e00\u884c\n\n--------------------------------------------------\n\n# Output:\nHello Python!\nI am Boii.\nI am learning.\n</code></pre>"},{"location":"Python/Basic/Python-No-19-File/#readlines","title":"\u8bfb\u53d6\u591a\u884c readlines()","text":"<p><code>file_obj.readlines()</code></p> <p><code>readlines()</code>\u65b9\u6cd5\u4f1a\u4e00\u6b21\u6027\u8bfb\u53d6\u6587\u4ef6\u4e2d\u591a\u884c\u5185\u5bb9\uff0c\u6700\u540e\u8fd4\u56de\u4e00\u4e2a list\uff0c\u4e00\u4e2a\u5143\u7d20\u4e00\u884c\u5185\u5bb9\u3002</p> <p></p><pre><code># io.txt\nHello Python!\nI am Boii.\nI am learning.\n\n--------------------------------------------------\n\n# io_read.py\nwith open('io.txt', 'r') as f:\n    datas = f.readlines()    # \u8bfb\u53d6\u591a\u884c\n    for line in datas:\n        print(line, end='')\n\n--------------------------------------------------\n\n# Output:\nHello Python!\nI am Boii.\nI am learning.\n</code></pre> \u6548\u679c\u662f\u4e00\u6837\u7684\u3002<p></p>"},{"location":"Python/Basic/Python-No-19-File/#write","title":"\u5199 write","text":"<p>\u5199\u5165\u7684\u8fc7\u7a0b\uff1a1. \u6253\u5f00\u6587\u4ef6\uff1b2. \u5199\u5165\u6587\u4ef6\uff1b3. \u5173\u95ed\u6587\u4ef6</p> <p>\u5199\u5165\u540c\u6837\u53ef\u4ee5\u4f7f\u7528<code>with</code>\u8bed\u53e5\uff0c<code>with</code>\u8bed\u53e5\u81ea\u52a8\u4f1a\u5173\u95ed\u6587\u4ef6</p> <p>\u8bfb\u6587\u4ef6\u7684\u65f6\u5019\u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u4f1a\u629b\u51fa <code>IOError</code> \u9519\u8bef</p> <p>\u5199\u6587\u4ef6\u7684\u65f6\u5019\u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u4f1a\u521b\u5efa\u6587\u4ef6</p> <p>\u5199\u5165\u6709\u4e24\u79cd\uff0c\u4e00\u79cd\u662f\u8986\u76d6\u539f\u6709\u5185\u5bb9\u5199\u5165\u65b0\u5185\u5bb9\uff1b\u4e00\u79cd\u662f\u5728\u539f\u6709\u5185\u5bb9\u57fa\u7840\u4e0a\u8ffd\u52a0\u65b0\u5185\u5bb9\u3002</p> <p>\u8986\u76d6\u5199\u5728<code>open()</code>\u51fd\u6570\u4e2d\u8981\u4f20\u5165 <code>w</code>\uff0c\u8ffd\u52a0\u5199\u5728<code>open()</code>\u51fd\u6570\u4e2d\u8981\u4f20\u5165<code>a</code></p>"},{"location":"Python/Basic/Python-No-19-File/#wirte","title":"\u5199\u5165\u5355\u884c wirte()","text":"<pre><code># io_write.py\ncontend = '''I am the contend which be writed down into file.\nHello Python!'''\n\nwith open('io.txt', 'w') as f:\n    f.write(contend)    # \u5199\u5165\u6587\u4ef6\n\n--------------------------------------------------\n\n# io.txt\nI am the contend which be writed down into file.\nHello Python!\n</code></pre>"},{"location":"Python/Basic/Python-No-19-File/#writelines","title":"\u5199\u5165\u591a\u884c writelines()","text":"<p><code>file_obj.writelines(str)</code></p> <p>\u5f53\u6709\u591a\u884c\u8981\u5199\u5165\u7684\u65f6\u5019\uff0c\u9664\u4e86\u4e0a\u9762\u7528 <code>'''</code>\u7684\u591a\u884c\u5b57\u7b26\u4e32\uff0c\u53ef\u4ee5\u7528 <code>writelines(list)</code>\u6765\u5c06\u5185\u5bb9\u4e00\u6b21\u5199\u5165\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u63a5\u53d7\u7684\u662f\u4e00\u4e2a list \u5217\u8868 \u6216 string \u5b57\u7b26\u4e32</p> <pre><code># io_write.py\ndatas = ['Hello Python!', 'I am Boii', 'I like coding']\nwith open('io.txt', 'w') as f:\n    f.writelines(datas)    # \u5199\u5165\u6587\u4ef6\n\n--------------------------------------------------\n\n# io.txt\nHello Python!I am BoiiI like coding\n</code></pre> <p>\u8ddf\u9884\u8bbe\u7ed3\u679c\u4e0d\u4e00\u6837\uff0c\u5e76\u6ca1\u6709\u6362\u884c\u7b26\u3002\u53ef\u4ee5\u76f4\u63a5\u7ed9<code>datas</code>\u7684\u6bcf\u4e2a\u5143\u7d20\u52a0\u4e0a<code>\\n</code></p> <p>\u4f46\u662f\u8fd9\u79cd\u529e\u6cd5\u5f88\u8d39\u529b\uff0c\u4e14\u5f88\u591a\u65f6\u5019\u5185\u5bb9\u4e0d\u662f\u4f60\u51b3\u5b9a\u7684\uff0c\u8fd9\u65f6\u5019 \u5217\u8868\u751f\u6210\u5f0f \u5c31\u6392\u4e0a\u7528\u573a\u4e86\u3002</p> <pre><code># io_write.py\ndatas = ['Hello Python!', 'I am Boii', 'I like coding']\nwith open('io.txt', 'w') as f:\n    new_datas = [line + '\\n' for line in datas]\n    f.writelines(new_datas)    # \u5199\u5165\u6587\u4ef6\n\n--------------------------------------------------\n\n# io.txt\nHello Python!\nI am Boii\nI like coding\n</code></pre>"},{"location":"Python/Basic/Python-No-19-File/#_2","title":"\u8ffd\u52a0\u5199","text":"<pre><code># io_write.py\ncontend = '''I am the contend which be writed down into file.\nHello Python!'''\n\nwith open('io.txt', 'a') as f:\n    f.write(contend)    # \u5199\u5165\u6587\u4ef6\n\n--------------------------------------------------\n\n# io.txt \u7b2c\u4e00\u6b21\u6267\u884c\nI am the contend which be writed down into file.\nHello Python!\n\n# io.txt \u7b2c\u4e8c\u6b21\u6267\u884c\nI am the contend which be writed down into file.\nHello Python!I am the contend which be writed down into file.\nHello Python!\n</code></pre>"},{"location":"Python/Basic/Python-No-19-File/#_3","title":"\u6253\u5f00\u6a21\u5f0f","text":"<p>\u6253\u5f00\u6a21\u5f0f\u6709\u5f88\u591a\uff0c\u5927\u81f4\u5206\u4e3a\uff1a</p> \u5b57\u7b26 \u610f\u4e49 r \u8bfb\u53d6\uff08\u9ed8\u8ba4\uff09 w \u8986\u76d6\u5199 a \u8ffd\u52a0\u5199 x \u6392\u4ed6\u6027\u521b\u5efa\uff0c\u5982\u679c\u6587\u4ef6\u5df2\u5b58\u5728\u5219\u5931\u8d25 b \u4e8c\u8fdb\u5236\u6a21\u5f0f t \u6587\u672c\u6a21\u5f0f\uff08\u9ed8\u8ba4\uff09 + \u53ef\u8bfb\u53ef\u5199 <p>\u8868\u4e2d\u7684\u5b57\u7b26\u7ec4\u5408\u8d77\u6765\u5c31\u6709\u4e30\u5bcc\u7684\u6253\u5f00\u65b9\u5f0f</p> <ul> <li><code>r</code>\u53ea\u8bfb\uff0c<code>r+</code>\u53ef\u8bfb\u53ef\u5199\uff0c<code>rb</code>\u53ea\u8bfb\u4e00\u4e2a\u4e8c\u8fdb\u5236\u6587\u4ef6\uff08\u56fe\u7247\u97f3\u89c6\u9891\u7b49\uff09</li> <li><code>w</code>\u53ea\u8986\u76d6\u5199\uff0c<code>w+</code>\u53ef\u8bfb\u53ef\u8986\u76d6\u5199\uff0c<code>wb</code>\u53ea\u8986\u76d6\u5199\u4e00\u4e2a\u4e8c\u8fdb\u5236\u6587\u4ef6</li> <li><code>a</code>\u53ea\u8ffd\u52a0\u5199\uff0c<code>a+</code>\u53ef\u8bfb\u53ef\u8ffd\u52a0\u5199\uff0c\u4ee5\u6b64\u7c7b\u63a8</li> </ul>"},{"location":"Python/Basic/Python-No-19-File/#_4","title":"\u5b57\u7b26\u7f16\u7801","text":"<p>\u8981\u8bfb\u53d6\u975eUTF-8\u7f16\u7801\u7684\u6587\u4ef6\uff0c\u9700\u8981\u7ed9<code>open()</code>\u51fd\u6570\u4f20\u5165<code>encoding</code>\u53c2\u6570</p> <p>\u4f8b\u5982\u6253\u5f00\u4e00\u4e2aGBK\u7f16\u7801\u7684\u6587\u4ef6 </p><pre><code>&gt;&gt;&gt; with open('io.txt', 'r', encoding='gbk') as f:\n\u00b7\u00b7\u00b7    print(f.read())\nHello Python!\n</code></pre><p></p> <p>\u4f46\u6709\u65f6\u5019\u6253\u5f00\u7684\u6587\u4ef6\u7f16\u7801\u4e0d\u89c4\u8303\uff0c\u6df7\u6742\u4e86\u591a\u79cd\u7f16\u7801\u7684\u5b57\u7b26\uff0c \u800c\u6253\u5f00\u65f6\u53ea\u80fd\u6309\u4e00\u79cd\u7f16\u7801\u6253\u5f00\uff0c\u6240\u4ee5\u52bf\u5fc5\u4f1a\u9020\u6210\u4e71\u7801\u3002 \u8fd9\u79cd\u4e71\u7801\u7684\u5904\u7406\u53ef\u4ee5\u7528 <code>errors</code>\u53c2\u6570\u3002</p> <p><code>open(filepath, mode, encoding='value', errors='value')</code></p> <p><code>errors</code>\u53c2\u6570\u7684\u503c\u6709</p> <ul> <li>ignore\uff1a\u76f4\u63a5\u5ffd\u7565</li> <li>strict\uff1a\u5f15\u53d1<code>ValueError</code>\u5f02\u5e38\u3002\u4e0e\u9ed8\u8ba4\u503c<code>None</code>\u6548\u679c\u76f8\u540c</li> <li>replace_sign\uff1a\u4f1a\u5c06\u9519\u8bef\u7684\u5730\u65b9\u66ff\u6362\u4e3a\u6307\u5b9a\u7684<code>replace_sign</code>\u7b26\u53f7</li> <li>\u5176\u4ed6</li> </ul>"},{"location":"Python/Basic/Python-No-2-Basic/","title":"\u57fa\u7840","text":""},{"location":"Python/Basic/Python-No-2-Basic/#_1","title":"\u57fa\u7840","text":""},{"location":"Python/Basic/Python-No-2-Basic/#_2","title":"\u8f93\u5165 &amp; \u8f93\u51fa","text":""},{"location":"Python/Basic/Python-No-2-Basic/#_3","title":"\u8f93\u51fa","text":"<p>print('\u8f93\u51fa\u5185\u5bb9')</p> <pre><code>&gt;&gt;&gt; print(300)                         # 300\n&gt;&gt;&gt; print(100 + 200)                   # 300\n&gt;&gt;&gt; print('100 + 200 =', 100 + 200)    # 100 + 200 = 300\n&gt;&gt;&gt; print('Hello World!')              # Hello World!\n&gt;&gt;&gt; print('The quick', 'brown for', 'jumps over.')    # The quick brown for jumps over.\n</code></pre>"},{"location":"Python/Basic/Python-No-2-Basic/#_4","title":"\u8f93\u5165","text":"<p>\u627f\u63a5\u53d8\u91cf = input('\u63d0\u793a\u4fe1\u606f')</p> \u547d\u4ee4\u884c\u5f0f\u6587\u4ef6\u65b9\u5f0f <pre><code>&gt;&gt;&gt; name = input()\nBoii\n&gt;&gt;&gt; name\n'Boii'\n&gt;&gt;&gt; print(name)\nBoii\n</code></pre> <pre><code># name.py\n\nname = input('Please enter your name:')\nprint('Hello', name)\n</code></pre> <pre><code>&gt; python name.py\n\nPlease enter your name: Boii\nHello Boii\n</code></pre>"},{"location":"Python/Basic/Python-No-2-Basic/#_5","title":"\u53d8\u91cf","text":"<p>Note</p> <ol> <li>\u5927\u5c0f\u5199\u82f1\u6587\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf_</li> <li>\u4e0d\u80fd\u6570\u5b57\u5f00\u5934</li> <li>\u5927\u5c0f\u5199\u654f\u611f</li> <li>\u4e0d\u80fd\u7528\u5173\u952e\u5b57</li> <li>\u4e0d\u9700\u8981\u58f0\u660e\u7c7b\u578b</li> <li>\u7b80\u6d01\u660e\u4e86\uff0c\u4fe1\u8fbe\u96c5\u539f\u5219\u3002\u53d8\u91cf\u540d\u7528\u540d\u8bcd\uff0c\u51fd\u6570\u540d\u65b9\u6cd5\u540d\u7528\u52a8\u8bcd</li> <li>\u7531\u4e8epython\u662f\u52a8\u6001\u8bed\u8a00\uff0c\u4e0d\u9700\u8981\u58f0\u660e\u7c7b\u578b\uff0c\u6240\u4ee5\u547d\u540d\u5c3d\u91cf\u4f53\u73b0\u7c7b\u578b\u6216\u7528\u524d\u7f00\u4f53\u73b0\u3002\u5982 i_age, fPrice, b_flag</li> <li>\u614e\u7528\u5b57\u6bcdO\u548cI</li> </ol> <pre><code>a = 1        # a\u662f\u4e00\u4e2a\u6574\u578b\nb = 1.0      # b\u662f\u4e00\u4e2a\u6d6e\u70b9\u578b\nc = 'abc'    # c\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\nd = True     # d\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\ne = None     # e\u662f\u4e00\u4e2a\u7a7a\u503c\n\n# \u591a\u4e2a\u53d8\u91cf\u540c\u65f6\u8d4b\u503c\n\na = b = c = 1\n# \u4ee5\u4e0a\u8bed\u53e5, \u5185\u5b58\u4e2d\u4f1a\u521b\u5efa\u4e00\u4e2a\u7a7a\u95f4,\u503c\u4e3a1; \u518d\u521b\u5efa\u4e09\u4e2a\u7a7a\u95f4a, b, c, \u5b58\u653e1\u7684\u5730\u5740\uff0c\u5373\u6307\u54111\u90a3\u5757\u5185\u5b58\n\nx, y, z = 1, 2, \"Boii\"\n# \u4ee5\u4e0a\u8bed\u53e5, x\u4e3a1, y\u4e3a2, z\u4e3aBoii\n</code></pre>"},{"location":"Python/Basic/Python-No-2-Basic/#_6","title":"\u53d8\u91cf\u5b9e\u9645\u4e0a\u662f\u6307\u5411","text":"<pre><code>&gt;&gt;&gt; a = 'ABC'\n&gt;&gt;&gt; b = a\n&gt;&gt;&gt; a = 'XYZ'\n&gt;&gt;&gt; print(b)\nABC\n</code></pre> <p><code>a = 'ABC'</code></p> <p></p> <p><code>b = a</code></p> <p></p> <p><code>a = 'XYZ'</code></p> <p></p>"},{"location":"Python/Basic/Python-No-2-Basic/#_7","title":"\u6570\u636e\u7c7b\u578b","text":"<p>\u6570\u636e\u7c7b\u578b.md</p>"},{"location":"Python/Basic/Python-No-2-Basic/#_8","title":"\u8fd0\u7b97\u7b26","text":"<p>\u8fd0\u7b97\u7b26</p>"},{"location":"Python/Basic/Python-No-2-Basic/#_9","title":"\u7f29\u8fdb","text":"<p>Python\u4ee5\u7f29\u8fdb\u6765\u533a\u5206\u4ee3\u7801\u5757\u3002\u8fde\u7eed\u7684\u76f8\u540c\u7f29\u8fdb\u89c6\u4e3a\u540c\u4e00\u4ee3\u7801\u5757\uff0c\u540c\u4e00\u4f5c\u7528\u57df\uff0c\u5982\u540cC\u4e2d\u7684\u82b1\u62ec\u53f7\u3002</p> <p>Note</p> <p>\u6309\u7167\u7ea6\u5b9a\u4fd7\u6210\uff0c4\u4e2a\u7a7a\u683c\u4e3a\u4e00\u4e2a\u7f29\u8fdb\u3002\u5728IDE\u4e2d\u6700\u597d\u8bbe\u7f6e\u597dtab\u81ea\u52a8\u8f6c\u6362\u4e3a4\u4e2a\u7a7a\u683c</p>"},{"location":"Python/Basic/Python-No-2-Basic/#_10","title":"\u591a\u884c\u8bed\u53e5","text":"<p>\u5982\u679c\u4e00\u4e2a\u8bed\u53e5\u592a\u957f\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>\\</code> \u58f0\u660e\u6b64\u8bed\u53e5\u672a\u7ed3\u675f</p> <pre><code>total = item_one + \\\n        item_two + \\\n        item_three\n</code></pre>"},{"location":"Python/Basic/Python-No-2-Basic/#_11","title":"\u6ce8\u91ca","text":"<pre><code># \u8fd9\u662f\u5355\u884c\u6ce8\u91ca\n\n'''\n\u8fd9\u662f\u591a\u884c\u6ce8\u91ca\uff0c\u4f7f\u7528\u5355\u5f15\u53f7\n\u8fd9\u662f\u591a\u884c\u6ce8\u91ca\uff0c\u4f7f\u7528\u5355\u5f15\u53f7\n\u8fd9\u662f\u591a\u884c\u6ce8\u91ca\uff0c\u4f7f\u7528\u5355\u5f15\u53f7\n'''\n\n\"\"\"\n\u8fd9\u662f\u591a\u884c\u6ce8\u91ca\uff0c\u4f7f\u7528\u53cc\u5f15\u53f7\n\u8fd9\u662f\u591a\u884c\u6ce8\u91ca\uff0c\u4f7f\u7528\u53cc\u5f15\u53f7\n\u8fd9\u662f\u591a\u884c\u6ce8\u91ca\uff0c\u4f7f\u7528\u53cc\u5f15\u53f7\n\"\"\"\n</code></pre>"},{"location":"Python/Basic/Python-No-20-IO/","title":"IO","text":""},{"location":"Python/Basic/Python-No-20-IO/#io","title":"IO","text":"<p>Python\u7684\u81ea\u5e26\u6a21\u5757 <code>os</code> \u53ef\u4ee5\u8fdb\u884c\u8bb8\u591a\u4e0e\u64cd\u4f5c\u7cfb\u7edf\u76f8\u5173\u7684\u64cd\u4f5c\u3002</p> <p>\u4f8b\u5982 \u67e5\u770b\u5f53\u524d\u7cfb\u7edf\u7c7b\u578b</p> <pre><code>&gt;&gt;&gt; import os\n&gt;&gt;&gt; os.name\n'nt'\n</code></pre> <p><code>nt</code>\u8868\u793a<code>windows</code>\uff0c<code>posix</code>\u8868\u793a<code>Linux/Unix/Mac OS X</code></p> <p>\u5728<code>Linux/Unix/Max OS X</code>\u4e0a\u60f3\u83b7\u5f97\u66f4\u8be6\u7ec6\u7684\u4fe1\u606f\uff0c\u53ef\u4ee5\u4f7f\u7528<code>uname()</code>\uff0c\u4e0d\u8fc7\u5728<code>windows</code>\u4e0a\u4e0d\u63d0\u4f9b</p> <pre><code>&gt;&gt;&gt; import os\n&gt;&gt;&gt; os.uname()\nposix.uname_result(sysname='Darwin', nodename='MichaelMacPro.local', release='14.3.0', version='Darwin Kernel Version 14.3.0: Mon Mar 23 11:59:05 PDT 2015; root:xnu-2782.20.48~5/RELEASE_X86_64', machine='x86_64')\n</code></pre> <p>\u518d\u4f8b\u5982 \u67e5\u770b\u73af\u5883\u53d8\u91cf\uff0c<code>os.environ</code></p> <pre><code>&gt;&gt;&gt; import os\n&gt;&gt;&gt; os.environ\nenviron({'ALLUSERSPROFILE': 'C:\\\\ProgramData', 'APPDATA': 'C:\\\\Users\\\\pr919\\\\AppData\\\\Roaming', 'ASL.LOG': 'Destination=file', 'CATALINA_HOME': 'D:\\\\---Programming---\\\\IntelliJ IDEA\\\\apache-tomcat-8.5.42', ..., 'WT_SESSION': '245de0da-1ef4-4cda-93ca-c132289e2c9c'})\n</code></pre> <p>\u8fd9\u6837\u5c31\u5217\u51fa\u4e86\u6240\u6709\u73af\u5883\u53d8\u91cf\u4e86</p> <p>\u5982\u679c\u8981\u83b7\u5f97\u67d0\u4e00\u6761\uff0c\u53ef\u4ee5\u7528<code>os.environ.get('key')</code></p> <pre><code>&gt;&gt;&gt; import os\n&gt;&gt;&gt; os.environ.get('JAVA_HOME')\n'C:\\\\Program Files\\\\Java\\\\jdk1.8.0_201'\n</code></pre>"},{"location":"Python/Basic/Python-No-20-IO/#getcwd","title":"\u83b7\u5f97\u5f53\u524d\u76ee\u5f55 getcwd","text":"<p><code>os.getcwd()</code></p> <pre><code>&gt;&gt;&gt; import os\n&gt;&gt;&gt; os.getcwd()\n'C:\\\\Users\\\\pr919'\n</code></pre>"},{"location":"Python/Basic/Python-No-20-IO/#listdirwalk","title":"\u5217\u51fa\u76ee\u5f55 listdir\u3001walk","text":"<p><code>os.listdir(path)</code>\uff0c\u5355\u5c42\u5217\u51fa\uff1bpath\u53ef\u4ee5\u662f\u7edd\u5bf9\u8def\u5f84\u6216\u76f8\u5bf9\u8def\u5f84\uff0c\u4e0d\u586b\u9ed8\u8ba4\u5f53\u524d\u76ee\u5f55</p> <p><code>os.walk(path)</code>\uff0c\u904d\u5386\u5217\u51fa\uff1b</p> <p>listdir() \u5217\u51fapath\u4e0b\u4e00\u5c42\u7684\u76ee\u5f55\u548c\u6587\u4ef6\uff0c\u4e0d\u5305\u62ec\u5b50\u76ee\u5f55</p> <pre><code>&gt;&gt;&gt; import os\n&gt;&gt;&gt; os.listdir()\n&gt;&gt;&gt; os.listdir(r'D:\\---Programming---\\Python\\Python')\n['DLLs', 'Doc', 'include', 'Lib', 'libs', 'LICENSE.txt', 'NEWS.txt', 'python-3.8.3-amd64.exe', 'python.exe', 'python3.dll', 'python38.dll', 'pythonw.exe', 'Scripts', 'tcl', 'Tools', 'vcruntime140.dll', 'vcruntime140_1.dll']\n\n&gt;&gt;&gt; for i in os.listdir(r'D:\\---Programming---\\Python\\Python'):\n...     print(i)\n...\nDLLs\nDoc\ninclude\nLib\nlibs\nLICENSE.txt\nNEWS.txt\npython-3.8.3-amd64.exe\npython.exe\npython3.dll\npython38.dll\npythonw.exe\nScripts\ntcl\nTools\nvcruntime140.dll\nvcruntime140_1.dll\n</code></pre> <p>walk() \u5217\u51fapath\u4e0b\u7684\u76ee\u5f55\u548c\u6587\u4ef6\uff0c\u5305\u62ec\u5b50\u76ee\u5f55 </p><pre><code>import os\n\ncwd = os.getcwd()\nfor i in os.walk(cwd):\n    print(i, end='\\n\\n')\n\n--------------------------------------------------\n\n# Output:\n('D:\\\\Project', \n ['weather', '__pycache__'], \n ['app.config', 'io.txt', 'mo.py', 'mo2.py', 'my.log', 'test.py'])\n\n('D:\\\\Project\\\\weather',\n ['.idea', '__pycache__'],\n ['city_code.csv', 'city_code.txt', 'query.py', 'Ui_weather.py', 'weather.py', 'weather.ui'])\n\n('D:\\\\Project\\\\weather\\\\.idea',\n ['inspectionProfiles'],\n ['misc.xml', 'modules.xml', 'weather.iml', 'workspace.xml'])\n\n('D:\\\\Project\\\\weather\\\\.idea\\\\inspectionProfiles',\n [],\n ['Project_Default.xml'])\n\n('D:\\\\Project\\\\weather\\\\__pycache__',\n [],\n ['query.cpython-37.pyc', 'Ui_weather.cpython-37.pyc'])\n\n('D:\\\\Project\\\\__pycache__',\n [],\n ['mo.cpython-38.pyc', 'Person.cpython-38.pyc'])\n</code></pre><p></p> <p><code>os.walk(path)</code>\u8fd4\u56de\u7684\u662f\u4e00\u4e2a<code>\u751f\u6210\u5668 generator</code></p> <p>\u6bcf\u6b21\u8fd4\u56de\u4e00\u4e2a\u5143\u7ec4\uff0c\u5143\u7ec4\u4e2d\u5171\u6709\u4e09\u4e2a\u5143\u7d20\uff1a(root, dirs, files)</p> <ol> <li>\u7b2c\u4e00\u4e2a<code>root</code>\u662f\u4e00\u4e2astring\uff0c\u8868\u793a\u5f53\u524d\u5c42\u7684 \u8def\u5f84</li> <li>\u7b2c\u4e8c\u4e2a<code>dirs</code>\u662f\u4e00\u4e2alist\uff0c\u8868\u793a\u5f53\u524d\u5c42 \u62e5\u6709\u7684\u76ee\u5f55</li> <li>\u7b2c\u4e09\u4e2a<code>files</code>\u662f\u4e00\u4e2alist\uff0c\u8868\u793a\u5f53\u524d\u5c42 \u62e5\u6709\u7684\u6587\u4ef6</li> </ol>"},{"location":"Python/Basic/Python-No-20-IO/#mkdirmakedirs","title":"\u521b\u5efa\u76ee\u5f55 mkdir\u3001makedirs","text":"<p><code>os.mkdir(path)</code>\uff0c\u521b\u5efa\u5355\u5c42\u76ee\u5f55\uff1bpath\u53ef\u4ee5\u662f\u76f8\u5bf9\u8def\u5f84\u6216\u7edd\u5bf9\u8def\u5f84</p> <p>\u5982\u679c\u76ee\u5f55\u5df2\u5b58\u5728\uff0c\u4f1a\u629b\u51fa<code>FileExistsError</code>\u9519\u8bef\u3002</p> <pre><code># \u6807\u51c6\u521b\u5efa\u76ee\u5f55\u6d41\u7a0b\ndirpath = 'iodir'\nif not os.path.exists(dirpath):\n    os.mkdir(dirpath)\n</code></pre> <p><code>os.makedirs(dir/subdir)</code>\uff0c\u521b\u5efa\u591a\u5c42\u76ee\u5f55\uff1b</p> <p>\u5982\u679c\u76ee\u5f55\u5df2\u5b58\u5728\uff0c\u4f1a\u629b\u51fa<code>FileExistsError</code>\u9519\u8bef\u3002</p> <pre><code># \u521b\u5efa\u591a\u5c42\u76ee\u5f55\ndirpath = 'iodir/subiodir'\nif not os.path.exists(dirpath):\n    os.makedirs(dirpath)\n</code></pre>"},{"location":"Python/Basic/Python-No-20-IO/#rmdirshutilrmtree","title":"\u5220\u9664\u76ee\u5f55 rmdir\u3001shutil.rmtree","text":"<p><code>os.rmdir(path)</code>\uff0c\u5220\u9664\u7a7a\u76ee\u5f55\uff1bpath\u53ef\u4ee5\u8bf4\u76f8\u5bf9\u8def\u5f84\u6216\u7edd\u5bf9\u8def\u5f84</p> <p>\u5982\u679c\u76ee\u5f55\u4e0d\u5b58\u5728\uff0c\u4f1a\u629b\u51fa<code>FileNotFoundError</code>\u9519\u8bef\u3002</p> <p>\u5982\u679c\u76ee\u5f55\u4e0d\u4e3a\u7a7a\uff0c\u4f1a\u629b\u51fa<code>OSError</code>\u9519\u8bef\u3002</p> <pre><code># \u6807\u51c6\u5220\u9664\u76ee\u5f55\u6d41\u7a0b\nimport os\n\ndirpath = 'iodir'\nif os.path.exists(dirpath):\n    os.rmdir(dirpath)\n\n--------------------------------------------------\n\n# Output:\n\u6ca1\u4efb\u4f55\u8f93\u51fa\uff0c\u5220\u9664\u76ee\u5f55\u6210\u529f\n\n\u76ee\u5f55\u4e0b\u4e0d\u4e3a\u7a7a\uff0c\u8f93\u51fa\uff1a\nTraceback (most recent call last):\n  ...\nOSError: [WinError 145] \u76ee\u5f55\u4e0d\u662f\u7a7a\u7684\u3002: 'iodir'\n</code></pre> <p><code>shutil,rmtree(path)</code>\uff0c\u5220\u9664\u975e\u7a7a\u76ee\u5f55\uff1b</p> <p>\u5982\u679c\u76ee\u5f55\u4e0d\u5b58\u5728\uff0c\u4f1a\u629b\u51fa<code>FileNotFoundError</code>\u9519\u8bef\u3002</p> <p><code>iodir</code>\u4e0b\u6709\u4e00\u4e2a<code>io.txt</code>\u6587\u4ef6\uff0c\u6267\u884c<code>shuitl.rmtree()</code>\u5982\u4e0b</p> <pre><code>import os, shuitl\n\ndirpath = 'iodir'\nif os.path.exists(dirpath):\n    shuitl.rmtree(dirpath)\n\n--------------------------------------------------\n\n# Output:\n\u6ca1\u4efb\u4f55\u8f93\u51fa\uff0c\u5220\u9664\u76ee\u5f55\u6210\u529f\n\n\u76ee\u5f55\u4e0d\u5b58\u5728\uff0c\u8f93\u51fa\uff1a\nTraceback (most recent call last):\n  ...\nFileNotFoundError: [WinError 3] \u7cfb\u7edf\u627e\u4e0d\u5230\u6307\u5b9a\u7684\u8def\u5f84\u3002: 'iodir'\n</code></pre>"},{"location":"Python/Basic/Python-No-20-IO/#_1","title":"\u5220\u9664\u6587\u4ef6","text":"<p><code>os.remove(filename)</code>\uff1b \u5220\u9664\u5355\u4e2a\u6587\u4ef6</p> <pre><code>import os\n\nfilename = 'io.txt'\nif os.path.exists(filename):\n    os.remove(filename)\n</code></pre>"},{"location":"Python/Basic/Python-No-20-IO/#join","title":"\u8def\u5f84\u62fc\u63a5 join","text":"<p><code>os.path.join()</code></p> <p>\u4e0d\u7528\u7684\u64cd\u4f5c\u7cfb\u7edf\u8def\u5f84\u5206\u9694\u7b26\u662f\u4e0d\u540c\u7684</p> <p>\u4f8b\u5982\u5728<code>windows</code>\u4e0b\u662f<code>\\</code>\uff0c\u5728<code>Linux/Unix/Mac OS X</code>\u4e0b\u662f<code>/</code></p> <p>\u6240\u4ee5\u4fdd\u9669\u8d77\u89c1\uff0c\u5728\u62fc\u63a5\u8def\u5f84\u7684\u65f6\u5019\u7528os\u63d0\u4f9b\u7684<code>os.path.join()</code>\u51fd\u6570\u3002</p> <p>\u8fd9\u6837\u5728\u4e0d\u540c\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u8fd0\u884c\u4ee3\u7801\u7684\u65f6\u5019\u90fd\u53ef\u4ee5\u5f97\u5230\u6b63\u786e\u7684\u8def\u5f84\u62fc\u63a5\u3002</p> <pre><code>import os\n\ndir = os.path.join('gpdir', 'padir', 'subdir')\nprint(dir)\n\n--------------------------------------------------\n\n# Output in windows:\ngpdir\\padir\\subdir\n\n# Output in Linux/Unix\ngpdir/padir/subdir\n</code></pre>"},{"location":"Python/Basic/Python-No-20-IO/#split","title":"\u8def\u5f84\u62c6\u5206 split","text":"<p><code>os.path.split()</code></p> <p>\u8fd4\u56de\u503c\u662f\u4e00\u4e2a \u53cc\u5143\u7d20\u5143\u7ec4\uff0c\u7b2c\u4e00\u4e2a\u5143\u7d20\u662f\u8def\u5f84\u7684\u524d\u90e8\u5206\uff0c\u7b2c\u4e8c\u4e2a\u5143\u7d20\u662f\u6700\u540e\u7ea7\u522b\u7684\u76ee\u5f55\u6216\u6587\u4ef6\u540d</p> <pre><code>&gt;&gt;&gt; os.path.split('gpdir\\padir\\subdir')\n('gpdir\\\\padir', 'subdir')\n\n&gt;&gt;&gt; os.path.split('gpdir/padir/subdir')\n('gpdir/padir', 'subdir')\n</code></pre>"},{"location":"Python/Basic/Python-No-20-IO/#splitext","title":"\u83b7\u53d6\u6587\u4ef6\u6269\u5c55\u540d splitext","text":"<p><code>os.path.splitext()</code></p> <p>\u8fd4\u56de\u503c\u662f\u4e00\u4e2a \u53cc\u5143\u7d20\u5143\u7ec4\uff0c\u7b2c\u4e00\u4e2a\u5143\u7d20\u662f\u8def\u5f84\u524d\u90e8\u5206\uff0c\u7b2c\u4e8c\u4e2a\u5143\u7d20\u662f\u6700\u540e\u7ea7\u522b\u6587\u4ef6\u7684\u6269\u5c55\u540d</p> <pre><code>&gt;&gt;&gt; os.path.splitext('gpdir/padir/subdir/io.txt')\n('gpdir/padir/subdir/io', '.txt')\n\n&gt;&gt;&gt; os.path.splitext('gpdir/padir/subdir')\n('gpdir/padir/subdir', '')\n\n&gt;&gt;&gt; os.path.splitext('gpdir\\padir\\subdir\\io.txt')\n('gpdir\\\\padir\\\\subdir\\\\io', '.txt')\n\n&gt;&gt;&gt; os.path.splitext('gpdir\\padir\\subdir')\n('gpdir\\\\padir\\\\subdir', '')\n</code></pre>"},{"location":"Python/Basic/Python-No-20-IO/#_2","title":"\u6587\u4ef6\u3001\u76ee\u5f55\u91cd\u547d\u540d","text":"<p><code>os.rename(oldName, newName)</code></p> <p>\u53ef\u4ee5\u5bf9\u6587\u4ef6\u6216\u76ee\u5f55\u8fdb\u884c\u91cd\u547d\u540d</p> <pre><code>&gt;&gt;&gt; .rename('testdir', 'newtestdir')\n\n&gt;&gt;&gt; os.rename('test.txt', 'iotest.py')\n</code></pre>"},{"location":"Python/Basic/Python-No-20-IO/#_3","title":"\u5224\u65ad\u662f\u76ee\u5f55\u8fd8\u662f\u6587\u4ef6","text":"<p><code>os.path.isdir(path)</code></p> <p><code>os.path.isfile(path)</code></p>"},{"location":"Python/Basic/Python-No-20-IO/#_4","title":"\u793a\u4f8b","text":"<p>\u5217\u51fa\u5f53\u524d\u76ee\u5f55\u4e0b\u6240\u6709\u76ee\u5f55</p> <pre><code>&gt;&gt;&gt; [x for x in os.listdir() if os.path.isdir(x)]\n['.lein', '.local', '.m2', '.npm', '.ssh', '.vim', 'Applications', 'Desktop', ...]\n</code></pre> <p>\u5217\u51fa\u5f53\u524d\u76ee\u5f55\u4e0b\u6240\u6709<code>.py</code>\u6587\u4ef6</p> <pre><code>&gt;&gt;&gt; [x for x in os.listdir() if os.path.isfile(x) and os.path.splitext(x)[1] == '.py']\n['apis.py', 'config.py', 'models.py', 'test_db.py', 'urls.py', 'wsgiapp.py']\n</code></pre>"},{"location":"Python/Basic/Python-No-3-Judge%26Loop/","title":"\u5224\u65ad\u548c\u5faa\u73af","text":""},{"location":"Python/Basic/Python-No-3-Judge%26Loop/#_1","title":"\u63a7\u5236\u8bed\u53e5","text":"<p>Warning</p> <p>\uff01\uff01\u4e0d\u8981\u7528\u6d6e\u70b9\u6570\u6bd4\u8f83\u76f8\u7b49\uff01\uff01</p>"},{"location":"Python/Basic/Python-No-3-Judge%26Loop/#_2","title":"\u5224\u65ad","text":"<pre><code>if condition:\n    print()\nelif condition:\n    print()\nelse:\n    print()\n</code></pre> <p>Example</p> <pre><code>age = 20\n\nif age &gt; = 6:\n    print('teenager')\nelif age &gt;= 18:\n    print('adult')\nelse:\n    print('kid')\n</code></pre> <p>\u8fd8\u53ef\u4ee5\u7b80\u5199</p> <pre><code>if x:\n    print('True')\n\n\u6216\n\nif x: print('True')\n</code></pre> <p>\u53ea\u8981 x \u662f\u975e\u96f6\u6570\u503c\u3001\u975e\u7a7a\u5b57\u7b26\u4e32\u3001\u975e\u7a7alist\u3001\u975e\u7a7atuple\uff0c\u4e5f\u4e0d\u662fNone\uff0c\u5c31\u5224\u65ad\u4e3aTrue\uff0c\u5426\u5219\u4e3aFalse</p>"},{"location":"Python/Basic/Python-No-3-Judge%26Loop/#_3","title":"\u5faa\u73af","text":""},{"location":"Python/Basic/Python-No-3-Judge%26Loop/#for","title":"for","text":"<pre><code>for x in Iterable:\n   do sth\n</code></pre> <p>Example</p> <p></p><pre><code>Li = [1, 2, 3, 4, 5, 6]\nsum = 0\nfor x in Li:\n    sum += x\nprint(sum)\n\n# 21\n</code></pre> <pre><code>sum = 0\nfor x in [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]:\n    sum = sum + x\nprint(sum)\n\n#55\n</code></pre><p></p>"},{"location":"Python/Basic/Python-No-3-Judge%26Loop/#range","title":"range()","text":"<pre><code>&gt;&gt;&gt; range(5)\n0, 1, 2, 3, 4\n&gt;&gt;&gt; list(range(5))\n[0, 1, 2, 3, 4]\n</code></pre> <pre><code># \u4ece1\u52a0\u5230100\n\nsum = 0\nfor x in range(101):\n    sum = sum + x\nprint(sum)\n\n# 5050\n</code></pre>"},{"location":"Python/Basic/Python-No-3-Judge%26Loop/#while","title":"while","text":"<pre><code>while condition:\n    do sth\n</code></pre> <pre><code>sum = 0\nn = 99\n\nwhile n &gt; 0:\n    sum = sum + n\n    n = n - 2\nprint(sum)\n</code></pre>"},{"location":"Python/Basic/Python-No-3-Judge%26Loop/#break","title":"break","text":"<p>\u8df3\u51fa\u6574\u4e2a\u5faa\u73af\uff0c\u4e14\u4e0d\u6267\u884celse\u5b50\u53e5</p>"},{"location":"Python/Basic/Python-No-3-Judge%26Loop/#continue","title":"continue","text":"<p>\u8df3\u51fa\u672c\u6b21\u5faa\u73af</p>"},{"location":"Python/Basic/Python-No-3-Judge%26Loop/#else","title":"else","text":"<p>else \u5b50\u53e5\u4f1a\u5728\u5faa\u73af\u4e0d\u6ee1\u8db3\u6761\u4ef6\u9000\u51fa\u65f6\u6267\u884c</p> <p>\u4f46\u5982\u679c break \u8df3\u51fa\u5faa\u73af\u65f6\uff0c\u4e0d\u4f1a\u6267\u884celse\u5b50\u53e5</p> no breakbreak <pre><code>sum = 0\nn = 99\n\nwhile n &gt; 0:\n    sum = sum + n\n    n = n - 2\n\n\nelse:\n    print('else')    # \u5faa\u73af\u7ed3\u675f\u540e\u4f1a\u6267\u884c\u8fd9\u53e5\u8bdd\nprint(sum)\n\n--------------------------------\n\n# Output:\nelse\n2500\n</code></pre> <pre><code>sum = 0\nn = 99\n\nwhile n &gt; 0:\n    sum = sum + n\n    n = n - 2\n    if n &lt; 10:\n        break   # n \u5c0f\u4e8e 10\u7684\u65f6\u5019\u4f1a\u8df3\u51fa\u5faa\u73af\uff0c\u5e76\u4e14\u4e0d\u4f1a\u6267\u884c else \u5b50\u53e5\nelse:\n    print('else')\nprint(sum)\n\n---------------------------------\n\n# Output:\n2475\n</code></pre>"},{"location":"Python/Basic/Python-No-3-Judge%26Loop/#pass","title":"pass","text":"<p>pass \u8bed\u53e5\u4ec0\u4e48\u4e5f\u4e0d\u505a\u3002\u5f53\u8bed\u6cd5\u4e0a\u9700\u8981\u4e00\u4e2a\u8bed\u53e5\uff0c\u4f46\u7a0b\u5e8f\u9700\u8981\u4ec0\u4e48\u52a8\u4f5c\u4e5f\u4e0d\u505a\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u5b83\u3002</p> <pre><code>&gt;&gt;&gt; while True:\n...     pass  # Busy-wait for keyboard interrupt (Ctrl+C)\n\n&gt;&gt;&gt; class MyEmptyClass:\n...     pass\n\n&gt;&gt;&gt; def initlog(*args):\n...     pass   # Remember to implement this!\n</code></pre>"},{"location":"Python/Basic/Python-No-4-Data-Type/","title":"\u6570\u636e\u7c7b\u578b","text":""},{"location":"Python/Basic/Python-No-4-Data-Type/#_1","title":"\u6570\u636e\u7c7b\u578b","text":""},{"location":"Python/Basic/Python-No-4-Data-Type/#_2","title":"\u5e38\u89c1\u5185\u7f6e\u7c7b\u578b","text":"<p>Note</p> <ul> <li>\u5185\u7f6e\u7c7b\u578b\uff1a<ul> <li>None\uff08\u5168\u5c40\u53ea\u6709\u4e00\u4e2a\uff09</li> </ul> </li> <li>\u6570\u503c\u7c7b\u578b\uff1aint\u3001float\u3001complax\uff08\u590d\u6570\uff09\u3001bool</li> <li>\u8fed\u4ee3\u7c7b\u578b<ul> <li>\u5e8f\u5217\u7c7b\u578b\uff1alist\u3001bytes\u3001range\u3001tuple\u3001string\u3001array</li> <li>\u6620\u5c04\u7c7b\u578b\uff1adict</li> <li>\u96c6\u5408\u7c7b\u578b\uff1aset\u3001frozenset</li> <li>\u4e0a\u4e0b\u6587\u7ba1\u7406\u7c7b\u578b\uff1awith</li> </ul> </li> </ul> <p>\u53ef\u53d8\u7c7b\u578b\uff1alist\u3001set\u3001dict</p> <p>\u4e0d\u53ef\u53d8\u7c7b\u578b\uff1aint\u3001float\u3001string\u3001tuple</p>"},{"location":"Python/Basic/Python-No-4-Data-Type/#_3","title":"\u57fa\u672c\u6570\u636e\u7c7b\u578b","text":""},{"location":"Python/Basic/Python-No-4-Data-Type/#_4","title":"\u6574\u578b","text":"<p>\u53ef\u4ee5\u662f\u4efb\u610f\u5927\u5c0f\u7684\u6574\u6570</p> <p>\u4e0e\u6570\u5b66\u4e0a\u7684\u8868\u793a\u65b9\u6cd5\u4e00\u6837 \u5982\uff1a1\uff0c100\uff0c-800\uff0c0</p> <p>\u53ef\u4ee5\u7528\u5341\u516d\u8fdb\u5236\u8868\u793a\u6cd5 \u5982\uff1a0xFF00, 0xab54f</p>"},{"location":"Python/Basic/Python-No-4-Data-Type/#_5","title":"\u5e38\u7528\u57fa\u672c\u8fd0\u7b97","text":"<p>Note</p> <p>\u52a0\uff08+\uff09    \u51cf\uff08-\uff09    \u4e58\uff08*\uff09    \u9664\uff08/\uff09    \u6a21\uff08%\uff09</p> <pre><code>&gt;&gt;&gt; 3 + 2\n5\n&gt;&gt;&gt; 3 - 2\n1\n&gt;&gt;&gt; 3 * 2\n6\n&gt;&gt;&gt; 3 / 2\n1.5\n&gt;&gt;&gt; 2 + 3 * 4\n14\n&gt;&gt;&gt; (2 + 3) * 4\n20\n&gt;&gt;&gt; 17 % 3\n2\n</code></pre> <p>Note</p> <p>\u9664\u6cd5\u8fd0\u7b97 \uff08/\uff09\u6c38\u8fdc\u8fd4\u56de\u6d6e\u70b9\u578b</p> <pre><code>&gt;&gt;&gt; 9 / 3\n3.0\n</code></pre> <p>Note</p> <p>\u4e58\u65b9\uff08**\uff09    \u622a\u65ad\u9664\u6cd5\u3001\u6574\u6570\u9664\uff08//\uff09</p> <pre><code>&gt;&gt;&gt; 3 ** 2\n9\n&gt;&gt;&gt; 3 ** 3\n27\n&gt;&gt;&gt; 17 // 3\n5\n</code></pre> <p>Note</p> <p>\u5305\u542b\u591a\u79cd\u6df7\u5408\u7c7b\u578b\u8fd0\u7b97\u6570\u7684\u8fd0\u7b97\u4f1a\u628a\u6574\u6570\u8f6c\u6362\u4e3a\u6d6e\u70b9\u6570</p> <pre><code>&gt;&gt;&gt; 4 * 3.75 - 1\n14.0\n</code></pre>"},{"location":"Python/Basic/Python-No-4-Data-Type/#_6","title":"\u6d6e\u70b9\u6570","text":"<p>\u5373\u5c0f\u6570 \u5982\uff1a1.2\uff0c524.33\uff0c-9.11</p> <p>\u5982\u679c\u662f\u5f88\u5927\u6216\u5f88\u5c0f\u7684\u6d6e\u70b9\u6570\uff0c\u5fc5\u987b\u7528\u79d1\u5b66\u8ba1\u6570\u6cd5\u8868\u793a\uff0c\u7528<code>e+\u6307\u6570</code>\u4ee3\u66ff\u5e95\u6570 <code>10^\u6307\u6570</code>\uff0c\u5982\uff1a</p> <p>Example</p> <p>1.23\u00d710<sup>9</sup> \u5c31\u662f 1.23e9 \u6216 12.3e8\uff0c  0.000012 \u5c31\u662f 1.2e-5</p> <p>\u6d6e\u70b9\u6570\u8fd0\u7b97\u53ef\u80fd\u4f1a\u6709\u56db\u820d\u4e94\u5165\u7684\u8bef\u5dee</p>"},{"location":"Python/Basic/Python-No-4-Data-Type/#_7","title":"\u5b57\u7b26\u4e32","text":"<pre><code>str1 = 'OK'        # OK\nstr2 = \"OK\"        # OK\nstr3 = \"I'm ok.\"   # I'm ok.\nstr4 = 'I\\'m ok.'  # I'm ok.\nstr5 = \"I\\\"m ok.\"  # I\"m ok.\nstr6 = 'I\"m ok.'   # I\"m ok.\n</code></pre> <pre><code>str7 = '''\u8fd9\u662f\u4e00\u4e2a\u6bb5\u843d\uff0c\u6240\u4ee5\u53ef\u4ee5\u76f4\u63a5\u6362\u884c\uff0c\u4e0d\u9700\u53cd\u659c\u6760\u6765\u58f0\u660e\u8bed\u53e5\u672a\u7ed3\u675f\n    \u76f4\u5230\u9047\u5230\u4e0b\u4e00\u4e2a\u4e09\u5355\u5f15\u53f7\uff0c\u624d\u8ba4\u4e3a\u7ed3\u675f\n\u4f46\u662f\u6362\u884c\u4f1a\u8ddf\u7740\u6362\u884c\uff0c\u7a7a\u683c\u4f1a\u8ddf\u7740\u7a7a\u683c'''\n\n\"\"\"\nstr7\u8f93\u51fa\u4e3a\uff1a\n\n\u8fd9\u662f\u4e00\u4e2a\u6bb5\u843d\uff0c\u6240\u4ee5\u53ef\u4ee5\u76f4\u63a5\u6362\u884c\uff0c\u4e0d\u9700\u53cd\u659c\u6760\u6765\u58f0\u660e\u8bed\u53e5\u672a\u7ed3\u675f\n    \u76f4\u5230\u9047\u5230\u4e0b\u4e00\u4e2a\u4e09\u5355\u5f15\u53f7\uff0c\u624d\u8ba4\u4e3a\u7ed3\u675f\n\u4f46\u662f\u6362\u884c\u4f1a\u8ddf\u7740\u6362\u884c\uff0c\u7a7a\u683c\u4f1a\u8ddf\u7740\u7a7a\u683c\n\"\"\"\n</code></pre> <pre><code>\\n \u6362\u884c    \\t \u7f29\u8fdb\n\n# \u4f7f\u7528\u8f6c\u4e49\u5b57\u7b26\nstr8 = 'ab\\ncd'\n\n'''\nstr8\u8f93\u51fa\u4e3a\uff1a\nab\ncd\n'''\n</code></pre> <pre><code>r'\u5b57\u7b26\u4e32' \u8868\u793a\u4e0d\u8f6c\u4e49\n\n# \u4e0d\u8f6c\u4e49\nstr9 = r'ab\\ncd'    # ab\\ncd\n</code></pre> \u8f6c\u4e49\u5b57\u7b26 \u8f6c\u4e49\u5b57\u7b26 \u63cf\u8ff0 \\ \u7eed\u884c\u7b26 \\ \u53cd\u659c\u6760 \\' \u5355\u5f15\u53f7 \\\" \u53cc\u5f15\u53f7 \\a \u54cd\u94c3 \\b \u9000\u683c \\e \u8f6c\u4e49 \\000 \u7a7a \\n \u6362\u884c \\v \u7eb5\u5411\u5236\u8868\u7b26 \\t \u6a2a\u5411\u5236\u8868\u7b26 \\r \u56de\u8f66 \\f \u6362\u9875 \\o \u516b\u8fdb\u5236 \\x \u5341\u516d\u8fdb\u5236"},{"location":"Python/Basic/Python-No-4-Data-Type/#_8","title":"\u5e03\u5c14\u503c","text":"<p><code>True</code> <code>False</code></p> <p>\u53ef\u4ee5\u7528 <code>and</code> , <code>or</code> , <code>not</code> \u8fd0\u7b97</p>"},{"location":"Python/Basic/Python-No-4-Data-Type/#_9","title":"\u7a7a\u503c","text":"<p>\u7a7a\u503c\u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u503c\uff0c\u7528 <code>None</code> \u8868\u793a\u3002<code>None</code> \u4e0d\u7b49\u4e8e <code>0</code>\uff0c<code>0</code> \u662f\u6709\u610f\u4e49\u7684. \u5168\u5c40\u53ea\u6709\u4e00\u4e2aNone</p>"},{"location":"Python/Basic/Python-No-4-Data-Type/#_10","title":"\u590d\u5408\u6570\u636e\u7c7b\u578b","text":""},{"location":"Python/Basic/Python-No-4-Data-Type/#list","title":"\u5217\u8868 List","text":"<p>Note</p> <p>\u4e00\u79cd<code>\u6709\u5e8f\u7684\u3001\u53ef\u53d8\u7684</code> \u5143\u7d20\u96c6\u5408</p> <p>\u7528 <code>[ ]</code> \u6807\u8bc6</p> <p>\u53ef\u968f\u673a\u6dfb\u52a0\u548c\u5220\u9664\u5176\u4e2d\u7684\u5143\u7d20</p> <p>\u53ef\u7406\u89e3\u4e3a\u53ef\u53d8\u7684\u6570\u7ec4</p> <p>\u662f\u4e00\u79cd\u590d\u5408\u6570\u636e\u7c7b\u578b</p> <p>List \u4e2d\u7684\u5143\u7d20\u53ef\u4ee5\u4e0d\u540c\u7c7b\u578b</p> <p>\u533a\u522b\u4e8e\u5143\u7ec4Tuple\uff1aList \u4e2d\u7684\u5143\u7d20\u53ef\u53d8</p> <pre><code>&gt;&gt;&gt; name = ['Alice', 'Boii', 'Chen', 'Dannie', 'Eva']\n&gt;&gt;&gt; print(name)\n['Alice', 'Boii', 'Chen', 'Dannie', 'Eva']\n</code></pre>"},{"location":"Python/Basic/Python-No-4-Data-Type/#list_1","title":"List\u7d22\u5f15","text":"<pre><code>|  P  |  y  |  t  |  h  |  o  |  n  |\n   0     1     2     3     4     5            # \u4ece\u5de6\u5f80\u53f3\uff0c\u4e0b\u6807\u4ece0\u5f00\u59cb\n  -6    -5    -4    -3    -2    -1            # \u4ece\u53f3\u5f80\u5de6\uff0c\u4e0b\u6807\u4ece-1\u5f00\u59cb\n</code></pre>"},{"location":"Python/Basic/Python-No-4-Data-Type/#list_2","title":"List\u7684\u589e\u5220\u6539\u67e5","text":""},{"location":"Python/Basic/Python-No-4-Data-Type/#_11","title":"\u521d\u59cb\u5316","text":"<p><code>listName = [element1, element2, element3, ...]</code></p> <p>Note</p> \u589e\u5220\u6539\u67e5\u83b7\u5f97\u957f\u5ea6 len() <ul> <li>\u8ffd\u52a0\u5230\u672b\u5c3e append</li> </ul> <p><code>listName.append(value)</code></p> <pre><code>&gt;&gt;&gt; name = ['Alice', 'Boii', 'Chen', 'Dannie', 'Eva']\n&gt;&gt;&gt; name.append('Fit')\n&gt;&gt;&gt; name\n['Alice', 'Boii', 'Chen', 'Dannie', 'Eva', 'Fit']\n</code></pre> <ul> <li>\u63d2\u5165\u5230\u6307\u5b9a\u4f4d\u7f6e insert</li> </ul> <p><code>listName.insert(index, value)</code></p> <pre><code>&gt;&gt;&gt; name = ['Alice', 'Boii', 'Chen', 'Dannie', 'Eva']\n&gt;&gt;&gt; name.insert(3, 'Fit')\n&gt;&gt;&gt; name\n['Alice', 'Boii', 'Chen', 'Fit', 'Dannie', 'Eva']\n</code></pre> <ul> <li>\u5220\u9664\u672b\u5c3e\u5143\u7d20 pop <code>listName.pop()</code></li> </ul> <pre><code>&gt;&gt;&gt; name = ['Alice', 'Boii', 'Chen', 'Dannie', 'Eva']\n&gt;&gt;&gt; \n&gt;&gt;&gt; name.pop()\n'Eva'\n&gt;&gt;&gt; name\n['Alice', 'Boii', 'Chen', 'Dannie']\n</code></pre> <ul> <li>\u5220\u9664\u6307\u5b9a\u4f4d\u7f6e\u5143\u7d20 pop <code>listName.pop(index)</code> \u6216 <code>del listName[index]</code></li> </ul> <pre><code>&gt;&gt;&gt; name = ['Alice', 'Boii', 'Chen', 'Dannie', 'Eva']\n&gt;&gt;&gt; name.pop(3)\n'Dannie'\n&gt;&gt;&gt; name\n['Alice', 'Boii', 'Chen', 'Eva']\n&gt;&gt;&gt; del name[2]\n['Alice', 'Boii', 'Eva']\n</code></pre> <p>\u4fee\u6539\u67d0\u4e2a\u5143\u7d20\uff0c\u76f4\u63a5\u7ed9\u8be5\u5143\u7d20\u8d4b\u65b0\u503c\u5373\u53ef\u3002<code>listName[index] = value</code></p> <pre><code>&gt;&gt;&gt; name = ['Alice', 'Boii', 'Chen', 'Dannie', 'Eva']\n&gt;&gt;&gt; \n&gt;&gt;&gt; name[2] = 'Cai'\n&gt;&gt;&gt; name\n['Alice', 'Boii', 'Cai', 'Dannie', 'Eva']\n</code></pre> <p>\u4f7f\u7528\u4e0b\u6807\u6765\u8bbf\u95eeList\u4e2d\u7684\u5143\u7d20\u3002 <code>listName[index]</code></p> <pre><code>name = ['Alice', 'Boii', 'Chen', 'Dannie', 'Eva']\n\nprint(name[0])    # 'Alice' \u8bbf\u95eeList\u7b2c\u4e00\u4e2a\u5143\u7d20\nprint(name[1])    # 'Boii'  \u8bbf\u95eeList\u7b2c\u4e8c\u4e2a\u5143\u7d20\nprint(name[-1])   # 'Eva'   \u8bbf\u95eeList\u6700\u540e\u4e00\u4e2a\u5143\u7d20\n</code></pre> <p><code>len(List\u540d)</code></p> <pre><code>&gt;&gt;&gt; name = ['Alice', 'Boii', 'Chen', 'Dannie', 'Eva']\n&gt;&gt;&gt; len(name)\n5\n</code></pre>"},{"location":"Python/Basic/Python-No-4-Data-Type/#list_3","title":"List\u4e2d\u5143\u7d20\u53ef\u4ee5\u4e0d\u540c\u7c7b\u578b","text":"<pre><code>&gt;&gt;&gt; L = ['Boii', 23, True, 'https://tcp404.com']\n&gt;&gt;&gt; L\n['Boii', 23, True, 'https://tcp404.com']\n</code></pre>"},{"location":"Python/Basic/Python-No-4-Data-Type/#listlist","title":"List\u5d4c\u5957List","text":"<p>\u7c7b\u4f3c\u4e8e\u591a\u7ef4\u6570\u7ec4\u7684\u6982\u5ff5</p> <pre><code>&gt;&gt;&gt; l_main = ['Boii', 23, ['https://', 'tcp404', '.com'], 443]\n&gt;&gt;&gt; len(l_main)\n4\n&gt;&gt;&gt; len(l_main[2])\n3\n</code></pre> <p>\u7b49\u4ef7\u4e8e</p> <pre><code>&gt;&gt;&gt; l_sub =  ['https://', 'tcp404', '.com']\n&gt;&gt;&gt; l_main = ['Boii', 23, l_sub, 443]\n\n#\u83b7\u53d6 tcp404 \u53ef\u4ee5\u7528\u4ee5\u4e0b\u65b9\u5f0f\n\n&gt;&gt;&gt; l_main[2][1]\n'tcp404'\n</code></pre>"},{"location":"Python/Basic/Python-No-4-Data-Type/#list_4","title":"\u7a7aList","text":"<pre><code>&gt;&gt;&gt; L = []\n&gt;&gt;&gt; len(L)\n0\n&gt;&gt;&gt; li = list()\n&gt;&gt;&gt; len(li)\n0\n</code></pre>"},{"location":"Python/Basic/Python-No-4-Data-Type/#tuple","title":"\u5143\u7ec4 Tuple","text":"<p>Note</p> <p>\u4e00\u79cd <code>\u6709\u5e8f\u7684\u3001\u4e0d\u53ef\u53d8\u7684</code> \u5143\u7d20\u96c6\u5408</p> <p>\u7528 <code>( )</code> \u6807\u8bc6</p> <p>Tuple\u4e2d\u7684\u5143\u7d20\u4e00\u65e6\u521d\u59cb\u5316\u5c31\u4e0d\u53ef\u53d8</p> <p>\u53ef\u7406\u89e3\u4e3a\u4e0d\u53ef\u53d8\u7684\u6570\u7ec4</p> <p>\u662f\u4e00\u79cd\u590d\u5408\u6570\u636e\u7c7b\u578b</p> <p>Tuple\u4e2d\u7684\u5143\u7d20\u53ef\u4ee5\u4e0d\u540c\u7c7b\u578b</p> <p>\u533a\u522b\u4e8eList\uff1aTuple \u4e2d\u7684\u5143\u7d20 <code>\u4e0d\u53ef\u53d8</code></p>"},{"location":"Python/Basic/Python-No-4-Data-Type/#_12","title":"\u521d\u59cb\u5316","text":"<p><code>tupleName = (elem1, elem2, elem3, ...)</code></p>"},{"location":"Python/Basic/Python-No-4-Data-Type/#tuple_1","title":"Tuple\u7d22\u5f15","text":"<pre><code>|  P  |  y  |  t  |  h  |  o  |  n  |\n   0     1     2     3     4     5            # \u4ece\u5de6\u5f80\u53f3\uff0c\u4e0b\u6807\u4ece0\u5f00\u59cb\n  -6    -5    -4    -3    -2    -1            # \u4ece\u53f3\u5f80\u5de6\uff0c\u4e0b\u6807\u4ece-1\u5f00\u59cb\n</code></pre>"},{"location":"Python/Basic/Python-No-4-Data-Type/#tuple_2","title":"Tuple\u7684\u589e\u5220\u6539\u67e5","text":"<p>Tuple\u4e0d\u53ef\u53d8\uff0c\u6240\u4ee5\u4e0d\u53ef\u4ee5 \u589e\u52a0\u3001\u5220\u9664\u3001\u4fee\u6539\uff0c\u53ea\u80fd\u67e5\u8be2</p> <p>\u67e5\u8be2\u4e0eList\u76f8\u540c</p> \u67e5 <p><code>tupleName[index]</code></p> <pre><code>&gt;&gt;&gt; T = (1, 2, 'Boii')\n&gt;&gt;&gt; T[2]\n'Boii'\n&gt;&gt;&gt; T[0]\n1\n&gt;&gt;&gt; T\n(1, 2, 'Boii')\n</code></pre>"},{"location":"Python/Basic/Python-No-4-Data-Type/#tuple_3","title":"\u7a7aTuple ()","text":"<pre><code>&gt;&gt;&gt; tr = ()\n&gt;&gt;&gt; tr\n()\n</code></pre>"},{"location":"Python/Basic/Python-No-4-Data-Type/#tuple-element","title":"\u5b9a\u4e49\u5355\u5143\u7d20\u7684Tuple (element\uff0c)","text":"<p>\u4e3a\u907f\u514d\u4e0e\u6570\u5b66\u7684\u62ec\u53f7\u6df7\u6dc6\uff0c\u5b9a\u4e49\u4e00\u4e2a\u5143\u7d20\u7684Tuple\u65f6\uff0c\u8981\u5728\u5143\u7d20\u540e\u52a0\u4e0a\u9017\u53f7</p> <pre><code>&gt;&gt;&gt; tr = ('Boii',)\n&gt;&gt;&gt; tr\n('Boii',)\n</code></pre> <p>\u4e14\u5728python\u89e3\u91ca\u4e2d\uff1a</p> <ul> <li><code>tr = (1)</code> \u4f1a\u88ab\u8ba4\u4e3a\u662f tr = 1, tr \u5c31\u53d8\u6210\u4e00\u4e2a\u666e\u901a\u7684\u6574\u578b\u53d8\u91cf</li> <li><code>tr = ('Boii')</code> \u4f1a\u88ab\u8ba4\u4e3a\u662f tr = 'Boii', tr \u5c31\u53d8\u6210\u4e00\u4e2a\u666e\u901a\u7684\u5b57\u7b26\u4e32\u53d8\u91cf</li> </ul> <pre><code>&gt;&gt;&gt; tr = (1)        # \u7b49\u4ef7\u4e8e tr = 1\n&gt;&gt;&gt; tr\n1\n&gt;&gt;&gt; tr = ('Boii')   # \u7b49\u4ef7\u4e8e tr = 'Boii'\n&gt;&gt;&gt; tr\n'Boii'\n&gt;&gt;&gt; \n&gt;&gt;&gt; \n&gt;&gt;&gt; tr = ('Boii',)  # \u221a \u6b63\u786e\u5b9a\u4e49\u5355\u5143\u7d20Tuple\n&gt;&gt;&gt; tr\n('Boii',)\n</code></pre>"},{"location":"Python/Basic/Python-No-4-Data-Type/#tuple_4","title":"Tuple\u4e0d\u53ef\u53d8\u7684\u610f\u4e49","text":"<p>\u56e0\u4e3atuple\u4e0d\u53ef\u53d8\uff0c\u6240\u4ee5\u4ee3\u7801\u66f4\u5b89\u5168\u3002\u5982\u679c\u53ef\u80fd\uff0c\u80fd\u7528 tuple \u4ee3\u66ff list \u5c31\u5c3d\u91cf\u7528 tuple\u3002</p>"},{"location":"Python/Basic/Python-No-4-Data-Type/#tuple_5","title":"\uff01\uff01\uff01\u4e0d\u53ef\u53d8Tuple\u4e2d\u7684\u53ef\u53d8\u5143\u7d20","text":"<p>Tuple\u7684\u4e0d\u53ef\u53d8\u6307\u7684\u662fTuple\u6307\u5411\u7684\u5143\u7d20\u4e0d\u53ef\u53d8</p> <p>\u5982\u679c\u5143\u7d20\u4e2d\u6709 <code>\u53ef\u53d8\u7684List</code> \uff0c\u90a3\u4e48 Tuple \u4f9d\u7136\u53ef\u4ee5\u4fee\u6539</p> <pre><code>&gt;&gt;&gt; t = ('a', 'b', ['A', 'B'])\n&gt;&gt;&gt; t[2][0] = 'X'\n&gt;&gt;&gt; t[2][1] = 'Y'\n&gt;&gt;&gt; t\n('a', 'b', ['X', 'Y'])\n</code></pre> <p>\u5b9a\u4e49 Tuple \u65f6</p> <p></p> <p>\u4fee\u6539 Tuple \u7684\u5143\u7d20\u540e</p> <p></p>"},{"location":"Python/Basic/Python-No-4-Data-Type/#dict","title":"\u5b57\u5178 Dict","text":"<p>Note</p> <p>\u4e00\u79cd <code>\u65e0\u5e8f\u7684\u3001\u53ef\u53d8\u7684</code> \u952e-\u503c\u5bf9\u96c6\u5408</p> <p>\u7528 <code>{ }</code> \u6807\u8bc6</p> <p>\u952ekey \u5fc5\u987b\u662f\u4e0d\u53ef\u53d8\u5bf9\u8c61 \uff08\u5982\u5b57\u7b26\u4e32\u3001\u6574\u6570\u3002\u800clist\uff0ctuple\u8fd9\u4e9b\u4e0d\u53ef\u4ee5\u4f5c\u4e3akey\uff09</p> <p>\u952ekey \u4e0d\u53ef\u4ee5\u91cd\u590d</p> <p>\u952ekey \u53ef\u4ee5\u4e0d\u540c\u7c7b\u578b\uff0c\u4f46\u4e0d\u5efa\u8bae</p> <p>\u952ekey \u53ef\u4ee5\u662f\u53d8\u91cf\uff0c\u4f46\u662f\u8fd9\u4e2a\u53d8\u91cf\u5fc5\u987b\u6307\u5411\u5b57\u7b26\u4e32\u3001\u6574\u6570\u8fd9\u7c7b\u4e0d\u53ef\u53d8\u5bf9\u8c61</p> <p>Dictionary VS List</p> <ol> <li> <p>Dict \u67e5\u627e\u548c\u63d2\u5165\u7684\u901f\u5ea6\u6781\u5feb\uff0c\u4e0d\u4f1a\u968f\u7740key\u7684\u589e\u52a0\u800c\u53d8\u6162\uff1b</p> </li> <li> <p>Dict \u9700\u8981\u5360\u7528\u5927\u91cf\u7684\u5185\u5b58\uff0c\u5185\u5b58\u6d6a\u8d39\u591a\u3002</p> </li> <li> <p>List \u67e5\u627e\u548c\u63d2\u5165\u7684\u65f6\u95f4\u968f\u7740\u5143\u7d20\u7684\u589e\u52a0\u800c\u589e\u52a0\uff1b</p> </li> <li> <p>List \u5360\u7528\u7a7a\u95f4\u5c0f\uff0c\u6d6a\u8d39\u5185\u5b58\u5f88\u5c11\u3002</p> </li> </ol>"},{"location":"Python/Basic/Python-No-4-Data-Type/#_13","title":"\u521d\u59cb\u5316","text":"<p><code>dictName = { key1 : value1, key2 : value2, key3 : value3, ... }</code></p> <pre><code>d = {'a': 1, 'b': 2, 'c': 3, 'd': 4}\n\n# \u952e\u53ef\u4ee5\u4e0d\u540c\u7c7b\u578b\ndd = {'a':'Alice', 'b':'Boii', 18:'Kk'}\n</code></pre>"},{"location":"Python/Basic/Python-No-4-Data-Type/#dict_1","title":"Dict\u7d22\u5f15","text":"<p>Dict\u7684\u7d22\u5f15\u5c31\u662f \u952ekey\u3002</p>"},{"location":"Python/Basic/Python-No-4-Data-Type/#dict_2","title":"Dict\u7684\u589e\u5220\u6539\u67e5\u548c\u5224\u65ad","text":"<p>Note</p> \u589e\u5220 pop\u3001del\u6539\u67e5 get\u5224\u65ad in\u3001not in <p><code>dictName[key] = value</code></p> <pre><code>&gt;&gt;&gt; d = {'a': 1, 'b': 2, 'c': 3, 'd': 4}\n&gt;&gt;&gt; d['AC'] = 'diu'\n&gt;&gt;&gt; d\n{'a': 1, 'b': 2, 'c': 3, 'd': 4, 'AC':'diu'}\n\n# \u4f7f\u7528\u53d8\u91cf\u4f5c\u4e3akey\n&gt;&gt;&gt; d = {'a': 1, 'b': 2, 'c': 3, 'd': 4}\n&gt;&gt;&gt; a = 'x'\n&gt;&gt;&gt; d[a] = 'what'\n&gt;&gt;&gt; d\n{'a': 1, 'b': 2, 'c': 3, 'd': 4, 'x':'what'}\n</code></pre> <p><code>dictName.pop(key)</code> \u6216 <code>del dictName[key]</code></p> <pre><code>&gt;&gt;&gt; d = {'a': 1, 'b': 2, 'c': 3, 'd': 4}\n&gt;&gt;&gt; d.pop('a')\n{'b': 2, 'c': 3, 'd': 4}\n\n&gt;&gt;&gt; del d['c']\n{'b': 2, 'd': 4}\n</code></pre> <p><code>dictName[key] = newValue</code></p> <p>\u56e0\u4e3akey\u4e0d\u80fd\u91cd\u590d\uff0c\u6240\u4ee5\u5982\u679ckey\u4e0d\u5b58\u5728\uff0c\u4f1a\u53d8\u6210\u6dfb\u52a0\uff0c\u5982\u679ckey\u5b58\u5728\uff0cnewValue\u4f1a\u8986\u76d6oldValue</p> <pre><code>&gt;&gt;&gt; d = {'a': 1, 'b': 2, 'c': 3, 'd': 4}\n&gt;&gt;&gt; d['a'] = 25\n&gt;&gt;&gt; d\n{'a': 25, 'b': 2, 'c': 3, 'd': 4}\n&gt;&gt;&gt; d['e'] = 15\n&gt;&gt;&gt; d\n{'a': 25, 'b': 2, 'c': 3, 'd': 4, 'e': 15}\n</code></pre> <p><code>dictName.get(key)</code></p> <p>\u5982\u679ckey\u5b58\u5728\uff0c\u8fd4\u56de\u5bf9\u5e94\u7684value</p> <p>\u5982\u679ckey\u4e0d\u5b58\u5728\uff0c\u8fd4\u56deNone</p> <pre><code>d = {'a': 1, 'b': 2, 'c': 3, 'd': 4}\nd.get('a')       # 1\nd.get('z')       # None\n</code></pre> <p><code>dictName.get(key, return)</code></p> <p>\u5982\u679ckey\u5b58\u5728\uff0c\u8fd4\u56de\u5bf9\u5e94\u7684value</p> <p>\u5982\u679ckey\u4e0d\u5b58\u5728\uff0c\u8fd4\u56de\u6307\u5b9a\u7684\u8fd4\u56de\u503creturn\uff0creturn\u53ef\u4ee5\u662f\u6574\u578b\u3001\u5b57\u7b26\u4e32\uff0c\u751a\u81f3\u662fList\u7b49</p> <pre><code>&gt;&gt;&gt; d = {'a': 1, 'b': 2, 'c': 3, 'd': 4}\n&gt;&gt;&gt; \n&gt;&gt;&gt; d.get('z', 0)\n0\n&gt;&gt;&gt; d.get('z', 'No This Key')\n'No This Key'\n&gt;&gt;&gt; d.get('z', [0, 0])\n[0, 0]\n&gt;&gt;&gt; d.get('z', {1:'a', 2:'b'})\n{1:'a', 2:'b'}\n</code></pre> <p><code>key in dictName</code></p> <pre><code>&gt;&gt;&gt; d = {'a': 25, 'b': 2, 'c': 3, 'd': 4}\n&gt;&gt;&gt; 'b' in d\nTrue\n&gt;&gt;&gt; 'z' in d\nFalse\n</code></pre>"},{"location":"Python/Basic/Python-No-4-Data-Type/#set","title":"\u96c6\u5408 Set","text":"<p>Note</p> <p>\u4e00\u79cd <code>\u65e0\u5e8f\u7684\u3001\u4e0d\u91cd\u590d\u7684\u3001\u53ef\u53d8\u7684</code> \u7684\u5143\u7d20\u7684\u96c6\u5408</p> <p>\u7528 <code>set([ ])</code> \u6216 <code>{key, key, ...}</code> \u6807\u8bc6</p> <p>\u7c7b\u4f3c\u6570\u5b66\u6982\u5ff5\u4e2d\u7684\u96c6\u5408</p> <p>\u53ef\u4ee5\u901a\u8fc7 Dict \u6765\u7406\u89e3\uff1aSet \u662f\u4e00\u79cd\u4e0d\u5b58\u50a8 value \u7684 Dict\uff08\u56e0\u4e3akey\u4e0d\u80fd\u91cd\u590d\uff09</p> <p>\u662f\u4e00\u79cd\u590d\u5408\u6570\u636e\u7c7b\u578b</p> <p>Set \u4e2d\u7684\u5143\u7d20\u53ef\u4ee5\u4e0d\u540c\u7c7b\u578b</p>"},{"location":"Python/Basic/Python-No-4-Data-Type/#set_1","title":"Set\u7d22\u5f15","text":"<p>Set \u662f\u65e0\u5e8f\u7684\uff0c\u6240\u4ee5\u6ca1\u6709\u7d22\u5f15\uff0c\u53ea\u6709\u5143\u7d20\uff0c\u6216\u8005\u8bf4\u53ea\u6709key</p>"},{"location":"Python/Basic/Python-No-4-Data-Type/#_14","title":"\u521d\u59cb\u5316","text":"<p><code>setName = set(key_list)</code> \u6216 <code>setName = {key1, key2, key3, ...}</code></p> <pre><code>&gt;&gt;&gt; s1 = set([1, 2, 3, 'a', (32, 'a', False), 55])\n&gt;&gt;&gt; s1\n{1, 2, 3, 55, (32, 'a', False), 'a'}\n\n&gt;&gt;&gt; s2 = set('abadfgaae')\n&gt;&gt;&gt; s2\n{'g', 'b', 'e', 'f', 'd', 'a'}\n\n&gt;&gt;&gt; s3 = {1,2,3,4,4,4,5,5}\n&gt;&gt;&gt; s3\n{1, 2, 3, 4, 5}\n</code></pre>"},{"location":"Python/Basic/Python-No-4-Data-Type/#set_2","title":"Set\u7684\u589e\u5220\u6539\u67e5","text":"<p>Note</p> \u589e add\u3001update\u5220\u9664 remove\u3001discard\u3001pop\u6539 remove + add\u67e5 <p><code>setName.add(key)</code> \u53ea\u80fd\u6dfb\u52a0\u57fa\u672c\u6570\u636e\u7c7b\u578b</p> <p><code>setName.update(key)</code> \u53ef\u4ee5\u6dfb\u52a0\u57fa\u672c\u6570\u636e\u7c7b\u578b\u548c\u590d\u5408\u6570\u636e\u7c7b\u578b</p> <pre><code>&gt;&gt;&gt; s3 = set([1,2,3,4,4,4,5,5])\n\n&gt;&gt;&gt; s3.add(7)\n&gt;&gt;&gt; s3\n{1, 2, 3, 4, 5, 7}\n\n&gt;&gt;&gt; s3.update(['a', 'b'])\n&gt;&gt;&gt; s3\n{1, 2, 3, 4, 5, 7, 'a', 'b'}\n</code></pre> <p><code>setName.remove(key)</code> \u5220\u9664\u6307\u5b9a\u5143\u7d20\uff0c\u5982\u679c\u5143\u7d20\u4e0d\u5b58\u5728\u4f1a\u5b58\u5728\u9519\u8bef</p> <p><code>setName.discard(key)</code> \u5220\u9664\u6307\u5b9a\u5143\u7d20\uff0c\u5982\u679c\u5143\u7d20\u4e0d\u5b58\u5728\u4e0d\u4f1a\u5b58\u5728\u9519\u8bef</p> <p><code>setName.pop()</code> \u968f\u673a\u5220\u9664\u4e00\u4e2a\u5143\u7d20</p> <pre><code>&gt;&gt;&gt; s = set([1, 2, 3, 4, 7, 4, 15, 4, 5, 5])\n&gt;&gt;&gt; s\n{1, 2, 3, 4, 5, 7, 15}\n\n&gt;&gt;&gt; s.remove(5)\n&gt;&gt;&gt; s\n{1, 2, 3, 4, 7, 15}\n&gt;&gt;&gt; s.remove(20)\nTraceback (most recent call last):\nFile \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nKeyError: 20\n\n&gt;&gt;&gt; s.discard(15)\n&gt;&gt;&gt; s\n{1, 2, 3, 4, 7}\n&gt;&gt;&gt; s.discard(20)\n&gt;&gt;&gt;\n\n&gt;&gt;&gt; s.pop()\n4\n&gt;&gt;&gt; s\n{2, 3, 1, 7}\n&gt;&gt;&gt; s.pop()\n3\n&gt;&gt;&gt; s\n{2, 1, 7}\n&gt;&gt;&gt; s.pop()\n2\n&gt;&gt;&gt; s\n{1, 7}\n</code></pre> <p>Set \u4e2d\u6ca1\u6709\u6539\u7684\u529e\u6cd5\uff0c\u56e0\u4e3a\u96c6\u5408\u662f\u65e0\u5e8f\u7684\uff0c\u6539\u4e00\u4e2a\u5143\u7d20\u6ca1\u6709\u610f\u4e49</p> <p>\u53ea\u80fd\u5220\u9664\u8981\u6539\u7684key\uff0c\u7136\u540e\u6dfb\u52a0\u65b0\u7684key</p> <p><code>setName.remove(key)</code> \u6216 <code>setName.add(key)</code></p>"},{"location":"Python/Basic/Python-No-4-Data-Type/#_15","title":"\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362","text":"\u51fd\u6570 \u63cf\u8ff0 int(x [,base]) \u5c06x\u8f6c\u6362\u4e3a\u4e00\u4e2a\u6574\u6570 long(x [,base] ) \u5c06x\u8f6c\u6362\u4e3a\u4e00\u4e2a\u957f\u6574\u6570 float(x) \u5c06x\u8f6c\u6362\u5230\u4e00\u4e2a\u6d6e\u70b9\u6570 complex(real [,imag]) \u521b\u5efa\u4e00\u4e2a\u590d\u6570 str(x) \u5c06\u5bf9\u8c61 x \u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32 repr(x) \u5c06\u5bf9\u8c61 x \u8f6c\u6362\u4e3a\u8868\u8fbe\u5f0f\u5b57\u7b26\u4e32 eval(str) \u7528\u6765\u8ba1\u7b97\u5728\u5b57\u7b26\u4e32\u4e2d\u7684\u6709\u6548Python\u8868\u8fbe\u5f0f,\u5e76\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61 tuple(s) \u5c06\u5e8f\u5217 s \u8f6c\u6362\u4e3a\u4e00\u4e2aTuple list(s) \u5c06\u5e8f\u5217 s \u8f6c\u6362\u4e3a\u4e00\u4e2aList set(s) \u8f6c\u6362\u4e3a\u53ef\u53d8\u96c6\u5408 dict(d) \u521b\u5efa\u4e00\u4e2aDict\u3002d \u5fc5\u987b\u662f\u4e00\u4e2a\u5e8f\u5217 (key,value)Tuple\u3002 frozenset(s) \u8f6c\u6362\u4e3a\u4e0d\u53ef\u53d8\u96c6\u5408 chr(x) \u5c06\u4e00\u4e2a\u6574\u6570\u8f6c\u6362\u4e3a\u4e00\u4e2a\u5b57\u7b26 unichr(x) \u5c06\u4e00\u4e2a\u6574\u6570\u8f6c\u6362\u4e3aUnicode\u5b57\u7b26 ord(x) \u5c06\u4e00\u4e2a\u5b57\u7b26\u8f6c\u6362\u4e3a\u5b83\u7684ASCII\u5341\u8fdb\u5236\u6574\u6570\u503c hex(x) \u5c06\u4e00\u4e2a\u6574\u6570\u8f6c\u6362\u4e3a\u4e00\u4e2a\u5341\u516d\u8fdb\u5236\u5b57\u7b26\u4e32 oct(x) \u5c06\u4e00\u4e2a\u6574\u6570\u8f6c\u6362\u4e3a\u4e00\u4e2a\u516b\u8fdb\u5236\u5b57\u7b26\u4e32 <pre><code>\u6570\u5b57\n    \u6574\u6570 -1 0 1\n    \u6d6e\u70b9 -0.1 0.0 1.0\n    \u4e8c\u8fdb\u5236 0b11        \u7ed3\u679c 3\n    \u516b\u8fdb\u5236 0o77        \u7ed3\u679c 63\n    16\u8fdb\u5236 0xFF        \u7ed3\u679c 255\n\n\u5b57\u7b26\u4e32 &lt;class 'str'&gt;\n    \u7eaf\u5b57\u7b26\u4e32 'str' \"str\" '''str''' \"\"\"str\"\"\"\n    \u5b57\u7b26\u4e32\u6570\u5b57(\u4e8c\u8fdb\u5236 0b) '0b0'     \u8f6c\u6210\u5b57\u7b26 str(0b10) \u7ed3\u679c '2'     ## \u53ef\u4ee5\u524d\u7f6e\u8865\u96f6str(0b00000010)\n    \u5b57\u7b26\u4e32\u6570\u5b57(\u516b\u8fdb\u5236 0o) '0o0'     \u8f6c\u6362\u5b57\u7b26 str(0o77) \u7ed3\u679c '63'    ## \u53ef\u4ee5\u524d\u7f6e\u8865\u96f6str(0o0077)\n    \u5b57\u7b26\u4e32\u6570\u5b57(\u5341\u8fdb\u5236)    '0'       \u8f6c\u6362\u5b57\u7b26 str(100)  \u7ed3\u679c '100'   ## \u4e0d\u80fd\u524d\u7f6e\u8865\u96f6\n    \u5b57\u7b26\u4e32\u6570\u5b57(16\u8fdb\u5236 0x) '0x0'     \u8f6c\u6362\u5b57\u7b26 str(0xFF) \u7ed3\u679c '255'   ## \u53ef\u4ee5\u524d\u7f6e\u8865\u96f6str(0x00FF)\n\u4e8c\u8fdb\u5236 &lt;class 'bytes'&gt;\n    \u4e8c\u8fdb\u5236\u5b57\u8282\u8868\u793a b''    # ASCII \u5b57\u7b26 0-9 a-z A-Z \u7b49\n</code></pre> <p>Note</p> \u6570\u5b57 -&gt; \u5b57\u7b26\u4e32\u5b57\u7b26\u4e32 -&gt; \u6570\u5b57\uff08\u5341\u8fdb\u5236\u6570\uff09\u6570\u5b57 -&gt; \u6570\u5b57 <pre><code>##  255(10\u8fdb\u5236)  0b11(2\u8fdb\u5236)  0xFF(16\u8fdb\u5236)\n## (10\u8fdb\u5236\u6570)\n&gt;&gt;&gt; bin(255)            '0b11111111'\n&gt;&gt;&gt; oct(255)            '0o377'\n&gt;&gt;&gt; hex(255)            '0xff'\n## (2\u8fdb\u5236\u6570)\n&gt;&gt;&gt; bin(0b11)           '0b11'\n&gt;&gt;&gt; hex(0xFF)           '0xff'\n## (16\u8fdb\u5236\u6570)\n&gt;&gt;&gt; bin(0xFF)           '0b11111111'\n&gt;&gt;&gt; hex(0xFF)           '0xff'\n</code></pre> <pre><code>##  '123'(\u4ee510\u8fdb\u5236\u89e3\u6790)  '10'(\u4ee52\u8fdb\u5236\u89e3\u6790)  'a'(\u4ee516\u8fdb\u5236\u89e3\u6790)\n## (10\u8fdb\u5236\u8868\u793a\u7684\u5b57\u7b26\u4e32)\n&gt;&gt;&gt; int('123')          123         ## \u5341\u8fdb\u5236\u5b57\u7b26\u8f6c\u5341\u8fdb\u5236\u6570\u5b57\n&gt;&gt;&gt; int('123',10)       123         ## \u9ed8\u8ba4\u662f\u5341\u8fdb\u5236\n## (\u4e8c\u8fdb\u5236\u8868\u793a\u7684\u5b57\u7b26\u4e32)\n&gt;&gt;&gt; int('100',2)        4           ## \u4e8c\u8fdb\u5236\u7684 100 \u7b49\u4e8e \u5341\u8fdb\u5236\u7684 4\uff08\u53ef\u4ee5\u4e0d\u52a0\u524d\u7f6e 0b\uff09\n&gt;&gt;&gt; int('0b100',2)      4           ## \u4e8c\u8fdb\u5236\u7684 100 \u7b49\u4e8e \u5341\u8fdb\u5236\u7684 4\n&gt;&gt;&gt; int('0b0100',2)     4           ## \u53ef\u4ee5\u524d\u7f6e\u8865\u96f6\n## (16\u8fdb\u5236\u8868\u793a\u7684\u5b57\u7b26\u4e32)\n&gt;&gt;&gt; int('a',16)         10          ## 16\u8fdb\u5236\u7684 a \u7b49\u4e8e \u5341\u8fdb\u5236\u7684 10\uff08\u53ef\u4ee5\u4e0d\u52a0\u524d\u7f6e 0x\uff09\n&gt;&gt;&gt; int('0xa',16)       10          ## 16\u8fdb\u5236\u7684 a \u7b49\u4e8e \u5341\u8fdb\u5236\u7684 10\n&gt;&gt;&gt; int('0x0a',16)      10          ## 16\u8fdb\u5236\u7684 a \u7b49\u4e8e \u5341\u8fdb\u5236\u7684 10\uff08\u53ef\u4ee5\u524d\u7f6e\u8865\u96f6\uff09\n&gt;&gt;&gt; int('10',16)        16          ## 16\u8fdb\u5236\u768410 \u7b49\u4e8e \u5341\u8fdb\u5236\u7684 16\uff08\u53ef\u4ee5\u4e0d\u52a0\u524d\u7f6e 0x\uff09\n&gt;&gt;&gt; int('0x10',16)      16          ## 16\u8fdb\u5236\u768410 \u7b49\u4e8e \u5341\u8fdb\u5236\u7684 16\n&gt;&gt;&gt; int('0x0010',16)    16          ## 16\u8fdb\u5236\u768410 \u7b49\u4e8e \u5341\u8fdb\u5236\u7684 16\uff08\u53ef\u4ee5\u524d\u7f6e\u8865\u96f6\uff09\n</code></pre> <pre><code>##  0b11  0xFF\n## \u5341\u8fdb\u5236 \u8f6c \u5341\u8fdb\u5236\n&gt;&gt;&gt; int(255)            255         # \u65e0\u610f\u4e49\u64cd\u4f5c\n&gt;&gt;&gt; 255                 255         # \u65e0\u610f\u4e49\u64cd\u4f5c\n## \u4e8c\u8fdb\u5236 \u8f6c \u5341\u8fdb\u5236\n&gt;&gt;&gt; int(0b11)           3           # \u53ef\u52a0\u524d\u7f6e\u96f6 int(0b0011)\n&gt;&gt;&gt; 0b11111111          255         # \u7b49\u4ef7\n## 16\u8fdb\u5236 \u8f6c \u5341\u8fdb\u5236\n&gt;&gt;&gt; int(0xFF)           255\n&gt;&gt;&gt; 0xff                255         # \u7b49\u4ef7 \u4e14 \u5ffd\u7565\u5927\u5c0f\u5199\n&gt;&gt;&gt; 0xFF                255         # \u7b49\u4ef7 \u4e14 \u5ffd\u7565\u5927\u5c0f\u5199\n## \u5341\u8fdb\u5236 \u8f6c \u4e8c\u8fdb\u5236\uff08\u4f7f\u7528 \u6570\u5b57 \u8f6c \u5b57\u8282\u7801/\u5b57\u7b26\uff09\n255 \u7b49\u4ef7 0b11111111\n## \u5341\u8fdb\u5236 \u8f6c 16\u8fdb\u5236\uff08\u4f7f\u7528 \u6570\u5b57 \u8f6c \u5b57\u8282\u7801/\u5b57\u7b26\uff09\n255 \u7b49\u4ef7 0xff\n</code></pre> <p>Note</p> \u5b57\u7b26\u4e32 -&gt; \u5b57\u8282\u7801\u5b57\u8282\u7801 -&gt; \u5b57\u7b26\u4e32\u6570\u5b57 -&gt; \u5b57\u8282\u7801\uff08\u662f\u4e8c\u8fdb\u5236\uff0c\u752816\u8fdb\u5236\u663e\u793a\uff09\u5b57\u8282\u7801 -&gt; \u6570\u5b57 <pre><code>&gt;&gt;&gt; bytes('abc','utf-8')              b'abc'\n&gt;&gt;&gt; bytes('\u7f16\u7a0b','utf-8')             b'\\xe7\\xbc\\x96\\xe7\\xa8\\x8b'\n&gt;&gt;&gt; bytes('Python3\u7f16\u7a0b','utf-8')      b'Python3\\xe7\\xbc\\x96\\xe7\\xa8\\x8b'\n&gt;&gt;&gt; 'Python3\u7f16\u7a0b'.encode('UTF-8')     b'Python3\\xe7\\xbc\\x96\\xe7\\xa8\\x8b'\n&gt;&gt;&gt; S = 'Python3\u7f16\u7a0b'                 'Python3\u7f16\u7a0b'\n&gt;&gt;&gt; B = bytes(S,'utf-8')              b'Python3\\xe7\\xbc\\x96\\xe7\\xa8\\x8b'\n&gt;&gt;&gt; FMT = str(len(B)) + 's'           '13s'\n&gt;&gt;&gt; struct.pack(FMT,B)                b'Python3\\xe7\\xbc\\x96\\xe7\\xa8\\x8b'\n## \u4ee516\u8fdb\u5236\u6570\u5b57\u5199\u7684\u5b57\u7b26\u4e32\uff0c\u76f4\u63a5\u8f6c\u6210\u4e00\u6837\u7684\u5b57\u8282\u7801\uff082\u4e2a16\u8fdb\u5236\u5b57\u7b26\u624d\u662f\u4e00\u4e2a\u5b57\u8282\uff09\n&gt;&gt;&gt; bytes.fromhex('01')               b'\\x01'                       # \u5355\u5b57\u8282\n&gt;&gt;&gt; bytes.fromhex('0001')             b'\\x00\\x01'                   # \u53cc\u5b57\u8282\n&gt;&gt;&gt; bytes.fromhex('aabbccddeeff')     b'\\xaa\\xbb\\xcc\\xdd\\xee\\xff'   # \u591a\u5b57\u8282\n</code></pre> <pre><code>##  \u53d6\u51fa16\u8fdb\u5236\u8868\u793a\u7684\u5185\u5bb9\n&gt;&gt;&gt; b'abc'.decode('UTF-8')                                  'abc'\n&gt;&gt;&gt; b'Python3\\xe7\\xbc\\x96\\xe7\\xa8\\x8b'.decode('UTF-8')      'Python3\u7f16\u7a0b'\n&gt;&gt;&gt; b'\\xaa\\xbb\\xcc\\xdd\\xee\\xff'.hex()                       'aabbccddeeff'\n&gt;&gt;&gt; b'0'.hex()                                              '30'    ## \u5b57\u7b260\u5728ASCII\u7801\u4e0a\u7684\u6570\u5b57\uff08\u6570\u5b57\u662f16\u8fdb\u5236\u8868\u793a\uff09== 48\uff08\u5341\u8fdb\u5236\uff09\n&gt;&gt;&gt; b'1'.hex()                                              '31'\n&gt;&gt;&gt; b'z'.hex()                                              '7a'\n</code></pre> <pre><code># 10\u8fdb\u5236\u6570 \u8f6c \u5b57\u8282\u7801\nimport struct\n&gt;&gt;&gt; struct.pack('B',0)          b'\\x00'\n&gt;&gt;&gt; struct.pack('B',1)          b'\\x01'\n&gt;&gt;&gt; struct.pack('B',101)        b'e'                    ## 101 \u5bf9\u5e94 16\u8fdb\u5236\u7684 0x65\uff08\u6b64\u5904\u8fd4\u56de\u503c\u662f\u663e\u793a\u4e3a\u5f53\u524d\u6574\u6570 101 \u5bf9\u5e94\u7684 ASCII\u5b57\u7b26 e\uff09\n&gt;&gt;&gt; struct.pack('B',255)        b'\\xff'                 # \u65e0\u7b26\u53f7\u6700\u5927\u5355\u5b57\u7b26\u53ef\u4ee5\u8868\u793a\u7684\u6570\u5b57\n&gt;&gt;&gt; struct.pack('&gt;i',255)       b'\\x00\\x00\\x00\\xff'     # 4\u5b57\u8282\u5927\u7aef\u8868\u793a\u7684\u6570\u5b57\n&gt;&gt;&gt; struct.pack('&lt;i',255)       b'\\xff\\x00\\x00\\x00'     # 4\u5b57\u8282\u5c0f\u7aef\u8868\u793a\u7684\u6570\u5b57\n# 2\u8fdb\u5236\u6570 \u8f6c \u5b57\u8282\u7801\nimport struct\n&gt;&gt;&gt; struct.pack('B',0b11111111)     b'\\xff'\n&gt;&gt;&gt; struct.pack('&gt;i',0b111)         b'\\x00\\x00\\x00\\x07'     # 0b111 \u7b49\u4e8e 7\uff0810\u8fdb\u5236\uff09\n&gt;&gt;&gt; struct.pack('&gt;i',0b1111)        b'\\x00\\x00\\x00\\x0f'     # 0b1111 \u7b49\u4e8e 15\uff0810\u8fdb\u5236\uff09\n&gt;&gt;&gt; struct.pack('&gt;i',0b11111)       b'\\x00\\x00\\x00\\x1f'     # 0b11111 \u7b49\u4e8e 31\uff0810\u8fdb\u5236\uff09\n# 16\u8fdb\u5236\u6570 \u8f6c \u5b57\u8282\u7801\nimport struct\n&gt;&gt;&gt; struct.pack('B',0xff)           b'\\xff'\n&gt;&gt;&gt; struct.pack('&gt;i',0xfff)         b'\\x00\\x00\\x0f\\xff'\n</code></pre> <pre><code>import struct          16\u8fdb\u5236\u8868\u73b0                10\u8fdb\u5236\u7b49\u503c\n&gt;&gt;&gt; struct.unpack('B', b'\\xff')                      (255,)          # \u5355\u5b57\u8282\n&gt;&gt;&gt; struct.unpack('&gt;i', b'\\x00\\x00\\x00\\xff')         (255,)          # 4\u5b57\u8282\uff0c\u5927\u7aef\u6a21\u5f0f\n&gt;&gt;&gt; struct.unpack('&lt;i', b'\\x00\\x00\\x00\\xff')         (-16777216,)    # 4\u5b57\u8282\uff0c\u5c0f\u7aef\u6a21\u5f0f\n## \u624b\u52a8 \u8f6c\u6362\n\u5b57\u8282\u7801 -&gt; \u5b57\u7b26\u4e32\n&gt;&gt;&gt; B = b'\\xe9'\n&gt;&gt;&gt; S = B.hex()\n&gt;&gt;&gt; S                                               # \u503c 'e9'\n\u5b57\u7b26\u4e32\uff0816\u8fdb\u5236\u683c\u5f0f\uff09-&gt; \u6570\u5b57\uff0810\u8fdb\u5236\uff09\n&gt;&gt;&gt; int(S,16)                                       # \u503c 233\n</code></pre> <p>Note</p> ASCII \u5b57\u7b26 -&gt; \u6570\u5b57\u5c06\u4e00\u4e2a ASCII\u5b57\u7b26 \u8f6c\u6362\u4e3a \u4e00\u4e2a\u6574\u6570ASCII \u5b57\u7b26 \u548c bin(\u5b57\u8282) <ul> <li>\u5b57\u8282    b'\\x05'</li> <li>\u5b57\u7b26\u4e32   '\\x05'</li> <li>\u5c06\u4e00\u4e2a\u6574\u6570 (0-1114111) \u8f6c\u6362\u4e3a \u4e00\u4e2a\u5b57\u7b26\uff08\u6574\u6570\u5bf9\u5e94\u7684 ASCII \u5b57\u7b26\uff09</li> <li>ValueError: chr() arg not in range(0x110000)</li> </ul> <pre><code>&gt;&gt;&gt; chr(0)                  '\\x00'\n&gt;&gt;&gt; chr(1)                  '\\x01'\n&gt;&gt;&gt; chr(97)                 'a'\n&gt;&gt;&gt; chr(1114111)            '\\U0010ffff'\n&gt;&gt;&gt; len(chr(101))           1  # \u957f\u5ea6\u4e3a 1\u4e2a\u5b57\u7b26\n&gt;&gt;&gt; len(chr(1114111))       1  # \u957f\u5ea6\u4e3a 1\u4e2a\u5b57\u7b26\n</code></pre> <pre><code>&gt;&gt;&gt; ord('\\x00')             0\n&gt;&gt;&gt; ord('\\x01')             1\n&gt;&gt;&gt; ord('a')                97\n&gt;&gt;&gt; ord('0')                48\n&gt;&gt;&gt; ord('1')                49\n&gt;&gt;&gt; ord('A')                65\n&gt;&gt;&gt; ord('Z')                90\n&gt;&gt;&gt; ord('\\U0010ffff')       1114111\n</code></pre> <pre><code>from binascii import b2a_hex, a2b_hex\n&gt;&gt;&gt; a2b_hex('ab')\nb'\\xab'\n\n&gt;&gt;&gt; b2a_hex(b'ab')\nb'6162'\n&gt;&gt;&gt; a2b_hex(b'6162')\nb'ab'\n</code></pre>"},{"location":"Python/Basic/Python-No-4-Data-Type/#_16","title":"\u603b\u7ed3 (\u6458\u81ea \u7f8b\u8679\u5149)","text":""},{"location":"Python/Basic/Python-No-4-Data-Type/#int","title":"int \u7c7b\u578b\u89e3\u6790","text":"<p>\u8f83\u5c0f\u7684\u6574\u6570\u4f1a\u5f88\u9891\u7e41\u7684\u88ab\u4f7f\u7528\uff0c\u6240\u4ee5python\u5c06\u8fd9\u4e9b\u5bf9\u8c61\u653e\u7f6e\u5230\u4e86\u4e00\u4e2a\u6c60\u5b50\u4e2d\uff0c\u6bcf\u6b21\u9700\u8981\u8fd9\u4e9b\u5bf9\u8c61\u7684\u65f6\u5019\u5c31\u5230\u6c60\u5b50\u4e2d\u83b7\u53d6\u8fd9\u4e2a\u503c\uff0c\u907f\u514d\u591a\u6b21\u7684\u91cd\u590d\u521b\u5efa\u5bf9\u8c61\u5f15\u8d77\u7684\u8bb8\u591a\u4e0d\u5fc5\u8981\u7684\u5f00\u9500\u3002\u8fd9\u4e2a\u6c60\u5b50\u5185\u7684\u6570\u5b57\u8303\u56f4\u662f[-5, 257), \u6240\u4ee5\u90fd\u662f\u4ece\u6c60\u5b50\u91cc\u9762\u53d6\u503c\uff0c\u81ea\u7136id\u4e0d\u53d8\u3002</p>"},{"location":"Python/Basic/Python-No-4-Data-Type/#float","title":"float\u7c7b\u578b\u89e3\u6790","text":"<p>\u5bf9\u4e8efloat\u7c7b\u578b\u7684\u4f7f\u7528\u81ea\u7136\u6ca1\u6709int\u90a3\u4e48\u9891\u7e41\uff0c\u5e76\u4e14float\u7c7b\u578b\u4e5f\u4e0d\u597d\u5b9a\u4e49\u54ea\u4e9b\u5e38\u7528\uff0c\u4e5f\u5c31\u6ca1\u6709\u6c60\u5b50\u7ed9\u5230\u8fd9\u4e2a\u7c7b\u578b\uff0c\u6240\u4ee5\u6bcf\u6b21\u91cd\u65b0\u521b\u5efa\u5373\u53ef\u3002</p>"},{"location":"Python/Basic/Python-No-4-Data-Type/#tuple_6","title":"tuple\u7c7b\u578b\u89e3\u6790","text":"<p>\u5bf9\u4e8etuple\u7c7b\u578b\uff0c\u4e0efloat\u7c7b\u578b\u7684\u601d\u7ef4\u76f8\u4f3c\uff0c\u6240\u4ee5\u4e5f\u662f\u6bcf\u6b21\u91cd\u65b0\u521b\u5efa\u3002</p>"},{"location":"Python/Basic/Python-No-4-Data-Type/#string","title":"string\u7c7b\u578b\u89e3\u6790","text":"<p>\u5355\u8bcd\u7c7b\u578b\u7684str\u7531\u4e8e\u88ab\u91cd\u590d\u4f7f\u7528\u7684\u6982\u7387\u6bd4\u8f83\u5927\uff0c\u6240\u4ee5\u5728python\u4e2d\u4e3a\u5355\u8bcd\u7c7b\u578b\u7684str\u505a\u4e86\u4e00\u4e2a\u7f13\u5b58\uff0c\u4e5f\u5c31\u662f\u8bf4\u5982\u679c\u662f\u5355\u8bcd\u7c7b\u578b\u7684str\uff0c \u4f1a\u88ab\u5b58\u50a8\u5230\u4e00\u4e2a\u5b57\u5178(dict)\u4e2d\uff0c\u5b57\u5178\u7684\u5185\u5bb9\u662f\u5b57\u7b26\u4e32\u4e3akey\uff0c \u5730\u5740\u4e3avalue\u3002\u5f53\u6709\u4e00\u4e2a\u5b57\u7b26\u4e32\u9700\u8981\u521b\u5efa\uff0c\u5c31\u5148\u53bb\u8bbf\u95ee\u8fd9\u4e2a\u5b57\u5178\uff0c\u5982\u679c\u5b58\u5728\u5219\u8fd4\u56de\u5b57\u5178\u4e2d\u5b57\u7b26\u4e32\u7684\u5730\u5740\uff0c\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5219\u8fd4\u56de\u65b0\u521b\u5efa\u7684\u5730\u5740\uff0c\u5e76\u5c06\u8fd9\u4e2a\u5b57\u7b26\u4e32\u6dfb\u52a0\u8fdb\u5165\u5b57\u5178\u3002\u8fd9\u662f\u5b57\u7b26\u4e32\u7684intern\u673a\u5236\u3002</p>"},{"location":"Python/Basic/Python-No-5-Operator/","title":"\u8fd0\u7b97\u7b26","text":""},{"location":"Python/Basic/Python-No-5-Operator/#_1","title":"\u64cd\u4f5c\u7b26","text":""},{"location":"Python/Basic/Python-No-5-Operator/#_2","title":"\u7b97\u672f\u8fd0\u7b97\u7b26","text":"<p>\u4ee5\u4e0b\u5047\u8bbe\u53d8\u91cfa\u4e3a10\uff0c\u53d8\u91cfb\u4e3a21\uff1a</p> \u8fd0\u7b97\u7b26 \u63cf\u8ff0 \u5b9e\u4f8b + \u52a0 \u4e24\u4e2a\u5bf9\u8c61\u76f8\u52a0 a + b \u8f93\u51fa\u7ed3\u679c 31 - \u51cf \u5f97\u5230\u8d1f\u6570\u6216\u662f\u4e00\u4e2a\u6570\u51cf\u53bb\u53e6\u4e00\u4e2a\u6570 a - b \u8f93\u51fa\u7ed3\u679c -11 * \u4e58 \u4e24\u4e2a\u6570\u76f8\u4e58\u6216\u662f\u8fd4\u56de\u4e00\u4e2a\u88ab\u91cd\u590d\u82e5\u5e72\u6b21\u7684\u5b57\u7b26\u4e32 a * b \u8f93\u51fa\u7ed3\u679c 210 / \u9664 x \u9664\u4ee5 y b / a \u8f93\u51fa\u7ed3\u679c 2.1 % \u53d6\u6a21 \u8fd4\u56de\u9664\u6cd5\u7684\u4f59\u6570 b % a \u8f93\u51fa\u7ed3\u679c 1 ** \u5e42 \u8fd4\u56dex\u7684y\u6b21\u5e42 a**b \u4e3a10\u768421\u6b21\u65b9 // \u53d6\u6574\u9664 \u5411\u4e0b\u53d6\u63a5\u8fd1\u5546\u7684\u6574\u6570 -9//2\u8f93\u51fa\u7ed3\u679c\u4e3a-5"},{"location":"Python/Basic/Python-No-5-Operator/#_3","title":"\u6bd4\u8f83\u8fd0\u7b97\u7b26","text":"<p>\u4ee5\u4e0b\u5047\u8bbe\u53d8\u91cfa\u4e3a10\uff0c\u53d8\u91cfb\u4e3a20\uff1a</p> \u8fd0\u7b97\u7b26 \u63cf\u8ff0 \u5b9e\u4f8b == \u7b49\u4e8e \u6bd4\u8f83\u5bf9\u8c61\u662f\u5426\u76f8\u7b49 (a == b) \u8fd4\u56de False\u3002 != \u4e0d\u7b49\u4e8e \u6bd4\u8f83\u4e24\u4e2a\u5bf9\u8c61\u662f\u5426\u4e0d\u76f8\u7b49 (a != b) \u8fd4\u56de True\u3002 &gt; \u5927\u4e8e \u8fd4\u56dex\u662f\u5426\u5927\u4e8ey (a &gt; b) \u8fd4\u56de False\u3002 &lt; \u5c0f\u4e8e \u8fd4\u56dex\u662f\u5426\u5c0f\u4e8ey (a &lt; b) \u8fd4\u56de True\u3002 &gt;= \u5927\u4e8e\u7b49\u4e8e \u8fd4\u56dex\u662f\u5426\u5927\u4e8e\u7b49\u4e8ey\u3002 (a &gt;= b) \u8fd4\u56de False\u3002 &lt;= \u5c0f\u4e8e\u7b49\u4e8e \u8fd4\u56dex\u662f\u5426\u5c0f\u4e8e\u7b49\u4e8ey\u3002 (a &lt;= b) \u8fd4\u56de True\u3002 <p>\u6240\u6709\u6bd4\u8f83\u8fd0\u7b97\u7b26\u8fd4\u56de1\u8868\u793a\u771f\uff0c\u8fd4\u56de0\u8868\u793a\u5047\u3002</p> <p>\u8fd9\u5206\u522b\u4e0e\u7279\u6b8a\u7684\u53d8\u91cfTrue\u548cFalse\u7b49\u4ef7\u3002\u6ce8\u610f\uff0c\u8fd9\u4e9b\u53d8\u91cf\u540d\u7684\u5927\u5199\u3002</p>"},{"location":"Python/Basic/Python-No-5-Operator/#_4","title":"\u8d4b\u503c\u8fd0\u7b97\u7b26","text":"<p>\u4ee5\u4e0b\u5047\u8bbe\u53d8\u91cfa\u4e3a10\uff0c\u53d8\u91cfb\u4e3a20\uff1a</p> \u8fd0\u7b97\u7b26 \u63cf\u8ff0 \u5b9e\u4f8b = \u7b80\u5355\u7684\u8d4b\u503c\u8fd0\u7b97\u7b26 c = a + b \u5c06 a + b \u7684\u8fd0\u7b97\u7ed3\u679c\u8d4b\u503c\u4e3a c += \u52a0\u6cd5\u8d4b\u503c\u8fd0\u7b97\u7b26 c += a \u7b49\u6548\u4e8e c = c + a -= \u51cf\u6cd5\u8d4b\u503c\u8fd0\u7b97\u7b26 c -= a \u7b49\u6548\u4e8e c = c - a *= \u4e58\u6cd5\u8d4b\u503c\u8fd0\u7b97\u7b26 c *= a \u7b49\u6548\u4e8e c = c * a /= \u9664\u6cd5\u8d4b\u503c\u8fd0\u7b97\u7b26 c /= a \u7b49\u6548\u4e8e c = c / a %= \u53d6\u6a21\u8d4b\u503c\u8fd0\u7b97\u7b26 c %= a \u7b49\u6548\u4e8e c = c % a **= \u5e42\u8d4b\u503c\u8fd0\u7b97\u7b26 c **= a \u7b49\u6548\u4e8e c = c ** a //= \u53d6\u6574\u9664\u8d4b\u503c\u8fd0\u7b97\u7b26 c //= a \u7b49\u6548\u4e8e c = c // a := \u6d77\u8c61\u8fd0\u7b97\u7b26\uff0c\u53ef\u5728\u8868\u8fbe\u5f0f\u5185\u90e8\u4e3a\u53d8\u91cf\u8d4b\u503c\u3002"},{"location":"Python/Basic/Python-No-5-Operator/#_5","title":"\u6d77\u8c61\u8fd0\u7b97\u7b26/\u6210\u4e3a\u8fd0\u7b97\u7b26/\u547d\u540d\u8868\u8fbe\u5f0f\u8fd0\u7b97\u7b26","text":"\u4f8b1\u4f8b2 <pre><code>age = 20\nif age&gt; 18:\n    print('Adult')\n\n# \u4f7f\u7528\u6d77\u8c61\nif (age := 20) &gt; 18:\n    print('Adult')\n</code></pre> <pre><code>L = [1, 2, 3]\nn = len(L)\nif n &gt; 2:\n    print('Length of L is', len(L))\n\n# \u4f7f\u7528\u6d77\u8c61\nL = [1, 2, 3]\nif (n := len(L)) &gt; 2:\n    print('Length of L is', n)\n</code></pre> <p>\u53ef\u4ee5\u7406\u89e3\u4e3a <code>len(L)</code> \u7684\u8fd4\u56de\u503c\u8d4b\u503c\u7ed9<code>n</code>\uff0c\u7136\u540e\u5224\u65ad <code>n&gt;2</code> \u8fd9\u6837\u505a\u7684\u597d\u5904\u53ef\u4ee5\u63d0\u5347\u8fd0\u884c\u6548\u7387</p> <p>\u56e0\u4e3a\u5728\u9700\u8981\u591a\u6b21\u8c03\u7528\u51fd\u6570\u8fd9\u79cd\u4f1a\u964d\u4f4e\u8fd0\u884c\u6548\u7387\u7684\u65f6\u5019 \u6211\u4eec\u901a\u5e38\u4f1a\u51cf\u5c11\u76f8\u540c\u7684\u51fd\u6570\u8c03\u7528\uff0c\u5c06\u51fd\u6570\u8c03\u7528\u540e\u7684\u8fd4\u56de\u503c\u4fdd\u5b58\u5728\u4e00\u4e2a\u53d8\u91cf\u91cc \u7136\u540e \u9891\u7e41\u8c03\u7528\u51fd\u6570 \u6362\u6210 \u9891\u7e41\u4f7f\u7528\u8fd9\u4e2a\u53d8\u91cf</p> <p>\u4f46\u662f\u8fd9\u6837\u5c31\u9700\u8981\u591a\u4e00\u884c\u4fdd\u5b58\u8fd4\u56de\u503c\u7684\u8868\u8fbe\u5f0f \u800c <code>\u6d77\u8c61\u8fd0\u7b97\u7b26</code> \u6216\u8005\u8bf4 <code>\u6210\u4e3a\u8fd0\u7b97\u7b26</code> \u5219\u517c\u987e\u4e86\u4e24\u8005\uff0c\u5373\u4f7f\u7528\u4e86\u53d8\u91cf\u4fdd\u5b58\u8fd4\u56de\u503c\uff0c\u53c8\u4e0d\u7528\u591a\u4e00\u884c\u4ee3\u7801\u3002</p> <pre><code>n = 0\nwhile n &lt; 3:\n   print(n) # 0,1,2\n   n += 1\n\n# \u5f53\u8f6c\u6362\u4e3a\u6d77\u8c61\u8fd0\u7b97\u7b26\u65f6\n\nw = 0\nwhile (w := w + 1) &lt; 3:\n   print(w) # 1,2\n</code></pre> <pre><code>while True:\n   p = input(\"Enter the password: \")\n   if p == \"the password\":\n      break \n\n# \u5f53\u8f6c\u6362\u4e3a\u6d77\u8c61\u8fd0\u7b97\u7b26\u65f6\nwhile (p := input(\"Enter the password: \")) != \"the password\":\n   continue\n</code></pre>"},{"location":"Python/Basic/Python-No-5-Operator/#_6","title":"\u4f4d\u8fd0\u7b97\u7b26","text":"<p>\u6309\u4f4d\u8fd0\u7b97\u7b26\u662f\u628a\u6570\u5b57\u770b\u4f5c\u4e8c\u8fdb\u5236\u6765\u8fdb\u884c\u8ba1\u7b97\u7684\u3002Python\u4e2d\u7684\u6309\u4f4d\u8fd0\u7b97\u6cd5\u5219\u5982\u4e0b\uff1a \u4e0b\u8868\u4e2d\u53d8\u91cf a \u4e3a 60\uff0cb \u4e3a 13\u4e8c\u8fdb\u5236\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>a = 0011 1100    # 60\n\nb = 0000 1101    # 13\n\n-----------------\n\na&amp;b = 0000 1100    # 12\n\na|b = 0011 1101    # 61\n\na^b = 0011 0001    # 49\n\n~a  = 1100 0011    # 195\n</code></pre> \u8fd0\u7b97\u7b26 \u63cf\u8ff0 \u5b9e\u4f8b &amp; \u6309\u4f4d\u4e0e\u8fd0\u7b97\u7b26\uff1a\u53c2\u4e0e\u8fd0\u7b97\u7684\u4e24\u4e2a\u503c,\u5982\u679c\u4e24\u4e2a\u76f8\u5e94\u4f4d\u90fd\u4e3a1,\u5219\u8be5\u4f4d\u7684\u7ed3\u679c\u4e3a1,\u5426\u5219\u4e3a0 (a &amp; b) \u8f93\u51fa\u7ed3\u679c 12 \uff0c\u4e8c\u8fdb\u5236\u89e3\u91ca\uff1a 0000 1100 | \u6309\u4f4d\u6216\u8fd0\u7b97\u7b26\uff1a\u53ea\u8981\u5bf9\u5e94\u7684\u4e8c\u4e2a\u4e8c\u8fdb\u4f4d\u6709\u4e00\u4e2a\u4e3a1\u65f6\uff0c\u7ed3\u679c\u4f4d\u5c31\u4e3a1\u3002 (a| b) \u8f93\u51fa\u7ed3\u679c 61 \uff0c\u4e8c\u8fdb\u5236\u89e3\u91ca\uff1a 0011 1101 ^ \u6309\u4f4d\u5f02\u6216\u8fd0\u7b97\u7b26\uff1a\u5f53\u4e24\u5bf9\u5e94\u7684\u4e8c\u8fdb\u4f4d\u76f8\u5f02\u65f6\uff0c\u7ed3\u679c\u4e3a1 (a ^ b) \u8f93\u51fa\u7ed3\u679c 49 \uff0c\u4e8c\u8fdb\u5236\u89e3\u91ca\uff1a 0011 0001 ~ \u6309\u4f4d\u53d6\u53cd\u8fd0\u7b97\u7b26\uff1a\u5bf9\u6570\u636e\u7684\u6bcf\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u53d6\u53cd,\u5373\u628a1\u53d8\u4e3a0,\u628a0\u53d8\u4e3a1 (~a ) \u8f93\u51fa\u7ed3\u679c -61 \uff0c\u4e8c\u8fdb\u5236\u89e3\u91ca\uff1a 1100 0011\uff0c \u5728\u4e00\u4e2a\u6709\u7b26\u53f7\u4e8c\u8fdb\u5236\u6570\u7684\u8865\u7801\u5f62\u5f0f\u3002 &lt;&lt; \u5de6\u79fb\u52a8\u8fd0\u7b97\u7b26\uff1a\u8fd0\u7b97\u6570\u7684\u5404\u4e8c\u8fdb\u4f4d\u5168\u90e8\u5de6\u79fbN\u4f4d.\u9ad8\u4f4d\u4e22\u5f03\uff0c\u4f4e\u4f4d\u88650\u3002 a &lt;&lt; 2 \u8f93\u51fa\u7ed3\u679c 240 \uff0c\u4e8c\u8fdb\u5236\u89e3\u91ca\uff1a 1111 0000 &gt;&gt; \u53f3\u79fb\u52a8\u8fd0\u7b97\u7b26\uff1a\u8fd0\u7b97\u6570\u7684\u5404\u4e8c\u8fdb\u4f4d\u5168\u90e8\u53f3\u79fbN\u4f4d\uff0c a &gt;&gt; 2 \u8f93\u51fa\u7ed3\u679c 15 \uff0c\u4e8c\u8fdb\u5236\u89e3\u91ca\uff1a 0000 1111 <ul> <li><code>a &lt;&lt; 1</code> \u7b49\u4ef7\u4e8e <code>a * 2</code></li> <li><code>a &lt;&lt; 2</code> \u7b49\u4ef7\u4e8e <code>a * 2 * 2</code></li> <li><code>a &gt;&gt; 1</code> \u7b49\u4ef7\u4e8e <code>a / 2</code></li> <li><code>a &gt;&gt; 2</code> \u7b49\u4ef7\u4e8e <code>a / 2 / 2</code></li> <li><code>a ^= a</code> \u7b49\u4ef7\u4e8e <code>a = a ^ a</code> \u7b49\u4ef7\u4e8e \u7f6e\u96f6 <code>a = 0</code></li> <li><code>a = a ^ (~a) + 1</code> \u7b49\u4ef7\u4e8e\u7f6e\u96f6 <code>a = 0</code></li> <li><code>~a</code> \u4e3a a \u7684\u53cd\u7801</li> <li><code>~a + 1</code> \u4e3a a \u7684\u8865\u7801</li> </ul>"},{"location":"Python/Basic/Python-No-5-Operator/#_7","title":"\u903b\u8f91\u8fd0\u7b97\u7b26","text":"<p>Python\u8bed\u8a00\u652f\u6301\u903b\u8f91\u8fd0\u7b97\u7b26\uff0c\u4ee5\u4e0b\u5047\u8bbe\u53d8\u91cf a \u4e3a 10, b\u4e3a 20:</p> \u8fd0\u7b97\u7b26 \u8868\u8fbe\u5f0f \u63cf\u8ff0 \u5b9e\u4f8b and x and y \u5e03\u5c14\"\u4e0e\" - \u5982\u679c x \u4e3a False\uff0cx and y \u8fd4\u56de False\uff0c\u5426\u5219\u5b83\u8fd4\u56de y \u7684\u8ba1\u7b97\u503c\u3002 (a and b) \u8fd4\u56de 20\u3002 or x or y \u5e03\u5c14\"\u6216\" - \u5982\u679c x \u662f True\uff0c\u5b83\u8fd4\u56de x \u7684\u503c\uff0c\u5426\u5219\u5b83\u8fd4\u56de y \u7684\u8ba1\u7b97\u503c\u3002 (a or b) \u8fd4\u56de 10\u3002 not not x \u5e03\u5c14\"\u975e\" - \u5982\u679c x \u4e3a True\uff0c\u8fd4\u56de False \u3002\u5982\u679c x \u4e3a False\uff0c\u5b83\u8fd4\u56de True\u3002 not(a and b) \u8fd4\u56de False"},{"location":"Python/Basic/Python-No-5-Operator/#_8","title":"\u6210\u5458\u8fd0\u7b97\u7b26","text":"<p>\u9664\u4e86\u4ee5\u4e0a\u7684\u4e00\u4e9b\u8fd0\u7b97\u7b26\u4e4b\u5916\uff0cPython\u8fd8\u652f\u6301\u6210\u5458\u8fd0\u7b97\u7b26\uff0c\u6d4b\u8bd5\u5b9e\u4f8b\u4e2d\u5305\u542b\u4e86\u4e00\u7cfb\u5217\u7684\u6210\u5458\uff0c\u5305\u62ec\u5b57\u7b26\u4e32\uff0c\u5217\u8868\u6216\u5143\u7ec4\u3002</p> \u8fd0\u7b97\u7b26 \u63cf\u8ff0 \u5b9e\u4f8b in \u5982\u679c\u5728\u6307\u5b9a\u7684\u5e8f\u5217\u4e2d\u627e\u5230\u503c\u8fd4\u56de True\uff0c\u5426\u5219\u8fd4\u56de False\u3002 x \u5728 y \u5e8f\u5217\u4e2d , \u5982\u679c x \u5728 y \u5e8f\u5217\u4e2d\u8fd4\u56de True\u3002 not in \u5982\u679c\u5728\u6307\u5b9a\u7684\u5e8f\u5217\u4e2d\u6ca1\u6709\u627e\u5230\u503c\u8fd4\u56de True\uff0c\u5426\u5219\u8fd4\u56de False\u3002 x \u4e0d\u5728 y \u5e8f\u5217\u4e2d , \u5982\u679c x \u4e0d\u5728 y \u5e8f\u5217\u4e2d\u8fd4\u56de True\u3002"},{"location":"Python/Basic/Python-No-5-Operator/#_9","title":"\u8eab\u4efd\u8fd0\u7b97\u7b26","text":"<p>\u8eab\u4efd\u8fd0\u7b97\u7b26\u7528\u4e8e\u6bd4\u8f83\u4e24\u4e2a\u5bf9\u8c61\u7684\u5b58\u50a8\u5355\u5143</p> \u8fd0\u7b97\u7b26 \u63cf\u8ff0 \u5b9e\u4f8b is is \u662f\u5224\u65ad\u4e24\u4e2a\u6807\u8bc6\u7b26\u662f\u4e0d\u662f\u5f15\u7528\u81ea\u4e00\u4e2a\u5bf9\u8c61 x is y, \u7c7b\u4f3c id(x) == id(y) , \u5982\u679c\u5f15\u7528\u7684**\u662f\u540c\u4e00\u4e2a\u5bf9\u8c61**\u5219\u8fd4\u56de True\uff0c\u5426\u5219\u8fd4\u56de False is not is not \u662f\u5224\u65ad\u4e24\u4e2a\u6807\u8bc6\u7b26\u662f\u4e0d\u662f\u5f15\u7528\u81ea\u4e0d\u540c\u5bf9\u8c61 x is not y \uff0c \u7c7b\u4f3c id(a) != id(b)\u3002\u5982\u679c\u5f15\u7528\u7684**\u4e0d\u662f\u540c\u4e00\u4e2a\u5bf9\u8c61**\u5219\u8fd4\u56de\u7ed3\u679c True\uff0c\u5426\u5219\u8fd4\u56de False\u3002 id() id() \u51fd\u6570\u7528\u4e8e\u83b7\u53d6\u5bf9\u8c61\u5185\u5b58\u5730\u5740 <pre><code>#id()\n\n&gt;&gt;&gt;a = 'runoob'\n&gt;&gt;&gt; id(a)\n4531887632\n&gt;&gt;&gt; b = 1\n&gt;&gt;&gt; id(b)\n140588731085608\n</code></pre>"},{"location":"Python/Basic/Python-No-5-Operator/#_10","title":"\u4e09\u76ee\u8fd0\u7b97\u7b26","text":"<p>Abstract</p> <p><code>true if expression else flase</code></p> <p>\u6ee1\u8db3\u8868\u8fbe\u5f0f\u65f6 if \u8868\u8fbe\u5f0f else \u4e0d\u6ee1\u8db3\u8868\u8fbe\u5f0f\u65f6</p> <pre><code>&gt;&gt;&gt; a = 1\n&gt;&gt;&gt; b = 2\n&gt;&gt;&gt; h = a + b if a &lt; b else a - b\n&gt;&gt;&gt; h\n3\n&gt;&gt;&gt; q = (a + b) if (a &lt; b) else (a - b)\n&gt;&gt;&gt; q\n3\n</code></pre>"},{"location":"Python/Basic/Python-No-5-Operator/#_11","title":"\u8fd0\u7b97\u7b26\u4f18\u5148\u7ea7","text":"<p>\u4ee5\u4e0b\u8868\u683c\u5217\u51fa\u4e86\u4ece\u6700\u9ad8\u5230\u6700\u4f4e\u4f18\u5148\u7ea7\u7684\u6240\u6709\u8fd0\u7b97\u7b26\uff1a</p> \u8fd0\u7b97\u7b26 \u63cf\u8ff0 ** \u6307\u6570 (\u6700\u9ad8\u4f18\u5148\u7ea7) ~\u3001+\u3001- \u6309\u4f4d\u53d6\u53cd\u3001\u6b63\u3001\u8d1f *\u3001/\u3001%\u3001// \u4e58\uff0c\u9664\uff0c\u6c42\u4f59\u6570\u548c\u53d6\u6574\u9664 +\u3001- \u52a0\u3001\u51cf &lt;&lt;\u3001&gt;&gt; \u5de6\u79fb\u3001\u53f3\u79fb &amp; \u6309\u4f4d\u4e0e ^\u3001| \u6309\u4f4d\u5f02\u6216\u3001\u6309\u4f4d\u6216 &lt;=\u3001&lt;\u3001&gt;\u3001&gt;= \u6bd4\u8f83\u8fd0\u7b97\u7b26 ==\u3001!= \u7b49\u4e8e\u8fd0\u7b97\u7b26 =\u3001%=\u3001/=\u3001//=\u3001-=\u3001+=\u3001*=\u3001**= \u8d4b\u503c\u8fd0\u7b97\u7b26 is\u3001is not \u8eab\u4efd\u8fd0\u7b97\u7b26 in\u3001not in \u6210\u5458\u8fd0\u7b97\u7b26 and\u3001or\u3001not \u903b\u8f91\u8fd0\u7b97\u7b26"},{"location":"Python/Basic/Python-No-6-Function/","title":"\u51fd\u6570","text":""},{"location":"Python/Basic/Python-No-6-Function/#_1","title":"\u51fd\u6570","text":""},{"location":"Python/Basic/Python-No-6-Function/#_2","title":"\u5b9a\u4e49\u51fd\u6570","text":"<pre><code>def functionName(parameters):\n    function body\n    [return]\n</code></pre>"},{"location":"Python/Basic/Python-No-6-Function/#_3","title":"\u8c03\u7528\u51fd\u6570","text":"<pre><code>funcName([paras])\n</code></pre>"},{"location":"Python/Basic/Python-No-6-Function/#_4","title":"\u8fd4\u56de\u503c","text":"<p>\u4e0d\u7ba1\u6709\u6ca1\u6709 return \u51fd\u6570\u90fd\u4f1a\u8fd4\u56de</p> <p>\u6709 return \u65f6\u51fd\u6570\u8fd4\u56de\u76f8\u5e94\u7684\u503c</p> <p>\u6ca1\u6709 return \u65f6\u51fd\u6570\u8fd4\u56de None</p> <p><code>return None</code> \u53ef\u4ee5\u7b80\u5199\u4e3a <code>return</code></p>"},{"location":"Python/Basic/Python-No-6-Function/#_5","title":"\u8fd4\u56de\u591a\u4e2a\u503c","text":"<p>python \u51fd\u6570\u53ef\u4ee5\u8fd4\u56de\u591a\u4e2a\u503c</p> <p>\u4f46\u5176\u672c\u8d28\u5176\u5b9e\u662f\u8fd4\u56de\u4e00\u4e2a\u591a\u5143\u7d20\u7684Tuple\uff0c\u56e0\u4e3a\u8bed\u6cd5\u4e0atuple\u53ef\u4ee5\u7701\u7565\u62ec\u53f7\uff0c\u6240\u4ee5\u770b\u8d77\u6765\u50cf\u8fd4\u56de\u591a\u4e2a\u503c</p> <p>\u5982\u679c\u663e\u5f0f\u7684\u8fd4\u56de\u4e00\u4e2alist\uff0cdict\uff0ctuple\uff0cset\uff0c\u5219\u662f\u8fd4\u56de\u503c\u672c\u8eab</p> <pre><code>import math\n\ndef move(x, y, step, angle=0):\n    nx = x + step * math.cos(angle)\n    ny = y - step * math.sin(angle)\n    return nx, ny\n\n&gt;&gt;&gt; x, y = move(100, 100, 60, math.pi / 6)\n&gt;&gt;&gt; print(x, y)\n151.96152422706632 70.0\n\n&gt;&gt;&gt; r = move(100, 100, 60, math.pi / 6)\n&gt;&gt;&gt; print(r)\n(151.96152422706632, 70.0)\n</code></pre>"},{"location":"Python/Basic/Python-No-6-Function/#_6","title":"\u7a7a\u51fd\u6570","text":"<p>\u7a7a\u51fd\u6570\u53ef\u4ee5\u4f5c\u4e3a\u5360\u4f4d\u7b26\uff0c\u6bd4\u5982\u73b0\u5728\u8fd8\u6ca1\u60f3\u597d\u600e\u4e48\u5199\u51fd\u6570\u7684\u4ee3\u7801\uff0c\u5c31\u53ef\u4ee5\u5148\u653e\u4e00\u4e2apass\uff0c\u8ba9\u4ee3\u7801\u80fd\u8fd0\u884c\u8d77\u6765\u3002</p> <pre><code>def func():\n    pass\n</code></pre>"},{"location":"Python/Basic/Python-No-6-Function/#_7","title":"\u53c2\u6570","text":""},{"location":"Python/Basic/Python-No-6-Function/#_8","title":"\u53c2\u6570\u68c0\u67e5","text":"<p>python\u89e3\u91ca\u5668\u4f1a\u68c0\u67e5\u53c2\u6570 <code>\u4e2a\u6570</code> \uff0c\u4f46\u4e0d\u4f1a\u68c0\u67e5\u53c2\u6570 <code>\u7c7b\u578b</code></p> <p>\u7c7b\u578b\u68c0\u67e5\u9700\u8981\u81ea\u5df1\u505a</p> <p>\u53ef\u4ee5\u4f7f\u7528\u5185\u7f6e\u51fd\u6570 <code>isinstance(obj,class_of_tuple)</code> \u5e76\u629b\u51fa\u9519\u8bef</p> <pre><code>def my_abs(x):\n    return x if x &gt;= 0 else -x\n\n# \u6dfb\u52a0\u68c0\u67e5\u7c7b\u578b\ndef my_abs(x):\n    if not isinstance(x, (int, float)):        # \u68c0\u67e5\u7c7b\u578b\n        raise TypeError('bad operand type')    # \u629b\u51fa\u9519\u8bef\n    return x if x &gt;= 0 else -x\n</code></pre>"},{"location":"Python/Basic/Python-No-6-Function/#isinstance","title":"isinstance()","text":"<p>isinstance(\u88ab\u68c0\u67e5\u5bf9\u8c61,\u68c0\u67e5\u7c7b\u578b\u5143\u7ec4)</p> <p>isinstance() \u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u88ab\u68c0\u67e5\u5bf9\u8c61\uff0c\u7b2c\u4e8c\u4e2a\u662f\u8981\u6c42\u7684\u7c7b\u578b\u5143\u7ec4\u3002</p> <p>\u7c7b\u578b\u5143\u7ec4\u4e2d\u53ea\u8981\u6709\u4e00\u4e2a\u88ab\u6ee1\u8db3\uff0c\u5219\u8fd4\u56deTrue\uff0c\u53cd\u4e4b\u8fd4\u56deFalse</p>"},{"location":"Python/Basic/Python-No-6-Function/#_9","title":"\u9ed8\u8ba4\u53c2\u6570\u3001\u53ef\u53d8\u53c2\u6570\u548c\u5173\u952e\u5b57\u53c2\u6570","text":""},{"location":"Python/Basic/Python-No-6-Function/#_10","title":"\u9ed8\u8ba4\u53c2\u6570 =","text":"<p>Abstract</p> <p><code>def funcName( [para1 ... ,] paraN = defaultValue)</code></p> <p>\u5f53\u53c2\u6570\u7684\u503c\u4e0d\u786e\u5b9a\u7684\u65f6\u5019\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528\u9ed8\u8ba4\u53c2\u6570</p> <p>\u9ed8\u8ba4\u53c2\u6570 <code>para1 = defaultValue</code> \u5fc5\u987b\u653e\u5728\u6700\u540e\u9762</p> <p>\u5f53\u6709\u591a\u4e2a\u9ed8\u8ba4\u53c2\u6570\u7684\u60c5\u51b5\u4e0b\uff0c\u60f3\u6307\u5b9a\u67d0\u4e2a\u9ed8\u8ba4\u53c2\u6570\u4e0d\u4f7f\u7528\u9ed8\u8ba4\uff0c\u53ef\u4ee5\u5c06\u9ed8\u8ba4\u53c2\u6570\u7684\u5f62\u53c2\u540d\u5e26\u4e0a</p> <p>\u9ed8\u8ba4\u53c2\u6570\u5fc5\u987b\u6307\u5411**\u4e0d\u53d8\u5bf9\u8c61\uff01**</p> <pre><code>def power(x,n=2):\n    s = 1\n    while n &gt; 0:\n        s *= x\n        n -= 1\n    return s\n\n&gt;&gt;&gt; power(5)\n25\n&gt;&gt;&gt; power(5, 2)\n25\n&gt;&gt;&gt; power(5, 3)\n125\n</code></pre> <p>\u5f53\u6709\u591a\u4e2a\u9ed8\u8ba4\u53c2\u6570\u7684\u60c5\u51b5\u4e0b\uff0c\u60f3\u6307\u5b9a\u67d0\u4e2a\u9ed8\u8ba4\u53c2\u6570\u4e0d\u4f7f\u7528\u9ed8\u8ba4\uff0c\u53ef\u4ee5\u5c06\u9ed8\u8ba4\u53c2\u6570\u7684\u5f62\u53c2\u540d\u5e26\u4e0a</p> <pre><code>def enroll(name, gender, age=6, city='SWA'):\n    print(name)\n    print(gender)\n    print(age)\n    print(city)\n\n&gt;&gt;&gt; enroll('Boii', 'M', 23, 'BJ')\nBoii\nM\n23\nBJ\n&gt;&gt;&gt; enroll('Boii', 'M', 23)\nBoii\nM\n23\nSWA\n&gt;&gt;&gt; enroll('Boii', 'M', city='NJ')\nBoii\nM\n6\nNJ\n&gt;&gt;&gt; enroll('Boii', 'M')\nBoii\nM\n6\nSWA\n</code></pre> <p>\u9ed8\u8ba4\u53c2\u6570\u5fc5\u987b\u6307\u5411 \u4e0d\u53d8\u5bf9\u8c61\uff01 </p><pre><code>def add_end(L=[]):\n    L.append('END')\n    return L\n\n&gt;&gt;&gt; add_end([1,2,3])\n[1,2,3,'END']\n&gt;&gt;&gt; add_end(['x', 'y', 'z'])\n['x', 'y', 'z', 'END']\n\n# \u5751\u6765\u4e86\n&gt;&gt;&gt; add_end()\n['END']            # \u8fd9\u91cc\u8fd8\u662f\u6b63\u5e38\u7684\n&gt;&gt;&gt; add_end()\n['END', 'END']     # \u8fd9\u91cc\u5c31\u4e0d\u6b63\u5e38\u4e86\n</code></pre> \u731c\u6d4b\u53ef\u80fd\u662fpython\u5185\u90e8\u5728\u4f7f\u7528\u9ed8\u8ba4\u53c2\u6570\u7684\u65f6\u5019\u4f1a\u521b\u5efa\u5bf9\u8c61\uff0c\u6bd4\u5982\u8fd9\u4e2alist\uff0c\u4f46\u662f\u8fd9\u4e2a\u5bf9\u8c61\u4e0d\u4f1a\u88ab\u9500\u6bc1\u5bfc\u81f4\u7684<p></p> <p>\u6539\u8fdb\uff1a </p><pre><code>def add_end(L=None)\n    if L is None:\n        L = []\n    L.append('END')\n    return L\n\n&gt;&gt;&gt; add_end()\n['END']\n&gt;&gt;&gt; add_end()\n['END']\n</code></pre><p></p>"},{"location":"Python/Basic/Python-No-6-Function/#_11","title":"\u53ef\u53d8\u53c2\u6570 *","text":"<p>Abstract</p> <p>\u53ef\u53d8\u53c2\u6570\u53ef\u4ee5\u63a5\u6536 0~N\u4e2a\u53c2\u6570</p> <p><code>def funcName( [para1 ... ,] *paraN)</code></p> <p>\u5f53\u53c2\u6570\u7684\u4e2a\u6570\u4e0d\u786e\u5b9a\u7684\u65f6\u5019\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528\u53ef\u53d8\u53c2\u6570 <code>*paraN</code></p> <p>\u5f62\u53c2\u548c\u5b9e\u53c2\u90fd\u53ef\u4ee5\u4f7f\u7528\u53ef\u53d8\u53c2\u6570\u3002</p> <p><code>\u5f62\u53c2</code> \u4f7f\u7528\u53ef\u53d8\u53c2\u6570\uff0c\u5219\u662f\u544a\u8bc9\u8c03\u7528\u8005\u6211\u53ef\u4ee5\u63a5\u53d70~N\u4e2a\u53c2\u6570\uff0c</p> <p><code>\u5b9e\u53c2</code> \u4f7f\u7528\u53ef\u53d8\u53c2\u6570\uff0c\u5219\u662f\u544a\u8bc9\u51fd\u6570\u6211\u5df2\u7ecf\u6253\u5305\u597d\u4e86\u3002</p> <p>\u53ef\u53d8\u53c2\u6570\u7684 <code>\u5b9e\u9645\u539f\u7406</code>\uff1a</p> <p>\u5176\u5b9e\u53ef\u53d8\u53c2\u6570\u5728\u51fd\u6570\u88ab\u8c03\u7528\u65f6\uff0c\u5c06\u6240\u6709\u53c2\u6570\u81ea\u52a8\u6253\u5305\u6210\u4e00\u4e2atuple\uff0c\u7136\u540e\u4f20\u9012\u7ed9\u51fd\u6570\u3002</p> <p>\u51fd\u6570\u63a5\u6536\u5230\u4e4b\u540e\u518d\u89e3\u6784\u8fd9\u4e2atuple\uff0c\u6216\u8005\u901a\u8fc7 <code>for \u8fed\u4ee3</code> \u904d\u5386\u8fd9\u4e2atuple\u6765\u4f7f\u7528\u91cc\u9762\u7684\u5143\u7d20\u3002</p> <pre><code>def calc(*numbers):        # \u5f62\u53c2 \u4f7f\u7528\u53ef\u53d8\u53c2\u6570\uff0c\u5219\u662f\u544a\u8bc9\u8c03\u7528\u8005\u6211\u53ef\u4ee5\u63a5\u53d70~N\u4e2a\u53c2\u6570\n    sum = 0\n    for n in numbers:\n        sum += n*n\n    return sum\n\n&gt;&gt;&gt; calc(1, 2)\n5\n&gt;&gt;&gt; calc()\n0\n\n&gt;&gt;&gt; nums = [1, 2, 3]\n&gt;&gt;&gt; calc(nums[0], nums[1], nums[2]) # \u8fd9\u79cd\u5206\u6563\u4e00\u4e2a\u4e2a\u7684\u53c2\u6570\u5728\u4f20\u9012\u4e4b\u524d\u4e5f\u662f\u88ab\u81ea\u52a8\u6253\u5305\u6210\u4e00\u4e2atuple\u7684\n14\n&gt;&gt;&gt; calc(*nums)            # \u5b9e\u53c2 \u4f7f\u7528\u53ef\u53d8\u53c2\u6570\uff0c\u5219\u662f\u544a\u8bc9\u51fd\u6570\u6211\u5df2\u7ecf\u6253\u5305\u597d\u4e86\n14\n</code></pre>"},{"location":"Python/Basic/Python-No-6-Function/#_12","title":"\u5173\u952e\u5b57\u53c2\u6570 **","text":"<p>Abstract</p> <p>\u8fd9\u79cd\u65b9\u5f0f\uff0c\u8c03\u7528\u8005\u53ef\u4ee5\u4f20\u5165 0~N \u4e2a\u5173\u952e\u5b57\u53c2\u6570\uff0c\u5173\u952e\u5b57 key \u968f\u610f</p> <p><code>def funcName( [para1 ... ,] **key_paraN)</code></p> <p>\u5373\u901a\u8fc7<code>\u5173\u952e\u5b57</code>\u6765\u6307\u5b9a\u53c2\u6570\uff0c\u6216\u8005\u8bf4\u901a\u8fc7<code>\u952e-\u503c\u5bf9</code>\u7684\u65b9\u5f0f\u6765\u4f20\u5b9e\u53c2</p> <p>\u800c\u5728\u51fd\u6570\u91cc\uff0c\u5f62\u53c2 \u5173\u952e\u5b57\u53c2\u6570 <code>**paraN</code> \u5c06\u4f20\u8fc7\u6765\u7684\u8fd9\u4e9b\u952e-\u503c\u5bf9\u6253\u5305\u6210\u4e00\u4e2adict</p> <p>\u5176\u539f\u7406\u8ddf\u53ef\u53d8\u53c2\u6570\u7c7b\u4f3c</p> <ul> <li> <p>\u53ef\u53d8\u53c2\u6570 <code>*paraN</code> \u662f\u628a <code>\u9664\u4e86\u5fc5\u9009\u53c2\u6570\u5916\u7684\u6240\u6709\u53c2\u6570</code> \u6253\u5305\u6210\u4e00\u4e2atuple\u4f20\u7ed9\u51fd\u6570</p> </li> <li> <p>\u5173\u952e\u5b57\u53c2\u6570 <code>**paraN</code> \u662f\u628a <code>\u9664\u4e86\u5fc5\u9009\u53c2\u6570\u5916\u7684\u6240\u6709\u53c2\u6570</code> \u6253\u5305\u6210\u4e00\u4e2adict\u4f20\u7ed9\u51fd\u6570</p> </li> </ul> <p>\u4e4b\u540e\u51fd\u6570\u5185\u90e8\u53ef\u4ee5\u901a\u8fc7 <code>for \u8fed\u4ee3</code> \u904d\u5386\u8fd9\u4e2adict\u6765\u4f7f\u7528\u91cc\u9762\u7684\u952e-\u503c\u5bf9</p> <p>\u56e0\u4e3a\u662f\u4f7f\u7528\u952e-\u503c\u5bf9\u7684\u65b9\u5f0f\uff0c\u6240\u4ee5\u4f20\u53c2\u65f6\u7684 <code>\u4f20\u7ed9\u5173\u952e\u5b57\u53c2\u6570\u7684</code>\u53c2\u6570\u987a\u5e8f\u662f\u65e0\u6240\u8c13\u7684</p> <pre><code>def person(name, age, **kv):\n    print('name:', name, '--' , 'age:', age, '--' , 'other:' kv)\n\n\n# \u53ea\u586b\u5fc5\u9009\u53c2\u6570\u7684\u8c03\u7528\u65b9\u6cd5\n&gt;&gt;&gt; person('Boii', 23)\nname: Boii -- age: 23 -- other: {}\n\n\n# \u586b\u4e86\u5fc5\u9009\u53c2\u6570\u548c\u81ea\u5b9a\u4e49\u53c2\u6570\u7684\u8c03\u7528\u65b9\u6cd5\n&gt;&gt;&gt; person('Boii', 23, city='SWA')\nname: Boii -- age: 23 -- other: {'city':'SWA'}\n\n&gt;&gt;&gt; person('Adam', 45, gender='M', job='Engineer')\nname: Adam -- age: 45 -- other: {'gender': 'M', 'job': 'Engineer'}\n\n# \u5173\u952e\u5b57\u5b9e\u53c2\u7684\u987a\u5e8f\u65e0\u6240\u8c13\n&gt;&gt;&gt; person('Adam', 45, job='Engineer', gender='M')\nname: Adam -- age: 45 -- other: {'job': 'Engineer', 'gender': 'M'}\n\n# \u8fd8\u53ef\u4ee5\u81ea\u5df1\u628a\u53c2\u6570\u6253\u5305\u6210dict\uff0c\u7136\u540e\u4f20\u7ed9\u51fd\u6570, \u539f\u7406\u548c\u53ef\u53d8\u53c2\u6570\u7c7b\u4f3c\n&gt;&gt;&gt; d = {'job': 'Engineer', 'gender': 'M'}\n&gt;&gt;&gt; person('Adam', 45, **d)\nname: Adam -- age: 45 -- other: {'job': 'Engineer', 'gender': 'M'}\n</code></pre>"},{"location":"Python/Basic/Python-No-6-Function/#_13","title":"\u547d\u540d\u5173\u952e\u5b57\u53c2\u6570 *\uff0c","text":"<p>Abstract</p> <p><code>def funcName( [para1 ... ,] *, key_paraN)</code></p> <p>\u5bf9\u6bd4\u5173\u952e\u5b57\u53c2\u6570 \u2193</p> <p><code>def funcName( [para1 ... ,] **key_paraN)</code></p> <p>\u533a\u522b\u4e8e\u5173\u952e\u5b57\u53c2\u6570\uff1a</p> <ul> <li>\u5982\u679c\u60f3\u8981\u6c42\u8c03\u7528\u8005\u5728\u8c03\u7528\u7684\u65f6\u5019\u5fc5\u987b\u7528\u4f60\u7ed9\u7684 key\uff0c\u5219\u53ef\u4ee5\u7528 \u547d\u540d\u5173\u952e\u5b57\u53c2\u6570 <code>*, key_paraN</code></li> <li>\u8fd9\u79cd\u65b9\u5f0f\uff0c\u8c03\u7528\u8005\u5fc5\u987b \u9075\u5faa\u4e2a\u6570 \u548c \u5173\u952e\u5b57</li> </ul> <pre><code>def person(*, city, nationality):\n    print('city:', city)\n    print('nationality:', nationality)\n\n&gt;&gt;&gt; person(city='SWA', nationality='China')\ncity: SWA\nnationality: China\n\n&gt;&gt;&gt; person(nationality='China', city='SWA')\ncity: SWA\nnationality: China\n\n# \u9519\u8bef\u793a\u4f8b\n&gt;&gt;&gt;  person()\nTypeError: person() missing 2 required keyword-only arguments: 'city' and 'nationality'\n\n&gt;&gt;&gt;  person('SWA', 'China')\nTypeError: person() takes 0 positional arguments but 2 were given\n</code></pre> <pre><code>def person(name, age, *, city, nationality):\n    print('name:', name)\n    print('age:', age)\n    print('city:', city)\n    print('nationality:', nationality)\n\n&gt;&gt;&gt; person('Boii', 23, city='SWA', nationality='China')\nname: Boii\nage: 23\ncity: SWA\nnationality: China\n\n&gt;&gt;&gt; person('Boii', 23, nationality='China', city='SWA')\nname: Boii\nage: 23\ncity: SWA\nnationality: China\n\n# \u9519\u8bef\u793a\u4f8b\n&gt;&gt;&gt; person(city='SWA', nationality='China')\nTypeError: person() missing 2 required positional arguments: 'name' and 'age'\n</code></pre>"},{"location":"Python/Basic/Python-No-6-Function/#_14","title":"\u53c2\u6570\u7ec4\u5408","text":"<p>Abstract</p> <p>\u5728Python\u4e2d\u5b9a\u4e49\u51fd\u6570\uff0c\u53ef\u4ee5\u7528\u5fc5\u9009\u53c2\u6570\u3001\u9ed8\u8ba4\u53c2\u6570\u3001\u53ef\u53d8\u53c2\u6570\u3001\u5173\u952e\u5b57\u53c2\u6570\u548c\u547d\u540d\u5173\u952e\u5b57\u53c2\u6570</p> <p>\u8fd95\u79cd\u53c2\u6570\u90fd\u53ef\u4ee5\u7ec4\u5408\u4f7f\u7528\u3002</p> <p>\u4f46\u662f\u8bf7\u6ce8\u610f\uff0c\u53c2\u6570\u5b9a\u4e49\u7684\u987a\u5e8f\u5fc5\u987b\u662f\uff1a</p> <p><code>\u5fc5\u9009\u53c2\u6570</code>\u3001<code>\u9ed8\u8ba4\u53c2\u6570</code>\u3001<code>\u53ef\u53d8\u53c2\u6570</code>\u3001<code>\u547d\u540d\u5173\u952e\u5b57\u53c2\u6570</code>\u548c<code>\u5173\u952e\u5b57\u53c2\u6570</code>\u3002</p> <pre><code>def f1(a, b, c=0, *args, **kw):\n    print('a =', a, 'b =', b, 'c =', c, 'args =', args, 'kw =', kw)\n\ndef f2(a, b, c=0, *, d, **kw):\n    print('a =', a, 'b =', b, 'c =', c, 'd =', d, 'kw =', kw)\n\n&gt;&gt;&gt; f1(1, 2)\na = 1 b = 2 c = 0 args = () kw = {}\n\n&gt;&gt;&gt; f1(1, 2, c=3)\na = 1 b = 2 c = 3 args = () kw = {}\n\n&gt;&gt;&gt; f1(1, 2, 3, 'a', 'b')\na = 1 b = 2 c = 3 args = ('a', 'b') kw = {}\n\n&gt;&gt;&gt; f1(1, 2, 3, 'a', 'b', x=99)\na = 1 b = 2 c = 3 args = ('a', 'b') kw = {'x': 99}\n\n\n&gt;&gt;&gt; f2(1, 2, d=99, ext=None)\na = 1 b = 2 c = 0 d = 99 kw = {'ext': None}\n</code></pre> <p>\u6700\u795e\u5947\u7684\u662f\u901a\u8fc7\u4e00\u4e2atuple\u548cdict\uff0c\u4f60\u4e5f\u53ef\u4ee5\u8c03\u7528\u4e0a\u8ff0\u51fd\u6570\uff1a</p> <pre><code>def f1(a, b, c=0, *args, **kw):\n    print('a =', a, 'b =', b, 'c =', c, 'args =', args, 'kw =', kw)\n\ndef f2(a, b, c=0, *, d, **kw):\n    print('a =', a, 'b =', b, 'c =', c, 'd =', d, 'kw =', kw)\n\n\n&gt;&gt;&gt; args = (1, 2, 3, 4)\n&gt;&gt;&gt; kw = {'d': 99, 'x': '#'}\n\n&gt;&gt;&gt; f1(*args, **kw)\na = 1 b = 2 c = 3 args = (4,) kw = {'d': 99, 'x': '#'}\n\n\n\n&gt;&gt;&gt; args = (1, 2, 3)\n&gt;&gt;&gt; kw = {'d': 88, 'x': '#'}\n\n&gt;&gt;&gt; f2(*args, **kw)\na = 1 b = 2 c = 3 d = 88 kw = {'x': '#'}\n</code></pre> <p>\u6240\u4ee5\uff0c\u5bf9\u4e8e\u4efb\u610f\u51fd\u6570\uff0c\u90fd\u53ef\u4ee5\u901a\u8fc7\u7c7b\u4f3c<code>func(*args, **kw)</code>\u7684\u5f62\u5f0f\u8c03\u7528\u5b83\uff0c\u65e0\u8bba\u5b83\u7684\u53c2\u6570\u662f\u5982\u4f55\u5b9a\u4e49\u7684\u3002</p> <p>\uff01\uff01\u867d\u7136\u53ef\u4ee5\u7ec4\u5408\u591a\u8fbe5\u79cd\u53c2\u6570\uff0c\u4f46\u4e0d\u8981\u540c\u65f6\u4f7f\u7528\u592a\u591a\u7684\u7ec4\u5408\uff0c\u5426\u5219\u51fd\u6570\u63a5\u53e3\u7684\u53ef\u7406\u89e3\u6027\u5f88\u5dee\u3002</p>"},{"location":"Python/Basic/Python-No-6-Function/#_15","title":"\u9012\u5f52\u51fd\u6570","text":"<p>Abstract</p> <p>\u81ea\u5df1\u8c03\u7528\u81ea\u5df1</p> <p>\u9012\u5f52\u8981\u7d20\uff1a</p> <ol> <li>\u81ea\u5df1\u8c03\u7528\u81ea\u5df1</li> <li>\u6709\u5224\u65ad\u6761\u4ef6        \uff08\u6ca1\u5224\u65ad\u5c31\u6b7b\u5faa\u73af\u4e86\uff0c\u4f1a\u5bfc\u81f4\u6ea2\u51fa\uff09</li> <li>\u6709\u53d8\u91cf\u8fed\u4ee3        \uff08\u6ca1\u53d8\u91cf\u8fed\u4ee3\u5c31\u6b7b\u5faa\u73af\u4e86\uff09</li> </ol> <pre><code>def fact(n):\n    return 1 if n == 1 else n * fact(n-1)\n\n&gt;&gt;&gt; fact(5)\n120\n&gt;&gt;&gt; fact(10)\n3628800\n</code></pre> <p>\u8ba1\u7b97 fact(5) \u7684\u65f6\u5019</p> <pre><code>===&gt; fact(5)\n===&gt; 5 * fact(4)\n===&gt; 5 * (4 * fact(3))\n===&gt; 5 * (4 * (3 * fact(2)))\n===&gt; 5 * (4 * (3 * (2 * fact(1))))\n===&gt; 5 * (4 * (3 * (2 * 1)))\n===&gt; 5 * (4 * (3 * 2))\n===&gt; 5 * (4 * 6)\n===&gt; 5 * 24\n===&gt; 120\n</code></pre>"},{"location":"Python/Basic/Python-No-7-Error-Handle/","title":"\u9519\u8bef\u5904\u7406","text":""},{"location":"Python/Basic/Python-No-7-Error-Handle/#_1","title":"\u9519\u8bef\u5904\u7406","text":"<p><code>try...except1...[exceptN...[finally...]</code></p> <pre><code>try:\n    \u53ef\u80fd\u4f1a\u51fa\u73b0\u5f02\u5e38\u7684\u4ee3\u7801\nexcept \u5f02\u5e38\u7c7b\u578b [as \u522b\u540d]\uff1a\n    \u51fa\u73b0\u5f02\u5e38\u540e\u7684\u5904\u7406\nfinally:\n    \u4e0d\u7ba1\u662f\u5426\u51fa\u73b0\u5f02\u5e38\u6700\u540e\u90fd\u4f1a\u6267\u884c\u7684\u4ee3\u7801\n</code></pre> <p>Example</p> <pre><code># \u51fa\u73b0 \u9664\u96f6\u7684\u5f02\u5e38 \u793a\u4f8b\n\ntry:\n    print(\"Try---------\")\n    r = 10/0\n    print(\"result: \", r)\nexcept ZeroDivisionError as e:\n    print(\"Except------\", e)\nfinally:\n    print(\"Finally-----\")\n\nprint(\"END\")\n\n--------------------------------------------------\n\n# Output:\nTry---------\nExcept------ division by zero\nFinally-----\nEND\n</code></pre> <p>try \u8bed\u53e5\u5757\u4e2d\u7684\u4ee3\u7801\u9047\u5230\u5f02\u5e38\u540e\u4f1a\u8df3\u8f6c\u5230 except \u8bed\u53e5\u5757\u6267\u884c \u800c finally \u8bed\u53e5\u5757\u4e0d\u7ba1\u6709\u6ca1\u6709\u5f02\u5e38\u6700\u540e\u90fd\u4f1a\u6267\u884c\u3002\u5f53\u7136\uff0c\u4e5f\u53ef\u4ee5\u6ca1\u6709 finally \u8bed\u53e5</p> <p>\u6ca1\u6709\u5f02\u5e38\u7684\u793a\u4f8b</p> <pre><code>try:\n    print(\"Try---------\")\n    r = 10/2\n    print(\"result: \", r)\nexcept ZeroDivisionError as e:\n    print(\"Except------\", e)\nfinally:\n    print(\"Finally-----\")\n\nprint(\"END\")\n\n--------------------------------------------------\n\n# Output:\nTry---------\nresult: 5\nFinally-----\nEND\n</code></pre>"},{"location":"Python/Basic/Python-No-7-Error-Handle/#_2","title":"\u6355\u83b7\u591a\u4e2a\u5f02\u5e38","text":"<p>\u6355\u83b7\u5f02\u5e38\u4e0d\u6b62\u53ef\u4ee5\u6355\u83b7\u4e00\u4e2a\uff0c\u8fd8\u53ef\u4ee5<code>\u6355\u83b7\u591a\u4e2a</code></p> <p>\u6355\u83b7\u591a\u4e2a\u5f02\u5e38</p> <pre><code>try:\n    print(\"Try---------\")\n    r = 10 / int('a')\n    print(\"result: \", r)\nexcept ValueError as e:\n    print('ValueError: ', e)\nexcept ZeroDivisionError as e:\n    print(\"ZeroDivisionError: \", e)\nfinally:\n    print(\"Finally-----\")\n\nprint(\"END\")\n\n--------------------------------------------------\n\n# Output:\n\nTry---------\nValueError:  invalid literal for int() with base 10: 'a'\nFinally-----\nEND\n</code></pre>"},{"location":"Python/Basic/Python-No-7-Error-Handle/#else","title":"else \u8bed\u53e5","text":"<p>\u5728 except \u540e\u9762\u8fd8\u53ef\u4ee5\u52a0\u4e00\u4e2a <code>else \u8bed\u53e5\u5757</code></p> <p></p><pre><code># else \u8bed\u53e5\u5728\u6ca1\u6709\u5f02\u5e38\u7684\u60c5\u51b5\u4e0b \u793a\u4f8b\n\ntry:\n    print(\"Try---------\")\n    r = 10 / int('2')\n    print(\"result: \", r)\nexcept ValueError as e:\n    print('ValueError: ', e)\nexcept ZeroDivisionError as e:\n    print(\"ZeroDivisionError: \", e)\nelse:\n    print(\"Else--------No Error!\")\nfinally:\n    print(\"Finally-----\")\n\nprint(\"END\")\n\n--------------------------------------------------\n\n# Output:\n\nTry---------\nresult: 5.0\nElse--------No Error!\nFinally-----\nEND\n</code></pre> else \u8bed\u53e5\u4e0d\u540c\u4e8efinally \u8bed\u53e5\u3002finally \u8bed\u53e5\u662f\u6709\u65e0\u5f02\u5e38\u90fd\u4f1a\u6267\u884c\uff0celse \u8bed\u53e5\u4f1a\u5728\u6ca1\u6709\u5f02\u5e38\u7684\u60c5\u51b5\u4e0b\u6267\u884c <pre><code># else \u8bed\u53e5\u5728\u6709\u5f02\u5e38\u7684\u60c5\u51b5\u4e0b \u793a\u4f8b\n\ntry:\n    print(\"Try---------\")\n    r = 10 / int('a')\n    print(\"result: \", r)\nexcept ValueError as e:\n    print('ValueError: ', e)\nexcept ZeroDivisionError as e:\n    print(\"ZeroDivisionError: \", e)\nelse:\n    print(\"Else--------No Error!\")\nfinally:\n    print(\"Finally-----\")\n\nprint(\"END\")\n\n--------------------------------------------------\n\n# Output:\nTry---------\nValueError:  invalid literal for int() with base 10: 'a'\nFinally-----\nEND\n</code></pre><p></p>"},{"location":"Python/Basic/Python-No-7-Error-Handle/#_3","title":"\u4f18\u70b9\uff1a\u8de8\u8d8a\u591a\u5c42\u8c03\u7528","text":"<p>\u4f8b\u5982\u73b0\u5728 <code>A()</code> \u8c03\u7528 <code>B()</code>\uff0c<code>B()</code> \u8c03\u7528 <code>C()</code>\uff0c\u5728 <code>C()</code> \u51fa\u9519\u4e86\uff0c\u53ea\u8981 <code>A()</code> \u6355\u83b7\u5230\u4e86\uff0c\u5c31\u53ef\u4ee5\u5904\u7406\u3002</p> <p></p><pre><code>def C(s):\n    return 10 / int(s)\n\ndef B(s):\n    return C(s) * 2\n\ndef A():\n    try:\n        B('0')\n    except Exception as e:\n        print(\"Error:\", e)\n    finally:\n        print(\"Finally------\")\n\nA()\n\n--------------------------------------------------\n\n# Output:\n\nError: division by zero\nFinally------\n</code></pre> \u867d\u7136\u9519\u8bef\u662f\u5728 <code>C()</code> \u51fa\u73b0\uff0c\u4f46\u662f\u5728 <code>A()</code> \u4e5f\u80fd\u6355\u83b7\u3002 \u5982\u679c\u9519\u8bef\u6ca1\u6709\u88ab\u6355\u83b7\uff0c\u5b83\u5c31\u4f1a\u4e00\u76f4\u5f80\u4e0a\u629b\uff0c\u6700\u540e\u88abPython\u89e3\u91ca\u5668\u6355\u83b7\uff0c\u6253\u5370\u4e00\u4e2a\u9519\u8bef\u4fe1\u606f\uff0c\u7136\u540e\u7a0b\u5e8f\u9000\u51fa\u3002<p></p>"},{"location":"Python/Basic/Python-No-7-Error-Handle/#class","title":"\u9519\u8bef\u662f\u4e2aclass","text":"<p>\u6240\u6709\u7684\u9519\u8bef\u7c7b\u578b\u90fd\u7ee7\u627f\u81ea <code>BaseException</code>\uff0c\u5982\u679c\u6355\u83b7\u5230\u4e86\u4e00\u4e2a\u7236\u7c7b\u9519\u8bef\uff0c\u5176\u5b50\u7c7b\u9519\u8bef\u4e0d\u4f1a\u88ab\u6355\u83b7\u3002 \u4f8b\u5982\uff1a </p><pre><code>try:\n    foo()\nexcept ValueError as e:\n    print('ValueError')\nexcept UnicodeError as e:\n    print('UnicodeError')\n</code></pre> \u7b2c\u4e8c\u4e2aexcept\u6c38\u8fdc\u6355\u83b7\u4e0d\u5230 <code>UnicodeError</code>\uff0c\u56e0\u4e3a<code>UnicodeError</code>\u662f<code>ValueError</code>\u7684\u5b50\u7c7b\u3002<p></p> <p>\u5373\u4f7f\u6709<code>UnicodeError</code>\uff0c\u4e5f\u88ab\u7b2c\u4e00\u4e2aexcept\u6355\u83b7\u4e86\u3002</p>"},{"location":"Python/Basic/Python-No-7-Error-Handle/#_4","title":"\u9519\u8bef\u7c7b\u7ee7\u627f\u5173\u7cfb","text":"<pre><code>BaseException\n +-- SystemExit\n +-- KeyboardInterrupt\n +-- GeneratorExit\n +-- Exception\n      +-- StopIteration\n      +-- StopAsyncIteration \n      +-- AttributeError     \u5c5e\u6027\u9519\u8bef\n      +-- AssertionError     \u65ad\u8a00\u9519\u8bef\n      +-- BufferError        \u7f13\u51b2\u9519\u8bef\n      +-- EOFError           \u6587\u4ef6\u7ed3\u675f\u7b26\u9519\u8bef\n      +-- MemoryError        \u5185\u5b58\u9519\u8bef\n      +-- ReferenceError\n      +-- SystemError        \u7cfb\u7edf\u9519\u8bef\n      +-- TypeError          \u7c7b\u578b\u9519\u8bef\n      +-- ArithmeticError    \u7b97\u672f\u9519\u8bef\n      |    +-- FloatingPointError\n      |    +-- OverflowError\n      |    +-- ZeroDivisionError\n      +-- ImportError        \u5bfc\u5165\u9519\u8bef\n      |    +-- ModuleNotFoundError\n      +-- LookupError\n      |    +-- IndexError\n      |    +-- KeyError\n      +-- NameError          \u547d\u540d\u9519\u8bef\n      |    +-- UnboundLocalError\n      +-- OSError            \u64cd\u4f5c\u7cfb\u7edf\u9519\u8bef\n      |    +-- BlockingIOError      IO\u963b\u585e\u9519\u8bef\n      |    +-- ChildProcessError    \u5b50\u8fdb\u7a0b\u9519\u8bef\n      |    +-- ConnectionError\n      |    |    +-- BrokenPipeError\n      |    |    +-- ConnectionAbortedError\n      |    |    +-- ConnectionRefusedError\n      |    |    +-- ConnectionResetError\n      |    +-- FileExistsError\n      |    +-- FileNotFoundError\n      |    +-- InterruptedError\n      |    +-- IsADirectoryError\n      |    +-- NotADirectoryError\n      |    +-- PermissionError\n      |    +-- ProcessLookupError\n      |    +-- TimeoutError\n      +-- RuntimeError       \u8fd0\u884c\u65f6\u9519\u8bef\n      |    +-- NotImplementedError\n      |    +-- RecursionError\n      +-- SyntaxError        \u540c\u6b65\u9519\u8bef\n      |    +-- IndentationError\n      |         +-- TabError\n      +-- ValueError         \u503c\u9519\u8bef\n      |    +-- UnicodeError\n      |         +-- UnicodeDecodeError\n      |         +-- UnicodeEncodeError\n      |         +-- UnicodeTranslateError\n      +-- Warning            \u8b66\u544a\n           +-- DeprecationWarning\n           +-- PendingDeprecationWarning\n           +-- RuntimeWarning\n           +-- SyntaxWarning\n           +-- UserWarning\n           +-- FutureWarning\n           +-- ImportWarning\n           +-- UnicodeWarning\n           +-- BytesWarning\n           +-- ResourceWarning\n</code></pre>"},{"location":"Python/Basic/Python-No-7-Error-Handle/#_5","title":"\u629b\u51fa\u9519\u8bef","text":"<p>\u9519\u8bef\u662f class\uff0c \u6355\u83b7\u9519\u8bef\u5b9e\u8d28\u4e0a\u5c31\u662f\u6355\u83b7\u5230\u8be5 class \u7684\u4e00\u4e2a\u5b9e\u4f8b\u3002\u56e0\u6b64\uff0c\u9519\u8bef\u662f\u53ef\u4ee5\u6709\u610f\u521b\u5efa\u5e76\u629b\u51fa\u7684\u3002</p> <p><code>try...except...</code>\u662f\u627f\u63a5\u9519\u8bef\uff0c\u800c<code>raise</code>\u662f\u629b\u51fa\u9519\u8bef</p> <p></p><pre><code>def register():\n    username = input(\"\u8bf7\u8f93\u5165\u7528\u6237\u540d\uff1a\")\n    if len(username) &lt; 6:\n        raise Exception(\"\u7528\u6237\u540d\u957f\u5ea6\u5fc5\u987b6\u4f4d\u4ee5\u4e0a\")\n    else:\n        print(\"\u8f93\u5165\u7684\u7528\u6237\u540d\u662f:\", username)\n\n\nregister()\n\n--------------------------------------------------\n\n# Output1:\n\u8bf7\u8f93\u5165\u7528\u6237\u540d\uff1aadmin\nTraceback (most recent call last):\n  File \"d:/---Programming---/Python/Project/mo2.py\", line 9, in &lt;module&gt;\n    register()\n  File \"d:/---Programming---/Python/Project/mo2.py\", line 4, in register\n    raise Exception(\"\u7528\u6237\u540d\u957f\u5ea6\u5fc5\u987b6\u4f4d\u4ee5\u4e0a\")\nException: \u7528\u6237\u540d\u957f\u5ea6\u5fc5\u987b6\u4f4d\u4ee5\u4e0a\n\n# Output2:\n\u8bf7\u8f93\u5165\u7528\u6237\u540d\uff1aadministor\n\u8f93\u5165\u7684\u7528\u6237\u540d\u662f: administor\n</code></pre> \u5728 if \u4e2d\u4e3b\u52a8<code>raise</code>\u629b\u51fa\u9519\u8bef\uff0c\u4f46\u662f\u8c03\u7528<code>register()</code>\u7684\u5730\u65b9\u6ca1\u6709<code>try...except</code>\u6765\u6355\u83b7\u9519\u8bef\uff0c\u6240\u4ee5\u6700\u540e\u7531\u89e3\u91ca\u5668\u5904\u7406\uff0c\u6253\u5370\u51fa\u4e86\u9519\u8bef\u4fe1\u606f<p></p> <p></p><pre><code>def register():\n    username = input(\"\u8bf7\u8f93\u5165\u7528\u6237\u540d\uff1a\")\n    if len(username) &lt; 6:\n        raise Exception(\"\u7528\u6237\u540d\u957f\u5ea6\u5fc5\u987b6\u4f4d\u4ee5\u4e0a\")\n    else:\n        print(\"\u8f93\u5165\u7684\u7528\u6237\u540d\u662f\uff1a\", username)\n\ntry:\n    register()\nexcept Exception as e:\n    print(e)\n    print(\"\u6ce8\u518c\u5931\u8d25\")\nelse:\n    print(\"\u6ce8\u518c\u6210\u529f\")\n\n--------------------------------------------------\n\n# Output1:\n\u8bf7\u8f93\u5165\u7528\u6237\u540d\uff1aadmin\n\u7528\u6237\u540d\u957f\u5ea6\u5fc5\u987b6\u4f4d\u4ee5\u4e0a\n\u6ce8\u518c\u5931\u8d25\n\n# Output2:\n\u8bf7\u8f93\u5165\u7528\u6237\u540d\uff1aadministor\n\u8f93\u5165\u7684\u7528\u6237\u540d\u662f: administor\n\u6ce8\u518c\u6210\u529f\n</code></pre> \u5728 if \u5904 <code>raise</code>\u629b\u51fa\u9519\u8bef\uff0c\u5728<code>register()</code>\u4f7f\u7528\u4e86<code>try...except</code>\u6355\u83b7\u9519\u8bef\uff0c\u7136\u540e\u8fdb\u884c\u4e86\u5904\u7406\u3002<p></p>"},{"location":"Python/Basic/Python-No-7-Error-Handle/#_6","title":"\u81ea\u5b9a\u4e49\u9519\u8bef","text":"<p>\u4e3b\u52a8\u629b\u51fa\u9519\u8bef\uff0c\u8fd9\u4e2a\u9519\u8bef\u53ef\u4ee5\u662f\u81ea\u5df1\u5b9a\u4e49\u7684 class\uff0c\u56e0\u4e3a\u9519\u8bef\u4e5f\u662f class\u3002 </p><pre><code>class NameUndercutting(Exception):\n    pass\n\ndef register():\n    username = input(\"\u8bf7\u8f93\u5165\u7528\u6237\u540d\uff1a\")\n    if len(username) &lt; 6:\n        raise Exception(\"\u7528\u6237\u540d\u957f\u5ea6\u5fc5\u987b6\u4f4d\u4ee5\u4e0a\")\n    else:\n        print(\"\u8f93\u5165\u7684\u7528\u6237\u540d\u662f\uff1a\", username)\n\ntry:\n    register()\nexcept NameUndercutting as e:\n    print(e)\n    print(\"\u6ce8\u518c\u5931\u8d25\")\nelse:\n    print(\"\u6ce8\u518c\u6210\u529f\")\n\n--------------------------------------------------\n\n# Output1:\n\u8bf7\u8f93\u5165\u7528\u6237\u540d\uff1aadmin\n\u7528\u6237\u540d\u957f\u5ea6\u5fc5\u987b6\u4f4d\u4ee5\u4e0a\n\u6ce8\u518c\u5931\u8d25\n\n# Output2:\n\u8bf7\u8f93\u5165\u7528\u6237\u540d\uff1aadministor\n\u8f93\u5165\u7684\u7528\u6237\u540d\u662f: administor\n\u6ce8\u518c\u6210\u529f\n</code></pre><p></p>"},{"location":"Python/Basic/Python-No-8-Debug/","title":"\u8c03\u8bd5","text":""},{"location":"Python/Basic/Python-No-8-Debug/#_1","title":"\u8c03\u8bd5","text":"<p>\u5927\u578b\u9879\u76ee\u4e2d\uff0c\u4e00\u822c\u90fd\u662f\u4f7f\u7528\u65e5\u5fd7\u6765\u8c03\u8bd5\u7a0b\u5e8f\u3002\u4e0d\u8fc7\u6709\u65f6\u5019\u6709\u4e00\u5c0f\u5757\u4ee3\u7801\u60f3\u505a\u8c03\u8bd5\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u7528<code>print</code>\u548c<code>assert</code>\u3002</p>"},{"location":"Python/Basic/Python-No-8-Debug/#print-assert","title":"print &amp; assert","text":"<p><code>print()</code> \u5c31\u662f\u5e38\u89c1\u7684\u6253\u5370\u51fd\u6570\u3002</p> <p>\u51e1\u662f\u7528<code>print()</code>\u7684\u5730\u65b9\u90fd\u53ef\u4ee5\u7528 <code>\u65ad\u8a00assert\u8bed\u53e5</code>\u4ee3\u66ff</p> <pre><code># \u7528print\n\ndef foo(s):\n    n = int(s)\n    if n == 0:\n        print(\"n is zero!\")\n    else:\n        return 10 / n\n\nfoo('0')\n\n--------------------------------------------------\n\n# Output:\nTraceback (most recent call last):\n ...\nZeroDivisionError: division by zero\n</code></pre> <pre><code># \u7528assert\n\ndef foo(s):\n    n = int(s)\n    assert n == 0 , \"n is zero!\"\n    return 10 / n\n\nfoo('0')\n\n--------------------------------------------------\n\n# Output:\nTraceback (most recent call last):\n ...\nAssertionError: n is zero!\n</code></pre> <p>\u5f53assert\u540e\u9762\u7684\u8868\u8fbe\u5f0f\u4e3a False \u65f6\uff0c\u5219\u629b\u51fa <code>AssertionError</code>\u9519\u8bef</p> <p><code>assert expression</code>\u7b49\u4ef7\u4e8e</p> <pre><code>if not expression:\n    raise AssertionError\n</code></pre> <p><code>assert expression [,arguments]</code>\u7b49\u4ef7\u4e8e </p><pre><code>if not expression:\n    rasise AssertionError(arguments)\n</code></pre><p></p> <p>\u4f8b\u5982\uff1a\u65ad\u8a00\u5f53\u524d\u7cfb\u7edf\u4e3a linux </p><pre><code>import sys\nassert (linux in sys.platform), \"\u8be5\u4ee3\u7801\u53ea\u80fd\u5728 linux \u7cfb\u7edf\u4e0b\u6267\u884c\"\n</code></pre><p></p>"},{"location":"Python/Basic/Python-No-8-Debug/#logging","title":"\u65e5\u5fd7\u6a21\u5757 logging","text":"<p>Python \u6807\u51c6\u5e93\u4e2d\u6709\u4e00\u4e2a\u65e5\u5fd7\u6a21\u5757 <code>logging</code>\uff0c\u76f8\u5f53\u4e8e java \u4e2d\u7684 <code>log4j</code></p> <p>\u5728 \u8f6f\u4ef6\u5f00\u53d1\u9636\u6bb5 \u6216 \u90e8\u7f72\u5f00\u53d1\u73af\u5883 \u65f6\uff0c \u4e3a\u4e86\u5c3d\u53ef\u80fd\u8be6\u7ec6\u7684\u67e5\u770b\u5e94\u7528\u7a0b\u5e8f\u7684\u8fd0\u884c\u72b6\u6001\u6765\u4fdd\u8bc1\u4e0a\u7ebf\u540e\u7684\u7a33\u5b9a\u6027\uff0c \u6211\u4eec\u53ef\u80fd\u9700\u8981\u628a\u8be5\u5e94\u7528\u7a0b\u5e8f\u6240\u6709\u7684\u8fd0\u884c\u65e5\u5fd7\u5168\u90e8\u8bb0\u5f55\u4e0b\u6765\u8fdb\u884c\u5206\u6790\uff0c\u8fd9\u662f\u975e\u5e38\u8017\u8d39\u673a\u5668\u6027\u80fd\u7684\u3002</p> <p>\u5f53 \u5e94\u7528\u7a0b\u5e8f\u6b63\u5f0f\u53d1\u5e03 \u6216 \u5728\u751f\u4ea7\u73af\u5883\u90e8\u7f72\u5e94\u7528\u7a0b\u5e8f \u65f6\uff0c \u6211\u4eec\u901a\u5e38\u53ea\u9700\u8981\u8bb0\u5f55\u5e94\u7528\u7a0b\u5e8f\u7684<code>\u5f02\u5e38\u4fe1\u606f</code>\u3001<code>\u9519\u8bef\u4fe1\u606f</code>\u7b49\uff0c \u8fd9\u6837\u65e2\u53ef\u4ee5\u51cf\u5c0f\u670d\u52a1\u5668\u7684I/O\u538b\u529b\uff0c\u4e5f\u53ef\u4ee5\u907f\u514d\u6211\u4eec\u5728\u6392\u67e5\u6545\u969c\u65f6\u88ab\u6df9\u6ca1\u5728\u65e5\u5fd7\u7684\u6d77\u6d0b\u91cc\u3002</p>"},{"location":"Python/Basic/Python-No-8-Debug/#logging_1","title":"logging \u65e5\u5fd7\u7b49\u7ea7","text":"<p>\u628a\u65e5\u5fd7\u5206\u4e3a6\u4e2a\u7b49\u7ea7</p> Level value Description NOTEST 0 DEBUG 10 \u6700\u8be6\u7ec6\u7684\u65e5\u5fd7\u4fe1\u606f\uff0c\u5178\u578b\u5e94\u7528\u573a\u666f\u662f \u95ee\u9898\u8bca\u65ad INFO 20 \u901a\u5e38\u53ea\u8bb0\u5f55\u5173\u952e\u8282\u70b9\u4fe1\u606f\uff0c\u7528\u4e8e\u786e\u8ba4\u4e00\u5207\u90fd\u662f\u6309\u7167\u6211\u4eec\u9884\u671f\u7684\u90a3\u6837\u8fdb\u884c\u5de5\u4f5c WARNING 30 \u5f53\u67d0\u4e9b\u4e0d\u671f\u671b\u7684\u4e8b\u60c5\u53d1\u751f\u65f6\u8bb0\u5f55\u7684\u4fe1\u606f\uff0c\u4f46\u662f\u6b64\u65f6\u5e94\u7528\u7a0b\u5e8f\u8fd8\u662f\u6b63\u5e38\u8fd0\u884c\u7684 ERROR 40 \u7531\u4e8e\u4e00\u4e2a\u66f4\u4e25\u91cd\u7684\u95ee\u9898\u5bfc\u81f4\u67d0\u4e9b\u529f\u80fd\u4e0d\u80fd\u6b63\u5e38\u8fd0\u884c\u65f6\u8bb0\u5f55\u7684\u4fe1\u606f CRITICAL 50 \u5f53\u53d1\u751f\u4e25\u91cd\u9519\u8bef\uff0c\u5bfc\u81f4\u5e94\u7528\u7a0b\u5e8f\u4e0d\u80fd\u7ee7\u7eed\u8fd0\u884c\u65f6\u8bb0\u5f55\u7684\u4fe1\u606f <p>\u65e5\u5fd7\u7b49\u7ea7\u662f\u4ece\u4e0b\u5230\u4e0a\u4f9d\u6b21\u5347\u9ad8\u7684\uff08\u503c\u8d8a\u5927\u7b49\u7ea7\u8d8a\u9ad8\uff09</p> <p>\u5373\uff1aNOTEST &lt; DEBUG &lt; INFO &lt; WARNING &lt; ERROR &lt; CRITICAL\uff0c\u800c\u65e5\u5fd7\u7684\u4fe1\u606f\u91cf\u662f\u4f9d\u6b21\u51cf\u5c11\u7684\uff1b</p> <p>\u5f00\u53d1\u5e94\u7528\u7a0b\u5e8f\u6216\u90e8\u7f72\u5f00\u53d1\u73af\u5883\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528<code>DEBUG</code>\u6216<code>INFO</code>\u7ea7\u522b\u7684\u65e5\u5fd7\u83b7\u53d6\u5c3d\u53ef\u80fd\u8be6\u7ec6\u7684\u65e5\u5fd7\u4fe1\u606f\u6765\u8fdb\u884c\u5f00\u53d1\u6216\u90e8\u7f72\u8c03\u8bd5\uff1b</p> <p>\u5e94\u7528\u4e0a\u7ebf\u6216\u90e8\u7f72\u751f\u4ea7\u73af\u5883\u65f6\uff0c\u5e94\u8be5\u4f7f\u7528<code>WARNING</code>\u6216<code>ERROR</code>\u6216<code>CRITICAL</code>\u7ea7\u522b\u7684\u65e5\u5fd7\u6765\u964d\u4f4e\u673a\u5668\u7684I/O\u538b\u529b\u548c\u63d0\u9ad8\u83b7\u53d6\u9519\u8bef\u65e5\u5fd7\u4fe1\u606f\u7684\u6548\u7387\u3002</p> <p>\u65e5\u5fd7\u7ea7\u522b\u7684\u6307\u5b9a\u901a\u5e38\u90fd\u662f\u5728<code>\u5e94\u7528\u7a0b\u5e8f\u7684\u914d\u7f6e\u6587\u4ef6</code>\u4e2d\u8fdb\u884c\u6307\u5b9a\u7684\u3002</p>"},{"location":"Python/Basic/Python-No-8-Debug/#logging_2","title":"logging \u914d\u7f6e","text":"<p><code>loggong.basicConfig(**kwargs)</code></p> <p><code>**kwargs</code> \u53ef\u4ee5\u63a5\u6536\u5173\u952e\u5b57\u53c2\u6570\u5982\u4e0b\uff1a</p> \u53c2\u6570\u540d\u79f0 \u63cf\u8ff0 \u53d6\u503c\u8303\u56f4 filename \u6307\u5b9a\u65e5\u5fd7\u8f93\u51fa\u76ee\u6807\u6587\u4ef6\u7684\u6587\u4ef6\u540d\uff0c\u6307\u5b9a\u8be5\u8bbe\u7f6e\u9879\u540e\u65e5\u5fd7\u4fe1\u606f\u5c31\u4e0d\u4f1a\u88ab\u8f93\u51fa\u5230\u63a7\u5236\u53f0\u4e86 string filemode \u6307\u5b9a\u65e5\u5fd7\u6587\u4ef6\u7684\u6253\u5f00\u6a21\u5f0f\uff0c\u9ed8\u8ba4\u4e3a'a'\u3002\u8be5\u9009\u9879\u8981\u5728filename\u6307\u5b9a\u65f6\u624d\u6709\u6548 a\u3001w format \u6307\u5b9a\u65e5\u5fd7\u683c\u5f0f\u5b57\u7b26\u4e32\uff0c\u5373\u6307\u5b9a\u65e5\u5fd7\u8f93\u51fa\u65f6\u6240\u5305\u542b\u7684\u5b57\u6bb5\u4fe1\u606f\u4ee5\u53ca\u5b83\u4eec\u7684\u987a\u5e8f \u8be6\u89c1\u4e0b\u8868 datefmt \u6307\u5b9a\u65e5\u671f/\u65f6\u95f4\u683c\u5f0f\uff0c\u8be5\u9009\u9879\u8981\u5728format\u4e2d\u5305\u542b\u65f6\u95f4\u5b57\u6bb5%(asctime)s\u65f6\u624d\u6709\u6548 datefmt level \u6307\u5b9a\u65e5\u5fd7\u5668\u7684\u65e5\u5fd7\u7ea7\u522b logging.DEBUG\u3001logging.INFO... stream \u6307\u5b9a\u65e5\u5fd7\u8f93\u51fa\u76ee\u6807stream\u3002 sys.stdout\u3001sys.stderr\u4ee5\u53ca\u7f51\u7edcstream style \u6307\u5b9aformat\u683c\u5f0f\u5b57\u7b26\u4e32\u7684\u98ce\u683c\uff0c\u53ef\u53d6\u503c\u4e3a\uff0c\u9ed8\u8ba4\u4e3a'%' %\u3001{\u3001$ handlers \u8be5\u9009\u9879\u5982\u679c\u88ab\u6307\u5b9a\uff0c\u5b83\u5e94\u8be5\u662f\u4e00\u4e2a\u521b\u5efa\u4e86\u591a\u4e2aHandler\u7684\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff0c\u8fd9\u4e9bhandler\u5c06\u4f1a\u88ab\u6dfb\u52a0\u5230root logger\u3002 \u4e00\u4e2a\u521b\u5efa\u4e86\u591a\u4e2aHandler\u7684\u53ef\u8fed\u4ee3\u5bf9\u8c61 <p><code>filename</code>\u3001<code>stream</code>\u548c<code>handlers</code>\u8fd9\u4e09\u4e2a\u914d\u7f6e\u9879\u53ea\u80fd\u6709\u4e00\u4e2a\u5b58\u5728\uff0c\u4e0d\u80fd\u540c\u65f6\u51fa\u73b02\u4e2a\u62163\u4e2a\uff0c\u5426\u5219\u4f1a\u5f15\u53d1ValueError\u5f02\u5e38\u3002</p> <p>format \u53c2\u6570\u7684\u53d6\u503c\u8868</p> \u540d\u79f0 \u4f7f\u7528\u683c\u5f0f \u63cf\u8ff0 asctime %(asctime)s \u65e5\u5fd7\u4e8b\u4ef6\u53d1\u751f\u7684\u65f6\u95f4-- \u4eba\u7c7b\u53ef\u8bfb\u65f6\u95f4\uff0c\u5982\uff1a2003-07-08 16:49:45,896 created %(created)f \u65e5\u5fd7\u4e8b\u4ef6\u53d1\u751f\u7684\u65f6\u95f4-- \u65f6\u95f4\u6233\uff0c\u5c31\u662f\u5f53\u65f6\u8c03\u7528time.time()\u51fd\u6570\u8fd4\u56de\u7684\u503c relativeCreated %(relativeCreated)d \u65e5\u5fd7\u4e8b\u4ef6\u53d1\u751f\u7684\u65f6\u95f4\u76f8\u5bf9\u4e8elogging\u6a21\u5757\u52a0\u8f7d\u65f6\u95f4\u7684 \u76f8\u5bf9\u6beb\u79d2\u6570 \uff08\u76ee\u524d\u8fd8\u4e0d\u77e5\u9053\u5e72\u561b\u7528\u7684\uff09 msecs %(msecs)d \u65e5\u5fd7\u4e8b\u4ef6\u53d1\u751f\u7684\u65f6\u95f4\u7684 \u6beb\u79d2\u90e8\u5206 --------------- ------------------- ---------------------------------------------------------------------------- levelname %(levelname)s \u8be5\u65e5\u5fd7\u8bb0\u5f55\u7684\u6587\u5b57\u5f62\u5f0f\u7684 \u65e5\u5fd7\u7ea7\u522b \uff08'DEBUG', 'INFO', 'WARNING', 'ERROR', 'CRITICAL'\uff09 levelno %(levelno)s \u8be5\u65e5\u5fd7\u8bb0\u5f55\u7684\u6570\u5b57\u5f62\u5f0f\u7684 \u65e5\u5fd7\u7ea7\u522b \uff0810,20,30,40,50\uff09 lineno %(lineno)d \u8c03\u7528\u65e5\u5fd7\u8bb0\u5f55\u51fd\u6570\u7684 \u6e90\u4ee3\u7801\u6240\u5728\u7684\u884c\u53f7 funcName %(funcName)s \u8c03\u7528\u65e5\u5fd7\u8bb0\u5f55\u51fd\u6570\u7684 \u51fd\u6570\u540d name %(name)s \u6240\u4f7f\u7528\u7684 \u65e5\u5fd7\u5668\u540d\u79f0\uff0c\u9ed8\u8ba4\u662f'root'\uff0c message %(message)s \u65e5\u5fd7\u8bb0\u5f55\u7684 \u6587\u672c\u5185\u5bb9\uff0c\u901a\u8fc7 msg % args\u8ba1\u7b97\u5f97\u5230\u7684 --------------- ------------------- ---------------------------------------------------------------------------- pathname %(pathname)s \u8c03\u7528\u65e5\u5fd7\u8bb0\u5f55\u51fd\u6570\u7684\u6e90\u7801\u6587\u4ef6\u7684 \u5168\u8def\u5f84 filename %(filename)s pathname\u7684 \u6587\u4ef6\u540d\u90e8\u5206\uff0c\u5305\u542b\u6587\u4ef6\u540e\u7f00 module %(module)s filename\u7684 \u540d\u79f0\u90e8\u5206\uff0c\u4e0d\u5305\u542b\u540e\u7f00 --------------- ------------------- ---------------------------------------------------------------------------- process %(process)d \u8fdb\u7a0bID processName %(processName)s \u8fdb\u7a0b\u540d\u79f0\uff0cPython 3.1\u65b0\u589e thread %(thread)d \u7ebf\u7a0bID threadname %(thread)s \u7ebf\u7a0b\u540d\u79f0 <p></p><pre><code>import logging\n\nLOG_FORMAT = \"%(asctime)s - %(levelname)s - %(message)s\"    # \u65e5\u5fd7\u6253\u5370\u683c\u5f0f\nDATE_FORMAT = \"%Y-%m-%d %H:%M:%S\"    # \u65f6\u95f4\u6253\u5370\u683c\u5f0f\n\n# \u914d\u7f6e\u65e5\u5fd7\nlogging.basicConfig(filename='my.log', level=logging.DEBUG, format=LOG_FORMAT, datefmt=DATE_FORMAT)\n\nlogging.debug(\"This is a debug log.\")\nlogging.info(\"This is a info log.\")\nlogging.warning(\"This is a warning log.\")\nlogging.error(\"This is a error log.\")\nlogging.critical(\"This is a critical log.\")\n</code></pre> \u4ee5\u4e0a\u4ee3\u7801 \u914d\u7f6e\u4e86\u65e5\u5fd7\u6587\u4ef6\uff0c\u7ea7\u522b\u8bbe\u7f6e\u4e3a DEBUG\uff0c\u8f93\u51fa\u683c\u5f0f\u4e3a <code>\u65e5\u5fd7\u53d1\u751f\u65f6\u95f4 - \u65e5\u5fd7\u7b49\u7ea7 - \u65e5\u5fd7\u4fe1\u606f</code><p></p> <p>\u6267\u884c\u540e\u7ed3\u679c\u5982\u4e0b\uff1a</p> <p></p> <p>\u6267\u884c\u7b2c\u4e8c\u6b21\u540e\u7ed3\u679c\u5982\u4e0b\uff1a</p> <p></p> <p>\u5982\u679c\u8981\u8ba9\u65e5\u5fd7\u683c\u5f0f\u597d\u770b\u70b9\uff0c\u8fd8\u53ef\u4ee5\u6307\u5b9a\u5bbd\u5ea6\u3002</p> <p>\u6bd4\u5982\u6267\u884c \u65e5\u5fd7\u7b49\u7ea7 \u7684\u6253\u5370\u5bbd\u5ea6\u4e3a 8\uff0c\u5728 s \u524d\u9762\u52a0\u4e0a\u5bbd\u5ea6\u5373\u53ef\uff1a<code>%(levelname)8s</code></p> <p>\u5982\u679c\u8981\u5de6\u5bf9\u9f50\uff0c\u5219\u5199\u4e0a\u51cf\u53f7 -\uff1a<code>%(levelname)-8s</code></p> <pre><code># \u5bfc\u5165\u6a21\u5757\nimport logging\n\nLOG_FORMAT = \"%(asctime)s - %(levelname)-8s - %(message)s\"    # \u65e5\u5fd7\u6253\u5370\u683c\u5f0f\nDATE_FORMAT = \"%Y-%m-%d %H:%M:%S\"    # \u65f6\u95f4\u6253\u5370\u683c\u5f0f\n\n# \u914d\u7f6e\u65e5\u5fd7\nlogging.basicConfig(filename='my.log', level=logging.DEBUG, format=LOG_FORMAT, datefmt=DATE_FORMAT)\n\n# \u6253\u65e5\u5fd7\nlogging.debug(\"This is a debug log.\")\nlogging.info(\"This is a info log.\")\nlogging.warning(\"This is a warning log.\")\nlogging.error(\"This is a error log.\")\nlogging.critical(\"This is a critical log.\")\n</code></pre> <p>\u5de6\u5bf9\u9f50\uff1a<code>%(levelname)-8s</code></p> <p></p> <p>\u53f3\u5bf9\u9f50\uff1a<code>%(levelname)8s</code></p> <p></p>"},{"location":"Python/Basic/Python-No-8-Debug/#logging_3","title":"logging \u6a21\u5757\u4f7f\u7528","text":"<p>Note</p> <p>\u7528\u6cd5\uff1a</p> <ol> <li>\u5bfc\u5165 logging</li> <li>\u914d\u7f6e(\u53ef\u9009)</li> <li>\u6253\u65e5\u5fd7</li> </ol> <p>logging \u6a21\u5757\u63d0\u4f9b\u4e86\u4e24\u79cd\u8bb0\u5f55\u65e5\u5fd7\u7684\u65b9\u5f0f\uff1a</p> <ul> <li>\u4f7f\u7528 logging \u63d0\u4f9b\u7684<code>\u6a21\u5757\u7ea7\u522b</code>\u7684\u51fd\u6570</li> <li>\u4f7f\u7528 logging \u65e5\u5fd7\u7cfb\u7edf\u7684<code>\u56db\u5927\u7ec4\u4ef6</code></li> </ul> <p>logging\u6240\u63d0\u4f9b\u7684<code>\u6a21\u5757\u7ea7\u522b</code>\u7684\u65e5\u5fd7\u8bb0\u5f55\u51fd\u6570\u4e5f\u662f\u5bf9logging<code>\u65e5\u5fd7\u7cfb\u7edf\u76f8\u5173\u7c7b</code>\u7684\u5c01\u88c5\u800c\u5df2\u3002</p>"},{"location":"Python/Basic/Python-No-8-Debug/#_2","title":"\u51fd\u6570\u7528\u6cd5","text":"<p>\u5e38\u7528\u6a21\u5757\u7ea7\u522b\u51fd\u6570</p> Function Description logging.debug(msg, *args, **kwargs) \u521b\u5efa\u4e00\u6761\u4e25\u91cd\u7ea7\u522b\u4e3a DEBUG \u7684\u65e5\u5fd7\u8bb0\u5f55 logging.info(msg, *args, **kwargs) \u521b\u5efa\u4e00\u6761\u4e25\u91cd\u7ea7\u522b\u4e3a INFO \u7684\u65e5\u5fd7\u8bb0\u5f55 logging.warning(msg, *args, **kwargs) \u521b\u5efa\u4e00\u6761\u4e25\u91cd\u7ea7\u522b\u4e3a WARNNING \u7684\u65e5\u5fd7\u8bb0\u5f55 logging.error(msg, *args, **kwargs) \u521b\u5efa\u4e00\u6761\u4e25\u91cd\u7ea7\u522b\u4e3a ERROR \u7684\u65e5\u5fd7\u8bb0\u5f55 logging.critical(msg, *args, **kwargs) \u521b\u5efa\u4e00\u6761\u4e25\u91cd\u7ea7\u522b\u4e3a CRITICAL \u7684\u65e5\u5fd7\u8bb0\u5f55 logging.log(msg, *args, **kwargs) \u521b\u5efa\u4e00\u6761\u4e25\u91cd\u7ea7\u522b\u4e3a LOG \u7684\u65e5\u5fd7\u8bb0\u5f55 logging.basicConfig(**kwargs) \u5bf9root logger\u8fdb\u884c\u4e00\u6b21\u6027\u914d\u7f6e <p></p><pre><code>import logging    # \u5bfc\u5165\u6a21\u5757\n\n# \u6253\u65e5\u5fd7\nlogging.debug(\"This is a debug log.\")\nlogging.info(\"This is a info log.\")\nlogging.warning(\"This is a warning log.\")\nlogging.error(\"This is a error log.\")\nlogging.critical(\"This is a critical log.\")\n\n\n\u6216\n\nimport logging    #\u5bfc\u5165\u6a21\u5757\n\n# \u6253\u65e5\u5fd7\nlogging.log(logging.DEBUG, \"This is a debug log.\")\nlogging.log(logging.INFO, \"This is a info log.\")\nlogging.log(logging.WARNING, \"This is a warning log.\")\nlogging.log(logging.ERROR, \"This is a error log.\")\nlogging.log(logging.CRITICAL, \"This is a critical log.\")\n--------------------------------------------------\n\n# Output:\nWARNING:root:This is a warning log.\nERROR:root:This is a error log.\nCRITICAL:root:This is a critical log.\n</code></pre> \u8fd9\u91cc\u53ea\u8f93\u51fa warning \u7ea7\u522b\u4ee5\u4e0a\u7684\u4fe1\u606f\u3002\u8fd9\u662f\u56e0\u4e3a\u9ed8\u8ba4\u7684\u65e5\u5fd7\u7b49\u7ea7\u662f warning \uff0c\u6240\u4ee5 debug \u548c info \u7ea7\u522b\u7684\u4fe1\u606f\u5c31\u88ab\u5ffd\u7565\u4e86\u3002<p></p> <p>logging \u53ea\u8f93\u51fa \u5927\u4e8e\u7b49\u4e8e \u6240\u8bbe\u7f6e\u7ea7\u522b\u4ee5\u4e0a\u7684\u65e5\u5fd7\u4fe1\u606f\u3002</p> <p>\u8fd9\u70b9\u53ef\u4ee5\u5728 <code>logging.basicConfig()</code>\u4e2d\u8bbe\u7f6e\u3002</p>"},{"location":"Python/Basic/Python-No-9-Test/","title":"\u6d4b\u8bd5","text":""},{"location":"Python/Basic/Python-No-9-Test/#_1","title":"\u6d4b\u8bd5","text":"<p>\u6d4b\u8bd5\u5206\u4e3a <code>\u5355\u5143\u6d4b\u8bd5</code>\u3001<code>\u7ec4\u4ef6\u6d4b\u8bd5</code>\u3001<code>\u7cfb\u7edf\u6d4b\u8bd5</code>\u3001<code>\u6027\u80fd\u6d4b\u8bd5</code>\uff0c\u9010\u7ea7\u4e0a\u5347\u3002</p> <p>\u6240\u8c13\u7684<code>\u6d4b\u8bd5\u9a71\u52a8\u5f00\u53d1(TDD\uff1aTest-Driven Development)</code>\uff0c\u5c31\u662f\u8bf4\u6bcf\u5199\u5b8c\u4e00\u4e2a\u5c0f\u529f\u80fd\uff0c\u5c31\u8981\u505a\u4e00\u4e2a\u5b8c\u6574\u7684\u5355\u5143\u6d4b\u8bd5\uff0c\u6bcf\u6b21\u8fdb\u884c\u6539\u52a8\u4ee5\u540e\u90fd\u8981\u8fdb\u884c\u4e00\u6b21\u5355\u5143\u6d4b\u8bd5\uff0c\u4ee5\u786e\u4fdd\u529f\u80fd\u6b63\u5e38\u3002</p> <p>\u6bcf\u4e2a\u5355\u5143\u6d4b\u8bd5\u90fd\u901a\u8fc7\u4ee5\u540e\u5c31\u53ef\u4ee5\u8fdb\u884c\u7ec4\u4ef6\u6d4b\u8bd5\uff0c\u6240\u6709\u7ec4\u4ef6\u6d4b\u8bd5\u90fd\u901a\u8fc7\u5c31\u53ef\u4ee5\u8fdb\u884c\u7cfb\u7edf\u6d4b\u8bd5\uff0c\u7cfb\u7edf\u6d4b\u8bd5\u901a\u8fc7\u5c31\u53ef\u4ee5\u8fdb\u884c\u6027\u80fd\u6d4b\u8bd5\uff0c\u6027\u80fd\u6d4b\u8bd5\u7c7b\u4f3c\u4e8e\u201c\u70e4\u673a\u201d\uff0c\u6d4b\u8bd5\u7cfb\u7edf\u7684\u6700\u5927\u627f\u53d7\u80fd\u529b\uff0c\u627f\u53d7\u5cf0\u503c\u7b49\u7b49\u3002</p>"},{"location":"Python/Basic/Python-No-9-Test/#_2","title":"\u5355\u5143\u6d4b\u8bd5","text":"<p>\u5355\u5143\u6d4b\u8bd5\u5c31\u662f\u5bf9\u4e00\u4e2a\u6a21\u5757\u3001\u4e00\u4e2a\u51fd\u6570\u6216\u8005\u4e00\u4e2a\u7c7b\u8fdb\u884c\u6b63\u786e\u6027\u68c0\u9a8c\u7684\u68c0\u6d4b\u5de5\u4f5c \u4e3e\u4e2a\u6817\u5b50\uff1a</p> <p>\u5bf9\u4e00\u4e2a\u6c42\u7edd\u5bf9\u503c\u51fd\u6570 <code>abs(num)</code>\uff0c\u53ef\u4ee5\u7f16\u5199\u4e00\u4e0b\u51e0\u4e2a\u6d4b\u8bd5\u7528\u4f8b\uff1a</p> <ol> <li>\u8f93\u5165\u6b63\u6570 \u5982 <code>1</code>\u3001<code>4.1</code>\u3001<code>5.9</code>\uff0c\u671f\u5f85\u8fd4\u56de\u6b63\u6574\u6570 <code>1</code>\u3001<code>4.1</code>\u3001<code>5.9</code></li> <li>\u8f93\u5165\u8d1f\u6570 \u5982 <code>-1.5</code>\u3001<code>-3.7</code>\u3001<code>20</code>\uff0c\u671f\u5f85\u8fd4\u56de\u6b63\u6574\u6570 <code>1.5</code>\u3001<code>3.7</code>\u3001<code>20</code></li> <li>\u8f93\u5165 <code>0</code>\uff0c\u671f\u5f85\u8fd4\u56de <code>0</code></li> <li>\u8f93\u5165\u975e\u6570\u503c\u7c7b\u578b \u5982 <code>None</code>\u3001<code>[]</code>\u3001<code>{}</code>\uff0c\u671f\u5f85\u629b\u51fa<code>TypeError</code>\u3002</li> </ol> <p>\u5c06\u4e0a\u97624\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u653e\u5230\u4e00\u4e2a\u6d4b\u8bd5\u6a21\u5757\u91cc\uff0c\u5c31\u662f\u4e00\u4e2a\u5b8c\u6574\u5355\u5143\u6d4b\u8bd5\u3002</p> <p>\u5355\u5143\u6d4b\u8bd5\u80fd\u901a\u8fc7\u4e86\uff0c\u8bf4\u660e\u8fd9\u4e2a\u51fd\u6570\u529f\u80fd\u6b63\u5e38\uff0c\u5982\u679c\u4e0d\u901a\u8fc7\uff0c\u8981\u4e48\u51fd\u6570\u6709\u95ee\u9898\uff0c\u8981\u4e48\u6d4b\u8bd5\u7528\u4f8b\u6709\u95ee\u9898\u3002</p> <p>\u6240\u4ee5\u8981\u4fee\u590d\u76f4\u5230\u5355\u5143\u6d4b\u8bd5\u80fd\u591f\u901a\u8fc7\u3002</p> <p>\u8fd9\u6837\u505a\u7684\u597d\u5904\u662f\uff0c\u5982\u679c\u6211\u4eec\u5bf9<code>abs()</code>\u505a\u4e86\u4fee\u6539\uff0c\u53ea\u8981\u518d\u8fdb\u884c\u4e00\u6b21\u5355\u5143\u6d4b\u8bd5\uff0c\u53ef\u4ee5\u901a\u8fc7\uff0c\u5c31\u8bf4\u660e\u4fee\u6539\u6ca1\u6709\u5f71\u54cd\u51fd\u6570\u7684\u529f\u80fd\u3002\u5982\u679c\u4e0d\u901a\u8fc7\u5219\u8981\u627e\u51fa\u95ee\u9898\uff0c\u4fee\u6539\u5230\u901a\u8fc7\u5355\u5143\u6d4b\u8bd5\u4e3a\u6b62\u3002\u6781\u5927\u7a0b\u5ea6\u4e0a\u786e\u4fdd\u8be5\u6a21\u5757\u884c\u4e3a\u4ecd\u7136\u662f\u6b63\u786e\u7684\u3002</p>"},{"location":"Python/Basic/Python-No-9-Test/#_3","title":"\u6587\u6863\u6d4b\u8bd5","text":"<p>\u4e00\u4e2a\u51fd\u6570\u3001\u6a21\u5757\u3001\u7c7b\u7684\u7b2c\u4e00\u4e2a\u533f\u540d\u5b57\u7b26\u4e32\uff0c\u5c31\u662f\u6587\u6863\u3002\u5982</p> <pre><code>def func():\n    '''\n    \u8fd9\u91cc\u662f\u6587\u6863\n    '''\n    pass\n\n\nclass cls:\n    '''\n    \u8fd9\u91cc\u662f\u6587\u6863\n    '''\n    pass\n</code></pre> <p>\u6587\u6863\u7684\u5185\u5bb9\u53ef\u4ee5\u4f5c\u4e3a\u6d4b\u8bd5\u96c6\u6765\u8fdb\u884c\u6d4b\u8bd5\u3002</p> <ul> <li>\u7b2c\u4e00\u6b65\uff1a\u7f16\u5199\u6587\u6863\u3002\u6587\u6863\u4e2d <code>&gt;&gt;&gt;</code>\u7684\u884c\u4f1a\u88ab\u6267\u884c\uff0c\u8fd9\u4e0e\u5728\u4ea4\u4e92\u6a21\u5f0f\u4e0b\u6267\u884c\u8bed\u53e5\u7684\u76f8\u540c\u7684\u3002</li> <li>\u7b2c\u4e8c\u6b65\uff1a<code>if __name__ == '__main__': import doctest; doctest.testmod()</code></li> <li>\u7b2c\u4e09\u6b65\uff1a\u8fd0\u884c\u6587\u4ef6</li> </ul> <p>\u4f8b\u5982\u4e0a\u9762\u7684\u7edd\u5bf9\u503c\u51fd\u6570<code>abs()</code>\u53ef\u4ee5\u8fd9\u6837\u5199</p> <p></p><pre><code>def abs(num):\n    '''\n    The function will return the absolute value of num.\n\n    &gt;&gt;&gt; abs(11)\n    11\n    &gt;&gt;&gt; abs(-41)\n    41\n    &gt;&gt;&gt; abs(0)\n    0\n    &gt;&gt;&gt; abs('a')\n    Traceback (most recent call last):\n        ...\n    TypeError: '&gt;=' not supported between instances of 'str' and 'int'\n    '''\n    return n if n &gt;= 0 else (-n)\n\n\nif __name__ == '__main__':\n    import doctest\n    doctest.testmod()\n</code></pre> \u6587\u6863\u4e2d\u4ee5 <code>&gt;&gt;&gt;</code> \u8868\u793a\u6d4b\u8bd5\u7528\u4f8b\uff0c\u5e76\u5728\u4e0b\u884c\u5199\u51fa\u7ed3\u679c\u3002\u5982\u679c\u6d4b\u8bd5\u7ed3\u679c\u6b63\u786e\uff0c\u5219\u4ec0\u4e48\u4e5f\u4e0d\u4f1a\u8f93\u51fa\u3002<p></p>"},{"location":"Python/Basic/Python-No-9-Test/#_4","title":"\u5c0f\u7ed3","text":"<p>doctest\u975e\u5e38\u6709\u7528\uff0c\u4e0d\u4f46\u53ef\u4ee5\u7528\u6765\u6d4b\u8bd5\uff0c\u8fd8\u53ef\u4ee5\u76f4\u63a5\u4f5c\u4e3a\u793a\u4f8b\u4ee3\u7801\u3002\u901a\u8fc7\u67d0\u4e9b\u6587\u6863\u751f\u6210\u5de5\u5177\uff0c\u5c31\u53ef\u4ee5\u81ea\u52a8\u628a\u5305\u542bdoctest\u7684\u6ce8\u91ca\u63d0\u53d6\u51fa\u6765\u3002\u7528\u6237\u770b\u6587\u6863\u7684\u65f6\u5019\uff0c\u540c\u65f6\u4e5f\u770b\u5230\u4e86doctest\u3002</p>"},{"location":"Python/Basic/Python-No-9-Test/#unittest","title":"Unittest","text":"<ol> <li>\u73af\u5883\u642d\u5efa\uff1aPython\u5df2\u5185\u7f6eUnittest\u6846\u67b6\uff0c\u76f4\u63a5<code>import unittest</code></li> <li>\u56db\u5927\u7ec4\u4ef6\uff1a<ol> <li>test fixture\uff1a<code>setUp</code>\uff08\u524d\u7f6e\u6761\u4ef6\uff09\u3001<code>tearDown</code>\uff08\u540e\u7f6e\u6761\u4ef6\uff09\uff0c\u7528\u4e8e\u521d\u59cb\u5316\u6d4b\u8bd5\u7528\u4f8b\u53ca\u6e05\u7406\u548c\u91ca\u653e\u8d44\u6e90</li> <li>test case\uff1a\u6d4b\u8bd5\u7528\u4f8b\uff0c\u901a\u8fc7\u7ee7\u627f<code>unittest.TestCase</code>\u5b9e\u73b0\u7528\u4f8b\u7684\u7ee7\u627f\u3002\u5728Unittest\u4e2d\uff0c\u6d4b\u8bd5\u7528\u4f8b\u90fd\u662f\u901a\u8fc7test\u524d\u7f00\u6216\u540e\u7f00\u6765\u8bc6\u522b\u7684\u3002     <code>def test_xxx(self)</code>\u3001<code>def xxx_test(self)</code></li> <li>test suite\uff1a\u6d4b\u8bd5\u5957\u4ef6\uff0c\u5373\u6d4b\u8bd5\u7528\u4f8b\u7684\u96c6\u5408\u3002</li> <li>test runner\uff1a\u8fd0\u884c\u5668\uff0c\u4e00\u822c\u901a\u8fc7<code>runner</code>\u6765\u8c03\u7528<code>suite</code>\u53bb\u6267\u884c\u6d4b\u8bd5\u3002</li> </ol> </li> <li>\u8fd0\u884c\u673a\u5236\uff1a\u901a\u8fc7\u5728main\u51fd\u6570\u4e2d\uff0c\u8c03\u7528<code>unittest.main()</code>\u8fd0\u884c\u6240\u6709\u5185\u5bb9</li> </ol> <pre><code>import unittest\n\nclass forTest(unittest.TestCase):\n    # \u521d\u59cb\u5316\n    def setUp(self) -&gt; None:\n        print('setUp')\n\n    # \u91ca\u653e\n    def tearDown(self) -&gt; None:\n        print('tearDown')\n\n    # \u6d4b\u8bd5\u7528\u4f8b1\n    def test_a(self):\n        print('a')\n\n    # \u6d4b\u8bd5\u7528\u4f8b2\n    def test_b(self):\n        print('b')\n\n\nif __name__ == '__main__'\uff1b\n    unittest.main()\n\n--------------------------------------------------\n\n# Output:\nsetUp\na\ntearDown\nsetUp\nb\ntearDown\n</code></pre>"},{"location":"Python/Builtin/Python-No-Builtin-json/","title":"Python\u3010Buildins\u3011json","text":"<p>Python\u7684\u5185\u7f6e\u5e93\u2014\u2014json\u5904\u7406</p> <p><code>{\"firstName\":\"John\", \"lastName\":\"Doe\"}</code></p> <p>\u5bf9\u4e8edictionaries\uff0ckeys\u9700\u8981\u662f\u5b57\u7b26\u4e32\u7c7b\u578b(\u5b57\u5178\u4e2d\u4efb\u4f55\u975e\u5b57\u7b26\u4e32\u7c7b\u578b\u7684key\u5728\u7f16\u7801\u65f6\u4f1a\u5148\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32)\u3002\u800c\u4e14\uff0c\u5728web\u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u9876\u5c42\u5bf9\u8c61\u88ab\u7f16\u7801\u4e3a\u4e00\u4e2a\u5b57\u5178\u662f\u4e00\u4e2a\u6807\u51c6\u505a\u6cd5\u3002</p> <p>\u8fd9\u53e5\u8bdd\u5927\u6982\u610f\u601d\u662f\uff1a</p> <ol> <li>\u7528<code>{}</code> \u5f00\u5934\u548c\u7ed3\u5c3e</li> <li>\u7528<code>str</code>\u8868\u793a key</li> <li>\u7528<code>str, int, list, dict</code> \u8868\u793a value</li> <li>list\u7528<code>[index]</code>\u8bbf\u95ee</li> <li>dict\u7528<code>.key</code>\u8bbf\u95ee</li> </ol> <p>json \u5b57\u7b26\u4e32\u751f\u6210 python \u5bf9\u8c61\uff1a<code>json.load()</code> python \u5bf9\u8c61\u683c\u5f0f\u5316\u4e3a json \u5b57\u7b26\u4e32\uff1a<code>json.dump()</code></p>","tags":["Python","json"]},{"location":"Python/Builtin/Python-No-Builtin-json/#_1","title":"\u6570\u636e\u7c7b\u578b","text":"<p>\u8f6c\u6362\u5bf9\u5e94\u8868\uff08python -&gt; json\uff09</p> Python JSON dict object list, tuple array str string int, float number True true False false None null <p>\u8f6c\u6362\u5bf9\u5e94\u8868\uff08json -&gt; python\uff09</p> JSON Python object dict array list string str number(int) int number(real) float true True false False null None","tags":["Python","json"]},{"location":"Python/Builtin/Python-No-Builtin-json/#_2","title":"\u5e38\u7528\u65b9\u6cd5","text":"\u65b9\u6cd5 \u529f\u80fd \u603b\u7ed3 json.dump(obj,fp) \u5c06python\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u5e76\u4fdd\u5b58\u5230json\u683c\u5f0f\u6587\u4ef6\u5185 p -&gt; j,\u5199\u5165\u6587\u4ef6 json.dumps(obj) \u5c06python\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u4e3ajson\u683c\u5f0f\u7684\u5b57\u7b26\u4e32 p -&gt; j json.load(fp) \u4ecejson\u683c\u5f0f\u7684\u6587\u4ef6\u4e2d\u8bfb\u53d6\u6570\u636e\u5e76\u8f6c\u6362\u4e3apython\u7684\u7c7b\u578b \u4ece\u6587\u4ef6\u8bfb, j -&gt; p json.loads(str) \u5c06json\u683c\u5f0f\u7684\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3apython\u7684\u7c7b\u578b j -&gt; p <p>\u5e26s\u7684\u662f\u5904\u7406\u5b57\u7b26\u4e32 \u4e0d\u5e26s\u7684\u662f\u4ece\u6587\u4ef6\u91cc\u5904\u7406</p> <p></p>","tags":["Python","json"]},{"location":"Python/Builtin/Python-No-Builtin-json/#python-json","title":"Python -&gt; JSON","text":"<p><code>json.dump(obj, fp, *, skipkeys=False, ensure_ascii=True, check_circular=True, allow_nan=True, cls=None, indent=None, separators=None, default=None, sort_keys=False, **kw)</code></p> <p><code>json.dumps(obj, *, skipkeys=False, ensure_ascii=True, check_circular=True, allow_nan=True, cls=None, indent=None, separators=None, default=None, sort_keys=False, **kw)</code></p> <ul> <li><code>obj</code>\uff1a\u9700\u8981\u88ab\u8f6c\u6362\u7684Python\u5bf9\u8c61</li> <li><code>fp</code>\uff1a\u6587\u4ef6\u5bf9\u8c61\uff0c\u8981\u5199\u5165\u7684\u6587\u4ef6</li> <li><code>skipkeys</code>\uff1a<ul> <li>Fasle\u65f6\uff1a\u4e0d\u662f\u57fa\u672c\u5bf9\u8c61(int\u3001str\u3001bool\u3001float)\u7684\u952e\u4e0d\u4f1a\u88ab\u8df3\u8fc7</li> <li>True\u65f6\uff1a\u4e0d\u662f\u57fa\u672c\u5bf9\u8c61(int\u3001str\u3001bool\u3001float)\u7684\u952e\u4f1a\u88ab\u8df3\u8fc7</li> </ul> </li> <li><code>ensure_ascii</code>\uff1a<ul> <li>True\uff1a\u5c06\u975eASCII\u5b57\u7b26\u8f6c\u4e49\uff0c\u4f8b\u5982\u4e2d\u6587</li> <li>False\uff1a\u5c06\u975eASCII\u5b57\u7b26\u539f\u6837\u8f93\u51fa</li> </ul> </li> <li><code>allow_nan</code>\uff1a<ul> <li>True\uff1a\u5bf9json\u89c4\u683c\u8303\u56f4\u5916\u7684float\u7c7b\u578b(nan\u3001inf\u3001-inf)\u5e8f\u5217\u5316\u65f6\u4f1a\u5f15\u53d1<code>ValueError</code></li> <li>False\uff1a\u5bf9json\u89c4\u683c\u8303\u56f4\u5916\u7684float\u7c7b\u578b(nan\u3001inf\u3001-inf)\u5e8f\u5217\u5316\u65f6\u4f7f\u7528\u7b49\u4ef7\u5f62\u5f0f(NaN\u3001Infinity\u3001-Infinity)</li> </ul> </li> <li><code>indent</code>\uff1a\u6307\u5b9a\u7f29\u8fdb\u7b49\u7ea7\uff08\u975e\u8d1f\u6574\u6570/\u5b57\u7b26\u4e32\uff09<ul> <li>0\u3001\u8d1f\u6570\u3001\"\"\uff1a\u53ea\u6dfb\u52a0\u6362\u884c\u7b26</li> <li>None\uff1a\u4e0d\u7f29\u8fdb</li> <li>\u6b63\u6574\u6570\uff1a\u6bcf\u5c42\u7f29\u8fdb\u540c\u6837\u6570\u91cf\u7684\u7a7a\u683c</li> <li>\u5b57\u7b26\u4e32\uff1a\u5982<code>\\t</code>\uff0c\u8be5\u5b57\u7b26\u4e32\u5c06\u88ab\u7528\u4e8e\u7f29\u8fdb\u6bcf\u4e00\u5c42</li> </ul> </li> <li><code>sort_keys</code>\uff1a\u6309\u5b57\u5178\u7684\u952e\u6392\u5e8f</li> <li> <p><code>default</code>\uff1a\u5176\u5e94\u8be5\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u6bcf\u5f53\u67d0\u4e2a\u5bf9\u8c61\u65e0\u6cd5\u88ab\u5e8f\u5217\u5316\u65f6\u5b83\u4f1a\u88ab\u8c03\u7528\u3002\u5b83\u5e94\u8be5\u8fd4\u56de\u8be5\u5bf9\u8c61\u7684\u4e00\u4e2a\u53ef\u4ee5\u88ab JSON \u7f16\u7801\u7684\u7248\u672c\u6216\u8005\u5f15\u53d1\u4e00\u4e2a <code>TypeError</code>\u3002</p> </li> <li> <p>\u4f7f\u7528<code>dumps()</code></p> </li> </ul> <p></p><pre><code>import json\n\n# \u8fd9\u662f\u4e00\u4e2a python \u5b57\u5178\u5bf9\u8c61\npy_dic = {\n    'firstName': 'Boii',\n    'j': {\n        'x': 1,\n        'y': \"2\",\n        'z': 3\n    },\n    \"lastName\": \"Pro\",\n    'li': [\"A\", 'b', 3]\n}\n\nprint('Python\u5bf9\u8c61\uff1a', end=\"\")\nprint(py_dic, end=\"\\t\")\nprint(type(py_dic))\n\n# \u5c06\u4e00\u4e2a Python \u5bf9\u8c61\u8f6c\u6362\u6210 json \u5b57\u7b26\u4e32\njson_str = json.dumps(py_dic, sort_keys=True)\n\nprint('JSON\u5b57\u7b26\u4e32\uff1a', end=\"\")\nprint(json_str, end=\"\\t\")\nprint(type(json_str))\n\n--------------------------------------------------\n\n# Output:\nPython\u5bf9\u8c61\uff1a{'firstName': 'Boii', 'j': {'x': 1, 'y': '2', 'z': 3}, 'lastName': 'Pro', 'li': ['A', 'b', 3]}    &lt;class 'dict'&gt;\nJSON\u5b57\u7b26\u4e32\uff1a{\"firstName\": \"Boii\", \"j\": {\"x\": 1, \"y\": \"2\", \"z\": 3}, \"lastName\": \"Pro\", \"li\": [\"A\", \"b\", 3]}    &lt;class 'str'&gt;\n</code></pre> \u53ef\u4ee5\u53d1\u73b0\uff0cPython\u4e2d\u90fd\u662f\u4f7f\u7528\u5355\u5f15\u53f7<code>'</code>\uff0cJSON\u4e2d\u90fd\u662f\u4f7f\u7528\u53cc\u5f15\u53f7<code>\"</code><p></p> <pre><code>import json\n\n# \u8fd9\u662f\u4e00\u4e2apython \u5217\u8868\u5bf9\u8c61\npy_list = [1, 2, 3]\n\nprint('Python\u5bf9\u8c61\uff1a', end=\"\")\nprint(py_list, end=\"\\t\")\nprint(type(py_list))\n\n# \u5c06\u4e00\u4e2a Python \u5bf9\u8c61\u8f6c\u6362\u6210 json \u5b57\u7b26\u4e32\njson_str = json.dumps(py_list, sort_keys=True)\n\nprint('JSON\u5b57\u7b26\u4e32\uff1a', end=\"\")\nprint(json_str, end=\"\\t\")\nprint(type(json_str))\n\n--------------------------------------------------\n\n# Output:\nPython\u5bf9\u8c61\uff1a[1, 2, 3]   &lt;class 'list'&gt;\nJSON\u5b57\u7b26\u4e32\uff1a[1, 2, 3]   &lt;class 'str'&gt;\n</code></pre> <ol> <li>\u4f7f\u7528<code>dump()</code></li> </ol> <p></p><pre><code>import json\n\npy_dic = {\n    'firstName': 'Boii',\n    'j': {\n        'x': 1,\n        'y': \"2\",\n        'z': 3\n    },\n    \"lastName\": \"Pro\",\n    'li': [\"A\", 'b', 3]\n}\n\n# \u5c06\u4e00\u4e2a Python \u5bf9\u8c61\u8f6c\u6362\u6210 json \u5b57\u7b26\u4e32\uff0c\u7136\u540e\u5199\u5165\u6587\u4ef6\nwith open('./py_dic.json', 'w', encoding='utf-8') as f:\n    json.dump(py_dic, f, sort_keys=True)\n\n--------------------------------------------------\n\n# Output:\n\u6ca1\u6709\u8f93\u51fa\uff0c\u56e0\u4e3a\u8f93\u51fa\u5230\u6587\u4ef6\u4e2d\u4e86\n\n# py_dic.json\n{\"firstName\": \"Boii\", \"j\": {\"x\": 1, \"y\": \"2\", \"z\": 3}, \"lastName\": \"Pro\", \"li\": [\"A\", \"b\", 3]}\n</code></pre> \u6709\u4e9b\u6559\u7a0b\u4e2d\u76f4\u63a5\u4f7f\u7528<code>open()</code>\u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\u5bf9\u8c61\uff0c\u7136\u540e\u5c06\u6587\u4ef6\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165<code>dump()</code>\uff0c\u5374\u6ca1\u6709\u4f7f\u7528<code>close()</code>\u5173\u95ed\u6587\u4ef6\u5bf9\u8c61\u3002\u8fd9\u662f\u9519\u8bef\u7684\uff0c\u4f1a\u9020\u6210\u6587\u4ef6\u5bf9\u8c61\u4e00\u76f4\u6ca1\u6709\u5173\u95ed\u800c\u6301\u7eed\u5360\u7528\u8ba1\u7b97\u673a\u8d44\u6e90\u3002<p></p> <p>\u89e3\u51b3\u65b9\u6cd5\uff1a\u8981\u4e48\u624b\u52a8\u8c03\u7528<code>close()</code>\u65b9\u6cd5\uff0c\u8981\u4e48\u7528<code>with\u8bed\u53e5</code></p> <pre><code>f = open('./py_dic.json', 'w', encoding='utf-8')\njson.dump(py_dic, f, sort_keys=True)\nf.close()\n\n\u6216\n\nwith open('./py_dic.json', 'w', encoding='utf-8') as f:\n    json.dump(py_dic, f, sort_keys=True)\n</code></pre>","tags":["Python","json"]},{"location":"Python/Builtin/Python-No-Builtin-json/#json-python","title":"JSON -&gt; Python","text":"<p><code>json.load(fp, *, cls=None, object_hook=None, parse_float=None, parse_int=None, parse_constant=None, object_pairs_hook=None, **kw)</code></p> <p><code>json.loads(s, *, cls=None, object_hook=None, parse_float=None, parse_int=None, parse_constant=None, object_pairs_hook=None, **kw)</code></p> <ul> <li><code>fp</code>\uff1a\u6587\u4ef6\u5bf9\u8c61\uff0c\u8981\u5199\u5165\u7684\u6587\u4ef6</li> <li><code>object_hook</code>\uff1a\u662f\u4e00\u4e2a\u53ef\u9009\u7684\u51fd\u6570\uff0c\u5b83\u4f1a\u88ab\u8c03\u7528\u4e8e\u6bcf\u4e00\u4e2a\u89e3\u7801\u51fa\u7684\u5bf9\u8c61\u5b57\u9762\u91cf\uff08\u5373\u4e00\u4e2a dict\uff09\u3002object_hook \u7684\u8fd4\u56de\u503c\u4f1a\u53d6\u4ee3\u539f\u672c\u7684 dict\u3002\u8fd9\u4e00\u7279\u6027\u80fd\u591f\u88ab\u7528\u4e8e\u5b9e\u73b0\u81ea\u5b9a\u4e49\u89e3\u7801\u5668\uff08\u5982 JSON-RPC \u7684\u7c7b\u578b\u63d0\u793a)\u3002</li> <li> <p><code>parse_float</code>\u3001<code>parse_int</code>\u3001<code>parse_constant</code>\u3001 <code>object_pairs_hook</code>\uff1a\u90fd\u662f\u7f16\u7801\u89e3\u7801\u5668\u9700\u8981\u7684\u53c2\u6570</p> </li> <li> <p>\u4f7f\u7528<code>loads()</code></p> </li> </ul> <p></p><pre><code>import json\n\nStr = '{\"name\": \"Boii\", \"age\": 30, \"tel\":[\"13800000000\", \"13100880088\"], \"isonly\":true}'\n\nprint('JSON\u5b57\u7b26\u4e32\uff1a', end=\"\")\nprint(Str, end='\\t')\nprint(type(Str))\n\n# \u5c06\u4e00\u4e2a json \u5b57\u7b26\u4e32 \u8f6c\u6362\u6210 Python \u5bf9\u8c61\npythonObj = json.loads(Str)\n\nprint('Python\u5bf9\u8c61\uff1a', end=\"\")\nprint(pythonObj, end='\\t')\nprint(type(pythonObj))\n--------------------------------------------------\n\n# Output:\n\nJSON\u5b57\u7b26\u4e32\uff1a{\"name\": \"Boii\", \"age\": 30, \"tel\":[\"13800000000\", \"13100880088\"], \"isonly\":true}    &lt;class 'str'&gt;\nPython\u5bf9\u8c61\uff1a{'name': 'Boii', 'age': 30, 'tel': ['13800000000', '13100880088'], 'isonly': True}    &lt;class 'dict'&gt;\n</code></pre> \u53ef\u4ee5\u53d1\u73b0\uff0cPython\u4e2d\u90fd\u662f\u4f7f\u7528\u5355\u5f15\u53f7<code>'</code>\uff0cJSON\u4e2d\u90fd\u662f\u4f7f\u7528\u53cc\u5f15\u53f7<code>\"</code><p></p> <ol> <li>\u4f7f\u7528<code>load()</code>\u4ecejson\u6587\u4ef6\u4e2d\u8bfb\u53d6\u8f6c\u6362\u6210Python\u5bf9\u8c61</li> </ol> <pre><code># py.json\n{\"firstName\": \"Boii\", \"j\": {\"x\": 2, \"y\": \"2\", \"z\": 3}, \"lastName\": \"Pro\", \"li\": [\"A\", \"b\", 3]}\n\n# j2p.py\nimport json\n\nwith open('./j2p.py', 'r', encoding='utf-8') as f:\n    pythonObj = json.load(f)\n    print('Python\u5bf9\u8c61\uff1a', end=\"\")\n    print(pythonObj)\n    print(type(pythonObj))\n\n--------------------------------------------------\n\n# Output:\nPython\u5bf9\u8c61\uff1a{'firstName': 'Boii', 'j': {'x': 1, 'y': '2', 'z': 3}, 'lastName': 'Pro', 'li': ['A', 'b', 3]}\n&lt;class 'dict'&gt;\n</code></pre>","tags":["Python","json"]},{"location":"Python/Builtin/Python-No-Builtin-json/#_3","title":"\u603b\u7ed3","text":"<pre><code># Writing JSON data\nwith open('data.json', 'w') as f:\n    json.dump(data, f)\n\n# Reading data back\nwith open('data.json', 'r') as f:\n    data = json.load(f)\n</code></pre>","tags":["Python","json"]},{"location":"Python/Builtin/Python-No-Builtin-re/","title":"Python\u3010Buildins\u3011re","text":"<p>Python\u7684\u5185\u7f6e\u5e93\u2014\u2014\u6b63\u5219\u8868\u8fbe\u5f0f</p> <p>\u6b63\u5219\u8868\u8fbe\u5f0f\u662f\u7528\u6765 \u5904\u7406\u5b57\u7b26\u4e32 \u7684\uff0c\u91cd\u5728\u5904\u7406 \u89c4\u5219</p> <p>\u5e38\u7528\u6b63\u5219</p> <ul> <li>\u5e74\u4efd\u5339\u914d\uff1a<code>^((19|20)\\d{2})$</code></li> <li>\u624b\u673a\u53f7\u7801\uff1a<code>^1[3456789]\\d{9}$</code></li> <li>E-mail\u5730\u5740\uff1a<code>^[\\w-]+(\\.[\\w-]+)*@[\\w-]+(\\.[\\w-]+)+$</code></li> <li>\u7f51\u5740URL\uff1a<code>http://(/[\\w-]+\\.)+[\\w-]+(/[\\w-./?%&amp;=])</code></li> </ul> <p>Note</p> <p><code>re.findall(goal, source)</code></p> <p>\u5339\u914d\u6210\u529f: \u8fd4\u56de\u4e00\u4e2a\u5217\u8868\uff0c\u5217\u8868\u4e2d\u6709<code>goal</code>\u7684\u5b57\u7b26\u4e32\uff0c\u627e\u5230n\u6b21\u5c31\u6709n\u4e2a.</p> <p>\u5339\u914d\u5931\u8d25: \u8fd4\u56de\u4e00\u4e2a\u7a7a\u5217\u8868</p> <pre><code>&gt;&gt;&gt; # \u666e\u901a\u5b57\u7b26\u6b63\u5219\u7684\u5339\u914d\n&gt;&gt;&gt;\n&gt;&gt;&gt; import re\n&gt;&gt;&gt; print(re.findall('p', 'python'))\n['p']\n&gt;&gt;&gt; print(re.findall('python', 'I like python'))\n['python']\n&gt;&gt;&gt; print(re.findall('o', 'I love python'))\n['o', 'o']\n&gt;&gt;&gt; print(re.findall('2', '1234567890abcdefg'))\n['2']\n</code></pre>","tags":["Python","\u6b63\u5219\u8868\u8fbe\u5f0f"]},{"location":"Python/Builtin/Python-No-Builtin-re/#_1","title":"\u9884\u5b9a\u4e49\u5b57\u7b26","text":"<p><code>\\d</code>\u3001<code>\\D</code>\u3001<code>\\s</code>\u3001<code>\\S</code>\u3001<code>\\w</code>\u3001<code>\\W</code></p> <ul> <li><code>\\d</code>\uff1a\u5339\u914d\u6240\u6709 \u6570\u5b57\uff0c<code>0~9</code></li> <li><code>\\w</code>\uff1a\u5339\u914d\u5305\u542b\u4e0b\u5212\u7ebf \u5b57\u7b26 <code>[a-z|A-Z|0-9|_]</code></li> <li><code>\\s</code>\uff1a\u5339\u914d \u7a7a\u767d\u7b26\u3001\u5236\u8868\u7b26\u3001\u6362\u884c\u7b26 <code>[\\n \\t]</code></li> </ul> <ul> <li><code>\\D</code>\uff1a\u5339\u914d\u6240\u6709 \u975e\u6570\u5b57\uff0c<code>^[0-9]</code></li> <li><code>\\W</code>\uff1a\u5339\u914d \u975e\u6b63\u5e38\u5b57\u7b26 <code>^[a-z|A-Z|0-9|_]</code></li> <li><code>\\S</code>\uff1a\u5339\u914d \u975e\u7a7a\u767d\u7b26\u3001\u5236\u8868\u7b26\u3001\u6362\u884c\u7b26 <code>^[\\n \\t]</code></li> </ul> <ul> <li><code>.</code>\uff1a\u9664\u4e86\u6362\u884c\u7b26\u4e4b\u5916\u6240\u6709\u5b57\u7b26</li> </ul> <pre><code>&gt;&gt;&gt; print(re.findall(r\"\\d\", \"1234657890abcdefg\"))\n['1', '2', '3', '4', '6', '5', '7', '8', '9', '0']\n&gt;&gt;&gt; print(re.findall(r\"\\D\", \"1234657890abcdefg\"))\n['a', 'b', 'c', 'd', 'e', 'f', 'g']\n\n&gt;&gt;&gt; print(re.findall(r\"\\w\", \"1234657890abcd_%$#efg\"))\n['1', '2', '3', '4', '6', '5', '7', '8', '9', '0', 'a', 'b', 'c', 'd', '_', 'e', 'f', 'g']\n&gt;&gt;&gt; print(re.findall(r\"\\W\", \"1234657890abcd_%$#efg\"))\n['%', '$', '#']\n\n&gt;&gt;&gt; print(re.findall(r\"\\s\", \"1234 657\\n890ab\\tcd_%$#efg\"))\n[' ', '\\n', '\\t']\n&gt;&gt;&gt; print(re.findall(r\"\\S\", \"1234 657\\n890ab\\tcd_%$#efg\"))\n['1', '2', '3', '4', '6', '5', '7', '8', '9', '0', 'a', 'b', 'c', 'd', '_', '%', '$', '#', 'e', 'f', 'g']\n</code></pre>","tags":["Python","\u6b63\u5219\u8868\u8fbe\u5f0f"]},{"location":"Python/Builtin/Python-No-Builtin-re/#_2","title":"\u5143\u5b57\u7b26","text":"<p><code>[]</code>\u3001<code>{n}</code>\u3001<code>^</code>\u3001<code>-</code></p> <ul> <li><code>[]</code>\uff1a\u5339\u914d\u4e00\u4e2a\u5b57\u7b26\uff0c\u62ec\u53f7\u5185\u662f \u6216\u8005 \u7684\u5173\u7cfb</li> <li><code>^</code>\uff1a\u53d6\u53cd (\u548c\u8fd9\u4e9b\u5143\u5b57\u7b26\u6216\\d\u8fd9\u4e9b\u9884\u5b9a\u4e49\u5b57\u7b26\u4e00\u8d77\u7528\u624d\u662f\u53d6\u53cd\uff0c\u5426\u5219\u548c$\u4e00\u8d77\u505a\u4f4d\u7f6e\u5339\u914d)</li> <li><code>-</code>\uff1a\u533a\u95f4</li> <li><code>()</code>\uff1a\u5206\u7ec4\uff0c\u5339\u914d\u62ec\u53f7\u5185\u7684\u5185\u5bb9\uff0c\u4e0d\u8981\u62ec\u53f7\u4e24\u8fb9\u7684\u5185\u5bb9</li> </ul> <pre><code># \u533a\u95f4\n&gt;&gt;&gt; # \u5339\u914d123\u4efb\u610f\u5355\u4e2a\u5b57\u7b26\n&gt;&gt;&gt; print(re.findall(r\"[123]\", \"1234 657\\n890ab\\tcd_%$#efg\"))\n['1', '2', '3']\n\n&gt;&gt;&gt; # \u5339\u914d\u5355\u4e2a\u6570\u5b57\uff08\\d\uff09\u6216 \u7a7a\u683c\u6362\u884c\u5236\u8868\u7b26\uff08\\s\uff09\n&gt;&gt;&gt; print(re.findall(r\"[\\d\\s]\", \"1234 657\\n890ab\\tcd_%$#efg\"))\n['1', '2', '3', '4', ' ', '6', '5', '7', '\\n', '8', '9', '0', '\\t']\n\n# \u53d6\u53cd\n&gt;&gt;&gt; # \u5339\u914d\u5355\u4e2a\u975e\u6570\u5b57\u3001\u975e\u7a7a\u683c\u6362\u884c\u5236\u8868\u7b26\n&gt;&gt;&gt; print(re.findall(r\"[^\\d\\s]\", \"1234 657\\n890ab\\tcd_%$#efg\"))\n['a', 'b', 'c', 'd', '_', '%', '$', '#', 'e', 'f', 'g']\n\n# \u8303\u56f4\n&gt;&gt;&gt; # \u5339\u914d\u5355\u4e2a1-7\u4e4b\u95f4\u7684\u6570\u5b57\n&gt;&gt;&gt; print(re.findall(r\"[1-7]\", \"1234 657\\n890ab\\tcd_%$#efg\"))\n\n&gt;&gt;&gt; # \u5339\u914d\u5355\u4e2aa-d\u4e4b\u95f4\u7684\u5b57\u6bcd\n&gt;&gt;&gt; print(re.findall(r\"[a-d]\", \"1234 657\\n890ab\\tcd_%$#efg\"))\n\n&gt;&gt;&gt; # \u5339\u914d\u5355\u4e2a 1-7 \u6216 a-d \u7684\u5b57\u7b26\n&gt;&gt;&gt; print(re.findall(r\"[1-7a-d]\", \"1234 657\\n890ab\\tcd_%$#efg\"))\n\n# \u5206\u7ec4\n&gt;&gt;&gt; # \u5339\u914d \u5de6\u8fb9a\u53f3\u8fb9\u662fa\u6216b\u6216c\u7684\u4e24\u4e2a\u5b57\u7b26\n&gt;&gt;&gt; print(re.findall(r\"a[abc]\", \"aaabacad\"))\n['aa', 'ab', 'ac']\n\n&gt;&gt;&gt; # \u7b2c\u4e00\u6b65\uff0c\u5339\u914d\u5230['aa', 'ab', 'ac']\n&gt;&gt;&gt; # \u7b2c\u4e8c\u6b65\uff0c\u4e0d\u8981\u62ec\u53f7\u4e24\u8fb9\u7684\u5b57\u7b26\uff0c\u4e5f\u5c31\u662f\u4e0d\u8981a\uff0c\u5f97\u5230['a', 'b', 'c']\n&gt;&gt;&gt; print(re.findall(r\"a([abc])\", \"aaabacad\"))\n['a', 'b', 'c']\n</code></pre>","tags":["Python","\u6b63\u5219\u8868\u8fbe\u5f0f"]},{"location":"Python/Builtin/Python-No-Builtin-re/#_3","title":"\u91cd\u590d\u5339\u914d","text":"<p>\u91cd\u590d\u5339\u914d\u9ed8\u8ba4\u662f\u8d2a\u5a6a\u5339\u914d\u7684\uff0c\u4f1a\u5c3d\u91cf\u5339\u914d\u591a\u4f4d</p> <ul> <li><code>{n}</code>\uff1a\u8868\u793a\u524d\u9762\u7684\u5b57\u7b26\u91cd\u590dn\u6b21\u624d\u88ab\u5339\u914d\u6210\u529f\u3002<code>a{3}</code>\u5c31\u5339\u914d\u51fa\uff1aaaa</li> <li><code>{n,m}</code>\uff1a\u8868\u793a\u524d\u9762\u7684\u5b57\u7b26\u81f3\u5c11\u51fa\u73b0n\u6b21\uff0c\u81f3\u591a\u51fa\u73b0m\u6b21\uff0c\u9017\u53f7\u5de6\u53f3\u4e0d\u80fd\u6709\u7a7a\u683c\uff0c\u8d2a\u5a6a\u5339\u914d</li> <li><code>{n,m}?</code>\uff1a\u8868\u793a\u524d\u9762\u7684\u5b57\u7b26\u81f3\u5c11\u51fa\u73b0n\u6b21\uff0c\u81f3\u591a\u51fa\u73b0m\u6b21\uff0c\u9017\u53f7\u5de6\u53f3\u4e0d\u80fd\u6709\u7a7a\u683c\uff0c\u975e \u8d2a\u5a6a\u5339\u914d</li> <li><code>{n,}</code>\uff1a\u8868\u793a\u524d\u9762\u7684\u5b57\u7b26\u81f3\u5c11\u51fa\u73b0n\u6b21\uff0c\u81f3\u591a\u51fa\u73b0\u65e0\u7a77\u6b21</li> </ul> <ul> <li><code>?</code>\uff1a\u76f8\u5f53\u4e8e<code>{0,1}</code>\uff0c\u8868\u793a\u524d\u9762\u7684\u5b57\u7b26\u51fa\u73b00\u6b21\u62161\u6b21</li> <li><code>+</code>\uff1a\u76f8\u5f53\u4e8e<code>{1,}</code>\uff0c\u8868\u793a\u524d\u9762\u7684\u5b57\u7b26\u81f3\u5c11\u51fa\u73b01\u6b21</li> <li><code>*</code>\uff1a\u76f8\u5f53\u4e8e<code>{0,}</code>\uff0c\u8868\u793a\u524d\u9762\u7684\u5b57\u7b26\u51fa\u73b00\u6b21\u6216\u65e0\u7a77\u6b21\uff0c\u8d2a\u5a6a\u5339\u914d</li> <li><code>+?</code>\uff1a\u76f8\u5f53\u4e8e<code>{1,}?</code>\u3001<code>{1}</code>\uff0c\u8868\u793a\u524d\u9762\u7684\u5b57\u7b26\u81f3\u5c11\u51fa\u73b01\u6b21\uff0c\u975e\u8d2a\u5a6a\u5339\u914d</li> <li><code>*?</code>\uff1a\u76f8\u5f53\u4e8e<code>{0,}?</code>\u3001<code>{0}</code>\uff0c\u8868\u793a\u524d\u9762\u7684\u5b57\u7b26\u81f3\u5c11\u51fa\u73b00\u6b21\uff0c\u975e\u8d2a\u5a6a\u5339\u914d</li> </ul> <ul> <li><code>\\</code>\uff1a\u8f6c\u4e49\u7b26\uff0c\u5728\u9700\u8981\u5339\u914d\u4e0a\u9762<code>?+*</code>\u51e0\u4e2a\u7b26\u53f7\u7684\u65f6\u5019\u9700\u8981\u52a0\u4e0a\u659c\u6760<code>\\</code></li> </ul> <pre><code># {n}\n\n&gt;&gt;&gt; # \u8d2a\u5a6a\u5339\u914d\u8fde\u7eed3\u4f4d\u90fd\u662f\u6570\u5b57\n&gt;&gt;&gt; print(re.findall(r\"\\d{3}\", \"1234567890abcdefg\"))\n['123', '456', '789']\n\n&gt;&gt;&gt; # \u8d2a\u5a6a\u5339\u914d\u8fde\u7eed2\u4f4d\u90fd\u662f\u6b63\u5e38\u5b57\u7b26\n&gt;&gt;&gt; print(re.findall(r\"\\w{2}\", \"12a3456789b0abcdefg\"))\n['12', 'a3', '45', '67', '89', 'b0', 'ab', 'cd', 'ef']\n\n&gt;&gt;&gt; # \u8d2a\u5a6a\u5339\u914d\u81f3\u5c112\u4f4d\u81f3\u591a4\u4f4d\u7684\u6570\u5b57\n&gt;&gt;&gt; print(re.findall(r\"\\d{2,4}\", \"1234567890abcdefg\"))\n['1234', '5678']\n&gt;&gt;&gt; print(re.findall(r\"\\d{2,4}\", \"12a3456789b0abcdefg\"))\n['12', '3456', '789']\n\n&gt;&gt;&gt; # \u975e\u8d2a\u5a6a\u5339\u914d\u81f3\u5c112\u4f4d\u81f3\u591a4\u4f4d\u7684\u6570\u5b57\n&gt;&gt;&gt; print(re.findall(r\"\\d{2,4}?\", \"12a3456789b0abcdefg\"))\n['12', '34', '56', '78']\n\n&gt;&gt;&gt; # \u8d2a\u5a6a\u5339\u914d\u51fa\u73b0\u81f3\u5c112\u4f4d\u7684\u6570\u5b57\n&gt;&gt;&gt; print(re.findall(r\"\\d{2,}\", \"12a3456789b0abcdefg165465165\"))\n['12', '3456789', '165465165']\n</code></pre> <pre><code># ? + *\n\n&gt;&gt;&gt; # \u8d2a\u5a6a\u5339\u914d0\u62161\u4e2a\u6570\u5b57\uff0c0\u4e2a\u4e5f\u5728\u5339\u914d\u8303\u56f4\u5185\uff0c\u6240\u4ee5\u5339\u914d\u5230\u975e\u6570\u5b57\u7684\u65f6\u5019\u662f\u7a7a\u5b57\u7b26\u4e32\n&gt;&gt;&gt; print(re.findall(r\"\\d?\", \"12a3456789b0abcde_%\"))\n['1', '2', '', '3', '4', '5', '6', '7', '8', '9', '', '0', '', '', '', '', '', '', '', '']\n\n&gt;&gt;&gt; # \u8d2a\u5a6a\u5339\u914d1\u6216n\u4e2a\u6570\u5b57\n&gt;&gt;&gt; print(re.findall(r\"\\d+\", \"12a3456789b0abcde_%\"))\n['12', '3456789', '0']\n\n&gt;&gt;&gt; # \u975e\u8d2a\u5339\u914d1\u6216n\u4e2a\u6570\u5b57\n&gt;&gt;&gt; print(re.findall(r\"\\d+?\", \"12a3456789b0abcde_%\"))\n['1', '2', '3', '4', '5', '6', '7', '8', '9', '0']\n\n&gt;&gt;&gt; # \u8d2a\u5a6a\u5339\u914d1\u6216n\u4e2a\u6570\u5b57\n&gt;&gt;&gt; print(re.findall(r\"\\d*\", \"1234567890abcdefg\"))\n['1234567890', '', '', '', '', '', '', '']\n\n&gt;&gt;&gt; # \u975e\u8d2a\u5339\u914d1\u6216n\u4e2a\u6570\u5b57\n&gt;&gt;&gt; print(re.findall(r\"\\d*?\", \"1234567890abcdefg\"))\n['', '1', '', '2', '', '3', '', '4', '', '5', '', '6', '', '7', '', '8', '', '9', '', '0', '', '', '', '', '', '', '', '']\n</code></pre> <pre><code># \u8f6c\u4e49\u7b26\n\n&gt;&gt;&gt; # \u5339\u914da*b\n&gt;&gt;&gt; print(re.findall(r\"a\\*b\", \"aab*ab*aaa*ba*b*a\"))\n['a*b', 'a*b']\n\n&gt;&gt;&gt; # \u5339\u914db\u524d\u9762\u81f3\u5c11\u51fa\u73b00\u6b21a\n&gt;&gt;&gt; print(re.findall(r\"a*b\", \"aab*ab*aaa*ba*b*a\"))\n['aab', 'ab', 'b', 'b', 'b', 'b']\n\n&gt;&gt;&gt; # \u5339\u914da+b\n&gt;&gt;&gt; print(re.findall(r\"a\\+b\", \"\"))\n['a+b']\n\n&gt;&gt;&gt; # \u5339\u914db\u524d\u9762\u81f3\u5c11\u51fa\u73b01\u6b21a\nprint(re.findall(r\"a+b\", \"aab*ab*aa?ba*ba*b*a+b\"))\n['aab', 'ab']\n\n&gt;&gt;&gt; # \u5339\u914da?b\nprint(re.findall(r\"a\\?b\", \"aab*ab*aa?ba*ba*b*a+b\"))\n['a?b']\n\n&gt;&gt;&gt; # \u5339\u914db\u524d\u9762\u81f3\u5c11\u51fa\u73b00\u6b21\u81f3\u591a\u51fa\u73b01\u6b21a\nprint(re.findall(r\"a?b\", \"aab*ab*aa?ba*ba*b*a+b\"))\n['ab', 'ab', 'b', 'b', 'b', 'b']\n</code></pre>","tags":["Python","\u6b63\u5219\u8868\u8fbe\u5f0f"]},{"location":"Python/Builtin/Python-No-Builtin-re/#_4","title":"\u8d2a\u5a6a\u548c\u975e\u8d2a","text":"<pre><code>&gt;&gt;&gt; # \u8d2a\u5a6a\u5339\u914d d\u5f00\u5934d\u7ed3\u5c3e\uff0c\u4e2d\u95f4\u81f3\u5c11\u51fa\u73b01\u4f4d\u6b63\u5e38\u5b57\u7b26\n&gt;&gt;&gt; print(re.findall(r\"d\\w+d\", \"dxxxxxxdxxxxxxd\"))\n['dxxxxxxdxxxxxxd']\n\n&gt;&gt;&gt; # \u975e\u8d2a\u5339\u914d d\u5f00\u5934d\u7ed3\u5c3e\uff0c\u4e2d\u95f4\u81f3\u5c11\u51fa\u73b01\u4f4d\u6b63\u5e38\u5b57\u7b26\n&gt;&gt;&gt; print(re.findall(r\"d\\w+?d\", \"dxxxxxxdxxxxxxd\"))\n['dxxxxd']\n</code></pre> <pre><code>&gt;&gt;&gt; html = \"&lt;li&gt;Boii&lt;/li&gt;&lt;li&gt;$18&lt;/li&gt;&lt;li&gt;\u7537&lt;/li&gt;&lt;li&gt;i@tcp404.com&lt;/li&gt;\"\n\n&gt;&gt;&gt; # .\u662f\u9664\u4e86\u6362\u884c\u7b26\u4ee5\u5916\u6240\u6709\u5b57\u7b26\n&gt;&gt;&gt; # \u8d2a\u5a6a\u5339\u914d &lt;li&gt;\u5f00\u5934\uff0c&lt;/li&gt;\u7ed3\u5c3e\uff0c\u4e2d\u95f4\u81f3\u5c11\u4e00\u4e2a\u975e\u6362\u884c\u7b26\u7684\u5b57\u7b26\uff0c\u51711\u4e2a\n&gt;&gt;&gt; print(re.findall(r\"&lt;li&gt;.+&lt;/li&gt;\", html))\n['&lt;li&gt;Boii&lt;/li&gt;&lt;li&gt;$18&lt;/li&gt;&lt;li&gt;\u7537&lt;/li&gt;&lt;li&gt;i@tcp404.com&lt;/li&gt;']\n\n&gt;&gt;&gt; # \u975e\u8d2a\u5339\u914d &lt;li&gt;\u5f00\u5934\uff0c&lt;/li&gt;\u7ed3\u5c3e\uff0c\u4e2d\u95f4\u81f3\u5c11\u4e00\u4e2a\u975e\u6362\u884c\u7b26\u7684\u5b57\u7b26\uff0c\u51713\u4e2a\n&gt;&gt;&gt; print(re.findall(r\"&lt;li&gt;.+?&lt;/li&gt;\", html))\n['&lt;li&gt;Boii&lt;/li&gt;', '&lt;li&gt;$18&lt;/li&gt;', '&lt;li&gt;\u7537&lt;/li&gt;', '&lt;li&gt;i@tcp404.com&lt;/li&gt;']\n\n&gt;&gt;&gt; # \u975e\u8d2a\u5339\u914d &lt;li&gt;\u5f00\u5934\uff0c&lt;/li&gt;\u7ed3\u5c3e\uff0c\u4e2d\u95f4\u81f3\u5c11\u4e00\u4e2a\u975e\u6362\u884c\u7b26\u7684\u5b57\u7b26\uff0c\u4e14\u820d\u53bb\u5f00\u5934\u7ed3\u5c3e\uff0c\n&gt;&gt;&gt; # \u5373\u53ea\u53d6&lt;li&gt;&lt;/li&gt;\u4e2d\u7684\u5185\u5bb9\uff0c\u51713\u4e2a\n&gt;&gt;&gt; print(re.findall(r\"&lt;li&gt;(.+?)&lt;/li&gt;\", html))\n['Boii', '$18', '\u7537', 'i@tcp404.com']\n</code></pre>","tags":["Python","\u6b63\u5219\u8868\u8fbe\u5f0f"]},{"location":"Python/Builtin/Python-No-Builtin-re/#_5","title":"\u53cd\u5411\u5f15\u7528","text":"<pre><code>&gt;&gt;&gt; wordstr = \"\"\" 'hello', \"python\", 'love\", \"haha' \"\"\"\n\n# \u5339\u914d \u5f00\u5934\u548c\u7ed3\u5c3e\u90fd\u662f\u5355\u5f15\u53f7\u6216\u53cc\u5f15\u53f7\uff0c\u4e2d\u95f4\u81f3\u5c11\u4e00\u4e2a\u6b63\u5e38\u5b57\u7b26\n&gt;&gt;&gt; print(re.findall(r\"['|\\\"]\\w+['|\\\"]\", wordstr))\n[\"'hello'\", '\"python\"', '\\'love\"', '\"haha\\'']\n\n# \u5339\u914d \u5f00\u5934\u548c\u7ed3\u5c3e\u90fd\u662f\u5355\u5f15\u53f7\u6216\u53cc\u5f15\u53f7\uff0c\u4e2d\u95f4\u81f3\u5c11\u4e00\u4e2a\u6b63\u5e38\u5b57\u7b26\uff0c\u820d\u5f03\u4e2d\u95f4\n# \u5373 \u5f00\u5934\u548c\u7ed3\u5c3e\u90fd\u662f\u5355\u6216\u53cc\u5f15\u53f7\uff0c\u4e2d\u95f4\u81f3\u5c11\u4e00\u4e2a\u6b63\u5e38\u5b57\u7b26\uff0c\u7136\u540e\u628a\u5f00\u5934\u5206\u4e00\u7ec4\uff0c\u7ed3\u5c3e\u5206\u4e00\u7ec4\uff0c\u4e2d\u95f4\u65e0\u5206\u7ec4\u88ab\u820d\u5f03\n&gt;&gt;&gt; print(re.findall(r\"('|\\\")\\w+('|\\\")\", wordstr))\n[(\"'\", \"'\"), ('\"', '\"'), (\"'\", '\"'), ('\"', \"'\")]\n\n# \u5339\u914d \u5f00\u5934\u548c\u7ed3\u5c3e\u90fd\u662f\u5355\u5f15\u53f7\u6216\u53cc\u5f15\u53f7\uff0c\u4e2d\u95f4\u81f3\u5c11\u4e00\u4e2a\u6b63\u5e38\u5b57\u7b26\uff0c\u5f00\u5934\u4e00\u7ec4\uff0c\u4e2d\u95f4\u4e00\u7ec4\uff0c\u7ed3\u5c3e\u4e00\u7ec4\uff0c\u627e\u5230\u4e00\u4efd\u5219\u7ec4\u5408\u6210\u4e00\u4e2a\u5143\u7ec4\n&gt;&gt;&gt; print(re.findall(r\"('|\\\")(\\w+)('|\\\")\", wordstr))\n[(\"'\", 'hello', \"'\"), ('\"', 'python', '\"'), (\"'\", 'love', '\"'), ('\"', 'haha', \"'\")]\n\n# \u5339\u914d \u5f00\u5934\u662f\u5355\u53cc\u5f15\u53f7\uff0c\u4e2d\u95f4\u81f3\u5c11\u4e00\u4e2a\u6b63\u5e38\u5b57\u7b26\uff0c\u7ed3\u5c3e\u8981\u4e0e\u5f00\u5934\u5bf9\u5e94\u5f00\u5934\u4e00\u7ec4\u90a3\u4e2a\u7ec4\u76f8\u540c\n# \u5f00\u5934\u4e00\u7ec4\uff0c\u4e2d\u95f4\u4e00\u7ec4\uff0c\u7ed3\u5c3e\u4e00\u7ec4\uff0c\u627e\u5230\u4e00\u4efd\u5219\u7ec4\u5408\u6210\u4e00\u4e2a\u5143\u7ec4\n&gt;&gt;&gt; print(re.findall(r\"('|\\\")(\\w+)(\\1)\", wordstr))\n[(\"'\", 'hello', \"'\"), ('\"', 'python', '\"')]\n\n# \u7528\u5217\u8868\u751f\u6210\u5f0f\u53d6\u51fa\u6bcf\u4efd\u76841\u53f7\u5143\u7d20\uff0c\u5c31\u5f97\u5230\u4e86\u5185\u5bb9\u3002\n&gt;&gt;&gt; res = re.findall(r\"('|\\\")(\\w+)(\\1)\", wordstr)\n&gt;&gt;&gt; li = [x[1] for x in res]\n&gt;&gt;&gt; print(li)\n['hello', 'python']\n</code></pre> <pre><code># \u6821\u9a8c\u5bc6\u7801\uff0c\u540c\u6837\u7684\u5b57\u7b26\u4e0d\u80fd\u8fde\u7eed\u51fa\u73b03\u6b21\n\n&gt;&gt;&gt; print(re.findall(r\"(\\w)(\\1{2,})\", \"44888813abgggs\"))\n[('8', '888'), ('g', 'gg')]\n# \u7b2c\u4e00\u4e2a\u5206\u7ec4(\\w)\u5339\u914d\u5230\u662f4\uff0c\u8fdb\u5165\u4e0b\u4e00\u4e2a\u5143\u7ec4\uff0c\u770b\u5230\\1\u66ff\u6362\u62104\uff0c\u5f00\u59cb\u5339\u914d\u91cd\u590d\uff1a4\u51fa\u73b0\u81f3\u5c112\u6b21\u5219\u5339\u914d\u6210\u529f\uff0c\u540e\u9762\u7d27\u8ddf\u7740\u53ea\u6709\u4e00\u4e2a4\uff0c\u6240\u4ee5\u5339\u914d\u5931\u8d25\n# \u63a5\u7740\u5339\u914d\u5230(\\w)\u662f8\uff0c\u8fdb\u5165\u4e0b\u4e00\u4e2a\u5206\u7ec4\uff0c\u770b\u5230\\1\u66ff\u6362\u62108\uff0c\u4ece\u7b2c2\u4e2a8\u5f00\u59cb\u5339\u914d\u91cd\u590d\uff1a8\u81f3\u5c11\u51fa\u73b02\u6b21\u5219\u5339\u914d\u6210\u529f\uff0c\u9664\u53bb\u7b2c\u4e00\u4e2a8\u88ab\u7b2c\u4e00\u4e2a\u5206\u7ec4\u53d6\u8d70\uff0c\u8fd8\u52693\u4e2a8\uff0c\u5339\u914d\u6210\u529f\uff0c\u8fd9\u662f\u8d2a\u5a6a\u5339\u914d\uff0c\u6240\u4ee5\u4f1a\u4e00\u76f4\u5403\u4e0b\u53bb\u5403\u5230\u9047\u89c1\u4e0d\u662f8\u505c\u6b62\uff0c\u6253\u5305\u6210\u5143\u7ec4\n# \u63a5\u77401\u5339\u914d\u5931\u8d25\uff0c3\u5339\u914d\u5931\u8d25\uff0cab\u90fd\u5339\u914d\u5931\u8d25\n# \u63a5\u7740\u5339\u914d\u5230(\\w)\u662fg\uff0c\u8fdb\u5165\u4e0b\u4e00\u4e2a\u5206\u7ec4\uff0c\u770b\u5230\\1\u66ff\u6362\u6210g\uff0c\u4ece\u7b2c2\u4e2ag\u5f00\u59cb\u5339\u914d\u91cd\u590d\uff1ag\u81f3\u5c11\u51fa\u73b02\u6b21\u5219\u5339\u914d\u6210\u529f\uff0c\u9664\u53bb\u7b2c\u4e00\u4e2ag\u88ab\u7b2c\u4e00\u4e2a\u5206\u7ec4\u53d6\u8d70\uff0c\u8fd8\u52692\u4e2ag\uff0c\u5339\u914d\u6210\u529f\uff0c\u8fd9\u662f\u8d2a\u5a6a\u5339\u914d\uff0c\u6240\u4ee5\u4f1a\u4e00\u76f4\u5403\u4e0b\u53bb\u5403\u5230\u9047\u89c1\u4e0d\u662fg\u505c\u6b62\uff0c\u6253\u5305\u6210\u5143\u7ec4...\n\nres = re.findall(r\"(\\w)(\\1{2,})\", \"44888813abgggs\")\nli = [x[0]+x[1] for x in res]\nprint(li)        # ['8888', 'ggg']\n</code></pre>","tags":["Python","\u6b63\u5219\u8868\u8fbe\u5f0f"]},{"location":"Python/Builtin/Python-No-Builtin-re/#_6","title":"\u4f4d\u7f6e\u5339\u914d","text":"<ul> <li><code>^</code>\uff1a\u5f00\u5934</li> <li><code>$</code>\uff1a\u7ed3\u5c3e</li> </ul> <p>\u8fd9\u4e24\u4e2a\u7ecf\u5e38\u4e00\u8d77\u4f7f\u7528\uff0c\u7528\u6765\u9650\u5b9a\u4f4d\u7f6e \u5e38\u7528\u4e8e\u68c0\u9a8c\u624b\u673a\u53f7\u3001\u7528\u6237\u540d\u3001email\u5730\u5740\u7b49</p> <p>\u4f8b\u5982\u5339\u914d\u624b\u673a\u53f7 </p><pre><code># \u624b\u673a\u4f4d\u6570\u6b63\u5e38\u7684\u65f6\u5019\u53ef\u4ee5\u5339\u914d\u6210\u529f\n&gt;&gt;&gt; print(re.findall(r\"\\d{11}\", \"13700001111\"))\n['13700001111']\n\n# \u4f46\u662f\u624b\u673a\u4f4d\u6570\u4e0d\u6b63\u5e38\u7684\u65f6\u5019\u4e5f\u5339\u914d\u6210\u529f\u4e86\uff0c\u6240\u4ee5\u8981\u52a0\u4ee5\u4f4d\u7f6e\u9650\u5236\n&gt;&gt;&gt; print(re.findall(r\"\\d{11}\", \"137000011112233445\"))\n['13700001111']\n\n&gt;&gt;&gt; print(re.findall(r\"^\\d{11}$\", \"13700001111\"))\n['13700001111']\n\n&gt;&gt;&gt; print(re.findall(r\"^\\d{11}$\", \"137000011112233445\"))\n[]\n</code></pre><p></p>","tags":["Python","\u6b63\u5219\u8868\u8fbe\u5f0f"]},{"location":"Python/Crawler/Python-Crawler-0-Crawler-Abstract/","title":"Python\u3010Crawler\u3011\u722c\u866b\u603b\u53d9","text":"<p>\u5de5\u5177\u4eba\uff0c\u554a\u4e0d\uff0c\u5de5\u5177\u8718\u86db\u3002</p>","tags":["Python","\u722c\u866b"]},{"location":"Python/Crawler/Python-Crawler-0-Crawler-Abstract/#_1","title":"\u4f7f\u7528\u573a\u666f","text":"<ul> <li>\u901a\u7528\u722c\u866b\uff1a\u6293\u53d6\u7cfb\u7edf\u91cd\u8981\u7ec4\u6210\u90e8\u5206\uff0c\u6293\u53d6\u7684\u662f**\u4e00\u6574\u5f20\u9875\u9762\u6570\u636e**\u3002</li> <li>\u805a\u7126\u722c\u866b\uff1a\u5efa\u7acb\u5728\u901a\u7528\u722c\u866b\u4e4b\u4e0a\uff0c\u6293\u53d6\u7684\u662f\u9875\u9762\u4e2d**\u7279\u5b9a\u7684\u5c40\u90e8\u5185\u5bb9**\u3002</li> <li>\u589e\u91cf\u722c\u866b\uff1a\u68c0\u6d4b\u7f51\u7ad9\u4e2d\u6570\u636e\u66f4\u65b0\u7684\u60c5\u51b5\uff0c\u53ea\u4f1a\u6293\u53d6\u7f51\u7ad9\u4e2d**\u6700\u65b0\u7684\u6570\u636e**\u3002</li> </ul>","tags":["Python","\u722c\u866b"]},{"location":"Python/Crawler/Python-Crawler-0-Crawler-Abstract/#_2","title":"\u77db\u4e0e\u76fe","text":"<ul> <li>\u53cd\u722c\u673a\u5236\uff1a\u95e8\u6237\u7f51\u7ad9\uff0c\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9a\u76f8\u5e94\u7684\u7b56\u7565\u6216\u6280\u672f\u624b\u6bb5\uff0c\u9632\u6b62\u722c\u866b\u7a0b\u5e8f\u8fdb\u884c\u722c\u53d6<ul> <li>\u68c0\u67e5User-Agent</li> <li>IP\u5c4f\u853d</li> </ul> </li> <li>\u6297\u53cd\u722c\u7b56\u7565\uff1a\u901a\u8fc7\u5236\u5b9a\u76f8\u5173\u7b56\u7565\u6216\u6280\u672f\u624b\u6bb5\u7834\u89e3\u95e8\u6237\u7f51\u7ad9\u7684\u53cd\u722c\u673a\u5236\u3002<ul> <li>UA\u4f2a\u88c5</li> <li>IP\u4ee3\u7406</li> </ul> </li> <li> <p>robots.txt \u534f\u8bae \u2014\u2014 \u541b\u5b50\u534f\u8bae\uff1a\u89c4\u5b9a\u4e86\u7f51\u7ad9\u4e2d\u54ea\u4e9b\u6570\u636e\u53ef\u4ee5\u88ab\u722c\u866b\u722c\u53d6\uff0c\u54ea\u4e9b\u6570\u636e\u4e0d\u53ef\u4ee5\u88ab\u722c\u53d6</p> </li> <li> <p>http</p> </li> <li>\u6982\u5ff5\uff1a\u670d\u52a1\u5668\u4e0e\u5ba2\u6237\u7aef\u6570\u636e\u4ea4\u4e92\u7684\u4e00\u79cd\u5f62\u5f0f</li> <li>\u5e38\u7528\u8bf7\u6c42\u5934\u4fe1\u606f\uff1a<ul> <li>User-Agent\uff1a\u8bf7\u6c42\u8f7d\u4f53\u7684\u8eab\u4efd\u8f7d\u4f53</li> <li>Connection\uff1a\u8bf7\u6c42\u5b8c\u6bd5\u540e\uff0c\u662f\u5426\u65ad\u5f00\u8fde\u63a5</li> </ul> </li> <li> <p>\u5e38\u7528\u54cd\u5e94\u5934\u4fe1\u606f\uff1a</p> <ul> <li>Content-Type\uff1a\u670d\u52a1\u5668\u54cd\u5e94\u56de\u5ba2\u6237\u7aef\u7684\u6570\u636e\u7c7b\u578b</li> </ul> </li> <li> <p>https     \u5b89\u5168\u7684http\u534f\u8bae</p> </li> </ul>","tags":["Python","\u722c\u866b"]},{"location":"Python/Crawler/Python-Crawler-1-General-Crawler/","title":"Python\u3010Crawler\u3011\u901a\u7528\u722c\u866b","text":"<p>\u722c\u866b\u7684\u57fa\u672c\u7528\u6cd5</p> <p>Python \u4e2d\u539f\u751f\u7684\u4e00\u6b3e\u57fa\u4e8e\u7f51\u7edc\u8bf7\u6c42\u7684\u6a21\u5757\uff0c\u529f\u80fd\u5f3a\u5927\uff0c\u7b80\u5355\u4fbf\u6377\uff0c\u6548\u7387\u6781\u9ad8\u3002</p> <p>&gt;_: pip install requests</p>","tags":["Python","\u722c\u866b"]},{"location":"Python/Crawler/Python-Crawler-1-General-Crawler/#_1","title":"\u57fa\u672c\u4f7f\u7528","text":"<ol> <li>\u6307\u5b9aURL</li> <li>UA\u4f2a\u88c5</li> <li>\u53d1\u8d77\u8bf7\u6c42 \u2014\u2014 <code>requests.get()</code> \u6216 <code>requests.post()</code></li> <li>\u83b7\u53d6\u54cd\u5e94\u6570\u636e \u2014\u2014 <code>.json()</code>\u6216<code>.text</code></li> <li>\u6301\u4e45\u5316\u5b58\u50a8 \u2014\u2014 <code>f.write()</code> \u6216 <code>json.dump()</code></li> </ol> <pre><code>import requests\n\ndef main():\n    # 1. \u6307\u5b9aurl\n    url = \"https://www.sou.com\"\n    # 2. UA\u4f2a\u88c5\n    header = {\"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.89 Safari/537.36 Edg/84.0.522.44\"}\n    # 3. \u53d1\u8d77\u8bf7\u6c42\n    response = requests.get(url=url, headers=header)\n    # 4. \u83b7\u53d6\u54cd\u5e94\u6570\u636e\n    page_text = response.text\n    # 5. \u6301\u4e45\u5316\u5b58\u50a8\n    with open(\"sogou.html\", \"w\", \"utf-8\") as f:\n        f.wirte(page_text)\n\n    print(\"END\")\n\nif __naim__ == '__main__':\n    main()\n</code></pre> <p>\u8fd9\u79cd\u5c31\u662f\u6700\u57fa\u672c\u7684\u6a21\u62df\u6d4f\u89c8\u5668\u8fdb\u884c\u722c\u53d6\u3002 \u901a\u8fc7<code>requests</code>\u5c31\u53ef\u4ee5\u8fdb\u884c\u7f51\u7edc\u8bf7\u6c42\uff0c\u4ece\u8fd4\u56de\u5bf9\u8c61\u4e2d\u5f97\u5230\u6570\u636e\u3002</p> <p>url\u7684\u83b7\u53d6\u65b9\u5f0f\u4e3b\u8981\u901a\u8fc7\u81ea\u5df1\u67e5\u627e\u5206\u6790 \u5982\u679c\u53ea\u662f\u666e\u901a\u7684\u6d4f\u89c8\u7f51\u9875\uff0c\u4e00\u822c\u4f7f\u7528\u7684\u662f<code>get\u65b9\u5f0f</code> \u5982\u679c\u643a\u5e26\u53c2\u6570\uff0c\u9700\u8981\u89c2\u5bdfurl\u4e2d <code>\uff1f</code> \u540e\u9762\u7684\u5b57\u6bb5\u3002</p>","tags":["Python","\u722c\u866b"]},{"location":"Python/Crawler/Python-Crawler-1-General-Crawler/#_2","title":"\u643a\u5e26\u53c2\u6570","text":"<p>http\u534f\u8bae\u4e2d\u7684\u8bf7\u6c42\u65b9\u5f0f\u5206\u4e3a<code>get</code>\u3001<code>post</code>\u3001<code>put</code>\u3001<code>patch</code>\u3001<code>head</code>\u3001<code>delete</code>\u3002 \u6700\u5e38\u7528\u7684\u8bf7\u6c42\u4e3a <code>get()</code> \u548c <code>post()</code>\uff0c\u8fd9\u4e24\u79cd\u8bf7\u6c42\u65b9\u5f0f\u90fd\u53ef\u4ee5\u643a\u5e26\u53c2\u6570\u3002 \u5728\u6d4f\u89c8\u5668\u4e2d\u5206\u6790\u7684\u65f6\u5019\u53ef\u4ee5\u89c2\u5bdf <code>?</code> \u540e\u9762\u7684\u5b57\u6bb5\uff0c\u6709\u7684\u662f<code>query</code>\uff0c\u6709\u7684\u662f<code>q</code>\uff0c\u53ef\u4ee5\u901a\u8fc7\u6d4f\u89c8\u5668\u4e2d\u6293\u5305\u5de5\u5177\u8fdb\u884c\u5206\u6790 </p> <ol> <li>\u7531\u6b64\u5c31\u53ef\u4ee5\u786e\u5b9a <code>?</code> \u524d\u9762\u662f\u6211\u4eec\u8981\u7684url\uff1a <code>https://www.sogou.com/web?</code>\uff1burl\u4e2d\u7684\u95ee\u53f7<code>?</code>\u53ef\u5199\u53ef\u4e0d\u5199</li> <li>\u63a5\u7740\u53ef\u4ee5\u786e\u5b9a\u67e5\u8be2\u5b57\u6bb5\u662f<code>query</code>\uff0c\u7528\u4e2a\u5b57\u5178\u5305\u88c5\u8d77\u6765\uff1a<code>param = {'query': 'python'}</code></li> <li>\u540c\u65f6\u5728\u8bf7\u6c42url\u4e0b\u9762\u53ef\u4ee5\u770b\u5230\u8bf7\u6c42\u65b9\u5f0f\u662fget\uff0c\u6240\u4ee5\u53ef\u4ee5\u4f7f\u7528get\u65b9\u6cd5\u8fdb\u884c\u8bf7\u6c42\uff1a<code>res = requests.get(url, param, headers=header)</code></li> <li>\u89c2\u5bdf\u54cd\u5e94\u6807\u5934\u7684<code>Content-Type</code>\u53d1\u73b0\uff0c\u8fd4\u56de\u683c\u5f0f\u4e3atext\uff0c\u5219\u8c03\u7528res.text\u83b7\u5f97\u8fd4\u56de\u5185\u5bb9\uff1a<code>res_text = res.text</code></li> <li>\u5c06\u8fd4\u56de\u7684\u5185\u5bb9\u5b58\u50a8\u8d77\u6765\u3002\u641e\u5b9a\u3002</li> </ol> <p>\u5b8c\u6574\u4ee3\u7801 </p><pre><code>import requests\n\nheader = {'User-Agent': \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.89 Safari/537.36 Edg/84.0.522.44\"}\n\ndef main():\n    # 1. \u6307\u5b9aurl\n    url = \"https://www.sogou.com/web?\"\n    # 2. \u83b7\u53d6\u67e5\u8be2\u5185\u5bb9\n    q = input('Enter the contend you want to search: ')\n    # 3. \u8bbe\u7f6e\u597d\u4f20\u8f93\u53c2\u6570\n    param = {'query': q}\n    # 4. \u53d1\u9001\u8bf7\u6c42\n    res = requests.get(url=url, params=param, headers=header)\n    # 5. \u83b7\u53d6\u8fd4\u56de\u5185\u5bb9\n    res_text = res.text\n    # 6. \u5199\u5165\u6587\u4ef6\n    with open('./sogou.html', 'w', encoding='utf-8') as f:\n        f.write(res_text)\n\nif __name__ == '__main__':\n    main()\n\n--------------------------------------------------\n\n# Output:\nEnter the contend you want to search: Python\n</code></pre><p></p> <pre><code># sogou.html\n\n&lt;!DOCTYPE html&gt;\n&lt;html data-vtype=\"default\"&gt;\n\n&lt;head&gt;\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=Edge\"&gt;\n    &lt;meta http-equiv=\"x-dns-prefetch-control\" content=\"on\"&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;meta name=\"referrer\" content=\"always\"&gt;\n\n......\n\n    &lt;/script&gt;&lt;!-- BottomViewEnd opt --&gt;\n    &lt;script crossorigin=\"anonymous\" src=\"//dlweb.sogoucdn.com/hhytrace/trace_2020072915.js\" async&gt;&lt;/script&gt;\n&lt;/body&gt;&lt;!-- bodyViewEnd --&gt;\n\n&lt;/html&gt;&lt;!-- 1596006531756 --&gt;\n&lt;!--STATUS total 14 time 1596006531756 page 0 maxEnd 1000 totalItems 8955--&gt;\n&lt;!--real_pageno:1--&gt;\n&lt;!--nodeserverinfo:rsync.doc04.web.1.gd.ted--&gt;\n&lt;!--searchhubserverinfo:doc09.web.1.gd.ted:5555--&gt;\n&lt;!--zly--&gt;\n</code></pre> <p>requests\u6a21\u5757\u4e2d\u7684<code>get()</code>\u3001<code>post()</code>\u3001<code>put()</code>\u7b49\u8bf7\u6c42\u65b9\u6cd5\u5176\u5b9e\u90fd\u662f\u8c03\u7528\u4e86<code>request()</code>\u65b9\u6cd5\u3002</p> <p><code>request(method, url, **kwargs)</code> <code>get(url, params=None, **kwargs)</code> <code>post(url, data=None, json=None, **kwargs)</code></p> <p>\u8fd9\u91cc\u6ce8\u610f\u533a\u5206\uff0cget\u7684\u53c2\u6570\u662f<code>params</code>\uff0cpost\u7684\u53c2\u6570\u7684<code>data</code></p>","tags":["Python","\u722c\u866b"]},{"location":"Python/Crawler/Python-Crawler-1-General-Crawler/#_3","title":"\u6293\u53d6\u52a8\u6001\u5185\u5bb9","text":"<p>\u7f51\u9875\u4e2d\u6709\u4e9b\u6570\u636e\u4e0d\u662f\u9759\u6001\u7684\uff0c\u800c\u662f\u52a8\u6001\u83b7\u53d6\uff0c\u901a\u8fc7Ajax\u5c40\u90e8\u5237\u65b0\u3002 \u4f8b\u5982\u767e\u5ea6\u7ffb\u8bd1 </p> <p>\u7ea2\u6846\u4e2d\u7684\u5185\u5bb9\u4f1a\u6839\u636e\u8f93\u5165\u6846\u4e2d\u5185\u5bb9\u7684\u53d8\u5316\u800c\u53d8\u5316\uff0c\u8fd9\u5c31\u662f**\u52a8\u6001\u83b7\u53d6** \u5f53\u5185\u5bb9\u6539\u53d8\u7684\u65f6\u5019\uff0c\u8fd4\u56de\u6765\u7684\u7ed3\u679c\u53ea\u4f1a\u6539\u53d8\u9875\u9762\u4e2d\u7ea2\u6846\u7684\u90e8\u5206\uff0c\u8fd9\u5c31\u662f**\u5c40\u90e8\u5237\u65b0**</p> <p>\u8fd9\u79cd\u6570\u636e\u76f4\u63a5\u6293\u53d6\u9875\u9762\u662f\u65e0\u6548\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u8981\u901a\u8fc7\u6d4f\u89c8\u5668\u6293\u5305\u5de5\u5177\u8fdb\u884c\u89c2\u5bdf</p> <p></p> <ol> <li>\u53ef\u4ee5\u628a\u7b5b\u9009\u5668\u8bbe\u7f6e\u5230 XHR \uff0c\u8fd9\u6837\u53ef\u4ee5\u53ea\u67e5\u770b\u5237\u65b0\u65f6\u8fd4\u56de\u7684\u6570\u636e</li> <li>\u901a\u8fc7\u89c2\u5bdf\u53ef\u4ee5\u53d1\u73b0\u6bcf\u8f93\u5165\u4e00\u4e2a\u5b57\u7b26\u5c31\u4f1a\u53d1\u9001\u4e00\u4e2asug\uff0c\u6240\u4ee5\u8bf7\u6c42url\u5e94\u8be5\u662f<code>https://fanyi.baidu.com/sug</code>\u624d\u5bf9</li> <li>\u8bf7\u6c42\u65b9\u5f0f\u662f<code>post</code>\uff0c\u643a\u5e26\u53c2\u6570\u662fkw\uff0c\u6240\u4ee5\u53c2\u6570\u90e8\u5206\u5e94\u8be5\u8fd9\u6837\u5199\uff1a<code>data = {kw: 'document'}</code></li> <li>\u63a5\u7740\u770b\u5230 <code>Content-Type</code>\uff0c\u8fd4\u56de\u6570\u636e\u683c\u5f0f\u662f json\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u7528 json \u6a21\u5757\u6765\u5904\u7406\u3002<code>res_json = res.json()</code></li> <li>\u6700\u540e\u53ef\u4ee5\u4f7f\u7528 <code>json.dump()</code>\u5c06json\u683c\u5f0f\u76f4\u63a5\u5199\u5165\u6570\u636e\uff0c\u6216\u8005\u4f7f\u7528<code>json.loads()</code>\u8f6c\u6362\u6210python\u5bf9\u8c61\uff0c\u518d\u7528<code>f.write()</code>\u5199\u5165\u6587\u4ef6\u3002</li> </ol> <pre><code>import requests\n\nheader = {'User-Agent': \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.89 Safari/537.36 Edg/84.0.522.44\"}\n\ndef main():\n    # 1. \u6307\u5b9aurl\n    url = 'https://fanyi.baidu.com/sug'\n    # 2. \u83b7\u53d6\u67e5\u8be2\u5185\u5bb9\uff0c\u8bbe\u7f6e\u597d\u8bf7\u6c42\u53c2\u6570\n    query = input(\"Enter the word you want to translate: \")\n    data = {'kw': query}\n    # 3. \u53d1\u9001\u8bf7\u6c42\n    res = requests.post(url=url, data=data, headers=header)\n    # 4. \u83b7\u53d6\u8fd4\u56de\u5185\u5bb9\n    res_json = res.json()\n    # 5. \u5199\u5165\u6587\u4ef6\n    with open('./translation.json', 'w', encoding='utf-8') as f:\n        json.dump(res_json, fp, ensure_ascii=False)\n\nif __name__ == '__main__':\n    main()\n</code></pre>","tags":["Python","\u722c\u866b"]},{"location":"Python/Crawler/Python-Crawler-2-Focused-Crawler/","title":"Python\u3010Crawler\u3011\u805a\u7126\u722c\u866b","text":"<p>\u8fc7\u6ee4\u722c\u53d6\u5230\u7684\u6570\u636e\uff0c\u53d6\u51fa\u60f3\u8981\u7684\u90e8\u5206</p> <p>\u805a\u7126\u722c\u866b\uff1a\u722c\u53d6\u9875\u9762\u4e2d\u6307\u5b9a\u7684\u9875\u9762\u5185\u5bb9</p> <ul> <li> <p>\u7f16\u7801\u6d41\u7a0b</p> <ol> <li>\u6307\u5b9aurl</li> <li>\u53d1\u8d77\u8bf7\u6c42</li> <li>\u83b7\u53d6\u54cd\u5e94\u6570\u636e</li> <li>\u6570\u636e\u89e3\u6790</li> <li>\u6301\u4e45\u5316\u5b58\u50a8</li> </ol> </li> <li> <p>\u6570\u636e\u89e3\u6790\u5206\u7c7b</p> <ol> <li>\u6b63\u5219\u8868\u8fbe\u5f0f</li> <li>bs4</li> <li>xpath (*)</li> </ol> </li> </ul> <p>\u6570\u636e\u89e3\u6790\u539f\u7406     - \u89e3\u6790\u7684\u5c40\u90e8\u6587\u672c\u5185\u5bb9\u90fd\u4f1a\u5728\u6807\u7b7e\u4e4b\u95f4\u6216\u6807\u7b7e\u7684\u5c5e\u6027\u4e2d\u5b58\u50a8     - 1. \u8fdb\u884c\u6807\u7b7e\u7684\u5b9a\u4f4d     - 2. \u6807\u7b7e\u6216\u8005\u6807\u7b7e\u5bf9\u5e94\u7684\u5c5e\u6027\u4e2d\u5b58\u50a8\u7684\u6570\u636e\u503c\u8fdb\u884c\u63d0\u53d6\uff08\u5373\u89e3\u6790<sub>~</sub>~\uff09</p>","tags":["Python","\u722c\u866b"]},{"location":"Python/Crawler/Python-Crawler-2-Focused-Crawler/#_1","title":"\u6b63\u5219\u8868\u8fbe\u5f0f\u722c\u53d6","text":"<pre><code>import os\nimport requests\nimport re\n\n# UA\u4f2a\u88c5\nUA = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.89 Safari/537.36 Edg/84.0.522.44'\nheader = {'User-Agent': UA}\n\n# \u5b58\u50a8\u76ee\u5f55\nfolder = './qiushi'\nif not os.path.exists(folder):\n    os.mkdir(folder)\n\n\ndef main():\n    # \u5206\u9875\u5904\u7406\n    for i in range(1, 3):\n        url = f\"https://www.qiushibaike.com/imgrank/page/{i}/\"\n        # 1. \u722c\u53d6\u6574\u5f20\u9875\u9762\n        page_text = requests.get(url=url, headers=header).text\n        # 2. \u4f7f\u7528\u805a\u7126\u722c\u866b\u8fdb\u884c\u6570\u636e\u89e3\u6790\n        images = data_parse(page_text)\n\n        length = len(images)  # \u8fdb\u5ea6\u6761\u6240\u9700\n\n        for index, image in enumerate(images):\n            # 3. \u53d1\u8d77\u8bf7\u6c42\u5e76\u83b7\u5f97\u6570\u636e\n            image_content = requests.get(url=image, headers=header).content\n            # 4. \u6301\u4e45\u5316\u5b58\u50a8\n            image_name = image.split('/')[-1]\n            image_path = os.path.join(folder, image_name)\n            with open(image_path, 'wb') as f:\n                f.write(image_content)\n                # \u8fdb\u5ea6\u6253\u5370\n                print(image_name + ' \u4e0b\u8f7d\u6210\u529f\uff01')\n                print(f'{index} / {length}', end='\\r')\n\n        print(str(i) + \"/ 2 page\")\n\n\ndef data_parse(page_text):\n    \"\"\" \u89e3\u6790\u51fa\u6bcf\u5f20\u56fe\u7247\u7684url \"\"\"\n\n    # \u5206\u6790\u7f51\u9875\u540e\u6574\u7406\u51fa\u6b63\u5219\u8868\u8fbe\u5f0f\n    ex = r'&lt;div class=\"thumb\"&gt;.*?&lt;img src=\"(.*?)\" alt.*?&gt;&lt;/div&gt;'\n    images = re.findall(ex, page_text, re.S)\n    images = ['https:' + x for x in images]  # \u89e3\u6790\u51fa\u6765\u6ca1\u6709\u534f\u8bae\u5934\uff0c\u7ed9\u589e\u52a0\u4e0a\n\n    return images\n\n\nif __name__ == \"__main__\":\n    main()\n\n--------------------------------------------------\n\n# Output:\n\nK7EUFEUIV3QY37P1.jpg \u4e0b\u8f7d\u6210\u529f\uff01\nDFIAAL32X5J35JP2.jpg \u4e0b\u8f7d\u6210\u529f\uff01\n...\nNXUA4X1CMQP22UPP.jpg \u4e0b\u8f7d\u6210\u529f\uff01\nFQILIKXCVMUIRXL8.jpg \u4e0b\u8f7d\u6210\u529f\uff01\n1/ 2 page\n95GRCYEUZANQ361J.jpg \u4e0b\u8f7d\u6210\u529f\uff01\n2SXBFKSSK3JD3G2M.jpg \u4e0b\u8f7d\u6210\u529f\uff01\n...\n5YTNS4JH0PLZAO58.jpg \u4e0b\u8f7d\u6210\u529f\uff01\n59CN77YAL198SM6M.jpg \u4e0b\u8f7d\u6210\u529f\uff01\n2/ 2 page\n</code></pre>","tags":["Python","\u722c\u866b"]},{"location":"Python/Crawler/Python-Crawler-2-Focused-Crawler/#_2","title":"\u793a\u4f8b\u7f51\u9875","text":"<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n    &lt;title&gt;\u6d4b\u8bd5bs4&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div&gt;\n        &lt;p&gt;\u767e\u91cc\u5b88\u7ea6&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;div class=\"song\"&gt;\n        &lt;p&gt;\u674e\u6e05\u7167&lt;/p&gt;\n        &lt;p&gt;\u738b\u5b89\u77f3&lt;/p&gt;\n        &lt;p&gt;\u82cf\u8f7c&lt;/p&gt;\n        &lt;p&gt;\u67f3\u5b97\u5143&lt;/p&gt;\n        &lt;a href=\"https://www.song.com\" title=\"\u8d75\u5321\u80e4\" target=\"_self\"&gt;\n            &lt;span&gt;this is span&lt;/span&gt;\n            \u5b8b\u671d\u662f\u6700\u5f3a\u5927\u7684\u738b\u671d\uff0c\u4e0d\u662f\u519b\u961f\u7684\u5f3a\u5927\uff0c\u800c\u662f\u7ecf\u6d4e\u5f88\u5f3a\u5927\uff0c\u56fd\u6c11\u90fd\u5f88\u6709\u94b1\n        &lt;/a&gt;\n        &lt;a href=\"\" class=\"du\"&gt;\u603b\u4e3a\u6d6e\u4e91\u80fd\u907f\u65e5\uff0c\u957f\u5b89\u4e0d\u89c1\u4f7f\u4eba\u6101&lt;/a&gt;\n        &lt;img src=\"https://www.baidu.com/meinv.jpg\" alt=\"\"&gt;\n    &lt;/div&gt;\n    &lt;div class=\"tang\"&gt;\n        &lt;ul&gt;\n            &lt;li&gt;&lt;a href=\"https://www.baidu.com\" title=\"qing\"&gt;\u6e05\u660e\u65f6\u8282\u96e8\u7eb7\u7eb7\uff0c\u8def\u4e0a\u884c\u4eba\u6b32\u65ad\u9b42\u3002\u501f\u95ee\u9152\u5bb6\u4f55\u5904\u6709\uff0c\u7267\u7ae5\u9065\u6307\u674f\u82b1\u6751\u3002&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"https://www.163.com\" title=\"qin\"&gt;\u79e6\u65f6\u660e\u6708\u6c49\u65f6\u5149\uff0c\u4e07\u91cc\u957f\u5f81\u4eba\u672a\u8fd8\u3002\u4f46\u4f7f\u9f99\u57ce\u98de\u5c06\u5728\uff0c\u4e0d\u6559\u80e1\u9a6c\u5ea6\u9634\u5c71\u3002&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"https://www.126.com\" alt=\"qi\"&gt;\u5c90\u738b\u5b85\u91cc\u5bfb\u5e38\u89c1\uff0c\u5d14\u4e45\u5802\u524d\u51e0\u5ea6\u95fb\u3002\u6b63\u662f\u6c5f\u5357\u597d\u98ce\u666f\uff0c\u843d\u82b1\u65f6\u8282\u53c8\u9022\u541b\u3002&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"https://www.sina.com\" class=\"du\"&gt;\u675c\u752b&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"https://www.dudu.com\" class=\"du\"&gt;\u675c\u7267&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;b&gt;\u675c\u5c0f\u6708&lt;/b&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;i&gt;\u5ea6\u871c\u6708&lt;/i&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"https://www.haha.com\" id=\"feng\"&gt;\u51e4\u51f0\u53f0\u4e0a\u51e4\u51f0\u6e38\uff0c\u51e4\u53bb\u53f0\u7a7a\u6c5f\u81ea\u6d41\u3002\u5434\u5bab\u82b1\u8349\u57cb\u5e7d\u5f84\uff0c\u664b\u4ee3\u8863\u51a0\u6210\u53e4\u4e18\u3002&lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/div&gt;\n\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p> \u4ee5\u4e0b\u722c\u866b\u793a\u4f8b\u5747\u4ee5\u6b64\u7f51\u9875\u793a\u4f8b\u4e3a\u57fa\u7840 \u6709\u70b9\u4e11\uff0c\u5c06\u5c31\u4e00\u4e0b\u3002</p>","tags":["Python","\u722c\u866b"]},{"location":"Python/Crawler/Python-Crawler-2-Focused-Crawler/#bs4","title":"bs4\u722c\u53d6","text":"","tags":["Python","\u722c\u866b"]},{"location":"Python/Crawler/Python-Crawler-2-Focused-Crawler/#_3","title":"\u5b89\u88c5","text":"<p>win \u4e0b\uff1a &gt;_ pip install bs4 &gt;_ pip install lxml</p> <p>Linux \u4e0b\uff1a &gt;_ pip install Beautifulsoup4</p>","tags":["Python","\u722c\u866b"]},{"location":"Python/Crawler/Python-Crawler-2-Focused-Crawler/#_4","title":"\u5bfc\u5165","text":"<p><code>from bs4 import BeautifulSoup</code></p>","tags":["Python","\u722c\u866b"]},{"location":"Python/Crawler/Python-Crawler-2-Focused-Crawler/#_5","title":"\u4f7f\u7528","text":"<ul> <li>\u521b\u5efabs\u5bf9\u8c61\u5e76\u4f20\u5165\u5f85\u89e3\u6790\u5bf9\u8c61<ol> <li>\u4f20\u5165\u5f85\u89e3\u6790\u5bf9\u8c61\u4e3a\u672c\u5730\u6587\u4ef6     <pre><code>from bs4 import BeautifulSoup\n\nwith open('./bs_test.html', 'r', encoding='utf-8') as f:\n    bs = BeautifulSoup(f, 'lxml')    # \u521b\u5efabs\u5bf9\u8c61\n</code></pre></li> <li>\u4f20\u5165\u5f85\u89e3\u6790\u5bf9\u8c61\u4e3a\u7f51\u7edc\u8bf7\u6c42     <pre><code>from bs4 import BeautifulSoup\nimport requests\n\nurl = \"https://www.baidu.com\"\npage_text = requests.get(url=url).text\nbs = BeautifulSoup(page_text, 'lxml')    # \u521b\u5efabs\u5bf9\u8c61\n</code></pre></li> </ol> </li> </ul>","tags":["Python","\u722c\u866b"]},{"location":"Python/Crawler/Python-Crawler-2-Focused-Crawler/#_6","title":"\u5b9a\u4f4d\u6570\u636e","text":"\u65b9\u6cd5 \u7528 \u8fd4\u503c tagName \u8fd4\u56de\u9996tagName\u6807\u7b7e bs4.element.Tag find('tagName') \u8fd4\u56de\u9996tagName\u6807\u7b7e bs4.element.Tag find('tagName', class_/id/attrName='value') \u8fd4\u56de\u9996\u5c5e\u6027\u4e3avalue\u7684tagName\u6807\u7b7e bs4.element.Tag find_all('tagName') \u8fd4\u56de\u6240\u7b26\u5408\u8981\u6c42\u7684\u6807\u7b7e bs4.element.ResultSet select(['selector' + ]'tagName') \u901a\u8fc7CS\u9009\u62e9\u5668+\u6807\u7b7e\u540d\u5b9a\u4f4d\u6807\u7b7e,\u8fd4\u56de\u591a\u4e2a bs4.element.ResultSet select_one(['selector' + ]'tagName') \u901a\u8fc7CS\u9009\u62e9\u5668+\u6807\u7b7e\u540d\u5b9a\u4f4d\u6807\u7b7e,\u8fd4\u56de\u4e00\u4e2a bs4.element.Tag","tags":["Python","\u722c\u866b"]},{"location":"Python/Crawler/Python-Crawler-2-Focused-Crawler/#bstagname","title":"bs.tagName","text":"<ol> <li><code>bs.tagName</code>\uff1a\u8fd4\u56de\u6587\u6863\u4e2d**\u7b2c\u4e00\u6b21**\u51fa\u73b0tagName\u5bf9\u5e94\u7684\u6807\u7b7e     <pre><code>with open('./bs_test.html', 'r', encoding='utf-8') as f:\n    bs = BeautifulSoup(f, 'lxml')    # \u521b\u5efabs\u5bf9\u8c61\n\n    tag_a = bs.a        # \u5b9a\u4f4d\u6570\u636e\n\n    print(tag_a)\n    print(type(tag_a))  # &lt;class 'bs4.element.Tag'&gt;\n--------------------------------------------------\n# Output:\n&lt;a href=\"https://www.song.com\" target=\"_self\" title=\"\u8d75\u5321\u80e4\"&gt;\n&lt;span&gt;this is span&lt;/span&gt;\n    \u5b8b\u671d\u662f\u6700\u5f3a\u5927\u7684\u738b\u671d\uff0c\u4e0d\u662f\u519b\u961f\u7684\u5f3a\u5927\uff0c\u800c\u662f\u7ecf\u6d4e\u5f88\u5f3a\u5927\uff0c\u56fd\u6c11\u90fd\u5f88\u6709\u94b1\n&lt;/a&gt;\n&lt;class 'bs4.element.Tag'&gt;\n</code></pre></li> </ol>","tags":["Python","\u722c\u866b"]},{"location":"Python/Crawler/Python-Crawler-2-Focused-Crawler/#bsfind","title":"bs.find()","text":"<ol> <li><code>bs.find()</code>\uff1a<ol> <li><code>find('tagName')</code>\uff1a\u7b49\u540c\u4e8e bs.tagName     <pre><code>with open('./bs_test.html', 'r', encoding='utf-8') as f:\n    bs = BeautifulSoup(f, 'lxml')    # \u521b\u5efabs\u5bf9\u8c61\n\n    tag_div = bs.find('div')         # \u5b9a\u4f4d\u6570\u636e\n\n    print(tag_div)\n    print(type(tag_div))  # &lt;class 'bs4.element.Tag'&gt;\n--------------------------------------------------\n# Output:\n&lt;div&gt;\n&lt;p&gt;\u767e\u91cc\u5b88\u7ea6&lt;/p&gt;\n&lt;/div&gt;\n&lt;class 'bs4.element.Tag'&gt;\n</code></pre></li> <li><code>find('tagName', class_/is/attrName='value')</code>\uff1a\u901a\u8fc7\u9650\u5b9a\u5c5e\u6027\u6765\u5b9a\u4f4d\u6807\u7b7e     <pre><code>with open('./bs_test.html', 'r', encoding='utf-8') as f:\n    bs = BeautifulSoup(f, 'lxml')                  # \u521b\u5efabs\u5bf9\u8c61\n\n    tag_a = bs.find('a', class_='du')        # \u5b9a\u4f4d\u6570\u636e\n\n    print(tag_a)\n    print(type(tag_a))  # &lt;class 'bs4.element.Tag'&gt;\n--------------------------------------------------\n# Output:\n&lt;a class=\"du\" href=\"\"&gt;\u603b\u4e3a\u6d6e\u4e91\u80fd\u907f\u65e5\uff0c\u957f\u5b89\u4e0d\u89c1\u4f7f\u4eba\u6101&lt;/a&gt;\n&lt;class 'bs4.element.Tag'&gt;\n</code></pre></li> <li><code>bs.find_all('tagName')</code>\uff1a\u8fd4\u56de\u590d\u5408\u8981\u6c42\u7684\u6240\u6709\u6807\u7b7e\uff08\u96c6\u5408\uff09     <pre><code>with open('./bs_test.html', 'r', encoding='utf-8') as f:\n    bs = BeautifulSoup(f, 'lxml')       # \u521b\u5efabs\u5bf9\u8c61\n\n    tag_p = bs.find_all('p')        # \u5b9a\u4f4d\u6570\u636e\n\n    print(tag_p)\n    print(type(tag_p))  # &lt;class 'bs4.element.ResultSet'&gt;\n--------------------------------------------------\n# Output:\n[&lt;p&gt;\u767e\u91cc\u5b88\u7ea6&lt;/p&gt;, &lt;p&gt;\u674e\u6e05\u7167&lt;/p&gt;, &lt;p&gt;\u738b\u5b89\u77f3&lt;/p&gt;, &lt;p&gt;\u82cf\u8f7c&lt;/p&gt;, &lt;p&gt;\u67f3\u5b97\u5143&lt;/p&gt;]\n</code></pre></li> </ol> </li> </ol>","tags":["Python","\u722c\u866b"]},{"location":"Python/Crawler/Python-Crawler-2-Focused-Crawler/#bsselect","title":"bs.select()","text":"<ol> <li><code>bs.select('selector' + 'tagName')</code>\uff1a\u53ef\u4ee5\u901a\u8fc7**CSS\u62e9\u5668+\u6807\u7b7e\u540d**\u5b9a\u4f4d\uff0c\u5305\u62ec\u5c42\u7ea7\u9009\u62e9\u5668\u3001\u6807\u7b7e\u9009\u62e9\u5668\u7b49     <pre><code>with open('./bs_test.html', 'r', encoding='utf-8') as f:\n    bs = BeautifulSoup(f, 'lxml')       # \u521b\u5efabs\u5bf9\u8c61\n\n    tag_div = bs.select('#feng')        # \u5b9a\u4f4d\u6570\u636e\n\n    print(tag_div)\n    print(type(tag_div))  # &lt;class 'bs4.element.ResultSet'&gt;\n--------------------------------------------------\n# Output:\n[&lt;a href=\"https://www.haha.com\" id=\"feng\"&gt;\u51e4\u51f0\u53f0\u4e0a\u51e4\u51f0\u6e38\uff0c\u51e4\u53bb\u53f0\u7a7a\u6c5f\u81ea\u6d41\u3002\u5434\u5bab\u82b1\u8349\u57cb\u5e7d\u5f84\uff0c\u664b\u4ee3\u8863\u51a0\u6210\u53e4\u4e18\u3002&lt;/a&gt;]\n&lt;class 'bs4.element.ResultSet'&gt;\n</code></pre> <pre><code>with open('./bs_test.html', 'r', encoding='utf-8') as f:\n    bs = BeautifulSoup(f, 'lxml')               # \u521b\u5efabs\u5bf9\u8c61\n\n    tag1_a = bs.select('.tang &gt; ul &gt; li &gt; a')  # \u5b9a\u4f4d\u6570\u636e\n    tag2_a = bs.select('.tang &gt;ul a')          # \u5b9a\u4f4d\u6570\u636e\n\n    print(tag1_a)\n    print(tag2_a)\n    print(type(tag1_a))  # &lt;class 'bs4.element.ResultSet'&gt;\n\n--------------------------------------------------\n# Output:\n[&lt;a href=\"https://www.baidu.com\" title=\"qing\"&gt;\u6e05\u660e\u65f6\u8282\u96e8\u7eb7\u7eb7\uff0c\u8def\u4e0a\u884c\u4eba\u6b32\u65ad\u9b42\u3002\u501f\u95ee\u9152\u5bb6\u4f55\u5904\u6709\uff0c\u7267\u7ae5\u9065\u6307\u674f\u82b1\u6751\u3002&lt;/a&gt;, &lt;a href=\"https://www.163.com\" title=\"qin\"&gt;\u79e6\u65f6\u660e\u6708\u6c49\u65f6\u5149\uff0c\u4e07\u91cc\u957f\u5f81\u4eba\u672a\u8fd8\u3002\u4f46\u4f7f\u9f99\u57ce\u98de\u5c06\u5728\uff0c\u4e0d\u6559\u80e1\u9a6c\u5ea6\u9634\u5c71\u3002&lt;/a&gt;, &lt;a alt=\"qi\" href=\"https://www.126.com\"&gt;\u5c90\u738b\u5b85\u91cc\u5bfb\u5e38\u89c1\uff0c\u5d14\u4e45\u5802\u524d\u51e0\u5ea6\u95fb\u3002\u6b63\u662f\u6c5f\u5357\u597d\u98ce\u666f\uff0c\u843d\u82b1\u65f6\u8282\u53c8\u9022\u541b\u3002&lt;/a&gt;, &lt;a class=\"du\" href=\"https://www.sina.com\"&gt;\u675c\u752b&lt;/a&gt;, &lt;a class=\"du\" href=\"https://www.dudu.com\"&gt;\u675c\u7267&lt;/a&gt;, &lt;a href=\"https://www.haha.com\" id=\"feng\"&gt;\u51e4\u51f0\u53f0\u4e0a\u51e4\u51f0\u6e38\uff0c\u51e4\u53bb\u53f0\u7a7a\u6c5f\u81ea\u6d41\u3002\u5434\u5bab\u82b1\u8349\u57cb\u5e7d\u5f84\uff0c\u664b\u4ee3\u8863\u51a0\u6210\u53e4\u4e18\u3002&lt;/a&gt;]\n[&lt;a href=\"https://www.baidu.com\" title=\"qing\"&gt;\u6e05\u660e\u65f6\u8282\u96e8\u7eb7\u7eb7\uff0c\u8def\u4e0a\u884c\u4eba\u6b32\u65ad\u9b42\u3002\u501f\u95ee\u9152\u5bb6\u4f55\u5904\u6709\uff0c\u7267\u7ae5\u9065\u6307\u674f\u82b1\u6751\u3002&lt;/a&gt;, &lt;a href=\"https://www.163.com\" title=\"qin\"&gt;\u79e6\u65f6\u660e\u6708\u6c49\u65f6\u5149\uff0c\u4e07\u91cc\u957f\u5f81\u4eba\u672a\u8fd8\u3002\u4f46\u4f7f\u9f99\u57ce\u98de\u5c06\u5728\uff0c\u4e0d\u6559\u80e1\u9a6c\u5ea6\u9634\u5c71\u3002&lt;/a&gt;, &lt;a alt=\"qi\" href=\"https://www.126.com\"&gt;\u5c90\u738b\u5b85\u91cc\u5bfb\u5e38\u89c1\uff0c\u5d14\u4e45\u5802\u524d\u51e0\u5ea6\u95fb\u3002\u6b63\u662f\u6c5f\u5357\u597d\u98ce\u666f\uff0c\u843d\u82b1\u65f6\u8282\u53c8\u9022\u541b\u3002&lt;/a&gt;, &lt;a class=\"du\" href=\"https://www.sina.com\"&gt;\u675c\u752b&lt;/a&gt;, &lt;a class=\"du\" href=\"https://www.dudu.com\"&gt;\u675c\u7267&lt;/a&gt;, &lt;a href=\"https://www.haha.com\" id=\"feng\"&gt;\u51e4\u51f0\u53f0\u4e0a\u51e4\u51f0\u6e38\uff0c\u51e4\u53bb\u53f0\u7a7a\u6c5f\u81ea\u6d41\u3002\u5434\u5bab\u82b1\u8349\u57cb\u5e7d\u5f84\uff0c\u664b\u4ee3\u8863\u51a0\u6210\u53e4\u4e18\u3002&lt;/a&gt;]\n&lt;class 'bs4.element.ResultSet'&gt;\n</code></pre> <pre><code> with open('./bs_test.html', 'r', encoding='utf-8') as f:\n    bs = BeautifulSoup(f, 'lxml')       # \u521b\u5efabs\u5bf9\u8c61\n\n    tag_div = bs.select_one('.du')    # \u5b9a\u4f4d\u6570\u636e\n\n    print(tag_div)\n    print(type(tag_div))  # &lt;class 'bs4.element.Tag'&gt;\n\n--------------------------------------------------\n# Output:\n&lt;a class=\"du\" href=\"\"&gt;\u603b\u4e3a\u6d6e\u4e91\u80fd\u907f\u65e5\uff0c\u957f\u5b89\u4e0d\u89c1\u4f7f\u4eba\u6101&lt;/a&gt;\n&lt;class 'bs4.element.Tag'&gt;\n</code></pre></li> </ol>","tags":["Python","\u722c\u866b"]},{"location":"Python/Crawler/Python-Crawler-2-Focused-Crawler/#_7","title":"\u89e3\u6790\u6570\u636e","text":"\u65b9\u6cd5 \u7528 \u8fd4\u503c .text \u8fd4\u56de\u6807\u7b7e\u4e0b\u6240\u6709**\u76f4\u7cfb\u548c\u975e\u76f4\u7cfb\u6807\u7b7e**\u7684\u6240\u6709\u672c str .get_text() \u8fd4\u56de\u6807\u7b7e\u4e0b\u6240\u6709**\u76f4\u7cfb\u548c\u975e\u76f4\u7cfb\u6807\u7b7e**\u7684\u6240\u6709\u672c str .string \u8fd4\u56de\u6807\u7b7e\u4e0b\u6240\u6709**\u76f4\u7cfb\u6807\u7b7e**\u7684\u6240\u6709\u672c bs4.element.NavigableString","tags":["Python","\u722c\u866b"]},{"location":"Python/Crawler/Python-Crawler-2-Focused-Crawler/#_8","title":"\u83b7\u53d6\u6587\u672c","text":"<ol> <li><code>bs.tagName.text/string/get_text()</code>\uff1a\u83b7\u53d6\u6807\u7b7e\u4e4b\u95f4\u7684*\u6240\u6709\u6587\u672c**<ol> <li><code>text/get_text()</code>\uff1a\u53ef\u4ee5\u83b7\u53d6\u6807\u7b7e\u4e0b**\u76f4\u7cfb\u548c\u975e\u76f4\u7cfb**\u7684\u6240\u6709\u6587\u672c     <pre><code>with open('./bs_test.html', 'r', encoding='utf-8') as f:\n    bs = BeautifulSoup(f, 'lxml')       # \u521b\u5efabs\u5bf9\u8c61\n\n    txt_li = bs.find('li').text\n\n    print(txt_li)\n    print(type(txt_li))    # &lt;class 'str'&gt;\n\n--------------------------------------------------\n# Output:\n\u6e05\u660e\u65f6\u8282\u96e8\u7eb7\u7eb7\uff0c\u8def\u4e0a\u884c\u4eba\u6b32\u65ad\u9b42\u3002\u501f\u95ee\u9152\u5bb6\u4f55\u5904\u6709\uff0c\u7267\u7ae5\u9065\u6307\u674f\u82b1\u6751\u3002\n&lt;class 'str'&gt;\n</code></pre> <pre><code>with open('./bs_test.html', 'r', encoding='utf-8') as f:\n    bs = BeautifulSoup(f, 'lxml')       # \u521b\u5efabs\u5bf9\u8c61\n\n    txt_li = bs.find('li').get_text()\n\n    print(txt_li)\n    print(type(txt_li))    # &lt;class 'str'&gt;\n\n--------------------------------------------------\n# Output:\n\u6e05\u660e\u65f6\u8282\u96e8\u7eb7\u7eb7\uff0c\u8def\u4e0a\u884c\u4eba\u6b32\u65ad\u9b42\u3002\u501f\u95ee\u9152\u5bb6\u4f55\u5904\u6709\uff0c\u7267\u7ae5\u9065\u6307\u674f\u82b1\u6751\u3002\n&lt;class 'str'&gt;\n</code></pre></li> <li><code>string</code>\uff1a\u53ea\u80fd\u83b7\u53d6\u6807\u7b7e\u4e0b**\u76f4\u7cfb**\u7684\u6587\u672c\uff0c\u6ca1\u6709\u8fd4\u56de None     <pre><code>with open('./bs_test.html', 'r', encoding='utf-8') as f:\n    bs = BeautifulSoup(f, 'lxml')       # \u521b\u5efabs\u5bf9\u8c61\n\n    txt_li = bs.find('li').string\n\n    print(txt_li)\n    print(type(txt_li))    # &lt;class 'bs4.element.NavigableString'&gt;\n\n--------------------------------------------------\n# Output:\n\u6e05\u660e\u65f6\u8282\u96e8\u7eb7\u7eb7\uff0c\u8def\u4e0a\u884c\u4eba\u6b32\u65ad\u9b42\u3002\u501f\u95ee\u9152\u5bb6\u4f55\u5904\u6709\uff0c\u7267\u7ae5\u9065\u6307\u674f\u82b1\u6751\u3002\n&lt;class 'bs4.element.NavigableString'&gt;\n</code></pre></li> </ol> </li> </ol>","tags":["Python","\u722c\u866b"]},{"location":"Python/Crawler/Python-Crawler-2-Focused-Crawler/#_9","title":"\u83b7\u53d6\u5c5e\u6027","text":"<ol> <li><code>bs.tagName['attrName']</code>\uff1a\u83b7\u53d6\u6807\u7b7e\u4e2d\u7684**\u5c5e\u6027\u5185\u5bb9**     <pre><code>with open('./bs_test.html', 'r', encoding='utf-8') as f:\n    bs = BeautifulSoup(f, 'lxml')       # \u521b\u5efabs\u5bf9\u8c61\n\n    txt_href = bs.find('a')['href']\n\n    print(txt_href)\n    print(type(txt_href))    # &lt;class 'str'&gt;\n\n--------------------------------------------------\n# Output:\nhttps://www.song.com\n&lt;class 'str'&gt;\n</code></pre></li> </ol>","tags":["Python","\u722c\u866b"]},{"location":"Python/Crawler/Python-Crawler-2-Focused-Crawler/#_10","title":"\u6848\u4f8b","text":"<p>\u4ece\u8bd7\u8bcd\u540d\u53e5\u7f51\u4e0b\u8f7d\u4e00\u6574\u90e8\u300a\u8bba\u8bed\u300b</p> <pre><code>import time\nimport requests\nimport os\nfrom bs4 import BeautifulSoup\n\nUA = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.89 Safari/537.36 Edg/84.0.522.44'\nheader = {'User-Agent': UA}\n\nfolder = '.\\\\\u722c\u866b\\\\\u8bba\u8bed'\nif not os.path.exists(folder):\n    os.mkdir(folder)\n\n\ndef req_catalog(url):\n    \"\"\" \u8bf7\u6c42\u76ee\u5f55\u5217\u8868 \"\"\"\n    return requests.get(url=url, headers=header).text\n\n\ndef catalog_parse(res_text):\n    \"\"\" \u89e3\u6790\u76ee\u5f55\u5217\u8868 \"\"\"\n    bs = BeautifulSoup(res_text, 'lxml')\n    links = bs.select('.book-mulu &gt; ul &gt; li &gt; a')\n    catalog_list = [[x.string, x['href']] for x in links]\n\n    return catalog_list\n\n\ndef download_content(catalog_list):\n    \"\"\" \u8bf7\u6c42\u5185\u5bb9\u9875 \"\"\"\n    url = 'https://www.shicimingju.com'\n    length = len(catalog_list)\n\n    for index, elem in enumerate(catalog_list):\n        # \u8bf7\u6c42\u6570\u636e\n        content_text = requests.get(url=url + elem[1], headers=header).text\n        # \u89e3\u6790\u6570\u636e\n        content = contents_parse(content_text)\n        # \u6301\u4e45\u5316\u5b58\u50a8\n        filename = str(index + 1) + '-' + elem[0] + '.txt'\n        filepath = os.path.join(folder, filename)\n        with open(filepath, 'w', encoding='utf-8') as f:\n            f.write(content)\n            print(\"\u5df2\u4e0b\u8f7d\uff1a\" + str(index + 1) + \" / \" + str(length), end=\"\\r\")\n    return 1\n\n\ndef contents_parse(page_text):\n    \"\"\" \u89e3\u6790\u5185\u5bb9 \"\"\"\n    bs = BeautifulSoup(page_text, 'lxml')\n    contents = bs.select('.chapter_content &gt; p')  # \u53d6\u51fa\u6240\u6709p\u6807\u7b7e\n    texts = [x.string for x in contents]          # \u53d6\u51fa\u5185\u5bb9\uff0c\u8fc7\u6ee4\u6389P\u6807\u7b7e\n    content = ''\n    for i in texts:\n        content += str(i)\n    return content\n\n\ndef main():\n    url = \"https://www.shicimingju.com/book/lunyu.html\"\n\n    catalog_list = list()\n    try:\n        catalog_text = req_catalog(url)\n        catalog_list = catalog_parse(catalog_text)\n        print(\"\u4e0b\u8f7d\u6210\u529f\uff01\") if download_content(catalog_list) else print(\"\u4e0b\u8f7d\u5931\u8d25\")\n    except TimeoutError:\n        print(\"TimeoutError\\n\")\n        time.sleep(2)\n        print(\"\u4e0b\u8f7d\u6210\u529f\uff01\") if download_content(catalog_list) else print(\"\u4e0b\u8f7d\u5931\u8d25\")\n    except Exception:\n        print(\"Exception\\n\")\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>","tags":["Python","\u722c\u866b"]},{"location":"Python/Crawler/Python-Crawler-2-Focused-Crawler/#xpath","title":"xpath\u722c\u53d6","text":"<p>\u6700\u5e38\u7528\u3001\u901a\u7528\u6027\u6700\u5f3a\u7684\uff0c\u6700\u4fbf\u6377\u9ad8\u6548\u7684\u4e00\u79cd\u89e3\u6790\u65b9\u5f0f\u3002</p>","tags":["Python","\u722c\u866b"]},{"location":"Python/Crawler/Python-Crawler-2-Focused-Crawler/#_11","title":"\u89e3\u6790\u6b65\u9aa4","text":"<ol> <li>\u5b9e\u4f8b\u5316\u4e00\u4e2aetree\u5bf9\u8c61\uff0c\u5e76\u4e14\u9700\u8981\u5c06\u88ab\u89e3\u6790\u7684\u9875\u9762\u6e90\u7801\u6570\u636e\u52a0\u8f7d\u5230\u8be5\u5bf9\u8c61\u4e2d\u3002</li> <li>\u901a\u8fc7\u8c03\u7528etree\u5bf9\u8c61\u4e2d\u7684xpath\u65b9\u6cd5\u7ed3\u5408\u7740xpath\u8868\u8fbe\u5f0f\u5b9e\u73b0\u6807\u7b7e\u7684\u5b9a\u4f4d\u548c\u5185\u5bb9\u7684\u6355\u83b7</li> <li>xpath\u5b9a\u4f4d\u5230\u6570\u636e\u540e\u8fd4\u56de\u7684\u4e0d\u662f\u6570\u636e\u7684\u5185\u5bb9\uff0c\u800c\u5df2\u4e00\u4e2a\u5217\u8868\uff0c\u91cc\u9762\u653e\u7f6e\u4e86\u89e3\u6790\u51fa\u6765\u7684**Element\u5bf9\u8c61**</li> </ol>","tags":["Python","\u722c\u866b"]},{"location":"Python/Crawler/Python-Crawler-2-Focused-Crawler/#_12","title":"\u5b89\u88c5","text":"<p>&gt;_: pip install lxml</p>","tags":["Python","\u722c\u866b"]},{"location":"Python/Crawler/Python-Crawler-2-Focused-Crawler/#_13","title":"\u5bfc\u5165","text":"<p><code>from lxml import etree</code></p>","tags":["Python","\u722c\u866b"]},{"location":"Python/Crawler/Python-Crawler-2-Focused-Crawler/#_14","title":"\u4f7f\u7528","text":"<ul> <li>\u521b\u5efaetree\u5bf9\u8c61\u5e76\u4f20\u5165\u5f85\u89e3\u6790\u5bf9\u8c61<ol> <li>\u4f20\u5165\u5f85\u89e3\u6790\u5bf9\u8c61\u4e3a\u672c\u5730\u6587\u4ef6 <code>tree = etree.parse(filePath)</code></li> <li>\u4f20\u5165\u5f85\u89e3\u6790\u5bf9\u8c61\u4e3a\u7f51\u7edc\u8bf7\u6c42 <code>tree = etree.HTML('page_text')</code></li> </ol> </li> <li> <p>\u5b9a\u4f4d\u6570\u636e\uff1a<code>tree.xpath(xpath\u8868\u8fbe\u5f0f)</code>     \u5728XPath\u4e2d\u67097\u79cd\u8282\u70b9\uff1a\u5143\u7d20\u3001\u5c5e\u6027\u3001\u6587\u672c\u3001\u6587\u6863\u3001\u547d\u540d\u7a7a\u95f4\u3001\u5904\u7406\u6307\u4ee4\u3001\u6ce8\u91ca\u3002     \u5143\u7d20\u3001\u5c5e\u6027\u3001\u6587\u672c \u4e3a\u5e38\u7528\u8282\u70b9\u3002     </p><pre><code>&lt;html&gt; \u4e3a\u6587\u6863\u8282\u70b9\n&lt;li&gt;\u5c0f\u7c73&lt;/li&gt; \u4e3a\u5143\u7d20\u8282\u70b9\nclass='blank' \u4e3a\u5c5e\u6027\u8282\u70b9\n&lt;!-- \u8fd9\u91cc\u662f\u6ce8\u91ca --&gt; \u4e3a\u6ce8\u91ca\u8282\u70b9\n</code></pre><p></p> expression description nodeName \u9009\u62e9nodeName\u8282\u70b9\u7684\u6240\u6709\u5b50\u8282\u70b9 / \u4ece\u6839\u8282\u70b9\u6216/\u524d\u7684\u8282\u70b9\u5f00\u59cb\uff0c\u4e0d\u8de8\u5c42\u7ea7\u5339\u914d // \u4ece//\u524d\u7684\u8282\u70b9\u5f00\u59cb\uff0c\u8de8\u5c42\u7ea7\u5339\u914d . \u9009\u62e9\u5f53\u524d\u8282\u70b9 .. \u9009\u62e9\u5f53\u524d\u8282\u70b9\u7684\u7236\u8282\u70b9 @ \u5339\u914d\u5143\u7d20\u5c5e\u6027 * \u5339\u914d\u6240\u6709\u8282\u70b9 @* \u5339\u914d\u8282\u70b9\u6240\u6709\u5c5e\u6027 [] \u6309\u7d22\u5f15\u5b9a\u4f4d <ol> <li> <p><code>/</code>\uff1a\u8868\u793a\u4ece\u6839\u8282\u70b9\u5f00\u59cb\u5b9a\u4f4d     &gt; / \u653e\u5728\u6700\u524d\u9762\u7684\u65f6\u5019\u8868\u793a\u6839\u8282\u70b9\uff0c\u4e0d\u662f\u653e\u5728\u6700\u524d\u9762\u7684\u65f6\u5019\u8868\u793a</p> <p></p><pre><code>from lxml import etree\n\nwith open('./test.html', 'r', encoding='utf-8') as f:\n    f_content = f.read()\n    tree = etree.HTML(f_content)\n    r = tree.xpath('/html/body/div/p')\n    print(r)\n    print(type(r))\n\n--------------------------------------------------\nxpath \u5728\u5339\u914d\u7684\u65f6\u5019\u662f\u8d2a\u5a6a\u7684\uff0c\u793a\u4f8b\u4e2d\u6709\u4e24\u4e2a div \u4e0b\u90fd\u6709 p\uff0c\u6240\u4ee5\u5339\u914d\u5230\u4e865\u4e2a\n# Output:\n[&lt;Element p at 0x252e2de8780&gt;,\n &lt;Element p at 0x252e2de87c0&gt;,\n &lt;Element p at 0x252e2de8800&gt;,\n &lt;Element p at 0x252e2de8840&gt;,\n &lt;Element p at 0x252e2de8880&gt;]\n&lt;class 'list'&gt;\n</code></pre>     2. <code>//</code>\uff1a\u8868\u793a\u5339\u914d\u591a\u7ea7<p></p> <p>/a/b//c\uff0c\u5c31\u8868\u793a\u5339\u914d a \u6807\u7b7e\u4e0b\u7684 b \u6807\u7b7e\u4e0b\u6240\u6709c\u6807\u7b7e</p> <p></p><pre><code>from lxml import etree\n\nwith open('./test.html', 'r', encoding='utf-8') as f:\n    f_content = f.read()\n    tree = etree.HTML(f_content)\n    r = tree.xpath('/html//a')        # \u7b49\u4ef7\u4e8e r = tree.xpath('//a')\n    print(r)\n    print(type(r))\n\n--------------------------------------------------\nhtml\u8282\u70b9\u4e0b\u603b\u5171\u67098\u4e2aa\u6807\u7b7e\uff0c\u6240\u4ee5\u5339\u914d\u52308\u4e2aelement\u5bf9\u8c61\n# Output:\n[&lt;Element a at 0x1e5f55e9680&gt;,\n &lt;Element a at 0x1e5f55e96c0&gt;,\n &lt;Element a at 0x1e5f55e9700&gt;,\n &lt;Element a at 0x1e5f55e9740&gt;,\n &lt;Element a at 0x1e5f55e9780&gt;,\n &lt;Element a at 0x1e5f55e9800&gt;,\n &lt;Element a at 0x1e5f55e9840&gt;,\n &lt;Element a at 0x1e5f55e9880&gt;]\n&lt;class 'list'&gt;\n</code></pre>     3. <code>@</code>\uff1a\u8868\u793a\u901a\u8fc7\u5c5e\u6027\u5b9a\u4f4d<p></p> <p><code>tag[@attrName=\"attrValue\"]</code> @\u540e\u9762\u52a0\u4e0a\u5c5e\u6027\u540d\uff0c\u6bd4\u5982class\u3001id\u3001href\u3001src\u7b49\u7b49</p> <p></p><pre><code>from lxml import etree\n\nwith open('./test.html', 'r', encoding='utf-8') as f:\n    f_content = f.read()\n    tree = etree.HTML(f_content)\n    r = tree.xpath('/html//div[@class=\"song\"]')\n    print(r)\n    print(type(r))\n\n--------------------------------------------------\nhtml\u8282\u70b9\u4e0b\u603b\u5171\u67098\u4e2aa\u6807\u7b7e\uff0c\u6240\u4ee5\u5339\u914d\u52308\u4e2aelement\u5bf9\u8c61\n# Output:\n[&lt;Element div at 0x24d64839640&gt;]\n&lt;class 'list'&gt;\n</code></pre>     4. <code>[]</code>\uff1a\u8868\u793a\u901a\u8fc7\u7d22\u5f15\u5b9a\u4f4d<p></p> <p><code>tag[index]</code> \u8fd9\u91cc\u662f\u7d22\u5f15\u662f**\u4ece1\u5f00\u59cb\u7684**</p> <p></p><pre><code>from lxml import etree\n\nwith open('./test.html', 'r', encoding='utf-8') as f:\n    f_content = f.read()\n    tree = etree.HTML(f_content)\n\n    print(tree.xpath('/html//div[@class=\"song\"]/p[1]'))\n    print(tree.xpath('/html//div[@class=\"song\"]/p[1]/text()'))\n    print(tree.xpath('/html//div[@class=\"song\"]/p[2]'))\n    print(tree.xpath('/html//div[@class=\"song\"]/p[3]'))\n\n--------------------------------------------------\n\u8fd9\u91cc\u7684\u4e0b\u6807\u662f\u4ece1\u5f00\u59cb\u7684\n# Output:\n[&lt;Element p at 0x1df3d4395c0&gt;]\n['\u674e\u6e05\u7167']\n[&lt;Element p at 0x1df3d439580&gt;]\n[&lt;Element p at 0x1df3d439600&gt;]\n&lt;class 'list'&gt;\n</code></pre>     5. <code>/text()</code>\uff1a\u8fd4\u56de\u6807\u7b7e\u4e4b\u95f4\u7684\u6587\u672c\uff0c\u53d6\u6587\u672c<p></p> <p><code>tag/text()</code>\uff1a\u83b7\u53d6tag\u4e0b**\u76f4\u7cfb**\u7684\u6587\u672c <code>tag//text()</code>\uff1a\u83b7\u53d6tag\u4e0b**\u76f4\u7cfb\u548c\u975e\u76f4\u7cfb**\u7684\u6587\u672c</p> <p></p><pre><code>from lxml import etree\n\nwith open('./test.html', 'r', encoding='utf-8') as f:\n    f_content = f.read()\n    tree = etree.HTML(f_content)\n    r1 = tree.xpath('/html//div[@class=\"song\"]/p[3]')\n    r2 = tree.xpath('/html//div[@class=\"song\"]/p[3]/text()')\n    r3 = tree.xpath('/html//div[@class=\"song\"]/p[3]/text()')[0]\n    print(r1)\n    print(r2)\n    print(r3)\n\n--------------------------------------------------\n\n# Output:\n[&lt;Element p at 0x1d4e4c29540&gt;]\n['\u82cf\u8f7c']\n\u82cf\u8f7c\n&lt;class 'list'&gt;\n</code></pre>     5. <code>/@attrName</code>\uff1a\u8fd4\u56de\u6807\u7b7e\u7684attrName\u5c5e\u6027\u7684\u503c<p></p> <p><code>tag/@attrName</code>\uff1a\u83b7\u53d6tag\u6807\u7b7e\u4e2d\u7684attrName\u5c5e\u6027\u7684\u503c</p> <p></p><pre><code>from lxml import etree\n\nwith open('./test.html', 'r', encoding='utf-8') as f:\n    f_content = f.read()\n    tree = etree.HTML(f_content)\n    r1 = tree.xpath('//div[@class=\"song\"]/a/@href')\n    print(r1)\n\n    r2 = tree.xpath('//div[@class=\"song\"]/img/@src')\n    print(r2)\n\n--------------------------------------------------\n\n# Output:\n['https://www.song.com', '']\n['https://www.baidu.com/meinv.jpg']\n&lt;class 'list'&gt;\n</code></pre>     5. <code>/@*</code>\uff1a\u8fd4\u56de\u6807\u7b7e\u7684\u6240\u6709\u5c5e\u6027\u7684\u503c<p></p> <p><code>tag/@*</code>\uff1a\u83b7\u53d6tag\u6807\u7b7e\u4e2d\u7684\u6240\u6709\u5c5e\u6027\u7684\u503c</p> <pre><code>from lxml import etree\n\nwith open('./test.html', 'r', encoding='utf-8') as f:\n    f_content = f.read()\n    tree = etree.HTML(f_content)\n    r1 = tree.xpath('//div[@class=\"song\"]/a[@target=\"_self\"]/@*')\n    print(r1)\n\n--------------------------------------------------\n\n# Output:\n['https://www.song.com', '\u8d75\u5321\u80e4', '_self']\n&lt;class 'list'&gt;\n</code></pre> </li> </ol> </li> </ul>","tags":["Python","\u722c\u866b"]},{"location":"Python/Crawler/Python-Crawler-2-Focused-Crawler/#_15","title":"\u6848\u4f8b","text":"<p>\u4ece\u5f7c\u5cb8\u56fe\u7f51\u4e0b\u8f7d4K\u56fe\u4fdd\u5b58\u81f3\u672c\u5730</p> <pre><code>import os\nfrom lxml import etree\nimport requests\n\nUA = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.89 Safari/537.36 Edg/84.0.522.44'\nheader = {'User-Agent': UA}\n\npath = './\u722c\u866b/4k'\nif not os.path.exists(path):\n    os.mkdir(path)\n\n\ndef get_url():\n    \"\"\" \u83b7\u53d6\u6240\u6709\u56fe\u7247\u5730\u5740 \"\"\"\n    url = 'http://pic.netbian.com/4kmeinv/'\n    index_text = requests.get(url=url, headers=header).text\n\n    tree = etree.HTML(index_text)\n    a_list = tree.xpath('//div[@id=\"main\"]/div[3]/ul/li/a')\n    # response.encoding = 'utf-8'   # \u5904\u7406\u4e2d\u6587\u4e71\u7801\u65b9\u5f0f1\uff0c\u4e0d\u4e00\u5b9a\u6709\u6548\n\n    img_list = list()\n    for a in a_list:\n        src: str = 'http://pic.netbian.com' + a.xpath('./@href')[0]\n        title: str = a.xpath('./b/text()')[0] + '.jpg'\n        title = title.encode('iso-8859-1').decode('gbk')  # \u5904\u7406\u4e2d\u6587\u4e71\u7801\u65b9\u5f0f2\n        img_list.append((title, src))\n\n    return img_list\n\n\ndef download_img(img_info):\n    \"\"\" \u4e0b\u8f7d\u56fe\u7247 \"\"\"\n\n    img_content = requests.get(url=img_info[1], headers=header).content\n    filepath = os.path.join(path, img_info[0])\n    with open(filepath, 'wb') as f:\n        f.write(img_content)\n\n\ndef main():\n    img_list = get_url()\n    for img_info in img_list:\n        download_img(img_info)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>","tags":["Python","\u722c\u866b"]},{"location":"Python/Type/Python-No-Type-String/","title":"Python\u3010Type\u3011String","text":"<p>\u5173\u4e8eString\u7684\u8be6\u7ec6\u7b14\u8bb0</p> <pre><code>a = 'hello'\nb = \"good\"\nc = \"\"\" \u54c8\u54c8\u54c8 \"\"\"\nd = ''' \u5475\u5475\u5475 '''\n\nstr1 = 'OK'                     # OK\nstr2 = \"OK\"                     # OK\nstr3 = '''I'm OK.'''            # I'm OK.\nstr4 = \"\"\"\u54c8\u54c8\u54c8\"\"\"              # \u54c8\u54c8\u54c8\nstr4 = \"I'm ok.\"                # I'm ok.\nstr5 = 'I\\'m ok.'               # I'm ok.\nstr6= \"I\\\"m ok.\"               # I\"m ok.\nstr7 = 'I\"m ok.'                # I\"m ok.\nstr8 = \"\"\"I'm \"Iron Man\".\"\"\"    # I'm \"Iron Man\".\nstr9 = r'ab\\ncd'                 # ab\\ncd\nstr0 = R'ab\\ncd'                 # ab\\ncd\n</code></pre> <pre><code>str_1 = '''\u8fd9\u662f\u4e00\u4e2a\u6bb5\u843d\uff0c\u6240\u4ee5\u53ef\u4ee5\u76f4\u63a5\u6362\u884c\uff0c\u4e0d\u9700\u53cd\u659c\u6760\u6765\u58f0\u660e\u8bed\u53e5\u672a\u7ed3\u675f\n    \u76f4\u5230\u9047\u5230\u4e0b\u4e00\u4e2a\u4e09\u5355\u5f15\u53f7\uff0c\u624d\u8ba4\u4e3a\u7ed3\u675f\n\u4f46\u662f\u6362\u884c\u4f1a\u8ddf\u7740\u6362\u884c\uff0c\u7a7a\u683c\u4f1a\u8ddf\u7740\u7a7a\u683c'''\n\n\"\"\"\nstr_1\u8f93\u51fa\u4e3a\uff1a\n\n\u8fd9\u662f\u4e00\u4e2a\u6bb5\u843d\uff0c\u6240\u4ee5\u53ef\u4ee5\u76f4\u63a5\u6362\u884c\uff0c\u4e0d\u9700\u53cd\u659c\u6760\u6765\u58f0\u660e\u8bed\u53e5\u672a\u7ed3\u675f\n    \u76f4\u5230\u9047\u5230\u4e0b\u4e00\u4e2a\u4e09\u5355\u5f15\u53f7\uff0c\u624d\u8ba4\u4e3a\u7ed3\u675f\n\u4f46\u662f\u6362\u884c\u4f1a\u8ddf\u7740\u6362\u884c\uff0c\u7a7a\u683c\u4f1a\u8ddf\u7740\u7a7a\u683c\n\"\"\"\n</code></pre> <p></p><pre><code>\\n \u6362\u884c    \\t \u7f29\u8fdb\n\n# \u4f7f\u7528\u8f6c\u4e49\u5b57\u7b26\nstr_2 = 'ab\\ncd'\n\n'''\nstr_2\u8f93\u51fa\u4e3a\uff1a\nab\ncd\n'''\n\n\nr'\u5b57\u7b26\u4e32' \u8868\u793a\u4e0d\u8f6c\u4e49\n\n# \u4e0d\u8f6c\u4e49\nstr_3 = r'ab\\ncd'    # ab\\ncd\n</code></pre> \u8f6c\u4e49\u5b57\u7b26<p></p> \u8f6c\u4e49\u5b57\u7b26 \u63cf\u8ff0 \\ \u7eed\u884c\u7b26 \\ \u53cd\u659c\u6760 \\' \u5355\u5f15\u53f7 \\\" \u53cc\u5f15\u53f7 \\a \u54cd\u94c3 \\b \u9000\u683c \\e \u8f6c\u4e49 \\000 \u7a7a \\n \u6362\u884c \\v \u7eb5\u5411\u5236\u8868\u7b26 \\t \u6a2a\u5411\u5236\u8868\u7b26 \\r \u56de\u8f66 \\f \u6362\u9875 \\o \u516b\u8fdb\u5236 \\x \u5341\u516d\u8fdb\u5236"},{"location":"Python/Type/Python-No-Type-String/#_1","title":"\u4e0b\u6807","text":"<pre><code> |  P  |  y  |  t  |  h  |  o  |  n  |\n    0     1     2     3     4     5\n   -6    -5    -4    -3    -2    -1\n</code></pre>"},{"location":"Python/Type/Python-No-Type-String/#findindexrfindrindex","title":"\u67e5\u627e find\u3001index\u3001rfind\u3001rindex","text":"<p>s.find(sub[, start[, end]) -&gt; int s.rfind(sub[, start[, end]) -&gt; int s.index(sub[, start[, end]) -&gt; int s.rindex(sub[, start[, end]) -&gt; int</p> <p>\u6ca1r\u627e\u7b2c\u4e00\u4e2a\uff0c\u6709r\u627e\u6700\u540e\u4e00\u4e2a find\u627e\u4e0d\u5230\u8fd4\u56de-1\uff0cindex\u627e\u4e0d\u5230\u62a5\u9519</p> <pre><code>s = 'abcdefghijkl abundance gg'\nprint(s.find('g'))     # \u8fd4\u56de\u5b57\u7b26\u4e32\u4e2d\u7b2c\u4e00\u4e2a g \u7684\u4e0b\u6807\uff1a6\nprint(s.find('z'))     # \u627e\u4e0d\u5230\u5219\u8fd4\u56de -1\nprint(s.index('g'))    # \u8fd4\u56de\u5b57\u7b26\u4e32\u4e2d\u7b2c\u4e00\u4e2a g \u7684\u4e0b\u6807\uff1a6\nprint(s.index('z'))    # \u627e\u4e0d\u5230\u5219\u62a5\u9519\n\nprint(s.rfind('g'))    # \u8fd4\u56de\u5b57\u7b26\u4e32\u4e2d\u6700\u540e\u4e00\u4e2a g \u7684\u4e0b\u6807\uff1a24\nprint(s.rfind('z'))    # \u627e\u4e0d\u5230\u5219\u8fd4\u56de -1\nprint(s.rindex('g'))   # \u8fd4\u56de\u5b57\u7b26\u4e32\u4e2d\u6700\u540e\u4e00\u4e2a g \u7684\u4e0b\u6807\uff1a24\nprint(s.rindex('z'))   # \u627e\u4e0d\u5230\u5219\u62a5\u9519\n</code></pre>"},{"location":"Python/Type/Python-No-Type-String/#_2","title":"\u5224\u65ad","text":"\u65b9\u6cd5\u540d \u63cf\u8ff0 startswith(value) \u5224\u65ad\u662f\u5426\u4ee5 value \u5f00\u59cb endswith(value) \u5224\u65ad\u662f\u5426\u4ee5 value \u7ed3\u675f isalpha() \u5224\u65ad\u662f\u5426\u5168\u662f\u5b57\u6bcd isdigit() \u5224\u65ad\u662f\u5426\u5168\u662f\u6570\u5b57 isalnum() \u5224\u65ad\u662f\u5426\u5168\u662f\u5b57\u6bcd\u6216\u6570\u5b57\u6216\u5b57\u6bcd+\u6570\u5b57 isdecimal() \u5224\u65ad\u662f\u5426\u5168\u662f\u6d6e\u70b9\u6570 isnumeric() \u5224\u65ad\u662f\u5426\u5168\u662f\u6570\u503c islower() \u5224\u65ad\u662f\u5426\u5168\u5c0f\u5199 isupper() \u5224\u65ad\u662f\u5426\u5168\u5927\u5199 isspace() \u5224\u65ad\u662f\u5426\u5168\u7a7a\u683c\u6216\\t\u6216\\n\u6216\\r istitle() \u5224\u65ad\u662f\u5426\u6240\u6709\u5355\u8bcd\u90fd\u662f\u9996\u5b57\u6bcd\u5927\u5199"},{"location":"Python/Type/Python-No-Type-String/#isdigit-vs-isdecimal-vs-isnumeric","title":"isdigit() VS isdecimal() VS isnumeric()","text":"<p>isdigit() True: Unicode\u6570\u5b57\uff0cbyte\u6570\u5b57\uff08\u5355\u5b57\u8282\uff09\uff0c\u5168\u89d2\u6570\u5b57\uff08\u53cc\u5b57\u8282\uff09\uff0c\u7f57\u9a6c\u6570\u5b57 False: \u6c49\u5b57\u6570\u5b57 Error: \u65e0</p> <p>isdecimal() True: Unicode\u6570\u5b57\uff0c\uff0c\u5168\u89d2\u6570\u5b57\uff08\u53cc\u5b57\u8282\uff09 False: \u7f57\u9a6c\u6570\u5b57\uff0c\u6c49\u5b57\u6570\u5b57 Error: byte\u6570\u5b57\uff08\u5355\u5b57\u8282\uff09</p> <p>isnumeric() True: Unicode\u6570\u5b57\uff0c\u5168\u89d2\u6570\u5b57\uff08\u53cc\u5b57\u8282\uff09\uff0c\u7f57\u9a6c\u6570\u5b57\uff0c\u6c49\u5b57\u6570\u5b57 False: \u65e0 Error: byte\u6570\u5b57\uff08\u5355\u5b57\u8282\uff09</p>"},{"location":"Python/Type/Python-No-Type-String/#count","title":"\u8ba1\u6570 count","text":"<p>s.count(sub[, start[, end]) -&gt; int</p> <pre><code>s = 'abcdefghijkl abundance gg'\nprint(s.count('g'))        # 3. \u5b57\u6bcd g \u4e00\u5171\u51fa\u73b0\u4e863\u6b21\n</code></pre>"},{"location":"Python/Type/Python-No-Type-String/#replace","title":"\u66ff\u6362 replace","text":"<p>s.replace(old, new[, count]) -&gt; str \u66ff\u6362\u5b57\u7b26\u4e32\u4e2d\u6307\u5b9a\u7684\u5185\u5bb9\uff0c\u5982\u679c\u6307\u5b9a\u6b21\u6570count\uff0c \u5219\u66ff\u6362\u4e0d\u4f1a\u8d85\u8fc7count\u6b21\u3002</p> <pre><code>s = 'abcdefghijkl abundance gg'\nprint(s.replace('g', '*'))        # abcdef*hijkl abundance **\nprint(s.replace('g', '*', 2))     # abcdef*hijkl abundance *g\n</code></pre>"},{"location":"Python/Type/Python-No-Type-String/#splitrsplitpartitionrpartitionsplitlines","title":"\u5206\u5272 split\u3001rsplit\u3001partition\u3001rpartition\u3001splitlines","text":"<p><code>s.split(sep[, maxsplit]) -&gt; list[str]</code>\uff1a\u6309 sep \u5206\u5272\uff0c\u4ece\u5de6\u8fb9\u5f00\u59cb\uff0c\u53ea\u5206\u5272\u4e24\u6b21 <code>s.rsplit(sep[, maxsplit]) -&gt; list[str]</code>\uff1a\u6309 sep \u5206\u5272\uff0c\u4ece\u53f3\u8fb9\u5f00\u59cb\uff0c\u53ea\u5206\u5272\u4e24\u6b21 <code>s.patition(sep) -&gt; tuple(str, str, str)</code>\uff1a\u6309 sep \u5206\u5272\uff0c\u4ece\u5de6\u8fb9\u5f00\u59cb\uff0c\u5206\u6210 (\u524d\u90e8\uff0c\u5206\u5272\u7b26\u53f7\uff0c\u540e\u90e8) <code>s.rpartition(sep) -&gt; tuple(str, str, str)</code>\uff1a\u6309 sep \u5206\u5272\uff0c\u4ece\u53f3\u8fb9\u5f00\u59cb\uff0c\u5206\u6210 (\u524d\u90e8\uff0c\u5206\u5272\u7b26\u53f7\uff0c\u540e\u90e8)</p> <pre><code>s1 = 'Alice,Boii,Candy,Dannis,Eva,Fiona'\n\nprint(s1.split(','))                    # ['Alice', 'Boii', 'Candy', 'Dannis', 'Eva', 'Fiona']\nprint(s1.split(',', 2))                 # ['Alice', 'Boii', 'Candy,Dannis,Eva,Fiona']\nprint(s1.rsplit(',', 2))                # ['Alice,Boii,Candy,Dannis', 'Eva', 'Fiona']\n\n\ns2 = '2020.8.8\u62cd\u6444.mp4'\n\nprint(s2.partition('.'))                # ('2020', '.', '8.8\u62cd\u6444.mp4')\nprint(s2.rpartition('.'))               # ('2020.8.8\u62cd\u6444', '.', 'mp4')\n</code></pre> <p><code>s.splitlines([keepends]) -&gt; list[str]</code>\uff1a\u6309\u6362\u884c\u7b26\uff08\\n\uff0c\\r\uff0c\\r\\n\uff09\u5206\u5272 keepends -- \u5728\u8f93\u51fa\u7ed3\u679c\u91cc\u662f\u5426\u4fdd\u7559\u6362\u884c\u7b26('\\r', '\\r\\n', \\n')\uff0c\u9ed8\u8ba4\u4e3a False\uff0c\u4e0d\u5305\u542b\u6362\u884c\u7b26\uff0c\u5982\u679c\u4e3a True\uff0c\u5219\u4fdd\u7559\u6362\u884c\u7b26\u3002</p> <pre><code>str1 = 'ab c\\n\\nde fg\\rkl\\r\\n'\nprint(str1.splitlines())        # ['ab c', '', 'de fg', 'kl']\n\nstr2 = 'ab c\\n\\nde fg\\rkl\\r\\n'\nprint(str2.splitlines(True))    # ['ab c\\n', '\\n', 'de fg\\r', 'kl\\r\\n']\n</code></pre>"},{"location":"Python/Type/Python-No-Type-String/#_3","title":"\u5207\u7247","text":"<p>\u4ece\u5b57\u7b26\u4e32\u91cc\u622a\u53d6\u4e00\u6bb5\u6307\u5b9a\u7684\u5185\u5bb9\uff0c\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u5b57\u7b26\u4e32 \u5207\u7247\u90fd\u662f**\u5305\u5934\u4e0d\u5305\u5c3e**</p> <p>\u5177\u4f53\u53c2\u8003 \u9ad8\u7ea7\u7279\u6027-&gt;\u5207\u7247</p>"},{"location":"Python/Type/Python-No-Type-String/#_4","title":"\u8f6c\u6362\u5927\u5c0f\u5199","text":"<pre><code>s = 'hello woRlD.good mornIng'\n\n# \u5c06\u7b2c\u4e00\u4e2a\u5b57\u7b26\u8f6c\u6210\u5927\u5199\uff0c\u5176\u4ed6\u5b57\u7b26\u8f6c\u6210\u5c0f\u5199\nprint(s.capitalize())   # Hello world.good morning\n# \u5c06\u5168\u90e8\u5b57\u7b26\u8f6c\u6210\u5927\u5199\nprint(s.upper())        # HELLO WORLD.GOOD MORNING\n# \u5c06\u5168\u90e8\u5b57\u7b26\u8f6c\u6210\u5c0f\u5199\nprint(s.lower())        # hello world.good morning\n# \u5c06\u6bcf\u4e2a\u5355\u8bcd\u9996\u5b57\u6bcd\u8f6c\u6210\u5927\u5199\nprint(s.title())        # Hello World.Good Morning\n</code></pre>"},{"location":"Python/Type/Python-No-Type-String/#_5","title":"\u586b\u5145","text":"<p><code>s.ljust(weight, fillchar='') -&gt; str</code> <code>s.rjust(weight, fillchar='') -&gt; str</code> <code>s.center(weight, fillchar='') -&gt; str</code></p> <p>\u4e0d\u8db3 weight \u7684\u8bdd\uff0c\u7528 fillchar \u586b\u5145\uff0cfillchar\u9ed8\u8ba4\u7a7a\u683c</p> <pre><code>print('|' + 'Monday'.ljust(10) + '|')        # |Monday    |\nprint('|' + 'Monday'.ljust(10, '^') + '|')   # |Monday^^^^|\nprint('|' + 'Monday'.rjust(10) + '|')        # |    Monday|\nprint('|' + 'Monday'.rjust(10, '#') + '|')   # |####Monday|\nprint('|' + 'Friday'.center(20, '*') + '|')  # |*******Friday*******|\nprint('|' + 'Friday'.center(4, '*') + '|')   # |Friday|\n</code></pre>"},{"location":"Python/Type/Python-No-Type-String/#_6","title":"\u4fee\u526a","text":"<p><code>s.lstrip(chars) -&gt; str</code> <code>s.rstrip(chars) -&gt; str</code> <code>s.strip(chars) -&gt; str</code></p> <p>\u5220\u9664\u5b57\u7b26\u4e32 \u5de6\u8fb9 / \u53f3\u8fb9 / \u5de6\u8fb9+\u53f3\u8fb9 \u7684 chars \u5b57\u7b26</p> <pre><code>print('|' + '   Couldy Sunny   '.lstrip() + '|')      # |Couldy Sunny   |\nprint('|' + '   Couldy Sunny   '.rstrip() + '|')      # |   Couldy Sunny|\nprint('|' + '   Couldy Sunny   '.strip() + '|')       # |Couldy Sunny|\n\nprint('|' + '   Couldy+Sunny+++'.lstrip('+') + '|')   # |   Couldy+Sunny+++|\nprint('|' + '   Couldy+Sunny+++'.rstrip('+') + '|')   # |   Couldy+Sunny|\nprint('|' + '   Couldy+Sunny+++'.strip('+') + '|')    # |   Couldy+Sunny|\n</code></pre>"},{"location":"Python/Type/Python-No-Type-String/#_7","title":"\u62fc\u63a5","text":"<p><code>s.join(iterable) -&gt; str</code> \u5c06 s \u62fc\u63a5\u5230 iterable \u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u4e0a</p> <pre><code>li = ['Alice', 'Boii', 'Candy', 'Dannis', 'Eva', 'Fiona']\nprint(' - '.join(li))       # Alice - Boii - Candy - Dannis - Eva - Fiona\n\nprint('+'.join('Hello'))    # H+e+l+l+o\n\ndic = {'name1': 'Alice', 'name2': 'Boii'}\nprint(' - '.join(dic))      # name1 - name2\n</code></pre>"},{"location":"Python/Type/Python-No-Type-String/#_8","title":"\u7f16\u7801","text":"<ul> <li>ASCII     0~127\u5171128\u4e2a\uff0c\u5360\u7528 1byte \u5373 8bit \u7684\u957f\u5ea6\uff0c\u5171\u4f7f\u7528\u4e867\u4f4d\u7684\u957f\u5ea6\uff0c\u4ece0000 0000 \u5230 0111 1111\u3002     48-57 -&gt; 0-9\uff0c65-90 -&gt; A-Z\uff0c97-122 -&gt; a-z</li> <li>ISO-8859-1     0~255\u5171256\u4e2a\uff0c\u5360\u7528 1byte \u5373 8bit \u7684\u957f\u5ea6\uff0c\u5171\u4f7f\u7528\u4e868\u4f4d\u7684\u957f\u5ea6\uff0c\u4ece 0000 0000\u52301111 1111\u3002     0<sub>127\u4e0eASCII\u5b8c\u5168\u517c\u5bb9\uff0c128</sub>255\u662f\u4e00\u4e9b\u6b27\u6d32\u5b57\u6bcd</li> <li>Unicode     \u4e07\u56fd\u7801\uff0c\u6c49\u5b57\u6bcf\u4e2a\u5360 3byte</li> <li>GBK     \u56fd\u6807\u6269\uff0c\u6c49\u5b57\u6bcf\u4e2a\u5360 2byte</li> </ul>"},{"location":"Python/Type/Python-No-Type-String/#_9","title":"\u957f\u5ea6","text":""},{"location":"Python/Type/Python-No-Type-String/#_10","title":"\u683c\u5f0f\u5316","text":""},{"location":"Python/Type/Python-No-Type-String/#_11","title":"\u4e0d\u53ef\u53d8\u6027","text":"<p>\u5b57\u7b26\u4e32\u662f\u4e0d\u53ef\u53d8\u5bf9\u8c61\u3002 \u5f53\u6267\u884c\u4e00\u4e2a <code>str = 'abc'</code> \u7684\u8bed\u53e5\u65f6\uff0c python\u5728\u5b57\u7b26\u4e32\u6c60\u4e2d\u521b\u5efa\u4e86\u4e00\u4e2a\u5b57\u7b26\u4e32 <code>'abc'</code> \uff0c \u7136\u540e\u5728\u5185\u5b58\u4e2d\u521b\u5efa\u4e00\u4e2a\u53d8\u91cf <code>str</code>\u6307\u5411\u5b57\u7b26\u4e32\u6c60\u4e2d\u7684 <code>'abc'</code></p> <p>\u5982\u679c\u5bf9<code>str</code>\u8fdb\u884c\u4fee\u6539 <code>str = 'xyz'</code> python\u4f1a\u5728\u5b57\u7b26\u4e32\u6c60\u4e2d\u518d\u521b\u5efa\u4e00\u4e2a\u5b57\u7b26\u4e32 <code>'xyz'</code>\uff0c \u7136\u540e\u8ba9\u53d8\u91cf <code>str</code> \u6307\u5411\u5b57\u7b26\u4e32\u6c60\u4e2d\u7684 <code>'xyz'</code> \u6b64\u65f6\u5b57\u7b26\u4e32\u6c60\u5176\u5b9e\u6709 <code>'abc'</code> \u548c <code>'xyz'</code>\uff0c\u53ea\u4e0d\u8fc7<code>'abc'</code>\u6ca1\u6709\u88ab\u6307\u5411\uff0c <code>'xyz'</code> \u88ab<code>str</code>\u6307\u5411</p> <p>\u6240\u4ee5\uff0c\u5bf9\u4e8e\u4e0d\u53d8\u5bf9\u8c61\u6765\u8bf4\uff0c \u8c03\u7528\u5bf9\u8c61\u81ea\u8eab\u7684\u4efb\u610f\u65b9\u6cd5\uff0c\u4e5f\u4e0d\u4f1a\u6539\u53d8\u8be5\u5bf9\u8c61\u81ea\u8eab\u7684\u5185\u5bb9\u3002 \u76f8\u53cd\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u4f1a\u521b\u5efa\u65b0\u7684\u5bf9\u8c61\u5e76\u8fd4\u56de \u8fd9\u6837\uff0c\u5c31\u4fdd\u8bc1\u4e86\u4e0d\u53ef\u53d8\u5bf9\u8c61\u672c\u8eab\u6c38\u8fdc\u662f\u4e0d\u53ef\u53d8\u7684\u3002</p>"},{"location":"Redis/1-Get-Start/","title":"Get Start","text":""},{"location":"Redis/1-Get-Start/#hello-redis","title":"Hello Redis","text":"<p>\u76ee\u524d\u6b63\u5728\u7ec3\u4e60\u82f1\u6587\u5199\u4f5c\uff0c\u5f85\u8fde\u8f7d\u5b8c\u6210\u540e\u518d\u91cd\u5199\u4e2d\u6587\u7248</p>"},{"location":"Redis/1-Get-Start/#install","title":"Install","text":"<ul> <li> <p>Mac\uff1a     </p><pre><code>brew install redis\n</code></pre><p></p> </li> <li> <p>Linux(ArchLinux):     </p><pre><code>sudo pacman -Sy redis\n\n# or\n\nyay -Sy redis\n</code></pre><p></p> </li> <li> <p>Source:</p> <pre><code># download source &amp;&amp; decompress &amp;&amp; enter into source code directory\n$ wget https://download.redis.io/releases/redis-6.2.6.tar.gz\n$ tar -zxf redis-6.2.6.tar.gz\n$ cd redis-6.2.6\n\n# make &amp;&amp; install\n$ make MALLOC=libc\n$ make install PREFIX=/usr/redis    # maybe need root permission\n\n# create link to global command directory\n$ ln -s /usr/redis/bin/redis-server /usr/local/bin/redis-server\n$ ln -s /usr/redis/bin/redis-cli /usr/local/bin/redis-cli\n</code></pre> </li> </ul>"},{"location":"Redis/1-Get-Start/#usage","title":"Usage","text":"<p>Redis need launch server end to open the redis server then manipulate it by the connection from redis client. Default port is 6379.</p> <p>Redis \u9700\u8981\u542f\u52a8\u670d\u52a1\u7aef\u5f00\u542f Redis \u670d\u52a1\uff0c\u7136\u540e\u901a\u8fc7\u5ba2\u6237\u7aef\u8fde\u63a5\u8fdb\u884c\u64cd\u4f5c\u3002\u9ed8\u8ba4\u7aef\u53e3\u4e3a \u300c6379\u300d\u3002</p> <ul> <li> <p>launch server end \u542f\u52a8\u670d\u52a1\u7aef\uff1a     </p><pre><code>$ redis-server\n</code></pre><p></p> </li> <li> <p>launch server with config \u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\u542f\u52a8\u670d\u52a1\u7aef\uff1a     </p><pre><code>$ redis-server ./custom-redis.conf\n</code></pre><p></p> </li> <li> <p>launch client end \u542f\u52a8\u5ba2\u6237\u7aef\uff1a     </p><pre><code>$ redis-cli -h localhost -p 6379\n\nlocalhost:6379&gt; _\n</code></pre>     It doesn't need to write host and port when the server and client be deployed on the same host.<p></p> <p>\u5982\u679c\u90fd\u5728\u672c\u673a\uff0c\u5219\u4e0d\u9700\u8981\u586b\u5199\u4e3b\u673a\u548c\u7aef\u53e3\uff0c\u9ed8\u8ba4\u5c31\u662f localhost:6379</p> </li> <li> <p>launch client end with raw data:     </p><pre><code>$ redis-cli --raw\n</code></pre><p></p> </li> <li> <p>\u9000\u51fa\u670d\u52a1\u7aef\uff1a</p> </li> <li> <p>\u9000\u51fa\u5ba2\u6237\u7aef\uff1a     </p><pre><code>localhost:6379&gt; exit\n\n$ _\n</code></pre><p></p> </li> </ul>"},{"location":"Redis/1-Get-Start/#redis","title":"Redis","text":"<p>Redis is a KEY-VALUE cache middleware. </p> <p>The KEY can be any binary data. Reids is binary secure. That is to say, you can use a string as a key, or use a JSON object, or even a picture as a key.</p> <p>It has 5 basic types of VALUE: String, List, Set, Sorted Set(ZSet) and Hash.</p>"},{"location":"Redis/1-Get-Start/#conception","title":"Conception","text":"<p>Note</p> <p>Database: The basic unit used to store data. Every database has a unique ID which start from 0 to 15, because the maximum number of database in default configuration file is 16.  DB 0 is used by default.</p> <p>Databases are isolated from each other. Where you execute command <code>set name Boii</code> in DB 0, you can't get it from other databases.  </p> <p>change database command: <code>select &lt;dbID&gt;</code></p> <p>clear all data from database: <code>FLUSHDB</code>, it will clear all data from current database.</p> <p>clear all data from all database: <code>FLUSHALL</code>, it will clear all data from all database.</p>"},{"location":"Redis/1-Get-Start/#manipulation-with-key","title":"Manipulation with key","text":"<ul> <li> <p>SET</p> <ul> <li>Syntax: <code>SET key value</code></li> <li>Description: create a pair of key-value.</li> <li>Return: OK if setting is successful.</li> <li>Example: <code>SET age 18</code>, tips: the default type of value is String.</li> </ul> </li> <li> <p>GET</p> <ul> <li>Syntax: <code>GET key</code></li> <li>Description: get the value of the given key.</li> <li>Return: value of the given key if success, otherwise nil.</li> <li>Example: <code>GET age</code></li> </ul> </li> <li> <p>DEL</p> <ul> <li>Syntax: <code>DEL key [key ...]</code></li> <li>Description: delete the pair of key-value from given keys. Ignore if key is not exists.</li> <li>Return: the number of keys deleted.</li> <li>Example: <code>DEL name age bir</code></li> </ul> </li> <li> <p>EXISTS</p> <ul> <li>Syntax: <code>EXISTS key [key ...]</code></li> <li>Description: check whether the given keys is exists.</li> <li>Return: 1 if the key or one of the given keys is exists, otherwise 0.</li> <li>Example: <code>EXISTS name</code></li> </ul> </li> <li> <p>EXPIRE</p> <ul> <li>Syntax: <code>EXPIRE key seconds</code></li> <li>Description: set the expire(unit: second) for the given key, the key will be delete when expired.</li> <li>Return: 1 if setting is successful.</li> <li>Example: <code>EXPIRE age 5</code> means that the key <code>age</code> expiration time is set to 5 seconds later.</li> </ul> </li> <li> <p>PEXPIRE</p> <ul> <li>Syntax: <code>PEXPIRE key microsecond</code></li> <li>Description: same with the command EXPIRE but unit is microsecond.</li> <li>Return: 1 if setting is successful.</li> <li>Example: <code>EXPIRE age 10000</code> means that the key <code>age</code> expiration time is set to 10000 microseconds (equal 10 second) later.</li> </ul> </li> <li> <p>TTL</p> <ul> <li>Syntax: <code>TTL key</code></li> <li>Description: count the remainder second of the given key's expiration.</li> <li>Return: the remainder second of given key's expiration. -1 if the key is permanent, -2 if the key is not exists.</li> <li>Example: <code>TTL name</code></li> </ul> </li> <li> <p>PTTL</p> <ul> <li>Syntax: <code>PTTL key</code></li> <li>Description: same with the command TTL but unit is microsecond.</li> <li>Return: the remainder microsecond of given key's expiration. -1 if the key is permanent, -2 if the key is not exists.</li> <li>Example: <code>PTTL age</code></li> </ul> </li> <li> <p>KEYS</p> <ul> <li>Syntax: <code>KEYS pattern</code></li> <li>Description: list all keys that matched the pattern.</li> <li>Return: list of keys that matched the given pattern.</li> <li>Example: <ul> <li><code>KEYS *</code>: return all keys</li> <li><code>KEYS h?llo</code>: '?' match one character, this will return hello, hallo, hullo etc.</li> <li><code>KEYS h*llo</code>: '*' match 0 or any number of character, this will return hllo, hello, hallo, heeello etc.</li> <li><code>KEYS h[ae]llo</code>: '[]' restrict a range, this will return hello, hallo.</li> </ul> </li> </ul> </li> <li> <p>MOVE</p> <ul> <li>Syntax: <code>MOVE key dbID</code></li> <li>Description: move the given key into indicated database.</li> <li>Return: 1 if move successful.</li> <li>Example: <code>MOVE hello 2</code> means move the pair of key-value that key is hello into database 2.</li> </ul> </li> <li> <p>RANDOMKEY</p> <ul> <li>Syntax: <code>RANDOMKEY</code></li> <li>Description: return a key from current database randomly without delete.</li> <li>Return: a key, nil if database if empty.</li> <li>Example: <code>RANDOMKEY</code></li> </ul> </li> <li> <p>RENAME</p> <ul> <li>Syntax: <code>RENAME key newKey</code></li> <li>Description: rename the given key to newKey.</li> <li>Return: a error will be returned when the key is same the newKey or key is not exists, otherwise OK.</li> <li>Example: <code>RENAME hillo hello</code></li> </ul> </li> <li> <p>TYPE</p> <ul> <li>Syntax: <code>TYPE key</code></li> <li>Description: return the type of the given key.</li> <li>Return: <ul> <li>none (key is not exists)</li> <li>string</li> <li>list</li> <li>hash</li> <li>set</li> <li>zset</li> </ul> </li> </ul> </li> </ul>"},{"location":"Redis/1-Get-Start/#manipulation-with-redis","title":"Manipulation with Redis","text":"<ul> <li>SELECT</li> <li>FLUSHALL, FLUSHDB</li> </ul>"},{"location":"Redis/2-1-type-string/","title":"String","text":""},{"location":"Redis/2-1-type-string/#type-string","title":"Type: String","text":"<p>String is a basic type on Redis</p> <p>The maximum capcity of type String is 512M Byte.</p> <p>In type String, you can use the text as the string value. That is normal.</p> <p>But the String in Redis can be calculate if the string content is numeric.</p> <p>You can add or subtract a integer string by command <code>INCR</code>, <code>INCRBY</code>, <code>DECR</code>, <code>DECRBY</code>.</p> <p>And you can add a floating string by command <code>INCRBYFLOAT</code> and positive argument, subtract by command <code>INCRBYFLOAT</code> and nagetive argument.</p> <p>In addition, you can also do binary manipulation on strings with command <code>SETBIT</code>, <code>GETBIT</code>, <code>BITCOUNT</code>, <code>BITOP</code>, <code>BITPOS</code>...</p> command syntax description example return set <code>SET key value</code> set a pair of key-value <code>set name boii</code> OK get <code>GET key</code> get the value of key <code>get name</code> \"boii\" mset <code>MSET key value [key value ...]</code> set more pair of key-value at one time <code>mset name boii age 18</code> OK mget <code>MGET key [key ...]</code> get more values of key-value at one time <code>mget name age</code> \"boii\" \"18\" setex <code>SETEX key seconds value</code> shortcut of <code>SET key value</code> + <code>EXPIRE key seconds</code> <code>setex name 5 boii</code> OK psetex <code>PSETEX key seconds value</code> shortcur of <code>SET key value</code> + <code>PEXPIRE key microseconds</code> <code>psetex name 5000 boii</code> OK setnx <code>SETNX key value</code> set a pair of key-value if key isn't exists <code>setnx name boii</code> 1 if successful, otherwise 0 msetnx <code>SETNX key value [key value ...]</code> set more pair of key-value if all key isn't exists <code>msetnx name boii age 18</code> 1 if all key isn't exists, otherwise 0 getset <code>GETSET key newValue</code> get the value of key and set the new value <code>getset name eva</code> \"boii\" strlen <code>SETLEN key</code> return the length of key's value <code>strlen name</code> 4 append <code>APPEND key value</code> append the new value after the value of key <code>append name good</code> 8 getrange <code>GETRANGE key start end</code> similar to slice but include end character, -1 means until the end <code>getrange name 0 5</code> \"boiigo\" decr <code>DECR key</code> decrease one from a numeric value, similar <code>key--</code> <code>decr age</code> 17 decrby <code>DECRBY key decrement</code> similar <code>key -= decrement</code> <code>decrby age 10</code> 7 incr <code>INCR key</code> increase one from a numeric value, similar <code>key++</code> <code>incr age</code> 8 incrby <code>INCRBY key increment</code> similar <code>key += increment</code> <code>incrby age 100</code> 108 incrbyfloat <code>INCRBYFLOAT key increment</code> increase a float value to a numeric value, Maximum 17 decimal places <code>incrbyfloat age 0.5</code> 108.5"},{"location":"Redis/2-1-type-string/#set-get","title":"SET &amp; GET","text":""},{"location":"Redis/2-1-type-string/#manipulation","title":"Manipulation","text":""},{"location":"Redis/2-1-type-string/#calculation","title":"Calculation","text":""},{"location":"Redis/2-2-type-list/","title":"List","text":""},{"location":"Redis/2-2-type-list/#type-list","title":"Type: List","text":"<p>List is an orderly, repeatable, iterable type. It has LEFT and RIGHT directions and 8 manipulation, such as push, pop, range, set, delete, insert, specify index, trim.</p> <p>Specifically</p> <p>The range consists of start and stop (or end), it means 'start with' and 'stop with', unlike more programing language.</p> <p>For example, in Python, <code>list[3:6]</code> means <code>list[start_with:stop]</code>, it will return <code>list[3], list[4], list[5]</code> but NOT <code>list[6]</code>.</p> <p>In Redis, <code>COMMAND list 3 6</code> means <code>list[start_with:stop_with]</code>, it will return <code>list[3], list[4], list[5]</code>, AND the <code>list[6]</code>.</p> <p>The index is same with Python.</p> element a b c d e f g positive 0 1 2 3 4 5 6 negative -7 -6 -5 -4 -3 -2 -1"},{"location":"Redis/2-2-type-list/#lpush","title":"LPUSH","text":"<p>LPUSH: means \"push from left\", in other words, add elements to list's head in order.</p> <ul> <li>Syntax: <code>LPUSH key element [element ...]</code></li> <li>Description: add elements to list's head in order. The key will be created if it isn't exists</li> </ul> <pre><code>&gt; LPUSH letters a b c d e\n\n&gt; LRANGE letters 0 -1\n1) \"e\"\n2) \"d\"\n3) \"c\"\n4) \"b\"\n5) \"a\"\n</code></pre>"},{"location":"Redis/2-2-type-list/#rpush","title":"RPUSH","text":"<p>RPUSH: in contrast, it means \"push from right\", in other words, add elements to list's tail in order.</p> <ul> <li>Syntax: <code>RPUSH key element [element ...]</code></li> <li>Description: the key will be created if it isn't exists.</li> </ul> <pre><code>&gt; RPUSH letters a b c d e\n\n&gt; LRANGE letters 0 -1\n1) \"a\"\n2) \"b\"\n3) \"c\"\n4) \"d\"\n5) \"e\"\n</code></pre>"},{"location":"Redis/2-2-type-list/#lpushx","title":"LPUSHX","text":"<p>LPUSHX</p> <ul> <li>Syntax: <code>LPUSHX key element [element ...]</code></li> <li>Description: add elements to list's head in order if key is exists.</li> <li>Return: length of list, 0 if key isn't exists.</li> </ul>"},{"location":"Redis/2-2-type-list/#rpushx","title":"RPUSHX","text":"<p>RPUSHX</p> <ul> <li>Syntax: <code>RPUSHX key element [element ...]</code></li> <li>Description: add elements to list's tail in order if key is exists.</li> <li>Return: length of list, 0 if key isn't exists.</li> </ul>"},{"location":"Redis/2-2-type-list/#lpop","title":"LPOP","text":"<p>LPOP: means \"pop from left\", in other words, get elements from list's head in order.</p> <ul> <li>Syntax: <code>LPOP key [count]</code></li> <li>Description: get count elements from list's head and delete them, count default 1.</li> <li>Return: count elements, nil if key isn't exists.</li> </ul> <pre><code>&gt; LRANGE letters 0 -1\n1) \"e\"\n2) \"d\"\n3) \"c\"\n4) \"b\"\n5) \"a\"\n\n&gt; LPOP letters \n\"e\"\n&gt; LPOP letters 3\n\"d\"\n\"c\"\n\"b\"\n</code></pre>"},{"location":"Redis/2-2-type-list/#rpop","title":"RPOP","text":"<p>RPOP: in contrast, it means \"pop from right\", in other words, get elements from list's tail in order.</p> <ul> <li>Syntax: <code>RPOP key [count]</code></li> <li>Description: get count elements from list's tail and delete them, count default 1.</li> <li>Return: count elements, nil if key isn't exists.</li> </ul> <pre><code>&gt; LRANGE letters 0 -1\n1) \"e\"\n2) \"d\"\n3) \"c\"\n4) \"b\"\n5) \"a\"\n\n&gt; RPOP letters \n\"a\"\n&gt; RPOP letters 3\n\"b\"\n\"c\"\n\"d\"\n</code></pre>"},{"location":"Redis/2-2-type-list/#lrange","title":"LRANGE","text":"<p>LRANGE</p> <ul> <li>Syntax: <code>LRANGE key start end</code></li> <li>Description: list the elements in the indicated range. -1 means until the end. More specifically, 'start' is 'start with', 'end' is 'end with'. The returns will include the 'end' elements.</li> <li>Return: elements in range, empty if key isn't exists or start index less than end index.</li> </ul>"},{"location":"Redis/2-2-type-list/#llen","title":"LLEN","text":"<p>LLEN</p> <ul> <li>Syntax: <code>LLEN key</code></li> <li>Description: return the length of key's list.</li> <li>Return: list's length, 0 if key isn't exists.</li> </ul> <pre><code>&gt; LRANGE letters 0 -1\n1) \"e\"\n2) \"d\"\n3) \"c\"\n4) \"b\"\n5) \"a\"\n\n&gt; LLEN letters\n5\n</code></pre>"},{"location":"Redis/2-2-type-list/#lset","title":"LSET","text":"<p>LSET</p> <ul> <li>Syntax: <code>LSET key index element</code></li> <li>Description: set the value to elements of key's list, index must be legal.</li> <li>Return: OK if successful, error if index is out of range or key isn't exists.</li> </ul> <pre><code>&gt; LRANGE letters 0 -1\n1) \"e\"\n2) \"d\"\n3) \"c\"\n4) \"b\"\n5) \"a\"\n\n&gt; LSET letters 2 abc\nOK\n\n&gt; LRANGE letters 0 -1\n1) \"e\"\n2) \"d\"\n3) \"abc\"\n4) \"b\"\n5) \"a\"\n</code></pre>"},{"location":"Redis/2-2-type-list/#lindex","title":"LINDEX","text":"<p>LINDEX</p> <ul> <li>Syntax: <code>LINDEX key index</code></li> <li>Description: get the element with index.</li> <li>Return: element, nil if index is out of range or key isn't exists.</li> </ul> <pre><code>&gt; LRANGE letters 0 -1\n1) \"e\"\n2) \"d\"\n3) \"c\"\n4) \"b\"\n5) \"a\"\n\n&gt; LINDEX letters 3\n\"b\"\n</code></pre>"},{"location":"Redis/2-2-type-list/#lrem","title":"LREM","text":"<p>LREM</p> <ul> <li>Syntax: <code>LREM key count element</code></li> <li>Description: remove the duplicate elements of indicated element. <ul> <li>if count is negative, it will remove indicated element from list's tail.</li> <li>if count is positive, it will remove indicated element from list's head.</li> <li>if count is 0 or greater than actual count, it will remove all of indicated element.</li> </ul> </li> <li>Return: count of removed elements. 0 if key isn't exists or elements isn't exists in list.</li> </ul> <pre><code>&gt; LRANGE letters 0 -1\n1) \"e\"\n2) \"d\"\n3) \"c\"\n4) \"b\"\n5) \"a\"\n6) \"a\"\n7) \"a\"\n# count is greater than actual count\n&gt; LREM letters 5 a\n3\n</code></pre>"},{"location":"Redis/2-2-type-list/#ltrim","title":"LTRIM","text":"<p>LTRIM</p> <ul> <li>Syntax: <code>LTRIM key start stop</code></li> <li>Description: LEAVE the elements in the range and REMOVE other elements. <ul> <li>if start, except -1, is greater than stop, it will remove all elements.</li> <li>it equal the end if stop is out of range.</li> </ul> </li> <li>Return: OK if successful.</li> </ul> <pre><code>&gt; LRANGE letters 0 -1\n1) \"e\"\n2) \"d\"\n3) \"c\"\n4) \"b\"\n5) \"a\"\n\n&gt; LTRIM letters 1 3\nOK\n\n&gt; LRANGE letters 0 -1\n1) \"d\"\n2) \"c\"\n3) \"b\"\n</code></pre>"},{"location":"Redis/2-2-type-list/#linsert","title":"LINSERT","text":"<p>LINSERT</p> <ul> <li>Syntax: <code>LINSERT key BEFORE|AFTER pivot element</code></li> <li>Description: insert a element before or after the pivot element.</li> <li>Return: the length of list after insert. 0 if fail.</li> </ul> <pre><code>&gt; LRANGE letters 0 -1\n1) \"e\"\n2) \"d\"\n3) \"c\"\n4) \"b\"\n5) \"a\"\n\n&gt; LINSERT letters BEFORE c abc\n6\n\n&gt; LRANGE letters 0 -1\n1) \"e\"\n2) \"d\"\n3) \"abc\"\n4) \"c\"\n5) \"b\"\n6) \"a\"\n</code></pre>"},{"location":"Redis/2-3-type-set/","title":"Set","text":""},{"location":"Redis/2-3-type-set/#type-set","title":"Type: Set","text":"<p>Set is an disorderly, unrepeatable, random type. </p> <p>The key words of type Set are Random and Disorder. So it is suitable for <code>raffle</code> scenarios.</p> <p>It has some manipualtion:</p> manipualtion command set SADD get SPOP, SRANDMEMBER list SMEMBERS length SCARD delete SREM move SMOVE check SISMEMBER operate SDIFF, SINTER, SUNION"},{"location":"Redis/2-3-type-set/#sadd","title":"SADD","text":"<ul> <li>Syntax: <code>SADD key member [member ...]</code></li> <li>Description: Adds a member into set which named <code>key</code>. The set will be created if it does not exist.</li> <li>Return: Number of successful added.</li> </ul> <pre><code>&gt; SADD letters a b c d e f g a b c\n(integer) 7\n\n&gt; SADD letters x y z\n(integer) 3\n</code></pre>"},{"location":"Redis/2-3-type-set/#smembers","title":"SMEMBERS","text":"<ul> <li>Syntax: <code>SMEMBERS key</code></li> <li>Description: Lists all members of set named <code>key</code></li> <li>Return: All members of set, (empty array) if <code>key</code> does not exist.</li> </ul> <pre><code>&gt; SMEMBERS letters\n 1) \"x\"\n 2) \"d\"\n 3) \"f\"\n 4) \"a\"\n 5) \"e\"\n 6) \"c\"\n 7) \"z\"\n 8) \"b\"\n 9) \"g\"\n10) \"y\"\n</code></pre>"},{"location":"Redis/2-3-type-set/#scard","title":"SCARD","text":"<ul> <li>Syntax: <code>SCARD key</code></li> <li>Description: Returns the number of members in the set named <code>key</code>.</li> <li>Return: Numbers of set's count, 0 if <code>key</code> does not exist.</li> </ul> <pre><code>&gt; SCARD letters\n(integer) 10\n\n&gt; SCARD abcset\n(integer 0)\n</code></pre>"},{"location":"Redis/2-3-type-set/#spop","title":"SPOP","text":"<ul> <li>Syntax: <code>SPOP key [count]</code></li> <li>Description: Gets and remove a member randomly from set named <code>key</code>.</li> <li>Return: Members of set.<ul> <li>If count is specified, return count member.</li> <li>If count greater than or equal to <code>(&gt;=)</code> actual number of set's members, it will return all members and clear them.</li> <li>Nil if <code>key</code> does not exist.</li> </ul> </li> </ul> <pre><code>&gt; SPOP letters\n1) \"d\"\n\n&gt; SPOP letters 100\n 1) \"x\"\n 2) \"f\"\n 3) \"z\"\n 4) \"a\"\n 5) \"e\"\n 6) \"c\"\n 7) \"b\"\n 8) \"g\"\n 9) \"y\"\n\n&gt; SPOP abcset\n(nil)\n</code></pre>"},{"location":"Redis/2-3-type-set/#srandmember","title":"SRANDMEMBER","text":"<ul> <li>Syntax: <code>SRANDMEMBER key [count]</code></li> <li>Description: Gets a member randomly from set named <code>key</code>. This will not remove any members.</li> <li>Return: Members of set.<ul> <li>If count is specified, return count member.</li> <li>If count greater than or equal to <code>(&gt;=)</code> actual number of set's members, it will return all members.</li> <li>Nil if key does not exist.</li> </ul> </li> </ul> <pre><code>&gt; SRANDMEMBER letters\n1) \"e\"\n\n&gt; SRANDMEMBER letters 100\n 1) \"x\"\n 2) \"f\"\n 3) \"z\"\n 4) \"a\"\n 5) \"e\"\n 6) \"c\"\n 7) \"b\"\n 8) \"g\"\n 9) \"y\"\n10) \"d\"\n\n&gt; SRANDMEMBER abcset\n(nil)\n</code></pre>"},{"location":"Redis/2-3-type-set/#srem","title":"SREM","text":"<ul> <li>Syntax: <code>SREM key member [member ...]</code></li> <li>Description: Removes the <code>member</code> from set.</li> <li>Return: 1 if remove successful, 0 if <code>member</code> or <code>key</code> does not exist.</li> </ul> <pre><code>&gt; SMEMBERS age\n1) \"18\"\n2) \"20\"\n3) \"15\"\n\n&gt; SREM age 15\n(integer) 1\n\n&gt; SMEMBERS age\n1) \"18\"\n2) \"20\"\n\n&gt; SREM age 15\n(integer) 0\n\n&gt; SREM agese 15\n(integer) 0\n</code></pre>"},{"location":"Redis/2-3-type-set/#smove","title":"SMOVE","text":"<ul> <li>Syntax: <code>SMOVE source destination member</code></li> <li>Description: Moves the <code>member</code> from <code>source</code> to <code>destination</code>. The <code>source</code> and <code>destination</code> required same type.</li> <li>Return: 1 if move successful, 0 if <code>source</code> or <code>destination</code> or <code>member</code> does not exist.</li> </ul> <pre><code>&gt; SMEMBERS name\n1) \"Boii\"\n2) \"Alice\"\n3) \"Eva\"\n\n&gt; SMEMBERS age\n1) \"15\"\n2) \"18\"\n3) \"20\"\n\n&gt; SMOVE name age Eva\n(integer) 1\n\n&gt; SMEMBERS name\n1) \"Boii\"\n2) \"Alice\"\n\n&gt; SMEMBERS age\n1) \"18\"\n2) \"20\"\n3) \"15\"\n4) \"Eva\"\n\n&gt; smove name age abc\n(integer) 0\n&gt; smove name ageset abc\n(integer) 0\n&gt; smove nameset age abc\n(integer) 0\n</code></pre>"},{"location":"Redis/2-3-type-set/#sismember","title":"SISMEMBER","text":"<ul> <li>Syntax: <code>SISMEMBER key member</code></li> <li>Description: Returns whether <code>member</code> is a member of the set.</li> <li>Return:<ul> <li>1 if the <code>member</code> is a member of set.</li> <li>0 if the <code>member</code> is not a number of set.</li> <li>0 if <code>key</code> does not exist.</li> </ul> </li> </ul> <pre><code>&gt; SISMEMBER letters a\n(integer) 1\n\n&gt; SISMEMBER letters k\n(integer) 0\n\n&gt; SISMEMBER abcset a\n(integer) 0\n</code></pre>"},{"location":"Redis/2-3-type-set/#set-operations","title":"Set operations","text":""},{"location":"Redis/2-3-type-set/#sinter","title":"SINTER","text":"<ul> <li>Syntax: <code>SINTER key1 [key2 ...]</code></li> <li>Description: Intersects set <code>key1</code> and others set.</li> <li>Return: <ul> <li>All members that exist in both sets.</li> <li>(empty array) if any key does not exits.</li> <li>All members of <code>key1</code> if only given <code>key1</code></li> </ul> </li> </ul> <pre><code>&gt; SADD s1 a b c d e f g\n(integer) 7\n\n&gt; SADD s2 g h i\n(integer) 3\n\n&gt; SADD s3 j k l a b\n(integer) 5\n\n&gt; SINTER s1 s3\n1) \"b\"\n2) \"a\"\n</code></pre>"},{"location":"Redis/2-3-type-set/#sunion","title":"SUNION","text":"<ul> <li>Syntax: <code>SUNION key1 [key2 ...]</code></li> <li>Description: Combines set <code>key1</code> and others set.</li> <li>Return: <ul> <li>All members of all sets but not duplicated.</li> <li>(empty array) if any key does not exits.</li> <li>All members of <code>key1</code> if only given <code>key1</code></li> </ul> </li> </ul> <pre><code>&gt; SADD s1 a b c d e f g\n(integer) 7\n\n&gt; SADD s2 g h i\n(integer) 3\n\n&gt; SADD s3 j k l a b\n(integer) 5\n\n&gt; SUNION s2 s3\n1) \"g\"\n2) \"b\"\n3) \"k\"\n4) \"h\"\n5) \"a\"\n6) \"l\"\n7) \"j\"\n8) \"i\"\n</code></pre>"},{"location":"Redis/2-3-type-set/#sdiff","title":"SDIFF","text":"<ul> <li>Syntax: <code>SDIFF key1 [key2 ...]</code></li> <li>Description: Subtracts others set from set <code>key1</code>.</li> <li>Return: <ul> <li>All member that only exist in set <code>key1</code>.</li> <li>(empty array) if any key does not exits.</li> <li>All members of <code>key1</code> if only given <code>key1</code></li> </ul> </li> </ul> <pre><code>&gt; SADD s1 a b c d e f g\n(integer) 7\n\n&gt; SADD s2 g h i\n(integer) 3\n\n&gt; SADD s3 j k l a b\n(integer) 5\n\n&gt; SDIFF s1 s3\n1) \"c\"\n2) \"g\"\n3) \"f\"\n4) \"d\"\n5) \"e\"\n\n&gt; SDIFF s1 s3 s2\n1) \"c\"\n2) \"e\"\n3) \"f\"\n4) \"d\"\n</code></pre>"},{"location":"Redis/2-3-type-set/#sinterstore","title":"SINTERSTORE","text":"<ul> <li>Syntax: <code>SINTERSTORE destination key1 [key2 ...]</code></li> <li>Description: Intersect sset <code>key1</code> and others set, than store the result into a new set <code>destination</code>. You can modify the set by specifying <code>destination</code> as one of the keys.</li> <li>Return: <ul> <li>All members that exist in both sets.</li> <li>(empty array) if any key does not exits.</li> <li>All members of <code>key1</code> if only given <code>key1</code></li> </ul> </li> </ul>"},{"location":"Redis/2-3-type-set/#sunionstore","title":"SUNIONSTORE","text":"<ul> <li>Syntax: <code>SUNIONSTORE destination key1 [key2 ...]</code></li> <li>Description: Combines set <code>key1</code> and others set, than store the result into a new set <code>destination</code>.  You can modify the set by specifying <code>destination</code> as one of the keys.</li> <li>Return: <ul> <li>All members of all sets but not duplicated.</li> <li>(empty array) if any key does not exits.</li> <li>All members of <code>key1</code> if only given <code>key1</code></li> </ul> </li> </ul>"},{"location":"Redis/2-3-type-set/#sdiffstore","title":"SDIFFSTORE","text":"<ul> <li>Syntax: <code>SDIFFSTORE destination key1 [key2 ...]</code></li> <li>Description: Subtracts others set from set <code>key1</code>, than store the result into a new set <code>destination</code>.  You can modify the set by specifying <code>destination</code> as one of the keys.</li> <li>Return: <ul> <li>All member that only exist in set <code>key1</code>.</li> <li>(empty array) if any key does not exits.</li> <li>All members of <code>key1</code> if only given <code>key1</code></li> </ul> </li> </ul>"},{"location":"Redis/2-4-type-zset/","title":"ZSet","text":""},{"location":"Redis/2-4-type-zset/#type-zset","title":"Type: ZSet","text":"<p>ZSet is an disorderly, unrepeatable type, but it can be ordered by score.</p> <ul> <li> <p>When you add a member of Set, you need execute command like:</p> <pre><code>&gt; SADD setName member [member ...]\n</code></pre> </li> <li> <p>When you add a member of ZSet, you need bring the <code>score</code> field. Execute command like:</p> <pre><code>&gt; ZADD zsetName score member [score member ...]\n</code></pre> </li> </ul> <p>The key words of type ZSet are Can be ordered. So it is suitable for <code>Rank List</code> scenarios or other about rank.</p> <p>The unit of ZSet is score-member pair. Score means weights and used for sorting.</p> <p>The members are unique. It is the main field. Members can not be duplicated.</p> <p>And score is not unique. It is more like an auxiliary field. </p> <p>By default, ZSet sort by score. Elements with the same score are ordered by lexicographically.</p>"},{"location":"Redis/2-4-type-zset/#zadd","title":"ZADD","text":"<ul> <li>Syntax: <code>ZADD key [NX|XX] [GT|LT] [CH] [INCR] score member [score member ...]</code></li> <li>Description: Adds a score-member pair into zset which named <code>key</code>. The ZSet will be created if it does not exist.<ul> <li>NX | XX:<ul> <li>NX: Only add new elements. Don't update already existing elements.</li> <li>XX: Only update elements that already exist. Don't add new elements.</li> </ul> </li> <li>GT | LT:<ul> <li>GT: Only update existing elements if the new score is greater than the current score. This flag doesn't prevent adding new elements.</li> <li>LT: Only update existing elements if the new score is less than the current score. This flag doesn't prevent adding new elements.</li> </ul> </li> <li>CH: When use this option, return value means total number of elements CHanged (new elements added + the score was updated). Return value means number of elements added by default.</li> <li>INCR: When this option is specified ZADD acts like ZINCRBY. Only one score-element pair can be specified in this mode.</li> </ul> </li> <li>Return: Number of successful added.</li> </ul> <p>Note</p> <ul> <li>Add action: NX</li> <li>Update action: XX, GT, LT<ul> <li>prevent adding: XX</li> <li>doesn't prevent adding: GT, LT</li> </ul> </li> </ul> Example Adding<pre><code>&gt; ZADD letters 1 a 2 b 3 c 4 d 26 z\n(integer) 5\n\n&gt; ZRANGE letters 0 -1\n1) \"a\"\n2) \"b\"\n3) \"c\"\n4) \"d\"\n5) \"z\"\n\n&gt; ZRANGE letters 0 -1 WITHSCORES\n1) \"a\"\n2) \"1\"\n3) \"b\"\n4) \"2\"\n5) \"c\"\n6) \"3\"\n7) \"d\"\n8) \"4\"\n9) \"z\"\n10) \"26\"\n</code></pre> Only adding, update action will not be executed<pre><code>&gt; ZADD letters NX 10 a 20 b 24 x 25 y\n(integer) 2\n&gt; ZRANGE letters 0 -1 WITHSCORES\n 1) \"a\"\n 2) \"1\"\n 3) \"b\"\n 4) \"2\"\n 5) \"c\"\n 6) \"3\"\n 7) \"d\"\n 8) \"4\"\n 9) \"x\"\n10) \"24\"\n11) \"y\"\n12) \"25\"\n13) \"z\"\n14) \"26\"\n</code></pre> Only Update, adding action will not be executed<pre><code>&gt; ZADD letters XX CH 10 a 20 b 24 x 25 y  # (1)\n(integer) 2\n\n&gt; ZRANGE letters 0 -1 WITHSCORES\n 1) \"c\"\n 2) \"3\"\n 3) \"d\"\n 4) \"4\"\n 5) \"a\"\n 6) \"10\"\n 7) \"b\"\n 8) \"20\"\n 9) \"x\"\n10) \"24\"\n11) \"y\"\n12) \"25\"\n13) \"z\"\n14) \"26\"\n</code></pre> <ol> <li>CH flag means return CHanged numbers.</li> </ol>"},{"location":"Redis/2-4-type-zset/#length","title":"Length","text":""},{"location":"Redis/2-4-type-zset/#zcard","title":"ZCARD","text":"<ul> <li>Syntax: <code>ZCARD key</code></li> <li>Description: Returns the number of elements in the ZSet named <code>key</code></li> <li>Return: Number of elements, 0 if key is not exist.</li> </ul> <pre><code>&gt; ZRANGE letters 0 -1\n1) \"a\"\n2) \"b\"\n3) \"c\"\n4) \"d\"\n5) \"e\"\n\n&gt; ZCARD letters\n(integer) 5\n\n&gt; ZCARD not-such-key\n(integer) 0\n</code></pre>"},{"location":"Redis/2-4-type-zset/#zcount","title":"ZCOUNT","text":"<ul> <li>Syntax: <code>ZCOUNT key min max</code></li> <li>Description: Return the number of elements in the ZSet at <code>key</code> with score between <code>min</code> and <code>max</code>.<ul> <li>The <code>min</code> and <code>max</code> have the same semantic as describe for ZRANGE's <code>Score range</code>.</li> </ul> </li> </ul> <pre><code>&gt; ZRANGE letters 0 -1 WITHSCORES\n 1) \"a\"\n 2) \"11\"\n 3) \"b\"\n 4) \"22\"\n 5) \"c\"\n 6) \"33\"\n 7) \"d\"\n 8) \"44\"\n 9) \"e\"\n10) \"55\"\n\n&gt; ZCOUNT letters -inf +inf\n(integer) 5\n\n&gt; ZCOUNT letters 20 +inf\n(integer) 4\n</code></pre>"},{"location":"Redis/2-4-type-zset/#zlexcount","title":"ZLEXCOUNT","text":"<ul> <li>Syntax: <code>ZLEXCOUNT key min max</code></li> <li>Description: Return the number of elements in the ZSet at <code>key</code> with lexicographical between <code>min</code> and <code>max</code>.<ul> <li>The <code>min</code> and <code>max</code> have the same semantic as describe for ZRANGE's <code>Lexicographical range</code>.</li> </ul> </li> </ul> <pre><code>&gt; ZRANGE letters 0 -1 WITHSCORES\n 1) \"a\"\n 2) \"11\"\n 3) \"b\"\n 4) \"22\"\n 5) \"c\"\n 6) \"33\"\n 7) \"d\"\n 8) \"44\"\n 9) \"e\"\n10) \"55\"\n\n&gt; ZLEXCOUNT letters - +\n(integer) 5\n\n&gt; ZLEXCOUNT letters [b +\n(integer) 4\n\n&gt; ZLEXCOUNT letters (b +\n(integer) 3\n</code></pre>"},{"location":"Redis/2-4-type-zset/#list","title":"List","text":""},{"location":"Redis/2-4-type-zset/#zrange","title":"ZRANGE","text":"<p>ZRANGE can perfrom different types of range queries: by index(rank), by score, by lexicographical order.</p> <ul> <li>Syntax: <code>ZRANGE key min max [BYSCORE|BYLEX] [REV] [LIMIT offset count] [WITHSCORES]</code></li> <li> <p>Description: Lists the elements within the specified MIN and MAX ranges.</p> <ul> <li>The ranges includes minimum element and maximum element, equal to the start-with and end-with. </li> <li>WITHSCORES: Lists members with score. Only members are listed by default.</li> <li>BYSCORE: Lists members from min to max by score</li> <li>BYLEX: Lists members from min to max ly lexicographical order.</li> <li>REV: Reverses the result. The elements are ordered from low to high score by default.</li> <li> <p>LIMIT: Same like SELECT LIMIT offset count. It needs specified BYSCORE or BYLEX.      A negative <code>count</code> will returns all members from <code>offset</code>. </p> </li> <li> <p>Index range:</p> <ul> <li> <p>min | max: By default, the command perfroms an index range query.</p> <ul> <li>if min is greater than either the end index of the ZSet or max, an empty list is returns.</li> <li> <p>if max is greater than the end index of the ZSet, the index of last element will be used.</p> </li> <li> <p><code>ZRANGE key 0 -1</code> equal <code>ZRANGE key 0 index-of-last-element</code></p> </li> <li><code>ZRANGE key 0 -2</code> equal <code>ZRANGE key 0 index-of-penultimate-element</code></li> <li><code>ZRANGE key 11 5</code> return <code>(empty list)</code></li> <li><code>ZRANGE key 0 999</code> return <code>0 &lt;= index &lt;= last-element</code></li> <li><code>ZRANGE key (1 5</code> return <code>1 &lt; index &lt;= 5</code></li> <li><code>ZRANGE key 1 (5</code> return <code>1 &lt;= index &lt; 5</code></li> <li><code>ZRANGE key (1 (5</code> return <code>1 &lt; index &lt; 5</code></li> </ul> </li> </ul> </li> <li> <p>Score range:</p> <ul> <li> <p>min | max: When the BYSCORE option is used, <code>-inf</code> and <code>+inf</code> is vaild.</p> <ul> <li> <p><code>-inf</code> and <code>+inf</code> is a built-in variable mean infinite.</p> </li> <li> <p>if <code>min</code> is greater than either the highest score of the ZSet or <code>max</code>, an empty list is returns.</p> </li> <li> <p>if <code>max</code> is greater than the highest score of the ZSet, the score of highest score will be used.</p> </li> <li> <p><code>ZRANGE key 0 -1 BYSCORE</code> equal <code>ZRANGE key 0 index-of-last-element BYSCORE</code></p> </li> <li><code>ZRANGE key 0 -2 BYSCORE</code> equal <code>ZRANGE key 0 index-of-penultimate-element BYSCORE</code></li> <li><code>ZRANGE key -inf +inf BYSCORE</code> return all element</li> <li><code>ZRANGE key 3 +inf BYSCORE</code> return <code>3 &lt;= score &lt;= highest-score</code></li> <li><code>ZRANGE key 5 -inf BYSCORE</code> return <code>(empty list)</code> because <code>min</code> is greater than <code>max</code></li> </ul> </li> </ul> </li> <li> <p>Lexicographical range:</p> <ul> <li>start | stop: <ul> <li>When the BYLEX option is used, <code>start</code> and <code>stop</code> must start with <code>(</code> or <code>[</code> to specify whether the range interval is exclusive or inclusive.<ul> <li><code>ZRANGE key (a [e BYLEX</code> return <code>b c d e</code></li> <li><code>ZRANGE key a [e BYLEX</code> or <code>ZRANGE key [a e BYLEX</code> is invaild.</li> </ul> </li> <li>The special value of <code>+</code> or <code>-</code> for <code>start</code> or <code>stop</code> mean positive or negative infinite strings.<ul> <li><code>ZRANGE key - + BYLEX</code> return <code>a b c d e</code></li> <li><code>ZRANGE key + - BYLEX REV</code> return <code>e d c b a</code></li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li> <p>Conclusion - Min and Max:</p> <ul> <li>In a index range query, it is in the same way as Python index: <ul> <li>0 means First element, 1 means Second element, </li> <li>-1 means Last element, -2 means Penultimate element, and so on.</li> </ul> </li> <li>In a score range query, <code>-inf</code> and <code>+inf</code> is vaild, then <code>-</code> and <code>+</code> is invaild.</li> <li>In a lexicographical range query, <code>-</code> and <code>+</code> is vaild, then <code>-inf</code> and <code>+inf</code> is invaild. And it must start with <code>(</code> or <code>[</code>, except <code>-</code> and <code>+</code>.</li> </ul> </li> </ul> Example Normal<pre><code>&gt; ZRANGE letters 0 -1\n127.0.0.1:6379&gt; ZRANGE letters 0 -1\n 1) \"a\"\n 2) \"b\"\n 3) \"c\"\n 4) \"d\"\n 5) \"e\"\n 6) \"f\"\n 7) \"g\"\n 8) \"h\"\n 9) \"i\"\n10) \"j\"\n11) \"x\"\n12) \"y\"\n13) \"z\"\n</code></pre> WITHSCORES<pre><code>&gt; ZRANGE letters 0 -1 WITHSCORES\n 1) \"a\"\n 2) \"1\"\n 3) \"b\"\n 4) \"2\"\n 5) \"c\"\n 6) \"4\"\n 7) \"d\"\n 8) \"4\"\n 9) \"e\"\n10) \"5\"\n11) \"f\"\n12) \"6\"\n13) \"g\"\n14) \"7\"\n15) \"h\"\n16) \"8\"\n17) \"i\"\n18) \"9\"\n19) \"j\"\n20) \"10\"\n21) \"x\"\n22) \"24\"\n23) \"y\"\n24) \"25\"\n25) \"z\"\n26) \"26\" \n</code></pre> BYSCORE and LIMIT<pre><code>&gt; ZRANGE letters -inf +inf BYSCORE LIMIT 2 3\n1) \"c\"\n2) \"d\"\n3) \"e\"\n</code></pre> BYLEX<pre><code>&gt; ZRANGE letters - [g BYLEX\n1) \"a\"\n2) \"b\"\n3) \"c\"\n4) \"d\"\n5) \"e\"\n6) \"f\"\n7) \"g\"\n</code></pre> REV<pre><code>&gt; ZRANGE letters [x [g BYLEX REV\n1) \"x\"\n2) \"j\"\n3) \"i\"\n4) \"h\"\n5) \"g\"\n\n&gt; ZRANGE letters - + BYLEX\n 1) \"a\"\n 2) \"b\"\n 3) \"c\"\n 4) \"d\"\n 5) \"e\"\n 6) \"f\"\n 7) \"g\"\n 8) \"h\"\n 9) \"i\"\n10) \"j\"\n11) \"x\"\n12) \"y\"\n13) \"z\"\n</code></pre>"},{"location":"Redis/2-4-type-zset/#zrangebyscore","title":"ZRANGEBYSCORE","text":"<ul> <li>Syntax: <code>ZRANGEBYSCORE key min max [WITHSCORES] [LIMIT offset count]</code></li> <li>Description: Equal to <code>ZRANGE key min max BYSCORE</code></li> </ul> <pre><code>&gt; ZRANGEBYSCORE letters 0 -1 \n</code></pre>"},{"location":"Redis/2-4-type-zset/#zrangebylex","title":"ZRANGEBYLEX","text":"<ul> <li>Syntax: <code>ZRANGEBYLEX key min max [LIMIT offset count]</code></li> <li>Description: Equal to <code>ZRANGE key min max BYLEX</code></li> </ul>"},{"location":"Redis/2-4-type-zset/#zrevrange","title":"ZREVRANGE","text":"<ul> <li>Syntax: <code>ZREVRANGE key start stop [WITHSCORES]</code></li> <li>Description: Equal to <code>ZRANGE key min max REV</code></li> </ul>"},{"location":"Redis/2-4-type-zset/#zrevrangebyscore","title":"ZREVRANGEBYSCORE","text":"<ul> <li>Syntax: <code>ZREVRANGEBYSCORE key max min [WITHSCORES] [LIMIT offset count]</code></li> <li>Description: Equal to <code>ZRANGE key min max BYSCORE REV</code></li> </ul>"},{"location":"Redis/2-4-type-zset/#zrevrangebylex","title":"ZREVRANGEBYLEX","text":"<ul> <li>Syntax: <code>ZREVRANGEBYLEX key max min [LIMIT offset count]</code></li> <li>Description: Equal to <code>ZRANGE key min max BYLEX REV</code></li> </ul>"},{"location":"Redis/2-4-type-zset/#zrangestore","title":"ZRANGESTORE","text":"<ul> <li>Syntax: <code>ZRANGESTORE dst src min max [BYSCORE|BYLEX] [REV] [LIMIT offset count]</code></li> <li>Description: Equal to <code>ZRANGE key min max</code></li> </ul>"},{"location":"Redis/2-4-type-zset/#get","title":"Get","text":""},{"location":"Redis/2-4-type-zset/#zrank","title":"ZRANK","text":"<ul> <li>Syntax: <code>ZRANK key member</code></li> <li>Description: Returns the index of the member in key. Nil when the member is not exist.</li> </ul> <pre><code>&gt; ZRANGE letters 0 -1\n1) \"a\"\n2) \"b\"\n3) \"c\"\n4) \"d\"\n5) \"e\"\n\n&gt; ZRANK letters b\n(integer) 1\n\n&gt; ZRANK letters e\n(integet) 4\n\n&gt; ZRANK letters g\n(nil)\n</code></pre>"},{"location":"Redis/2-4-type-zset/#zrevrank","title":"ZREVRANK","text":"<ul> <li>Syntax: <code>ZREVRANK key member</code></li> <li>Description: Returns the index of the member after <code>key</code> is reversed. Nil whene the member is not exist.</li> </ul> <pre><code>&gt; ZRANGE letters 0 -1\n1) \"a\"\n2) \"b\"\n3) \"c\"\n4) \"d\"\n5) \"e\"\n\n&gt; ZREVRANK letters a\n(integer) 4\n\n&gt; ZREVRANK letters d\n(integer) 1\n\n&gt; ZREVRANK letters x\n(nil)\n</code></pre>"},{"location":"Redis/2-4-type-zset/#zscore","title":"ZSCORE","text":"<ul> <li>Syntax: <code>ZSCORE key member</code></li> <li>Description: Returns the score of the member in key. Nil when the member is not exist.</li> </ul> <pre><code>&gt; ZRANGE letters 0 -1 WITHSCORES\n 1) \"a\"\n 2) \"11\"\n 3) \"b\"\n 4) \"22\"\n 5) \"c\"\n 6) \"33\"\n 7) \"d\"\n 8) \"44\"\n 9) \"e\"\n10) \"55\"\n\n\n&gt; ZSCORE letters b\n(integer) 22\n\n&gt; ZSCORE letters e\n(integet) 55\n\n&gt; ZSCORE letters g\n(nil)\n</code></pre>"},{"location":"Redis/2-4-type-zset/#zmscore","title":"ZMSCORE","text":"<ul> <li>Syntax: <code>ZMSCORE key member [member ...]</code></li> <li>Description: Returns the scores associated with the specified members in the ZSet named <code>key</code>.</li> <li>Return: Every member's score. Nil if any member is not exist.</li> </ul> Example <pre><code>&gt; ZRANGE letters 0 -1 WITHSCORES\n1) \"a\"\n2) \"11\"\n3) \"b\"\n4) \"22\"\n5) \"c\"\n6) \"33\"\n7) \"d\"\n8) \"44\"\n9) \"e\"\n10) \"55\"\n\n&gt; ZMSCORE zsets a b c\n1) \"11\"\n2) \"22\"\n3) \"33\"\n\n&gt; ZMSCORE zsets a b c no-such\n1) \"11\"\n2) \"22\"\n3) \"33\"\n4) (nil)\n</code></pre>"},{"location":"Redis/2-4-type-zset/#zpopmin","title":"ZPOPMIN","text":"<ul> <li>Syntax: <code>ZPOPMIN key [count]</code></li> <li>Description: Removes and returns up to <code>count</code> members with the lowest scores in the ZSet named <code>key</code>. <code>Count</code> is 1 by default.</li> </ul> Example <pre><code>&gt; ZRANGE letters 0 -1 WITHSCORES\n1) \"a\"\n2) \"11\"\n3) \"b\"\n4) \"22\"\n5) \"c\"\n6) \"33\"\n7) \"d\"\n8) \"44\"\n9) \"e\"\n10) \"55\"\n\n&gt; ZPOPMIN letters 1\n1) \"a\"\n2) \"11\"\n\n&gt; ZRANGE letters 0 -1 WITHSCORES\n1) \"b\"\n2) \"22\"\n3) \"c\"\n4) \"33\"\n5) \"d\"\n6) \"44\"\n7) \"e\"\n8) \"55\"\n\n&gt; ZPOPMIN letters 3\n1) \"b\"\n2) \"22\"\n3) \"c\"\n4) \"33\"\n5) \"d\"\n6) \"44\"\n\n&gt; ZRANGE letters 0 -1 WITHSCORES\n1) \"e\"\n2) \"55\"\n</code></pre>"},{"location":"Redis/2-4-type-zset/#zpopmax","title":"ZPOPMAX","text":"<ul> <li>Syntax: <code>ZPOPMAX key [count]</code></li> <li>Description: Removes and returns up to <code>count</code> members with the highest scores in the ZSet named <code>key</code>. <code>Count</code> is 1 by default.</li> </ul> Example <pre><code>&gt; ZRANGE zsets 0 -1 WITHSCORES\n1) \"a\"\n2) \"11\"\n3) \"b\"\n4) \"22\"\n5) \"c\"\n6) \"33\"\n7) \"d\"\n8) \"44\"\n9) \"e\"\n10) \"55\"\n\n&gt; ZPOPMAX zsets\n1) \"e\"\n2) \"55\"\n\n&gt; ZRANGE zsets 0 -1 WITHSCORES\n1) \"a\"\n2) \"11\"\n3) \"b\"\n4) \"22\"\n5) \"c\"\n6) \"33\"\n7) \"d\"\n8) \"44\"\n\n&gt; ZPOPMAX zsets 2\n1) \"d\"\n2) \"44\"\n3) \"c\"\n4) \"33\"\n\n&gt; ZRANGE zsets 0 -1 WITHSCORES\n1) \"a\"\n2) \"11\"\n3) \"b\"\n4) \"22\"\n</code></pre>"},{"location":"Redis/2-4-type-zset/#zrandmember","title":"ZRANDMEMBER","text":"<ul> <li>Syntax: <code>ZRANDMEMBER key [count [WITHSCORES]]</code></li> <li>Description: Returns a random element from the ZSet named <code>key</code>. <code>Count</code> is 1 by default.</li> </ul> <pre><code>&gt; ZADD dadi 1 uno 2 due 3 tre 4 quattro 5 cinque 6 sei\n(interger) 6\n\n&gt; ZRANDMEMBER dadi\n\"cinque\"\n\n&gt; ZRANDMEMBER dadi\n\"due\"\n\n&gt; ZRANDMEMBER dadi -5 WITHSCORES\n1) \"due\"\n2) \"2\"\n3) \"tre\"\n4) \"3\"\n5) \"quattro\"\n6) \"4\"\n7) \"quattro\"\n8) \"4\"\n9) \"quattro\"\n10) \"4\"\n</code></pre>"},{"location":"Redis/2-4-type-zset/#delete","title":"Delete","text":""},{"location":"Redis/2-4-type-zset/#zrem","title":"ZREM","text":"<ul> <li>Syntax: <code>ZREM key member [member ...]</code></li> <li>Description: Removes the special members from ZSet named <code>key</code>.</li> <li>Return: 1 if removed successful, 0 either removed failed or members or key are not exist. error when <code>key</code> is not a ZSet.</li> </ul> <pre><code>&gt; ZRANGE letters 0 -1\n1) \"a\"\n2) \"b\"\n3) \"c\"\n4) \"d\"\n5) \"e\"\n\n&gt; ZREM letters b\n(integer) 1\n\n&gt; ZRANGE letters 0 -1\n1) \"a\"\n2) \"c\"\n3) \"d\"\n4) \"e\"\n\n&gt; ZREM list-type a \n(error) WRONGTYPE Operation against a key holding the wrong kind of value\n</code></pre>"},{"location":"Redis/2-4-type-zset/#zremrangebylex","title":"ZREMRANGEBYLEX","text":"<ul> <li>Syntax: <code>ZREMRANGEBYLEX key min max</code></li> <li>Description: Ranges the elements from <code>min</code> to <code>max</code> then removes them. The <code>min</code> and <code>max</code> have the same semantic as describe for ZRANGE's <code>Lexicographical range</code>.</li> </ul> <pre><code>&gt; ZRANGE letters 0 -1\n1) \"ALPHA\"\n2) \"aaaa\"\n3) \"alpha\"\n4) \"b\"\n5) \"c\"\n6) \"d\"\n7) \"e\"\n8) \"foo\"\n9) \"zap\"\n10) \"zip\"\n\n&gt; ZREMRANGEBYLEX letters [alpha [omega\n(interger) 6\n\n&gt; ZRANGE myzset 0 -1\n1) \"ALPHA\"\n2) \"aaaa\"\n3) \"zap\"\n4) \"zip\"\n</code></pre>"},{"location":"Redis/2-4-type-zset/#zremrangebyscore","title":"ZREMRANGEBYSCORE","text":"<ul> <li>Syntax: <code>ZREMRANGEBYSCORE key min max</code></li> <li>Description: Ranges the elements from <code>min</code> to <code>max</code> then removes them. The <code>min</code> and <code>max</code> have the same semantic as describe for ZRANGE's <code>Score range</code>.</li> </ul> <pre><code>&gt; ZRANGE letters 0 -1 WITHSCORES\n1) \"one\"\n2) \"1\"\n3) \"two\"\n4) \"2\"\n5) \"three\"\n6) \"3\"\n\n&gt; ZREMRANGEBYSCORE letters -inf (2\n(interger) 1\n\n&gt; ZRANGE letters 0 -1 WITHSCORES\n1) \"two\"\n2) \"2\"\n3) \"three\"\n4) \"3\"\n</code></pre>"},{"location":"Redis/2-4-type-zset/#zremrangebyrank","title":"ZREMRANGEBYRANK","text":"<ul> <li>Syntax: <code>ZREMRANGEBYRANK key start stop</code></li> <li>Description: Ranges the elements from <code>min</code> to <code>max</code> then removes them. The <code>min</code> and <code>max</code> have the same semantic as describe for ZRANGE's <code>Index range</code>.</li> </ul> <pre><code>&gt; ZRANGE letters 0 -1 WITHSCORES\n1) \"one\"\n2) \"1\"\n3) \"two\"\n4) \"2\"\n5) \"three\"\n6) \"3\"\n\n&gt; ZREMRANGEBYRANK letters 1 2\n(interger) 1\n\n&gt; ZRANGE letters 0 -1 WITHSCORES\n1) \"one\"\n2) \"1\"\n</code></pre>"},{"location":"Redis/2-4-type-zset/#calculation","title":"Calculation","text":""},{"location":"Redis/2-4-type-zset/#zincrby","title":"ZINCRBY","text":"<ul> <li>Syntax: <code>ZINCRBY key increment member</code></li> <li>Description: Increments the score of <code>member</code> in the ZSet named <code>key</code>.</li> </ul> Example <pre><code>&gt; ZRANGE letters 0 -1 WITHSCORES\n1) \"a\"\n2) \"1\"\n3) \"b\"\n4) \"2\"\n5) \"c\"\n6) \"3\"\n7) \"d\"\n8) \"4\"\n9) \"e\"\n10) \"5\"\n\n&gt; ZINCRBY letters 1 a\n\"2\"\n\n&gt; ZRANGE letters 0 -1 WITHSCORES\n1) \"a\"\n2) \"2\"\n3) \"b\"\n4) \"2\"\n5) \"c\"\n6) \"3\"\n7) \"d\"\n8) \"4\"\n9) \"e\"\n10) \"5\"\n</code></pre> Increment a not exist member<pre><code>&gt; ZINCRBY letters 15 z\n\"15\"\n\n&gt; ZRANGE letters 0 -1 WITHSCORES\n 1) \"a\"\n 2) \"2\"\n 3) \"b\"\n 4) \"2\"\n 5) \"c\"\n 6) \"3\"\n 7) \"d\"\n 8) \"4\"\n 9) \"e\"\n10) \"5\"\n11) \"z\"\n12) \"15\"\n</code></pre>"},{"location":"Redis/2-4-type-zset/#zunion","title":"ZUNION","text":""},{"location":"Redis/2-4-type-zset/#zunionstore","title":"ZUNIONSTORE","text":""},{"location":"Redis/2-4-type-zset/#zinter","title":"ZINTER","text":""},{"location":"Redis/2-4-type-zset/#zinterstore","title":"ZINTERSTORE","text":""},{"location":"Redis/2-4-type-zset/#zintercard","title":"ZINTERCARD","text":""},{"location":"Redis/2-4-type-zset/#zdiff","title":"ZDIFF","text":""},{"location":"Redis/2-4-type-zset/#zdiffstore","title":"ZDIFFSTORE","text":""},{"location":"Redis/2-5-type-hash/","title":"Hash","text":""},{"location":"Redis/2-5-type-hash/#type-hash","title":"Type: Hash","text":""},{"location":"Redis/2-5-type-hash/#set","title":"Set","text":""},{"location":"Redis/2-5-type-hash/#hset","title":"HSET","text":"<ul> <li>Syntax: <code>HSET key field value [field value ...]</code></li> <li>Description: Set one or more pair of field-value.</li> </ul> <pre><code>&gt; HSET m1 name Boii\n(integer) 1\n\n&gt; HGET m1 name\n\"Boii\"\n</code></pre>"},{"location":"Redis/2-5-type-hash/#hsetnx","title":"HSETNX","text":"<ul> <li>Syntax: <code>HSETNX key field value</code></li> <li>Description: Set a pair of field-value if key is not exist.</li> </ul> <pre><code>&gt; HMSET m1 name Boii age 18 bir 2022-01-02\nOK\n\n&gt; HGET m1 name\n\"Boii\"\n\n&gt; HSETNX m1 name Eva\n(integer) 0\n\n&gt; HSETNX m1 addr SWT\n(integer) 1\n\n&gt; HKEYS m1\n1) \"name\"\n2) \"age\"\n3) \"bir\"\n4) \"addr\"\n</code></pre>"},{"location":"Redis/2-5-type-hash/#hmset","title":"HMSET","text":"<ul> <li>Syntax: <code>HMSET key field value [field value ...]</code></li> <li>Description: Set more pair of field-value.</li> </ul> <pre><code>&gt; HMSET m1 name Boii age 18\nOK\n\n&gt; HGET m1 name\n\"Boii\"\n\n&gt; HGET m1 age\n\"18\"\n</code></pre>"},{"location":"Redis/2-5-type-hash/#get","title":"Get","text":""},{"location":"Redis/2-5-type-hash/#hget","title":"HGET","text":"<ul> <li>Syntax: <code>HGET key field</code></li> <li>Description: Gets the value of field at Hash named <code>key</code>.</li> </ul> <pre><code>&gt; HMSET m1 name Boii age 18\nOK\n\n&gt; HGET m1 name\n\"Boii\"\n\n&gt; HGET m1 age\n\"18\"\n</code></pre>"},{"location":"Redis/2-5-type-hash/#hmget","title":"HMGET","text":"<ul> <li>Syntax: <code>HMGET key field [field ...]</code></li> <li>Description: Gets more values of fields at Hash named <code>key</code>.</li> </ul> <pre><code>&gt; HMSET m1 name Boii age 18\nOK\n\n&gt; HMGET m1 name age\n\"Boii\"\n\"18\"\n</code></pre>"},{"location":"Redis/2-5-type-hash/#hgetall","title":"HGETALL","text":"<ul> <li>Syntax: <code>HGETALL key</code></li> <li>Description: Gets all pair of field-value at Hash named <code>key</code>.</li> </ul> <pre><code>&gt; HMSET m1 name Boii age 18 bir 2022-01-02\nOK\n\n&gt; HGETALL m1\n1) \"name\"\n2) \"Boii\"\n3) \"age\"\n4) \"18\"\n5) \"bir\"\n6) \"2022-01-01\"\n</code></pre>"},{"location":"Redis/2-5-type-hash/#hrandfield","title":"HRANDFIELD","text":"<ul> <li>Syntax: <code>HRANDFIELD key [count [WITHVALUES]]</code></li> <li>Description: Returns a random key from the Hash named <code>key</code>. <code>Count</code> is 1 by default.</li> </ul> <pre><code>&gt; HMSET m1 name Boii age 18 bir 2022-01-02\nOK\n\n&gt; HRANDFIELD m1 5\n1) \"name\"\n2) \"age\"\n3) \"bir\"\n\n&gt; HRANDFIELD m1 5 WITHVALUES\n1) \"name\"\n2) \"Boii\"\n3) \"age\"\n4) \"18\"\n5) \"bir\"\n6) \"2022-01-01\"\n</code></pre>"},{"location":"Redis/2-5-type-hash/#hkeys","title":"HKEYS","text":"<ul> <li>Syntax: <code>HKEYS key</code></li> <li>Description: Returns all fields of the Hash named <code>key</code>.</li> </ul> <pre><code>&gt; HMSET m1 name Boii age 18 bir 2022-01-02\nOK\n\n&gt; HKEYS m1\n1) \"name\"\n2) \"age\"\n3) \"bir\"\n</code></pre>"},{"location":"Redis/2-5-type-hash/#hvals","title":"HVALS","text":"<ul> <li>Syntax: <code>HVALS key</code></li> <li>Description: Returns all values of the Hash named <code>key</code>.</li> </ul> <pre><code>&gt; HMSET m1 name Boii age 18 bir 2022-01-02\nOK\n\n&gt; HVALS m1\n1) \"Boii\"\n2) \"18\"\n3) \"2022-01-01\"\n</code></pre>"},{"location":"Redis/2-5-type-hash/#hexists","title":"HEXISTS","text":"<ul> <li>Syntax: <code>HEXISTS key field</code></li> <li>Description: Returns whether the field exists in Hash named <code>key</code>.</li> </ul> <pre><code>&gt; HMSET m1 name Boii age 18 bir 2022-01-02\nOK\n\n&gt; HEXISTS m1 name\n(integer) 1\n\n&gt; HEXISTS m1 Boii\n(integer) 0\n</code></pre>"},{"location":"Redis/2-5-type-hash/#del","title":"Del","text":""},{"location":"Redis/2-5-type-hash/#hdel","title":"HDEL","text":"<ul> <li>Syntax: <code>HDEL key field [field ...]</code></li> <li>Description: Removes one or more pair field-value from the Hash named <code>key</code>.</li> </ul> <pre><code>&gt; HMSET m1 name Boii age 18 bir 2022-01-02\nOK\n\n&gt; HDEL m1 name\n(integer) 1\n\n&gt; HKEYS m1 \n1) \"age\"\n2) \"bir\"\n</code></pre>"},{"location":"Redis/2-5-type-hash/#length","title":"Length","text":""},{"location":"Redis/2-5-type-hash/#hlen","title":"HLEN","text":"<ul> <li>Syntax: <code>HLEN key</code></li> <li>Description: Returns the number of field-value in Hash named <code>key</code>.</li> </ul> <pre><code>&gt; HMSET m1 name Boii age 18 bir 2022-01-02\nOK\n\n&gt; HLEN m1\n(integer) 3\n</code></pre>"},{"location":"Redis/2-5-type-hash/#hstrlen","title":"HSTRLEN","text":"<ul> <li>Syntax: <code>HSTRLEN key field</code></li> <li>Description: Returns the length of field's value in Hash named <code>key</code>.</li> </ul> <pre><code>&gt; HMSET m1 name Boii age 18\nOK\n\n&gt; HSTRLEN m1 name\n(integer) 4\n\n&gt; HSTRLEN m1 age\n(integer) 2\n</code></pre>"},{"location":"Redis/2-5-type-hash/#calculation","title":"Calculation","text":""},{"location":"Redis/2-5-type-hash/#hincrby","title":"HINCRBY","text":"<ul> <li>Syntax: <code>HINCRBY key field increment</code></li> <li>Description: Increases increment from a numeric value, similar <code>key.field++</code>.</li> </ul> <pre><code>&gt; HMSET m1 name Boii age 18\nOK\n\n&gt; HINCRBY m1 age 2\n(integer) 20\n\n&gt; HGET m1 age\n\"20\"\n</code></pre>"},{"location":"Redis/2-5-type-hash/#hincrbyfloat","title":"HINCRBYFLOAT","text":"<ul> <li>Syntax: <code>HINCRBYFLOAT key field increment</code></li> <li>Description: Increases a float value to a numeric value.</li> </ul> <pre><code>&gt; HSET m1 age 10\nOK\n\n&gt; HINCRBYFLOAT m1 age 2.2\n\"12.2\"\n</code></pre>"},{"location":"Redis/3-persistence/","title":"Persistence","text":""},{"location":"Redis/3-persistence/#persistence-principle","title":"Persistence principle","text":"<p>Redis runs on memory, but the memory capcity is not unlimited. So there will be insufficient memory.</p> <p>To resolve this problem, Redis has 3 Data Elimination Strategy.</p> <ol> <li>RDB: Redis Database File (Default).</li> <li>AOF: Append Only File.</li> <li>Algorithm: <ul> <li>volatile-lru : Delete a L east R ecently U sed key from the keys that sets expire when memory is deficient.</li> <li>volatile-lfu : Delete a L east F requently U sed key from the keys that sets expire when memory is deficient.</li> <li>volatile-random : Delete a key Randomly from the keys that sets expire when memory is deficient. </li> <li>volatile-ttl : Delete the key with the nearest expire time (Minor TTL).</li> <li>allkeys-lru : Delete a L east R ecently U sed key from all keys.</li> <li>allkeys-lfu : Delete a L east F requently U sed key from all keys.</li> <li>allkeys-random : Delete a key Randomly from all keys.</li> <li>noeviction : Just returns an error on write operations when memory is deficient.</li> </ul> </li> </ol>"},{"location":"Redis/3-persistence/#rdb","title":"RDB","text":"<p>RDB is a default memchanism for Redis persistence. It is enable by default. This is a snapshot method. </p> <p>Tip</p> <p>What the <code>.rdb</code> file saves is the RELATIVELY latest DATA.</p> <pre><code>graph LR\n    A[Memory];\n    B[Disk];\n    A --&gt; |rdbSave| B;\n    B --&gt; |rdbLoad| A;</code></pre> <p>When it is enable, Redis will dump the data to the <code>.rdb</code> file automatically by the configured strategy.</p> <ol> <li>RDB is a file used to persist data. It is a binary file and is easy to transmit.</li> <li> <p>But RDB can not ensure the absolute security of data due to the time interval of writing. </p> <p>If the time interval is too short, efficiency declines.</p> <p>If the time interval is too long, if there is an accident before the next interval, the data written from last write to the accident will be lost.</p> </li> </ol> <p>There are 2 ways to trigger RDB updates: </p> <ul> <li>Automatic </li> <li>Manual</li> </ul>"},{"location":"Redis/3-persistence/#automatic-way","title":"Automatic way","text":"<p>You can configure the strategy of time interval in the <code>redis.conf</code>:</p> <p></p>redis.conf<pre><code># Specify save opportunity.\n# When `redis-cli SHUTDOWN` command is executed, \n# the following setting also save the DB to disk.\n# \n# As long as one item is satisfied, Redis will save the DB to disk.\n# Configure format: save &lt;seconds&gt; &lt;changes&gt;\nsave 900 1      # Save if 1 data be written in 15 minutes.\nsave 300 10     # Save if 10 data be written in 5 minutes.\nsave 60 10000   # Save if 10000 data be written in 1 minutes.\n\n# Compress the DB file\nrdbcompression yes\n\n# Specify the DB filename\ndbfilename custom_file_name.rdb\n</code></pre> As long as one item is satisfied, Redis will save the DB to disk.<p></p>"},{"location":"Redis/3-persistence/#manual-way","title":"Manual way","text":"<p>You can actively send the command <code>SAVE</code> or <code>BGSAVE</code> to trigger updates.</p> <p>The <code>SAVE</code> command will block current process, update data, and then resume.</p> <p>The <code>BGSAVE</code> command will not block current process. It calls the <code>fork()</code> (a linux system call) to create the child process.</p> <p>Tip</p> <p>the Automatic way is a BGSAVE.</p> Example <pre><code>&gt; BGSAVE\nBackground saving started\n</code></pre>"},{"location":"Redis/3-persistence/#rdb-file-structure","title":"RDB File structure","text":"<p>RDB file consists of 5 base parts: <code>Magic number</code>, <code>Version</code>, <code>Data</code>, <code>EOF</code>, <code>Checksum</code>.</p> <p></p> <ul> <li>Magic number: It is 5 characters --\"REDIS\", used to indicate this is a Redis file. 5 bytes.</li> <li>Version: It means the redis version. 4 bytes.</li> <li>Data: If there is no data, it is 0 byte.</li> <li>EOF: A common end-of-file symbol, used to indicate the end of file. 1 byte.</li> <li>Checksum: It is a 8 bytes unsigned integer, generated by digest algorithm, used to check whether the file is complete. </li> </ul> <p></p> <p>The part of data is consists of: <code>SELECTDB symbol</code>, <code>Database number</code> and  <code>Key-Value pairs</code>.</p> <ul> <li>SELECTDB symbol: It is a constant. 1 byte. When the reading program read this value, it will know the next section is a database num.</li> <li>Database number: Depending on the size of number, the length of this section can be 1, 2, or 5 bytes. When the reading program read this value, it will call the <code>SELECT</code> command to switch current database.</li> <li>Key-Value pairs: This part is the real data.</li> </ul> <p></p> <p>The part of Key-Value pairs is consists of: <code>TYPE</code>, <code>Key</code>, <code>Value</code>. If the expiration time is set, there will include the <code>EXPIRE_MS symbol</code> and <code>Timestamp</code>.</p> <ul> <li> <p>TYPE: This records the type of value, it can be one of the following constant:</p> <ul> <li>REDIS_RDB_TYPE_STRING</li> <li>REDIS_RDB_TYPE_LIST</li> <li>REDIS_RDB_TYPE_SET</li> <li>REDIS_RDB_TYPE_ZSET</li> <li>REDIS_RDB_TYPE_HASH</li> <li>REDIS_RDB_TYPE_LIST_ZIPLIST</li> <li>REDIS_RDB_TYPE_SET_INTSET</li> <li>REDIS_RDB_TYPE_ZSET_ZIPLIST</li> <li>REDIS_RDB_TYPE_HASH_ZIPLIST</li> </ul> <p>Each constant represents an underlying encoding. Where redis-server reading key-value pairs, how to read and interpre the value depending on TYPE symbol.</p> </li> <li> <p>Key: Key is always a string object and is encoded the same way. The length of key varies depending on the length of the content. </p> </li> <li> <p>Value: This is the place where the real data in. </p> </li> <li>EXPIRE_MS symbol: It tell the reading program the next section is an expiration time in milliseconds. 1 byte.</li> <li>Timestamp: This is an 8-byte lone signed integer. It records a UNIX timestamp.</li> </ul> <p>The RDB file structure look like this:</p> <p></p>"},{"location":"Redis/3-persistence/#aof","title":"AOF","text":"<p>AOF means Append Only File. </p> <p>Tip</p> <p>What the <code>.aof</code> file saves is all the WRITTEN manipulation COMMAND.</p> <p>Note that AOF only stores WRITE instructions such as <code>HSET</code>, <code>DEL</code>, <code>ZREM</code>, <code>LPOP</code>.</p> <p>READ instructions, such as <code>HGET, LRANGE</code>, will not be stores.</p> <ul> <li>For data security, AOF mode is safer than RDB mode. </li> <li>BTW, Redis official recommends to enable both AOF mode and RDB mode.</li> <li>AOF mode is a higher priority than RDB mode. After Redis goes down and restart, AOF file will be perferred to recover data.</li> </ul> <p>AOF is not the default memchanism, you can configure it in the <code>redis.conf</code>: </p>redis.conf<pre><code># Specify synchronization opportunity (choose one)\n#  - everysec: Each second records the operation to the AOF file. This is DEFAULT configure.\n#  - always:   Each write operation records the operation to the AOF file, but efficiency is low.\n#  - no:       Set different synchronization time intervals according to the runtime environment\nappendfsync everysec \n\n# Enable the Append Only Mode\nappendonly yes\n\n# Specify the Append Only filename.\nappendfilename custom_file_name.aof\n</code></pre><p></p>"},{"location":"Redis/4-transaction/","title":"Transaction","text":""},{"location":"Redis/4-transaction/#transaction","title":"Transaction","text":"<p>Redis transaction begin with the <code>MULTI</code> command and end with <code>EXEC</code> or <code>DISCARD</code> command.</p> <p>After the <code>MULTI</code> command, every non transactional command will be pushed on the queue.</p> <p>But if any illegal command is pushed, an error will be reported. Then the transaction cannot be executed due to the error.</p> <p>Warning</p> <p>Transactions in Redis do not follow the <code>all or nothing</code> principle.</p> <p>It can ensures all commands in the queue will be executed in sequence and that there will never be any command to jump in line.</p> <p>So it has no ROLLBACK operation.</p>"},{"location":"Redis/4-transaction/#commands","title":"Commands","text":"<code>MULTI</code> <p>Marks the start of a transaction block.</p> <p>After MULTI command, commands for each non transactional operation are pushed on the queue.</p> <code>EXEC/DISCARD</code> Marks the end of a transaction block And EXECUTE or DISCARD the commands in the queue. <code>WATCH</code> <p><code>WATCH key [key ...]</code></p> <p>Marks the given keys to be watched.</p> <code>UNWATCH</code> <p>Unmarks all the previously watched keys for a transaction.</p> <p>If you call EXEC or DISCARD, there\u2019s no need to manually call UNWATCH.</p>"},{"location":"Redis/4-transaction/#simple-example","title":"Simple example","text":"Execute transaction<pre><code>&gt; MULTI\nOK\n\n(TX)&gt; SET name Boii\nQUEUED\n\n(TX)&gt; SET age 18\nQUEUED\n\n(TX)&gt; SET bir 2022-01-01\nQUEUED\n\n(TX)&gt; EXEC\n1) OK\n2) OK\n3) OK\n</code></pre> Discard transaction<pre><code>&gt; MULTI\nOK\n\n(TX)&gt; SET name Eva\nQUEUED\n\n(TX)&gt; SET age 18\nQUEUED\n\n(TX)&gt; DISCARD\nOK\n</code></pre> Do not atomic<pre><code>&gt; MULTI\nOK\n\n(TX)&gt; SET name Boii\nQUEUED\n\n(TX)&gt; SET age 18\nQUEUED\n\n(TX)&gt; INCR name\nQUEUED\n\n(TX)&gt; EXEC\n1) OK\n2) OK\n3) (error) ERR value is not an integer or out of range\n</code></pre> An illegal command<pre><code>&gt; MULTI\nOK\n\n&gt; SET name Boii\nQUEUED\n\n(TX)&gt; SET age 18\nQUEUED\n\n(TX)&gt; NO-SUCH-COMMAND abc\n(error) ERR unknown command `NO-SUCH-COMMAND`, with args beginning with: `abc`,\n\n(TX)&gt; SET bir 2022-01-01\nQUEUED\n\n(TX)&gt; EXEC\n(error) EXECABORT Transaction discarded because of previous errors.\n</code></pre>"},{"location":"Redis/4-transaction/#watch-and-unwatch","title":"Watch and Unwatch","text":"<p>In the Redis transaction, the Lock operation is implemented through the <code>WATCH</code> command.</p> <p>Before execute the <code>MULTI</code> command, you can use the <code>WATCH key [key ...]</code> to watch all keys that will be used in the following transaction.</p> <p>And if other client modify any keys you watched before you execute <code>EXEC</code> command, your transaction will be not executed and return (nil).</p> <p><code>UNWATCH</code> command will be executed after <code>EXEC</code> or <code>DISCARD</code> command automatically. You can also execute it manually before <code>WATCH</code> command.</p> Initial data<pre><code>&gt; SET a 100\nOK\n&gt; SET b 5\nOK\n\n&gt; MGET a b\n1) \"100\"\n2) \"5\"\n</code></pre> <p>It was not watch the keys, so the result was unexpected.</p> Client 1 Client 2 &gt; <code>MULTI</code> OK (TX)&gt; <code>MGET a b</code> QUEUED (TX)&gt; <code>DECRBY a 100</code> QUEUED (TX)&gt; <code>INCRBY b 100</code> QUEUED (TX)&gt; <code>MGET a b</code> QUEUED &gt; <code>GET a</code> \"100\" &gt; <code>DECRBY a 50</code> (integer) 50 (TX)&gt; <code>EXEC</code> 1) 1) \"50\" -- 2) \"5\" 2) (integer) -50 3) (integer) 105 4) 1) \"-50\" -- 2) \"105\" Client 1 Client 2 &gt; <code>WATCH a b</code> OK &gt; <code>MULTI</code> OK (TX)&gt; <code>MGET a b</code> QUEUED (TX)&gt; <code>DECRBY a 100</code> QUEUED (TX)&gt; <code>INCRBY b 100</code> QUEUED (TX)&gt; <code>MGET a b</code> QUEUED &gt; <code>GET a</code> \"100\" &gt; <code>DECRBY a 50</code> (integer) 50 (TX)&gt; <code>EXEC</code> (nil) &gt; <code>MGET a b</code> 1) \"50\" 2) \"5\" <p></p>"},{"location":"Redis/Underlying/","title":"Underlying","text":""},{"location":"Redis/Underlying/#underlying","title":"Underlying","text":""},{"location":"Redis/Underlying/#data-structure","title":"Data Structure","text":"<pre><code>graph TD\n    STR[String]\n    L[List]\n    S[Set]\n    Z[Zset]\n    H[Hash]\n\n    SDS[Simple Dynamic String]\n    DLL[Double Linked List]\n    ZL[Ziplist]\n    HT[Hash Table]\n    SL[Skip List]\n    IA[Integet Array]\n\n    STR --&gt; SDS\n    L --&gt; DLL\n    L --&gt; ZL\n    S --&gt; HT\n    S --&gt; IA\n    H --&gt; ZL\n    H --&gt; HT\n    Z --&gt; ZL\n    Z --&gt; SL</code></pre> <p>ZSet is implemented by Ziplist and Skip List.</p> <p>If the numbers of ZSet element is less than 128, OR the size of all ZSet elements is less than 64 bytes, the Ziplist is used, otherwise the Skip List is used. - Use Skip List:</p> <pre><code>When `ZCARD key` &lt; 128 || all ZSet elements &lt; 64Byte\n</code></pre>"},{"location":"Rust/Advanced/1-%E9%97%AD%E5%8C%85%E5%92%8C%E8%BF%AD%E4%BB%A3%E5%99%A8/","title":"1 \u95ed\u5305\u548c\u8fed\u4ee3\u5668","text":""},{"location":"Rust/Advanced/2-%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88/","title":"2 \u667a\u80fd\u6307\u9488","text":""},{"location":"Rust/Advanced/3-%E5%B9%B6%E5%8F%91/","title":"3 \u5e76\u53d1","text":""},{"location":"Rust/Basic/0-Hello/","title":"0-Hello","text":""},{"location":"Rust/Basic/0-Hello/#hello-rust","title":"Hello Rust","text":""},{"location":"Rust/Basic/0-Hello/#_1","title":"\u7279\u70b9","text":"<ul> <li>\u5b89\u5168</li> <li>\u65e0\u9700 GC</li> <li>\u6613\u4e8e\u7ef4\u62a4\u3001\u8c03\u8bd5\uff0c\u4ee3\u7801\u5b89\u5168\u9ad8\u6548</li> </ul>"},{"location":"Rust/Basic/0-Hello/#_2","title":"\u64c5\u957f\u9886\u57df","text":"<ul> <li>\u9ad8\u6027\u80fd Web Service</li> <li>WebAssembly</li> <li>\u547d\u4ee4\u884c\u5de5\u5177</li> <li>\u7f51\u7edc\u7f16\u7a0b</li> <li>\u5d4c\u5165\u5f0f\u7f16\u7a0b</li> <li>\u7cfb\u7edf\u7f16\u7a0b</li> </ul>"},{"location":"Rust/Basic/0-Hello/#hello-world","title":"Hello World","text":"<p>\u7a0b\u5e8f\u6587\u4ef6\u540e\u7f00\u540d: .rs</p> <p>\u6587\u4ef6\u547d\u540d\u89c4\u8303: \u4e0b\u5212\u7ebf hello_world.rs </p><pre><code>fn main() {\n    println!(\"Hello World\");\n}\n</code></pre><p></p> <ul> <li>\u5b9a\u4e49\u51fd\u6570: <code>fn main() {}</code>, \u65e0\u53c2\u6570\uff0c\u65e0\u8fd4\u56de\u503c\u3002</li> <li>main \u51fd\u6570\u662frust\u7a0b\u5e8f\u6700\u5148\u8fd0\u884c\u7684\u4ee3\u7801</li> <li>\u6253\u5370\u6587\u672c\uff1a<code>println!(\"Hello World\");</code><ul> <li>Rust \u7684\u7f29\u8fdb\u662f 4 \u4e2a\u7a7a\u683c\u800c\u4e0d\u662f tab</li> <li>println! \u662f\u4e00\u4e2a Rust macro (\u5b8f)\uff0c\u5982\u679c\u662f\u51fd\u6570\u7684\u8bdd\u5c31\u6ca1\u6709 <code>!</code></li> </ul> </li> </ul> <p>\u7f16\u8bd1: </p><pre><code>$ rustc main.rs\n</code></pre><p></p> <ul> <li>Rust \u7a0b\u5e8f\u5fc5\u987b\u5148\u7f16\u540e\u518d\u6267\u884c\u3002\u7f16\u8bd1\u547d\u4ee4\u4e3a <code>rustc \u6587\u4ef6\u540d</code></li> <li>\u7f16\u8bd1\u6210\u529f\u540e\u4f1a\u751f\u6210\u4e00\u4e2a\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002\u5982\u679c\u5728 Windows \u4e0a\u8fd8\u4f1a\u751f\u6210\u4e00\u4e2a <code>.pdb</code> \u6587\u4ef6\uff0c\u91cc\u9762\u5305\u542b\u8c03\u8bd5\u4fe1\u606f</li> <li>rustc \u53ea\u9002\u5408\u7b80\u5355\u7684 Rust \u7a0b\u5e8f\uff0c\u5927\u578b\u7a0b\u5e8f\u5f97\u7528 cargo.</li> </ul>"},{"location":"Rust/Basic/0-Hello/#cargo","title":"Cargo","text":"<ul> <li>\u67e5\u770b\u7248\u672c: <code>cargo --version</code></li> <li>\u65b0\u5efa\u9879\u76ee: <code>cargo new \u9879\u76ee\u540d\u79f0</code></li> <li>\u6784\u5efa\u9879\u76ee: <code>cargo build</code><ul> <li>\u521b\u5efa\u53ef\u6267\u884c\u6587\u4ef6: <code>target/debug/main</code> \u6216 <code>target\\debug\\main.exe</code></li> <li>\u7b2c\u4e00\u6b21\u8fd0\u884c cargo build \u4f1a\u5728\u9876\u5c42\u76ee\u5f55\u751f\u6210 <code>cargo.lock</code> \u6587\u4ef6\uff0c\u8d1f\u8d23\u8ffd\u8e2a\u9879\u76ee\u4f9d\u8d56\u7684\u7cbe\u786e\u7248\u672c\uff0c\u7c7b\u4f3c js \u7684 <code>package.lock</code> \u6216 go \u7684 <code>go.sum</code></li> </ul> </li> <li>\u8fd0\u884c\u9879\u76ee: <code>cargo run</code><ul> <li>\u521b\u5efa\u53ef\u6267\u884c\u6587\u4ef6: <code>target/debug/main</code> \u6216 <code>target\\debug\\main.exe</code></li> <li>\u8fd0\u884c\u53ef\u6267\u884c\u6587\u4ef6: <code>target/debug/main</code> \u6216 <code>target\\debug\\main.exe</code></li> </ul> </li> <li>\u68c0\u67e5\u9879\u76ee: <code>cargo check</code><ul> <li>\u68c0\u67e5\u4ee3\u7801\uff0c\u786e\u4fdd\u80fd\u901a\u8fc7\u7f16\u8bd1\uff0c\u4e0d\u4f1a\u4ea7\u751f\u4efb\u4f55\u53ef\u6267\u884c\u6587\u4ef6</li> <li>\u6bd4 cargo build \u5feb</li> </ul> </li> <li>\u6784\u5efa\u53d1\u5e03\u9879\u76ee: <code>cargo build --release</code><ul> <li>\u7f16\u8bd1\u65f6\u4f1a\u8fdb\u884c\u4f18\u5316\uff0c\u4ee3\u7801\u4f1a\u8fd0\u884c\u7684\u66f4\u5feb\uff0c\u4f46\u7f16\u8bd1\u65f6\u95f4\u66f4\u957f</li> <li>\u4f1a\u5728 <code>target/release</code> \u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6</li> </ul> </li> </ul> <p>Rust \u9ed8\u8ba4\u4f1a\u628a <code>prelude(\u9884\u5bfc\u5165)</code> \u6a21\u5757\u5bfc\u5165\u5230\u6bcf\u4e2a\u7a0b\u5e8f\u7684\u4f5c\u7528\u57df\u4e2d\uff0c\u5982\u679c\u4f7f\u7528\u4e86\u4e0d\u518d prelude \u7684\u4e1c\u897f\u5c31\u5f97\u4f7f\u7528 <code>use</code> \u5173\u952e\u5b57\u663e\u5f0f\u5bfc\u5165\u3002</p>"},{"location":"Rust/Basic/1-%E5%8F%98%E9%87%8F/","title":"1-\u53d8\u91cf","text":""},{"location":"Rust/Basic/1-%E5%8F%98%E9%87%8F/#_1","title":"\u53d8\u91cf","text":"<p>Rust \u4e2d\u6709\u53d8\u91cf\u548c\u5e38\u91cf\u3002</p> <p>\u58f0\u660e\u53d8\u91cf\u7528 <code>let</code> \u5173\u952e\u5b57\uff0c\u58f0\u660e\u5e38\u91cf\u7528 <code>const</code> \u5173\u952e\u5b57\u3002 </p><pre><code>let   variable = 1;\nconst constant = 0;\n</code></pre><p></p>"},{"location":"Rust/Basic/1-%E5%8F%98%E9%87%8F/#_2","title":"\u53d8\u91cf","text":"<p>Rust \u4e2d\u7684\u53d8\u91cf\u9ed8\u8ba4\u662f\uff0cimmutable\uff0c\u4e0d\u53ef\u53d8\u7684\u3002</p> <p>\u56e0\u4e3a Rust \u8ba4\u4e3a\u5e94\u8be5\u663e\u5f0f\u5730\u533a\u5206\u53ef\u53d8\u548c\u4e0d\u53ef\u53d8\u3002\u9ed8\u8ba4\u4e0d\u53ef\u53d8\u662f\u56e0\u4e3a\uff0c\u636e\u7edf\u8ba1\uff0c\u4e00\u822c\u800c\u8a00\u4e0d\u88ab\u4fee\u6539\u7684\u53d8\u91cf\u8981\u6bd4\u88ab\u4fee\u6539\u7684\u53d8\u91cf\u591a\u3002\u4e0d\u53ef\u53d8\u53d8\u91cf\u6709\u5229\u4e8e\u9632\u6b62\u4e00\u4e9b\u50bb\u53c9\u4fee\u6539\u4e86\u672c\u4e0d\u8be5\u4fee\u6539\u7684\u503c\u5bfc\u81f4\u707e\u96be\u3002</p> <p>\u8981\u4f7f\u5f97\u53d8\u91cf\u53ef\u53d8\uff0c\u9700\u8981\u52a0\u4e0a <code>mut</code> \u5173\u952e\u5b57\u3002</p> <pre><code>let mut var1 = 1;   // \u8fd9\u6837 var1 \u5c31\u53ef\u4ee5\u88ab\u4fee\u6539\nvar1 = 10;\n</code></pre>"},{"location":"Rust/Basic/1-%E5%8F%98%E9%87%8F/#_3","title":"\u5e38\u91cf","text":"<p><code>const</code> \u521d\u59cb\u5316\u5e38\u91cf\uff0c\u901a\u5e38\u662f 1, 2, 3 \u8fd9\u79cd\u5b57\u9762\u91cf\uff0c\u6216\u8005\u5e38\u91cf\u51fd\u6570\u7684\u8fd4\u56de\u503c\u3002</p> <ul> <li>\u5e38\u91cf\u53ef\u4ee5\u5728\u4efb\u4f55\u4f5c\u7528\u57df\u5185\u58f0\u660e\uff0c\u5305\u62ec\u5168\u5c40\u4f5c\u7528\u57df\u3002</li> <li>\u5e38\u91cf\u53ea\u80fd\u7ed1\u5b9a\u5230\u5e38\u91cf\u8868\u8fbe\u5f0f\uff0c\u65e0\u6cd5\u7ed1\u5b9a\u5230\u51fd\u6570\u7684\u8c03\u7528\u7ed3\u679c\uff0c\u6216\u53ea\u80fd\u5728\u8fd0\u884c\u65f6\u624d\u80fd\u8ba1\u7b97\u51fa\u7684\u503c\u3002</li> <li>\u7a0b\u5e8f\u8fd0\u884c\u671f\u95f4\uff0c\u5e38\u91cf\u5728\u5176\u4f5c\u7528\u57df\u5185\u4e00\u76f4\u6709\u6548\u3002</li> </ul> <p>Tip</p> <p><code>let</code> \u4e0e <code>const</code> \u7684\u533a\u522b\u5728\u4e8e\uff1a let \u5728\u521d\u59cb\u5316\u5728\u7a0b\u5e8f\u4e2d\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u4e14\u58f0\u660e\u4e0e\u8d4b\u503c\u53ef\u4ee5\u5206\u5f00\u3002const \u8d4b\u503c\u53ea\u80fd\u8d4b\u5b57\u9762\u91cf\uff0c\u5728\u521d\u59cb\u5316\u65f6\u503c\u662f\u786e\u5b9a\u7684\uff1b</p> <ul> <li>let \u58f0\u660e\u7684\u662f\u53d8\u91cf\uff0cconst \u58f0\u660e\u7684\u662f\u5e38\u91cf\uff1b</li> <li>let \u80fd\u7c7b\u578b\u63a8\u5bfc\uff0cconst \u4e0d\u80fd\u7c7b\u578b\u63a8\u5bfc\uff0c\u5728\u58f0\u660e\u65f6\u5fc5\u987b\u6307\u5b9a\u7c7b\u578b\uff1b</li> <li>let \u53ef\u4ee5\u4f7f\u7528 <code>mut</code> \u5173\u952e\u5b57\u4f7f\u5f97\u53d8\u91cf\u53ef\u53d8\u3002const \u4e0d\u53ef\u4ee5\u4f7f\u7528 <code>mut</code> \u5173\u952e\u5b57\uff0c\u5e38\u91cf\u6c38\u8fdc\u4e0d\u53ef\u53d8\u3002</li> </ul> <p>Tip</p> <p>\u5e38\u91cf\u547d\u540d\u89c4\u8303\u4e3a\uff1a\u5168\u5927\u5199\uff0c\u7528\u4e0b\u5212\u7ebf\u8fde\u63a5\u3002 </p><pre><code>const PI: f64 = 3.14;\n</code></pre><p></p>"},{"location":"Rust/Basic/1-%E5%8F%98%E9%87%8F/#shadowing","title":"\u5f71\u85cf Shadowing","text":"<p>Rust \u4e2d\u53ef\u4ee5\u4f7f\u7528\u76f8\u540c\u7684\u540d\u5b57\u58f0\u660e\u65b0\u7684\u53d8\u91cf\uff0c\u65b0\u7684\u53d8\u91cf\u5c31\u4f1a shadow\uff08\u5f71\u85cf\uff09\u4e4b\u524d\u58f0\u660e\u7684\u540c\u540d\u53d8\u91cf\uff0c\u5728\u540e\u7eed\u7684\u4ee3\u7801\u4e2d\u8fd9\u4e2a\u53d8\u91cf\u540d\u4ee3\u8868\u7684\u5c31\u662f\u65b0\u7684\u53d8\u91cf\u3002</p> <pre><code>fn main() {\n    let x = 5;\n    let x = x + 1;  // \u5f71\u85cf x,\u6b64\u65f6 x \u4e3a 6\n    let x = x * 3;  // \u5f71\u85cf x,\u6b64\u65f6 x \u4e3a 18\n}\n</code></pre> <p>shadow \u548c\u628a\u53d8\u91cf\u6807\u8bb0\u4e3a mut \u4e0d\u540c\uff0c\u5982\u679c\u4e0d\u4f7f\u7528 let \u5173\u952e\u5b57\uff0c\u90a3\u4e48\u91cd\u65b0\u7ed9\u975e mut \u53d8\u91cf\u8d4b\u503c\u4f1a\u62a5\u9519\u3002</p> <ul> <li> <p>\u4f7f\u7528 let \u58f0\u660e\u540c\u540d\u53d8\u91cf\uff08\u5f71\u85cf\uff09\uff0c\u4e5f\u662f\u4e0d\u53ef\u53d8\u7684\u3002     </p><pre><code>let x = 5;\nlet x = 6;\nx = 7; \n</code></pre><p></p> </li> <li> <p>\u5f71\u85cf\u7684\u65f6\u5019\u53ef\u4ee5\u6539\u53d8\u53d8\u91cf\u7684\u53ef\u53d8\u6027     </p><pre><code>let mut x = 5; // \u58f0\u660e\u4e00\u4e2a\u53ef\u53d8\u53d8\u91cf\nx = 6;         // \u8fd9\u91cc\u4fee\u6539 x \u7684\u503c\u662f\u6ca1\u95ee\u9898\u7684\n\nlet x = 7;  // \u5f71\u85cf x\uff0c\u540c\u65f6 x \u53d8\u6210\u4e00\u4e2a\u4e0d\u53ef\u53d8\u53d8\u91cf\uff0c\u91cd\u65b0\u8d4b\u503c\u4f1a\u62a5\u9519\nx = 8;      // cannot assign twice to immutable variable `x` \n</code></pre><p></p> <pre><code>let x = 5;      // \u58f0\u660e\u4e00\u4e2a\u4e0d\u53ef\u53d8\u53d8\u91cf\nlet mut x = 7;  // \u5f71\u85cf x\uff0c\u540c\u65f6 x \u53d8\u6210\u4e00\u4e2a\u53ef\u53d8\u53d8\u91cf\uff0c\u91cd\u65b0\u8d4b\u503c\u4e0d\u4f1a\u62a5\u9519\nx = 8;          // \u8fd9\u91cc\u4fee\u6539 x \u7684\u503c\u662f\u6ca1\u95ee\u9898\u7684\n</code></pre> </li> <li> <p>\u5f71\u85cf\u7684\u65f6\u5019\u53ef\u4ee5\u6539\u53d8\u53d8\u91cf\u7684\u7c7b\u578b     </p><pre><code>let x:i64 = 100;    // \u58f0\u660e\u4e00\u4e2a int64 \u7684\u53d8\u91cf\nlet x = \"abc\";      // \u5f71\u85cf x,\u540c\u65f6\u6539\u53d8\u5b83\u7684\u7c7b\u578b\uff0c\u8fd9\u662f\u6ca1\u95ee\u9898\u7684\u3002\n</code></pre><p></p> </li> </ul>"},{"location":"Rust/Basic/10-%E9%A1%B9%E7%9B%AE%E7%BB%84%E7%BB%87/","title":"10 \u9879\u76ee\u7ec4\u7ec7","text":""},{"location":"Rust/Basic/11-%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/","title":"11 \u9519\u8bef\u5904\u7406","text":""},{"location":"Rust/Basic/2.1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/","title":"2.1-\u6570\u636e\u7c7b\u578b","text":""},{"location":"Rust/Basic/2.1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_1","title":"\u6570\u636e\u7c7b\u578b","text":""},{"location":"Rust/Basic/2.1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_2","title":"\u6807\u91cf\u7c7b\u578b","text":"\u5206\u7c7b \u7c7b\u578b \u6574\u6570\u7c7b\u578b i8, i16, i32, i64, i128, isize, u8, 816, u32, u64, u128, usize \u6d6e\u70b9\u7c7b\u578b f32, f64 \u5e03\u5c14\u7c7b\u578b bool (true, false) \u5b57\u7b26\u7c7b\u578b char"},{"location":"Rust/Basic/2.1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_3","title":"\u6574\u6570\u7c7b\u578b","text":"Length Signed Unsigned 8-bit i8 u8 16-bit i16 u16 32-bit i32 u32 64-bit i64 u64 128-bit i128 u128 arch isize usize"},{"location":"Rust/Basic/2.1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_4","title":"\u6574\u6570\u5b57\u9762\u503c","text":"Number literals Example Decimal 98_200 Hex 0xff Octal 0o75 Binary 0b1111_0011 Byte(u8 only) b'A' <p>\u9664\u4e86 byte \u7c7b\u578b\u5916\uff0c\u6240\u6709\u6574\u6570\u5b57\u9762\u503c\u90fd\u53ef\u4ee5\u4f7f\u7528\u7c7b\u578b\u540e\u7f00\uff1a </p><pre><code>let x = 9122i16\nlet y = 0xff_i64\nlet b = 0b1100_1011u8\n</code></pre><p></p> <p>Tip</p> <p>Rust \u9ed8\u8ba4\u6574\u6570\u7c7b\u578b\u4e3a i32</p>"},{"location":"Rust/Basic/2.1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_5","title":"\u6574\u6570\u6ea2\u51fa","text":"<p>\u6574\u6570\u6ea2\u51fa\u6307\uff1a\u503c\u8d85\u8fc7\u4e86\u7c7b\u578b\u7684\u6700\u5927\u8303\u56f4\u3002</p> <p>\u4f8b\u5982\uff1au8\u7684\u8303\u56f4\u662f 0\uff5e255\uff0c\u5982\u679c\u4f60\u628a\u4e00\u4e2a u8 \u7c7b\u578b\u53d8\u91cf\u8bbe\u4e3a 256\uff0c\u90a3\u4e48\uff1a</p> <ul> <li>\u8c03\u8bd5\u6a21\u5f0f\u4e0b\uff1aRust \u4f1a\u68c0\u67e5\u6574\u6570\u6ea2\u51fa\uff0c\u5728\u53d1\u751f\u6ea2\u51fa\u65f6 panic</li> <li>\u53d1\u5e03\u6a21\u5f0f\u4e0b\uff1aRust \u4e0d\u4f1a\u68c0\u67e5\u6574\u6570\u6ea2\u51fa\uff0c\u5728\u53d1\u751f\u6ea2\u51fa\u65f6\u8fdb\u884c\u300c\u73af\u7ed5\u300d\u64cd\u4f5c\uff1a<ul> <li>256 \u53d8\u6210 0, 257 \u53d8\u6210 1...</li> <li>\u4e0d\u8fc7\u7a0b\u5e8f\u4e0d\u4f1a panic</li> </ul> </li> </ul>"},{"location":"Rust/Basic/2.1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_6","title":"\u6d6e\u70b9\u7c7b\u578b","text":"<p>Rust \u6d6e\u70b9\u7c7b\u578b\u4f7f\u7528 IEEE-754 \u6807\u51c6\u3002</p> <p>Rust \u652f\u6301\u5bf9\u6d6e\u70b9\u7c7b\u578b\u53d6\u4f59\uff0c\u4f46\u8981\u6c42\u4e24\u8fb9\u90fd\u662f\u540c\u7c7b\u578b\u6d6e\u70b9\u6570\u624d\u884c\uff0c\u4f8b\u5982\uff1a </p><pre><code>let x: f32 = 1.0\nlet y: f32 = 0.3\nlet z = x % y   // z \u7684\u503c\u4e3a 0.1\n</code></pre><p></p> <p>Tip</p> <p>Rust \u9ed8\u8ba4\u6574\u6570\u7c7b\u578b\u4e3a f64</p>"},{"location":"Rust/Basic/2.1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_7","title":"\u5b57\u7b26\u7c7b\u578b","text":"<p>Rust \u4e2d\u6240\u6709\u7684 Unicode \u503c\u90fd\u53ef\u4ee5\u4f5c\u4e3a\u5b57\u7b26\uff0c\u5305\u62ec\u5355\u4e2a\u7684\u4e2d\u6587\u3001\u65e5\u6587\u3001\u97e9\u6587\u3001emoji \u8868\u60c5\u7b26\u53f7\u7b49\uff0c\u90fd\u662f\u5408\u6cd5\u7684\u5b57\u7b26\u3002</p> <p>Unicode \u503c\u7684\u8303\u56f4\u4ece <code>U+000 ~ U+D7FF</code> \u548c <code>U+E000 ~ U+10FFFF</code>\u3002</p> <p>\u5b57\u7b26\u53ea\u80fd\u7528 <code>''</code> \u6765\u8868\u793a\u3002</p> <p>Example</p> <pre><code>fn main() {\n    let c = 'z';\n    let z = '\u2124';\n    let g = '\u56fd';\n    let heart_eyed_cat = '\ud83d\ude3b';\n}\n</code></pre> <p>Tip</p> <p>\u7531\u4e8e Unicode \u90fd\u662f 4 \u4e2a\u5b57\u8282\u7f16\u7801\uff0c\u6240\u4ee5 Rust \u4e2d\u4e00\u4e2a\u5b57\u7b26\u5360 4 \u4e2a\u5b57\u8282\u3002</p>"},{"location":"Rust/Basic/2.1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_8","title":"\u5e03\u5c14\u7c7b\u578b","text":"<p>Rust \u4e2d\u5e03\u5c14\u503c\u4e3a <code>true</code> \u548c <code>false</code>\uff0c\u8fd9\u70b9\u548c Go \u76f8\u540c\u3002\u5e03\u5c14\u503c\u5360\u7528 1 \u5b57\u8282\u3002\u4e3b\u8981\u7528\u4e8e\u6d41\u7a0b\u63a7\u5236\u3002</p> <p>Example</p> <pre><code>fn main() {\n    let t = true;           // \u4f7f\u7528\u7c7b\u578b\u63a8\u65ad\n    let f: bool = false;    // \u663e\u5f0f\u7684\u7c7b\u578b\u6807\u6ce8 f \u4e3a\u5e03\u5c14\u7c7b\u578b\n    if f {\n        println!(\"bbb\");\n    }\n}\n</code></pre>"},{"location":"Rust/Basic/2.1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_9","title":"\u5355\u5143\u7c7b\u578b","text":"<p>Rust \u4e2d\u5355\u5143\u7c7b\u578b\u5c31\u662f <code>()</code>\u3002\u4f8b\u5982 main \u51fd\u6570\u8fd4\u56de\u7684\u5c31\u662f\u5355\u5143\u7c7b\u578b\u3002\u5355\u5143\u7c7b\u578b\u5728\u6709\u7528\u7684\u3002</p> <p>\u4f8b\u5982\uff0c\u6ca1\u6709\u8fd4\u56de\u503c\u7684\u51fd\u6570\uff08\u4f8b\u5982 main \u51fd\u6570\uff09\u5176\u8fd4\u56de\u7684\u5c31\u662f\u5355\u5143\u7c7b\u578b\u3002</p> <p>\u518d\u4f8b\u5982\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>()</code> \u505a\u4e3a map \u7684\u503c\uff0c\u8868\u793a\u4e0d\u5173\u5fc3 map \u7684\u503c\u53ea\u5173\u5fc3 map \u7684\u952e\u3002\u5c31\u50cf Go \u4e2d\u7684\u7a7a\u7ed3\u6784\u4f53 <code>struct{}</code>\uff0c\u5b8c\u5168\u4e0d\u5360\u7528\u5185\u5b58\u3002</p>"},{"location":"Rust/Basic/2.1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_10","title":"\u590d\u5408\u7c7b\u578b","text":""},{"location":"Rust/Basic/2.1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#tuple","title":"\u5143\u7ec4 Tuple","text":"<p>\u5143\u7ec4\u662f\u4e00\u7ec4 \u6709\u5e8f\u7684\u3001\u4e0d\u53ef\u53d8\u7684 \u5143\u7d20\u7684\u96c6\u5408\u3002</p> <p>\u5143\u7ec4\u53ef\u4ee5\u5c06\u591a\u4e2a\u7c7b\u578b\u7684\u591a\u4e2a\u503c\u653e\u5728\u4e00\u4e2a\u7c7b\u578b\u91cc\u3002</p> <p>\u5143\u7ec4\u7684\u957f\u5ea6\u662f\u56fa\u5b9a\u7684\uff0c\u4e00\u65e6\u58f0\u660e\u5c31\u65e0\u6cd5\u6539\u53d8\u3002</p> <ul> <li>\u5143\u7ec4\u7684\u58f0\u660e\u5f62\u5f0f\uff1a <code>(\u7c7b\u578b1, \u7c7b\u578b2, ...)</code>;</li> <li>\u5143\u7ec4\u7684\u8d4b\u503c\u5f62\u5f0f\uff1a <code>(\u503c1, \u503c2, ...)</code>;</li> <li>\u5143\u7ec4\u7684\u8bbf\u95ee\u5f62\u5f0f\uff1a <code>\u5143\u7ec4\u540d\u79f0.\u4e0b\u6807</code>\uff0c\u4f7f\u7528 <code>.</code> \u8fd0\u7b97\u7b26\u3002</li> </ul> <p>Example</p> <pre><code>fn main() {\n    let tup: (i32, f64, u8) = (100, 3.14, 5);\n    println!(\"{}, {}, {}\", tup.0, tup.1, tup.2);\n}\n</code></pre> <p>\u5143\u7ec4\u53ef\u4ee5\u88ab\u89e3\u6784\uff0c\u4f8b\u5982:</p> <pre><code>let tup: (i32, f64, u8) = (100, 3.14, 5);\nlet (x, y, z) = tup;\n</code></pre>"},{"location":"Rust/Basic/2.1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_11","title":"\u6570\u7ec4","text":"<p>\u6570\u7ec4\u662f\u4e00\u7ec4 \u6709\u5e8f\u7684\uff0c\u53ef\u53d8\u7684 \u5143\u7d20\u7684\u96c6\u5408\u3002</p> <p>\u6570\u7ec4\u4e2d\u7684\u503c\u7c7b\u578b\u5fc5\u987b\u76f8\u540c\u3002</p> <p>\u6570\u7ec4\u7684\u957f\u5ea6\u662f\u56fa\u5b9a\u7684\uff0c\u4e00\u65e6\u58f0\u660e\u5c31\u65e0\u6cd5\u6539\u53d8\u3002</p> <ul> <li>\u6570\u7ec4\u7684\u58f0\u660e\u5f62\u5f0f: <code>[\u7c7b\u578b; \u957f\u5ea6]</code>;</li> <li>\u6570\u7ec4\u7684\u8d4b\u503c\u5f62\u5f0f: <code>[\u503c1, \u503c2, ...]</code>;</li> <li>\u6570\u7ec4\u7684\u8bbf\u95ee\u5f62\u5f0f: <code>\u6570\u7ec4[\u4e0b\u6807]</code>\uff0c\u4f7f\u7528 <code>[]</code> \u8fd0\u7b97\u7b26\u3002</li> </ul> <p>Example</p> <pre><code>let a:[i64; 5] = [1, 2, 3, 4, 5];\n</code></pre> <p>\u5f53\u6570\u7ec4\u4e0b\u6807\u8d8a\u754c\u65f6\uff0cRust \u7f16\u8bd1\u5668\u53ef\u4ee5\u68c0\u67e5\u51fa\u7b80\u5355\u60c5\u51b5\uff0c\u4f46\u662f\u590d\u6742\u60c5\u51b5\u5c31\u68c0\u67e5\u4e0d\u4e86\u3002</p> <p>\u4e00\u65e6\u6570\u7ec4\u4e0b\u6807\u8d8a\u754c\uff0c\u8fd0\u884c\u65f6\u4f1a\u62a5\u9519\u3002\uff08runtime \u4f1a panic\uff09</p> <p>\u7b80\u5355\u60c5\u51b5\uff0c\u7f16\u8bd1\u5668\u80fd\u68c0\u67e5\u51fa\u6765\uff1a </p><pre><code>fn main() {\n    let arr: [i32; 5] = [10, 11, 12, 13, 14];\n\n    let index = 10;\n    let elem = arr[index];  // \u8fd9\u79cd\u60c5\u51b5\u7f16\u8bd1\u5668\u662f\u80fd\u68c0\u67e5\u51fa\u6765\u7684\n}\n</code></pre><p></p> <p>\u590d\u6742\u60c5\u51b5\uff0c\u7f16\u8bd1\u5668\u4e5f\u65e0\u80fd\u4e3a\u529b\uff1a </p><pre><code>fn main() {\n    let arr: [i32; 5] = [10, 11, 12, 13, 14];\n\n    let index = [5, 7, 8];\n    let elem = arr[index[1]];   // \u8fd9\u79cd\u60c5\u51b5\u7f16\u8bd1\u5668\u68c0\u67e5\u4e0d\u51fa\u6765\u7684\uff0c\u8fd0\u884c\u65f6\u4f1a panic\n}\n</code></pre><p></p>"},{"location":"Rust/Basic/2.1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#vec","title":"Vec","text":"<p>\u5411\u91cf\u662f\u4e00\u7ec4 \u6709\u5e8f\u7684\uff0c\u53ef\u53d8\u7684 \u5143\u7d20\u7684\u96c6\u5408\u3002</p> <p>\u5411\u91cf\u53ef\u4ee5\u76f4\u63a5\u548c\u6570\u7ec4\u6bd4\u8f83</p> <p>\u5411\u91cf\u6709\u4ee5\u4e0b4\u4e2d\u521b\u5efa\u65b9\u5f0f\uff1a</p> <ol> <li><code>Vec::new()</code>: \u521b\u5efa\u7a7a\u7684 vec</li> <li><code>Vec::with_capacity()</code>: \u521b\u5efa\u7a7a\u7684 vec \u5e76\u6307\u5b9a\u5bb9\u91cf</li> <li><code>vec![], vec!(), vec!{}</code>: \u901a\u8fc7\u5b8f\u521b\u5efa\u5e76\u521d\u59cb\u5316 vec</li> <li><code>vec![v;n], vec!(v;n), vec!{v,n}</code>: \u521b\u5efa\u5e76\u521d\u59cb\u5316 vec,\u5171n\u4e2a\u5143\u7d20\uff0c\u6bcf\u4e2a\u5143\u7d20\u90fd\u521d\u59cb\u5316\u4e3a v</li> </ol> <pre><code>fn main() {\n    let mut v1 = Vec:new();\n    v1.push(1); // \u8ffd\u52a0\u65f6\u6839\u636e\u5143\u7d20\u63a8\u5bfc v1 \u7684\u6570\u636e\u7c7b\u578b\u4e3a Vec&lt;i32&gt;\n    v1.push(2);\n    v1.push(3);\n    v1.push(4);\n    assert_eq!(v1, [1, 2, 3, 4])    // vec \u53ef\u4ee5\u76f4\u63a5\u548c\u6570\u7ec4\u6bd4\u8f83\n\n    let v2 = Vec::with_capacity(10);\n    let v3 = vec![1, 2, 3, 4];\n\n    let v3 = vec![3; 4];    // \u7b49\u4ef7\u4e8e vec![3, 3, 3, 3]\n    let v3 = vec!(3; 4);    // \u7b49\u4ef7\u4e8e vec!(3, 3, 3, 3)\n    let v3 = vec!{3; 4};    // \u7b49\u4ef7\u4e8e vec!{3, 3, 3, 3}\n}\n</code></pre> <p>\u5411\u91cf\u6709\u591a\u79cd\u8bbf\u95ee\u5143\u7d20\u7684\u65b9\u5f0f\uff1a</p> <ol> <li><code>v[\u4e0b\u6807]</code>: \u4e2d\u62ec\u53f7\u8fd0\u7b97\u7b26\u7684\u65b9\u5f0f\u3002\u8fd9\u79cd\u65b9\u5f0f\u5f53\u4e0b\u6807\u8d8a\u754c\u65f6\u5c06==\u4f1a== panic</li> <li><code>v.get(\u4e0b\u6807)</code>: get \u65b9\u6cd5\uff0c\u8fd9\u79cd\u8fd4\u56de vec \u4e2d\u6307\u5b9a\u4e0b\u6807\u5143\u7d20\u7684\u4e0d\u53ef\u53d8\u5f15\u7528\uff0c\u4e0b\u6807\u8d8a\u754c\u65f6==\u4e0d\u4f1a== panic\uff0c\u4f1a\u8fd4\u56de None</li> <li><code>v.get_mut(\u4e0b\u6807)</code>: get \u65b9\u6cd5\uff0c\u8fd9\u79cd\u8fd4\u56de vec \u4e2d\u6307\u5b9a\u4e0b\u6807\u5143\u7d20\u7684\u53ef\u53d8\u5f15\u7528\uff0c\u4e0b\u6807\u8d8a\u754c\u65f6==\u4e0d\u4f1a== panic\uff0c\u4f1a\u8fd4\u56de None</li> <li><code>v.pop()</code>: pop \u65b9\u6cd5\uff0c\u968f\u673a\u8fd4\u56de\u4e00\u4e2a\u5e76\u79fb\u9664\u5143\u7d20</li> </ol> <pre><code>fn main() {\n    let v = vec![1, 2, 3, 4];\n    let n: usize = 3;\n\n    // \u4f7f\u7528\u4e2d\u62ec\u53f7\u8fd0\u7b97\u7b26\u8bbf\u95ee\uff0c\u4e0b\u6807\u8d8a\u754c\u65f6\u4f1a panic\n    println!(\"{}, {}\", v[0], v[n]);\n    // println!(\"{}\", v[9]);\n\n    // \u4f7f\u7528 get \u65b9\u6cd5\n    println!(\"{}\", v.get(0));\n\n    // \u4f7f\u7528 get_mut \u65b9\u6cd5\n    println!(\"{}\", v.get_mut(0));\n}\n</code></pre> <p>\u904d\u5386 vec\uff1a </p><pre><code>fn main() {\n    let v = vec![1, 2, 3, 4];\n\n    for i in &amp;v { .. }      // \u83b7\u5f97\u5f15\u7528\n    for i in &amp;mut v { .. }  // \u83b7\u5f97\u53ef\u53d8\u5f15\u7528\n    for i in v { .. }       // \u83b7\u5f97\u6240\u6709\u6743\uff0c\u6b64\u65f6v\u7684\u6240\u6709\u6743\u5c06\u4f1a\u53d8\u52a8\n}\n</code></pre><p></p>"},{"location":"Rust/Basic/2.1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#range","title":"Range","text":"<p>Range \u662f rust \u7684\u4e00\u79cd\u8bed\u6cd5\uff0c\u4f7f\u7528 <code>..</code> \u64cd\u4f5c\u7b26\u3002</p> <p>Example</p> example1example2 <p></p><pre><code>fn main() {\n    for i in 'a'..='e' {\n        println!(\"{}\",i);\n    }\n}\n</code></pre> Output: <pre><code>a\nb\nc\nd\ne\n</code></pre><p></p> <p></p><pre><code>fn main() {\n    for elem in (1..4).rev() {\n        println!(\"{}\", elem);\n    }\n    println!(\"Lift Off!\");\n}\n</code></pre> Output:  <pre><code>3\n2\n1\nLift Off!\n</code></pre><p></p> expression type range start..end std::ops::Range start &lt;= x &lt;  end start.. std::ops::RangeFrom start &lt;= x &lt;= end \u00a0\u00a0\u00a0\u00a0\u00a0..end std::ops::RangeTo \u00a0\u00a0\u00a0\u00a00 &lt;= x &lt;  end \u00a0\u00a0\u00a0\u00a0\u00a0.. std::ops::RangeFull \u00a0\u00a0\u00a0\u00a00 &lt;= x &lt;= end start..=end std::ops::RangeInclusive start &lt;= x &lt;= end \u00a0\u00a0\u00a0\u00a0\u00a0..=end std::ops::RangeToInclusive \u00a0\u00a0\u00a0\u00a00 &lt;= x &lt;= end <pre><code>let arr = [0, 1, 2, 3, 4];\nassert_eq!(arr[ ..  ], [0, 1, 2, 3, 4]);\nassert_eq!(arr[ .. 3], [0, 1, 2      ]);\nassert_eq!(arr[ ..=3], [0, 1, 2, 3   ]);\nassert_eq!(arr[1..  ], [   1, 2, 3, 4]);\nassert_eq!(arr[1.. 3], [   1, 2      ]);\nassert_eq!(arr[1..=3], [   1, 2, 3   ]);\n</code></pre>"},{"location":"Rust/Basic/2.2-%E5%AD%97%E7%AC%A6%E4%B8%B2/","title":"2.2-\u5b57\u7b26\u4e32","text":""},{"location":"Rust/Basic/2.2-%E5%AD%97%E7%AC%A6%E4%B8%B2/#_1","title":"\u5b57\u7b26\u4e32","text":"<p>Rust \u5b57\u7b26\u4e32\u7684\u5206\u591a\u79cd\uff1a</p> <ol> <li>\u8bed\u8a00\u7ea7\u522b <code>str</code>\uff0c\u901a\u5e38\u4ee5\u5f15\u7528\u7c7b\u578b\u51fa\u73b0 <code>&amp;str</code>\uff0c \u4e0d \u5177\u5907\u6240\u6709\u6743\uff0c\u4e14 \u4e0d \u53ef\u53d8\uff08\u65e0\u6cd5\u88ab\u4fee\u6539\uff09\uff1b</li> <li>\u6807\u51c6\u5e93\u7684\u5b9e\u73b0\uff0c\u5982\uff1a<ul> <li>\u4f7f\u7528\u6700\u5e7f\u6cdb\u7684 <code>String</code>\uff0c\u5177\u6709\u6240\u6709\u6743\u3001\u4e14 \u53ef\u53d8\uff1b</li> <li>\u8fd8\u6709 <code>OsString</code>\u3001<code>OsStr</code>\u3001<code>CsString</code>\u3001<code>CsStr</code> \u8fd9\u4e9b\u3002</li> </ul> </li> </ol> <p>\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u662f\u5207\u7247\u5f15\u7528\u3002</p> <p>\u4e5f\u5c31\u662f\u8bf4\uff1a </p><pre><code>let s1 = \"Hello\uff0c Boii!\"; // s1 \u7c7b\u578b\u4e3a &amp;str\n</code></pre><p></p> <p>\u7b49\u4ef7\u4e8e\uff1a </p><pre><code>let s1: &amp;str = \"Hello, Boii!\";\n</code></pre><p></p> <p>Rust \u4e2d\u5b57\u7b26\u662f Unicode \u7f16\u7801\uff0c\u6bcf\u4e2a\u5b57\u7b26\u56fa\u5b9a\u5360 4 \u4e2a\u5b57\u8282\u3002\u4f46\u662f\u5b57\u7b26\u4e32\u662f UTF-8 \u7f16\u7801\uff0c\u8fd9\u662f\u4e00\u79cd\u53d8\u957f\u7f16\u7801\uff0c\u5b57\u7b26\u4e32\u7684\u6bcf\u4e2a\u5b57\u7b26\u6240\u5360\u5b57\u8282\u6570\u5728 1~4 \u5b57\u8282\u4e4b\u95f4\u3002</p>"},{"location":"Rust/Basic/2.2-%E5%AD%97%E7%AC%A6%E4%B8%B2/#string-str","title":"String \u4e0e str \u8f6c\u6362","text":"<ul> <li> <p>String \u8f6c str\uff0c\u53d6\u5f15\u7528\u5373\u53ef     </p><pre><code>fn main() {\n    let s: String = String::from(\"Hello, Boii\");\n    let s1: &amp;str = &amp;s;         // \u7b2c\u4e00\u79cd\u65b9\u5f0f\n    let s2: &amp;str = &amp;s[..];     // \u7b2c\u4e8c\u79cd\u65b9\u5f0f\n    let s3: &amp;str = s.as_str(); // \u7b2c\u4e09\u79cd\u65b9\u5f0f\n}\n</code></pre>     \u8fd9\u79cd\u7075\u6d3b\u7684\u7528\u6cd5\u662f\u56e0\u4e3a <code>Deref</code> \u8fd9\u4e2a trait \u9690\u5f0f\u5f3a\u5236\u8f6c\u6362\u4e86\u3002<p></p> </li> <li> <p>str \u8f6c String     </p><pre><code>fn main() {\n    let s1: String = \"Hello, Boii\".to_string();     // \u7b2c\u4e00\u79cd\u65b9\u5f0f\n    let s2: String = String::from(\"Hello, Boii\");   // \u7b2c\u4e8c\u79cd\u65b9\u5f0f\n}\n</code></pre><p></p> </li> </ul>"},{"location":"Rust/Basic/2.2-%E5%AD%97%E7%AC%A6%E4%B8%B2/#_2","title":"\u5b57\u7b26\u4e32\u64cd\u4f5c","text":""},{"location":"Rust/Basic/2.2-%E5%AD%97%E7%AC%A6%E4%B8%B2/#pushpush_str","title":"\u8ffd\u52a0 push\u3001push_str","text":"<ul> <li>\u5728\u539f\u6709\u5b57\u7b26\u4e32\u4e0a\u8ffd\u52a0\uff0c\u8981\u6c42 \u53ef\u53d8\uff0c\u6240\u4ee5\u5b57\u7b26\u4e32\u53d8\u91cf\u9700\u52a0 <code>mut</code> \u5173\u952e\u5b57\u3002</li> </ul> <pre><code>let mut s = String::from(\"Hello, Boii\");\ns.push('!');\nprintln!(\"\u8ffd\u52a0\u5b57\u7b26 push() -&gt; {}\", s);\n\ns.push_str(\" and Eva\");\nprintln!(\"\u8ffd\u52a0\u5b57\u7b26\u4e32 push_str() -&gt; {}\", s);\n</code></pre> Output: <pre><code>\u8ffd\u52a0\u5b57\u7b26 push() -&gt; Hello, Boii!\n\u8ffd\u52a0\u5b57\u7b26\u4e32 push_str() -&gt; Hello, Boii! and Eva\n</code></pre>"},{"location":"Rust/Basic/2.2-%E5%AD%97%E7%AC%A6%E4%B8%B2/#insertinsert_str","title":"\u63d2\u5165 insert\u3001insert_str","text":"<ul> <li>\u5728\u539f\u6709\u5b57\u7b26\u4e32\u4e0a\u8ffd\u52a0\uff0c\u8981\u6c42 \u53ef\u53d8\uff0c\u6240\u4ee5\u5b57\u7b26\u4e32\u53d8\u91cf\u9700\u52a0 <code>mut</code> \u5173\u952e\u5b57\u3002</li> </ul> <pre><code>let mut s = String::from(\"Hello, Boii\");\ns.insert(5, '~');\nprintln!(\"\u63d2\u5165\u5b57\u7b26 insert() -&gt; {}\", s);\n\ns.insert_str(8, \" Mr. \");\nprintln!(\"\u63d2\u5165\u5b57\u7b26\u4e32 insert_str() -&gt; {}\", s);\n</code></pre> Output: <pre><code>\u63d2\u5165\u5b57\u7b26 insert() -&gt; Hello~, Boii\n\u63d2\u5165\u5b57\u7b26\u4e32 insert_str() -&gt; Hello~, Mr. Boii\n</code></pre>"},{"location":"Rust/Basic/2.2-%E5%AD%97%E7%AC%A6%E4%B8%B2/#replacereplacenreplace_range","title":"\u66ff\u6362 replace\u3001replacen\u3001replace_range","text":"<ol> <li> <p>replace(old, new)\uff0c</p> <ul> <li>\u8be5\u65b9\u6cd5\u4f1a\u66ff\u6362 \u6240\u6709 \u5339\u914d\u5230\u7684\u5b57\u7b26\u4e32\uff1b</li> <li>\u8fd4\u56de \u65b0\u5b57\u7b26\u4e32\uff0c \u4e0d \u8981\u6c42\u53ef\u53d8\u3002</li> </ul> <p></p><pre><code>let s = String::from(\"I like rust. rust is the best language.\");\nlet s1 = s.replace(\"rust\", \"RUST\")\ndbg!(s1);\n</code></pre> Output: <pre><code>s1 = \"I like RUST. RUST is the best language.\"\n</code></pre><p></p> </li> <li> <p>replacen(old, new, num)</p> <ul> <li>\u8be5\u65b9\u6cd5\u4f1a\u66ff\u6362 \u524d num \u4e2a \u5339\u914d\u5230\u7684\u5b57\u7b26\u4e32\uff1b</li> <li>\u8fd4\u56de \u65b0\u5b57\u7b26\u4e32\uff0c \u4e0d \u8981\u6c42\u53ef\u53d8\u3002</li> </ul> <p></p><pre><code>let s = String::from(\"I like rust. rust is the best language.\");\nlet s1 = s.replace(\"rust\", \"RUST\", 1)\ndbg!(s1);\n</code></pre> Output: <pre><code>s1 = \"I like RUST. rust is the best language.\"\n</code></pre><p></p> </li> <li> <p>replace_range(range, new)</p> <ul> <li>\u8be5\u65b9\u6cd5\u4f1a\u5c06\u6307\u5b9a\u7684\u8303\u56f4\u5185\u7684\u5b57\u7b26\u66ff\u6362\u6210\u65b0\u5b57\u7b26\u4e32\uff1b</li> <li>\u5728 \u539f\u6709\u5b57\u7b26\u4e32 \u4e0a\u4fee\u6539\uff0c\u8981\u6c42\u53ef\u53d8\uff0c\u6240\u4ee5\u5b57\u7b26\u4e32\u53d8\u91cf\u9700\u52a0 <code>mut</code> \u5173\u952e\u5b57\u3002</li> </ul> <p></p><pre><code>let mut s = String::from(\"I like rust. rust is the best language.\");\ns.replace_range(7..11, \"Golang\");\ndbg!(&amp;s);\n\ns.replace_range(7.., \"Rust\");\ndbg!(&amp;s);\n</code></pre> Output: <pre><code>&amp;s = \"I like Golang. rust is the best language.\"\n&amp;s = \"I like Rust\"\n</code></pre><p></p> </li> </ol>"},{"location":"Rust/Basic/2.2-%E5%AD%97%E7%AC%A6%E4%B8%B2/#popdeletetruncateclear","title":"\u5220\u9664 pop\u3001delete\u3001truncate\u3001clear","text":"<ol> <li> <p>pop()</p> <ul> <li>\u5220\u9664 \u5e76 \u8fd4\u56de \u88ab\u5220\u9664\u7684\u5b57\u7b26\uff1b</li> <li>\u5728 \u539f\u6709\u5b57\u7b26\u4e32 \u4e0a\u4fee\u6539\uff0c\u8981\u6c42\u53ef\u53d8\uff0c\u6240\u4ee5\u5b57\u7b26\u4e32\u53d8\u91cf\u9700\u52a0 <code>mut</code> \u5173\u952e\u5b57\uff1b</li> <li>\u56e0\u4e3a\u6709\u8fd4\u56de\u503c\uff0c\u4e3a Option \u7c7b\u578b\uff0c\u5982\u679c\u5b57\u7b26\u4e32\u4e3a\u7a7a\u5219\u8fd4\u56de None\u3002</li> </ul> <p></p><pre><code>let mut s = String::from(\"Rust pop \u4e2d\u6587\uff01\");\nlet p1 = s.pop();\nlet p2 = s.pop();\n\ndbg!(p1);\ndbg!(p2);\ndbg!(s);\n</code></pre> Output: <pre><code>p1 = Some(\n    '\uff01',\n)\np2 = Some(\n    '\u6587',\n)\ns = \"Rust pop \u4e2d\"\n</code></pre><p></p> </li> <li> <p>remove(index)</p> <ul> <li>\u5220\u9664 \u5e76 \u8fd4\u56de\u5b57\u7b26\u4e32\u7684 \u88ab\u5220\u9664\u7684\u5b57\u7b26\uff1b</li> <li>\u5728 \u539f\u6709\u5b57\u7b26\u4e32 \u4e0a\u4fee\u6539\uff0c\u8981\u6c42\u53ef\u53d8\uff0c\u6240\u4ee5\u5b57\u7b26\u4e32\u53d8\u91cf\u9700\u52a0 <code>mut</code> \u5173\u952e\u5b57\uff1b</li> <li>\u56e0\u4e3a\u6709\u8fd4\u56de\u503c\uff0c\u4e3a char \u7c7b\u578b\uff1b\u5982\u679c\u5b57\u7b26\u4e32\u4e3a\u7a7a\u4e32\uff0c\u8c03\u7528 remove \u4f1a\u53d1\u751f\u8fd0\u884c\u65f6\u9519\u8bef\u3002</li> <li>\u5982\u679c index \u4e0d\u662f\u5408\u6cd5\u7684\u5b57\u7b26\u8fb9\u754c\uff0c\u4f1a\u53d1\u751f\u9519\u8bef\u3002</li> </ul> <p></p><pre><code>let mut s = String::from(\"\u6d4b\u8bd5\u4e00\u4e0b remove \u65b9\u6cd5\");\nlet p1 = s.remove(0);\n// let p2 = s.remove(1);    // \u6d4b\u662f\u4e2d\u6587\uff0c\u5360 3 \u4e2a\u5b57\u8282 0, 1, 2, \u6240\u4ee5 1 \u4e0d\u662f\u5408\u6cd5\u7684\u5b57\u7b26\u8fb9\u754c\uff0c\u8fd9\u91cc\u4f1a\u62a5\u9519\nlet p3 = s.remove(3);\n\ndbg!(p1);\ndbg!(p3);\ndbg!(s);\n</code></pre> Output: <pre><code>p1 = '\u6d4b'\np3 = '\u4e00'\ns = \"\u8bd5\u4e0b remove \u65b9\u6cd5\"\n</code></pre><p></p> </li> <li> <p>truncate(index)</p> <ul> <li>\u5220\u9664\u5b57\u7b26\u4e32\u4e2d \u4ece\u6307\u5b9a\u4f4d\u7f6e\u5f00\u59cb\u5230\u7ed3\u5c3e\u7684\u5168\u90e8\u5b57\u7b26\uff1b</li> <li>\u5728 \u539f\u6709\u5b57\u7b26\u4e32 \u4e0a\u4fee\u6539\uff0c\u8981\u6c42\u53ef\u53d8\uff0c\u6240\u4ee5\u5b57\u7b26\u4e32\u53d8\u91cf\u9700\u52a0 <code>mut</code> \u5173\u952e\u5b57\uff1b</li> <li>\u6ca1\u6709\u8fd4\u56de\u503c\uff1b\u5982\u679c\u5b57\u7b26\u4e32\u4e3a\u7a7a\u4e32\uff0c\u4e5f\u4e0d\u4f1a\u53d1\u751f\u9519\u8bef\u3002</li> <li>\u5982\u679c index \u4e0d\u662f\u5408\u6cd5\u7684\u5b57\u7b26\u8fb9\u754c\uff0c\u4f1a\u53d1\u751f\u9519\u8bef\u3002</li> </ul> <p></p><pre><code>let mut s = String::from(\"\u6d4b\u8bd5 truncate\");\ns.truncate(3);\ndbg!(s);\n</code></pre> Output: <pre><code>s = \"\u6d4b\"\n</code></pre><p></p> </li> <li> <p>clear()</p> <ul> <li>\u6e05\u7a7a\u5b57\u7b26\u4e32\uff1b</li> <li>\u5728 \u539f\u6709\u5b57\u7b26\u4e32 \u4e0a\u4fee\u6539\uff0c\u8981\u6c42\u53ef\u53d8\uff0c\u6240\u4ee5\u5b57\u7b26\u4e32\u53d8\u91cf\u9700\u52a0 <code>mut</code> \u5173\u952e\u5b57\uff1b</li> <li>\u76f8\u5f53\u4e8e <code>truncate(0)</code>.</li> </ul> <p></p><pre><code>let s = String::from(\"clear string\");\ns.clear();\ndbg!(s);\n</code></pre> Output: <pre><code>s = \"\"\n</code></pre><p></p> </li> </ol>"},{"location":"Rust/Basic/2.2-%E5%AD%97%E7%AC%A6%E4%B8%B2/#_3","title":"\u8fde\u63a5\u5b57\u7b26\u4e32","text":"<ol> <li> <p>\u4f7f\u7528 <code>+</code> \u6216 <code>+=</code> \u8fde\u63a5</p> <p>\u4f7f\u7528 <code>+</code> \u64cd\u4f5c\u7b26\u65f6\u76f8\u5f53\u4e8e\u8c03\u7528 <code>std::string</code> \u6807\u51c6\u5e93\u4e2d\u7684 <code>add()</code> \u65b9\u6cd5\uff0c\u6240\u4ee5\u8981\u6c42\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff08\u5373 <code>+</code> \u64cd\u4f5c\u7b26\u53f3\u8fb9\u7684\u53d8\u91cf\uff09\u4e3a &amp;str \u7c7b\u578b\u3002</p> <p>\u4e0d\u8fc7 <code>+</code> \u548c <code>+=</code> \u90fd\u662f\u8fd4\u56de\u4e00\u4e2a \u65b0\u5b57\u7b26\u4e32\u3002</p> <p></p><pre><code>let s1 = String::from(\"Hello\");\nlet s2 = String::from(\"World!\");\nlet s3 = s1 + &amp;s2;\n\nlet mut s4 = s3 + \"!\";\ns4 += \"~~~\";\n\nprintln!(\"{}\", s4);\n</code></pre> Output: <pre><code>HelloWorld!!~~~\n</code></pre> 2. \u4f7f\u7528 <code>format!()</code> \u8fde\u63a5 <code>format!()</code> \u65b9\u5f0f\u9002\u7528\u4e8e <code>String</code> \u548c <code>&amp;str</code>\uff0c\u7528\u6cd5\u4e0e <code>println!()</code> \u7c7b\u4f3c\u3002<p></p> <p></p><pre><code>let s1 = String::from(\"Hello\");\nlet s2 = \"Boii!\";\nlet s  = format!(\"{} {}\", s1, s2);\n\nprintln!(\"{}\", s);\n</code></pre> Output: <pre><code>Hello Boii!\n</code></pre><p></p> </li> </ol>"},{"location":"Rust/Basic/2.2-%E5%AD%97%E7%AC%A6%E4%B8%B2/#_4","title":"\u5b57\u7b26\u4e32\u8f6c\u4e49","text":"<p>Rust \u53ef\u4ee5\u7528\u8fc7\u8f6c\u4e49\u7684\u65b9\u5f0f <code>\\</code> \u8f93\u51fa ASCII \u548c Unicode \u5b57\u7b26\u3002</p> \u8f6c\u4e49\u5341\u516d\u8fdb\u5236 ASCII\u8f6c\u4e49 Unicode\u6362\u884c\u4e86\u4e5f\u80fd\u8f6c\u4e49 <pre><code>fn main() {\n    let bs = \"I am learning about \\x52\\x75\\x73\\x74!\"\n    println!(\"{}\", bs);\n}\n</code></pre> <p>Output:</p> <pre><code>I am learning about Rust!\n</code></pre> <pre><code>fn main() {\n    let uc = \"\\u{211D}\";\n    println!(\"Unicode character {} (U+211D) is called DOUBLE-STRUCK CAPITAL R\", uc);\n}\n</code></pre> <p>Output:</p> <pre><code>Unicode character \u211d (U+211D) is called DOUBLE-STRUCK CAPITAL R\n</code></pre> <pre><code>fn main() {\n    let long_string = \"String literals\n                        can span multiple lines.\n                        The linebreak and indentation here -&gt;\\\n                        &lt;- can be escaped too!\";\n}\nprintln!(\"{}\", long_string);\n</code></pre> <p>Output:</p> <pre><code>String literals\n                        can span multiple lines.\n                        The linebreak and indentation here -&gt;&lt;- can be escaped too!\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u53d6\u6d88\u8f6c\u4e49\uff0c\u539f\u6837\u6253\u5370\u51fa\u6765</p> \u591a\u52a0\u4e00\u4e2a\u53cd\u659c\u6760r \u524d\u7f00 <pre><code>fn main() {\n    let s = \"hello \\\\x52\\\\x75\\\\x73\\\\x74\";\n    println!(\"{}\", s);\n}\n</code></pre> <p>Output:</p> <pre><code>hello \\x52\\x75\\x73\\x74\n</code></pre> <pre><code>fn main() {\n    let s = r\"Escapes don't work here: \\x3F \\u{211D}\";\n    println!(\"{}\", s);\n\n    // \u5982\u679c\u5b57\u7b26\u4e32\u5305\u542b\u53cc\u5f15\u53f7\uff0c\u53ef\u4ee5\u5728\u5f00\u5934\u548c\u7ed3\u5c3e\u52a0 #\n    let quotes = r#\" And then I said: \"There is no escape!\". \"#;\n    println!(\"{}\", quotes);\n\n    // \u5982\u679c\u8fd8\u662f\u6709\u6b67\u4e49\uff0c\u53ef\u4ee5\u7ee7\u7eed\u589e\u52a0\uff0c\u6ca1\u6709\u9650\u5236\n    let longer_delimiter = r###\" A string with \"# in it. And even \"##! \"###;\n    println!(\"{}\", longer_delimiter);\n}\n</code></pre> <p>Output:</p> <pre><code>Escapes don't work here: \\x3F \\u{211D}\n And then I said: \"There is no escape!\". \n A string with \"# in it. And even \"##! \n</code></pre>"},{"location":"Rust/Basic/2.2-%E5%AD%97%E7%AC%A6%E4%B8%B2/#utf-8","title":"\u64cd\u4f5c UTF-8 \u5b57\u7b26\u4e32","text":"\u904d\u5386 Unicode \u5b57\u7b26\u904d\u5386 Byte \u5b57\u8282 <pre><code>fn main() {\n    let s = \"\u4e2d\u56fd\u8bdd\";\n    for c in s.chars() {\n        println!(\"{}\", c);\n    }\n\n    let s2 = String::from(\"\u4e2d\u56fd\u8bdd\");\n    for c in s2.chars() {\n        println!(\"{}\", c);\n    }\n}\n</code></pre> <p>Output:</p> <pre><code>\u4e2d\n\u56fd\n\u8bdd\n\u4e2d\n\u56fd\n\u8bdd\n</code></pre> <pre><code>fn main() {\n    for b in \"\u4e2d\u56fd\u4eba\".bytes() {\n        println!(\"{}\", b);\n    }\n}\n</code></pre> <p>Output:</p> <pre><code>228\n184\n173\n229\n155\n189\n228\n186\n186\n</code></pre>"},{"location":"Rust/Basic/3-%E5%87%BD%E6%95%B0/","title":"3-\u51fd\u6570","text":""},{"location":"Rust/Basic/3-%E5%87%BD%E6%95%B0/#_1","title":"\u51fd\u6570","text":"<p>\u51fd\u6570\u7684\u5f62\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>// \u5b9a\u4e49\u51fd\u6570\nfn \u51fd\u6570\u540d([\u5f62\u53c2: \u7c7b\u578b, \u5f62\u53c2: \u7c7b\u578b...]) [-&gt; \u8fd4\u56de\u503c\u7c7b\u578b] {\n    \u51fd\u6570\u4f53\n}\n\n// \u8c03\u7528\u51fd\u6570\n\u51fd\u6570\u540d(\u5b9e\u53c2)\n</code></pre> <pre><code>// \u65e0\u53c2\u65e0\u8fd4\u56de\u503c\nfn function_1() {\n}\n\n// \u6709\u53c2\u65e0\u8fd4\u56de\u503c\nfn function_2(arg: i32) {\n}\n\n// \u65e0\u53c2\u6709\u8fd4\u56de\u503c\nfn function_3() -&gt; i32 {\n}\n\n// \u6709\u53c2\u6709\u8fd4\u56de\u503c\nfn function_4(arg: i32) -&gt; i32 {\n}\n</code></pre> <ul> <li>\u5f62\u53c2\u7684\u7c7b\u578b\u4e0d\u80fd\u7701\u7565;</li> <li>\u51fd\u6570\u7684\u8fd4\u56de\u503c\u4e0d\u53ef\u4ee5\u547d\u540d;</li> <li>\u51fd\u6570\u7684\u8fd4\u56de\u503c\u5c31\u662f\u51fd\u6570\u4f53\u91cc\u6700\u540e\u4e00\u4e2a \u8868\u8fbe\u5f0f \u7684\u503c;</li> <li>\u53ef\u4ee5\u4f7f\u7528 <code>return</code> \u5173\u952e\u5b57\u663e\u5f0f\u7684\u8fd4\u56de;</li> </ul> <pre><code>// 5 \u662f\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0c\u6240\u4ee5\u8fd9\u91cc 5 \u662f\u51fd\u6570 five() \u7684\u8fd4\u56de\u503c\nfn five() -&gt; i32 {\n    5\n}\n\n// num + 1 \u6ca1\u6709\u5206\u53f7\uff0c\u4e5f\u662f\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0c\u5728\u8fd9\u91cc\u5c31\u662f\u51fd\u6570 add() \u7684\u8fd4\u56de\u503c\nfn add(num: i32) -&gt; i32 {\n    let x = 1;\n    num + 1\n}\n\nfn sub(num: i32) -&gt; i32 {\n    let x = 1;\n    return num - 1;\n}\n</code></pre> <p>Tip</p> <p>\u8868\u8fbe\u5f0f \u4e0e \u8bed\u53e5 \u533a\u522b\u5728\u4e8e\u6709\u6ca1\u6709\u5206\u53f7\u3002\u8868\u8fbe\u5f0f \u6ca1\u6709\u5206\u53f7\uff0c\u8bed\u53e5 \u6709\u3002</p> <p>Rust \u4e2d\u9ed8\u8ba4\u5c06\u6700\u540e\u4e00\u4e2a\u8868\u8fbe\u5f0f\u4f5c\u4e3a\u5757\uff08<code>{}</code> \u4e4b\u95f4\u79f0\u4e3a\u4e00\u4e2a\u5757\uff09\u7684\u8fd4\u56de\u503c\u3002</p> <p>\u4f8b\u5982\uff1a </p><pre><code>fn function() {\n    let res = {\n        let x = 1;\n        x + 10\n    };\n    println!(\"{}\", res);    // \u6253\u537011\n}\n</code></pre><p></p>"},{"location":"Rust/Basic/3-%E5%87%BD%E6%95%B0/#_2","title":"\u4e24\u79cd\u7279\u6b8a\u7684\u8fd4\u56de\u503c","text":""},{"location":"Rust/Basic/3-%E5%87%BD%E6%95%B0/#_3","title":"\u65e0\u8fd4\u56de\u503c <code>()</code>","text":"<p>\u5982\u679c\u4e00\u4e2a\u51fd\u6570\u6ca1\u6709\u8fd4\u56de\u503c\uff0c\u5176\u5b9e\u9ed8\u8ba4\u8fd4\u56de\u4e86\u4e00\u4e2a\u5355\u5143\u7c7b\u578b <code>()</code>\u3002</p> <p>\u4f8b\u5982\uff1a </p><pre><code>fn abc(a: i32) {\n    a = 1;\n}\n</code></pre><p></p> <p>\u5176\u5b9e\u7b49\u4ef7\u4e8e</p> <pre><code>fn abc(a: i32) -&gt; () {\n    a = 1;\n}\n</code></pre>"},{"location":"Rust/Basic/3-%E5%87%BD%E6%95%B0/#_4","title":"\u6c38\u4e0d\u8fd4\u56de <code>!</code>","text":"<p>\u5f53\u7528 <code>!</code> \u4f5c\u4e3a\u51fd\u6570\u8fd4\u56de\u503c\u65f6\uff0c\u8868\u793a\u8be5\u51fd\u6570\u6c38\u4e0d\u8fd4\u56de\uff0c\u8fd9\u79cd\u5728 Rust \u4e2d\u5b9a\u4e49\u4e3a <code>\u53d1\u6563\u51fd\u6570 diverge function</code>\u3002\u8fd9\u79cd\u8bed\u6cd5\u5f80\u5f80\u7528\u505a\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u5d29\u6e83\u7684\u51fd\u6570\u3002</p> <pre><code>fn dead() -&gt; ! {\n    panic!(\"\u4f60\u5b8c\u4e86\");\n}\n</code></pre> <p>\u4e0b\u9762\u8fd9\u79cd\u521b\u5efa\u4e00\u4e2a\u65e0\u9650\u5faa\u73af\u7684\u51fd\u6570\uff0c\u4e5f\u662f\u53d1\u6563\u51fd\u6570\uff0c\u56e0\u4e3a\u5979\u6c38\u4e0d\u8fd4\u56de\u3002 </p><pre><code>fn forever() -&gt; ! {\n    loop {\n        // ...\n    };\n}\n</code></pre><p></p>"},{"location":"Rust/Basic/4-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/","title":"4-\u6d41\u7a0b\u63a7\u5236","text":""},{"location":"Rust/Basic/4-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/#_1","title":"\u6d41\u7a0b\u63a7\u5236","text":""},{"location":"Rust/Basic/4-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/#_2","title":"\u5224\u65ad","text":"<pre><code>//\nif cond {\n    ...\n}\n\n//\nif cond {\n    ...\n} else {\n    ...\n}\n\n//\nif cond {\n    ...\n} else if {\n    ...\n}\n\n//\nif cond {\n    ...\n} else if {\n    ...\n} else {\n    ...\n}\n</code></pre> <p>\u5224\u65ad\u6761\u4ef6\u5fc5\u987b\u4e3a bool\u3002 0, \u7a7a\u5b57\u7b26\u4e32\uff0c null \u7b49\u4e0d\u80fd\u4f5c\u4e3a\u5224\u65ad\u6761\u4ef6\u3002</p> <p><code>if + else</code> \u662f\u4e00\u4e2a \u8868\u8fbe\u5f0f\uff0c\u53ef\u4ee5\u8d4b\u503c\u7ed9\u4e00\u4e2a\u53d8\u91cf\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u53ef\u4ee5\u8fd9\u4e48\u73a9\uff1a </p><pre><code>fn main() {\n    let x = 10;\n    let y = if x &gt; 10 { \"no\" } else { \"yes\" };\n}\n</code></pre> \u4f46\u662f\u8981\u6c42 if \u7684\u5757\u548c else \u7684\u5757\u8fd4\u56de\u503c\u7c7b\u578b\u76f8\u540c\u3002<p></p> <p>\u53cd\u4f8b\uff1a </p><pre><code>fn main() {\n    let y = if true { \"no\" } else { 6 };\n    // `if` and `else` have incompatible types. expected `&amp;str`, found integerrustc(E0308)\n}\n</code></pre><p></p> <p>\u6709\u4e86\u8fd9\u4e2a\u7279\u6027\uff0c\u5c31\u53ef\u4ee5\u8fd9\u6837\u5199 min() \u51fd\u6570\uff1a </p><pre><code>fn min(num1: i32, num2: i32) -&gt; i32 {\n    if num1 &lt; num2 { num1 } else { num2 }\n}\n</code></pre><p></p>"},{"location":"Rust/Basic/4-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/#_3","title":"\u5faa\u73af","text":"<pre><code>while cond {\n}\n\nloop {\n}\n\nfor elem in iterater {\n}\n</code></pre>"},{"location":"Rust/Basic/4-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/#while","title":"while","text":"<p>while \u5faa\u73af\u9700\u8981\u5e26\u4e0a\u6761\u4ef6\uff0c\u6bcf\u6b21\u8fdb\u884c\u5faa\u73af\u4e4b\u524d\u90fd\u9700\u8981\u5224\u65ad\u4e00\u4e0b\u6761\u4ef6\u662f\u5426\u4e3a true.</p> <pre><code>fn main() {\n    let mut count = 0;\n    while count &lt; 10 {\n        println!(\"{}\", count);\n        count = count + 1;\n    }\n}\n</code></pre>"},{"location":"Rust/Basic/4-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/#loop","title":"loop","text":"<p>loop \u4f1a\u4e00\u76f4\u5faa\u73af\uff0c\u76f4\u5230\u8fbe\u5230\u6761\u4ef6\u540e\u663e\u5f0f\u7684 break \u51fa\u53bb\u3002</p> <pre><code>fn main() {\n    let mut count = 0;\n    loop {\n        println!(\"{}\", count);\n        count += 1;\n        if count == 5 {\n            break;\n        }\n    }\n}\n\n// 0 1 2 3 4\n</code></pre> <p>break \u7684\u65f6\u5019\u53ef\u4ee5\u5e26\u4e0a\u503c\uff0c\u8fd9\u4e2a\u503c\u5c31\u4f5c\u4e3a loop \u5757\u7684\u8fd4\u56de\u503c\u3002\u90a3\u4e48\u53ef\u4ee5\u50cf\u4e0b\u9762\u8fd9\u4e48\u73a9\uff1a</p> <pre><code>fn main() {\n    let mut counter = 0;\n    let result = loop {\n        counter += 1;\n        if counter == 10 {\n            break counter * 2;\n        }\n    };\n\n    println!(\"{}\", result); // 20\n}\n</code></pre>"},{"location":"Rust/Basic/4-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/#for","title":"for","text":"<p>for \u5faa\u73af\u6700\u5e38\u7528\u3002</p> <pre><code>fn main() {\n    let arr = [0, 1, 2, 3, 4];\n    for elem in arr.iter() {\n        println!(\"{}\", elem);\n    }\n}\n</code></pre>"},{"location":"Rust/Basic/5-%E6%89%80%E6%9C%89%E6%9D%83/","title":"5-\u6240\u6709\u6743","text":""},{"location":"Rust/Basic/5-%E6%89%80%E6%9C%89%E6%9D%83/#_1","title":"\u6240\u6709\u6743","text":""},{"location":"Rust/Basic/5-%E6%89%80%E6%9C%89%E6%9D%83/#_2","title":"\u89e3\u51b3\u7684\u95ee\u9898","text":"<ul> <li>\u8ddf\u8e2a\u4ee3\u7801\u7684\u54ea\u4e9b\u90e8\u5206\u6b63\u5728\u4f7f\u7528 heap \u7684\u54ea\u4e9b\u6570\u636e</li> <li>\u6700\u5c0f\u5316 heap \u4e0a\u7684\u91cd\u590d\u6570\u636e</li> <li>\u6e05\u7406 heap \u4e0a\u672a\u4f7f\u7528\u7684\u6570\u636e\u4ee5\u907f\u514d\u7a7a\u95f4\u4e0d\u8db3</li> </ul>"},{"location":"Rust/Basic/5-%E6%89%80%E6%9C%89%E6%9D%83/#_3","title":"\u6240\u6709\u6743\u89c4\u5219","text":"<ul> <li>\u6bcf\u4e2a\u503c\u90fd\u6709\u4e00\u4e2a\u53d8\u91cf\uff0c\u8fd9\u4e2a\u53d8\u91cf\u662f\u8be5\u503c\u7684\u6240\u6709\u8005\uff08owner\uff09;</li> <li>\u6bcf\u4e2a\u503c\u540c\u65f6\u53ea\u80fd\u6709\u4e00\u4e2a\u6240\u6709\u8005;</li> <li>\u5f53\u6240\u6709\u8005\u8d85\u51fa\u4f5c\u7528\u57df\uff08scope\uff09\u65f6\uff0c\u8be5\u503c\u5c06\u88ab\u5220\u9664\u3002</li> </ul> \u4f5c\u7528\u57df <pre><code>fn main() {\n    let x = {               // x\u53ef\u7528\n        let a = 10;         // a \u53ef\u7528\n        println!(\"{}\", a);  // \u53ef\u4ee5\u5bf9 a \u8fdb\u884c\u76f8\u5173\u64cd\u4f5c\n\n    }; // a \u4f5c\u7528\u57df\u5230\u6b64\u7ed3\u675f\uff0ca\u4e0d\u518d\u53ef\u7528\uff0c\u4f46 x \u4f9d\u7136\u53ef\u7528\n\n    // x \u4f9d\u7136\u53ef\u7528\uff0c\u53ef\u4ee5\u5bf9 x \u8fdb\u884c\u76f8\u5173\u64cd\u4f5c\n}// x \u4f5c\u7528\u57df\u5230\u6b64\u7ed3\u675f\uff0c\u4e0d\u518d\u53ef\u7528\n</code></pre>"},{"location":"Rust/Basic/5-%E6%89%80%E6%9C%89%E6%9D%83/#_4","title":"\u6240\u6709\u6743\u53d8\u52a8","text":"<p>\u6240\u6709\u6743\u53d8\u52a8 \u4f1a\u53d1\u751f\u5728 2 \u79cd\u60c5\u51b5\u4e0b\uff1a</p> <ol> <li> <p>\u628a\u4e00\u4e2a\u503c\u8d4b\u7ed9\u53e6\u4e00\u4e2a\u53d8\u91cf\u65f6;     </p><pre><code>fn main() {\n    let a = String::from(\"Hello\");  // \u6b64\u65f6 a \u62e5\u6709\u4e86\u5b57\u7b26\u4e32 Hello \u8fd9\u4e2a\u503c\u7684\u6240\u6709\u6743\n    let b = a;                      // \u6b64\u65f6 b \u62e5\u6709\u4e86\u5b57\u7b26\u4e32 Hello \u8fd9\u4e2a\u503c\u7684\u6240\u6709\u6743\uff0c\u800c a \u5931\u53bb\u4e86\u6240\u6709\u6743\n    // \u5373\u5b57\u7b26\u4e32\u7684\u6240\u6709\u6743\u4ece a \u79fb\u52a8\u5230\u4e86 b\n\n    println!(\"{}\", a);  // \u4f1a\u62a5\u9519\n}\n</code></pre><p></p> </li> <li> <p>\u51fd\u6570\u4f20\u53c2\u548c\u8fd4\u56de</p> \u4f20\u53c2\u8fd4\u56de <pre><code>fn main() {\n    let s = String::from(\"Hello\");  // s \u62e5\u6709\u5b57\u7b26\u4e32 Hello \u7684\u6240\u6709\u6743\n    str_size(s);                    // \u4f20\u53c2\u540e\u5b57\u7b26\u4e32 Hello \u7684\u6240\u6709\u6743\u5c31\u79fb\u52a8\u5230\u4e86\u51fd\u6570\u7684\u53c2\u6570\u4e0a\n\n    // \u5230\u6b64\u5904 s \u5df2\u7ecf\u5931\u53bb\u5b57\u7b26\u4e32 Hello \u7684\u6240\u6709\u6743\u4e86\n    println!(\"{}\", s);  // \u4f1a\u62a5\u9519\n}\n\nfn str_size(arg :String) -&gt; usize {    // \u5b57\u7b26\u4e32 Hello \u7684\u6240\u6709\u6743\u88ab\u79fb\u52a8\u5230\u4e86 arg \u4e0a\n    let size = arg.len();\n    return size;\n}\n</code></pre> <pre><code>fn main() {\n    let s1 = String::from(\"Hello\"); // s1 \u62e5\u6709\u5b57\u7b26\u4e32 Hello \u7684\u6240\u6709\u6743\n    let s2 = add_str(s1);           // \u4f20\u53c2\u540e\u5b57\u7b26\u4e32 Hello \u7684\u6240\u6709\u6743\u5c31\u79fb\u52a8\u5230\u4e86\u51fd\u6570\u7684\u53c2\u6570\u4e0a\n    // \u51fd\u6570\u8fd4\u56de\u540e s2 \u83b7\u5f97\u4e86\u5b57\u7b26\u4e32\u957f\u5ea6\u7684\u6240\u6709\u6743\n}\n\nfn str_size(arg :String) -&gt; usize {    // \u5b57\u7b26\u4e32 Hello \u7684\u6240\u6709\u6743\u88ab\u79fb\u52a8\u5230\u4e86 arg \u4e0a\n    let size = arg.len();\n    return size;    // \u5b57\u7b26\u4e32\u957f\u5ea6\u8fd9\u4e2a\u503c\u4ece size \u8f6c\u79fb\u5230\u4e86\u8fd4\u56de\u503c\u4e0a\n}\n</code></pre> </li> </ol> <p>\u6240\u6709\u6743\u53d8\u52a8\u5206\u4e3a 2 \u79cd\u60c5\u51b5\uff1a <code>\u79fb\u52a8</code> \u548c <code>\u62f7\u8d1d</code>\u3002</p> <p></p> <p>\u6240\u6709\u7684\u53d8\u91cf\u90fd\u662f\u6808\u4e0a\u6570\u636e\u7684\u4e00\u4e2a\u522b\u540d\uff0c\u7b80\u5355\u6807\u91cf\u7c7b\u578b\u6570\u636e\u4fdd\u5b58\u5728\u6808\u4e0a\uff0c\u590d\u6742\u7c7b\u578b\u5219\u5728\u6808\u4e0a\u4fdd\u5b58\u4e00\u4efd\u6570\u636e\u7ed3\u6784\uff0c\u5b9e\u9645\u7684\u6570\u636e\u5b58\u653e\u5728\u5806\u4e0a\u3002</p> <p>\u5bf9\u4e8e\u6240\u6709\u6743\u7684\u53d8\u52a8\uff0c\u4e3b\u8981\u662f\u5728\u6808\u5230\u5806\u4e0a\u7684\u533a\u522b\u3002</p> <ol> <li> <p>\u79fb\u52a8 Move</p> <p>\u9ed8\u8ba4\u7684\u53d8\u52a8\u884c\u4e3a\u662f\uff1a\u79fb\u52a8 Move\u3002\u6240\u6709\u6743\u88ab\u79fb\u52a8\u540e\uff0c\u539f\u6765\u7684\u53d8\u91cf\u5c31\u4e0d\u80fd\u518d\u4f7f\u7528\u4e86\u3002</p> <p>\u5373\u6240\u6709\u6743\u88ab\u79fb\u52a8\u540e\uff0c\u539f\u5148\u7684\u53d8\u91cf\u5728\u6808\u4e0a\u7684\u6570\u636e\u7ed3\u6784\u5c31\u53d8\u56de\u672a\u521d\u59cb\u5316\u7684\u72b6\u6001\u3002 </p><pre><code>fn main() {\n    let a = String::from(\"Hello\");\n    let b = a;\n\n    // \u5b57\u7b26\u4e32 Hello \u7684\u6240\u6709\u6743\u5df2\u7ecf\u8f6c\u79fb\u5230\u4e86 b\uff0c\u6b64\u65f6\u4e0d\u80fd\u518d\u64cd\u4f5c a \u4e86\n    println!(\"{}\", a);  // borrow of moved value: `a` value borrowed here after move\n}\n</code></pre><p></p> </li> <li> <p>\u62f7\u8d1d Copy</p> <p>\u53e6\u5916\u4e00\u79cd\u53d8\u52a8\u884c\u4e3a\u662f\uff1a\u62f7\u8d1d Copy\u3002\u6240\u6709\u6743\u4e0d\u4f1a\u88ab\u8f6c\u79fb\uff0c\u800c\u662f\u628a\u503c\u62f7\u8d1d\u4e86\u4e00\u4efd\u3002</p> <p>\u5176\u5b9e\u5c31\u662f\u65b0\u7684\u53d8\u91cf\u548c\u539f\u6709\u7684\u53d8\u91cf\uff0c\u5728\u6808\u4e0a\u7684\u8fd9\u4e24\u4efd\u6570\u636e\u7ed3\u6784\uff0c\u5979\u4eec\u6307\u5411\u4e86\u540c\u4e00\u4efd\u5806\u4e0a\u7684\u6570\u636e\u3002</p> <pre><code>fn main() {\n    let a = 5;\n    let b = a;  // \u8fd9\u91cc b \u53ea\u662f\u62f7\u8d1d\u4e86\u4e00\u4efd 5\uff0ca \u4f9d\u7136\u6709\u6240\u6709\u6743\n\n    // \u6807\u91cf\u7c7b\u578b\u9ed8\u8ba4\u5b9e\u73b0\u4e86 Copy trait\uff0c\u6240\u4ee5\u5176\u6240\u6709\u6743\u53d8\u52a8\u884c\u4e3a\u662f Copy\n    println!(\"{}\uff0c {}\", a\uff0c b);  // a \u4f9d\u7136\u6709\u6240\u6709\u6743\uff0c\u53ef\u4ee5\u7ee7\u7eed\u64cd\u4f5c\n}\n</code></pre> </li> <li> <p>\u514b\u9686 Clone</p> <p>\u514b\u9686\u9700\u8981\u663e\u5f0f\u7684\u5b9e\u73b0 Clone trait\uff0c\u5e76\u4e14\u663e\u5f0f\u7684\u8c03\u7528 <code>.clone()</code> \u65b9\u6cd5\u3002</p> <p>\u514b\u9686\u4e0d\u4ec5\u6808\u4e0a\u6709\u65b0\u7684\u53d8\u91cf\u548c\u539f\u6709\u53d8\u91cf\u4e24\u4efd\u6570\u636e\uff0c\u800c\u4e14\u5806\u4e0a\u7684\u6570\u636e\u4e5f\u662f\u5404\u81ea\u4e00\u4efd\u3002</p> <p>\u514b\u9686\u4e0d\u4f1a\u5bfc\u81f4\u539f\u6709\u53d8\u91cf\u5931\u53bb\u6240\u6709\u6743\u3002\u56e0\u4e3a\u514b\u9686\u662f\u5b9e\u5b9e\u5728\u5728\u590d\u5236\u4e86\u4e00\u4efd\u3002</p> </li> </ol> <ul> <li>\u5982\u679c\u7c7b\u578b \u6ca1\u6709\u5b9e\u73b0 Copy trait\uff0c\u5219\u6240\u6709\u6743\u53d1\u751f\u8f6c\u79fb\u65f6\u6267\u884c\u7684\u662f\u79fb\u52a8 Move</li> <li>\u5982\u679c\u7c7b\u578b \u5b9e\u73b0\u4e86 Copy trait\uff0c\u5219\u6240\u6709\u6743\u53d1\u751f\u8f6c\u79fb\u65f6\u6267\u884c\u7684\u662f\u590d\u5236 Copy\uff08\u6d45\u62f7\u8d1d\uff09</li> <li>\u5982\u679c\u7c7b\u578b \u5b9e\u73b0\u4e86 Clone trait\uff0c\u5219\u663e\u793a\u8c03\u7528 .Clone() \u4f1a\u590d\u5236\u4e00\u4efd\u5806\u5185\u5b58\uff08\u6df1\u62f7\u8d1d\uff09</li> <li>\u5b9e\u73b0\u4e86 Clone trait\uff0c\u5728\u53d8\u91cf\u79bb\u5f00\u4f5c\u7528\u57df\u65f6\u4f1a\u81ea\u52a8\u8c03\u7528 Drop \u51fd\u6570</li> <li>\u5b9e\u73b0\u4e86 Copy trait \u5c31\u4e0d\u80fd\u5b9e\u73b0 Drop trait.</li> </ul> <p>\u5173\u4e8e Copy\uff1a</p> <ul> <li>\u4efb\u4f55\u7b80\u5355\u6807\u91cf\u7684\u7ec4\u5408\u7c7b\u578b\u90fd\u53ef\u4ee5\u662f Copy \u7684</li> <li>\u4efb\u4f55\u9700\u8981\u5206\u914d\u5185\u5b58\u6216\u67d0\u79cd\u8d44\u6e90\u7684\u90fd\u4e0d\u662f Copy \u7684</li> <li>\u4e00\u4e9b\u62e5\u6709 Copy trait \u7684\u7c7b\u578b\uff1a<ul> <li>\u6240\u6709\u6574\u6570\u7c7b\u578b\uff0c\u4f8b\u5982 i32, u64\u7b49</li> <li>\u6240\u6709\u6d6e\u70b9\u7c7b\u578b\uff0c\u4f8b\u5982 f32, f64</li> <li>bool</li> <li>char</li> <li>Tuple\uff08\u524d\u63d0\u662fTuple\u4e2d\u7684\u7c7b\u578b\u90fd\u662f Copy \u7684\uff09\uff0c\u4f8b\u5982 (i32, f64)</li> <li>\u5f15\u7528\uff0c\u4f8b\u5982 <code>let p1 = &amp;s; let p2 = p1;</code> p1 \u662f\u4e00\u4e2a\u5f15\u7528\uff0c\u8d4b\u503c\u7ed9 p2 \u7684\u65f6\u5019\u6267\u884c\u7684\u662f Copy\u3002</li> </ul> </li> </ul> <p>Note</p> <p>\u5982\u679c\u6ca1\u5b9e\u73b0 Copy trait\uff0c\u5219\u9ed8\u8ba4\u4e3a Move\u3002\u5982\u679c\u5b9e\u73b0\u4e86 Copy trait\uff0c\u5219\u9ed8\u8ba4\u4e3a Copy\u3002</p> <p>\u5b9e\u73b0\u4e86 Copy \u5c31\u4e0d\u80fd\u5b9e\u73b0 Drop\uff0c\u5b9e\u73b0\u4e86Clone \u5c31\u53ef\u4ee5\u5b9e\u73b0 Drop\u3002</p> <p>\u7b80\u5355\u6807\u91cf\u7c7b\u578b\u53ca\u5176\u7ec4\u5408\u9ed8\u8ba4\u5b9e\u73b0\u4e86 Copy trait\uff0c\u9ed8\u8ba4\u5206\u914d\u5728\u6808\u4e0a\u3002</p>"},{"location":"Rust/Basic/5-%E6%89%80%E6%9C%89%E6%9D%83/#_5","title":"\u501f\u7528","text":"<p>\u5728\u5176\u4ed6\u8bed\u8a00\u4e2d\uff0c\u51fd\u6570\u4f20\u53c2\u662f\u5c06\u503c\u590d\u5236\u4e86\u4e00\u4efd\u4f20\u9012\u8fc7\u53bb\uff0c\u6e90\u6570\u636e\u4f9d\u7136\u53ef\u4ee5\u7ee7\u7eed\u4f7f\u7528\u3002</p> <p>\u4f46\u662f Rust \u7684\u6240\u6709\u6743\u6982\u5ff5\u975e\u5e38\u4e25\u683c\uff0c\u4f20\u4e86\u53c2\u5c31\u5931\u53bb\u4e86\u6240\u6709\u6743\uff0c\u60f3\u8981\u518d\u6b21\u83b7\u53d6\u8fd8\u5f97\u51fd\u6570\u8fd4\u56de\u51fa\u6765\u3002</p> <p>\u6240\u4ee5\u4e3a\u4e86\u65b9\u4fbf\uff0c\u5728 Rust \u4e2d\u5c31\u6709\u4e86\u300c\u501f\u7528\u300d\u7684\u6982\u5ff5\u3002</p> <ul> <li>\u5f15\u7528 Reference \uff1a<code>&amp;</code> \u7b26\u53f7\u8868\u793a\u5f15\u7528\uff0c\u5141\u8bb8\u4f60\u5f15\u7528\u67d0\u4e9b\u503c\u800c\u4e0d\u53d6\u5f97\u5176\u6240\u6709\u6743\u3002\uff08\u5f15\u7528\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e5f\u4e0d\u53ef\u53d8\uff09</li> <li>\u501f\u7528 Borrow \uff1a\u628a\u5f15\u7528\u4f5c\u4e3a\u51fd\u6570\u53c2\u6570\u7684\u8fd9\u4e2a\u884c\u4e3a\uff0c\u5c31\u53eb\u505a\u501f\u7528\u3002</li> <li>\u501f\u7528\u5206\u4e3a \u5171\u4eab\u501f\u7528(\u4e0d\u53ef\u53d8\u5f15\u7528) \u548c \u72ec\u4eab\u501f\u7528(\u53ef\u53d8\u5f15\u7528)\u3002</li> </ul> <p>\u5171\u4eab\u501f\u7528\uff08\u4e0d\u53ef\u53d8\u5f15\u7528\uff09</p> <pre><code>fn main() {\n    let s = String::from(\"Hello\");\n    let l = getLen(&amp;s); // &amp;\u7b26\u53f7\u8868\u793a \u5f15\u7528 s\n    println!(\"{}'s length is {}\", s, l);\n}\n\nfn getLen(s: &amp;String) -&gt; usize {    // \u8fd9\u91cc\u501f\u7528\u4e86 s\n    s.len()\n}\n</code></pre> <p>\u72ec\u4eab\u501f\u7528\uff08\u53ef\u53d8\u5f15\u7528\uff09</p> <pre><code>fn main() {\n    let mut s = String::from(\"Hello\");      // \u9996\u5148\u6e90\u6570\u636e\u5f97\u662f\u53ef\u53d8\u7684\uff0c\u5f97\u52a0\u4e0a mut\n    let l = getLen(&amp;mut s);                 // \u7136\u540e\u5728\u5f15\u7528\u7684\u65f6\u5019\u4e5f\u9700\u8981\u58f0\u660e\u4e3a\u53ef\u53d8\u5f15\u7528\uff0c\u4e0d\u7136\u51fd\u6570\u91cc\u4f9d\u7136\u4e0d\u80fd\u4fee\u6539\n    println!(\"{}'s length is {}\", s, l);\n}\n\nfn getLen(s: &amp;mut String) -&gt; usize {    // \u6700\u540e\u5f62\u53c2\u4e5f\u5f97\u5bf9\u5e94\u4e0a\u53ef\u53d8\n    s.push_str(\", world\")\n    s.len()\n}\n</code></pre> <p>\u8981\u6ce8\u610f\u4e00\u4e2a\u6570\u636e\u4e0d\u53ef\u4ee5\u540c\u65f6\u88ab\u53ef\u53d8\u5f15\u7528\uff08\u72ec\u4eab\u501f\u7528\uff09\u4e24\u6b21\uff0c\u8fd9\u662f\u4e3a\u4e86\u9632\u6b62\u6570\u636e\u7ade\u4e89\u3002 </p><pre><code>fn main() {\n    let mut s = String::from(\"Hello\");\n    let r1 = &amp;mut s;\n    let r2 = &amp;mut s;    // \u8fd9\u91cc\u5c31\u62a5\u9519\u4e86\uff0c\u4e0d\u53ef\u4ee5\u5728\u540c\u4e00\u4f5c\u7528\u57df\u5185\u8fdb\u884c\u591a\u4efd\u53ef\u53d8\u501f\u7528\n    println!(\"{}'s length is {}\", s, l);\n}\n</code></pre> \u4f46\u662f\u53ef\u4ee5\u975e\u540c\u65f6\u7684\uff0c\u6216\u8005\u8bf4\u975e\u540c\u4e00\u4f5c\u7528\u57df\u5185\u8fdb\u884c\u591a\u4efd\u53ef\u53d8\u5f15\u7528 <pre><code>fn main() {\n    let mut s = String::from(\"Hello\");\n    {\n        let r1 = &amp;mut s;\n    }\n    let r2 = &amp;mut s;\n\n    // r1 \u548c r2 \u4e0d\u5728\u540c\u4e00\u4f5c\u7528\u57df\uff0c\u6240\u4ee5\u4e0d\u51b2\u7a81\u3002r1 \u5728\u79bb\u5f00\u4f5c\u7528\u57df\u5c31\u4f1a\u88ab\u6e05\u7406\n}\n</code></pre><p></p>"},{"location":"Rust/Basic/6-%E7%BB%93%E6%9E%84%E4%BD%93/","title":"6-\u7ed3\u6784\u4f53","text":""},{"location":"Rust/Basic/6-%E7%BB%93%E6%9E%84%E4%BD%93/#_1","title":"\u7ed3\u6784\u4f53","text":""},{"location":"Rust/Basic/6-%E7%BB%93%E6%9E%84%E4%BD%93/#named-struct","title":"\u547d\u540d\u7ed3\u6784\u4f53 named struct","text":"<p>named struct \u548c Golang \u7684 struct \u7c7b\u4f3c\u3002</p> <p>\u5b9a\u4e49\u7ed3\u6784\u4f53\uff1a </p><pre><code>struct \u7ed3\u6784\u4f53\u540d {\n    \u5b57\u6bb5\u540d: \u7c7b\u578b,\n    \u5b57\u6bb5\u540d: \u7c7b\u578b,\n    ......\n}\n</code></pre><p></p> <p>\u6784\u9020\u7ed3\u6784\u4f53\u5b9e\u4f8b\uff1a </p><pre><code>let \u5b9e\u4f8b\u540d = \u7ed3\u6784\u4f53\u540d{\n    \u5b57\u6bb5\u540d: \u503c,\n    \u5b57\u6bb5\u540d: \u503c,\n    ......\n}\n\nlet \u5b9e\u4f8b\u540d = \u7ed3\u6784\u4f53\u540d{\n    \u503c,\n    \u503c,\n    ......\n}\n\nlet \u5b9e\u4f8b\u540d2 = \u7ed3\u6784\u4f53\u540d{\n    \u5b57\u6bb5\u540d: \u503c,\n    \u5b57\u6bb5\u540d: \u503c,\n    ..\u5b9e\u4f8b\u540d1\n}\n</code></pre><p></p> <p>\u5b9e\u4f8b\u5316\u7ed3\u6784\u4f53\u65f6\uff0c\u53ef\u4ee5\u5199\u51fa\u5b57\u6bb5\uff0c\u8fd9\u6837\u8d4b\u503c\u53ef\u4ee5\u4e0d\u6309\u7167\u5b9a\u4e49\u65f6\u7684\u5b57\u6bb5\u7684\u987a\u5e8f\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u5199\u51fa\u5b57\u6bb5\uff0c\u4f46\u8fd9\u6837\u5fc5\u987b\u6309\u7167\u5b9a\u4e49\u65f6\u7684\u5b57\u6bb5\u987a\u5e8f\u3002</p> <p>\u9664\u6b64\u4e4b\u5916\u8fd8\u53ef\u4ee5\u4f7f\u7528 <code>..\u5176\u4ed6\u5b9e\u4f8b\u540d</code> \u7684\u65b9\u5f0f\u501f\u7528\u6216\u62f7\u8d1d\u5176\u4ed6\u5b9e\u4f8b\u5269\u4f59\u5b57\u6bb5\u7684\u503c\u3002</p> <p>Warning</p> <p>\u6ce8\u610f Rust \u7684\u7ed3\u6784\u4f53\u5728\u6784\u9020\u65f6\u9700\u7ed9\u6240\u6709\u5b57\u6bb5\u8d4b\u503c\u3002</p> <p>\u4f7f\u7528\u7b2c\u4e09\u79cd\u65b9\u5f0f\u7684\u65f6\u5019\uff0c\u5982\u679c\u88ab\u62f7\u8d1d\u7684\u5b9e\u4f8b\u7684\u5b57\u6bb5\u4e0d\u662f\u53ef\u62f7\u8d1d\u7684\uff0c\u90a3\u4e48\u5b83\u7684\u6240\u6709\u6743\u4f1a\u88ab\u79fb\u5230\u65b0\u7684\u7ed3\u6784\u4f53\u4e0a\u3002</p> <pre><code>struct Person{\n    name: String,\n    age u32,\n}\n\nfn main() {\n    let s1 = Person{\n        name: String::from(\"Boii\");\n        age: 18,\n    };\n\n    let s2 = Person{\n        ..s1\n    }\n    println!(\"{}\", s2.age);     // 18\n    println!(\"{}\", s2.name);    // Boii\n\n    println!(\"{}\", s1.age);     // age \u662f\u53ef\u62f7\u8d1d\u7684\uff0c\u6240\u4ee5 s1.age \u4e0d\u4f1a\u5931\u53bb\u6240\u6709\u6743\n    println!(\"{}\", s1.name);    // s1 \u7684 name \u5b57\u6bb5\u5df2\u7ecf\u88ab\u79fb\u5230 s2.name \u4e0a\u4e86\uff0c\u6240\u4ee5\u8fd9\u91cc s1.name \u5df2\u7ecf\u53d8\u6210\u4e3a\u521d\u59cb\u5316\u7684\u72b6\u6001\uff0c\u6253\u5370\u5979\u4f1a\u62a5\u9519\n}\n</code></pre> <p>\u5982\u679c\u4e0d\u5e0c\u671b s1 \u5931\u53bb\u6240\u6709\u6743\uff0c\u53ef\u4ee5\u4f7f\u7528 .clone()\u3002</p> <pre><code>fn main() {\n    let s1 = Person{\n        name: String::from(\"Boii\");\n        age: 18,\n    };\n\n    let s2 = Person{\n        ..s1.clone()    // \u4f7f\u7528\u514b\u9686\n    }\n    println!(\"{}\", s2.age);     // 18\n    println!(\"{}\", s2.name);    // Boii\n\n    println!(\"{}\", s1.age);     // age \u662f\u53ef\u62f7\u8d1d\u7684\uff0c\u6240\u4ee5 s1.age \u4e0d\u4f1a\u5931\u53bb\u6240\u6709\u6743\n    println!(\"{}\", s1.name);    // s1 \u7684 name \u5b57\u6bb5\u53ea\u662f\u88ab\u514b\u9686\uff0c\u6240\u4ee5\u8fd9\u91cc s1.name \u4f9d\u7136\u4e0d\u53d8\uff0c\u53ef\u4ee5\u6b63\u5e38\u4f7f\u7528\n}\n</code></pre>"},{"location":"Rust/Basic/6-%E7%BB%93%E6%9E%84%E4%BD%93/#tuple-struct","title":"\u5143\u7ec4\u7ed3\u6784\u4f53 tuple struct","text":"<p>\u9664\u4e86 named struct \u4e4b\u5916\uff0c Rust \u63d0\u4f9b\u4e86\u4e00\u79cd tuple struct \uff08\u5143\u7ec4\u7ed3\u6784\u4f53\uff09\uff0c\u975e\u5e38\u9002\u5408\u4e00\u4e9b\u5c11\u91cf\u5b57\u6bb5\u7684\u7ed3\u6784\u3002</p> <p>\u4f8b\u5982\u989c\u8272\u3001\u5750\u6807\uff1a </p><pre><code>struct Color(u8, u8, u8);\nstruct Point2d(f64, f64);\n</code></pre><p></p> <pre><code>let red = Color(0xFF, 0, 0);// \u8d4b\u503c\nlet Color(r, g, b) = red;   // \u89e3\u6784\n</code></pre>"},{"location":"Rust/Basic/6-%E7%BB%93%E6%9E%84%E4%BD%93/#unit-like-struct","title":"\u7a7a\u7ed3\u6784\u4f53 unit-like struct","text":"<p>\u7ed3\u6784\u4f53\u5185\u90e8\u53ef\u4ee5\u6ca1\u6709\u4efb\u4f55\u5b57\u6bb5\uff0c\u8fd9\u6837\u7684\u7ed3\u6784\u4f53\u5b9e\u4f8b\u5185\u5b58\u5360\u7528\u4e3a 0\uff0c\u4f46\u5b9a\u4e49\u540e\u9762\u4e0d\u53ef\u4ee5\u52a0\u5927\u62ec\u53f7\uff08\u9664\u4e861.9 nightly\uff09\u3002</p> <p>\u4f46\u6211\u4eec\u53ef\u4ee5\u5bf9\u7a7a\u7ed3\u6784\u4f53\u5b9e\u73b0\u5979\u7684\u6210\u5458\u51fd\u6570\u3002</p> <pre><code>struct emptySt;\n\nlet empty = emptySt;\n\nimpl someTrait for emptySt {\n    ...\n}\n</code></pre> <p>\u5f53\u6211\u4eec\u53ea\u60f3\u5173\u5fc3\u8be5\u7c7b\u578b\u7684\u884c\u4e3a\uff0c\u4e0d\u60f3\u5173\u5fc3\u8be5\u7c7b\u578b\u7684\u5185\u5bb9\u65f6\uff0c\u5c31\u975e\u5e38\u9002\u5408\u4f7f\u7528\u7a7a\u7ed3\u6784\u4f53\u3002</p>"},{"location":"Rust/Basic/6-%E7%BB%93%E6%9E%84%E4%BD%93/#struct","title":"struct \u7684\u65b9\u6cd5","text":"<p>\u5b9a\u4e49 struct \u65b9\u6cd5\u4f7f\u7528 <code>impl STRUCT_NAME{}</code>\uff0c\u5f62\u5f0f\u5982\u4e0b\uff1a </p><pre><code>impl STRUCT_NAME {\n    &lt;METHOD SET&gt;\n    ...\n}\n</code></pre><p></p> <p>Example</p> <pre><code>struct Person {\n    name: String,\n    age: u32,\n}\n\nimpl Person { // \u5b9a\u4e49\u7ed3\u6784\u4f53 Person \u7684\u65b9\u6cd5\n    fn get_name(&amp;self) -&gt; &amp;str {\n        &amp;self.name\n    }\n\n    fn get_age(&amp;self) -&gt; u32 {\n        self.age\n    }\n}\n\nfn main() {\n    let person = Person {\n        name: \"Boii\".to_string(),\n        age: 18,\n    };\n    println!(\"name: {:?}\", person.get_name());\n    println!(\"age:  {:?}\", person.get_age());\n}\n</code></pre>"},{"location":"Rust/Basic/6-%E7%BB%93%E6%9E%84%E4%BD%93/#impl-struct_name","title":"\u53ef\u4ee5\u5c06\u591a\u4e2a\u65b9\u6cd5\u5b9a\u4e49\u5728\u591a\u4e2a <code>impl STRUCT_NAME{}</code> \u5757\u4e2d","text":""},{"location":"Rust/Basic/6-%E7%BB%93%E6%9E%84%E4%BD%93/#selfselfmut-self","title":"self\u3001&amp;self\u3001&amp;mut self","text":"<ul> <li><code>self</code> \u8868\u793a\u7ed3\u6784\u4f53\u5b9e\u4f8b\u7684\u6240\u6709\u6743\u8f6c\u79fb\u5230\u8be5\u65b9\u6cd5\u4e2d\uff0c\u8fd9\u79cd\u5f62\u5f0f\u8f83\u5c11\uff0c\u56e0\u4e3a\u8fd9\u4f1a\u4f7f\u5f97\u8c03\u7528\u65b9\u6cd5\u540e\u5bf9\u8c61\u7acb\u5373\u6d88\u5931\u3002\u4f46\u6709\u65f6\u5019\u4e5f\u80fd\u6d3e\u4e0a\u573a\uff0c\u4f8b\u5982\u53ef\u7528\u4e8e\u66ff\u6362\u5bf9\u8c61\uff1a\u8c03\u7528\u65b9\u6cd5\u540e\u539f\u5bf9\u8c61\u6d88\u5931\uff0c\u4f46\u8fd4\u56de\u53e6\u4e00\u4e2a\u66ff\u6362\u540e\u7684\u5bf9\u8c61\u3002\uff1b</li> <li><code>&amp;self</code> \u8868\u793a\u8be5\u65b9\u6cd5\u5bf9\u7ed3\u6784\u4f53\u5b9e\u4f8b\u7684\u4e0d\u53ef\u53d8\u501f\u7528\uff1b\u9002\u7528\u4e8e getter\uff1b</li> <li><code>&amp;mut self</code> \u8868\u793a\u65b9\u6cd5\u5bf9\u7ed3\u6784\u4f53\u7684\u53ef\u53d8\u501f\u7528\uff1b\u9002\u7528\u4e8e setter\uff1b</li> </ul> <pre><code>struct Person {\n    name: String,\n    age: u32,\n}\n\nimpl Person {\n    fn get_name(&amp;self) -&gt; &amp;str {\n        self.name.as_str()\n    }\n    fn get_age(&amp;self) -&gt; u32 {\n        self.age\n    }\n    fn set_name(&amp;mut self, name: &amp;str) {\n        self.name = String::from(name);\n    }\n    fn set_age(&amp;mut self, age: u32) {\n        self.age = age;\n    }\n}\n\nfn main() {\n    let mut p1 = Person {\n        name: \"Boii\".to_string(),\n        age: 18,\n    };\n    println!(\"name: {:?}\", p1.get_name());  // name: \"Boii\"\n    println!(\"age:  {:?}\", p1.get_age());   // age:  18\n    p1.set_age(20);\n    p1.set_name(\"Eva\");\n    println!(\"name: {:?}\", p1.get_name());  // name: \"Eva\"\n    println!(\"age:  {:?}\", p1.get_age());   // age:  20\n}\n</code></pre>"},{"location":"Rust/Basic/6-%E7%BB%93%E6%9E%84%E4%BD%93/#_2","title":"\u5b57\u6bb5\u540c\u540d\u65b9\u6cd5","text":"<p>Rust \u5141\u8bb8\u5b9e\u73b0\u4e0e\u5b57\u6bb5\u540d\u540c\u540d\u7684\u65b9\u6cd5\u3002\u52a0\u4e0a\u62ec\u53f7\u5219\u662f\u8c03\u7528\u65b9\u6cd5\uff0c\u6ca1\u6709\u62ec\u53f7\u5219\u662f\u8c03\u7528\u5b57\u6bb5\u3002</p> <pre><code>struct Person {\n    name: String,\n    age: u32,\n}\n\nimpl Person {\n    fn name(&amp;self) -&gt; &amp;str {\n        \"method: \" + self.name.as_str()\n    }\n    fn age(&amp;self) -&gt; u32 {\n        \"age: \" + self.age\n    }\n}\n\nfn main() {\n    let p1 = Person {\n        name: \"Boii\".to_string(),\n        age: 18,\n    };\n    println!(\"name: {:?}\", p1.name()); // name: method: \"Boii\"\n    println!(\"age:  {:?}\", p1.age());  // age:  age: 18\n    println!(\"name: {:?}\", p1.name);   // name: \"Boii\"\n    println!(\"age:  {:?}\", p1.age);    // age:  18\n}\n</code></pre>"},{"location":"Rust/Basic/6-%E7%BB%93%E6%9E%84%E4%BD%93/#_3","title":"\u5173\u8054\u51fd\u6570","text":"<p>\u5173\u8054\u51fd\u6570\u7c7b\u4f3c\u7c7b\u65b9\u6cd5\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e0d\u662f <code>self</code>\uff0c\u8c03\u7528\u7684\u65f6\u5019\u4f7f\u7528 <code>::</code> \u7b26\u53f7\u3002</p> <pre><code>struct Person {\n    name: String,\n    age: u32,\n}\nimpl Person {\n    fn new(name: &amp;str, age: u32) -&gt; Person {\n        Person {\n            name: String::from(name),\n            age,\n        }\n    }\n}\nfn main() {\n    let p1 = Person::new(\"John\", 19);\n}\n</code></pre>"},{"location":"Rust/Basic/7-%E6%9E%9A%E4%B8%BE/","title":"\u679a\u4e3e","text":""},{"location":"Rust/Basic/7-%E6%9E%9A%E4%B8%BE/#_1","title":"\u679a\u4e3e","text":""},{"location":"Rust/Basic/7-%E6%9E%9A%E4%B8%BE/#_2","title":"\u5b9a\u4e49\u679a\u4e3e","text":"<pre><code>enum \u679a\u4e3e\u7c7b\u578b\u540d {\n    \u679a\u4e3e\u6210\u5458,\n    \u679a\u4e3e\u6210\u5458(\u6210\u5458\u7c7b\u578b),\n    \u679a\u4e3e\u6210\u5458{x:\u5b50\u7c7b\u578b, y:\u5b50\u7c7b\u578b, ...},\n}\n\nenum \u679a\u4e3e\u7c7b\u578b\u540d {\n    \u679a\u4e3e\u6210\u5458 = 1,\n    \u679a\u4e3e\u6210\u5458,\n    ...\n}\n</code></pre> <p>Example</p> <pre><code>enum Week {\n    Monday = 1, // 1\n    Tuesday,    // 2\n    Wednesday,  // 3\n    Thursday,   // 4\n    Friday,     // 5\n    Saturday,   // 6\n    Sunday,     // 7\n}\n\nenum E {\n    A,       // \u9ed8\u8ba4 0\n    B,       // \u81ea\u52a8\u52a0 1\uff0c\u5bf9\u5e94 1\n    C = 20,  // \u5bf9\u5e94 20\n    D,       // \u81ea\u52a8\u52a0 1\uff0c\u5bf9\u5e94 21\n}\n</code></pre> <p>\u53ef\u4ee5\u7528 <code>#[repr]</code> \u6307\u5b9a\u679a\u4e3e\u6210\u5458\u7684\u6570\u503c\u8303\u56f4</p> <pre><code>// \u6700\u5927\u6570\u503c\u4e0d\u80fd\u8d85\u8fc7255\n#[repr(u8)]  // \u9650\u5b9a\u8303\u56f4\u4e3a`0..=255`\nenum E {\n    A,\n    B = 254,\n    C,\n    D,        // 256\uff0c\u8d85\u8fc7255\uff0c\u7f16\u8bd1\u62a5\u9519\n}\n</code></pre> <p>Example</p> <pre><code>enum EnumName {\n    F1,                 // \u8be5\u6210\u5458\u7c7b\u4f3c\u4e8e unit-like struct\n    F2(i32, u64),       // \u8be5\u6210\u5458\u7c7b\u4f3c\u4e8e tuple struct\n    F3{x: i32, y: u64}, // \u8be5\u6210\u5458\u7c7b\u4f3c\u4e8e named struct\n}\n</code></pre>"},{"location":"Rust/Basic/7-%E6%9E%9A%E4%B8%BE/#_3","title":"\u4f7f\u7528\u679a\u4e3e","text":"<pre><code>let e1 = \u679a\u4e3e\u540d\u79f0::\u679a\u4e3e\u6210\u5458\nlet e2 = \u679a\u4e3e\u540d\u79f0::\u679a\u4e3e\u6210\u5458(\u6210\u5458\u503c)\nlet e3 = \u679a\u4e3e\u540d\u79f0::\u679a\u4e3e\u6210\u5458{x: \u6210\u5458\u503c1, y: \u6210\u5458\u503c2}\n</code></pre>"},{"location":"Rust/Basic/8-Trait/","title":"8 Trait","text":""},{"location":"Rust/Basic/9-%E6%B3%9B%E5%9E%8B/","title":"\u6cdb\u578b","text":""},{"location":"Rust/Basic/9-%E6%B3%9B%E5%9E%8B/#_1","title":"\u6cdb\u578b","text":""},{"location":"Rust/Basic/9-%E6%B3%9B%E5%9E%8B/#_2","title":"\u6cdb\u578b\u51fd\u6570\u5b9a\u4e49","text":"<pre><code>fn \u51fd\u6570\u540d&lt;\u6cdb\u578b\u53c2\u65701, \u6cdb\u578b\u53c2\u65702, ...&gt;(\u53c2\u65701: \u53c2\u6570\u7c7b\u578b1, \u53c2\u65702: \u53c2\u6570\u7c7b\u578b2, ...) -&gt; \u8fd4\u56de\u503c\u7c7b\u578b {\n    \u51fd\u6570\u4f53\n}\n</code></pre> <pre><code>fn \u51fd\u6570\u540d&lt;\u6cdb\u578b\u7c7b\u578b\u540d: \u6cdb\u578b\u7ea6\u675f, ...&gt;(\u53c2\u65701: \u53c2\u6570\u7c7b\u578b1, \u53c2\u65702: \u53c2\u6570\u7c7b\u578b2, ...) -&gt; \u8fd4\u56de\u503c\u7c7b\u578b {\n    \u51fd\u6570\u4f53\n}\n</code></pre>"},{"location":"Rust/Basic/9-%E6%B3%9B%E5%9E%8B/#_3","title":"\u6cdb\u578b\u7ed3\u6784\u4f53\u5b9a\u4e49","text":"<pre><code>struct \u7ed3\u6784\u4f53\u540d&lt;\u6cdb\u578b\u53c2\u65701, \u6cdb\u578b\u53c2\u65702, ...&gt; {\n    \u5b57\u6bb51: \u5b57\u6bb5\u7c7b\u578b1,\n    \u5b57\u6bb52: \u5b57\u6bb5\u7c7b\u578b2,\n    ...\n}\n</code></pre> <pre><code>struct \u7ed3\u6784\u4f53\u540d&lt;\u6cdb\u578b\u7c7b\u578b\u540d: \u6cdb\u578b\u7ea6\u675f, ...&gt; {\n    \u5b57\u6bb51: \u5b57\u6bb5\u7c7b\u578b1,\n    \u5b57\u6bb52: \u5b57\u6bb5\u7c7b\u578b2,\n    ...\n}\n</code></pre> <p>Example</p> <pre><code>struct Point&lt;T&gt; {\n    x: T,\n    y: T,\n}\n</code></pre> <p>Example</p> <pre><code>struct Point&lt;T&gt; {\n    x: T,\n    y: T,\n}\nimpl &lt;T&gt; Point&lt;T&gt; {\n    fn x(&amp;self) -&gt; &amp;T {\n        &amp;self.x\n    }\n}\n\nimpl &lt;T, U&gt; Point&lt;T&gt; {\n    fn mixup&lt;V, W&gt;(self, other: Point&lt;V, W&gt;) -&gt; Point&lt;T, W&gt; {\n        Point{\n            x: self.x,\n            y: other.y,\n        }\n    }\n}\n</code></pre> <p>\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0cT,U \u662f\u5b9a\u4e49\u5728\u7ed3\u6784\u4f53 Point \u4e0a\u7684\u6cdb\u578b\u53c2\u6570\uff0cV,W \u662f\u5355\u72ec\u5b9a\u4e49\u5728\u65b9\u6cd5 mixup \u4e0a\u7684\u6cdb\u578b\u53c2\u6570\uff0c\u5b83\u4eec\u5e76\u4e0d\u51b2\u7a81\uff0c\u8bf4\u767d\u4e86\uff0c\u4f60\u53ef\u4ee5\u7406\u89e3\u4e3a\uff0c\u4e00\u4e2a\u662f\u7ed3\u6784\u4f53\u6cdb\u578b\uff0c\u4e00\u4e2a\u662f\u51fd\u6570\u6cdb\u578b\u3002</p>"},{"location":"Rust/Basic/%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D/","title":"\u6a21\u5f0f\u5339\u914d","text":""},{"location":"Rust/Basic/%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D/#_1","title":"\u6a21\u5f0f\u5339\u914d","text":""},{"location":"Swift/Swift-0-basic-type/","title":"0.Basic","text":""},{"location":"Swift/Swift-0-basic-type/#_1","title":"\u57fa\u7840\u7c7b\u578b","text":""},{"location":"Swift/Swift-0-basic-type/#_2","title":"\u53d8\u91cf\u5e38\u91cf","text":"<pre><code>var score = 0 // \u53d8\u91cf\nlet pi = 3.14 // \u5e38\u91cf\n\nvar greeting = \"Hello\"\nvar numberOfToys = 8\nvar isMorning = true\n\nvar numberOfToys: Int = 8\nvar x = 0, y = 0.0, z = \"code\"  // \u4e00\u884c\u58f0\u660e\u591a\u4e2a\u53d8\u91cf\nlet PI = 3.14, E = 2.7         // \u4e00\u884c\u58f0\u660e\u591a\u4e2a\u5e38\u91cf\n</code></pre> <p>\u53d8\u91cf\u540d\u53ea\u8981\u662f Unicode \u5b57\u7b26\u5c31\u884c </p><pre><code>let \u03c0 = 3.14159\nlet \u4f60\u597d = \"\u4f60\u597d\u4e16\u754c\"\nlet \ud83d\udc36\ud83d\udc2e = \"dog and cow\"\n</code></pre><p></p> <p>\u53d8\u91cf\u80fd\u6539,\u5e38\u91cf\u4e0d\u80fd </p><pre><code>// good\nvar name = \"foo\"\nname = \"bar\"\n\n// bad\nlet age = 10\nage = 20     // \u7f16\u8bd1\u65f6\u62a5\u9519\n</code></pre><p></p>"},{"location":"Swift/Swift-0-basic-type/#_3","title":"\u6ce8\u91ca","text":"<pre><code>// \u8fd9\u4e00\u884c\u8868\u793a Swift \u4e2d\u7684\u6ce8\u91ca\u3002\n/*\n\u8fd9\u90fd\u88ab\u6ce8\u91ca\u6389\u4e86\u3002\n\u6ca1\u6709\u4e00\u4e2a\u4f1a\u8dd1\uff01\n*/\n</code></pre>"},{"location":"Swift/Swift-0-basic-type/#_4","title":"\u7c7b\u578b","text":"<p>\u7c7b\u578b\u6ce8\u89e3, \u5bf9\u4e8e\u4e0d\u590d\u6742\u7684\u53ef\u4ee5\u4e0d\u5199\u6ce8\u89e3, swift \u4f1a\u81ea\u52a8\u63a8\u5bfc </p><pre><code>var numberOfToys: Int = -8        // \u6709\u7b26\u53f7\u6574\u578b\nvar numberOfAge: UInt = 18        // \u65e0\u7b26\u53f7\u6574\u578b\nvar minPrice: Float = 8.99       // 32 \u4f4d\u6d6e\u70b9\u578b, \u7cbe\u5ea6\u81f3\u5c11\u4e3a\u5c0f\u6570\u70b9\u540e 6 \u4f4d\nvar price: Double = 8.99         // 64 \u4f4d\u6d6e\u70b9\u578b, \u7cbe\u5ea6\u81f3\u5c11\u4e3a\u5c0f\u6570\u70b9\u540e 15 \u4f4d\nvar greeting: String = \"Hello\"   // \u5b57\u7b26\u4e32\u7c7b\u578b\nvar nice: Character = \"!\"        // \u5b57\u7b26\u7c7b\u578b\nvar isMorning: Bool = true       // \u5e03\u5c14\u7c7b\u578b\nvar red, green, blue: Double             // \u8fd9\u4e09\u4e2a\u90fd\u662f Double \u7c7b\u578b\nvar red: Int, green: Int, blue: Double   // \u4e5f\u53ef\u4ee5\u8fd9\u6837\u4e00\u884c\u58f0\u660e\u4e0d\u540c\u7c7b\u578b\n</code></pre><p></p> <p>\u6574\u6570\u5b57\u9762\u91cf </p><pre><code>let binaryInteger = 0b10001       // \u4ee5\u4e8c\u8fdb\u5236\u8868\u793a\u7684 17\nlet octalInteger = 0o21           // \u4ee5\u516b\u8fdb\u5236\u8868\u793a\u7684 17\nlet decimalInteger = 17           // \u4ee5\u5341\u8fdb\u5236\u8868\u793a\u7684 17\nlet hexadecimalInteger = 0x11     // \u4ee5\u5341\u516d\u8fdb\u5236\u8868\u793a\u7684 17\n</code></pre><p></p> <p>\u6d6e\u70b9\u6570\u5b57\u9762\u91cf </p><pre><code>// \u5341\u8fdb\u5236\nlet decimalDouble = 125.0\nlet exponentDouble = 1.25e2 // \u8868\u793a 1.25 x 10\u00b2 \u6216 125.0\u3002\nlet decimalDoubleNegative = 0.0125\nlet exponentDoubleNegative = 1.25e-2 // \u8868\u793a 1.25 x 10\u207b\u00b2 \u6216 0.0125\u3002\n\n// \u5341\u516d\u8fdb\u5236\nlet hexDecimalDouble = 0x3C\nlet hexExponentDouble = 0xFp2 // \u8868\u793a 15 x 2\u00b2 \u6216 60.0\u3002\n\n\nlet paddedDouble = 000123.456  // \u53ef\u4ee5\u989d\u5916\u586b\u5145 0\nlet oneMillion = 1_000_000     // \u53ef\u4ee5\u989d\u5916\u586b\u5145 0\nlet justOverOneMillion = 1_000_000.000_000_1 // \u53ef\u4ee5\u7528\u4e0b\u5212\u7ebf\u5206\u5272, \u63d0\u9ad8\u53ef\u8bfb\u6027\n</code></pre><p></p> <p>\u5e03\u5c14\u7c7b\u578b </p><pre><code>let good = true\nlet bad = false\n</code></pre><p></p> <p>\u5143\u7ec4 </p><pre><code>let http404Error = (404, \"Not Found\")\nlet http200Ok: (Int, String) = (200, \"Ok\")\n</code></pre><p></p> <p>\u89e3\u6784\u5143\u7ec4 </p><pre><code>let (code, msg) = http404Error // \u89e3\u6784\nlet (okCode, _) = http200Ok    // \u4e0d\u8981\u90fd\u53ef\u4ee5\u7528 _ \u66ff\u4ee3\n</code></pre><p></p> <p>\u8bbf\u95ee\u5143\u7ec4 </p><pre><code>print(\"The status code is \\(http404Error.0)\") // The status code is 404\n</code></pre><p></p> <p>\u547d\u540d\u5143\u7ec4 </p><pre><code>let http200Status = (code: 200, desc: \"OK\")\n</code></pre><p></p> <p>\u8bbf\u95ee\u547d\u540d\u5143\u7ec4 </p><pre><code>print(\"The status code is \\(http200Status.code)\")  // The status code is 200\n</code></pre><p></p>"},{"location":"Swift/Swift-0-basic-type/#_5","title":"\u53ef\u9009\u7c7b\u578b","text":"<p>\u7c7b\u578b\u540e\u52a0\u4e2a <code>?</code>, \u8868\u793a\u503c\u53ef\u80fd\u662f\u67d0\u4e2a\u7c7b\u578b, \u4e5f\u53ef\u80fd\u4e0d\u5b58\u5728. </p><pre><code>var statusCode: Int? = 404\nstatusCode = nil\n</code></pre><p></p> <p>\u5f53\u503c\u4e3a nil \u65f6,\u8df3\u8fc7\u5bf9\u5176\u8fdb\u884c\u64cd\u4f5c\u7684\u4ee3\u7801 </p><pre><code>if let msg = john.robot?.say {\n    print(\"John's robot say \\(msg)\")\n}\n</code></pre><p></p> <p>\u4f7f\u7528 <code>??</code> \u8fd0\u7b97\u7b26\u63d0\u4f9b\u4e00\u4e2a\u540e\u5907\u503c </p><pre><code>let name = john.name ?? \"unknown name\"\n\n// john.name \u4e3a nil \u65f6, name \u4e3a unknown name\n// john.name \u4e0d\u4e3a nil \u65f6, name \u4e3a john.name \u7684\u503c\n</code></pre><p></p> <p>\u4f7f\u7528 <code>!</code> \u5f3a\u5236\u89e3\u5305 </p><pre><code>let name = john.name!\n// john.name \u4e0d\u4e3a nil \u65f6, name \u4e3a join.name \u7684\u503c\n// john.name \u4e3a nil \u65f6, \u7a0b\u5e8f\u505c\u6b62\u8fd0\u884c\n</code></pre><p></p>"},{"location":"Swift/Swift-0-basic-type/#_6","title":"\u5b57\u7b26\u4e32","text":"<p>\u5b57\u7b26\u4e32\u5b57\u9762\u91cf,\u7531\u4e00\u5bf9\u53cc\u5f15\u53f7(<code>\"</code>)\u5305\u88f9 </p><pre><code>// \u5355\u884c\u5b57\u7b26\u4e32\nlet name = \"Foo\"\n\n// \u7a7a\u5b57\u7b26\u4e32\nlet firstName = String()\nlet lastName = \"\"\n\n// \u591a\u884c\u5b57\u7b26\u4e32\nlet myLongString = \"\"\"\nSwift?\n\u8fd9\u662f\u6211\u6700\u559c\u6b22\u7684\u8bed\u8a00\uff01\n\"\"\"\n\n// \u591a\u884c\u5b57\u7b26\u4e32\u4e0d\u6362\u884c\nlet singleString = \"\"\"\nSwift? \\\n\u8fd9\u662f\u6211\u6700\u559c\u6b22\u7684\u8bed\u8a00\uff01\n\"\"\"\nprint(singleString) // \u6253\u5370: Swift? \u8fd9\u662f\u6211\u6700\u559c\u6b22\u7684\u8bed\u8a00\uff01\n</code></pre><p></p> <p>\u5b57\u7b26\u4e32\u63d2\u503c, \u7528\u53cd\u659c\u6760 <code>\\</code> \u52a0\u4e00\u5bf9\u62ec\u53f7<code>()</code> </p><pre><code>var apples = 6\nprint(\"I have \\(apples) apples!\")\n// \u6253\u5370: I have 6 apples!\n</code></pre><p></p>"},{"location":"Swift/Swift-0-basic-type/#_7","title":"\u533a\u95f4\u8fd0\u7b97\u7b26","text":"<pre><code>let numbers = [0,1,2,3,4,5,6,7,8,9]\n\n\nfor i in numbers[0...5] { print(i) } // \u95ed\u533a\u95f4, \u6253\u5370 0,1,2,3,4,5\nfor i in numbers[0..&lt;5] { print(i) } // \u534a\u5f00\u533a\u95f4, \u6253\u5370 0,1,2,3,4\nfor i in numbers[5...] { print(i) }  // \u5355\u4fa7\u95ed\u533a\u95f4, \u6253\u5370 5,6,7,8,9\nfor i in numbers[...5] { print(i) }  // \u5355\u4fa7\u95ed\u533a\u95f4, \u6253\u5370 0,1,2,3,4,5\nfor i in numbers[..&lt;5] { print(i) }  // \u5355\u4fa7\u5f00\u533a\u95f4, \u6253\u5370 0,1,2,3,4\n\n// \u6ca1\u6709 0&gt;.. \u8fd9\u79cd\u5f62\u5f0f\n</code></pre>"},{"location":"Swift/Swift-1-collection-type/","title":"Collection Type","text":""},{"location":"Swift/Swift-1-collection-type/#collection-type","title":"Collection Type","text":""},{"location":"Swift/Swift-1-collection-type/#array","title":"Array \u6570\u7ec4","text":"<p>\u58f0\u660e </p><pre><code>var foo: Array[Int] = [1, 2, 3] // \u5b8c\u6574\u5199\u6cd5 Array[Int]\nvar bar: [Int] = [1, 2, 3]      // \u7b80\u5199 [Int]\nvar far = [1, 2, 3]             // \u6700\u7b80\u5199\u6cd5, \u81ea\u52a8\u7c7b\u578b\u63a8\u5bfc\nvar baz = Array(repeating: 0, count: 3) // [0, 0, 0] \u4f7f\u7528\u9ed8\u8ba4\u503c\u521b\u5efa\u6570\u7ec4\n</code></pre><p></p> <p>\u7a7a\u6570\u7ec4 </p><pre><code>var foo: [Int] = []\nvar bar = [Int]()\n</code></pre><p></p> <p>\u6570\u7ec4\u76f8\u52a0 </p><pre><code>var foo = [1, 2, 3]\nvar bar = [7, 8, 9]\nvar baz = foo + bar // [1, 2, 3, 7, 8, 9]\n</code></pre><p></p> <p>\u6570\u7ec4\u8bbf\u95ee </p><pre><code>var foo = [1, 2, 3]\nfoo[0] = 4\nprint(foo) // [4, 2, 3]\n</code></pre><p></p> <p>\u8303\u56f4\u4fee\u6539 </p><pre><code>var foo = [0, 1, 2, 3, 4, 5, 6, 7, 8]\nfoo[3...5] = [9, 10]\nprint(foo) // [0, 1, 2, 9, 10, 6, 7, 8]\n</code></pre><p></p> <p>\u904d\u5386 </p><pre><code>var foo = [\"a\", \"b\", \"c\", \"d\", \"e\"]\nfor f in foo {\n    print(f)\n}\n// a\n// b\n// c\n// d\n// e\n</code></pre><p></p> <p>\u679a\u4e3e\u904d\u5386 </p><pre><code>for i, f in foo.enumerated() {\n    print(\"\\(i): \\(f)\")\n}\n// 0: a\n// 1: b\n// 2: c\n// 3: d\n// 4: e\n</code></pre><p></p>"},{"location":"Swift/Swift-1-collection-type/#set","title":"Set \u96c6\u5408","text":"<p>\u4e00\u4e2a\u7c7b\u578b\u5fc5\u987b\u662f Hashable \u7684\u624d\u80fd\u5b58\u50a8\u5728\u96c6\u5408\u4e2d.</p> <p>Swift \u7684\u6240\u6709\u57fa\u672c\u7c7b\u578b\uff08\u5982 String\u3001Int\u3001Double \u548c Bool\uff09\u9ed8\u8ba4\u90fd\u662f\u53ef\u54c8\u5e0c\u7684\uff0c\u53ef\u4ee5\u7528\u4f5c\u96c6\u5408\u7684\u503c\u7c7b\u578b\u6216\u5b57\u5178\u7684\u952e\u7c7b\u578b\u3002\u6ca1\u6709\u5173\u8054\u503c\u7684\u679a\u4e3e case \u503c\uff08\u5982 \u679a\u4e3e \u4e2d\u63cf\u8ff0\u7684\u90a3\u6837\uff09\u9ed8\u8ba4\u4e5f\u662f\u53ef\u54c8\u5e0c\u7684\u3002</p> <p>\u58f0\u660e </p><pre><code>var foo = Set&lt;Character&gt;()\nvar bar: Set&lt;String&gt; = [\"foo\", \"bar\", \"baz\"]\nvar baz: Set = [\"foo\", \"bar\", \"baz\"]\n</code></pre><p></p> <p>\u8bbf\u95ee </p><pre><code>var foo: Set = [\"foo\", \"bar\"]\nprint(\"count: \\(foo.count)\")              // count: 2\nprint(\"is empty: \\(foo.isEmpty)\")         // is empty: false\nprint(\"contains: \\(foo.contains(\"foo\"))\") // contains: true\n</code></pre><p></p> <p>\u4fee\u6539 </p><pre><code>var foo: Set = [\"foo\", \"bar\"]\nfoo.insert(\"baz\")\nfoo.remove(\"baz\")\n</code></pre><p></p> <p>\u96c6\u5408\u8fd0\u7b97</p> <ul> <li>\u4f7f\u7528 <code>intersection(_:)</code> \u65b9\u6cd5\u521b\u5efa\u4e00\u4e2a\u53ea\u5305\u542b\u4e24\u4e2a\u96c6\u5408\u5171\u6709\u503c\u7684\u65b0\u96c6\u5408\u3002</li> <li>\u4f7f\u7528 <code>union(_:)</code> \u65b9\u6cd5\u521b\u5efa\u4e00\u4e2a\u5305\u542b\u4e24\u4e2a\u96c6\u5408\u4e2d\u6240\u6709\u503c\u7684\u65b0\u96c6\u5408\u3002</li> <li>\u4f7f\u7528 <code>subtracting(_:)</code> \u65b9\u6cd5\u521b\u5efa\u4e00\u4e2a\u4e0d\u5305\u542b\u6307\u5b9a\u96c6\u5408\u4e2d\u503c\u7684\u65b0\u96c6\u5408\u3002</li> <li>\u4f7f\u7528 <code>symmetricDifference(_:)</code> \u65b9\u6cd5\u521b\u5efa\u4e00\u4e2a\u5305\u542b\u4e24\u4e2a\u96c6\u5408\u4e2d\u5b58\u5728\u4f46\u4e0d\u540c\u65f6\u5b58\u5728\u7684\u503c\u7684\u65b0\u96c6\u5408\u3002</li> </ul> <pre><code>let odd: Set = [1, 3, 5, 7, 9]\nlet even: Set = [2, 4, 6, 8, 10]\nvar foo: Set = [1, 2, 6, 7]\n\nodd.union(even).sorted()               // odd | even : [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\nodd.intersection(even).sorted()        // odd &amp; even : []\nodd.subtracting(foo).sorted()          // odd - foo: [3, 5, 9]\nodd.symmetricDifference(foo).sorted()  // (odd | foo) - (odd &amp; foo): [3, 4, 5, 8, 9, 10]\n</code></pre> <ul> <li>\u4f7f\u7528 \u201c\u7b49\u4e8e\u201d \u8fd0\u7b97\u7b26 \uff08==\uff09\u5224\u65ad\u4e24\u4e2a\u96c6\u5408\u662f\u5426\u5305\u542b\u76f8\u540c\u7684\u6240\u6709\u503c\u3002</li> <li>\u4f7f\u7528 isSubset(of:) \u65b9\u6cd5\u5224\u65ad\u4e00\u4e2a\u96c6\u5408\u7684\u6240\u6709\u503c\u662f\u5426\u5305\u542b\u5728\u6307\u5b9a\u96c6\u5408\u4e2d\u3002</li> <li>\u4f7f\u7528 isSuperset(of:) \u65b9\u6cd5\u5224\u65ad\u4e00\u4e2a\u96c6\u5408\u662f\u5426\u5305\u542b\u6307\u5b9a\u96c6\u5408\u4e2d\u7684\u6240\u6709\u503c\u3002</li> <li>\u4f7f\u7528 isStrictSubset(of:) \u6216 isStrictSuperset(of:) \u65b9\u6cd5\u5224\u65ad\u4e00\u4e2a\u96c6\u5408\u662f\u5426\u662f\u6307\u5b9a\u96c6\u5408\u7684\u5b50\u96c6\u6216\u8d85\u96c6\uff08\u4f46\u4e0d\u76f8\u7b49\uff09\u3002</li> <li>\u4f7f\u7528 isDisjoint(with:) \u65b9\u6cd5\u5224\u65ad\u4e24\u4e2a\u96c6\u5408\u662f\u5426\u6ca1\u6709\u5171\u540c\u7684\u503c\u3002</li> </ul> <pre><code>var a: Set = [1, 2, 3, 4, 5, 6]\nvar sa: Set = [1, 2, 3]\nvar b: Set = [7, 8, 9, 10]\n\nsa.isSubset(a)   // true\na.isSuperSet(sa) // true\na.isDisjoint(b)  // true\n</code></pre>"},{"location":"Swift/Swift-1-collection-type/#dictionary","title":"Dictionary \u5b57\u5178","text":"<p>\u58f0\u660e </p><pre><code>var foo: Dictionary&lt;Int: String&gt;\nvar foo: [Int: String] = [:]\nvar a = [1: \"foo\", 2: \"bar\", 3: \"baz\"]\nvar b: [Int: String] = [1: \"foo\", 2: \"bar\", 3: \"baz\"]\nvar c: [Int, Any] = [1: \"foo\", 2: 0.1]\n</code></pre><p></p> <p>\u8bbf\u95ee </p><pre><code>var foo: [Int: String] = [1: \"foo\", 2: \"bar\"]\nprint(\"count: \\(foo.count)\")              // count: 2\nprint(\"is empty: \\(foo.isEmpty)\")         // is empty: false\nprint(\"foo[2]: \\(foo[2])\")                // foo[2]: bar\n</code></pre><p></p> <p>\u4fee\u6539 </p><pre><code>var foo: [Int: String] = [1: \"foo\", 2: \"bar\"]\nfoo[1] = \"baz\"\nprint(\"\\(foo[1])\").  // baz\n\nfoo.updateValue(\"cat\", forKey: 1)\nprint(\"\\(foo[1])\")  // cat\n\nif let oldVal = foo.updateValue(\"dub\", forKey: 2) {\n    print(\"foo[2]: \\(oldVal)\")\n}\n// foo[2]: baz\n\n\nif let removeVal = foo.removeValue(forKey: 1) {\n    print(\"\\(foo)\")\n}\n// [2: \"dub\"]\n</code></pre><p></p> <p>\u904d\u5386 </p><pre><code>var foo = [1: \"foo\", 2: \"bar\", 3: \"baz\"]\n\nfor (i, v) in foo {\n    print(\"\\(i): \\(v)\")\n}\n// 1: foo\n// 2: bar\n// 3: baz\n</code></pre><p></p> <pre><code>var foo = [1: \"foo\", 2: \"bar\", 3: \"baz\"]\nfor i in foo.keys {\n    print(\"\\(i)\")\n}\n// 1\n// 2\n// 3\n</code></pre> <pre><code>var foo = [1: \"foo\", 2: \"bar\", 3: \"baz\"]\nfor v in foo.values {\n    print(\"\\(v)\")\n}\n// foo\n// bar\n// baz\n</code></pre> <pre><code>var foo = [1: \"foo\", 2: \"bar\", 3: \"baz\"]\nlet ks = [Int](foo.keys)\nlet vs = [String](foo.values)\n</code></pre>"},{"location":"Swift/Swift-2-control-flow/","title":"Control Flow","text":""},{"location":"Swift/Swift-2-control-flow/#control-flow","title":"Control Flow","text":""},{"location":"Swift/Swift-2-control-flow/#for-in","title":"For-In","text":"<pre><code>var foo = [1, 2, 3, 4, 5]\nvar total = 0\nfor i in foo {\n    total += i\n}\nprint(total)  // 15\n</code></pre>"},{"location":"Swift/Swift-2-control-flow/#while","title":"While","text":"<pre><code>var i = 0\nwhile i &lt; 10 {\n    i += 1\n}\nprint(i) // 10\n</code></pre>"},{"location":"Swift/Swift-2-control-flow/#repeat-while","title":"Repeat-While","text":"<p>\u4e5f\u5c31\u662f do-while</p> <pre><code>var i = 0\nrepeat {\n    i += 1\n} while i &lt; 10\nprint(i)  // 10\n</code></pre>"},{"location":"Swift/Swift-2-control-flow/#if","title":"If","text":"<pre><code>var i = 10\n\nif i == 10 {\n    print(\"ten\")\n} else if i == 0 {\n    print(\"zero\")\n} else {\n    print(\"foo\")\n}\n</code></pre> <p>if \u8868\u8fbe\u5f0f </p><pre><code>var i = 10\n\nlet ret = if i == 10 {\n    \"ten\"\n} else if i == 0 {\n    \"zero\"\n} else {\n    \"foo\"\n}\n\nprint(ret) // ten\n</code></pre><p></p> <p>\u5982\u679c\u58f0\u660e\u4e00\u4e2a\u53ef\u9009\u503c(\u4f8b\u5982 <code>String?</code>), \u90a3\u4e48\u5fc5\u987b\u6709\u4e00\u4e2a nil \u5206\u652f </p><pre><code>var i = 10\n\nlet ret: String? = if i == 10 {\n    \"ten\"\n} else {\n    nil  // \u5fc5\u987b\u6709\u4e00\u4e2a nil \u5206\u652f\n}\nprint(ret) // ten\n\n// \u6216\u8005\n\nlet ret = if i == 10 {\n    \"ten\"\n} else {\n    nil as String?\n}\nprint(ret) // ten\n</code></pre><p></p>"},{"location":"Swift/Swift-2-control-flow/#switch","title":"Switch","text":"<pre><code>switch &lt;some value to consider&gt; {\ncase &lt;value 1&gt;:\n    &lt;respond to value 1&gt;\n\ncase &lt;value 2&gt;, &lt;value 3&gt;:\n    &lt;respond to value 2 or 3&gt;\n\ndefault:\n    &lt;otherwise, do something else&gt;\n}\n</code></pre> <pre><code>var i = 10\n\nswitch i {\ncase 1:\n    print(\"one\")\ncase 10:\n    print(\"ten\")\ndefault:\n    print(\"foo\")\n}\n// ten\n</code></pre> <p>switch \u8868\u8fbe\u5f0f</p> <pre><code>var i = 10\n\nlet ret = switch i {\ncase 1: \"one\"\ncase 10: \"ten\"\ncase 15, 20: \"good\"\ndefault: \"foo\"\n}\n\nprint(ret)  // ten\n</code></pre> <p>\u533a\u95f4\u5339\u914d </p><pre><code>let i = 15\n\nlet ret = switch i {\ncase 0: \"zero\"\ncase 1..&lt;10: \"less 10\"\ncase 10..&lt;20: \"less 20\"\ndefault: \"huge\"\n}\nprint(ret)  // less 20\n</code></pre><p></p> <p>\u5143\u7ec4 </p><pre><code>let somePoint = (1, 1)\nswitch somePoint {\ncase (0, 0):\n    print(\"\\(somePoint) is at the origin\")\ncase (_, 0):\n    print(\"\\(somePoint) is on the x-axis\")\ncase (0, _):\n    print(\"\\(somePoint) is on the y-axis\")\ncase (-2...2, -2...2):\n    print(\"\\(somePoint) is inside the box\")\ndefault:\n    print(\"\\(somePoint) is outside of the box\")\n}\n// (1, 1) is inside the box\n</code></pre><p></p> <p>\u503c\u7ed1\u5b9a </p><pre><code>let anotherPoint = (2, 0)\nswitch anotherPoint {\ncase (let x, 0):\n    print(\"on the x-axis with an x value of \\(x)\")\ncase (0, let y):\n    print(\"on the y-axis with a y value of \\(y)\")\ncase let (x, y):\n    print(\"somewhere else at (\\(x), \\(y))\")\n}\n// on the x-axis with an x value of 2\n</code></pre><p></p> <p>switch where</p> <pre><code>let yetAnotherPoint = (1, -1)\nswitch yetAnotherPoint {\ncase let (x, y) where x == y:\n    print(\"(\\(x), \\(y)) is on the line x == y\")\ncase let (x, y) where x == -y:\n    print(\"(\\(x), \\(y)) is on the line x == -y\")\ncase let (x, y):\n    print(\"(\\(x), \\(y)) is just some arbitrary point\")\n}\n// (1, -1) is on the line x == -y\n</code></pre>"},{"location":"Swift/Swift-2-control-flow/#guard","title":"Guard","text":"<p>guard \u8bed\u53e5\u5fc5\u987b\u5e26 else, \u6761\u4ef6\u4e3a\u771f\u65f6\u7ee7\u7eed\u8d70, \u4e3a\u5047\u65f6\u8d70 else. else \u91cc\u5fc5\u987b\u6709 return, throw, break, continue, fatalError(). </p><pre><code>func greet(person: [String: String]) {\n    guard person.count == 2 else {\n        print(\"warning\")\n        return\n    }\n\n    guard let name = person[\"foo\"] else {\n        print(\"foo is required\")\n        return\n    }\n\n    print(name)\n\n    print(person)\n}\n\ngreet(person: [\"foo\": \"Alice\", \"bar\": \"Bob\"])                // [\"bar\": \"Bob\", \"foo\": \"Alice\"]\ngreet(person: [\"foo\": \"Alice\", \"bar\": \"Bob\", \"baz\": \"Cat\"])  // \u6253\u5370 warning \u7136\u540e\u9000\u51fa\ngreet(person: [\"dub\": \"Alice\", \"bar\": \"Bob\"])                // \u6253\u5370 foo is required \u7136\u540e\u9000\u51fa\n</code></pre><p></p>"},{"location":"Swift/Swift-2-control-flow/#defer","title":"Defer","text":"<p>\u548c golang \u7684 defer \u4e00\u6837, \u9002\u5408\u7528\u6765\u91ca\u653e\u8d44\u6e90, \u4e8b\u52a1\u56de\u6eda \u7b49 </p><pre><code>var score = 3\nif score &lt; 100 {\n    score += 100\n    defer {\n        score -= 100\n    }\n    // \u8fd9\u91cc\u53ef\u4ee5\u5199\u5176\u4ed6\u4f7f\u7528\u5206\u6570\u548c\u5956\u52b1\u7684\u4ee3\u7801\u3002\n    print(score)\n}\n// \u8f93\u51fa \"103\"\n</code></pre><p></p> <p>\u591a\u4e2a defer \u65f6\u5148\u58f0\u660e\u90fd defer \u540e\u6267\u884c, \u7c7b\u4f3c\u6808, \u548c golang \u4e00\u6837\u7684 </p><pre><code>if score &lt; 10 {\n    defer {\n        print(score)\n    }\n    defer {\n        print(\"The score is:\")\n    }\n    score += 5\n}\n// \u8f93\u51fa \"The score is:\"\n// \u8f93\u51fa \"6\"\n</code></pre><p></p>"},{"location":"Swift/Swift-2-control-flow/#available-api","title":"#available \u68c0\u6d4b API \u53ef\u7528\u6027","text":"<pre><code>if #available(iOS 10, macOS 10.12, *) {\n    // \u5728 iOS \u4f7f\u7528 iOS 10 \u7684 API, \u5728 macOS \u4f7f\u7528 macOS 10.12 \u7684 API\n} else {\n    // \u4f7f\u7528\u5148\u524d\u7248\u672c\u7684 iOS \u548c macOS \u7684 API\n}\n\n\n@available(macOS 10.12, *)\nstruct ColorPreference {\n    var bestColor = \"blue\"\n}\n\n\nfunc chooseBestColor() -&gt; String {\n    guard #available(macOS 10.12, *) else {\n       return \"gray\"\n    }\n    let colors = ColorPreference()\n    return colors.bestColor\n}\n</code></pre> available \u91cc\u53ef\u4ee5\u586b\u7684\u5e73\u53f0\u53c2\u8003\u8fd9\u91cc"},{"location":"Swift/Swift-3-function/","title":"Swift 3 function","text":""},{"location":"Swift/roadmap/","title":"Swift","text":""},{"location":"Swift/roadmap/#swift","title":"Swift","text":"<ul> <li> \u57fa\u7840\u7c7b\u578b\uff1a\u6574\u6570\uff0c\u6d6e\u70b9\u6570\uff0c\u5e03\u5c14\uff0c\u5b57\u7b26\uff0c\u5b57\u7b26\u4e32\uff0c\u5143\u7ec4\uff0cnil, if let, ?, !</li> <li> \u96c6\u5408\u7c7b\u578b\uff1a\u6570\u7ec4 Arrays\uff0c\u96c6\u5408 Sets\uff0c\u5b57\u5178 Dictionary</li> <li> \u63a7\u5236\u6d41\uff1afor in, while, repeat while, switch, guard, if #available</li> <li> \u51fd\u6570</li> <li> \u53c2\u6570\u6807\u7b7e</li> <li> \u53ef\u53d8\u53c2\u6570</li> <li> inout</li> <li> \u95ed\u5305</li> <li> \u679a\u4e3e</li> <li> \u7ed3\u6784\u4f53\uff0c\u4e0b\u6807\uff0c\u5d4c\u5957\u7c7b\u578b</li> <li> \u7c7b\uff0c\u5c5e\u6027\uff0c\u65b9\u6cd5\uff0c\u7ee7\u627f\uff0c\u91cd\u5199\uff0c\u6784\u9020\uff0c\u6790\u6784\uff0c?\u8c03\u7528\uff0c!\u8c03\u7528\uff0c\u8bbf\u95ee\u63a7\u5236</li> <li> \u9519\u8bef\u5904\u7406</li> <li> \uff08Optional\uff09\u7c7b\u578b\u8f6c\u6362\uff0cas\uff0cis</li> <li> \u6269\u5c55 extension</li> <li> \u534f\u8bae protocol\uff0cwhere</li> <li> \u6cdb\u578b</li> <li> \uff08Optional\uff0cAdvance\uff09\u81ea\u52a8\u5f15\u7528\u8ba1\u6570\uff0c\u5f31\u5f15\u7528 weak\uff0c\u65e0\u4e3b\u5e94\u7528unowned</li> </ul>"},{"location":"k8s/0-Hello/","title":"Hello Kubernetes","text":""},{"location":"k8s/0-Hello/#hello-kubernetes","title":"Hello Kubernetes","text":"<p>\u5f00\u6e90 \u7528\u4e8e\u7ba1\u7406\u4e91\u5e73\u53f0\u4e2d\u591a\u4e2a\u4e3b\u673a\u4e0a\u7684\u5bb9\u5668\u5316\u5e94\u7528\u7684\u7f16\u6392\u90e8\u7f72\u3001\u89c4\u5212\u3001\u66f4\u65b0\u7b49\u8fd0\u7ef4\u5de5\u4f5c\u3002</p>"},{"location":"k8s/0-Hello/#k8s","title":"K8S \u67b6\u6784","text":"<p>K8S \u7ba1\u7406\u7684\u662f\u4e00\u4e2a\u4e2a\u96c6\u7fa4\uff0c\u4e00\u4e2a\u96c6\u7fa4\u4e2d\u542b\u6709 Master \u8282\u70b9\u548c\u5176\u4ed6 Node \u8282\u70b9\u3002</p> <ul> <li> <p>Master \u8282\u70b9\u4e00\u822c\u5305\u62ec 4 \u4e2a\u7ec4\u4ef6\uff1aApiServer\u3001Scheduler\u3001Controller-Manager\u3001ETCD\u3002</p> <ul> <li>ApiServer\uff1a\u6240\u6709\u670d\u52a1\u8bbf\u95ee\u7684\u7edf\u4e00\u5165\u53e3\uff0c\u4e0a\u63a5\u5176\u4f59\u7ec4\u4ef6\u3001\u4e0b\u8fde ETCD\uff0c\u63d0\u4f9b\u5404\u7c7b API \u5904\u7406\u3001\u9274\u6743\u3001Node \u4e0a\u7684 kubelet \u901a\u4fe1\u7b49\u3002\u53ea\u6709 ApiServer \u4f1a\u94fe\u63a5 ETCD\uff1b</li> <li>Controller-Manager\uff1a\u63a7\u5236\u5668\u7ba1\u7406\u5668\uff0c\u63a7\u5236\u7740\u5404\u7c7b Controller\uff0c\u901a\u8fc7\u63a7\u5236\u5668\u6a21\u5f0f\uff0c\u81f4\u529b\u4e8e\u5c06\u5f53\u524d\u72b6\u6001\u53d8\u4e3a\u671f\u671b\u7684\u72b6\u6001\uff1b</li> <li>Scheduler\uff1a\u8d1f\u8d23\u63a5\u53d7\u4efb\u52a1\uff0c\u9009\u62e9\u5408\u9002\u7684\u8282\u70b9\u5206\u914d\u4efb\u52a1\uff1b</li> <li>ETCD\uff1a\u6574\u4e2a\u96c6\u7fa4\u7684\u6570\u636e\u5e93\uff0c\u5b58\u50a8 K8S \u96c6\u7fa4\u6240\u6709\u9700\u8981\u6301\u4e45\u5316\u7684\u91cd\u8981\u4fe1\u606f\uff0c\u53ef\u4ee5\u4e0d\u90e8\u7f72\u5728 Master \u8282\u70b9\uff0c\u5355\u72ec\u642d\u5efa\u3002</li> </ul> </li> <li> <p>Node \u8282\u70b9\u4e00\u822c\u5305\u62ec 3 \u4e2a\u7ec4\u4ef6\uff1aDocker\u3001kubelet\u3001kube-proxy\u3002</p> <ul> <li>kubelet\uff1a\u76f4\u63a5\u8ddf\u5bb9\u5668\u5f15\u64ce\u4ea4\u4e92\uff0c\u5b9e\u73b0\u7ba1\u7406\u5bb9\u5668\u7684\u751f\u547d\u5468\u671f\uff1b\u7406\u89e3 k8s \u7684\u6307\u4ee4\uff0c\u7ffb\u8bd1\u6210\u5bb9\u5668\u7684\u6307\u4ee4\uff1b</li> <li>kube-proxy\uff1a\u8d1f\u8d23\u7f51\u7edc\u6253\u901a\u3001\u8d1f\u8f7d\u5747\u8861\uff0c\u5373\u5c06\u5199\u5165\u89c4\u5219\u5230 iptables\uff0c\u73b0\u5728\u662f\u5199\u5230 IPVS\u3002</li> <li>Docker\uff1a\u5177\u4f53\u8dd1\u5e94\u7528\u7684\u5bb9\u5668\u5f15\u64ce\uff0c\u4e0d\u4e00\u5b9a\u975e\u5f97\u662f Docker\uff0c\u4f46\u4e00\u822c\u90fd\u662f Docker\uff1b</li> </ul> </li> <li> <p>\u5176\u4ed6\u63d2\u4ef6\uff1a</p> <ul> <li>CoreDNS\uff1aCore \u516c\u53f8\u7684 DNS\uff0c\u53ef\u4ee5\u4e3a\u96c6\u7fa4\u4e2d\u7684 SVC \u521b\u5efa\u4e00\u4e2a\u57df\u540d\u548c IP \u7684\u5bf9\u5e94\u89e3\u6790\uff0c\u8fd9\u6837\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u57df\u540d\u8bbf\u95ee SVC \u4e86\uff1b</li> <li>Dashboard\uff1a\u7ed9 K8S \u63d0\u4f9b\u4e00\u4e2a B/S \u7ed3\u6784\u7684\u8bbf\u95ee\u4f53\u7cfb\uff1b</li> <li>Ingress Controller\uff1a\u53ef\u4ee5\u5b9e\u73b0\u4e03\u5c42\u4ee3\u7406\uff0c\u5b98\u65b9\u53ea\u80fd\u5b9e\u73b0\u56db\u5c42\u4ee3\u7406\uff1b</li> <li>Federation\uff1a\u63d0\u4f9b\u4e00\u4e2a\u53ef\u4ee5\u8de8\u96c6\u7fa4\u4e2d\u5fc3\u3001\u591a K8S \u7684\u7edf\u4e00\u7ba1\u7406\u529f\u80fd\uff1b</li> <li>Prometheus\uff1a\u76d1\u63a7 K8S \u96c6\u7fa4</li> <li>ELK\uff1a\u96c6\u7fa4\u65e5\u5fd7\u7edf\u4e00\u5206\u6790\u4ecb\u5165\u5e73\u53f0</li> </ul> </li> </ul>"},{"location":"k8s/0-Hello/#pod","title":"Pod","text":"<p>Pod \u5206\u4e3a\u81ea\u4e3b \u81ea\u4e3b\u5f0f Pod \u548c \u63a7\u5236\u5668\u7ba1\u7406\u7684 Pod\u3002\u81ea\u4e3b\u5f0f Pod \u5982\u679c\u6302\u4e86\u4e0d\u4f1a\u81ea\u5df1\u91cd\u542f\u7b49\u7b49\uff0c\u65e0\u6cd5\u81ea\u7ef4\u62a4\u3002\u63a7\u5236\u5668\u7ba1\u7406\u7684 Pod \u5219\u53ef\u4ee5\u901a\u8fc7\u63a7\u5236\u5668\u5b9e\u73b0\u81ea\u91cd\u542f\u7b49\u529f\u80fd\uff0c\u7ef4\u6301\u96c6\u7fa4\u7684\u9ad8\u53ef\u7528\u3002</p> <p>Pod \u662f K8S \u4e2d\u72ec\u6709\u7684\u6982\u5ff5\uff0c\u5979\u662f K8S \u7ba1\u7406\u7684\u6700\u5c0f\u5355\u4f4d\u3002</p> <p>\u6bcf\u4e00\u4e2a Pod \u90fd\u5305\u542b\u4e00\u4e2a Pause \u7684\u5bb9\u5668\uff0cPod \u5185\u5176\u4ed6\u5bb9\u5668\u90fd\u8fde\u63a5\u5230\u8fd9\u4e2a Pause \u5bb9\u5668\u3002\u7531\u6b64 Pod \u5185\u5176\u4ed6\u5bb9\u5668\u5b9e\u73b0\u4e86\u5171\u4eab\u540c\u4e00\u4e2a\u7f51\u7edc\u73af\u5883\u3001\u5b58\u50a8\u5377\u7b49\u3002</p> <p>\u5373\u5982\u679c Golang \u8981\u8bbf\u95ee NGINX \u7684 8080 \u7aef\u53e3\uff0c\u53ea\u9700\u8981\u8bbf\u95ee localhost:8080 \u5373\u53ef\uff0c\u4e0d\u9700\u8981\u505a\u4ec0\u4e48\u6620\u5c04\u3002</p>"},{"location":"k8s/0-Hello/#_1","title":"\u65e0\u72b6\u6001","text":"<p>\u526f\u672c\u63a7\u5236\u5668\uff08RC\uff0cReplicationController\uff09 \u7528\u4e8e\u786e\u4fdd\u5bb9\u5668\u5e94\u7528\u7684\u526f\u672c\u6570\u59cb\u7ec8\u4fdd\u6301\u5728\u7528\u6237\u5b9a\u4e49\u7684\u526f\u672c\u6570\u3002\u5982\u679c\u6709\u5bb9\u5668\u5f02\u5e38\u9000\u51fa\uff0c\u4f1a\u81ea\u52a8\u521b\u5efa\u65b0\u7684 Pod \u6765\u66ff\u4ee3\uff0c\u800c\u5f02\u5e38\u9000\u51fa\u7684\u5bb9\u5668\u4f1a\u88ab\u56de\u6536\u3002</p> <p>\u526f\u672c\u96c6\u5408\uff08RS\uff0cReplicaSet\uff09 \u8ddf RC \u6ca1\u6709\u672c\u8d28\u4e0d\u540c\uff0c\u800c\u4e14 RS \u8fd8\u652f\u6301\u96c6\u5408\u5f0f\u7684 Selector\u3002\u4f46\u662f RS \u4e0d\u652f\u6301\u6eda\u52a8\u66f4\u65b0\u3002</p> <p>Deployment \u652f\u6301\u6eda\u52a8\u66f4\u65b0\uff0c\u4f46\u4e0d\u8d1f\u8d23 Pod \u521b\u5efa\uff0c\u6240\u4ee5\u4e00\u822c\u4f7f\u7528 Deployment \u7ba1\u7406 RS\uff0c\u8fd9\u6837 RS \u5c31\u80fd\u6eda\u52a8\u66f4\u65b0\u4e86\uff1b\u5373\u5148\u521b\u5efa\u65b0\u7248\u672c\u7684\u5bb9\u5668\uff0c\u7b49\u65b0\u7248\u672c\u521b\u5efa\u6210\u529f\u4e86\uff0c\u628a\u6d41\u91cf\u5207\u8fc7\u6765\u4e86\uff0c\u624d\u628a\u65e7\u7248\u672c\u5220\u9664\uff0c\u8fd9\u6837\u80fd\u4f7f\u5f97\u7528\u6237\u65e0\u611f\u66f4\u65b0\u3002 </p> <p>\u6c34\u5e73\u81ea\u52a8\u6269\u5c55\uff08HPA\uff0cHorizontal Pod Autoscaling\uff09 \u4ec5\u9002\u7528\u4e8e Deployment \u548c RS\uff0c\u652f\u6301\u6839\u636e Pod \u7684 CPU \u5229\u7528\u7387\u3001\u5185\u5b58\u5229\u7528\u7387\u3001\u7528\u6237\u81ea\u5b9a\u4e49\u7684 metric \u81ea\u52a8\u6269\u5bb9\u7f29\u5bb9</p>"},{"location":"k8s/0-Hello/#_2","title":"\u6709\u72b6\u6001","text":"<p>StatefulSet \u662f\u4e3a\u4e86\u89e3\u51b3\u6709\u72b6\u6001\u670d\u52a1\u7684\u95ee\u9898\uff0c\u5176\u5e94\u7528\u573a\u666f\u5305\u62ec\uff1a</p> <pre><code>- \u7a33\u5b9a\u7684\u6301\u4e45\u5316\u5b58\u50a8\uff0c\u5373 Pod \u91cd\u65b0\u8c03\u5ea6\u540e\u8fd8\u662f\u80fd\u8bbf\u95ee\u5230\u76f8\u540c\u7684\u6301\u4e45\u5316\u6570\u636e\uff0c\u57fa\u4e8e PVC \u5b9e\u73b0\n- \u7a33\u5b9a\u7684\u7f51\u7edc\u6807\u5fd7\uff0c\u5373 Pod \u91cd\u65b0\u8c03\u5ea6\u540e\u5176 PodName \u548c HostName \u4e0d\u53d8\uff0c\u57fa\u4e8e Headless Service\uff08\u5373\u6ca1\u6709 Cluster IP \u7684 Service\uff09\u6765\u5b9e\u73b0\n- \u6709\u5e8f\u90e8\u7f72\u3001\u6709\u5e8f\u6269\u5c55\uff0c\u5373 Pod \u662f\u6709\u987a\u5e8f\u7684\uff0c\u5728\u90e8\u7f72\u6216\u8005\u6269\u5c55\u7684\u65f6\u5019\u8981\u4f9d\u636e\u5b9a\u4e49\u7684\u987a\u5e8f\u4f9d\u6b21\u8fdb\u884c\uff0c\u57fa\u4e8e init containers \u6765\u5b9e\u73b0\n- \u6709\u5e8f\u6536\u7f29\u3001\u6709\u5e8f\u5220\u9664\n</code></pre>"},{"location":"k8s/0-Hello/#jobcronjob","title":"\u5b9a\u65f6\u4efb\u52a1 Job\u3001CronJob","text":"<p>Job \u8d1f\u8d23\u6279\u5904\u7406\u4efb\u52a1\uff0c\u5373\u4ec5\u6267\u884c\u4e00\u6b21\u7684\u4efb\u52a1\uff0c\u5979\u4fdd\u8bc1\u6279\u5904\u7406\u4efb\u52a1\u7684\u4e00\u4e2a\u6216\u591a\u4e2a Pod \u6210\u529f\u7ed3\u675f\u3002</p> <p>Cron Job \u7ba1\u7406\u57fa\u4e8e\u65f6\u95f4\u7684 Job\uff0c\u5373 \u5728\u7ed9\u5b9a\u65f6\u95f4\u70b9\u53ea\u8fd0\u884c\u4e00\u6b21\u7684\u4efb\u52a1 \u6216 \u5468\u671f\u6027\u5730\u5728\u7ed9\u5b9a\u65f6\u95f4\u70b9\u8fd0\u884c</p>"}]}